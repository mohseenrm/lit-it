/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/
(function(){var r=["vs/base/common/arrays","require","exports","vs/base/common/paths","vs/base/common/platform","vs/workbench/parts/output/common/outputLinkComputer","vs/base/common/winjs.base","vs/base/common/uri","vs/base/common/strings","vs/editor/common/core/range"],n=function(n){for(var e=[],t=0,i=n.length;t<i;t++)e[t]=r[n[t]];return e};define(r[0],n([1,2]),function(r,n){"use strict";function e(r,n){return void 0===n&&(n=0),r[r.length-(1+n)]}function t(r,n){for(var e=0,t=r.length;e<t;e++)n(r[e],function(){r.splice(e,1),e--,t--})}function i(r,n,e){if(void 0===e&&(e=function(r,n){return r===n}),r.length!==n.length)return!1;for(var t=0,i=r.length;t<i;t++)if(!e(r[t],n[t]))return!1;return!0}function o(r,n,e){for(var t=0,i=r.length-1;t<=i;){var o=(t+i)/2|0,u=e(r[o],n);if(u<0)t=o+1;else{if(!(u>0))return o;i=o-1}}return-(t+1)}function u(r,n){var e=0,t=r.length;if(0===t)return 0;for(;e<t;){var i=Math.floor((e+t)/2);n(r[i])?t=i:e=i+1}return e}function a(r,n,e){if(0===e)return[];for(var t=r.slice(0,e).sort(n),i=function(i,o){var a=r[i];if(n(a,t[e-1])<0){t.pop();var s=u(t,function(r){return n(a,r)<0});t.splice(s,0,a)}},o=e,a=r.length;o<a;o++)i(o,a);return t}function s(r,n){var e=new Array;if(n)for(var t={},i=0;i<r.length;i++)for(var o=0;o<r[i].length;o++){var u=r[i][o],a=n(u);t.hasOwnProperty(a)||(t[a]=!0,e.push(u))}else for(var i=0,s=r.length;i<s;i++)e.push.apply(e,r[i]);return e}function c(r){return r?r.filter(function(r){return!!r}):r}function f(r,n){return r.indexOf(n)>=0}function l(r,n,e){var t=r[n],i=r[e];r[n]=i,r[e]=t}function h(r,n,e){r.splice(e,0,r.splice(n,1)[0])}function v(r){return!Array.isArray(r)||0===r.length}function d(r,n){if(!n)return r.filter(function(n,e){return r.indexOf(n)===e});var e=Object.create(null);return r.filter(function(r){var t=n(r);return!e[t]&&(e[t]=!0,!0)})}function g(r){var n=Object.create(null);return function(e){var t=r(e);return!n[t]&&(n[t]=!0,!0)}}function p(r,n){for(var e=0;e<r.length;e++){var t=r[e];if(n(t))return e}return-1}function m(r,n,e){void 0===e&&(e=null);var t=p(r,n);return t<0?e:r[t]}function x(r,n,e){void 0===e&&(e=function(r,n){return r===n});for(var t=0,i=0,o=Math.min(r.length,n.length);i<o&&e(r[i],n[i]);i++)t++;return t}function C(r){return r.reduce(function(r,n){return r.concat(n)},[])}function A(r,n){void 0===n&&(n=0);for(var e=[],t=n;t<r;t++)e.push(t);return e}function w(r,n,e){void 0===e&&(e=[]);for(var t=0;t<r;t++)e[t]=n();return e}function b(r,n,e){return void 0===e&&(e=function(r){return r}),r.reduce(function(r,t){var i=n(t);return r[i]=e(t,r[i]),r},Object.create(null))}function O(r,n){return r.push(n),function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}}n.tail=e,n.forEach=t,n.equals=i,n.binarySearch=o,n.findFirst=u,n.top=a,n.merge=s,n.coalesce=c,n.contains=f,n.swap=l,n.move=h,n.isFalsyOrEmpty=v,n.distinct=d,n.uniqueFilter=g,n.firstIndex=p,n.first=m,n.commonPrefixLength=x,n.flatten=C,n.range=A,n.fill=w,n.index=b,n.insert=O}),define(r[3],n([1,2,4,0]),function(r,n,e,t){"use strict";function i(r,i){for(var o=c(r),u=c(i),a=e.isLinux?o:o.toLowerCase(),s=e.isLinux?u:u.toLowerCase(),f=a.split(n.sep),l=s.split(n.sep),h=0,v=Math.min(f.length,l.length);h<v&&f[h]===l[h];h++);var d=t.fill(f.length-h,function(){return".."}).concat(u.split(n.sep).slice(h));return d.join(n.sep)}function o(r){var n=~r.lastIndexOf("/")||~r.lastIndexOf("\\");return 0===n?".":0===~n?r[0]:r.substring(0,~n)}function u(r){var n=~r.lastIndexOf("/")||~r.lastIndexOf("\\");return 0===n?r:~n===r.length-1?u(r.substring(0,r.length-1)):r.substr(~n+1)}function a(r){r=u(r);var n=~r.lastIndexOf(".");return n?r.substring(~n):""}function s(r,n){return n?!C.test(r):!x.test(r)}function c(r,n){if(null===r||void 0===r)return r;var t=r.length;if(0===t)return".";var i=e.isWindows&&n;if(s(r,i))return r;for(var o=i?"\\":"/",u=l(r,o),a=u.length,c=!1,h="",v=u.length;v<=t;v++)if(v===t||47===r.charCodeAt(v)||92===r.charCodeAt(v)){if(f(r,a,v,"..")){var d=h.lastIndexOf(o),g=h.slice(d+1);(u||g.length>0)&&".."!==g&&(h=d===-1?"":h.slice(0,d),c=!0)}else f(r,a,v,".")&&(u||h||v<t-1)&&(c=!0);if(!c){var p=r.slice(a,v);""!==h&&h[h.length-1]!==o&&(h+=o),h+=p}a=v+1,c=!1}return u+h}function f(r,n,e,t){return n+t.length===e&&r.indexOf(t,n)===n}function l(r,n){if(void 0===n&&(n="/"),!r)return"";var e=r.length,t=r.charCodeAt(0);if(47===t||92===t){if(t=r.charCodeAt(1),(47===t||92===t)&&(t=r.charCodeAt(2),47!==t&&92!==t)){for(var i=3,o=i;i<e&&(t=r.charCodeAt(i),47!==t&&92!==t);i++);if(t=r.charCodeAt(i+1),o!==i&&47!==t&&92!==t)for(i+=1;i<e;i++)if(t=r.charCodeAt(i),47===t||92===t)return r.slice(0,i+1).replace(/[\\/]/g,n)}return n}if((t>=65&&t<=90||t>=97&&t<=122)&&58===r.charCodeAt(1))return t=r.charCodeAt(2),47===t||92===t?r.slice(0,2)+n:r.slice(0,2);var u=r.indexOf("://");if(u!==-1)for(u+=3;u<e;u++)if(t=r.charCodeAt(u),47===t||92===t)return r.slice(0,u+1);return""}function h(r){if(!e.isWindows)return!1;if(!r||r.length<5)return!1;var n=r.charCodeAt(0);if(92!==n)return!1;if(n=r.charCodeAt(1),92!==n)return!1;for(var t=2,i=t;t<r.length&&(n=r.charCodeAt(t),92!==n);t++);return i!==t&&(n=r.charCodeAt(t+1),!isNaN(n)&&92!==n)}function v(r){return r&&"/"===r[0]}function d(r){return v(c(r))?r:n.sep+r}function g(r,n){if(r===n)return!0;r=c(r),n=c(n);var t=n.length,i=n.charCodeAt(t-1);if(47===i&&(n=n.substring(0,t-1),t-=1),r===n)return!0;if(e.isLinux||(r=r.toLowerCase(),n=n.toLowerCase()),r===n)return!0;if(0!==r.indexOf(n))return!1;var o=r.charCodeAt(t);return 47===o}function p(r){return!(!r||0===r.length||/^\s+$/.test(r))&&(A.lastIndex=0,!A.test(r)&&((!e.isWindows||!w.test(r))&&("."!==r&&".."!==r&&((!e.isWindows||"."!==r[r.length-1])&&(!e.isWindows||r.length===r.trim().length)))))}function m(r){return n.isAbsoluteRegex.test(r)}n.sep="/",n.nativeSep=e.isWindows?"\\":"/",n.relative=i,n.dirname=o,n.basename=u,n.extname=a;var x=/(\/\.\.?\/)|(\/\.\.?)$|^(\.\.?\/)|(\/\/+)|(\\)/,C=/(\\\.\.?\\)|(\\\.\.?)$|^(\.\.?\\)|(\\\\+)|(\/)/;n.normalize=c,n.getRoot=l,n.join=function(){for(var r="",e=0;e<arguments.length;e++){var t=arguments[e];if(e>0){var i=r.charCodeAt(r.length-1);if(47!==i&&92!==i){var o=t.charCodeAt(0);47!==o&&92!==o&&(r+=n.sep)}}r+=t}return c(r)},n.isUNC=h,n.makePosixAbsolute=d,n.isEqualOrParent=g;var A=e.isWindows?/[\\/:\*\?"<>\|]/g:/[\\/]/g,w=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])$/i;n.isValidBasename=p,n.isAbsoluteRegex=/^((\/|[a-zA-Z]:\\)[^\(\)<>\\'\"\[\]]+)/,n.isAbsolute=m}),define(r[5],n([1,2,6,7,3,8,0,9]),function(r,n,e,t,i,o,u,a){"use strict";function s(r,n){return new c(r,n)}var c=function(){function r(n,e){this._ctx=n,this._workspaceResource=t.default.parse(e.workspaceResourceUri),this._patterns=r.createPatterns(this._workspaceResource)}return r.prototype._getModel=function(r){for(var n=this._ctx.getMirrorModels(),e=0;e<n.length;e++){var t=n[e];if(t.uri.toString()===r)return t}return null},r.prototype.computeLinks=function(n){var o=this,u=this._getModel(n);if(u){for(var a=[],s={toResource:function(r){return"string"==typeof r?t.default.file(i.join(o._workspaceResource.fsPath,r)):null}},c=u.getValue().split(/\r\n|\r|\n/),f=0,l=c.length;f<l;f++)a.push.apply(a,r.detectLinks(c[f],f+1,this._patterns,s));return e.TPromise.as(a)}},r.createPatterns=function(r){var n=[],e=u.distinct([i.normalize(r.fsPath,!0),i.normalize(r.fsPath,!1)]);return e.forEach(function(r){n.push(new RegExp(o.escapeRegExpCharacters(r)+"(\\S*) on line ((\\d+)(, column (\\d+))?)","gi")),n.push(new RegExp(o.escapeRegExpCharacters(r)+"(\\S*):line ((\\d+)(, column (\\d+))?)","gi")),n.push(new RegExp(o.escapeRegExpCharacters(r)+"([^\\s\\(\\)]*)(\\s?\\((\\d+)(,(\\d+))?)\\)","gi")),n.push(new RegExp(o.escapeRegExpCharacters(r)+"([^:\\s\\(\\)<>'\"\\[\\]]*)(:(\\d+))?(:(\\d+))?","gi"))}),n},r.detectLinks=function(r,n,e,t){var i=[];return e.forEach(function(e){e.lastIndex=0;for(var u,s=0;null!==(u=e.exec(r));){var c=o.rtrim(u[1],".").replace(/\\/g,"/"),f=void 0;try{f=t.toResource(c).toString()}catch(r){continue}if(u[3]){var l=u[3];if(u[5]){var h=u[5];f=o.format("{0}#{1},{2}",f,l,h)}else f=o.format("{0}#{1}",f,l)}var v=o.rtrim(u[0],"."),d=r.indexOf(v,s);s+=d+v.length;var g={startColumn:d+1,startLineNumber:n,endColumn:d+1+v.length,endLineNumber:n};if(i.some(function(r){return a.Range.areIntersectingOrTouching(r.range,g)}))return;i.push({range:g,url:f})}}),i},r}();n.OutputLinkComputer=c,n.create=s})}).call(this);
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/ee428b0eead68bf0fb99ab5fdc4439be227b6281/core/vs/workbench/parts/output/common/outputLinkComputer.js.map
