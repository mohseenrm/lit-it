/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
"use strict";function stripComments(e){var a=/("(?:[^\\\"]*(?:\\.)?)*")|('(?:[^\\\']*(?:\\.)?)*')|(\/\*(?:\r?\n|.)*?\*\/)|(\/{2,}.*?(?:(?:\r?\n)|$))/g,r=e.replace(a,function(e,a,r,n,t){if(n)return"";if(t){var s=t.length;return s>2&&"\n"===t[s-1]?"\r"===t[s-2]?"\r\n":"\n":""}return e});return r}function getNLSConfiguration(){function e(e){for(;e;){var a=path.join(__dirname,"vs","code","electron-main","main.nls.")+e+".js";if(fs.existsSync(a))return{locale:i,availableLanguages:{"*":e}};var r=e.lastIndexOf("-");e=r>0?e.substring(0,r):null}return null}var a=args.locale;if(!a){var r=app.getPath("userData"),n=path.join(r,"User","locale.json");if(fs.existsSync(n))try{var t=stripComments(fs.readFileSync(n,"utf8")),s=JSON.parse(t).locale;s&&"string"==typeof s&&(a=s)}catch(e){}}var o=app.getLocale();if(a=a||o,a=a?a.toLowerCase():a,"pseudo"===a)return{locale:a,availableLanguages:{},pseudo:!0};var i=a;if(process.env.VSCODE_DEV)return{locale:a,availableLanguages:{}};if(a&&("en"==a||a.startsWith("en-")))return{locale:a,availableLanguages:{}};var l=e(a);return!l&&o&&o!==a&&(l=e(o)),l?l:{locale:i,availableLanguages:{}}}global.perfStartTime=Date.now();var app=require("electron").app,fs=require("fs"),path=require("path"),minimist=require("minimist"),paths=require("./paths"),args=minimist(process.argv,{string:["user-data-dir","locale"]}),userData=path.resolve(args["user-data-dir"]||paths.getDefaultUserDataPath(process.platform));app.setPath("userData",userData);try{"win32"===process.platform?(process.env.VSCODE_CWD=process.cwd(),process.chdir(path.dirname(app.getPath("exe")))):process.env.VSCODE_CWD&&process.chdir(process.env.VSCODE_CWD)}catch(e){console.error(e)}global.macOpenFiles=[],app.on("open-file",function(e,a){global.macOpenFiles.push(a)});var openUrls=[],onOpenUrl=function(e,a){e.preventDefault(),openUrls.push(a)};app.on("will-finish-launching",function(){app.on("open-url",onOpenUrl)}),global.getOpenUrls=function(){return app.removeListener("open-url",onOpenUrl),openUrls},app.once("ready",function(){var e=getNLSConfiguration();process.env.VSCODE_NLS_CONFIG=JSON.stringify(e),require("./bootstrap-amd").bootstrap("vs/code/electron-main/main")});
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/ee428b0eead68bf0fb99ab5fdc4439be227b6281/core/main.js.map
