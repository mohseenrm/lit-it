/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/
(function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||u.defaults,this.rules=p.normal,this.options.gfm&&(this.options.tables?this.rules=p.tables:this.rules=p.gfm)}function t(e,t){if(this.options=t||u.defaults,this.links=e,this.rules=f.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=f.breaks:this.rules=f.gfm:this.options.pedantic&&(this.rules=f.pedantic)}function n(e){this.options=e||{}}function i(e){this.tokens=[],this.token=null,this.options=e||u.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function r(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function o(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function s(e,t){return e=e.source,t=t||"",function n(i,r){return i?(r=r.source||r,r=r.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(i,r),n):new RegExp(e,t)}}function a(){}function c(e){for(var t,n,i=1;i<arguments.length;i++){t=arguments[i];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function u(t,n,o){if(o||"function"==typeof n){o||(o=n,n=null),n=c({},u.defaults,n||{});var s,a,l=n.highlight,h=0;try{s=e.lex(t,n)}catch(e){return o(e)}a=s.length;var d=function(e){if(e)return n.highlight=l,o(e);var t;try{t=i.parse(s,n)}catch(t){e=t}return n.highlight=l,e?o(e):o(null,t)};if(!l||l.length<3)return d();if(delete n.highlight,!a)return d();for(;h<s.length;h++)!function(e){return"code"!==e.type?--a||d():l(e.text,e.lang,function(t,n){return t?d(t):null==n||n===e.text?--a||d():(e.text=n,e.escaped=!0,void(--a||d()))})}(s[h])}else try{return n&&(n=c({},u.defaults,n)),i.parse(e.lex(t,n),n)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(n||u.defaults).silent)return"<p>An error occured:</p><pre>"+r(e.message+"",!0)+"</pre>";throw e}}var l=["exports","require","vs/base/common/winjs.base","vs/nls!vs/workbench/electron-browser/workbench.main","vs/nls","vs/base/common/lifecycle","vs/platform/instantiation/common/instantiation","vs/base/common/errors","vs/base/browser/dom","vs/css!vs/workbench/electron-browser/workbench.main","vs/editor/common/editorCommon","vs/base/common/event","vs/base/common/strings","vs/base/common/platform","vs/platform/platform","vs/editor/common/core/range","vs/base/common/uri","vs/base/common/async","vs/platform/message/common/message","vs/platform/telemetry/common/telemetry","vs/base/common/paths","vs/base/common/types","vs/workbench/services/editor/common/editorService","vs/platform/contextkey/common/contextkey","vs/base/common/actions","vs/platform/configuration/common/configuration","vs/platform/workspace/common/workspace","vs/editor/common/editorCommonExtensions","vs/workbench/common/editor","vs/base/browser/builder","vs/base/common/objects","vs/platform/actions/common/actions","vs/base/common/severity","vs/platform/files/common/files","vs/platform/commands/common/commands","vs/base/common/arrays","vs/platform/keybinding/common/keybinding","vs/workbench/common/actionRegistry","vs/platform/storage/common/storage","vs/platform/contextview/browser/contextView","vs/editor/common/services/modelService","vs/workbench/services/group/common/groupService","vs/base/common/eventEmitter","vs/base/browser/ui/actionbar/actionbar","vs/editor/common/core/position","vs/workbench/services/part/common/partService","vs/editor/common/core/selection","vs/platform/event/common/event","vs/base/browser/browser","vs/editor/common/modes","vs/workbench/services/quickopen/common/quickOpenService","vs/platform/environment/common/environment","vs/base/common/keyCodes","vs/workbench/services/viewlet/browser/viewlet","vs/editor/common/services/modeService","vs/workbench/services/textfile/common/textfiles","vs/workbench/services/untitled/common/untitledEditorService","vs/workbench/parts/git/common/git","vs/editor/browser/editorBrowserExtensions","vs/editor/browser/editorBrowser","vs/workbench/api/node/extHost.protocol","vs/platform/product","vs/editor/common/services/codeEditorService","vs/platform/windows/common/windows","vs/workbench/browser/quickopen","vs/workbench/browser/viewlet","vs/platform/editor/common/editor","vs/base/browser/styleMutator","vs/workbench/browser/actionBarRegistry","vs/platform/lifecycle/common/lifecycle","path","vs/workbench/common/contributions","vs/workbench/browser/parts/editor/baseEditor","vs/editor/common/services/resolverService","vs/base/node/pfs","vs/platform/extensions/common/extensions","vs/workbench/services/panel/common/panelService","vs/platform/configuration/common/configurationRegistry","vs/base/browser/keyboardEvent","vs/base/browser/mouseEvent","vs/workbench/services/themes/common/themeService","vs/base/common/labels","vs/workbench/parts/debug/common/debug","electron","vs/platform/keybinding/common/keybindingsRegistry","vs/base/parts/tree/browser/treeDefaults","vs/workbench/parts/output/common/output","vs/platform/instantiation/common/descriptors","vs/platform/extensionManagement/common/extensionManagement","vs/workbench/browser/panel","vs/workbench/services/thread/common/threadService","vs/workbench/parts/emmet/node/emmetActions","vs/workbench/parts/files/common/files","vs/base/parts/quickopen/browser/quickOpenModel","vs/base/browser/ui/widget","vs/base/common/uuid","vs/base/common/json","vs/base/common/errorMessage","vs/base/common/mime","vs/base/parts/quickopen/common/quickOpen","vs/base/common/filters","vs/base/browser/ui/inputbox/inputBox","vs/platform/instantiation/common/extensions","vs/base/common/map","vs/platform/extensions/common/extensionsRegistry","vs/editor/common/modes/languageConfigurationRegistry","vs/workbench/parts/extensions/common/extensions","os","vs/base/common/collections","vs/base/common/events","vs/base/parts/ipc/common/ipc","vs/base/parts/tree/browser/treeImpl","vs/base/common/scrollable","vs/platform/instantiation/common/serviceCollection","vs/workbench/services/configuration/common/configurationEditing","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/workbench/parts/debug/browser/debugActions","fs","vs/editor/common/core/editOperation","vs/base/common/assert","vs/base/common/network","child_process","vs/workbench/services/window/electron-browser/windowService","vs/platform/progress/common/progress","vs/base/browser/ui/scrollbar/scrollableElement","vs/workbench/services/backup/common/backup","vs/workbench/common/editor/diffEditorInput","vs/editor/common/config/defaultConfig","vs/platform/markers/common/markers","vs/base/common/timer","vs/base/browser/event","vs/platform/opener/common/opener","vs/platform/package","vs/editor/common/modes/modesRegistry","vs/workbench/services/configuration/common/configuration","vs/editor/browser/view/viewPart","vs/workbench/parts/terminal/common/terminal","vs/editor/common/controller/cursorCommon","vs/workbench/browser/labels","vs/editor/common/config/commonEditorConfig","vs/workbench/parts/files/browser/fileActions","vs/base/browser/ui/sash/sash","vs/base/common/glob","vs/base/browser/touch","vs/platform/search/common/search","vs/workbench/common/editor/untitledEditorInput","vs/workbench/common/memento","vs/editor/common/viewModel/viewEventHandler","vs/base/browser/ui/aria/aria","vs/base/browser/ui/splitview/splitview","vs/editor/browser/view/dynamicViewOverlay","vs/workbench/parts/debug/common/debugModel","vs/base/common/keybinding","vs/editor/common/core/modeTransition","vs/workbench/parts/tasks/common/taskSystem","vs/workbench/parts/preferences/common/preferences","vs/base/common/set","vs/editor/common/core/viewLineToken","vs/workbench/common/editor/resourceEditorInput","vs/editor/common/services/editorWorkerService","vs/editor/contrib/snippet/common/snippetController","vs/workbench/common/editor/textEditorModel","vs/workbench/parts/extensions/browser/extensionsActions","vs/base/browser/htmlContentRenderer","vs/editor/common/commands/replaceCommand","vs/workbench/services/activity/common/activityBarService","vs/editor/common/model/textModel","vs/workbench/electron-browser/actions","vs/editor/browser/config/configuration","vs/workbench/parts/markers/common/constants","vs/editor/common/core/token","vs/base/node/encoding","vs/platform/theme/common/themes","vs/editor/browser/codeEditor","vs/base/parts/tree/browser/tree","vs/workbench/browser/parts/statusbar/statusbar","vs/base/browser/dnd","vs/base/node/processes","vs/workbench/common/editor/stringEditorInput","vs/workbench/browser/part","vs/editor/contrib/snippet/common/snippet","vs/workbench/parts/files/common/explorerViewModel","crypto","vs/workbench/parts/markers/common/messages","vs/workbench/parts/search/common/constants","vs/editor/common/modes/supports","vs/workbench/services/history/common/history","vs/editor/common/modes/languageConfiguration","vs/base/common/iterator","vs/base/common/idGenerator","vs/workbench/browser/parts/editor/editorActions","vs/workbench/parts/git/browser/gitActions","vs/workbench/parts/files/common/editors/fileEditorInput","vs/workbench/browser/parts/editor/textEditor","vs/workbench/parts/git/common/gitModel","vs/editor/common/modes/snippetsRegistry","vs/platform/integrity/common/integrity","vs/workbench/parts/html/browser/webview","vs/editor/contrib/zoneWidget/browser/peekViewWidget","vs/platform/request/node/request","vs/workbench/parts/markers/common/markersModel","vs/platform/statusbar/common/statusbar","vs/workbench/parts/search/common/replace","vs/editor/common/viewModel/prefixSumComputer","vs/editor/common/modes/supports/richEditBrackets","vs/workbench/services/configurationResolver/common/configurationResolver","vs/base/parts/tree/browser/treeDnd","vs/workbench/parts/git/browser/gitEditorInputs","vs/workbench/parts/search/common/searchModel","vs/base/common/scorer","vs/workbench/common/editor/binaryEditorModel","vs/base/parts/ipc/node/ipc.cp","vs/editor/common/model/wordHelper","vs/base/common/marshalling","vs/base/browser/ui/button/button","vs/editor/contrib/find/common/findController","vs/editor/contrib/suggest/common/suggest","vs/editor/common/model/modelLine","vs/base/browser/ui/countBadge/countBadge","vs/workbench/parts/explorers/common/treeExplorerService","vs/workbench/parts/search/browser/searchActions","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/editor/common/core/arrays","vs/base/common/stopwatch","vs/editor/contrib/toggleTabFocusMode/common/toggleTabFocusMode","vs/base/common/comparers","vs/platform/keybinding/common/keybindingResolver","vs/editor/common/controller/cursorMoveOperations","vs/editor/browser/widget/codeEditorWidget","net","vs/base/node/stream","vs/platform/update/common/update","vs/editor/contrib/referenceSearch/browser/referencesModel","semver","vs/editor/common/services/bulkEdit","vs/editor/common/viewModel/viewModel","vs/workbench/parts/tasks/common/taskService","vs/base/common/parsers","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/common/view/renderingContext","vs/editor/common/modes/textToHtmlTokenizer","vs/platform/actions/browser/menuItemActionItem","vs/base/parts/tree/browser/actionsRenderer","vs/base/common/cancellation","vs/editor/contrib/find/common/findModel","vs/base/node/mime","vs/workbench/services/files/node/watcher/common","vs/base/node/event","vs/base/browser/globalMouseMoveMonitor","vs/base/common/marked/marked","vs/base/node/extfs","vs/editor/common/services/modeServiceImpl","vs/workbench/parts/debug/electron-browser/debugViewer","vs/workbench/parts/markers/browser/markersPanelActions","vs/workbench/parts/terminal/electron-browser/terminalActions","vs/base/common/processes","vs/workbench/common/component","vs/base/browser/ui/toolbar/toolbar","vs/workbench/browser/parts/editor/titleControl","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/workbench/parts/quickopen/browser/commandsHandler","vs/workbench/services/scm/common/scm","vs/base/common/htmlContent","vs/base/browser/ui/findinput/findInput","vs/base/browser/ui/progressbar/progressbar","vs/workbench/services/textfile/common/textFileEditorModel","vs/editor/common/model/tokensBinaryEncoding","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/base/common/diff/diff","vs/base/node/request","vs/workbench/services/title/common/titleService","vs/workbench/parts/execution/common/execution","vs/workbench/parts/preferences/browser/preferencesEditor","vs/workbench/parts/preferences/browser/preferencesActions","vs/workbench/services/editor/browser/editorService","vs/workbench/browser/parts/editor/textDiffEditor","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/core/characterClassifier","vs/editor/contrib/suggest/browser/suggestController","vs/workbench/parts/git/browser/gitWorkbenchContributions","vs/workbench/parts/extensions/common/extensionsInput","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/selectBox/selectBox","vs/workbench/electron-browser/workbench","vs/base/browser/ui/octiconLabel/octiconLabel","vs/workbench/browser/composite","vs/editor/common/core/lineParts","vs/editor/common/model/indentationGuesser","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/workbench/browser/parts/editor/binaryDiffEditor","vs/workbench/browser/parts/editor/binaryEditor","vs/workbench/browser/parts/editor/sideBySideEditor","vs/workbench/common/resourceContextKey","vs/workbench/parts/debug/browser/debugEditorInputs","vs/workbench/parts/debug/browser/debugViewRegistry","vs/base/browser/ui/resourceviewer/resourceViewer","vs/workbench/parts/debug/browser/debugActionItems","vs/workbench/parts/debug/common/debugSource","vs/platform/backup/common/backup","vs/workbench/parts/debug/common/debugViewModel","vs/workbench/parts/debug/electron-browser/electronDebugActions","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/workbench/parts/execution/electron-browser/terminal","vs/workbench/parts/explorers/common/treeExplorer","vs/editor/contrib/multicursor/browser/menuPreventer","vs/workbench/parts/explorers/browser/views/treeExplorerViewer","vs/workbench/parts/extensions/common/extensionQuery","vs/editor/contrib/selectionClipboard/electron-browser/selectionClipboard","vs/workbench/parts/extensions/browser/extensionsWidgets","vs/workbench/parts/extensions/common/extensionsFileTemplate","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/base/node/stdFork","url","vs/editor/node/textMate/TMSnippets","vs/editor/common/editorAction","vs/workbench/parts/git/node/git.lib","vs/css!vs/base/browser/ui/list/list","vs/workbench/parts/html/common/htmlInput","vs/editor/common/controller/textAreaState","vs/platform/configuration/common/model","vs/base/common/jsonFormatter","vs/base/common/history","vs/workbench/parts/preferences/browser/preferencesWidgets","vs/editor/common/config/config","vs/workbench/parts/preferences/common/preferencesModels","vs/base/node/config","vs/editor/common/modes/abstractState","vs/workbench/parts/search/common/search","vs/workbench/parts/search/common/searchQuery","vs/editor/common/controller/cursorDeleteOperations","vs/platform/search/common/replace","vs/editor/common/controller/cursorWordOperations","vs/workbench/parts/update/electron-browser/releaseNotesInput","vs/editor/common/controller/oneCursor","vs/editor/common/model/textModelWithTokens","vs/editor/common/model/model","vs/editor/common/viewLayout/viewLineParts","vs/editor/common/services/editorWorkerServiceImpl","vs/editor/contrib/contextmenu/browser/contextmenu","vs/workbench/common/editor/rangeDecorations","vs/editor/browser/viewParts/overviewRuler/overviewRulerImpl","vs/editor/contrib/find/browser/find","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/format/common/format","vs/workbench/parts/files/electron-browser/electronFileActions","vs/editor/contrib/linesOperations/common/linesOperations","vs/base/common/diagnostics","vs/workbench/parts/output/browser/outputEditorInput","vs/editor/contrib/parameterHints/common/parameterHints","vs/editor/common/viewModel/splitLinesCollection","vs/workbench/browser/actions/toggleActivityBarVisibility","vs/workbench/browser/actions/toggleEditorLayout","vs/editor/contrib/suggest/browser/tabCompletion","vs/editor/contrib/comment/common/blockCommentCommand","vs/editor/contrib/diffNavigator/common/diffNavigator","vs/workbench/parts/markers/browser/markersPanel","vs/workbench/parts/output/browser/outputActions","vs/editor/contrib/format/common/formatCommand","vs/platform/telemetry/common/telemetryIpc","vs/platform/telemetry/common/telemetryService","vs/editor/browser/view/viewLayer","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/hover/browser/hoverWidgets","vs/workbench/parts/indentation/common/indentation","vs/editor/browser/widget/diffEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/base/node/id","vs/workbench/browser/parts/quickopen/quickOpenController","vs/workbench/browser/parts/quickopen/quickopen.contribution","vs/editor/browser/editorDom","vs/platform/url/common/url","vs/base/browser/ui/leftRightWidget/leftRightWidget","vs/base/node/flow","vs/editor/contrib/referenceSearch/browser/referencesController","vs/editor/common/modes/nullMode","vs/base/common/decorators","vs/workbench/api/node/mainThreadExtensionService","vs/workbench/api/node/mainThreadHeapService","vs/base/node/decoder","vs/platform/extensionManagement/common/extensionTelemetry","vs/platform/extensions/node/extensionValidator","vs/workbench/browser/parts/editor/stringEditor","vs/base/browser/ui/list/listWidget","vs/base/common/worker/simpleWorker","vs/workbench/common/editor/diffEditorModel","vs/workbench/common/editor/editorStacksModel","vs/workbench/common/editor/textDiffEditorModel","vs/workbench/browser/parts/activitybar/activitybarActions","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/browser/ui/contextview/contextview","vs/base/common/paging","vs/workbench/parts/files/browser/saveErrorHandler","vs/workbench/parts/files/browser/views/explorerViewer","vs/workbench/common/editor/resourceEditorModel","vs/base/browser/ui/checkbox/checkbox","vs/workbench/parts/search/browser/searchWidget","vs/workbench/parts/themes/electron-browser/themes.contribution","vs/workbench/services/progress/browser/progressService","vs/workbench/browser/parts/compositePart","vs/workbench/common/editor/stringEditorModel","vs/platform/markers/common/problemMatcher","vs/workbench/electron-browser/extensionHost","vs/workbench/parts/extensions/electron-browser/extensionsActions","vs/workbench/parts/extensions/electron-browser/extensionsViewlet","vs/base/browser/ui/dropdown/dropdown","vs/editor/node/textMate/TMSyntax","vs/base/browser/iframe","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/hover/browser/hover","vs/nls!vs/editor/contrib/hover/browser/modesContentHover","vs/nls!vs/editor/contrib/inPlaceReplace/common/inPlaceReplace","vs/nls!vs/editor/contrib/linesOperations/common/linesOperations","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/multicursor/common/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/quickFix/browser/quickFix","vs/nls!vs/editor/contrib/referenceSearch/browser/referenceSearch","vs/nls!vs/editor/contrib/referenceSearch/browser/referencesController","vs/nls!vs/editor/contrib/referenceSearch/browser/referencesWidget","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/rename/browser/renameInputField","vs/editor/contrib/rename/browser/renameInputField","vs/nls!vs/editor/contrib/rename/common/rename","vs/nls!vs/editor/contrib/smartSelect/common/jumpToBracket","vs/nls!vs/editor/contrib/smartSelect/common/smartSelect","vs/nls!vs/editor/contrib/suggest/browser/suggestController","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/suggest/electron-browser/snippetCompletion","vs/nls!vs/editor/contrib/toggleTabFocusMode/common/toggleTabFocusMode","vs/nls!vs/editor/contrib/toggleWordWrap/common/toggleWordWrap","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/nls!vs/editor/node/languageConfigurationExtensionPoint","vs/nls!vs/editor/node/textMate/TMSnippets","vs/nls!vs/editor/node/textMate/TMSyntax","vs/nls!vs/platform/actions/browser/menuItemActionItem","vs/nls!vs/platform/actions/browser/menusExtensionPoint","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/extensionManagement/common/extensionEnablementService","vs/nls!vs/platform/extensionManagement/common/extensionManagement","vs/nls!vs/platform/extensionManagement/node/extensionGalleryService","vs/nls!vs/platform/extensions/common/abstractExtensionService","vs/nls!vs/platform/extensions/common/extensionsRegistry","vs/nls!vs/platform/extensions/node/extensionValidator","vs/nls!vs/platform/integrity/node/integrityServiceImpl","vs/nls!vs/platform/jsonschemas/common/jsonValidationExtensionPoint","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/markers/common/problemMatcher","vs/nls!vs/platform/message/common/message","vs/nls!vs/platform/request/node/request","vs/nls!vs/platform/telemetry/common/telemetryService","vs/nls!vs/workbench/api/node/mainThreadExtensionService","vs/nls!vs/workbench/api/node/mainThreadMessageService","vs/nls!vs/workbench/browser/actions/configureLocale","vs/nls!vs/workbench/browser/actions/toggleActivityBarVisibility","vs/nls!vs/workbench/browser/actions/toggleEditorLayout","vs/nls!vs/workbench/browser/actions/toggleSidebarPosition","vs/nls!vs/workbench/browser/actions/toggleSidebarVisibility","vs/nls!vs/workbench/browser/actions/toggleStatusbarVisibility","vs/nls!vs/workbench/browser/actions/toggleZenMode","vs/nls!vs/workbench/browser/parts/activitybar/activitybarActions","vs/nls!vs/workbench/browser/parts/activitybar/activitybarPart","vs/nls!vs/workbench/browser/parts/compositePart","vs/nls!vs/workbench/browser/parts/editor/binaryDiffEditor","vs/nls!vs/workbench/browser/parts/editor/binaryEditor","vs/nls!vs/workbench/browser/parts/editor/editor.contribution","vs/nls!vs/workbench/browser/parts/editor/editorActions","vs/nls!vs/workbench/browser/parts/editor/editorCommands","vs/nls!vs/workbench/browser/parts/editor/editorPart","vs/nls!vs/workbench/browser/parts/editor/editorPicker","vs/nls!vs/workbench/browser/parts/editor/editorStatus","vs/nls!vs/workbench/browser/parts/editor/stringEditor","vs/nls!vs/workbench/browser/parts/editor/tabsTitleControl","vs/nls!vs/workbench/browser/parts/editor/textDiffEditor","vs/nls!vs/workbench/browser/parts/editor/titleControl","vs/nls!vs/workbench/browser/parts/panel/panelPart","vs/nls!vs/workbench/browser/parts/quickopen/quickOpenController","vs/nls!vs/workbench/browser/parts/quickopen/quickopen.contribution","vs/nls!vs/workbench/browser/parts/sidebar/sidebarPart","vs/nls!vs/workbench/browser/parts/statusbar/statusbarPart","vs/nls!vs/workbench/browser/quickopen","vs/nls!vs/workbench/browser/viewlet","vs/nls!vs/workbench/common/editor/diffEditorInput","vs/nls!vs/workbench/electron-browser/actions","vs/nls!vs/workbench/electron-browser/crashReporter","vs/nls!vs/workbench/electron-browser/extensionHost","vs/nls!vs/workbench/electron-browser/integration","vs/nls!vs/workbench/electron-browser/main","vs/nls!vs/workbench/electron-browser/main.contribution","vs/nls!vs/workbench/electron-browser/shell","vs/nls!vs/workbench/node/extensionPoints","vs/nls!vs/workbench/parts/cli/electron-browser/cli.contribution","vs/nls!vs/workbench/parts/debug/browser/breakpointWidget","vs/nls!vs/workbench/parts/debug/browser/debugActions","vs/nls!vs/workbench/parts/debug/browser/debugEditorActions","vs/nls!vs/workbench/parts/debug/browser/debugEditorModelManager","vs/nls!vs/workbench/parts/debug/browser/debugViewlet","vs/nls!vs/workbench/parts/debug/common/debug","vs/nls!vs/workbench/parts/debug/common/debugModel","vs/nls!vs/workbench/parts/debug/electron-browser/debug.contribution","vs/nls!vs/workbench/parts/debug/electron-browser/debugEditorContribution","vs/nls!vs/workbench/parts/debug/electron-browser/debugHover","vs/nls!vs/workbench/parts/debug/electron-browser/debugService","vs/nls!vs/workbench/parts/debug/electron-browser/debugViewer","vs/nls!vs/workbench/parts/debug/electron-browser/debugViews","vs/nls!vs/workbench/parts/debug/electron-browser/electronDebugActions","vs/nls!vs/workbench/parts/debug/electron-browser/rawDebugSession","vs/nls!vs/workbench/parts/debug/electron-browser/repl","vs/nls!vs/workbench/parts/debug/electron-browser/replViewer","vs/nls!vs/workbench/parts/debug/electron-browser/terminalSupport","vs/nls!vs/workbench/parts/debug/node/debugAdapter","vs/nls!vs/workbench/parts/debug/node/debugConfigurationManager","vs/nls!vs/workbench/parts/emmet/browser/actions/showEmmetCommands","vs/nls!vs/workbench/parts/emmet/node/actions/balance","vs/nls!vs/workbench/parts/emmet/node/actions/editPoints","vs/nls!vs/workbench/parts/emmet/node/actions/evaluateMath","vs/nls!vs/workbench/parts/emmet/node/actions/expandAbbreviation","vs/nls!vs/workbench/parts/emmet/node/actions/incrementDecrement","vs/nls!vs/workbench/parts/emmet/node/actions/matchingPair","vs/nls!vs/workbench/parts/emmet/node/actions/mergeLines","vs/nls!vs/workbench/parts/emmet/node/actions/reflectCssValue","vs/nls!vs/workbench/parts/emmet/node/actions/removeTag","vs/nls!vs/workbench/parts/emmet/node/actions/selectItem","vs/nls!vs/workbench/parts/emmet/node/actions/splitJoinTag","vs/nls!vs/workbench/parts/emmet/node/actions/toggleComment","vs/nls!vs/workbench/parts/emmet/node/actions/updateImageSize","vs/nls!vs/workbench/parts/emmet/node/actions/updateTag","vs/nls!vs/workbench/parts/emmet/node/actions/wrapWithAbbreviation","vs/nls!vs/workbench/parts/emmet/node/emmet.contribution","vs/nls!vs/workbench/parts/execution/electron-browser/terminal.contribution","vs/nls!vs/workbench/parts/execution/electron-browser/terminalService","vs/nls!vs/workbench/parts/explorers/browser/treeExplorer.contribution","vs/nls!vs/workbench/parts/explorers/browser/treeExplorerActions","vs/nls!vs/workbench/parts/explorers/browser/treeExplorerService","vs/nls!vs/workbench/parts/explorers/browser/views/treeExplorerView","vs/nls!vs/workbench/parts/extensions/browser/dependenciesViewer","vs/nls!vs/workbench/parts/extensions/browser/extensionEditor","vs/nls!vs/workbench/parts/extensions/browser/extensionTipsService","vs/nls!vs/workbench/parts/extensions/browser/extensionsActions","vs/nls!vs/workbench/parts/extensions/browser/extensionsQuickOpen","vs/nls!vs/workbench/parts/extensions/common/extensionsFileTemplate","vs/nls!vs/workbench/parts/extensions/common/extensionsInput","vs/nls!vs/workbench/parts/extensions/electron-browser/extensions.contribution","vs/nls!vs/workbench/parts/extensions/electron-browser/extensionsActions","vs/nls!vs/workbench/parts/extensions/electron-browser/extensionsViewlet","vs/nls!vs/workbench/parts/extensions/node/extensionsWorkbenchService","vs/nls!vs/workbench/parts/feedback/browser/feedback","vs/nls!vs/workbench/parts/files/browser/editors/binaryFileEditor","vs/nls!vs/workbench/parts/files/browser/editors/textFileEditor","vs/nls!vs/workbench/parts/files/browser/fileActions","vs/nls!vs/workbench/parts/files/browser/fileActions.contribution","vs/nls!vs/workbench/parts/files/browser/files.contribution","vs/nls!vs/workbench/parts/files/browser/saveErrorHandler","vs/nls!vs/workbench/parts/files/browser/views/emptyView","vs/nls!vs/workbench/parts/files/browser/views/explorerView","vs/nls!vs/workbench/parts/files/browser/views/explorerViewer","vs/nls!vs/workbench/parts/files/browser/views/openEditorsView","vs/nls!vs/workbench/parts/files/browser/views/openEditorsViewer","vs/nls!vs/workbench/parts/files/electron-browser/dirtyFilesTracker","vs/nls!vs/workbench/parts/files/electron-browser/electronFileActions","vs/nls!vs/workbench/parts/files/electron-browser/files.electron.contribution","vs/nls!vs/workbench/parts/git/browser/gitActions","vs/nls!vs/workbench/parts/git/browser/gitActions.contribution","vs/nls!vs/workbench/parts/git/browser/gitQuickOpen","vs/nls!vs/workbench/parts/git/browser/gitServices","vs/nls!vs/workbench/parts/git/browser/gitWidgets","vs/nls!vs/workbench/parts/git/browser/gitWorkbenchContributions","vs/nls!vs/workbench/parts/git/browser/views/changes/changesView","vs/nls!vs/workbench/parts/git/browser/views/changes/changesViewer","vs/nls!vs/workbench/parts/git/browser/views/disabled/disabledView","vs/nls!vs/workbench/parts/git/browser/views/empty/emptyView","vs/nls!vs/workbench/parts/git/browser/views/gitless/gitlessView","vs/nls!vs/workbench/parts/git/browser/views/huge/hugeView","vs/nls!vs/workbench/parts/git/browser/views/notroot/notrootView","vs/nls!vs/workbench/parts/git/browser/views/noworkspace/noworkspaceView","vs/nls!vs/workbench/parts/git/electron-browser/git.contribution","vs/nls!vs/workbench/parts/git/electron-browser/gitActions","vs/nls!vs/workbench/parts/git/node/git.lib","vs/nls!vs/workbench/parts/html/browser/html.contribution","vs/nls!vs/workbench/parts/html/browser/htmlPreviewPart","vs/nls!vs/workbench/parts/html/browser/webview","vs/nls!vs/workbench/parts/indentation/common/indentation","vs/nls!vs/workbench/parts/markers/browser/markersWorkbenchContributions","vs/nls!vs/workbench/parts/markers/common/messages","vs/nls!vs/workbench/parts/markers/electron-browser/markersElectronContributions","vs/nls!vs/workbench/parts/nps/browser/nps.contribution","vs/nls!vs/workbench/parts/output/browser/output.contribution","vs/nls!vs/workbench/parts/output/browser/outputActions","vs/nls!vs/workbench/parts/output/browser/outputEditorInput","vs/nls!vs/workbench/parts/output/browser/outputPanel","vs/nls!vs/workbench/parts/preferences/browser/preferences.contribution","vs/nls!vs/workbench/parts/preferences/browser/preferencesActions","vs/nls!vs/workbench/parts/preferences/browser/preferencesEditor","vs/nls!vs/workbench/parts/preferences/browser/preferencesService","vs/nls!vs/workbench/parts/preferences/browser/preferencesWidgets","vs/nls!vs/workbench/parts/preferences/common/preferencesModels","vs/nls!vs/workbench/parts/quickopen/browser/commandsHandler","vs/nls!vs/workbench/parts/quickopen/browser/gotoLineHandler","vs/nls!vs/workbench/parts/quickopen/browser/gotoSymbolHandler","vs/nls!vs/workbench/parts/quickopen/browser/helpHandler","vs/nls!vs/workbench/parts/quickopen/browser/quickopen.contribution","vs/nls!vs/workbench/parts/search/browser/openAnythingHandler","vs/nls!vs/workbench/parts/search/browser/openFileHandler","vs/nls!vs/workbench/parts/search/browser/openSymbolHandler","vs/nls!vs/workbench/parts/search/browser/patternInputWidget","vs/nls!vs/workbench/parts/search/browser/replaceService","vs/nls!vs/workbench/parts/search/browser/search.contribution","vs/nls!vs/workbench/parts/search/browser/searchActions","vs/nls!vs/workbench/parts/search/browser/searchResultsView","vs/nls!vs/workbench/parts/search/browser/searchViewlet","vs/nls!vs/workbench/parts/search/browser/searchWidget","vs/nls!vs/workbench/parts/snippets/electron-browser/snippets.contribution","vs/nls!vs/workbench/parts/snippets/electron-browser/snippetsTracker","vs/nls!vs/workbench/parts/tasks/browser/taskQuickOpen","vs/nls!vs/workbench/parts/tasks/common/taskTemplates","vs/nls!vs/workbench/parts/tasks/electron-browser/task.contribution","vs/nls!vs/workbench/parts/tasks/node/processRunnerConfiguration","vs/nls!vs/workbench/parts/tasks/node/processRunnerDetector","vs/nls!vs/workbench/parts/tasks/node/processRunnerSystem","vs/nls!vs/workbench/parts/terminal/electron-browser/terminal.contribution","vs/nls!vs/workbench/parts/terminal/electron-browser/terminalActions","vs/nls!vs/workbench/parts/terminal/electron-browser/terminalInstance","vs/nls!vs/workbench/parts/terminal/electron-browser/terminalPanel","vs/nls!vs/workbench/parts/themes/electron-browser/themes.contribution","vs/nls!vs/workbench/parts/update/electron-browser/releaseNotesInput","vs/nls!vs/workbench/parts/update/electron-browser/update","vs/nls!vs/workbench/parts/update/electron-browser/update.contribution","vs/nls!vs/workbench/parts/viewpicker/browser/viewPickerHandler","vs/nls!vs/workbench/parts/viewpicker/browser/viewpicker.contribution","vs/nls!vs/workbench/parts/watermark/electron-browser/watermark","vs/nls!vs/workbench/services/configuration/node/configurationEditingService","vs/nls!vs/workbench/services/files/electron-browser/fileService","vs/nls!vs/workbench/services/files/node/fileService","vs/nls!vs/workbench/services/history/browser/history","vs/nls!vs/workbench/services/keybinding/electron-browser/keybindingService","vs/nls!vs/workbench/services/message/browser/messageList","vs/nls!vs/workbench/services/message/electron-browser/messageService","vs/nls!vs/workbench/services/textfile/browser/textFileService","vs/nls!vs/workbench/services/textfile/common/textFileEditorModel","vs/nls!vs/workbench/services/textfile/electron-browser/textFileService","vs/nls!vs/workbench/services/themes/electron-browser/themeService","vs/platform/backup/common/backupIpc","vs/platform/event/common/eventService","vs/platform/extensionManagement/common/extensionManagementIpc","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/platform/extensions/common/ipcRemoteCom","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/contrib/smartSelect/common/tokenSelectionSupport","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/editor","vs/editor/contrib/links/common/links","vs/css!vs/editor/browser/widget/media/tokens","vs/css!vs/editor/contrib/accessibility/browser/accessibility","vs/css!vs/editor/contrib/clipboard/browser/clipboard","vs/css!vs/editor/contrib/codelens/browser/codelens","vs/css!vs/editor/contrib/defineKeybinding/browser/defineKeybinding","vs/editor/browser/controller/mouseTarget","vs/editor/browser/services/codeEditorServiceImpl","vs/editor/browser/view/viewController","vs/editor/browser/view/viewOutgoingEvents","vs/editor/browser/viewLayout/scrollManager","vs/css!vs/editor/contrib/find/browser/findWidget","vs/editor/common/controller/textAreaHandler","vs/editor/common/core/editorState","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/goToDeclaration/browser/goToDeclaration","vs/editor/common/commands/shiftCommand","vs/editor/common/controller/cursorColumnSelection","vs/css!vs/editor/contrib/gotoError/browser/gotoError","vs/css!vs/editor/contrib/hover/browser/hover","vs/editor/common/controller/cursorTypeOperations","vs/css!vs/editor/contrib/iPadShowKeyboard/browser/iPadShowKeyboard","vs/css!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/editor/common/controller/cursorCollection","vs/editor/common/controller/cursor","vs/css!vs/editor/contrib/links/browser/links","vs/editor/common/model/textModelWithMarkers","vs/editor/common/model/textModelWithDecorations","vs/editor/common/model/editableTextModel","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/common/modes/editorModeContext","vs/css!vs/editor/contrib/quickFix/browser/lightBulbWidget","vs/css!vs/editor/contrib/referenceSearch/browser/referencesWidget","vs/editor/common/services/webWorker","vs/editor/common/view/overviewZoneManager","vs/css!vs/editor/contrib/rename/browser/renameInputField","vs/editor/common/viewLayout/editorLayoutProvider","vs/css!vs/editor/contrib/snippet/browser/snippet","vs/editor/common/viewModel/characterHardWrappingLineMapper","vs/css!vs/editor/contrib/suggest/browser/suggest","vs/css!vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/css!vs/editor/contrib/zoneWidget/browser/peekViewWidget","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/editor/browser/viewLayout/layoutProvider","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/currentLineMarginHighlight/currentLineMarginHighlight","vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/workbench/browser/actions/media/actions","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/margin/margin","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewModel/viewModelCursors","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/find/common/findDecorations","vs/editor/contrib/folding/common/foldingModel","vs/editor/node/model/modelBuilder","vs/css!vs/workbench/browser/media/part","vs/css!vs/workbench/browser/parts/activitybar/media/activityaction","vs/css!vs/workbench/browser/parts/activitybar/media/activitybarpart","vs/css!vs/workbench/browser/parts/editor/media/binarydiffeditor","vs/css!vs/workbench/browser/parts/editor/media/editorGroupsControl","vs/css!vs/workbench/browser/parts/editor/media/editorpart","vs/platform/actions/common/menuService","vs/platform/commands/common/commandService","vs/css!vs/workbench/browser/parts/editor/media/editorpicker","vs/css!vs/workbench/browser/parts/editor/media/editorstatus","vs/css!vs/workbench/browser/parts/editor/media/notabstitle","vs/editor/common/commonCodeEditor","vs/platform/instantiation/common/instantiationService","vs/css!vs/workbench/browser/parts/editor/media/sidebysideEditor","vs/platform/keybinding/common/abstractKeybindingService","vs/css!vs/workbench/browser/parts/editor/media/tabstitle","vs/css!vs/workbench/browser/parts/editor/media/textdiffeditor","vs/platform/contextkey/browser/contextKeyService","vs/css!vs/workbench/browser/parts/editor/media/titlecontrol","vs/platform/markers/common/markerService","vs/css!vs/workbench/browser/parts/media/compositepart","vs/css!vs/workbench/browser/parts/panel/media/panelpart","vs/css!vs/workbench/browser/parts/quickopen/media/quickopen","vs/css!vs/workbench/browser/parts/sidebar/media/sidebarpart","vs/platform/message/common/messageIpc","vs/platform/opener/browser/openerService","vs/css!vs/workbench/browser/parts/statusbar/media/statusbarpart","vs/editor/contrib/hover/browser/modesGlyphHover","vs/platform/opener/browser/opener.contribution","vs/css!vs/workbench/browser/parts/titlebar/media/titlebarpart","vs/platform/environment/node/http","vs/css!vs/workbench/electron-browser/media/shell","vs/css!vs/workbench/electron-browser/media/workbench","vs/css!vs/workbench/parts/debug/browser/media/breakpointWidget","vs/css!vs/workbench/parts/debug/browser/media/debug.contribution","vs/editor/common/services/languagesRegistry","vs/editor/contrib/iPadShowKeyboard/browser/iPadShowKeyboard","vs/css!vs/workbench/parts/debug/browser/media/debugActionsWidget","vs/css!vs/workbench/parts/debug/browser/media/debugHover","vs/css!vs/workbench/parts/debug/browser/media/debugViewlet","vs/editor/node/languageConfigurationExtensionPoint","vs/css!vs/workbench/parts/debug/browser/media/repl","vs/css!vs/workbench/parts/explorers/browser/media/treeExplorer.contribution","vs/css!vs/workbench/parts/extensions/browser/media/extensionActions","vs/platform/actions/browser/menusExtensionPoint","vs/css!vs/workbench/parts/extensions/browser/media/extensionEditor","vs/css!vs/workbench/parts/extensions/browser/media/extensionsWidgets","vs/css!vs/workbench/parts/extensions/electron-browser/media/extensions","vs/editor/browser/controller/keyboardHandler","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/workbench/parts/extensions/electron-browser/media/extensionsViewlet","vs/platform/configuration/node/configurationService","vs/platform/extensions/common/abstractExtensionService","vs/platform/jsonschemas/common/jsonValidationExtensionPoint","vs/css!vs/workbench/parts/feedback/browser/media/feedback","vs/css!vs/workbench/parts/files/browser/media/explorerviewlet","vs/css!vs/workbench/parts/files/browser/media/fileactions","vs/platform/environment/node/environmentService","vs/css!vs/workbench/parts/files/browser/media/files.contribution","vs/css!vs/workbench/parts/git/browser/media/git.contribution","vs/css!vs/workbench/parts/git/browser/media/gitViewlet","vs/css!vs/workbench/parts/git/browser/views/changes/changesView","vs/css!vs/workbench/parts/git/browser/views/disabled/disabledView","vs/css!vs/workbench/parts/git/browser/views/empty/emptyView","vs/css!vs/workbench/parts/git/browser/views/gitless/gitlessView","vs/platform/integrity/node/integrityServiceImpl","vs/platform/telemetry/browser/errorTelemetry","vs/platform/telemetry/browser/idleMonitor","vs/css!vs/workbench/parts/git/browser/views/huge/hugeView","vs/css!vs/workbench/parts/git/browser/views/notroot/notrootView","vs/editor/common/services/modelServiceImpl","vs/editor/contrib/carretOperations/common/carretOperations","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/codelens/common/codelens","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/comment/common/comment","vs/css!vs/workbench/parts/git/browser/views/noworkspace/noworkspaceView","vs/css!vs/workbench/parts/markers/browser/media/markers","vs/editor/contrib/find/browser/findWidget","vs/css!vs/workbench/parts/output/browser/media/output.contribution","vs/css!vs/workbench/parts/preferences/browser/media/preferences","vs/css!vs/workbench/parts/quickopen/browser/media/commandsHandler","vs/editor/contrib/format/common/formatActions","vs/editor/contrib/goToDeclaration/common/goToDeclaration","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/hover/common/hover","vs/editor/contrib/hover/browser/modesContentHover","vs/editor/contrib/hover/browser/hover","vs/editor/contrib/inPlaceReplace/common/inPlaceReplace","vs/css!vs/workbench/parts/quickopen/browser/media/gotoSymbolHandler","vs/editor/contrib/links/browser/links","vs/editor/contrib/multicursor/common/multicursor","vs/css!vs/workbench/parts/scm/browser/media/dirtydiffDecorator","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/quickFix/common/quickFix","vs/editor/contrib/quickFix/browser/quickFixModel","vs/editor/contrib/quickFix/browser/quickFix","vs/editor/contrib/quickOpen/common/quickOpen","vs/editor/contrib/referenceSearch/common/referenceSearch","vs/editor/contrib/rename/common/rename","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/smartSelect/common/jumpToBracket","vs/editor/contrib/smartSelect/common/smartSelect","vs/css!vs/workbench/parts/search/browser/media/search.contribution","vs/editor/contrib/defineKeybinding/browser/defineKeybinding","vs/css!vs/workbench/parts/search/browser/media/searchviewlet","vs/css!vs/workbench/parts/tasks/electron-browser/media/task.contribution","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/suggest/common/suggestModel","vs/css!vs/workbench/parts/terminal/electron-browser/media/scrollbar","vs/css!vs/workbench/parts/terminal/electron-browser/media/terminal","vs/editor/contrib/accessibility/browser/accessibility","vs/editor/contrib/toggleWordWrap/common/toggleWordWrap","vs/editor/contrib/wordHighlighter/common/wordHighlighter","vs/platform/contextview/browser/contextViewService","vs/css!vs/workbench/parts/terminal/electron-browser/media/xterm","vs/css!vs/workbench/parts/watermark/electron-browser/watermark","vs/platform/telemetry/node/commonProperties","vs/css!vs/workbench/services/message/browser/media/messageList","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/view/viewImpl","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/controller/input/textAreaWrapper","vs/workbench/parts/extensions/electron-browser/extensions.contribution","vs/base/parts/ipc/common/ipc.electron","vs/editor/browser/view/viewEventDispatcher","vs/base/parts/ipc/electron-browser/ipc.electron-browser","vs/platform/update/common/updateIpc","vs/base/common/callbackList","vs/base/browser/ui/list/rangeMap","vs/platform/url/common/urlIpc","vs/platform/windows/common/windowsIpc","vs/platform/windows/electron-browser/windowService","vs/base/parts/ipc/node/ipc.net","vs/editor/contrib/referenceSearch/browser/referencesWidget","vs/base/parts/quickopen/browser/quickOpenViewer","vs/editor/contrib/goToDeclaration/browser/goToDeclaration","vs/editor/contrib/referenceSearch/browser/referenceSearch","vs/editor/browser/editor.all","vs/platform/extensionManagement/common/extensionEnablementService","vs/workbench/api/node/extHostTypes","vs/workbench/api/node/mainThreadEditorsTracker","assert","vs/base/common/graph","vs/workbench/parts/update/electron-browser/update.contribution","vs/base/parts/tree/browser/treeModel","vs/editor/common/commands/surroundSelectionCommand","vs/base/parts/tree/browser/treeViewModel","vs/base/worker/defaultWorkerFactory","vs/css!vs/base/browser/builder","vs/editor/common/diff/diffComputer","vs/editor/common/model/editStack","vs/editor/common/model/indentRanges","vs/base/browser/ui/list/rowCache","vs/editor/common/model/tokenIterator","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/editor/common/core/lineTokens","vs/workbench/electron-browser/main","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/editor/common/modes/abstractMode","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/editor/common/modes/languageSelector","vs/editor/common/modes/languageFeatureRegistry","vs/nls!vs/editor/contrib/zoneWidget/browser/peekViewWidget","vs/editor/common/modes/linkComputer","vs/workbench/browser/parts/titlebar/titlebarPart","vs/css!vs/base/browser/ui/checkbox/checkbox","vs/workbench/electron-browser/crashReporter","vs/workbench/electron-browser/nodeCachedDataManager","vs/workbench/node/extensionPoints","vs/base/common/watchDog","vs/workbench/parts/debug/browser/debugErrorEditor","vs/editor/common/modes/supports/characterPair","vs/editor/common/modes/supports/inplaceReplaceSupport","vs/workbench/parts/debug/browser/breakpointWidget","vs/editor/common/modes/supports/onEnter","vs/workbench/parts/debug/browser/debugEditorModelManager","vs/css!vs/base/browser/ui/contextview/contextview","vs/editor/common/modes/supports/electricCharacter","vs/base/node/paths","vs/workbench/parts/debug/common/replHistory","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/workbench/parts/debug/electron-browser/replEditor","vs/workbench/parts/debug/electron-browser/terminalSupport","vs/workbench/parts/debug/node/v8Protocol","vs/workbench/parts/emmet/node/editorAccessor","vs/editor/common/services/abstractCodeEditorService","vs/editor/common/standalone/standaloneBase","vs/workbench/parts/execution/electron-browser/terminalService","vs/workbench/parts/execution/electron-browser/execution.contribution","vs/workbench/parts/explorers/browser/treeExplorerService","vs/base/common/numbers","vs/workbench/parts/explorers/browser/treeExplorerActions","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/common/view/viewContext","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/editor/browser/standalone/colorizer","vs/workbench/parts/extensions/browser/dependenciesViewer","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewLayout/whitespaceComputer","vs/editor/common/viewLayout/verticalObjects","vs/workbench/parts/feedback/browser/feedback","vs/workbench/parts/feedback/browser/feedbackStatusbarItem","vs/workbench/parts/feedback/browser/feedback.contribution","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewModel/filteredLineTokens","vs/workbench/parts/files/browser/editors/binaryFileEditor","vs/workbench/parts/git/browser/gitOperations","vs/workbench/parts/git/browser/views/disabled/disabledView","vs/workbench/parts/git/browser/views/gitless/gitlessView","vs/workbench/parts/git/browser/views/notroot/notrootView","vs/workbench/parts/git/browser/views/noworkspace/noworkspaceView","vs/css!vs/base/browser/ui/findinput/findInput","vs/workbench/parts/git/browser/gitEditorContributions","vs/workbench/parts/git/browser/views/huge/hugeView","vs/workbench/parts/git/common/gitIpc","vs/editor/common/model/mirrorModel2","vs/workbench/parts/git/common/stageRanges","vs/editor/common/services/editorSimpleWorker","vs/workbench/parts/git/node/rawGitService","vs/workbench/parts/git/node/unscopedGitService","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/workbench/parts/html/browser/htmlEditorZone","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/workbench/parts/indentation/common/indentationCommands","vs/editor/browser/viewParts/lines/viewLine","vs/editor/contrib/carretOperations/common/moveCarretCommand","vs/css!vs/base/browser/ui/leftRightWidget/leftRightWidget","vs/workbench/parts/markers/browser/markersTreeViewer","vs/workbench/parts/nps/browser/nps.contribution","vs/editor/contrib/comment/common/lineCommentCommand","vs/workbench/parts/git/browser/gitOutput","vs/workbench/parts/output/common/outputLinkProvider","vs/base/node/ports","vs/editor/contrib/find/common/findState","vs/workbench/parts/contentprovider/common/contentprovider.contribution","vs/editor/contrib/find/common/replaceAllCommand","vs/workbench/parts/search/browser/patternInputWidget","vs/editor/contrib/folding/common/folding","vs/editor/contrib/folding/common/indentFoldStrategy","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/css!vs/base/browser/ui/octiconLabel/octicons/octicons","vs/workbench/parts/snippets/electron-browser/snippetsTracker","vs/workbench/parts/tasks/common/problemCollectors","vs/base/node/proxy","vs/workbench/parts/tasks/common/languageServiceTaskSystem","vs/editor/contrib/inPlaceReplace/common/inPlaceReplaceCommand","vs/workbench/parts/tasks/common/taskTemplates","vs/workbench/parts/tasks/node/processRunnerConfiguration","vs/workbench/parts/tasks/node/processRunnerDetector","vs/workbench/parts/tasks/node/processRunnerSystem","vs/editor/contrib/linesOperations/common/copyLinesCommand","vs/workbench/parts/debug/electron-browser/rawDebugSession","vs/workbench/parts/terminal/electron-browser/terminalConfigHelper","vs/editor/contrib/linesOperations/common/deleteLinesCommand","vs/workbench/parts/welcome/common/abstractGettingStarted","vs/workbench/parts/welcome/browser/gettingStarted","vs/workbench/parts/welcome/browser/gettingStarted.contribution","vs/editor/contrib/linesOperations/common/moveLinesCommand","vs/editor/contrib/linesOperations/common/sortLinesCommand","vs/workbench/services/backup/node/backupFileService","vs/editor/contrib/quickFix/browser/lightBulbWidget","vs/editor/contrib/quickFix/browser/quickFixWidget","vs/workbench/services/configuration/common/model","vs/workbench/services/configuration/node/configurationService","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/workbench/parts/debug/node/debugAdapter","vs/workbench/services/contextview/electron-browser/contextmenuService","vs/editor/contrib/smartSelect/common/tokenTree","vs/editor/contrib/snippet/browser/snippet","vs/workbench/parts/extensions/node/extensionsWorkbenchService","vs/editor/contrib/snippet/common/snippetParser","vs/workbench/parts/markers/browser/markersTreeController","vs/workbench/electron-browser/shell","vs/workbench/parts/search/browser/replaceService","vs/workbench/parts/search/browser/replaceContributions","vs/workbench/services/configurationResolver/node/configurationResolverService","vs/editor/contrib/snippet/common/snippetVariables","vs/workbench/services/files/node/watcher/unix/watcherIpc","vs/workbench/services/files/node/watcher/unix/watcherService","vs/workbench/services/files/node/watcher/win32/csharpWatcherService","vs/workbench/services/files/node/watcher/win32/watcherService","vs/workbench/services/files/node/fileService","vs/editor/contrib/suggest/common/completionModel","vs/platform/request/electron-browser/requestService","vs/workbench/services/files/electron-browser/fileService","vs/editor/node/textMate/TMState","vs/workbench/services/keybinding/electron-browser/nativeKeymap","vs/platform/extensionManagement/node/extensionGalleryService","vs/workbench/services/keybinding/electron-browser/keybindingService","vs/workbench/services/message/browser/messageList","vs/workbench/services/message/browser/messageService","vs/nls!vs/base/browser/ui/actionbar/actionbar","vs/base/common/cache","vs/workbench/parts/output/browser/outputServices","vs/css!vs/base/browser/ui/resourceviewer/resourceviewer","vs/css!vs/base/browser/ui/sash/sash","vs/workbench/browser/actions/configureLocale","vs/workbench/parts/update/electron-browser/update","vs/nls!vs/base/browser/ui/aria/aria","vs/workbench/browser/actions/toggleSidebarPosition","vs/workbench/browser/actions/toggleSidebarVisibility","vs/workbench/browser/actions/toggleStatusbarVisibility","vs/workbench/browser/actions/toggleZenMode","vs/workbench/browser/parts/statusbar/statusbarPart","vs/workbench/parts/cli/electron-browser/cli.contribution","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/workbench/parts/debug/browser/debugActionsWidget","vs/nls!vs/base/browser/ui/findinput/findInput","vs/workbench/parts/debug/electron-browser/debugHover","vs/workbench/parts/debug/electron-browser/debugEditorContribution","vs/workbench/parts/debug/electron-browser/replViewer","vs/workbench/parts/execution/electron-browser/terminal.contribution","vs/workbench/parts/files/browser/views/emptyView","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/base/common/hash","vs/workbench/parts/markers/browser/markersWorkbenchContributions","vs/workbench/parts/markers/electron-browser/markersElectronContributions","vs/workbench/parts/markers/markers.contribution","vs/base/browser/ui/list/listView","vs/workbench/parts/output/browser/output.contribution","vs/nls!vs/base/browser/ui/resourceviewer/resourceViewer","vs/base/common/color","vs/editor/contrib/suggest/electron-browser/snippetCompletion","vs/nls!vs/base/browser/ui/toolbar/toolbar","vs/base/browser/ui/list/listPaging","vs/workbench/browser/parts/editor/editorPicker","vs/nls!vs/base/common/errorMessage","vs/workbench/browser/parts/editor/noTabsTitleControl","vs/workbench/parts/debug/node/debugConfigurationManager","vs/workbench/parts/emmet/browser/actions/showEmmetCommands","vs/workbench/parts/emmet/browser/emmet.browser.contribution","vs/base/parts/tree/browser/treeView","vs/workbench/parts/git/browser/gitQuickOpen","vs/workbench/parts/git/browser/gitWidgets","vs/workbench/parts/git/browser/views/changes/changesViewer","vs/workbench/parts/git/browser/views/changes/changesView","vs/workbench/parts/git/browser/views/empty/emptyView","vs/workbench/parts/git/electron-browser/gitActions","vs/nls!vs/base/common/json","vs/css!vs/base/browser/ui/selectBox/selectBox","vs/workbench/parts/quickopen/browser/gotoLineHandler","vs/workbench/parts/quickopen/browser/gotoSymbolHandler","vs/workbench/parts/quickopen/browser/helpHandler","vs/workbench/parts/quickopen/browser/quickopen.contribution","vs/workbench/parts/search/browser/openSymbolHandler","vs/workbench/parts/snippets/electron-browser/snippets.contribution","vs/workbench/parts/tasks/browser/taskQuickOpen","vs/platform/request/node/requestService","vs/workbench/parts/git/common/gitContentProvider","vs/workbench/parts/scm/browser/dirtydiffDecorator","vs/workbench/parts/scm/browser/scm.contribution","vs/workbench/services/scm/common/scmService","vs/workbench/services/search/node/searchIpc","vs/workbench/services/storage/common/storageService","vs/workbench/services/telemetry/common/workspaceStats","vs/base/common/jsonEdit","vs/css!vs/base/browser/ui/splitview/splitview","vs/editor/contrib/defineKeybinding/common/smartSnippetInserter","vs/workbench/common/editor/untitledEditorModel","vs/nls!vs/base/common/keybinding","vs/base/common/diff/diffChange","vs/workbench/parts/files/common/editors/fileEditorTracker","vs/workbench/parts/git/browser/gitServices","vs/workbench/parts/git/electron-browser/electronGitService","vs/workbench/parts/tasks/electron-browser/task.contribution","vs/workbench/services/configuration/node/configurationEditingService","vs/nls!vs/base/common/processes","vs/workbench/services/textfile/common/textFileEditorModelManager","vs/css!vs/base/browser/ui/toolbar/toolbar","vs/nls!vs/base/common/severity","vs/workbench/parts/debug/electron-browser/repl","vs/workbench/parts/html/browser/htmlPreviewPart","vs/workbench/parts/html/browser/html.contribution","vs/workbench/parts/search/browser/openFileHandler","vs/workbench/parts/search/browser/openAnythingHandler","vs/workbench/parts/terminal/electron-browser/terminalPanel","vs/workbench/parts/themes/test/electron-browser/themes.test.contribution","vs/workbench/parts/update/electron-browser/releaseNotesEditor","vs/workbench/services/themes/electron-browser/stylesContributions","vs/workbench/services/thread/common/abstractThreadService","vs/css!vs/base/parts/quickopen/browser/quickopen","vs/nls!vs/base/node/processes","vs/workbench/api/node/mainThreadCommands","vs/workbench/api/node/mainThreadConfiguration","vs/workbench/api/node/mainThreadDiagnostics","vs/workbench/api/node/mainThreadEditors","vs/workbench/api/node/mainThreadErrors","vs/css!vs/base/parts/tree/browser/actionsRenderer","vs/workbench/api/node/mainThreadFileSystemEventService","stream","vs/nls!vs/base/parts/quickopen/browser/quickOpenModel","vs/workbench/api/node/mainThreadLanguageFeatures","vs/workbench/api/node/mainThreadLanguages","vs/workbench/api/node/mainThreadMessageService","vs/workbench/api/node/mainThreadOutputService","vs/workbench/api/node/mainThreadQuickOpen","vs/workbench/api/node/mainThreadSaveParticipant","vs/workbench/api/node/mainThreadStatusBar","vs/workbench/api/node/mainThreadStorage","vs/workbench/api/node/mainThreadTelemetry","vs/workbench/api/node/mainThreadTerminalService","vs/workbench/api/node/mainThreadTreeExplorers","vs/workbench/api/node/mainThreadWorkspace","vs/workbench/services/thread/electron-browser/threadService","vs/nls!vs/base/parts/quickopen/browser/quickOpenWidget","vs/workbench/electron-browser/window","vs/workbench/services/history/browser/history","vs/nls!vs/base/parts/tree/browser/treeDefaults","vs/workbench/api/node/mainThreadDocuments","vs/css!vs/base/parts/tree/browser/tree","vs/workbench/browser/parts/editor/tabsTitleControl","vs/workbench/browser/parts/editor/editorGroupsControl","vs/workbench/parts/backup/common/backupModelTracker","vs/workbench/parts/backup/common/backupRestorer","vs/workbench/parts/backup/common/backup.contribution","vs/workbench/parts/files/electron-browser/dirtyFilesTracker","vs/workbench/parts/output/browser/outputPanel","vs/css!vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/workbench/parts/preferences/browser/preferencesService","vs/workbench/parts/preferences/browser/preferences.contribution","vs/workbench/services/backup/node/backupModelService","vs/css!vs/editor/browser/viewParts/currentLineMarginHighlight/currentLineMarginHighlight","vs/base/parts/quickopen/browser/quickOpenWidget","vs/workbench/browser/parts/editor/editorCommands","vs/workbench/services/search/node/searchService","vs/workbench/services/textfile/browser/textFileService","vs/workbench/services/textmodelResolver/common/textModelResolverService","vs/nls!vs/editor/common/config/commonEditorConfig","vs/workbench/browser/layout","vs/nls!vs/editor/common/config/defaultConfig","vs/workbench/browser/parts/activitybar/activitybarPart","vs/workbench/browser/parts/editor/editorStatus","vs/workbench/browser/parts/editor/editor.contribution","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/workbench/parts/debug/browser/debugEditorActions","vs/workbench/parts/debug/browser/debugViewlet","vs/workbench/parts/debug/electron-browser/debugViews","vs/workbench/parts/explorers/browser/treeExplorer.contribution","vs/workbench/parts/explorers/browser/views/treeExplorerView","vs/workbench/parts/explorers/browser/treeExplorerViewlet","vs/nls!vs/editor/common/controller/cursor","vs/workbench/parts/extensions/browser/extensionEditor","vs/workbench/parts/extensions/browser/extensionTipsService","vs/workbench/parts/extensions/browser/extensionsList","vs/workbench/parts/extensions/browser/extensionsQuickOpen","vs/workbench/parts/files/browser/editors/textFileEditor","vs/nls!vs/editor/common/model/textModelWithTokens","vs/nls!vs/editor/common/modes/modesRegistry","vs/workbench/parts/files/browser/fileActions.contribution","vs/workbench/parts/files/browser/files.contribution","vs/nls!vs/editor/common/modes/snippetsRegistry","vs/workbench/parts/files/browser/views/explorerView","vs/workbench/parts/files/browser/views/openEditorsViewer","vs/workbench/parts/files/browser/views/openEditorsView","vs/workbench/parts/files/browser/explorerViewlet","vs/workbench/parts/files/electron-browser/files.electron.contribution","vs/nls!vs/editor/common/services/bulkEdit","vs/workbench/parts/git/browser/gitActions.contribution","vs/workbench/parts/git/browser/gitViewlet","vs/workbench/parts/git/electron-browser/git.contribution","vs/nls!vs/editor/common/services/modeServiceImpl","vs/workbench/parts/search/browser/searchResultsView","vs/nls!vs/editor/common/services/modelServiceImpl","vs/workbench/parts/search/browser/search.contribution","vs/workbench/parts/search/browser/searchViewlet","vs/nls!vs/editor/contrib/accessibility/browser/accessibility","vs/workbench/parts/viewpicker/browser/viewPickerHandler","vs/workbench/parts/viewpicker/browser/viewpicker.contribution","vs/nls!vs/editor/contrib/carretOperations/common/carretOperations","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/workbench/browser/parts/editor/editorPart","vs/workbench/browser/parts/panel/panelPart","vs/workbench/browser/parts/sidebar/sidebarPart","vs/workbench/services/viewlet/browser/viewletService","vs/nls!vs/editor/contrib/comment/common/comment","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/defineKeybinding/browser/defineKeybinding","vs/workbench/electron-browser/integration","vs/workbench/parts/debug/electron-browser/debugService","vs/workbench/parts/debug/electron-browser/debug.contribution","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/nls!vs/editor/contrib/find/common/findController","vs/workbench/parts/watermark/electron-browser/watermark","vs/workbench/services/lifecycle/electron-browser/lifecycleService","vs/workbench/services/message/electron-browser/messageService","vs/workbench/services/textfile/electron-browser/textFileService","vs/nls!vs/editor/contrib/folding/browser/folding","vs/workbench/electron-browser/main.contribution","vs/workbench/services/themes/electron-browser/themeService","vs/workbench/parts/terminal/electron-browser/terminal.contribution","vs/nls!vs/editor/contrib/format/common/formatActions","vs/workbench/parts/terminal/electron-browser/terminalService","vs/workbench/api/node/extHost.contribution","vs/nls!vs/editor/contrib/goToDeclaration/browser/goToDeclaration","vs/workbench/parts/emmet/node/actions/balance","vs/workbench/parts/emmet/node/actions/editPoints","vs/workbench/parts/emmet/node/actions/evaluateMath","vs/workbench/parts/emmet/node/actions/expandAbbreviation","vs/workbench/parts/emmet/node/actions/incrementDecrement","vs/workbench/parts/emmet/node/actions/matchingPair","vs/workbench/parts/emmet/node/actions/mergeLines","vs/workbench/parts/emmet/node/actions/reflectCssValue","vs/workbench/parts/emmet/node/actions/removeTag","vs/workbench/parts/emmet/node/actions/selectItem","vs/workbench/parts/emmet/node/actions/splitJoinTag","vs/workbench/parts/emmet/node/actions/toggleComment","vs/workbench/parts/emmet/node/actions/updateImageSize","vs/workbench/parts/emmet/node/actions/updateTag","vs/workbench/parts/emmet/node/actions/wrapWithAbbreviation","vs/workbench/parts/emmet/node/emmet.contribution","vs/platform/telemetry/node/workbenchCommonProperties","vs/workbench/parts/terminal/electron-browser/terminalInstance","iconv-lite","winreg","vscode-textmate","fast-plist","gc-signals","https","http","zlib","native-keymap","xterm","https-proxy-agent","http-proxy-agent","getmac","graceful-fs","string_decoder","vs/base/common/winjs.base.raw","vs/base/common/marked/raw.marked","vs/workbench/electron-browser/workbench.main"],h=function(e){
for(var t=[],n=0,i=e.length;n<i;n++)t[n]=l[e[n]];return t};define(l[406],h([1,0]),function(e,t){"use strict";function n(e){if(!e.parent||e.parent===e)return null;try{var t=e.location,n=e.parent.location;if(t.protocol!==n.protocol||t.hostname!==n.hostname||t.port!==n.port)return r=!0,null}catch(e){return r=!0,null}return e.parent}function i(e,t){for(var n,i=e.document.getElementsByTagName("iframe"),r=0,o=i.length;r<o;r++)if(n=i[r],n.contentWindow===t)return n;return null}var r=!1,o=null,s=function(){function e(){}return e.getSameOriginWindowChain=function(){if(!o){o=[];var e,t=window;do e=n(t),e?o.push({window:t,iframeElement:i(e,t)}):o.push({window:t,iframeElement:null}),t=e;while(t)}return o.slice(0)},e.hasDifferentOriginAncestor=function(){return o||this.getSameOriginWindowChain(),r},e.getPositionOfChildWindowRelativeToAncestorWindow=function(e,t){if(!t||e===t)return{top:0,left:0};for(var n=0,i=0,r=this.getSameOriginWindowChain(),o=0;o<r.length;o++){var s=r[o];if(s.window===t)break;if(!s.iframeElement)break;var a=s.iframeElement.getBoundingClientRect();n+=a.top,i+=a.left}return{top:n,left:i}},e}();t.IframeUtils=s}),define(l[859],h([1,0]),function(e,t){"use strict";function n(e,t){if(e.start>=t.end||t.start>=e.end)return null;var n=Math.max(e.start,t.start),i=Math.min(e.end,t.end);return i-n<=0?null:{start:n,end:i}}function i(e){return e.end-e.start<=0}function r(e,t){var n=[],r={start:e.start,end:Math.min(t.start,e.end)},o={start:Math.max(t.end,e.start),end:e.end};return i(r)||n.push(r),i(o)||n.push(o),n}function o(e,t){for(var n=e.start;n<e.end;n++)t(n)}function s(e,t){for(var i=[],r=0,o=t;r<o.length;r++){var s=o[r];if(!(e.start>=s.range.end)){if(e.end<s.range.start)break;var a=n(e,s.range);a&&i.push({range:a,size:s.size})}}return i}function a(e,t){var n=e.start,i=e.end;return{start:n+t,end:i+t}}function c(e){for(var t=[],n=null,i=0,r=e;i<r.length;i++){var o=r[i],s=o.range.start,a=o.range.end,c=o.size;n&&c===n.size?n.range.end=a:(n={range:{start:s,end:a},size:c},t.push(n))}return t}function u(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return c(e.reduce(function(e,t){return e.concat(t)},[]))}t.intersect=n,t.isEmpty=i,t.relativeComplement=r,t.each=o,t.groupIntersect=s,t.consolidate=c;var l=function(){function e(){this.groups=[],this._size=0}return e.prototype.splice=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=n.length-t,o=s({start:0,end:e},this.groups),c=s({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(function(e){return{range:a(e.range,r),size:e.size}}),l=n.map(function(t,n){return{range:{start:e+n,end:e+n+1},size:t.size}});this.groups=u(o,l,c),this._size=this.groups.reduce(function(e,t){return e+t.size*(t.range.end-t.range.start)},0)},Object.defineProperty(e.prototype,"count",{get:function(){var e=this.groups.length;return e?this.groups[e-1].range.end:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.indexAt=function(e){if(e<0)return-1;for(var t=0,n=0,i=0,r=this.groups;i<r.length;i++){var o=r[i],s=o.range.end-o.range.start,a=n+s*o.size;if(e<a)return t+Math.floor((e-n)/o.size);t+=s,n=a}return t},e.prototype.indexAfter=function(e){return Math.min(this.indexAt(e)+1,this.count)},e.prototype.positionAt=function(e){if(e<0)return-1;for(var t=0,n=0,i=0,r=this.groups;i<r.length;i++){var o=r[i],s=o.range.end-o.range.start,a=n+s;if(e<a)return t+(e-n)*o.size;t+=s*o.size,n=a}return-1},e.prototype.dispose=function(){this.groups=null},e}();t.RangeMap=l}),define(l[388],h([1,0]),function(e,t){"use strict";var n=20,i=function(){function e(e,t,n){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(n),this._arrowSize=Math.round(e),this._visibleSize=0,this._scrollSize=0,this._scrollPosition=0,this._computedAvailableSize=0,this._computedRepresentableSize=0,this._computedRatio=.1,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderPosition=0,this._refreshComputedValues()}return e.prototype.setVisibleSize=function(e){var t=Math.round(e);return this._visibleSize!==t&&(this._visibleSize=t,this._refreshComputedValues(),!0)},e.prototype.setScrollSize=function(e){var t=Math.round(e);return this._scrollSize!==t&&(this._scrollSize=t,this._refreshComputedValues(),!0)},e.prototype.setScrollPosition=function(e){var t=Math.round(e);return this._scrollPosition!==t&&(this._scrollPosition=t,this._refreshComputedValues(),!0)},e.prototype._refreshComputedValues=function(){var e,t,i=this._oppositeScrollbarSize,r=this._arrowSize,o=this._visibleSize,s=this._scrollSize,a=this._scrollPosition,c=Math.max(0,o-i),u=Math.max(0,c-2*r),l=s>0?u/s:0,h=s>o;if(h){if(e=Math.floor(o*l),t=Math.floor(a*l),e<n){var d=(n-e)/2;e=n,t-=d,t+e>u&&(t=u-e),t<0&&(t=0)}}else e=u,t=0;this._computedAvailableSize=Math.round(c),this._computedRepresentableSize=Math.round(u),this._computedRatio=l,this._computedIsNeeded=h,this._computedSliderSize=Math.round(e),this._computedSliderPosition=Math.round(t)},e.prototype.getArrowSize=function(){return this._arrowSize},e.prototype.getRectangleLargeSize=function(){return this._computedAvailableSize},e.prototype.getRectangleSmallSize=function(){return this._scrollbarSize},e.prototype.isNeeded=function(){return this._computedIsNeeded},e.prototype.getSliderSize=function(){return this._computedSliderSize},e.prototype.getSliderPosition=function(){return this._computedSliderPosition},e.prototype.convertSliderPositionToScrollPosition=function(e){return e/this._computedRatio},e.prototype.validateScrollPosition=function(e){return e=Math.round(e),e=Math.max(e,0),e=Math.min(e,this._scrollSize-this._visibleSize)},e}();t.ScrollbarState=i}),define(l[35],h([1,0]),function(e,t){"use strict";function n(e,t){return void 0===t&&(t=0),e[e.length-(1+t)]}function i(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],function(){e.splice(n,1),n--,i--})}function r(e,t,n){if(void 0===n&&(n=function(e,t){return e===t}),e.length!==t.length)return!1;for(var i=0,r=e.length;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function o(e,t,n){for(var i=0,r=e.length-1;i<=r;){var o=(i+r)/2|0,s=n(e[o],t);if(s<0)i=o+1;else{if(!(s>0))return o;r=o-1}}return-(i+1)}function s(e,t){var n=0,i=e.length;if(0===i)return 0;for(;n<i;){var r=Math.floor((n+i)/2);t(e[r])?i=r:n=r+1}return n}function a(e,t,n){if(0===n)return[];for(var i=e.slice(0,n).sort(t),r=function(r,o){var a=e[r];if(t(a,i[n-1])<0){i.pop();var c=s(i,function(e){return t(a,e)<0});i.splice(c,0,a)}},o=n,a=e.length;o<a;o++)r(o,a);return i}function c(e,t){var n=new Array;if(t)for(var i={},r=0;r<e.length;r++)for(var o=0;o<e[r].length;o++){var s=e[r][o],a=t(s);i.hasOwnProperty(a)||(i[a]=!0,n.push(s))}else for(var r=0,c=e.length;r<c;r++)n.push.apply(n,e[r]);return n}function u(e){return e?e.filter(function(e){return!!e}):e}function l(e,t){return e.indexOf(t)>=0}function h(e,t,n){var i=e[t],r=e[n];e[t]=r,e[n]=i}function d(e,t,n){e.splice(n,0,e.splice(t,1)[0])}function p(e){return!Array.isArray(e)||0===e.length}function f(e,t){if(!t)return e.filter(function(t,n){return e.indexOf(t)===n});var n=Object.create(null);return e.filter(function(e){var i=t(e);return!n[i]&&(n[i]=!0,!0)})}function g(e){var t=Object.create(null);return function(n){var i=e(n);return!t[i]&&(t[i]=!0,!0)}}function v(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(t(i))return n}return-1}function m(e,t,n){void 0===n&&(n=null);var i=v(e,t);return i<0?n:e[i]}function y(e,t,n){void 0===n&&(n=function(e,t){return e===t});for(var i=0,r=0,o=Math.min(e.length,t.length);r<o&&n(e[r],t[r]);r++)i++;return i}function b(e){return e.reduce(function(e,t){return e.concat(t)},[])}function S(e,t){void 0===t&&(t=0);for(var n=[],i=t;i<e;i++)n.push(i);return n}function E(e,t,n){void 0===n&&(n=[]);for(var i=0;i<e;i++)n[i]=t();return n}function _(e,t,n){return void 0===n&&(n=function(e){return e}),e.reduce(function(e,i){var r=t(i);return e[r]=n(i,e[r]),e},Object.create(null))}function C(e,t){return e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}t.tail=n,t.forEach=i,t.equals=r,t.binarySearch=o,t.findFirst=s,t.top=a,t.merge=c,t.coalesce=u,t.contains=l,t.swap=h,t.move=d,t.isFalsyOrEmpty=p,t.distinct=f,t.uniqueFilter=g,t.firstIndex=v,t.first=m,t.commonPrefixLength=y,t.flatten=b,t.range=S,t.fill=E,t.index=_,t.insert=C}),define(l[119],h([1,0]),function(e,t){"use strict";function n(e,t){if(!e||null===e)throw new Error(t?"Assertion failed ("+t+")":"Assertion Failed")}t.ok=n}),define(l[108],h([1,0]),function(e,t){"use strict";function n(){return Object.create(null)}function i(){return Object.create(null)}function r(e,t,n){void 0===n&&(n=null);var i=String(t);return a(e,i)?e[i]:n}function o(e,t,n){var i=String(t);return a(e,i)?e[i]:("function"==typeof n&&(n=n()),e[i]=n,n)}function s(e,t,n){e[n(t)]=t}function a(e,t){return d.call(e,t)}function c(e){var t=[];for(var n in e)d.call(e,n)&&t.push(e[n]);return t}function u(e,t){for(var n in e)if(d.call(e,n)){var i=t({key:n,value:e[n]},function(){delete e[n]});if(i===!1)return}}function l(e,t){return!!d.call(e,t)&&(delete e[t],!0)}function h(e,t){var i=n();return e.forEach(function(e){return o(i,t(e),[]).push(e)}),i}t.createStringDictionary=n,t.createNumberDictionary=i,t.lookup=r,t.lookupOrInsert=o,t.insert=s;var d=Object.prototype.hasOwnProperty;t.contains=a,t.values=c,t.forEach=u,t.remove=l,t.groupBy=h}),define(l[375],h([1,0]),function(e,t){"use strict";function n(e,t,n){var i=null,r=null;if("function"==typeof n.value?(i="value",r=n.value):"function"==typeof n.get&&(i="get",r=n.get),!r)throw new Error("not supported");var o="$memoize$"+t;n[i]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:r.apply(this,e)}),this[o]}}t.memoize=n}),define(l[1092],h([1,0]),function(e,t){"use strict";t.DifferenceType={Add:0,Remove:1,Change:2};var n=function(){function e(e,t,n,i){this.originalStart=e,this.originalLength=t,this.modifiedStart=n,this.modifiedLength=i}return e.prototype.getChangeType=function(){return 0===this.originalLength?t.DifferenceType.Add:0===this.modifiedLength?t.DifferenceType.Remove:t.DifferenceType.Change},e.prototype.getOriginalEnd=function(){return this.originalStart+this.originalLength},e.prototype.getModifiedEnd=function(){return this.modifiedStart+this.modifiedLength},e}();t.DiffChange=n}),define(l[268],h([1,0,1092]),function(e,t,n){"use strict";function i(e){return{getLength:function(){return e.length},getElementHash:function(t){return e[t]}}}function r(e,t){return new l(i(e),i(t)).ComputeDiff()}t.stringDiff=r;var o=function(){function e(){}return e.Assert=function(e,t){if(!e)throw new Error(t)},e}();t.Debug=o;var s=function(){function e(){}return e.Copy=function(e,t,n,i,r){for(var o=0;o<r;o++)n[i+o]=e[t+o]},e}();t.MyArray=s;var a=1447,c=function(){function e(){this.m_changes=[],this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE,this.m_originalCount=0,this.m_modifiedCount=0}return e.prototype.MarkNextChange=function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new n.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE},e.prototype.AddOriginalElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++},e.prototype.AddModifiedElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++},e.prototype.getChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes},e.prototype.getReverseChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes},e}(),u=Object.prototype.hasOwnProperty,l=function(){function e(e,t,n){void 0===n&&(n=null),this.OriginalSequence=e,this.ModifiedSequence=t,this.ContinueProcessingPredicate=n,this.m_originalIds=[],this.m_modifiedIds=[],this.m_forwardHistory=[],this.m_reverseHistory=[],this.ComputeUniqueIdentifiers()}return e.prototype.ComputeUniqueIdentifiers=function(){var e=this.OriginalSequence.getLength(),t=this.ModifiedSequence.getLength();this.m_originalIds=new Array(e),this.m_modifiedIds=new Array(t);var n,i={},r=1;for(n=0;n<e;n++){var o=this.OriginalSequence.getElementHash(n);u.call(i,o)?this.m_originalIds[n]=i[o]:(this.m_originalIds[n]=r++,i[o]=this.m_originalIds[n])}for(n=0;n<t;n++){var s=this.ModifiedSequence.getElementHash(n);u.call(i,s)?this.m_modifiedIds[n]=i[s]:(this.m_modifiedIds[n]=r++,i[s]=this.m_modifiedIds[n])}},e.prototype.ElementsAreEqual=function(e,t){return this.m_originalIds[e]===this.m_modifiedIds[t]},e.prototype.ComputeDiff=function(){return this._ComputeDiff(0,this.OriginalSequence.getLength()-1,0,this.ModifiedSequence.getLength()-1)},e.prototype._ComputeDiff=function(e,t,n,i){var r=[!1];return this.ComputeDiffRecursive(e,t,n,i,r)},e.prototype.ComputeDiffRecursive=function(e,t,i,r,s){for(s[0]=!1;e<=t&&i<=r&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&r>=i&&this.ElementsAreEqual(t,r);)t--,r--;if(e>t||i>r){var a=void 0;return i<=r?(o.Assert(e===t+1,"originalStart should only be one more than originalEnd"),a=[new n.DiffChange(e,0,i,r-i+1)]):e<=t?(o.Assert(i===r+1,"modifiedStart should only be one more than modifiedEnd"),a=[new n.DiffChange(e,t-e+1,i,0)]):(o.Assert(e===t+1,"originalStart should only be one more than originalEnd"),o.Assert(i===r+1,"modifiedStart should only be one more than modifiedEnd"),a=[]),a}var c=[0],u=[0],l=this.ComputeRecursionPoint(e,t,i,r,c,u,s),h=c[0],d=u[0];if(null!==l)return l;if(!s[0]){var p=this.ComputeDiffRecursive(e,h,i,d,s),f=[];return f=s[0]?[new n.DiffChange(h+1,t-(h+1)+1,d+1,r-(d+1)+1)]:this.ComputeDiffRecursive(h+1,t,d+1,r,s),this.ConcatenateChanges(p,f)}return[new n.DiffChange(e,t-e+1,i,r-i+1)]},e.prototype.WALKTRACE=function(e,t,i,r,o,s,a,u,l,h,d,p,f,g,v,m,y,b){var S,E=null,_=null,C=new c,w=t,I=i,T=f[0]-m[0]-r,x=Number.MIN_VALUE,A=this.m_forwardHistory.length-1;do S=T+e,S===w||S<I&&l[S-1]<l[S+1]?(d=l[S+1],g=d-T-r,d<x&&C.MarkNextChange(),x=d,C.AddModifiedElement(d+1,g),T=S+1-e):(d=l[S-1]+1,g=d-T-r,d<x&&C.MarkNextChange(),x=d-1,C.AddOriginalElement(d,g+1),T=S-1-e),A>=0&&(l=this.m_forwardHistory[A],e=l[0],w=1,I=l.length-1);while(--A>=-1);if(E=C.getReverseChanges(),b[0]){var D=f[0]+1,L=m[0]+1;if(null!==E&&E.length>0){var k=E[E.length-1];D=Math.max(D,k.getOriginalEnd()),L=Math.max(L,k.getModifiedEnd())}_=[new n.DiffChange(D,p-D+1,L,v-L+1)]}else{C=new c,w=s,I=a,T=f[0]-m[0]-u,x=Number.MAX_VALUE,A=y?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do S=T+o,S===w||S<I&&h[S-1]>=h[S+1]?(d=h[S+1]-1,g=d-T-u,d>x&&C.MarkNextChange(),x=d+1,C.AddOriginalElement(d+1,g+1),T=S+1-o):(d=h[S-1],g=d-T-u,d>x&&C.MarkNextChange(),x=d,C.AddModifiedElement(d+1,g+1),T=S-1-o),A>=0&&(h=this.m_reverseHistory[A],o=h[0],w=1,I=h.length-1);while(--A>=-1);_=C.getChanges()}return this.ConcatenateChanges(E,_)},e.prototype.ComputeRecursionPoint=function(e,t,i,r,o,c,u){var l,h,d,p=0,f=0,g=0,v=0;e--,i--,o[0]=0,c[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var m=t-e+(r-i),y=m+1,b=new Array(y),S=new Array(y),E=r-i,_=t-e,C=e-i,w=t-r,I=_-E,T=I%2===0;b[E]=e,S[_]=t,u[0]=!1;var x,A;for(d=1;d<=m/2+1;d++){var D=0,L=0;for(p=this.ClipDiagonalBound(E-d,d,E,y),f=this.ClipDiagonalBound(E+d,d,E,y),x=p;x<=f;x+=2){for(l=x===p||x<f&&b[x-1]<b[x+1]?b[x+1]:b[x-1]+1,h=l-(x-E)-C,A=l;l<t&&h<r&&this.ElementsAreEqual(l+1,h+1);)l++,h++;if(b[x]=l,l+h>D+L&&(D=l,L=h),!T&&Math.abs(x-_)<=d-1&&l>=S[x])return o[0]=l,c[0]=h,A<=S[x]&&a>0&&d<=a+1?this.WALKTRACE(E,p,f,C,_,g,v,w,b,S,l,t,o,h,r,c,T,u):null}var k=(D-e+(L-i)-d)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(D,this.OriginalSequence,k))return u[0]=!0,o[0]=D,c[0]=L,k>0&&a>0&&d<=a+1?this.WALKTRACE(E,p,f,C,_,g,v,w,b,S,l,t,o,h,r,c,T,u):(e++,i++,[new n.DiffChange(e,t-e+1,i,r-i+1)]);for(g=this.ClipDiagonalBound(_-d,d,_,y),v=this.ClipDiagonalBound(_+d,d,_,y),x=g;x<=v;x+=2){for(l=x===g||x<v&&S[x-1]>=S[x+1]?S[x+1]-1:S[x-1],h=l-(x-_)-w,A=l;l>e&&h>i&&this.ElementsAreEqual(l,h);)l--,h--;if(S[x]=l,T&&Math.abs(x-E)<=d&&l<=b[x])return o[0]=l,c[0]=h,A>=b[x]&&a>0&&d<=a+1?this.WALKTRACE(E,p,f,C,_,g,v,w,b,S,l,t,o,h,r,c,T,u):null}if(d<=a){var P=new Array(f-p+2);P[0]=E-p+1,s.Copy(b,p,P,1,f-p+1),this.m_forwardHistory.push(P),P=new Array(v-g+2),P[0]=_-g+1,s.Copy(S,g,P,1,v-g+1),this.m_reverseHistory.push(P)}}return this.WALKTRACE(E,p,f,C,_,g,v,w,b,S,l,t,o,h,r,c,T,u)},e.prototype.ConcatenateChanges=function(e,t){var n=[],i=null;return 0===e.length||0===t.length?t.length>0?t:e:this.ChangesOverlap(e[e.length-1],t[0],n)?(i=new Array(e.length+t.length-1),s.Copy(e,0,i,0,e.length-1),i[e.length-1]=n[0],s.Copy(t,1,i,e.length,t.length-1),i):(i=new Array(e.length+t.length),s.Copy(e,0,i,0,e.length),s.Copy(t,0,i,e.length,t.length),i)},e.prototype.ChangesOverlap=function(e,t,i){if(o.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),o.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){var r=e.originalStart,s=e.originalLength,a=e.modifiedStart,c=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(s=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(c=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new n.DiffChange(r,s,a,c),!0}return i[0]=null,!1},e.prototype.ClipDiagonalBound=function(e,t,n,i){if(e>=0&&e<i)return e;var r=n,o=i-n-1,s=t%2===0;if(e<0){var a=r%2===0;return s===a?0:1}var c=o%2===0;return s===c?i-1:i-2},e}();t.LcsDiff=l});var d=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};define(l[109],h([1,0]),function(e,t){"use strict";var n=function(){function e(e){this.time=(new Date).getTime(),this.originalEvent=e,this.source=null}return e}();t.Event=n;var i=function(e){function t(t,n,i,r){e.call(this,r),this.key=t,this.oldValue=n,this.newValue=i}return d(t,e),t}(n);t.PropertyChangeEvent=i;var r=function(e){function t(t,n){e.call(this,n),this.element=t}return d(t,e),t}(n);t.ViewerEvent=r,t.EventType={PROPERTY_CHANGED:"propertyChanged",SELECTION:"selection",FOCUS:"focus",BLUR:"blur",HIGHLIGHT:"highlight",EXPAND:"expand",COLLAPSE:"collapse",TOGGLE:"toggle",BEFORE_RUN:"beforeRun",RUN:"run",EDIT:"edit",SAVE:"save",CANCEL:"cancel",CHANGE:"change",DISPOSE:"dispose"}}),define(l[1046],h([1,0]),function(e,t){"use strict";function n(e,t){switch(void 0===t&&(t=0),typeof e){case"object":return null===e?i(349,t):Array.isArray(e)?s(e,t):a(e,t);case"string":return o(e,t);case"boolean":return r(e,t);case"number":return i(e,t);case"undefined":return i(e,937);default:return i(e,617)}}function i(e,t){return(t<<5)-t+e|0}function r(e,t){return i(e?433:863,t)}function o(e,t){t=i(149417,t);for(var n=0,r=e.length;n<r;n++)t=i(e.charCodeAt(n),t);return t}function s(e,t){return t=i(104579,t),e.reduce(function(e,t){return n(t,e)},t)}function a(e,t){return t=i(181387,t),Object.keys(e).sort().reduce(function(t,i){return t=o(i,t),n(e[i],t)},t)}t.hash=n}),define(l[262],h([1,0]),function(e,t){"use strict";function n(e,t){return!e&&!t||!(!e||!t)&&(Array.isArray(e)?!!Array.isArray(t)&&i(e,t):r(e,t))}function i(e,t){var n=e.length,i=t.length;if(n!==i)return!1;for(var o=0;o<n;o++)if(!r(e[o],t[o]))return!1;return!0}function r(e,t){return!e&&!t||!(!e||!t)&&("string"==typeof e?"string"==typeof t&&e===t:e.language===t.language&&e.value===t.value)}function o(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}function s(e){return e?e.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1"):e}function a(e,t){return!e&&!t||!(!e||!t)&&(e.language===t.language&&e.value===t.value)}function c(e,t){return e.formattedText===t.formattedText&&e.text===t.text&&e.className===t.className&&e.style===t.style&&e.customStyle===t.customStyle&&e.tagName===t.tagName&&e.isText===t.isText&&e.role===t.role&&e.markdown===t.markdown&&a(e.code,t.code)&&u(e.children,t.children)}function u(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;var n=e.length,i=t.length;if(n!==i)return!1;for(var r=0;r<n;r++)if(!c(e[r],t[r]))return!1;return!0}t.markedStringsEquals=n,t.textToMarkedString=o,t.removeMarkdownEscapes=s,t.htmlContentElementArrEquals=u}),define(l[189],h([1,0]),function(e,t){"use strict";var n=function(){function e(e){this._prefix=e,this._lastId=0}return e.prototype.nextId=function(){return this._prefix+ ++this._lastId},e}();t.IdGenerator=n,t.defaultGenerator=new n("id#")}),define(l[188],h([1,0]),function(e,t){"use strict";var n=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length),this.items=e,this.start=t,this.end=n,this.index=t-1}return e.prototype.first=function(){return this.index=this.start,this.current()},e.prototype.next=function(){return this.index=Math.min(this.index+1,this.end),this.current()},e.prototype.current=function(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]},e}();t.ArrayIterator=n;var i=function(e){function t(t,n,i){void 0===n&&(n=0),void 0===i&&(i=t.length),e.call(this,t,n,i)}return d(t,e),t.prototype.current=function(){return e.prototype.current.call(this)},t.prototype.previous=function(){return this.index=Math.max(this.index-1,this.start-1),this.current()},t.prototype.first=function(){return this.index=this.start,this.current()},t.prototype.last=function(){return this.index=this.end-1,this.current()},t.prototype.parent=function(){return null},t}(n);t.ArrayNavigator=i;var r=function(){function e(e,t){this.iterator=e,this.fn=t}return e.prototype.next=function(){return this.fn(this.iterator.next())},e}();t.MappedIterator=r;var o=function(e){function t(t,n){e.call(this,t,n),this.navigator=t}return d(t,e),t.prototype.current=function(){return this.fn(this.navigator.current())},t.prototype.previous=function(){return this.fn(this.navigator.previous())},t.prototype.parent=function(){return this.fn(this.navigator.parent())},t.prototype.first=function(){return this.fn(this.navigator.first())},t.prototype.last=function(){return this.fn(this.navigator.last())},t}(r);t.MappedNavigator=o}),define(l[52],h([1,0]),function(e,t){"use strict";function n(e,t){var n=[];e(n);for(var i={},o=0,s=n.length;o<s;o++)n[o]&&(i[n[o]]=o);t(i);var a={};for(var c in i)i.hasOwnProperty(c)&&(a[c]=i[c],a[c.toLowerCase()]=i[c]);return new r(n,a)}function i(e,t){return e|(65535&t)<<16}!function(e){e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.KEY_0=21]="KEY_0",e[e.KEY_1=22]="KEY_1",e[e.KEY_2=23]="KEY_2",e[e.KEY_3=24]="KEY_3",e[e.KEY_4=25]="KEY_4",e[e.KEY_5=26]="KEY_5",e[e.KEY_6=27]="KEY_6",e[e.KEY_7=28]="KEY_7",e[e.KEY_8=29]="KEY_8",e[e.KEY_9=30]="KEY_9",e[e.KEY_A=31]="KEY_A",e[e.KEY_B=32]="KEY_B",e[e.KEY_C=33]="KEY_C",e[e.KEY_D=34]="KEY_D",e[e.KEY_E=35]="KEY_E",e[e.KEY_F=36]="KEY_F",e[e.KEY_G=37]="KEY_G",e[e.KEY_H=38]="KEY_H",e[e.KEY_I=39]="KEY_I",e[e.KEY_J=40]="KEY_J",e[e.KEY_K=41]="KEY_K",e[e.KEY_L=42]="KEY_L",e[e.KEY_M=43]="KEY_M",e[e.KEY_N=44]="KEY_N",e[e.KEY_O=45]="KEY_O",e[e.KEY_P=46]="KEY_P",e[e.KEY_Q=47]="KEY_Q",e[e.KEY_R=48]="KEY_R",e[e.KEY_S=49]="KEY_S",e[e.KEY_T=50]="KEY_T",e[e.KEY_U=51]="KEY_U",e[e.KEY_V=52]="KEY_V",e[e.KEY_W=53]="KEY_W",e[e.KEY_X=54]="KEY_X",e[e.KEY_Y=55]="KEY_Y",e[e.KEY_Z=56]="KEY_Z",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.NumLock=78]="NumLock",e[e.ScrollLock=79]="ScrollLock",e[e.US_SEMICOLON=80]="US_SEMICOLON",e[e.US_EQUAL=81]="US_EQUAL",e[e.US_COMMA=82]="US_COMMA",e[e.US_MINUS=83]="US_MINUS",e[e.US_DOT=84]="US_DOT",e[e.US_SLASH=85]="US_SLASH",e[e.US_BACKTICK=86]="US_BACKTICK",e[e.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",e[e.US_BACKSLASH=88]="US_BACKSLASH",e[e.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",e[e.US_QUOTE=90]="US_QUOTE",e[e.OEM_8=91]="OEM_8",e[e.OEM_102=92]="OEM_102",e[e.NUMPAD_0=93]="NUMPAD_0",e[e.NUMPAD_1=94]="NUMPAD_1",e[e.NUMPAD_2=95]="NUMPAD_2",e[e.NUMPAD_3=96]="NUMPAD_3",e[e.NUMPAD_4=97]="NUMPAD_4",e[e.NUMPAD_5=98]="NUMPAD_5",e[e.NUMPAD_6=99]="NUMPAD_6",e[e.NUMPAD_7=100]="NUMPAD_7",e[e.NUMPAD_8=101]="NUMPAD_8",e[e.NUMPAD_9=102]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=104]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",e[e.MAX_VALUE=109]="MAX_VALUE"}(t.KeyCode||(t.KeyCode={}));var r=(t.KeyCode,function(){function e(e,t){this._fromKeyCode=e,this._toKeyCode=t}return e.prototype.fromKeyCode=function(e){return this._fromKeyCode[e]},e.prototype.toKeyCode=function(e){return this._toKeyCode.hasOwnProperty(e)?this._toKeyCode[e]:0},e}());t.Mapping=r;var o=n(function(e){e[0]="unknown",e[1]="Backspace",e[2]="Tab",e[3]="Enter",e[4]="Shift",e[5]="Ctrl",e[6]="Alt",e[7]="PauseBreak",e[8]="CapsLock",e[9]="Escape",e[10]="Space",e[11]="PageUp",e[12]="PageDown",e[13]="End",e[14]="Home",e[15]="LeftArrow",e[16]="UpArrow",e[17]="RightArrow",e[18]="DownArrow",e[19]="Insert",e[20]="Delete",e[21]="0",e[22]="1",e[23]="2",e[24]="3",e[25]="4",e[26]="5",e[27]="6",e[28]="7",e[29]="8",e[30]="9",e[31]="A",e[32]="B",e[33]="C",e[34]="D",e[35]="E",e[36]="F",e[37]="G",e[38]="H",e[39]="I",e[40]="J",e[41]="K",e[42]="L",e[43]="M",e[44]="N",e[45]="O",e[46]="P",e[47]="Q",e[48]="R",e[49]="S",e[50]="T",e[51]="U",e[52]="V",e[53]="W",e[54]="X",e[55]="Y",e[56]="Z",e[58]="ContextMenu",e[59]="F1",e[60]="F2",e[61]="F3",e[62]="F4",e[63]="F5",e[64]="F6",e[65]="F7",e[66]="F8",e[67]="F9",e[68]="F10",e[69]="F11",e[70]="F12",e[71]="F13",e[72]="F14",e[73]="F15",e[74]="F16",e[75]="F17",e[76]="F18",e[77]="F19",e[78]="NumLock",e[79]="ScrollLock",e[80]=";",e[81]="=",e[82]=",",e[83]="-",e[84]=".",e[85]="/",e[86]="`",e[87]="[",e[88]="\\",e[89]="]",e[90]="'",e[91]="OEM_8",e[92]="OEM_102",e[93]="NumPad0",e[94]="NumPad1",e[95]="NumPad2",e[96]="NumPad3",e[97]="NumPad4",e[98]="NumPad5",e[99]="NumPad6",e[100]="NumPad7",e[101]="NumPad8",e[102]="NumPad9",e[103]="NumPad_Multiply",e[104]="NumPad_Add",e[105]="NumPad_Separator",e[106]="NumPad_Subtract",e[107]="NumPad_Decimal",e[108]="NumPad_Divide"},function(e){e["\r"]=3});t.USER_SETTINGS=n(function(e){for(var t=0,n=o._fromKeyCode.length;t<n;t++)e[t]=o._fromKeyCode[t];e[15]="Left",e[16]="Up",e[17]="Right",e[18]="Down"},function(e){e.OEM_1=80,e.OEM_PLUS=81,e.OEM_COMMA=82,e.OEM_MINUS=83,e.OEM_PERIOD=84,e.OEM_2=85,e.OEM_3=86,e.OEM_4=87,e.OEM_5=88,e.OEM_6=89,e.OEM_7=90,e.OEM_8=91,e.OEM_102=92});var s;!function(e){function t(e){return o.fromKeyCode(e)}function n(e){return o.toKeyCode(e)}e.toString=t,e.fromString=n}(s=t.KeyCodeUtils||(t.KeyCodeUtils={}));var a;!function(e){e[e.CtrlCmd=32768]="CtrlCmd",e[e.Shift=16384]="Shift",e[e.Alt=8192]="Alt",e[e.WinCtrl=4096]="WinCtrl",e[e.KeyCode=4095]="KeyCode",e[e.ModifierMask=61440]="ModifierMask"}(a||(a={})),function(e){e[e.CtrlCmd=32768]="CtrlCmd",e[e.Shift=16384]="Shift",e[e.Alt=8192]="Alt",e[e.WinCtrl=4096]="WinCtrl"}(t.KeyMod||(t.KeyMod={}));t.KeyMod;t.KeyChord=i;var c=function(){function e(){}return e.extractFirstPart=function(e){return 65535&e},e.extractChordPart=function(e){return e>>16&65535},e.hasChord=function(e){return 0!==this.extractChordPart(e)},e.hasCtrlCmd=function(e){return!!(32768&e)},e.hasShift=function(e){return!!(16384&e)},e.hasAlt=function(e){return!!(8192&e)},e.hasWinCtrl=function(e){return!!(4096&e)},e.isModifierKey=function(e){if((61440&e)===e)return!0;var t=this.extractKeyCode(e);return 5===t||57===t||6===t||4===t},e.extractKeyCode=function(e){return 4095&e},e}();t.BinaryKeybindings=c;var u=function(){function e(e){this.value=e}return e.prototype.equals=function(e){return this.value===e.value},e.prototype.hasCtrlCmd=function(){return c.hasCtrlCmd(this.value)},e.prototype.hasShift=function(){return c.hasShift(this.value)},e.prototype.hasAlt=function(){return c.hasAlt(this.value)},e.prototype.hasWinCtrl=function(){return c.hasWinCtrl(this.value)},e.prototype.isModifierKey=function(){return c.isModifierKey(this.value)},e.prototype.getKeyCode=function(){return c.extractKeyCode(this.value)},e}();t.Keybinding=u}),define(l[103],h([1,0]),function(e,t){"use strict";var n=function(){function e(){this.map=Object.create(null),this._size=0}return Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t=this.peek(e);return t?t:null},e.prototype.getOrSet=function(e,t){var n=this.get(e);return n?n:(this.set(e,t),t)},e.prototype.keys=function(){var e=[];for(var t in this.map)e.push(this.map[t].key);return e},e.prototype.values=function(){var e=[];for(var t in this.map)e.push(this.map[t].value);return e},e.prototype.entries=function(){var e=[];for(var t in this.map)e.push(this.map[t]);return e},e.prototype.set=function(e,t){return!this.get(e)&&(this.push(e,t),!0)},e.prototype.delete=function(e){var t=this.get(e);return t?(this.pop(e),t):null},e.prototype.has=function(e){return!!this.get(e)},e.prototype.clear=function(){this.map=Object.create(null),this._size=0},e.prototype.push=function(e,t){var n={key:e,value:t};this.map[e.toString()]=n,this._size++},e.prototype.pop=function(e){delete this.map[e.toString()],this._size--},e.prototype.peek=function(e){var t=this.map[e.toString()];return t?t.value:null},e}();t.LinkedMap=n;var i=function(){function e(e,t){void 0===e&&(e=Number.MAX_VALUE),void 0===t&&(t=1),this.limit=e,this.map=Object.create(null),this._size=0,this.ratio=e*t}return Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){if(this.map[e])return!1;var n={key:e,value:t};return this.push(n),this._size>this.limit&&this.trim(),!0},e.prototype.get=function(e){var t=this.map[e];return t?t.value:null},e.prototype.getOrSet=function(e,t){var n=this.get(e);return n?n:(this.set(e,t),t)},e.prototype.delete=function(e){var t=this.map[e];return t?(this.map[e]=void 0,this._size--,t.next?t.next.prev=t.prev:this.head=t.prev,t.prev?t.prev.next=t.next:this.tail=t.next,t.value):null},e.prototype.has=function(e){return!!this.map[e]},e.prototype.clear=function(){this.map=Object.create(null),this._size=0,this.head=null,this.tail=null},e.prototype.push=function(e){this.head&&(e.prev=this.head,this.head.next=e),this.tail||(this.tail=e),this.head=e,this.map[e.key]=e,this._size++},e.prototype.trim=function(){if(this.tail)if(this.ratio<this.limit)for(var e=0,t=this.tail;t.next;){if(this.map[t.key]=void 0,this._size--,e===this.ratio){this.tail=t.next,this.tail.prev=null;break}t=t.next,e++}else this.map[this.tail.key]=void 0,this._size--,this.tail=this.tail.next,this.tail.prev=null},e}();t.BoundedLinkedMap=i;var r=function(e){function t(t){e.call(this,t)}return d(t,e),t.prototype.get=function(e){var t=this.map[e];return t?(this.delete(e),this.push(t),t.value):null},t}(i);t.LRUCache=r;var o=function(){function e(e){this._root={children:Object.create(null)
},this._splitter=e}return e.prototype.insert=function(e,t){for(var n=this._splitter(e),i=0,r=this._root;i<n.length;i++){var o=r.children[n[i]];{if(!o)break;r=o}}for(var s;i<n.length;i++)s={children:Object.create(null)},r.children[n[i]]=s,r=s;r.element=t},e.prototype.lookUp=function(e){for(var t,n=this._splitter(e),i=this._root.children,r=0,o=n;r<o.length;r++){var s=o[r];if(t=i[s],!t)return;i=t.children}return t.element},e.prototype.findSubstr=function(e){for(var t,n=this._splitter(e),i=this._root.children,r=0,o=n;r<o.length;r++){var s=o[r],a=i[s];if(!a)break;a.element&&(t=a),i=a.children}if(t)return t.element},e.prototype.findSuperstr=function(t){for(var n,i=this._splitter(t),r=this._root.children,o=0,s=i;o<s.length;o++){var a=s[o];if(n=r[a],!n)return;r=n.children}var c=new e(this._splitter);return c._root=n,c},e.PathSplitter=function(e){return e.split(/[\\/]/).filter(function(e){return!!e})},e}();t.TrieMap=o});/**
 * marked - a markdown parser
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 */
var p={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:a,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:a,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:a,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};p.bullet=/(?:[*+-]|\d+\.)/,p.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,p.item=s(p.item,"gm")(/bull/g,p.bullet)(),p.list=s(p.list)(/bull/g,p.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+p.def.source+")")(),p.blockquote=s(p.blockquote)("def",p.def)(),p._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",p.html=s(p.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,p._tag)(),p.paragraph=s(p.paragraph)("hr",p.hr)("heading",p.heading)("lheading",p.lheading)("blockquote",p.blockquote)("tag","<"+p._tag)("def",p.def)(),p.normal=c({},p),p.gfm=c({},p.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),p.gfm.paragraph=s(p.paragraph)("(?!","(?!"+p.gfm.fences.source.replace("\\1","\\2")+"|"+p.list.source.replace("\\1","\\3")+"|")(),p.tables=c({},p.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=p,e.lex=function(t,n){var i=new e(n);return i.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,n){for(var i,r,o,s,a,c,u,l,h,e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),c={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},l=0;l<c.align.length;l++)/^ *-+: *$/.test(c.align[l])?c.align[l]="right":/^ *:-+: *$/.test(c.align[l])?c.align[l]="center":/^ *:-+ *$/.test(c.align[l])?c.align[l]="left":c.align[l]=null;for(l=0;l<c.cells.length;l++)c.cells[l]=c.cells[l].split(/ *\| */);this.tokens.push(c)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),s=o[2],this.tokens.push({type:"list_start",ordered:s.length>1}),o=o[0].match(this.rules.item),i=!1,h=o.length,l=0;l<h;l++)c=o[l],u=c.length,c=c.replace(/^ *([*+-]|\d+\.) +/,""),~c.indexOf("\n ")&&(u-=c.length,c=this.options.pedantic?c.replace(/^ {1,4}/gm,""):c.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&l!==h-1&&(a=p.bullet.exec(o[l+1])[0],s===a||s.length>1&&a.length>1||(e=o.slice(l+1).join("\n")+e,l=h-1)),r=i||/\n\n(?!\s*$)/.test(c),l!==h-1&&(i="\n"===c.charAt(c.length-1),r||(r=i)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(c,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===o[1]||"script"===o[1]||"style"===o[1],text:o[0]});else if(!n&&t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(t&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),c={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},l=0;l<c.align.length;l++)/^ *-+: *$/.test(c.align[l])?c.align[l]="right":/^ *:-+: *$/.test(c.align[l])?c.align[l]="center":/^ *:-+ *$/.test(c.align[l])?c.align[l]="left":c.align[l]=null;for(l=0;l<c.cells.length;l++)c.cells[l]=c.cells[l].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(c)}else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var f={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:a,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:a,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};f._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,f._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,f.link=s(f.link)("inside",f._inside)("href",f._href)(),f.reflink=s(f.reflink)("inside",f._inside)(),f.normal=c({},f),f.pedantic=c({},f.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),f.gfm=c({},f.normal,{escape:s(f.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:s(f.text)("]|","~]|")("|","|https?://|")()}),f.breaks=c({},f.gfm,{br:s(f.br)("{2,}","*")(),text:s(f.gfm.text)("{2,}","*")()}),t.rules=f,t.output=function(e,n,i){var r=new t(n,i);return r.output(e)},t.prototype.output=function(e){for(var t,n,i,o,s="";e;)if(o=this.rules.escape.exec(e))e=e.substring(o[0].length),s+=o[1];else if(o=this.rules.autolink.exec(e))e=e.substring(o[0].length),"@"===o[2]?(n=":"===o[1].charAt(6)?this.mangle(o[1].substring(7)):this.mangle(o[1]),i=this.mangle("mailto:")+n):(n=r(o[1]),i=n),s+=this.renderer.link(i,null,n);else if(this.inLink||!(o=this.rules.url.exec(e))){if(o=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),e=e.substring(o[0].length),s+=this.options.sanitize?r(o[0]):o[0];else if(o=this.rules.link.exec(e))e=e.substring(o[0].length),this.inLink=!0,s+=this.outputLink(o,{href:o[2],title:o[3]}),this.inLink=!1;else if((o=this.rules.reflink.exec(e))||(o=this.rules.nolink.exec(e))){if(e=e.substring(o[0].length),t=(o[2]||o[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){s+=o[0].charAt(0),e=o[0].substring(1)+e;continue}this.inLink=!0,s+=this.outputLink(o,t),this.inLink=!1}else if(o=this.rules.strong.exec(e))e=e.substring(o[0].length),s+=this.renderer.strong(this.output(o[2]||o[1]));else if(o=this.rules.em.exec(e))e=e.substring(o[0].length),s+=this.renderer.em(this.output(o[2]||o[1]));else if(o=this.rules.code.exec(e))e=e.substring(o[0].length),s+=this.renderer.codespan(r(o[2],!0));else if(o=this.rules.br.exec(e))e=e.substring(o[0].length),s+=this.renderer.br();else if(o=this.rules.del.exec(e))e=e.substring(o[0].length),s+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),s+=r(this.smartypants(o[0]));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(o[0].length),n=r(o[1]),i=n,s+=this.renderer.link(i,null,n);return s},t.prototype.outputLink=function(e,t){var n=r(t.href),i=t.title?r(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,r(e[1]))},t.prototype.smartypants=function(e){return e},t.prototype.mangle=function(e){for(var t,n="",i=e.length,r=0;r<i;r++)t=e.charCodeAt(r),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},n.prototype.code=function(e,t,n){if(this.options.highlight){var i=this.options.highlight(e,t);null!=i&&i!==e&&(n=!0,e=i)}return t?'<pre><code class="'+this.options.langPrefix+r(t,!0)+'">'+(n?e:r(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:r(e,!0))+"\n</code></pre>"},n.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.prototype.html=function(e){return e},n.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},n.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},n.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},n.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},n.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.prototype.tablecell=function(e,t){var n=t.header?"th":"td",i=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return i+e+"</"+n+">\n"},n.prototype.strong=function(e){return"<strong>"+e+"</strong>"},n.prototype.em=function(e){return"<em>"+e+"</em>"},n.prototype.codespan=function(e){return"<code>"+e+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(e){return"<del>"+e+"</del>"},n.prototype.link=function(e,t,n){if(this.options.sanitize){try{var i=decodeURIComponent(o(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===i.indexOf("javascript:"))return""}var r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},n.prototype.image=function(e,t,n){var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"},i.parse=function(e,t,n){var r=new i(t,n);return r.parse(e)},i.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var n="";this.next();)n+=this.tok();return n},i.prototype.next=function(){return this.token=this.tokens.pop()},i.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},i.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},i.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,i,r,o="",s="";for(n="",e=0;e<this.token.header.length;e++)i={header:!0,align:this.token.align[e]},n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});s+=this.renderer.tablerow(n)}return this.renderer.table(o,s);case"blockquote_start":for(var s="";"blockquote_end"!==this.next().type;)s+=this.tok();return this.renderer.blockquote(s);case"list_start":for(var s="",a=this.token.ordered;"list_end"!==this.next().type;)s+=this.tok();return this.renderer.list(s,a);case"list_item_start":for(var s="";"list_item_end"!==this.next().type;)s+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(s);case"loose_item_start":for(var s="";"list_item_end"!==this.next().type;)s+=this.tok();return this.renderer.listitem(s);case"html":var c=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(c);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},a.exec=a,u.options=u.setOptions=function(e){return c(u.defaults,e),u},u.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new n,xhtml:!1},u.Parser=i,u.parser=i.parse,u.Renderer=n,u.Lexer=e,u.lexer=e.lex,u.InlineLexer=t,u.inlineLexer=t.output,u.parse=u,this.marked=u,define("vs/base/common/marked/raw.marked",[],function(){return this.marked}),require.config({shim:{"vs/base/common/marked/raw.marked":{exports:function(){return this.marked}}}}),define(l[249],h([1261]),function(e){return{marked:e}}),define(l[13],h([1,0]),function(e,t){"use strict";function n(){return"undefined"!=typeof m.Worker}var i=!1,r=!1,o=!1,s=!1,a=!1,c=!1,u=!1,l=void 0,h=void 0;if(t.LANGUAGE_DEFAULT="en","object"==typeof process){i="win32"===process.platform,r="darwin"===process.platform,o="linux"===process.platform,s=!i&&0===process.getuid();var d=process.env.VSCODE_NLS_CONFIG;if(d)try{var p=JSON.parse(d),f=p.availableLanguages["*"];l=p.locale,h=f?f:t.LANGUAGE_DEFAULT}catch(e){}a=!0}else if("object"==typeof navigator){var g=navigator.userAgent;i=g.indexOf("Windows")>=0,r=g.indexOf("Macintosh")>=0,o=g.indexOf("Linux")>=0,c=!0,l=navigator.language,h=l,u=!!self.QUnit}!function(e){e[e.Web=0]="Web",e[e.Mac=1]="Mac",e[e.Linux=2]="Linux",e[e.Windows=3]="Windows"}(t.Platform||(t.Platform={}));var v=t.Platform;t._platform=v.Web,a&&(r?t._platform=v.Mac:i?t._platform=v.Windows:o&&(t._platform=v.Linux)),t.isWindows=i,t.isMacintosh=r,t.isLinux=o,t.isRootUser=s,t.isNative=a,t.isWeb=c,t.isQunit=u,t.platform=t._platform,t.language=h,t.locale=l;var m="object"==typeof self?self:global;t.globals=m,t.hasWebWorkerSupport=n,t.setTimeout=m.setTimeout.bind(m),t.clearTimeout=m.clearTimeout.bind(m),t.setInterval=m.setInterval.bind(m),t.clearInterval=m.clearInterval.bind(m)}),define(l[346],h([1,0,13]),function(e,t,n){"use strict";function i(e,t){for(;e.length>t;)e.shift()}function r(e,t){var r=!0;if(r)return function(){};var o=s[e]||!1;s[e]=o;var u=a[e]||[];u.push(t),a[e]=u;var l=function(){for(var r=[],o=0;o<arguments.length;o++)r[o-0]=arguments[o];var a;if(s[e]===!0){var u=[arguments];a=c.indexOf(t),a!==-1&&(u.unshift.apply(u,c[a+1]||[]),c[a+1]=[]);var l=function(){var e=u.shift();t.apply(t,e),u.length>0&&n.setTimeout(l,500)};l()}else{a=c.indexOf(t),a=a!==-1?a:c.length;var h=a+1,d=c[h]||[];d.push(arguments),i(d,50),c[a]=t,c[h]=d}};return l}var o=n.globals;o.Monaco||(o.Monaco={}),o.Monaco.Diagnostics={};var s=o.Monaco.Diagnostics,a={},c=[];t.register=r}),define(l[20],h([1,0,13,35]),function(e,t,n,i){"use strict";function r(e,r){for(var o=u(e),s=u(r),a=n.isLinux?o:o.toLowerCase(),c=n.isLinux?s:s.toLowerCase(),l=a.split(t.sep),h=c.split(t.sep),d=0,p=Math.min(l.length,h.length);d<p&&l[d]===h[d];d++);var f=i.fill(l.length-d,function(){return".."}).concat(s.split(t.sep).slice(d));return f.join(t.sep)}function o(e){var t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return 0===t?".":0===~t?e[0]:e.substring(0,~t)}function s(e){var t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return 0===t?e:~t===e.length-1?s(e.substring(0,e.length-1)):e.substr(~t+1)}function a(e){e=s(e);var t=~e.lastIndexOf(".");return t?e.substring(~t):""}function c(e,t){return t?!b.test(e):!y.test(e)}function u(e,t){if(null===e||void 0===e)return e;var i=e.length;if(0===i)return".";var r=n.isWindows&&t;if(c(e,r))return e;for(var o=r?"\\":"/",s=h(e,o),a=s.length,u=!1,d="",p=s.length;p<=i;p++)if(p===i||47===e.charCodeAt(p)||92===e.charCodeAt(p)){if(l(e,a,p,"..")){var f=d.lastIndexOf(o),g=d.slice(f+1);(s||g.length>0)&&".."!==g&&(d=f===-1?"":d.slice(0,f),u=!0)}else l(e,a,p,".")&&(s||d||p<i-1)&&(u=!0);if(!u){var v=e.slice(a,p);""!==d&&d[d.length-1]!==o&&(d+=o),d+=v}a=p+1,u=!1}return s+d}function l(e,t,n,i){return t+i.length===n&&e.indexOf(i,t)===t}function h(e,t){if(void 0===t&&(t="/"),!e)return"";var n=e.length,i=e.charCodeAt(0);if(47===i||92===i){if(i=e.charCodeAt(1),(47===i||92===i)&&(i=e.charCodeAt(2),47!==i&&92!==i)){for(var r=3,o=r;r<n&&(i=e.charCodeAt(r),47!==i&&92!==i);r++);if(i=e.charCodeAt(r+1),o!==r&&47!==i&&92!==i)for(r+=1;r<n;r++)if(i=e.charCodeAt(r),47===i||92===i)return e.slice(0,r+1).replace(/[\\/]/g,t)}return t}if((i>=65&&i<=90||i>=97&&i<=122)&&58===e.charCodeAt(1))return i=e.charCodeAt(2),47===i||92===i?e.slice(0,2)+t:e.slice(0,2);var s=e.indexOf("://");if(s!==-1)for(s+=3;s<n;s++)if(i=e.charCodeAt(s),47===i||92===i)return e.slice(0,s+1);return""}function d(e){if(!n.isWindows)return!1;if(!e||e.length<5)return!1;var t=e.charCodeAt(0);if(92!==t)return!1;if(t=e.charCodeAt(1),92!==t)return!1;for(var i=2,r=i;i<e.length&&(t=e.charCodeAt(i),92!==t);i++);return r!==i&&(t=e.charCodeAt(i+1),!isNaN(t)&&92!==t)}function p(e){return e&&"/"===e[0]}function f(e){return p(u(e))?e:t.sep+e}function g(e,t){if(e===t)return!0;e=u(e),t=u(t);var i=t.length,r=t.charCodeAt(i-1);if(47===r&&(t=t.substring(0,i-1),i-=1),e===t)return!0;if(n.isLinux||(e=e.toLowerCase(),t=t.toLowerCase()),e===t)return!0;if(0!==e.indexOf(t))return!1;var o=e.charCodeAt(i);return 47===o}function v(e){return!(!e||0===e.length||/^\s+$/.test(e))&&(S.lastIndex=0,!S.test(e)&&((!n.isWindows||!E.test(e))&&("."!==e&&".."!==e&&((!n.isWindows||"."!==e[e.length-1])&&(!n.isWindows||e.length===e.trim().length)))))}function m(e){return t.isAbsoluteRegex.test(e)}t.sep="/",t.nativeSep=n.isWindows?"\\":"/",t.relative=r,t.dirname=o,t.basename=s,t.extname=a;var y=/(\/\.\.?\/)|(\/\.\.?)$|^(\.\.?\/)|(\/\/+)|(\\)/,b=/(\\\.\.?\\)|(\\\.\.?)$|^(\.\.?\\)|(\\\\+)|(\/)/;t.normalize=u,t.getRoot=h,t.join=function(){for(var e="",n=0;n<arguments.length;n++){var i=arguments[n];if(n>0){var r=e.charCodeAt(e.length-1);if(47!==r&&92!==r){var o=i.charCodeAt(0);47!==o&&92!==o&&(e+=t.sep)}}e+=i}return u(e)},t.isUNC=d,t.makePosixAbsolute=f,t.isEqualOrParent=g;var S=n.isWindows?/[\\/:\*\?"<>\|]/g:/[\\/]/g,E=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])$/i;t.isValidBasename=v,t.isAbsoluteRegex=/^((\/|[a-zA-Z]:\\)[^\(\)<>\\'\"\[\]]+)/,t.isAbsolute=m}),define(l[209],h([1,0]),function(e,t){"use strict";function n(e,t,n){if(!e||!t)return 0;var r=e+t,s=n&&n[r];if("number"==typeof s)return s;for(var a=t.length,c=e.toLowerCase(),u=t.toLowerCase(),l=0,h=0,d=0,p=function(){var n=c.indexOf(u[l],h);return n<0?(d=0,"break"):(d+=1,h===n&&(d+=5),e[n]===t[n]&&(d+=1),0===n?d+=8:o.some(function(t){return t===e[n-1]})?d+=7:i(e.charCodeAt(n))&&(d+=1),h=n+1,void l++)};l<a;){var f=p();if("break"===f)break}return n&&(n[r]=d),d}function i(e){return 65<=e&&e<=90}function r(e,t){if(!e||!t)return!1;for(var n=t.length,i=e.toLowerCase(),r=0,o=-1;r<n;){var s=i.indexOf(t[r],o+1);if(s<0)return!1;o=s,r++}return!0}/*!
    BEGIN THIRD PARTY
    */
/*!
    * string_score.js: String Scoring Algorithm 0.1.22
    *
    * http://joshaven.com/string_score
    * https://github.com/joshaven/string_score
    *
    * Copyright (C) 2009-2014 Joshaven Potter <yourtech@gmail.com>
    * Special thanks to all of the contributors listed here https://github.com/joshaven/string_score
    * MIT License: http://opensource.org/licenses/MIT
    *
    * Date: Tue Mar 1 2011
    * Updated: Tue Mar 10 2015
    */
var o=["-","_"," ","/","\\","."];t.score=n,t.matches=r}),/*!
END THIRD PARTY
*/
define(l[156],h([1,0]),function(e,t){"use strict";var n=function(){function e(e){void 0===e&&(e=[]),this._elements=e.slice()}return Object.defineProperty(e.prototype,"size",{get:function(){return this._elements.length},enumerable:!0,configurable:!0}),e.prototype.set=function(e){this.unset(e),this._elements.push(e)},e.prototype.contains=function(e){return this._elements.indexOf(e)>-1},e.prototype.unset=function(e){var t=this._elements.indexOf(e);t>-1&&this._elements.splice(t,1)},Object.defineProperty(e.prototype,"elements",{get:function(){return this._elements.slice()},enumerable:!0,configurable:!0}),e}();t.ArraySet=n}),define(l[321],h([1,0,156,188]),function(e,t,n,i){"use strict";var r=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=10),this._history=new n.ArraySet(e),this._limit=t,this._onChange()}return e.prototype.add=function(e){this._history.set(e),this._onChange()},e.prototype.next=function(){return this._navigator.next()?this._navigator.current():(this.last(),null)},e.prototype.previous=function(){return this._navigator.previous()?this._navigator.current():(this.first(),null)},e.prototype.current=function(){return this._navigator.current()},e.prototype.parent=function(){return null},e.prototype.first=function(){return this._navigator.first()},e.prototype.last=function(){return this._navigator.last()},e.prototype._onChange=function(){this._reduceToLimit(),this._navigator=new i.ArrayNavigator(this._history.elements),this._navigator.last()},e.prototype._reduceToLimit=function(){var e=this._history.elements;e.length>this._limit&&(this._history=new n.ArraySet(e.slice(e.length-this._limit)))},e}();t.HistoryNavigator=r}),define(l[223],h([1,0,13]),function(e,t,n){"use strict";var i=n.globals.performance&&"function"==typeof n.globals.performance.now,r=function(){function e(e){this._highResolution=i&&e,this._startTime=this._now(),this._stopTime=-1}return e.create=function(t){return void 0===t&&(t=!0),new e(t)},e.prototype.stop=function(){this._stopTime=this._now()},e.prototype.elapsed=function(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime},e.prototype._now=function(){return this._highResolution?n.globals.performance.now():(new Date).getTime()},e}();t.StopWatch=r}),define(l[12],h([1,0,103]),function(e,t,n){"use strict";function i(e){return!e||"string"!=typeof e||0===e.trim().length}function r(e,t,n){void 0===n&&(n="0");for(var i=""+e,r=[i],o=i.length;o<t;o++)r.push(n);return r.reverse().join("")}function o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return 0===t.length?e:e.replace(V,function(e,n){var i=parseInt(n,10);return isNaN(i)||i<0||i>=t.length?e:t[i]})}function s(e){return e.replace(/[<|>|&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function a(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}function c(e,t){void 0===t&&(t=" ");var n=u(e,t);return l(n,t)}function u(e,t){if(!e||!t)return e;var n=t.length;if(0===n||0===e.length)return e;for(var i=0,r=-1;(r=e.indexOf(t,i))===i;)i+=n;return e.substring(i)}function l(e,t){if(!e||!t)return e;var n=t.length,i=e.length;if(0===n||0===i)return e;for(var r=i,o=-1;;){if(o=e.lastIndexOf(t,r-1),o===-1||o+n!==r)break;if(0===o)return"";r=o}return e.substring(0,r)}function h(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function d(e){return e.replace(/\*/g,"")}function p(e,t){if(e.length<t.length)return!1;for(var n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0}function f(e,t){var n=e.length-t.length;return n>0?e.indexOf(t,n)===n:0===n&&e===t}function g(e,t,n){void 0===n&&(n=0);var i=e.indexOf(t,n);return i<0&&(n>0&&(e=e.substr(n)),t=a(t),i=e.search(new RegExp(t,"i"))),i}function v(e,t,n){if(void 0===n&&(n={}),""===e)throw new Error("Cannot create regex from empty string");t||(e=e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")),n.wholeWord&&(/\B/.test(e.charAt(0))||(e="\\b"+e),/\B/.test(e.charAt(e.length-1))||(e+="\\b"));var i="";return n.global&&(i+="g"),n.matchCase||(i+="i"),n.multiline&&(i+="m"),new RegExp(e,i)}function m(e){if("^"===e.source||"^$"===e.source||"$"===e.source)return!1;var t=e.exec("");return t&&0===e.lastIndex}function y(e){if(!t.canNormalize||!e)return e;var n=H.get(e);if(n)return n;var i;return i=B.test(e)?e.normalize("NFC"):e,H.set(e,i),i}function b(e){for(var t=0,n=e.length;t<n;t++){var i=e.charCodeAt(t);if(32!==i&&9!==i)return t}return-1}function S(e){for(var t=0,n=e.length;t<n;t++){var i=e.charCodeAt(t);if(32!==i&&9!==i)return e.substring(0,t)}return e}function E(e,t){void 0===t&&(t=e.length-1);for(var n=t;n>=0;n--){var i=e.charCodeAt(n);if(32!==i&&9!==i)return n}return-1}function _(e,t){return e<t?-1:e>t?1:0}function C(e){return e>=97&&e<=122||e>=65&&e<=90}function w(e,t){var n=e.length,i=t.length;if(n!==i)return!1;for(var r=0;r<n;r++){var o=e.charCodeAt(r),s=t.charCodeAt(r);if(o!==s)if(C(o)&&C(s)){var a=Math.abs(o-s);if(0!==a&&32!==a)return!1}else if(String.fromCharCode(o).toLocaleLowerCase()!==String.fromCharCode(s).toLocaleLowerCase())return!1}return!0}function I(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n++)if(e.charCodeAt(n)!==t.charCodeAt(n))return n;return i}function T(e,t){var n,i=Math.min(e.length,t.length),r=e.length-1,o=t.length-1;for(n=0;n<i;n++)if(e.charCodeAt(r-n)!==t.charCodeAt(o-n))return n;return i}function x(e){return 55296<=e&&e<=56319}function A(e){return 56320<=e&&e<=57343}function D(e){return z.test(e)}function L(e){return e=+e,e>=11904&&e<=55215||e>=63744&&e<=64255||e>=65281&&e<=65374}function k(e,t,n){void 0===n&&(n=4);var i=Math.abs(e.length-t.length);if(i>n)return 0;var r,o,s=[],a=[];for(r=0;r<t.length+1;++r)a.push(0);for(r=0;r<e.length+1;++r)s.push(a);for(r=1;r<e.length+1;++r)for(o=1;o<t.length+1;++o)e[r-1]===t[o-1]?s[r][o]=s[r-1][o-1]+1:s[r][o]=Math.max(s[r-1][o],s[r][o-1]);return s[e.length][t.length]-Math.sqrt(i)}function P(e){for(var t,n=/\r\n|\r|\n/g,i=[0];t=n.exec(e);)i.push(n.lastIndex);return i}function R(e,n){if(e.length<n)return e;for(var i=e.split(/\b/),r=0,o=i.length-1;o>=0;o--)if(r+=i[o].length,r>n){i.splice(0,o);break}return i.join(t.empty).replace(/^\s/,t.empty)}function O(e){return e&&(e=e.replace(U,""),e=e.replace(G,""),e=e.replace(K,"")),e}function M(e){return e&&e.length>0&&65279===e.charCodeAt(0)}function N(e,t,n){var i=e.length+t.length;return i>n&&(e="..."+e.substr(i-n)),e+=t.length>n?t.substr(t.length-n):t}function F(e){return btoa(encodeURIComponent(e))}function W(e,t){for(var n="",i=0;i<t;i++)n+=e;return n}t.empty="",t.isFalsyOrWhitespace=i,t.pad=r;var V=/{(\d+)}/g;t.format=o,t.escape=s,t.escapeRegExpCharacters=a,t.trim=c,t.ltrim=u,t.rtrim=l,t.convertSimple2RegExpPattern=h,t.stripWildcards=d,t.startsWith=p,t.endsWith=f,t.indexOfIgnoreCase=g,t.createRegExp=v,t.regExpLeadsToEndlessLoop=m,t.canNormalize="function"==typeof"".normalize;var B=/[^\u0000-\u0080]/,H=new n.BoundedLinkedMap(1e4);t.normalizeNFC=y,t.firstNonWhitespaceIndex=b,t.getLeadingWhitespace=S,t.lastNonWhitespaceIndex=E,t.compare=_,t.equalsIgnoreCase=w,t.commonPrefixLength=I,t.commonSuffixLength=T,t.isHighSurrogate=x,t.isLowSurrogate=A;var z=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;t.containsRTL=D,t.isFullWidthCharacter=L,t.difference=k,t.computeLineStarts=P,t.lcut=R;var U=/\x1B\x5B[12]?K/g,G=/\x1b\[\d+m/g,K=/\x1b\[0?m/g;t.removeAnsiEscapeCodes=O,t.UTF8_BOM_CHARACTER=String.fromCharCode(65279),t.startsWithUTF8BOM=M,t.appendWithLimit=N,t.safeBtoa=F,t.repeat=W}),define(l[225],h([1,0,209,12]),function(e,t,n,i){"use strict";function r(e,t){var n=c.exec(e.toLowerCase()),i=c.exec(t.toLowerCase()),r=n[1]||"",o=n[3]||"",s=i[1]||"",a=i[3]||"";return r!==s?r<s?-1:1:o===a?0:o<a?-1:1}function o(e,t,n){var o=e.toLowerCase(),a=t.toLowerCase(),c=s(e,t,n);if(c)return c;var u=i.endsWith(o,n),l=i.endsWith(a,n);if(u!==l)return u?-1:1;var h=r(o,a);return 0!==h?h:o.localeCompare(a)}function s(e,t,n){var r=e.toLowerCase(),o=t.toLowerCase(),s=i.startsWith(r,n),a=i.startsWith(o,n);if(s!==a)return s?-1:1;if(s&&a){if(r.length<o.length)return-1;if(r.length>o.length)return 1}return 0}function a(e,t,i,r,a,c){var u=i.getLabel(e),l=i.getLabel(t),h=s(u,l,r);if(h)return h;var d=n.score(u,r,c),p=n.score(l,r,c);if(d!==p)return d>p?-1:1;var f=i.getResourcePath(e),g=i.getResourcePath(t);if(f&&g){var v=n.score(f,r,c),m=n.score(g,r,c);if(v!==m)return v>m?-1:1}return u.length!==l.length?u.length<l.length?-1:1:f&&g&&f.length!==g.length?f.length<g.length?-1:1:u===l&&f&&g?o(f,g,a):o(u,l,a)}var c=/^([^.]*)(\.(.*))?$/;t.compareFileNames=r,t.compareAnything=o,t.compareByPrefix=s,t.compareByScore=a}),define(l[100],h([1,0,12,103]),function(e,t,n,i){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t,n){for(var i=0,r=e.length;i<r;i++){var o=e[i](t,n);if(o)return o}return null}}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t,n){for(var i=[],r=0,o=e.length;r<o;r++){var s=e[r](t,n);if(!s)return null;i=i.concat(s)}return i}}function s(e,t,n){if(!n||0===n.length||n.length<t.length)return null;e&&(t=t.toLowerCase(),n=n.toLowerCase());for(var i=0;i<t.length;i++)if(t[i]!==n[i])return null;return t.length>0?[{start:0,end:t.length}]:[]}function a(e,t){var n=t.toLowerCase().indexOf(e.toLowerCase());return n===-1?null:[{start:n,end:n+e.length}]}function c(e,t){return u(e.toLowerCase(),t.toLowerCase(),0,0)}function u(e,t,n,i){if(n===e.length)return[];if(i===t.length)return null;if(e[n]===t[i]){var r=null;if(r=u(e,t,n+1,i+1))return g({start:i,end:i+1},r)}return u(e,t,n,i+1)}function l(e){return 97<=e&&e<=122}function h(e){return 65<=e&&e<=90}function d(e){return 48<=e&&e<=57}function p(e){return 32===e||9===e||10===e||13===e}function f(e){return l(e)||h(e)||d(e)}function g(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function v(e,t){for(var n=t;n<e.length;n++){var i=e.charCodeAt(n);if(h(i)||d(i)||n>0&&!f(e.charCodeAt(n-1)))return n}return e.length}function m(e,t,n,i){if(n===e.length)return[];if(i===t.length)return null;if(e[n]!==t[i].toLowerCase())return null;var r=null,o=i+1;for(r=m(e,t,n+1,i+1);!r&&(o=v(t,o))<t.length;)r=m(e,t,n+1,o),o++;return null===r?null:g({start:i,end:i+1},r)}function y(e){for(var t=0,n=0,i=0,r=0,o=0,s=0;s<e.length;s++)o=e.charCodeAt(s),h(o)&&t++,l(o)&&n++,f(o)&&i++,d(o)&&r++;var a=t/e.length,c=n/e.length,u=i/e.length,p=r/e.length;return{upperPercent:a,lowerPercent:c,alphaPercent:u,numericPercent:p}}function b(e){var t=e.upperPercent,n=e.lowerPercent;e.alphaPercent,e.numericPercent;return 0===n&&t>.6}function S(e){var t=e.upperPercent,n=e.lowerPercent,i=e.alphaPercent,r=e.numericPercent;return n>.2&&t<.8&&i>.6&&r<.2}function E(e){for(var t=0,n=0,i=0,r=0,o=0;o<e.length;o++)i=e.charCodeAt(o),h(i)&&t++,l(i)&&n++,p(i)&&r++;return 0!==t&&0!==n||0!==r?t<=5:e.length<=30}function _(e,t){if(!t||0===t.length)return null;if(!E(e))return null;if(t.length>60)return null;var n=y(t);if(!S(n)){if(!b(n))return null;t=t.toLowerCase()}for(var i=null,r=0;r<t.length&&null===(i=m(e.toLowerCase(),t,0,r));)r=v(t,r+1);return i}function C(e,t){if(!t||0===t.length)return null;for(var n=null,i=0;i<t.length&&null===(n=w(e.toLowerCase(),t,0,i));)i=I(t,i+1);return n}function w(e,t,n,i){if(n===e.length)return[];if(i===t.length)return null;if(e[n]!==t[i].toLowerCase())return null;var r=null,o=i+1;for(r=w(e,t,n+1,i+1);!r&&(o=I(t,o))<t.length;)r=w(e,t,n+1,o),o++;return null===r?null:g({start:i,end:i+1},r)}function I(e,t){for(var n=t;n<e.length;n++){var i=e.charCodeAt(n);if(p(i)||n>0&&p(e.charCodeAt(n-1)))return n}return e.length}function T(e,i,r){if(void 0===r&&(r=!1),"string"!=typeof e||"string"!=typeof i)return null;var o=A.get(e);o||(o=new RegExp(n.convertSimple2RegExpPattern(e),"i"),A.set(e,o));var s=o.exec(i);return s?[{start:s.index,end:s.index+s[0].length}]:r?x(e,i):t.fuzzyContiguousFilter(e,i)}t.or=r,t.and=o,t.matchesStrictPrefix=function(e,t){return s(!1,e,t)},t.matchesPrefix=function(e,t){return s(!0,e,t)},t.matchesContiguousSubString=a,t.matchesSubString=c,t.matchesCamelCase=_,t.matchesWords=C,function(e){e[e.Contiguous=0]="Contiguous",e[e.Separate=1]="Separate"}(t.SubstringMatching||(t.SubstringMatching={}));t.SubstringMatching;t.fuzzyContiguousFilter=r(t.matchesPrefix,_,a);var x=r(t.matchesPrefix,_,c),A=new i.BoundedLinkedMap(1e4);t.matchesFuzzy=T}),define(l[142],h([1,0,35,12,20,103]),function(e,t,n,i,r,o){"use strict";function s(e){switch(e){case 0:return"";case 1:return C+"*?";default:return"(?:"+_+"|"+C+"+"+_+"|"+_+C+"+)*?"}}function a(e,t){if(!e)return[];for(var n,i=[],r=!1,o=!1,s="",a=0;a<e.length;a++){switch(n=e[a]){case t:if(!r&&!o){i.push(s),s="";continue}break;case"{":r=!0;break;case"}":r=!1;break;case"[":o=!0;break;case"]":o=!1}s+=n}return s&&i.push(s),i}function c(e){if(!e)return"";var t="",n=a(e,"/");if(n.every(function(e){return"**"===e}))t=".*";else{var r=!1;n.forEach(function(e,o){if("**"===e)return void(r||(t+=s(2),r=!0));for(var u,l=!1,h="",d=!1,p="",f=0;f<e.length;f++)if(u=e[f],"}"!==u&&l)h+=u;else if("]"!==u&&d){var g=void 0;switch(u){case"-":g=u;break;case"^":g=u;break;default:g=i.escapeRegExpCharacters(u)}p+=g}else switch(u){case"{":l=!0;continue;case"[":d=!0;continue;case"}":var v=a(h,","),m="(?:"+v.map(function(e){return c(e)}).join("|")+")";t+=m,l=!1,h="";break;case"]":t+="["+p+"]",d=!1,p="";break;case"?":t+=C;continue;case"*":t+=s(1);continue;default:t+=i.escapeRegExpCharacters(u)}o<n.length-1&&"**"!==n[o+1]&&(t+=_),r=!1})}return t}function u(e,t){if(!e)return R;e=e.trim();var n=e+"_"+!!t.trimForExclusions,r=k.get(n);if(r)return r;var o;if(I.test(e)){var s=e.substr(4);r=function(t,n){return t&&i.endsWith(t,s)?e:null}}else r=(o=T.exec(l(e,t)))?h(o[1],e):(t.trimForExclusions?A:x).test(e)?d(e,t):(o=D.exec(l(e,t)))?p(o[1].substr(1),e,!0):(o=L.exec(l(e,t)))?p(o[1],e,!1):f(e);return k.set(n,r),r}function l(e,t){return t.trimForExclusions&&i.endsWith(e,"/**")?e.substr(0,e.length-2):e}function h(e,t){var n="/"+e,r="\\"+e,o=function(o,s){return o?s?s===e?t:null:o===e||i.endsWith(o,n)||i.endsWith(o,r)?t:null:null},s=[e];return o.basenames=s,o.patterns=[t],o.allBasenames=s,o}function d(e,t){var i=E(e.slice(1,-1).split(",").map(function(e){return u(e,t)}).filter(function(e){return e!==R}),e),r=i.length;if(!r)return R;if(1===r)return i[0];var o=function(t,n){for(var r=0,o=i.length;r<o;r++)if(i[r](t,n))return e;return null},s=n.first(i,function(e){return!!e.allBasenames});s&&(o.allBasenames=s.allBasenames);var a=i.reduce(function(e,t){return t.allPaths?e.concat(t.allPaths):e},[]);return a.length&&(o.allPaths=a),o}function p(e,t,n){var o=r.nativeSep!==r.sep?e.replace(w,r.nativeSep):e,s=r.nativeSep+o,a=n?function(e,n){return e&&(e===o||i.endsWith(e,s))?t:null}:function(e,n){return e&&e===o?t:null};return a.allPaths=[(n?"*/":"./")+e],a}function f(e){try{var t=new RegExp("^"+c(e)+"$");return function(n,i){return t.lastIndex=0,n&&t.test(n)?e:null}}catch(e){return R}}function g(e,t,n){return!(!e||!t)&&v(e)(t,void 0,n)}function v(e,t){if(void 0===t&&(t={}),!e)return P;if("string"==typeof e){var n=u(e,t);if(n===R)return P;var i=function(e,t){return!!n(e,t)};return n.allBasenames&&(i.allBasenames=n.allBasenames),n.allPaths&&(i.allPaths=n.allPaths),i}return b(e,t)}function m(e){return e.allBasenames||[]}function y(e){return e.allPaths||[]}function b(e,t){var i=E(Object.getOwnPropertyNames(e).map(function(n){return S(n,e[n],t)}).filter(function(e){return e!==R})),o=i.length;if(!o)return R;if(!i.some(function(e){return e.requiresSiblings})){if(1===o)return i[0];var s=function(e,t,n){for(var r=0,o=i.length;r<o;r++){var s=i[r](e,t);if(s)return s}return null},a=n.first(i,function(e){return!!e.allBasenames});a&&(s.allBasenames=a.allBasenames);var c=i.reduce(function(e,t){return t.allPaths?e.concat(t.allPaths):e},[]);return c.length&&(s.allPaths=c),s}var u=function(e,t,n){function o(){if(!a){a=!0;var i=n();if(i&&i.length){t||(t=r.basename(e));var o=t.substr(0,t.length-r.extname(e).length);s={siblings:i,name:o}}}return s}for(var s,a=!n,c=0,u=i.length;c<u;c++){var l=i[c](e,t,o);if(l)return l}return null},l=n.first(i,function(e){return!!e.allBasenames});l&&(u.allBasenames=l.allBasenames);var h=i.reduce(function(e,t){return t.allPaths?e.concat(t.allPaths):e},[]);return h.length&&(u.allPaths=h),u}function S(e,t,n){if(t===!1)return R;var i=u(e,n);if(i===R)return R;if("boolean"==typeof t)return i;if(t){var r=t.when;if("string"==typeof r){var o=function(t,n,o){if(!i(t,n))return null;var s=o();if(!s)return null;var a=r.replace("$(basename)",s.name);return s.siblings.indexOf(a)!==-1?e:null};return o.requiresSiblings=!0,o}}return i}function E(e,t){var n=e.filter(function(e){return!!e.basenames});if(n.length<2)return e;var i,r=n.reduce(function(e,t){return e.concat(t.basenames)},[]);if(t){i=[];for(var o=0,s=r.length;o<s;o++)i.push(t)}else i=n.reduce(function(e,t){return e.concat(t.patterns)},[]);var a=function(e,t){if(!e)return null;if(!t){var n=void 0;for(n=e.length;n>0;n--){var o=e.charCodeAt(n-1);if(47===o||92===o)break}t=e.substr(n)}var s=r.indexOf(t);return s!==-1?i[s]:null};a.basenames=r,a.patterns=i,a.allBasenames=r;var c=e.filter(function(e){return!e.basenames});return c.push(a),c}var _="[/\\\\]",C="[^/\\\\]",w=/\//g;t.splitGlobAware=a;var I=/^\*\*\/\*\.[\w\.-]+$/,T=/^\*\*\/([\w\.-]+)\/?$/,x=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,A=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,D=/^\*\*((\/[\w\.-]+)+)\/?$/,L=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,k=new o.BoundedLinkedMap(1e4),P=function(){return!1},R=function(){return null};t.match=g,t.parse=v,t.getBasenameTerms=m,t.getPathTerms=y}),define(l[21],h([1,0]),function(e,t){"use strict";function n(e){return Array.isArray?Array.isArray(e):!(!e||typeof e.length!==v.number||e.constructor!==Array)}function i(e){return typeof e===v.string||e instanceof String}function r(e){return n(e)&&e.every(function(e){return i(e)})}function o(e){return!(typeof e!==v.object||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}function s(e){return(typeof e===v.number||e instanceof Number)&&!isNaN(e)}function a(e){return e===!0||e===!1}function c(e){return typeof e===v.undefined}function u(e){return c(e)||null===e}function l(e){if(!o(e))return!1;for(var t in e)if(m.call(e,t))return!1;return!0}function h(e){return typeof e===v.function}function d(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e&&e.length>0&&e.every(h)}function p(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++)f(e[i],t[i])}function f(e,t){if(i(t)){if(typeof e!==t)throw new Error("argument does not match constraint: typeof "+t)}else if(h(t)){if(e instanceof t)return;if(e&&e.constructor===t)return;if(1===t.length&&t.call(void 0,e)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Object.create(e.prototype);return e.apply(i,t),i}var v={number:"number",string:"string",undefined:"undefined",object:"object",function:"function"};t.isArray=n,t.isString=i,t.isStringArray=r,t.isObject=o,t.isNumber=s,t.isBoolean=a,t.isUndefined=c,t.isUndefinedOrNull=u;var m=Object.prototype.hasOwnProperty;t.isEmptyObject=l,t.isFunction=h,t.areFunctions=d,t.validateConstraints=p,t.validateConstraint=f,t.create=g}),define(l[7],h([1,0,13,21]),function(e,t,n,i){"use strict";function r(e){t.errorHandler.setUnexpectedErrorHandler(e)}function o(e){u(e)||t.errorHandler.onUnexpectedError(e)}function s(e){u(e)||t.errorHandler.onUnexpectedExternalError(e)}function a(e){return e.then(null,o)}function c(e){if(e instanceof Error){var t=e.name,n=e.message,i=e.stacktrace||e.stack;return{$isError:!0,name:t,message:n,stack:i}}return e}function u(e){return e instanceof Error&&e.name===y&&e.message===y}function l(){var e=new Error(y);return e.name=e.message,e}function h(){return new Error("Not Implemented")}function d(e){return e?new Error("Illegal argument: "+e):new Error("Illegal argument")}function p(e){return e?new Error("Illegal state: "+e):new Error("Illegal state")}function f(e){return e?new Error("readonly property '"+e+" cannot be changed'"):new Error("readonly property cannot be changed")}function g(e,t){void 0===t&&(t={});var n=new Error(e);return i.isNumber(t.severity)&&(n.severity=t.severity),t.actions&&(n.actions=t.actions),n}function v(e){return e?e.message?e.message:e.stack?e.stack.split("\n")[0]:String(e):"Error"}var m=function(){function e(){this.listeners=[],this.unexpectedErrorHandler=function(e){n.setTimeout(function(){if(e.stack)throw new Error(e.message+"\n\n"+e.stack);throw e},0)}}return e.prototype.addListener=function(e){var t=this;return this.listeners.push(e),function(){t._removeListener(e)}},e.prototype.emit=function(e){this.listeners.forEach(function(t){t(e)})},e.prototype._removeListener=function(e){this.listeners.splice(this.listeners.indexOf(e),1)},e.prototype.setUnexpectedErrorHandler=function(e){this.unexpectedErrorHandler=e},e.prototype.getUnexpectedErrorHandler=function(){return this.unexpectedErrorHandler},e.prototype.onUnexpectedError=function(e){this.unexpectedErrorHandler(e),this.emit(e)},e.prototype.onUnexpectedExternalError=function(e){this.unexpectedErrorHandler(e)},e}();t.ErrorHandler=m,t.errorHandler=new m,t.setUnexpectedErrorHandler=r,t.onUnexpectedError=o,t.onUnexpectedExternalError=s,t.onUnexpectedPromiseError=a,t.transformErrorForSerialization=c;var y="Canceled";t.isPromiseCanceledError=u,t.canceled=l,t.notImplemented=h,t.illegalArgument=d,t.illegalState=p,t.readonly=f,t.create=g,t.getErrorMessage=v}),define(l[858],h([1,0,7]),function(e,t,n){"use strict";var i=function(){function e(){}return e.prototype.add=function(e,t,n){var i=this;void 0===t&&(t=null),this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:function(){return i.remove(e,t)}})},e.prototype.remove=function(e,t){if(void 0===t&&(t=null),this._callbacks){for(var n=!1,i=0,r=this._callbacks.length;i<r;i++)if(this._callbacks[i]===e){if(this._contexts[i]===t)return this._callbacks.splice(i,1),void this._contexts.splice(i,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}},e.prototype.invoke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(this._callbacks){for(var i=[],r=this._callbacks.slice(0),o=this._contexts.slice(0),s=0,a=r.length;s<a;s++)try{i.push(r[s].apply(o[s],e))}catch(e){n.onUnexpectedError(e)}return i}},e.prototype.isEmpty=function(){return!this._callbacks||0===this._callbacks.length},e.prototype.entries=function(){var e=this;return this._callbacks?this._callbacks.map(function(t,n){return[t,e._contexts[n]]}):[]},e.prototype.dispose=function(){this._callbacks=void 0,this._contexts=void 0},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=i}),define(l[42],h([1,0,7]),function(e,t,n){"use strict";function i(e){try{return e()}catch(e){n.onUnexpectedError(e)}}function r(e,t){try{return e(t)}catch(e){n.onUnexpectedError(e)}}var o=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this._type=e,this._data=t}return e.prototype.getType=function(){return this._type},e.prototype.getData=function(){return this._data},e}();t.EmitterEvent=o;var s=function(){function e(e){if(void 0===e&&(e=null),this._listeners={},this._bulkListeners=[],this._collectedEvents=[],this._deferredCnt=0,e){this._allowedEventTypes={};for(var t=0;t<e.length;t++)this._allowedEventTypes[e[t]]=!0}else this._allowedEventTypes=null}return e.prototype.dispose=function(){this._listeners={},this._bulkListeners=[],this._collectedEvents=[],this._deferredCnt=0,this._allowedEventTypes=null},e.prototype.addListener=function(e,t){if("*"===e)throw new Error("Use addBulkListener(listener) to register your listener!");if(this._allowedEventTypes&&!this._allowedEventTypes.hasOwnProperty(e))throw new Error("This object will never emit this event type!");this._listeners.hasOwnProperty(e)?this._listeners[e].push(t):this._listeners[e]=[t];var n=this;return{dispose:function(){n&&(n._removeListener(e,t),n=null,t=null)}}},e.prototype.addListener2=function(e,t){return this.addListener(e,t)},e.prototype.addOneTimeDisposableListener=function(e,t){var n=this.addListener(e,function(e){n.dispose(),t(e)});return n},e.prototype.addBulkListener=function(e){var t=this;return this._bulkListeners.push(e),{dispose:function(){t._removeBulkListener(e)}}},e.prototype.addBulkListener2=function(e){return this.addBulkListener(e)},e.prototype.addEmitter=function(e){var t=this;return e.addBulkListener2(function(e){var n=e;0===t._deferredCnt?t._emitEvents(n):t._collectedEvents.push.apply(t._collectedEvents,n)})},e.prototype.addEmitter2=function(e){return this.addEmitter(e)},e.prototype._removeListener=function(e,t){if(this._listeners.hasOwnProperty(e))for(var n=this._listeners[e],i=0,r=n.length;i<r;i++)if(n[i]===t){n.splice(i,1);break}},e.prototype._removeBulkListener=function(e){for(var t=0,n=this._bulkListeners.length;t<n;t++)if(this._bulkListeners[t]===e){this._bulkListeners.splice(t,1);break}},e.prototype._emitToSpecificTypeListeners=function(e,t){if(this._listeners.hasOwnProperty(e))for(var n=this._listeners[e].slice(0),i=0,o=n.length;i<o;i++)r(n[i],t)},e.prototype._emitToBulkListeners=function(e){for(var t=this._bulkListeners.slice(0),n=0,i=t.length;n<i;n++)r(t[n],e)},e.prototype._emitEvents=function(e){this._bulkListeners.length>0&&this._emitToBulkListeners(e);for(var t=0,n=e.length;t<n;t++){var i=e[t];this._emitToSpecificTypeListeners(i.getType(),i.getData())}},e.prototype.emit=function(e,t){if(void 0===t&&(t={}),this._allowedEventTypes&&!this._allowedEventTypes.hasOwnProperty(e))throw new Error("Cannot emit this event type because it wasn't white-listed!");if(this._listeners.hasOwnProperty(e)||0!==this._bulkListeners.length){var n=new o(e,t);0===this._deferredCnt?this._emitEvents([n]):this._collectedEvents.push(n)}},e.prototype._beginDeferredEmit=function(){this._deferredCnt=this._deferredCnt+1},e.prototype._endDeferredEmit=function(){this._deferredCnt=this._deferredCnt-1,0===this._deferredCnt&&this._emitCollected()},e.prototype.deferredEmit=function(e){this._beginDeferredEmit();var t=i(e);return this._endDeferredEmit(),t},e.prototype._emitCollected=function(){var e=this._collectedEvents;this._collectedEvents=[],e.length>0&&this._emitEvents(e)},e}();t.EventEmitter=s;var a=function(){function e(e,t){this.target=e,this.arg=t}return e}(),c=function(e){function t(t){void 0===t&&(t=null),e.call(this,t),this._emitQueue=[]}return d(t,e),t.prototype._emitToSpecificTypeListeners=function(e,t){if(this._listeners.hasOwnProperty(e))for(var n=this._listeners[e],i=0,r=n.length;i<r;i++)this._emitQueue.push(new a(n[i],t))},t.prototype._emitToBulkListeners=function(e){for(var t=this._bulkListeners,n=0,i=t.length;n<i;n++)this._emitQueue.push(new a(t[n],e))},t.prototype._emitEvents=function(t){for(e.prototype._emitEvents.call(this,t);this._emitQueue.length>0;){var n=this._emitQueue.shift();r(n.target,n.arg)}},t}(s);t.OrderGuaranteeEventEmitter=c}),define(l[873],h([1,0,21,108]),function(e,t,n,i){"use strict";function r(e){return{data:e,incoming:Object.create(null),outgoing:Object.create(null)}}var o=function(){function e(e){this._hashFn=e,this._nodes=Object.create(null)}return e.prototype.roots=function(){var e=[];return i.forEach(this._nodes,function(t){n.isEmptyObject(t.value.outgoing)&&e.push(t.value)}),e},e.prototype.traverse=function(e,t,n){var i=this.lookup(e);i&&this._traverse(i,t,Object.create(null),n)},e.prototype._traverse=function(e,t,n,r){var o=this,s=this._hashFn(e.data);if(!i.contains(n,s)){n[s]=!0,r(e.data);var a=t?e.outgoing:e.incoming;i.forEach(a,function(e){return o._traverse(e.value,t,n,r)})}},e.prototype.insertEdge=function(e,t){var n=this.lookupOrInsertNode(e),i=this.lookupOrInsertNode(t);n.outgoing[this._hashFn(t)]=i,i.incoming[this._hashFn(e)]=n},e.prototype.removeNode=function(e){var t=this._hashFn(e);delete this._nodes[t],i.forEach(this._nodes,function(e){delete e.value.outgoing[t],delete e.value.incoming[t]})},e.prototype.lookupOrInsertNode=function(e){var t=this._hashFn(e),n=i.lookup(this._nodes,t);return n||(n=r(e),this._nodes[t]=n),n},e.prototype.lookup=function(e){return i.lookup(this._nodes,this._hashFn(e))},Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this._nodes).length},enumerable:!0,configurable:!0}),e.prototype.toString=function(){var e=[];return i.forEach(this._nodes,function(t){e.push(t.key+", (incoming)["+Object.keys(t.value.incoming).join(", ")+"], (outgoing)["+Object.keys(t.value.outgoing).join(",")+"]")}),e.join("\n")},e}();t.Graph=o}),define(l[81],h([1,0,13,21,12,20]),function(e,t,n,i,r,o){"use strict";function s(e,t){var i=a(e);if(!i)return null;var s=t&&a(t);return s&&o.isEqualOrParent(i,s)?s===i?"":o.normalize(r.ltrim(i.substr(s.length),o.nativeSep),!0):n.isWindows&&i&&":"===i[1]?o.normalize(i.charAt(0).toUpperCase()+i.slice(1),!0):o.normalize(i,!0)}function a(e){if(!e)return null;if("string"==typeof e)return e;if(i.isFunction(e.getWorkspace)){var t=e.getWorkspace();return t?t.resource.fsPath:void 0}return e.fsPath}var c=function(){function e(e){this.root=e&&a(e)}return e.prototype.getLabel=function(e){return s(a(e),this.root)},e}();t.PathLabelProvider=c,t.getPathLabel=s}),define(l[5],h([1,0,21]),function(e,t,n){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var i=e[0];return n.isArray(i)&&(e=i),e.forEach(function(e){return e&&e.dispose()}),[]}function r(e){return{dispose:function(){return i(e)}}}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return r(e.map(function(e){return{dispose:e}}))}t.empty=Object.freeze({dispose:function(){}}),t.dispose=i,t.combinedDisposable=r,t.toDisposable=o;var s=function(){function e(){this._toDispose=[]}return e.prototype.dispose=function(){this._toDispose=i(this._toDispose)},e.prototype._register=function(e){return this._toDispose.push(e),e},e}();t.Disposable=s;var a=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.add=function(e){if(!Array.isArray(e))return this._register(e);for(var t=0,n=e;t<n.length;t++){var i=n[t];return this._register(i)}},t}(s);t.Disposables=a;var c=function(){function e(){this.references=Object.create(null)}return e.prototype.acquire=function(e){var t=this,n=this.references[e];n||(n=this.references[e]={counter:0,object:this.createReferencedObject(e)});var i=n.object,r=function(){0===--n.counter&&(t.destroyReferencedObject(n.object),delete t.references[e])};return n.counter++,{object:i,dispose:r}},e}();t.ReferenceCollection=c;var u=function(){function e(e){this.object=e}return e.prototype.dispose=function(){},e}();t.ImmortalReference=u}),define(l[11],h([1,0,5,858]),function(e,t,n,i){"use strict";function r(e,t){return function(n,i,r){var o=e.addListener2(t,function(){n.apply(i,arguments)});return Array.isArray(r)&&r.push(o),o}}function o(e){var t=new v,n=!1;return e.then(null,function(){return null}).then(function(){n?t.fire():setTimeout(function(){return t.fire()},0)}),n=!0,t.event}function s(e){var t=null,n=null,i=new v({onFirstListenerAdd:function(){t=e.then(function(e){return n=e(function(e){return i.fire(e)})},function(){return null})},onLastListenerRemove:function(){t&&(t.cancel(),t=null),n&&(n.dispose(),n=null)}});return i.event}function a(e){return function(t,n,i){void 0===n&&(n=null);var r=e(function(e){return r.dispose(),
t.call(n,e)},null,i);return r}}function c(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var i=[],r=new v({onFirstListenerAdd:function(){i=e.map(function(e){return e(function(e){return r.fire(e)})})},onLastListenerRemove:function(){i=n.dispose(i)}});return r.event}function u(e,t,n){void 0===n&&(n=100);var i,r,o,s=new v({onFirstListenerAdd:function(){i=e(function(e){r=t(r,e),clearTimeout(o),o=setTimeout(function(){var e=r;r=void 0,s.fire(e)},n)})},onLastListenerRemove:function(){i.dispose()}});return s.event}function l(e,t){return function(n,i,r){return void 0===i&&(i=null),e(function(e){return n.call(i,t(e))},null,r)}}function h(e,t){return function(n,i,r){return void 0===i&&(i=null),e(function(e){return t(e)&&n.call(i,e)},null,r)}}function d(e){return new y(e)}function p(e){var t=(new Date).getTime();return l(a(e),function(e){return(new Date).getTime()-t})}function f(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=[]),n=n.slice();var i=e(function(e){n?n.push(e):o.fire(e)}),r=function(){n.forEach(function(e){return o.fire(e)}),n=null},o=new v({onFirstListenerAdd:function(){i||(i=e(function(e){return o.fire(e)}))},onFirstListenerDidAdd:function(){n&&(t?setTimeout(r):r())},onLastListenerRemove:function(){i.dispose(),i=null}});return o.event}var g;!function(e){var t={dispose:function(){}};e.None=function(){return t}}(g||(g={})),Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var v=function(){function e(e){this._options=e}return Object.defineProperty(e.prototype,"event",{get:function(){var t=this;return this._event||(this._event=function(n,r,o){t._callbacks||(t._callbacks=new i.default);var s=t._callbacks.isEmpty();s&&t._options&&t._options.onFirstListenerAdd&&t._options.onFirstListenerAdd(t),t._callbacks.add(n,r),s&&t._options&&t._options.onFirstListenerDidAdd&&t._options.onFirstListenerDidAdd(t);var a;return a={dispose:function(){a.dispose=e._noop,t._disposed||(t._callbacks.remove(n,r),t._options&&t._options.onLastListenerRemove&&t._callbacks.isEmpty()&&t._options.onLastListenerRemove(t))}},Array.isArray(o)&&o.push(a),a}),this._event},enumerable:!0,configurable:!0}),e.prototype.fire=function(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)},e.prototype.dispose=function(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0,this._disposed=!0)},e._noop=function(){},e}();t.Emitter=v,t.fromEventEmitter=r,t.fromPromise=o,t.delayed=s,t.once=a,t.any=c,t.debounceEvent=u;var m=function(){function e(){this.buffers=[]}return e.prototype.wrapEvent=function(e){var t=this;return function(n,i,r){return e(function(e){var r=t.buffers[t.buffers.length-1];r?r.push(function(){return n.call(i,e)}):n.call(i,e)},void 0,r)}},e.prototype.bufferEvents=function(e){var t=[];this.buffers.push(t),e(),this.buffers.pop(),t.forEach(function(e){return e()})},e}();t.EventBufferer=m,t.mapEvent=l,t.filterEvent=h;var y=function(){function e(e){this._event=e}return Object.defineProperty(e.prototype,"event",{get:function(){return this._event},enumerable:!0,configurable:!0}),e.prototype.map=function(t){return new e(l(this._event,t))},e.prototype.filter=function(t){return new e(h(this._event,t))},e.prototype.on=function(e,t,n){return this._event(e,t,n)},e}();t.chain=d,t.stopwatch=p,t.buffer=f}),define(l[48],h([1,0,21,13,11]),function(e,t,n,i,r){"use strict";function o(){return v.INSTANCE.getZoomLevel()}function s(){return v.INSTANCE.getZoomFactor()}function a(){return v.INSTANCE.getPixelRatio()}function c(e){v.INSTANCE.setZoomLevel(e)}function u(e){v.INSTANCE.setZoomFactor(e)}function l(e){return v.INSTANCE.onDidChangeZoomLevel(e)}function h(e){v.INSTANCE.setFullscreen(e)}function d(){return v.INSTANCE.isFullscreen()}function p(e){return v.INSTANCE.onDidChangeFullscreen(e)}function f(){if(this._hasCSSAnimationSupport===!0||this._hasCSSAnimationSupport===!1)return this._hasCSSAnimationSupport;for(var e=!1,t=document.createElement("div"),i=["animationName","webkitAnimationName","msAnimationName","MozAnimationName","OAnimationName"],r=0;r<i.length;r++){var o=i[r];if(!n.isUndefinedOrNull(t.style[o])||t.style.hasOwnProperty(o)){e=!0;break}}return e?this._hasCSSAnimationSupport=!0:this._hasCSSAnimationSupport=!1,this._hasCSSAnimationSupport}function g(e){return(t.isIE11orEarlier||i.isNative)&&document.queryCommandSupported(e)}var v=function(){function e(){this._zoomLevel=0,this._zoomFactor=0,this._pixelRatioCache=0,this._pixelRatioComputed=!1,this._onDidChangeZoomLevel=new r.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._onDidChangeFullscreen=new r.Emitter,this.onDidChangeFullscreen=this._onDidChangeFullscreen.event}return e.prototype.getZoomLevel=function(){return this._zoomLevel},e.prototype.setZoomLevel=function(e){this._zoomLevel!==e&&(this._zoomLevel=e,this._pixelRatioComputed=!1,this._onDidChangeZoomLevel.fire(this._zoomLevel))},e.prototype.getZoomFactor=function(){return this._zoomFactor},e.prototype.setZoomFactor=function(e){this._zoomFactor=e},e.prototype.getPixelRatio=function(){return this._pixelRatioComputed||(this._pixelRatioCache=this._computePixelRatio(),this._pixelRatioComputed=!0),this._pixelRatioCache},e.prototype._computePixelRatio=function(){var e=document.createElement("canvas").getContext("2d"),t=window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/n},e.prototype.setFullscreen=function(e){this._fullscreen!==e&&(this._fullscreen=e,this._onDidChangeFullscreen.fire())},e.prototype.isFullscreen=function(){return this._fullscreen},e.INSTANCE=new e,e}();t.getZoomLevel=o,t.getZoomFactor=s,t.getPixelRatio=a,t.setZoomLevel=c,t.setZoomFactor=u,t.onDidChangeZoomLevel=l,t.setFullscreen=h,t.isFullscreen=d,t.onDidChangeFullscreen=p;var m=navigator.userAgent;t.isIE11=m.indexOf("Trident")>=0&&m.indexOf("MSIE")<0,t.isIE10=m.indexOf("MSIE 10")>=0,t.isIE9=m.indexOf("MSIE 9")>=0,t.isIE11orEarlier=t.isIE11||t.isIE10||t.isIE9,t.isIE10orEarlier=t.isIE10||t.isIE9,t.isIE10orLater=t.isIE11||t.isIE10,t.isEdge=m.indexOf("Edge/")>=0,t.isEdgeOrIE=t.isEdge||t.isIE11||t.isIE10||t.isIE9,t.isOpera=m.indexOf("Opera")>=0,t.isFirefox=m.indexOf("Firefox")>=0,t.isWebKit=m.indexOf("AppleWebKit")>=0,t.isChrome=m.indexOf("Chrome")>=0,t.isSafari=m.indexOf("Chrome")===-1&&m.indexOf("Safari")>=0,t.isIPad=m.indexOf("iPad")>=0,t.canUseTranslate3d=!t.isIE9&&!t.isFirefox,t.enableEmptySelectionClipboard=t.isWebKit,t.hasCSSAnimationSupport=f,t.supportsExecCommand=g}),define(l[130],h([1,0,11]),function(e,t,n){"use strict";function i(e){return n.mapEvent(e,function(e){return e.preventDefault(),e.stopPropagation(),e})}t.domEvent=function(e,t,i){var r=function(e){return o.fire(e)},o=new n.Emitter({onFirstListenerAdd:function(){e.addEventListener(t,r)},onLastListenerRemove:function(){e.removeEventListener(t,r)}});return o.event},t.stop=i}),define(l[78],h([1,0,52,13,48]),function(e,t,n,i,r){"use strict";function o(e){return a[e.keyCode]||0}function s(e){c=e}var a={};!function(){a[3]=7,a[8]=1,a[9]=2,a[13]=3,a[16]=4,a[17]=5,a[18]=6,a[19]=7,a[20]=8,a[27]=9,a[32]=10,a[33]=11,a[34]=12,a[35]=13,a[36]=14,a[37]=15,a[38]=16,a[39]=17,a[40]=18,a[45]=19,a[46]=20,a[48]=21,a[49]=22,a[50]=23,a[51]=24,a[52]=25,a[53]=26,a[54]=27,a[55]=28,a[56]=29,a[57]=30,a[65]=31,a[66]=32,a[67]=33,a[68]=34,a[69]=35,a[70]=36,a[71]=37,a[72]=38,a[73]=39,a[74]=40,a[75]=41,a[76]=42,a[77]=43,a[78]=44,a[79]=45,a[80]=46,a[81]=47,a[82]=48,a[83]=49,a[84]=50,a[85]=51,a[86]=52,a[87]=53,a[88]=54,a[89]=55,a[90]=56,a[93]=58,a[96]=93,a[97]=94,a[98]=95,a[99]=96,a[100]=97,a[101]=98,a[102]=99,a[103]=100,a[104]=101,a[105]=102,a[106]=103,a[107]=104,a[108]=105,a[109]=106,a[110]=107,a[111]=108,a[112]=59,a[113]=60,a[114]=61,a[115]=62,a[116]=63,a[117]=64,a[118]=65,a[119]=66,a[120]=67,a[121]=68,a[122]=69,a[123]=70,a[124]=71,a[125]=72,a[126]=73,a[127]=74,a[128]=75,a[129]=76,a[130]=77,a[144]=78,a[145]=79,a[186]=80,a[187]=81,a[188]=82,a[189]=83,a[190]=84,a[191]=85,a[192]=86,a[219]=87,a[220]=88,a[221]=89,a[222]=90,a[223]=91,a[226]=92,r.isIE11orEarlier?a[91]=57:r.isFirefox?(a[59]=80,a[107]=81,a[109]=83,i.isMacintosh&&(a[224]=57)):r.isWebKit&&(a[91]=57,i.isMacintosh?a[93]=57:a[92]=57)}(),t.lookupKeyCode=o;var c=function(e){if(e.charCode){var t=String.fromCharCode(e.charCode).toUpperCase();return n.KeyCodeUtils.fromString(t)}return o(e)};t.setExtractKeyCode=s;var u=i.isMacintosh?4096:32768,l=8192,h=16384,d=i.isMacintosh?32768:4096,p=function(){function e(e){var t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=c(t),this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding()}return e.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},e.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},e.prototype.toKeybinding=function(){return this._asKeybinding},e.prototype.equals=function(e){return this._asKeybinding.value===e},e.prototype._computeKeybinding=function(){var e=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode);var t=0;return this.ctrlKey&&(t|=u),this.altKey&&(t|=l),this.shiftKey&&(t|=h),this.metaKey&&(t|=d),t|=e,new n.Keybinding(t)},e}();t.StandardKeyboardEvent=p}),define(l[79],h([1,0,13,48,406]),function(e,t,n,i,r){"use strict";var o=function(){function e(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=0===e.button,this.middleButton=1===e.button,this.rightButton=2===e.button,this.target=e.target,this.detail=e.detail||1,"dblclick"===e.type&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,"number"==typeof e.pageX?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);var t=r.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}return e.prototype.preventDefault=function(){this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},e.prototype.stopPropagation=function(){this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},e}();t.StandardMouseEvent=o;var s=function(e){function t(t){e.call(this,t),this.dataTransfer=t.dataTransfer}return d(t,e),t}(o);t.DragMouseEvent=s;var a=function(e){function t(t){e.call(this,t)}return d(t,e),t}(s);t.DropMouseEvent=a;var c=function(){function e(e,t,r){if(void 0===t&&(t=0),void 0===r&&(r=0),this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=r,this.deltaX=t,e){var o=e,s=e;"undefined"!=typeof o.wheelDeltaY?this.deltaY=o.wheelDeltaY/120:"undefined"!=typeof s.VERTICAL_AXIS&&s.axis===s.VERTICAL_AXIS&&(this.deltaY=-s.detail/3),"undefined"!=typeof o.wheelDeltaX?i.isSafari&&n.isWindows?this.deltaX=-(o.wheelDeltaX/120):this.deltaX=o.wheelDeltaX/120:"undefined"!=typeof s.HORIZONTAL_AXIS&&s.axis===s.HORIZONTAL_AXIS&&(this.deltaX=-e.detail/3),0===this.deltaY&&0===this.deltaX&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}return e.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},e.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},e}();t.StandardMouseWheelEvent=c}),define(l[243],h([1,0,11]),function(e,t,n){"use strict";var i,r=Object.freeze(function(e,t){var n=setTimeout(e.bind(t),0);return{dispose:function(){clearTimeout(n)}}});!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n.default.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r})}(i=t.CancellationToken||(t.CancellationToken={}));var o=function(){function e(){this._isCancelled=!1}return e.prototype.cancel=function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this._emitter=void 0))},Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return this._isCancelled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onCancellationRequested",{get:function(){return this._isCancelled?r:(this._emitter||(this._emitter=new n.Emitter),this._emitter.event)},enumerable:!0,configurable:!0}),e}(),s=function(){function e(){}return Object.defineProperty(e.prototype,"token",{get:function(){return this._token||(this._token=new o),this._token},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){this._token?this._token.cancel():this._token=i.Cancelled},e.prototype.dispose=function(){this.cancel()},e}();t.CancellationTokenSource=s}),define(l[98],h([1,0,20,21,12,142]),function(e,t,n,i,r,o){"use strict";function s(e){var t=a(e);g.push(t),t.userConfigured?m.push(t):v.push(t),t.userConfigured||g.forEach(function(e){e.mime===t.mime||e.userConfigured||(t.extension&&e.extension===t.extension&&console.warn("Overwriting extension <<"+t.extension+">> to now point to mime <<"+t.mime+">>"),t.filename&&e.filename===t.filename&&console.warn("Overwriting filename <<"+t.filename+">> to now point to mime <<"+t.mime+">>"),t.filepattern&&e.filepattern===t.filepattern&&console.warn("Overwriting filepattern <<"+t.filepattern+">> to now point to mime <<"+t.mime+">>"),t.firstline&&e.firstline===t.firstline&&console.warn("Overwriting firstline <<"+t.firstline+">> to now point to mime <<"+t.mime+">>"))})}function a(e){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:e.userConfigured,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?e.filepattern.toLowerCase():void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(n.sep)>=0}}function c(e){e?(g=g.filter(function(e){return!e.userConfigured}),m=[]):(g=[],v=[],m=[])}function u(e,i){if(!e)return[t.MIME_UNKNOWN];e=e.toLowerCase();var r=n.basename(e),o=l(e,r,m);if(o)return[o,t.MIME_TEXT];var s=l(e,r,v);if(s)return[s,t.MIME_TEXT];if(i){var a=h(i);if(a)return[a,t.MIME_TEXT]}return[t.MIME_UNKNOWN]}function l(e,t,n){for(var i,s,a,c=0;c<n.length;c++){var u=n[c];if(t===u.filenameLowercase){i=u;break}if(u.filepattern&&(!s||u.filepattern.length>s.filepattern.length)){var l=u.filepatternOnPath?e:t;o.match(u.filepatternLowercase,l)&&(s=u)}u.extension&&(!a||u.extension.length>a.extension.length)&&r.endsWith(t,u.extensionLowercase)&&(a=u)}return i?i.mime:s?s.mime:a?a.mime:null}function h(e){if(r.startsWithUTF8BOM(e)&&(e=e.substr(1)),e.length>0)for(var t=0;t<g.length;++t){var n=g[t];if(n.firstline){var i=e.match(n.firstline);if(i&&i.length>0&&i[0].length===e.length)return n.mime}}return null}function d(e){if(!e)return!1;var n;return n=i.isArray(e)?e:e.split(",").map(function(e){return e.trim()}),n.indexOf(t.MIME_BINARY)>=0}function p(e){return!e||("string"==typeof e?e===t.MIME_BINARY||e===t.MIME_TEXT||e===t.MIME_UNKNOWN:1===e.length&&p(e[0]))}function f(e,t){for(var n=0;n<g.length;n++){var i=g[n];if(!i.userConfigured&&i.id===e&&i.extension)return t+i.extension}return t}t.MIME_TEXT="text/plain",t.MIME_BINARY="application/octet-stream",t.MIME_UNKNOWN="application/unknown";var g=[],v=[],m=[];t.registerTextMime=s,t.clearTextMimes=c,t.guessMimeTypes=u,t.isBinaryMime=d,t.isUnspecific=p,t.suggestFilename=f}),define(l[922],h([1,0,21]),function(e,t,n){"use strict";function i(e,t,i){var r,o;n.isNumber(t)?(r=e,o=t):(r=0,o=e,i=t);for(var s=r<=o?function(e){return e+1}:function(e){return e-1},a=r<=o?function(e,t){return e<t}:function(e,t){return e>t},c=r;a(c,o);c=s(c))i(c)}function r(e,t){var r=[],o=function(e){return r.push(e)};return n.isUndefined(t)?i(e,o):i(e,t,o),r}t.count=i,t.countToArray=r,function(e){e[e.MAX_SAFE_SMALL_INTEGER=1073741824]="MAX_SAFE_SMALL_INTEGER"}(t.Constants||(t.Constants={}));t.Constants}),define(l[30],h([1,0,21]),function(e,t,n){"use strict";function i(e){if(!e||"object"!=typeof e)return e;if(e instanceof RegExp)return e;var t=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(n){e[n]&&"object"==typeof e[n]?t[n]=i(e[n]):t[n]=e[n]}),t}function r(e){if(!e||"object"!=typeof e)return e;var t=Array.isArray(e)?[]:{};return Object.getOwnPropertyNames(e).forEach(function(n){e[n]&&"object"==typeof e[n]?t[n]=r(e[n]):t[n]=e[n]}),t}function o(e,t){return s(e,t,[])}function s(e,t,i){if(n.isUndefinedOrNull(e))return e;var r=t(e);if("undefined"!=typeof r)return r;if(n.isArray(e)){for(var o=[],a=0;a<e.length;a++)o.push(s(e[a],t,i));return o}if(n.isObject(e)){if(i.indexOf(e)>=0)throw new Error("Cannot clone recursive data-structure");i.push(e);var c={};for(var u in e)m.call(e,u)&&(c[u]=s(e[u],t,i));return i.pop(),c}return e}function a(e,t,i){return void 0===i&&(i=!0),n.isObject(e)?(n.isObject(t)&&Object.keys(t).forEach(function(r){r in e?i&&(n.isObject(e[r])&&n.isObject(t[r])?a(e[r],t[r],i):e[r]=t[r]):e[r]=t[r]}),e):t}function c(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){return Object.keys(t).forEach(function(n){return e[n]=t[n]})}),e}function u(e,t,n){return void 0===n&&(n=function(e){return e}),e.reduce(function(e,i){return c(e,(r={},r[t(i)]=n(i),r));var r},Object.create(null))}function l(e,t){if(e===t)return!0;if(null===e||void 0===e||null===t||void 0===t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;var n,i;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!l(e[n],t[n]))return!1}else{var r=[];for(i in e)r.push(i);r.sort();var o=[];for(i in t)o.push(i);if(o.sort(),!l(r,o))return!1;for(n=0;n<r.length;n++)if(!l(e[r[n]],t[r[n]]))return!1}return!0}function h(e,t,n){"undefined"==typeof e[t]&&(e[t]=n)}function d(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function p(e,t){void 0===t&&(t=!1),t&&(e=e.map(function(e){return e.toLowerCase()}));var n=d(e);return t?function(e){return void 0!==n[e.toLowerCase()]&&n.hasOwnProperty(e.toLowerCase())}:function(e){return void 0!==n[e]&&n.hasOwnProperty(e)}}function f(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t=t||function(){};var i=e.prototype,r=t.prototype;t.prototype=Object.create(i);for(var n in r)r.hasOwnProperty(n)&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(r,n));Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0,enumerable:!0})}function g(e){var t=[];return JSON.stringify(e,function(e,i){if(n.isObject(i)||Array.isArray(i)){if(t.indexOf(i)!==-1)return"[Circular]";t.push(i)}return i})}function v(e,t,n){void 0===n&&(n=null);var i=t(e);return"undefined"==typeof i?n:i}t.clone=i,t.deepClone=r;var m=Object.prototype.hasOwnProperty;t.cloneAndChange=o,t.mixin=a,t.assign=c,t.toObject=u,t.equals=l,t.ensureProperty=h,t.arrayToHash=d,t.createKeywordMatcher=p,t.derive=f,t.safeStringify=g,t.getOrDefault=v}),define(l[1053],h([1,0,30]),function(e,t,n){"use strict";function i(e){function t(e){return parseInt("0x"+e)}if("#"===e.charAt(0)&&e.length>=7){var n=t(e.substr(1,2)),i=t(e.substr(3,2)),r=t(e.substr(5,2)),o=9===e.length?t(e.substr(7,2))/255:1;return{r:n,g:i,b:r,a:o}}return{r:255,g:0,b:0,a:1}}function r(e){var t=e.r/255,n=e.g/255,i=e.b/255,r=void 0===e.a?e.a:1,o=Math.max(t,n,i),s=Math.min(t,n,i),a=0,c=0,u=Math.round((s+o)/2*1e3)/1e3,l=o-s;if(l>0){switch(c=Math.min(Math.round(1e3*(u<=.5?l/(2*u):l/(2-2*u)))/1e3,1),o){case t:a=(n-i)/l+(n<i?6:0);break;case n:a=(i-t)/l+2;break;case i:a=(t-n)/l+4}a*=60,a=Math.round(a)}return{h:a,s:c,l:u,a:r}}function o(e){var t,n,i,r=e.h/360,o=Math.min(e.s,1),s=Math.min(e.l,1),a=void 0===e.a?e.a:1;if(0===o)t=n=i=s;else{var c=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},u=s<.5?s*(1+o):s+o-s*o,l=2*s-u;t=c(l,u,r+1/3),n=c(l,u,r),i=c(l,u,r-1/3)}return{r:Math.round(255*t),g:Math.round(255*n),b:Math.round(255*i),a:a}}var s=function(){function e(e){this.rgba="string"==typeof e?i(e):e,this.str=null}return e.prototype.getLuminosity=function(){var e=function(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)},t=e(this.rgba.r),n=e(this.rgba.g),i=e(this.rgba.b),r=.2126*t+.7152*n+.0722*i;return Math.round(1e4*r)/1e4},e.prototype.getContrast=function(e){var t=this.getLuminosity(),n=e.getLuminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},e.prototype.isDarker=function(){var e=(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3;return e<128},e.prototype.isLighter=function(){var e=(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3;return e>=128},e.prototype.isLighterThan=function(e){var t=this.getLuminosity(),n=e.getLuminosity();return t>n},e.prototype.isDarkerThan=function(e){var t=this.getLuminosity(),n=e.getLuminosity();return t<n},e.prototype.lighten=function(t){var n=this.toHSLA();return n.l+=n.l*t,new e(o(n))},e.prototype.darken=function(t){var n=this.toHSLA();return n.l-=n.l*t,new e(o(n))},e.prototype.transparent=function(t){var n=this.rgba;return new e({r:n.r,g:n.g,b:n.b,a:n.a*t})},e.prototype.opposite=function(){return new e({r:255-this.rgba.r,g:255-this.rgba.g,b:255-this.rgba.b,a:this.rgba.a})},e.prototype.toString=function(){if(!this.str){var e=this.rgba;this.str="rgba("+e.r+", "+e.g+", "+e.b+", "+ +e.a.toFixed(2)+")"}return this.str},e.prototype.toHSLA=function(){return this.hsla||(this.hsla=r(this.rgba)),n.clone(this.hsla)},e.prototype.toRGBA=function(){return n.clone(this.rgba)},e.fromRGBA=function(t){return new e(t)},e.fromHex=function(t){return new e(t)},e.fromHSLA=function(t){return new e(o(t))},e.getLighterColor=function(e,t,n){if(e.isLighterThan(t))return e;n=n?n:.5;var i=e.getLuminosity(),r=t.getLuminosity();return n=n*(r-i)/r,e.lighten(n)},e.getDarkerColor=function(e,t,n){if(e.isDarkerThan(t))return e;n=n?n:.5;var i=e.getLuminosity(),r=t.getLuminosity();return n=n*(i-r)/i,e.darken(n)},e}();t.Color=s}),define(l[237],h([1,0,21]),function(e,t,n){"use strict";!function(e){e[e.OK=0]="OK",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Fatal=4]="Fatal"}(t.ValidationState||(t.ValidationState={}));var i=t.ValidationState,r=function(){function e(){this._state=i.OK}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){e>this._state&&(this._state=e)},enumerable:!0,configurable:!0}),e.prototype.isOK=function(){return this._state===i.OK},e.prototype.isFatal=function(){return this._state===i.Fatal},e}();t.ValidationStatus=r;var o=function(){function e(e,t){void 0===t&&(t=new r),this._logger=e,this.validationStatus=t}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.validationStatus},enumerable:!0,configurable:!0}),e.prototype.log=function(e){this._logger.log(e)},e.prototype.is=function(e,t,i,r,o,s){return n.isUndefined(e)?(o&&(this.validationStatus.state=o),s&&this.log(s),!1):!!t(e)||(i&&(this.validationStatus.state=i),r&&this.log(r),!1)},e.merge=function(e,t,i){var r=this;Object.keys(t).forEach(function(o){var s=e[o],a=t[o];n.isUndefined(a)||(n.isUndefined(s)?e[o]=a:i&&(n.isObject(s)&&n.isObject(a)?r.merge(s,a,i):e[o]=a))})},e}();t.Parser=o;var s=function(){function e(){}return e.prototype.resolve=function(e){return n.isString(e)?this.resolveString(e):n.isArray(e)?this.__resolveArray(e):n.isObject(e)?this.__resolveLiteral(e):e},e.prototype.resolveAny=function(e){return n.isString(e)?this.resolveString(e):n.isArray(e)?this.__resolveAnyArray(e):n.isObject(e)?this.__resolveAnyLiteral(e):e},e.prototype.resolveString=function(e){var t=this,i=/\$\{(.*?)\}/g;return e.replace(i,function(e,i){var r=t[i];return n.isString(r)?r:e&&e.indexOf("env.")>0?"":e})},e.prototype.__resolveLiteral=function(e){var t=this,n=Object.create(null);return Object.keys(e).forEach(function(i){var r=e[i];n[i]=t.resolve(r)}),n},e.prototype.__resolveAnyLiteral=function(e){var t=this,n=Object.create(null);return Object.keys(e).forEach(function(i){var r=e[i];n[i]=t.resolveAny(r)}),n},e.prototype.__resolveArray=function(e){var t=this;return e.map(function(e){return t.resolveString(e)})},e.prototype.__resolveAnyArray=function(e){var t=this;return e.map(function(e){return t.resolveAny(e)})},e}();t.AbstractSystemVariables=s}),define(l[112],h([1,0,5,11]),function(e,t,n,i){"use strict";!function(e){e[e.Auto=1]="Auto",e[e.Hidden=2]="Hidden",e[e.Visible=3]="Visible"}(t.ScrollbarVisibility||(t.ScrollbarVisibility={}));var r=(t.ScrollbarVisibility,function(e){function t(){e.call(this),this._onScroll=this._register(new i.Emitter),this.onScroll=this._onScroll.event,this._width=0,this._scrollWidth=0,this._scrollLeft=0,this._height=0,this._scrollHeight=0,this._scrollTop=0}return d(t,e),t.prototype.getWidth=function(){return this._width},t.prototype.getScrollWidth=function(){return this._scrollWidth},t.prototype.getScrollLeft=function(){return this._scrollLeft},t.prototype.getHeight=function(){return this._height},t.prototype.getScrollHeight=function(){return this._scrollHeight},t.prototype.getScrollTop=function(){return this._scrollTop},t.prototype.updateState=function(e){var t="undefined"!=typeof e.width?0|e.width:this._width,n="undefined"!=typeof e.scrollWidth?0|e.scrollWidth:this._scrollWidth,i="undefined"!=typeof e.scrollLeft?0|e.scrollLeft:this._scrollLeft,r="undefined"!=typeof e.height?0|e.height:this._height,o="undefined"!=typeof e.scrollHeight?0|e.scrollHeight:this._scrollHeight,s="undefined"!=typeof e.scrollTop?0|e.scrollTop:this._scrollTop;t<0&&(t=0),i+t>n&&(i=n-t),i<0&&(i=0),r<0&&(r=0),s+r>o&&(s=o-r),s<0&&(s=0);var a=this._width!==t,c=this._scrollWidth!==n,u=this._scrollLeft!==i,l=this._height!==r,h=this._scrollHeight!==o,d=this._scrollTop!==s;(a||c||u||l||h||d)&&(this._width=t,this._scrollWidth=n,this._scrollLeft=i,this._height=r,this._scrollHeight=o,this._scrollTop=s,this._onScroll.fire({width:this._width,scrollWidth:this._scrollWidth,scrollLeft:this._scrollLeft,height:this._height,scrollHeight:this._scrollHeight,scrollTop:this._scrollTop,widthChanged:a,scrollWidthChanged:c,scrollLeftChanged:u,heightChanged:l,scrollHeightChanged:h,scrollTopChanged:d}))},t}(n.Disposable));t.Scrollable=r}),define(l[129],h([1,0,13,7,223]),function(e,t,n,i,r){"use strict";function o(e,t,n,i){return d.start(e,t,n,i)}function s(){return d}t.ENABLE_TIMER=!1;var a=n.globals.msWriteProfilerMark;!function(e){e[e.EDITOR=0]="EDITOR",e[e.LANGUAGES=1]="LANGUAGES",e[e.WORKER=2]="WORKER",e[e.WORKBENCH=3]="WORKBENCH",e[e.STARTUP=4]="STARTUP"}(t.Topic||(t.Topic={}));var c=t.Topic,u=function(){function e(){}return e.prototype.stop=function(){},e.prototype.timeTaken=function(){return-1},e}(),l=function(){function e(e,t,n,i,o){if(this.timeKeeper=e,this.name=t,this.description=o,this.topic=n,this.stopTime=null,i)return void(this.startTime=i);if(this.startTime=new Date,this.sw=r.StopWatch.create(),a){var s=["Monaco",this.topic,this.name,"start"];a(s.join("|"))}}return e.prototype.stop=function(e){if(null===this.stopTime){if(e)return this.stopTime=e,this.sw=null,void this.timeKeeper._onEventStopped(this);if(this.stopTime=new Date,this.sw&&this.sw.stop(),this.timeKeeper._onEventStopped(this),a){var t=["Monaco",this.topic,this.name,"stop"];a(t.join("|"))}}},e.prototype.timeTaken=function(){return this.sw?this.sw.elapsed():this.stopTime?this.stopTime.getTime()-this.startTime.getTime():-1},e}(),h=function(){function e(){this.cleaningIntervalId=-1,this.collectedEvents=[],this.listeners=[]}return e.prototype.isEnabled=function(){return t.ENABLE_TIMER},e.prototype.start=function(e,n,i,r){if(!this.isEnabled())return t.nullEvent;var o;"string"==typeof e?o=e:e===c.EDITOR?o="Editor":e===c.LANGUAGES?o="Languages":e===c.WORKER?o="Worker":e===c.WORKBENCH?o="Workbench":e===c.STARTUP&&(o="Startup"),this.initAutoCleaning();var s=new l(this,n,o,i,r);return this.addEvent(s),s},e.prototype.dispose=function(){this.cleaningIntervalId!==-1&&(n.clearInterval(this.cleaningIntervalId),this.cleaningIntervalId=-1)},e.prototype.addListener=function(e){var t=this;return this.listeners.push(e),{dispose:function(){for(var n=0;n<t.listeners.length;n++)if(t.listeners[n]===e)return void t.listeners.splice(n,1)}}},e.prototype.addEvent=function(t){t.id=e.EVENT_ID,e.EVENT_ID++,this.collectedEvents.push(t),this.collectedEvents.length>e._EVENT_CACHE_LIMIT&&this.collectedEvents.shift()},e.prototype.initAutoCleaning=function(){var t=this;this.cleaningIntervalId===-1&&(this.cleaningIntervalId=n.setInterval(function(){var n=Date.now();t.collectedEvents.forEach(function(t){!t.stopTime&&n-t.startTime.getTime()>=e._MAX_TIMER_LENGTH&&t.stop()})},e._CLEAN_UP_INTERVAL))},e.prototype.getCollectedEvents=function(){return this.collectedEvents.slice(0)},e.prototype.clearCollectedEvents=function(){this.collectedEvents=[]},e.prototype._onEventStopped=function(e){for(var t=[e],n=this.listeners.slice(0),r=0;r<n.length;r++)try{n[r](t)}catch(e){i.onUnexpectedError(e)}},e.prototype.setInitialCollectedEvents=function(t,n){var i=this;this.isEnabled()&&(n&&(e.PARSE_TIME=n),t.forEach(function(e){var t=new l(i,e.name,e.topic,e.startTime,e.description);t.stop(e.stopTime),i.addEvent(t)}))},e._MAX_TIMER_LENGTH=6e4,e._CLEAN_UP_INTERVAL=12e4,e._EVENT_CACHE_LIMIT=1e3,e.EVENT_ID=1,e.PARSE_TIME=new Date,e}();t.TimeKeeper=h;var d=new h;t.nullEvent=new u,t.start=o,t.getTimeKeeper=s}),define(l[16],h([1,0,13]),function(e,t,n){"use strict";function i(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return encodeURIComponent(e).replace(/[!'()*]/g,i)}function o(e){return e}var s=function(){function e(){this._scheme=e._empty,this._authority=e._empty,this._path=e._empty,this._query=e._empty,this._fragment=e._empty,this._formatted=null,this._fsPath=null}return e.isUri=function(t){return t instanceof e||!!t&&("string"==typeof t.authority&&"string"==typeof t.fragment&&"string"==typeof t.path&&"string"==typeof t.query&&"string"==typeof t.scheme)},Object.defineProperty(e.prototype,"scheme",{get:function(){return this._scheme},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"authority",{get:function(){return this._authority},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fragment",{get:function(){return this._fragment},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fsPath",{get:function(){if(!this._fsPath){var t;t=this._authority&&this._path&&"file"===this.scheme?"//"+this._authority+this._path:e._driveLetterPath.test(this._path)?this._path[1].toLowerCase()+this._path.substr(2):this._path,n.isWindows&&(t=t.replace(/\//g,"\\")),this._fsPath=t}return this._fsPath},enumerable:!0,configurable:!0}),e.prototype.with=function(t){if(!t)return this;var n=t.scheme,i=t.authority,r=t.path,o=t.query,s=t.fragment;if(void 0===n?n=this.scheme:null===n&&(n=""),void 0===i?i=this.authority:null===i&&(i=""),void 0===r?r=this.path:null===r&&(r=""),void 0===o?o=this.query:null===o&&(o=""),void 0===s?s=this.fragment:null===s&&(s=""),n===this.scheme&&i===this.authority&&r===this.path&&o===this.query&&s===this.fragment)return this;var a=new e;return a._scheme=n,a._authority=i,a._path=r,a._query=o,a._fragment=s,e._validate(a),a},e.parse=function(t){var n=new e,i=e._parseComponents(t);return n._scheme=i.scheme,n._authority=decodeURIComponent(i.authority),n._path=decodeURIComponent(i.path),n._query=decodeURIComponent(i.query),n._fragment=decodeURIComponent(i.fragment),e._validate(n),n},e.file=function(t){var n=new e;
if(n._scheme="file",t=t.replace(/\\/g,e._slash),t[0]===e._slash&&t[0]===t[1]){var i=t.indexOf(e._slash,2);i===-1?n._authority=t.substring(2):(n._authority=t.substring(2,i),n._path=t.substring(i))}else n._path=t;return n._path[0]!==e._slash&&(n._path=e._slash+n._path),e._validate(n),n},e._parseComponents=function(t){var n={scheme:e._empty,authority:e._empty,path:e._empty,query:e._empty,fragment:e._empty},i=e._regexp.exec(t);return i&&(n.scheme=i[2]||n.scheme,n.authority=i[4]||n.authority,n.path=i[5]||n.path,n.query=i[7]||n.query,n.fragment=i[9]||n.fragment),n},e.from=function(t){return(new e).with(t)},e._validate=function(t){if(t.scheme&&!e._schemePattern.test(t.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(t.path)if(t.authority){if(!e._singleSlashStart.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(e._doubleSlashStart.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')},e.prototype.toString=function(t){return void 0===t&&(t=!1),t?e._asFormatted(this,!0):(this._formatted||(this._formatted=e._asFormatted(this,!1)),this._formatted)},e._asFormatted=function(t,n){var s=n?o:r,a=[],c=t.scheme,u=t.authority,l=t.path,h=t.query,d=t.fragment;if(c&&a.push(c,":"),(u||"file"===c)&&a.push("//"),u){u=u.toLowerCase();var p=u.indexOf(":");p===-1?a.push(s(u)):a.push(s(u.substr(0,p)),u.substr(p))}if(l){var f=e._upperCaseDrive.exec(l);f&&(l=f[1]?"/"+f[2].toLowerCase()+l.substr(3):f[2].toLowerCase()+l.substr(2));for(var g=0;;){var p=l.indexOf(e._slash,g);if(p===-1){a.push(s(l.substring(g)).replace(/[#?]/,i));break}a.push(s(l.substring(g,p)).replace(/[#?]/,i),e._slash),g=p+1}}return h&&a.push("?",s(h)),d&&a.push("#",s(d)),a.join(e._empty)},e.prototype.toJSON=function(){return{scheme:this.scheme,authority:this.authority,path:this.path,fsPath:this.fsPath,query:this.query,fragment:this.fragment,external:this.toString(),$mid:1}},e.revive=function(t){var n=new e;return n._scheme=t.scheme,n._authority=t.authority,n._path=t.path,n._query=t.query,n._fragment=t.fragment,n._fsPath=t.fsPath,n._formatted=t.external,e._validate(n),n},e._empty="",e._slash="/",e._regexp=/^(([^:\/?#]+?):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,e._driveLetterPath=/^\/[a-zA-z]:/,e._upperCaseDrive=/^(\/)?([A-Z]:)/,e._schemePattern=/^\w[\w\d+.-]*$/,e._singleSlashStart=/^\//,e._doubleSlashStart=/^\/\//,e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=s}),define(l[213],h([1,0,16]),function(e,t,n){"use strict";function i(e){return JSON.stringify(e,o)}function r(e){return JSON.parse(e,s)}function o(e,t){return t instanceof RegExp?{$mid:2,source:t.source,flags:(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")}:t}function s(e,t){var i;return void 0!==t&&null!==t&&(i=t.$mid),1===i?n.default.revive(t):2===i?new RegExp(t.source,t.flags):t}t.stringify=i,t.parse=r}),define(l[95],h([1,0]),function(e,t){"use strict";function n(){return new a}function i(e){return c.test(e)}function r(e){if(!i(e))throw new Error("invalid uuid");return new s(e)}function o(){return n().asHex()}var s=function(){function e(e){this._value=e}return e.prototype.asHex=function(){return this._value},e.prototype.equals=function(e){return this.asHex()===e.asHex()},e}(),a=function(e){function t(){e.call(this,[t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}return d(t,e),t._oneOf=function(e){return e[Math.floor(e.length*Math.random())]},t._randomHex=function(){return t._oneOf(t._chars)},t._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],t._timeHighBits=["8","9","a","b"],t}(s);t.empty=new s("00000000-0000-0000-0000-000000000000"),t.v4=n;var c=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;t.isUUID=i,t.parse=r,t.generateUuid=o}),define(l[901],h([1,0,11]),function(e,t,n){"use strict";var i=function(){function e(e,t){this._onAlert=new n.Emitter,this._timeout=e,this._threshold=t}return e.prototype.dispose=function(){this.stop()},Object.defineProperty(e.prototype,"onAlert",{get:function(){return this._onAlert.event},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.reset(),this._handle=setInterval(this._check.bind(this),1.5*this._timeout)},e.prototype.stop=function(){clearInterval(this._handle)},e.prototype.reset=function(){this._lastSignal=Date.now(),this._missed=0},e.prototype._check=function(){Date.now()-this._lastSignal>this._timeout&&(this._missed+=1,this._missed>this._threshold&&(this._onAlert.fire(this),this._missed=0))},e}();t.WatchDog=i}),function(){var e={};e["WinJS/Core/_WinJS"]={};var t=function(t,n,i){var r={},o=!1,s=n.map(function(t){return"exports"===t?(o=!0,r):e[t]}),a=i.apply({},s);e[t]=o?r:a};t("WinJS/Core/_Global",[],function(){"use strict";var e="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:{};return e}),t("WinJS/Core/_BaseCoreUtils",["WinJS/Core/_Global"],function(e){"use strict";function t(e){return e.supportedForProcessing=!0,e}var n=!!e.Windows;return{hasWinRT:n,markSupportedForProcessing:t,_setImmediate:e.setImmediate?e.setImmediate.bind(e):function(t){e.setTimeout(t,0)}}}),t("WinJS/Core/_WriteProfilerMark",["WinJS/Core/_Global"],function(e){"use strict";return e.msWriteProfilerMark||function(){}}),t("WinJS/Core/_Base",["WinJS/Core/_WinJS","WinJS/Core/_Global","WinJS/Core/_BaseCoreUtils","WinJS/Core/_WriteProfilerMark"],function(e,t,n,i){"use strict";function r(e,t,n){var i,r,o,s=Object.keys(t),a=Array.isArray(e);for(r=0,o=s.length;r<o;r++){var c=s[r],u=95!==c.charCodeAt(0),l=t[c];!l||"object"!=typeof l||void 0===l.value&&"function"!=typeof l.get&&"function"!=typeof l.set?u?a?e.forEach(function(e){e[c]=l}):e[c]=l:(i=i||{},i[c]={value:l,enumerable:u,configurable:!0,writable:!0}):(void 0===l.enumerable&&(l.enumerable=u),n&&l.setName&&"function"==typeof l.setName&&l.setName(n+"."+c),i=i||{},i[c]=l)}i&&(a?e.forEach(function(e){Object.defineProperties(e,i)}):Object.defineProperties(e,i))}return function(){function n(n,i){var r=n||{};if(i){var o=i.split(".");r===t&&"WinJS"===o[0]&&(r=e,o.splice(0,1));for(var s=0,a=o.length;s<a;s++){var c=o[s];r[c]||Object.defineProperty(r,c,{value:{},writable:!1,enumerable:!0,configurable:!0}),r=r[c]}}return r}function o(e,t,i){var o=n(e,t);return i&&r(o,i,t||"<ANONYMOUS>"),o}function s(e,n){return o(t,e,n)}function a(e){var t,n,r=l.uninitialized;return{setName:function(e){t=e},get:function(){switch(r){case l.initialized:return n;case l.uninitialized:r=l.working;try{i("WinJS.Namespace._lazy:"+t+",StartTM"),n=e()}finally{i("WinJS.Namespace._lazy:"+t+",StopTM"),r=l.uninitialized}return e=null,r=l.initialized,n;case l.working:throw"Illegal: reentrancy on initialization";default:throw"Illegal"}},set:function(e){switch(r){case l.working:throw"Illegal: reentrancy on initialization";default:r=l.initialized,n=e}},enumerable:!0,configurable:!0}}function c(e,i,o){var s=[e],a=null;return i&&(a=n(t,i),s.push(a)),r(s,o,i||"<ANONYMOUS>"),a}var u=e;u.Namespace||(u.Namespace=Object.create(Object.prototype));var l={uninitialized:1,working:2,initialized:3};Object.defineProperties(u.Namespace,{defineWithParent:{value:o,writable:!0,enumerable:!0,configurable:!0},define:{value:s,writable:!0,enumerable:!0,configurable:!0},_lazy:{value:a,writable:!0,enumerable:!0,configurable:!0},_moduleDefine:{value:c,writable:!0,enumerable:!0,configurable:!0}})}(),function(){function t(e,t,i){return e=e||function(){},n.markSupportedForProcessing(e),t&&r(e.prototype,t),i&&r(e,i),e}function i(e,i,o,s){if(e){i=i||function(){};var a=e.prototype;return i.prototype=Object.create(a),n.markSupportedForProcessing(i),Object.defineProperty(i.prototype,"constructor",{value:i,writable:!0,configurable:!0,enumerable:!0}),o&&r(i.prototype,o),s&&r(i,s),i}return t(i,o,s)}function o(e){e=e||function(){};var t,n;for(t=1,n=arguments.length;t<n;t++)r(e.prototype,arguments[t]);return e}e.Namespace.define("WinJS.Class",{define:t,derive:i,mix:o})}(),{Namespace:e.Namespace,Class:e.Class}}),t("WinJS/Core/_ErrorFromName",["WinJS/Core/_Base"],function(e){"use strict";var t=e.Class.derive(Error,function(e,t){this.name=e,this.message=t||e},{},{supportedForProcessing:!1});return e.Namespace.define("WinJS",{ErrorFromName:t}),t}),t("WinJS/Core/_Events",["exports","WinJS/Core/_Base"],function(e,t){"use strict";function n(e){var t="_on"+e+"state";return{get:function(){var e=this[t];return e&&e.userHandler},set:function(n){var i=this[t];n?(i||(i={wrapper:function(e){return i.userHandler(e)},userHandler:n},Object.defineProperty(this,t,{value:i,enumerable:!1,writable:!0,configurable:!0}),this.addEventListener(e,i.wrapper,!1)),i.userHandler=n):i&&(this.removeEventListener(e,i.wrapper,!1),this[t]=null)},enumerable:!0}}function i(){for(var e={},t=0,i=arguments.length;t<i;t++){var r=arguments[t];e["on"+r]=n(r)}return e}var r=t.Class.define(function(e,t,n){this.detail=t,this.target=n,this.timeStamp=Date.now(),this.type=e},{bubbles:{value:!1,writable:!1},cancelable:{value:!1,writable:!1},currentTarget:{get:function(){return this.target}},defaultPrevented:{get:function(){return this._preventDefaultCalled}},trusted:{value:!1,writable:!1},eventPhase:{value:0,writable:!1},target:null,timeStamp:null,type:null,preventDefault:function(){this._preventDefaultCalled=!0},stopImmediatePropagation:function(){this._stopImmediatePropagationCalled=!0},stopPropagation:function(){}},{supportedForProcessing:!1}),o={_listeners:null,addEventListener:function(e,t,n){n=n||!1,this._listeners=this._listeners||{};for(var i=this._listeners[e]=this._listeners[e]||[],r=0,o=i.length;r<o;r++){var s=i[r];if(s.useCapture===n&&s.listener===t)return}i.push({listener:t,useCapture:n})},dispatchEvent:function(e,t){var n=this._listeners&&this._listeners[e];if(n){var i=new r(e,t,this);n=n.slice(0,n.length);for(var o=0,s=n.length;o<s&&!i._stopImmediatePropagationCalled;o++)n[o].listener(i);return i.defaultPrevented||!1}return!1},removeEventListener:function(e,t,n){n=n||!1;var i=this._listeners&&this._listeners[e];if(i)for(var r=0,o=i.length;r<o;r++){var s=i[r];if(s.listener===t&&s.useCapture===n){i.splice(r,1),0===i.length&&delete this._listeners[e];break}}}};t.Namespace._moduleDefine(e,"WinJS.Utilities",{_createEventProperty:n,createEventProperties:i,eventMixin:o})}),t("WinJS/Core/_Trace",["WinJS/Core/_Global"],function(e){"use strict";function t(e){return e}return{_traceAsyncOperationStarting:e.Debug&&e.Debug.msTraceAsyncOperationStarting&&e.Debug.msTraceAsyncOperationStarting.bind(e.Debug)||t,_traceAsyncOperationCompleted:e.Debug&&e.Debug.msTraceAsyncOperationCompleted&&e.Debug.msTraceAsyncOperationCompleted.bind(e.Debug)||t,_traceAsyncCallbackStarting:e.Debug&&e.Debug.msTraceAsyncCallbackStarting&&e.Debug.msTraceAsyncCallbackStarting.bind(e.Debug)||t,_traceAsyncCallbackCompleted:e.Debug&&e.Debug.msTraceAsyncCallbackCompleted&&e.Debug.msTraceAsyncCallbackCompleted.bind(e.Debug)||t}}),t("WinJS/Promise/_StateMachine",["WinJS/Core/_Global","WinJS/Core/_BaseCoreUtils","WinJS/Core/_Base","WinJS/Core/_ErrorFromName","WinJS/Core/_Events","WinJS/Core/_Trace"],function(e,t,n,i,r,o){"use strict";function s(){}function a(e,t){var n;n=t&&"object"==typeof t&&"function"==typeof t.then?O:W,e._value=t,e._setState(n)}function c(e,t,n,i,r,o){return{exception:e,error:t,promise:n,handler:o,id:i,parent:r}}function u(e,t,n,i){var r=n._isException,o=n._errorId;return c(r?t:null,r?null:t,e,o,n,i)}function l(e,t,n){var i=n._isException,r=n._errorId;return S(e,r,i),c(i?t:null,i?null:t,e,r,n)}function h(e,t){var n=++z;return S(e,n),c(null,t,e,n)}function d(e,t){var n=++z;return S(e,n,!0),c(t,null,e,n)}function p(e,t,n,i){var r=o._traceAsyncOperationStarting("WinJS.Promise.done");b(e,{c:t,e:n,p:i,asyncOpID:r})}function f(e,t,n,i){e._value=t,m(e,t,n,i),e._setState(B)}function g(t,n){var i=t._value,r=t._listeners;if(r){t._listeners=null;var s,a;for(s=0,a=Array.isArray(r)?r.length:1;s<a;s++){var c=1===a?r:r[s],u=c.c,l=c.promise;if(o._traceAsyncOperationCompleted(c.asyncOpID,e.Debug&&e.Debug.MS_ASYNC_OP_STATUS_SUCCESS),l){o._traceAsyncCallbackStarting(c.asyncOpID);try{l._setCompleteValue(u?u(i):i)}catch(e){l._setExceptionValue(e)}finally{o._traceAsyncCallbackCompleted()}l._state!==O&&l._listeners&&n.push(l)}else $.prototype.done.call(t,u)}}}function v(t,n){var i=t._value,r=t._listeners;if(r){t._listeners=null;var s,a;for(s=0,a=Array.isArray(r)?r.length:1;s<a;s++){var c=1===a?r:r[s],l=c.e,h=c.promise,d=e.Debug&&(i&&i.name===D?e.Debug.MS_ASYNC_OP_STATUS_CANCELED:e.Debug.MS_ASYNC_OP_STATUS_ERROR);if(o._traceAsyncOperationCompleted(c.asyncOpID,d),h){var p=!1;try{l?(o._traceAsyncCallbackStarting(c.asyncOpID),p=!0,l.handlesOnError||m(h,i,u,t,l),h._setCompleteValue(l(i))):h._setChainedErrorValue(i,t)}catch(e){h._setExceptionValue(e)}finally{p&&o._traceAsyncCallbackCompleted()}h._state!==O&&h._listeners&&n.push(h)}else j.prototype.done.call(t,null,l)}}}function m(e,t,n,i,r){if(x._listeners[A]){if(t instanceof Error&&t.message===D)return;x.dispatchEvent(A,n(e,t,i,r))}}function y(e,t){var n=e._listeners;if(n){var i,r;for(i=0,r=Array.isArray(n)?n.length:1;i<r;i++){var o=1===r?n:n[i],s=o.p;if(s)try{s(t)}catch(e){}o.c||o.e||!o.promise||o.promise._progress(t)}}}function b(e,t){var n=e._listeners;n?(n=Array.isArray(n)?n:[n],n.push(t)):n=t,e._listeners=n}function S(e,t,n){e._isException=n||!1,e._errorId=t}function E(e,t,n,i){e._value=t,m(e,t,n,i),e._setState(H)}function _(e,t){var n;n=t&&"object"==typeof t&&"function"==typeof t.then?O:V,e._value=t,e._setState(n)}function C(e,t,n,i){var r=new K(e),s=o._traceAsyncOperationStarting("WinJS.Promise.then");return b(e,{promise:r,c:t,e:n,p:i,asyncOpID:s}),r}function w(n){var i;return new Y(function(r){n?i=e.setTimeout(r,n):t._setImmediate(r)},function(){i&&e.clearTimeout(i)})}function I(e,t){var n=function(){t.cancel()},i=function(){e.cancel()};return e.then(n),t.then(i,i),t}e.Debug&&(e.Debug.setNonUserCodeExceptions=!0);var T=n.Class.mix(n.Class.define(null,{},{supportedForProcessing:!1}),r.eventMixin),x=new T;x._listeners={};var A="error",D="Canceled",L=!1,k={promise:1,thenPromise:2,errorPromise:4,exceptionPromise:8,completePromise:16};k.all=k.promise|k.thenPromise|k.errorPromise|k.exceptionPromise|k.completePromise;var P,R,O,M,N,F,W,V,B,H,z=1;P={name:"created",enter:function(e){e._setState(R)},cancel:s,done:s,then:s,_completed:s,_error:s,_notify:s,_progress:s,_setCompleteValue:s,_setErrorValue:s},R={name:"working",enter:s,cancel:function(e){e._setState(N)},done:p,then:C,_completed:a,_error:f,_notify:s,_progress:y,_setCompleteValue:_,_setErrorValue:E},O={name:"waiting",enter:function(e){var t=e._value;if(t instanceof K&&t._state!==H&&t._state!==V)b(t,{promise:e});else{var n=function(i){t._errorId?e._chainedError(i,t):(m(e,i,u,t,n),e._error(i))};n.handlesOnError=!0,t.then(e._completed.bind(e),n,e._progress.bind(e))}},cancel:function(e){e._setState(M)},done:p,then:C,_completed:a,_error:f,_notify:s,_progress:y,_setCompleteValue:_,_setErrorValue:E},M={name:"waiting_canceled",enter:function(e){e._setState(F);var t=e._value;t.cancel&&t.cancel()},cancel:s,done:p,then:C,_completed:a,_error:f,_notify:s,_progress:y,_setCompleteValue:_,_setErrorValue:E},N={name:"canceled",enter:function(e){e._setState(F),e._cancelAction()},cancel:s,done:p,then:C,_completed:a,_error:f,_notify:s,_progress:y,_setCompleteValue:_,_setErrorValue:E},F={name:"canceling",enter:function(e){var t=new Error(D);t.name=t.message,e._value=t,e._setState(B)},cancel:s,done:s,then:s,_completed:s,_error:s,_notify:s,_progress:s,_setCompleteValue:s,_setErrorValue:s},W={name:"complete_notify",enter:function(e){if(e.done=$.prototype.done,e.then=$.prototype.then,e._listeners)for(var t,n=[e];n.length;)t=n.shift(),t._state._notify(t,n);e._setState(V)},cancel:s,done:null,then:null,_completed:s,_error:s,_notify:g,_progress:s,_setCompleteValue:s,_setErrorValue:s},V={name:"success",enter:function(e){e.done=$.prototype.done,e.then=$.prototype.then,e._cleanupAction()},cancel:s,done:null,then:null,_completed:s,_error:s,_notify:g,_progress:s,_setCompleteValue:s,_setErrorValue:s},B={name:"error_notify",enter:function(e){if(e.done=j.prototype.done,e.then=j.prototype.then,e._listeners)for(var t,n=[e];n.length;)t=n.shift(),t._state._notify(t,n);e._setState(H)},cancel:s,done:null,then:null,_completed:s,_error:s,_notify:v,_progress:s,_setCompleteValue:s,_setErrorValue:s},H={name:"error",enter:function(e){e.done=j.prototype.done,e.then=j.prototype.then,e._cleanupAction()},cancel:s,done:null,then:null,_completed:s,_error:s,_notify:v,_progress:s,_setCompleteValue:s,_setErrorValue:s};var U,G=n.Class.define(null,{_listeners:null,_nextState:null,_state:null,_value:null,cancel:function(){this._state.cancel(this),this._run()},done:function(e,t,n){this._state.done(this,e,t,n)},then:function(e,t,n){return this._state.then(this,e,t,n)},_chainedError:function(e,t){var n=this._state._error(this,e,l,t);return this._run(),n},_completed:function(e){var t=this._state._completed(this,e);return this._run(),t},_error:function(e){var t=this._state._error(this,e,h);return this._run(),t},_progress:function(e){this._state._progress(this,e)},_setState:function(e){this._nextState=e},_setCompleteValue:function(e){this._state._setCompleteValue(this,e),this._run()},_setChainedErrorValue:function(e,t){var n=this._state._setErrorValue(this,e,l,t);return this._run(),n},_setExceptionValue:function(e){var t=this._state._setErrorValue(this,e,d);return this._run(),t},_run:function(){for(;this._nextState;)this._state=this._nextState,this._nextState=null,this._state.enter(this)}},{supportedForProcessing:!1}),K=n.Class.derive(G,function(e){L&&(L===!0||L&k.thenPromise)&&(this._stack=Y._getStack()),this._creator=e,this._setState(P),this._run()},{_creator:null,_cancelAction:function(){this._creator&&this._creator.cancel()},_cleanupAction:function(){this._creator=null}},{supportedForProcessing:!1}),j=n.Class.define(function(e){L&&(L===!0||L&k.errorPromise)&&(this._stack=Y._getStack()),this._value=e,m(this,e,h)},{cancel:function(){},done:function(e,t){var n=this._value;if(t)try{t.handlesOnError||m(null,n,u,this,t);var i=t(n);return void(i&&"object"==typeof i&&"function"==typeof i.done&&i.done())}catch(e){n=e}n instanceof Error&&n.message===D||Y._doneHandler(n)},then:function(e,t){if(!t)return this;var n,i=this._value;try{t.handlesOnError||m(null,i,u,this,t),n=new $(t(i))}catch(e){n=e===i?this:new q(e)}return n}},{supportedForProcessing:!1}),q=n.Class.derive(j,function(e){L&&(L===!0||L&k.exceptionPromise)&&(this._stack=Y._getStack()),this._value=e,m(this,e,d)},{},{supportedForProcessing:!1}),$=n.Class.define(function(e){if(L&&(L===!0||L&k.completePromise)&&(this._stack=Y._getStack()),e&&"object"==typeof e&&"function"==typeof e.then){var t=new K(null);return t._setCompleteValue(e),t}this._value=e},{cancel:function(){},done:function(e){if(e)try{var t=e(this._value);t&&"object"==typeof t&&"function"==typeof t.done&&t.done()}catch(e){Y._doneHandler(e)}},then:function(e){try{var t=e?e(this._value):this._value;return t===this._value?this:new $(t)}catch(e){return new q(e)}}},{supportedForProcessing:!1}),Y=n.Class.derive(G,function(e,t){L&&(L===!0||L&k.promise)&&(this._stack=Y._getStack()),this._oncancel=t,this._setState(P),this._run();try{var n=this._completed.bind(this),i=this._error.bind(this),r=this._progress.bind(this);e(n,i,r)}catch(e){this._setExceptionValue(e)}},{_oncancel:null,_cancelAction:function(){try{if(!this._oncancel)throw new Error("Promise did not implement oncancel");this._oncancel()}catch(e){e.message,e.stack;x.dispatchEvent("error",e)}},_cleanupAction:function(){this._oncancel=null}},{addEventListener:function(e,t,n){x.addEventListener(e,t,n)},any:function(e){return new Y(function(t,n){var i=Object.keys(e);0===i.length&&t();var r=0;i.forEach(function(o){Y.as(e[o]).then(function(){t({key:o,value:e[o]})},function(s){return s instanceof Error&&s.name===D?void(++r===i.length&&t(Y.cancel)):void n({key:o,value:e[o]})})})},function(){var t=Object.keys(e);t.forEach(function(t){var n=Y.as(e[t]);"function"==typeof n.cancel&&n.cancel()})})},as:function(e){return e&&"object"==typeof e&&"function"==typeof e.then?e:new $(e)},cancel:{get:function(){return U=U||new j(new i(D))}},dispatchEvent:function(e,t){return x.dispatchEvent(e,t)},is:function(e){return e&&"object"==typeof e&&"function"==typeof e.then},join:function(e){return new Y(function(t,n,i){var r=Object.keys(e),o=Array.isArray(e)?[]:{},s=Array.isArray(e)?[]:{},a=0,c=r.length,u=function(e){if(0===--c){var a=Object.keys(o).length;if(0===a)t(s);else{var u=0;r.forEach(function(e){var t=o[e];t instanceof Error&&t.name===D&&u++}),u===a?t(Y.cancel):n(o)}}else i({Key:e,Done:!0})};if(r.forEach(function(t){var n=e[t];void 0===n?a++:Y.then(n,function(e){s[t]=e,u(t)},function(e){o[t]=e,u(t)})}),c-=a,0===c)return void t(s)},function(){Object.keys(e).forEach(function(t){var n=Y.as(e[t]);"function"==typeof n.cancel&&n.cancel()})})},removeEventListener:function(e,t,n){x.removeEventListener(e,t,n)},supportedForProcessing:!1,then:function(e,t,n,i){return Y.as(e).then(t,n,i)},thenEach:function(e,t,n,i){var r=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(o){r[o]=Y.as(e[o]).then(t,n,i)}),Y.join(r)},timeout:function(e,t){var n=w(e);return t?I(n,t):n},wrap:function(e){return new $(e)},wrapError:function(e){return new j(e)},_veryExpensiveTagWithStack:{get:function(){return L},set:function(e){L=e}},_veryExpensiveTagWithStack_tag:k,_getStack:function(){if(e.Debug&&e.Debug.debuggerEnabled)try{throw new Error}catch(e){return e.stack}},_cancelBlocker:function(e,t){if(!Y.is(e))return Y.wrap(e);var n,i,r=new Y(function(e,t){n=e,i=t},function(){n=null,i=null,t&&t()});return e.then(function(e){n&&n(e)},function(e){i&&i(e)}),r}});return Object.defineProperties(Y,r.createEventProperties(A)),Y._doneHandler=function(e){t._setImmediate(function(){throw e})},{PromiseStateMachine:G,Promise:Y,state_created:P}}),t("WinJS/Promise",["WinJS/Core/_Base","WinJS/Promise/_StateMachine"],function(e,t){"use strict";return e.Namespace.define("WinJS",{Promise:t.Promise}),t.Promise});var n=e["WinJS/Core/_WinJS"];"undefined"==typeof exports&&"function"==typeof define&&define.amd?define("vs/base/common/winjs.base.raw",n):module.exports=n,"undefined"!=typeof process&&"function"==typeof process.nextTick&&(e["WinJS/Core/_BaseCoreUtils"]._setImmediate=function(e){return process.nextTick(e)})}(),define(l[2],h([1260,7]),function(e,t){"use strict";function n(e){var n=e.detail,r=n.id;return n.parent?void(n.handler&&i&&delete i[r]):(i[r]=n,void(1===Object.keys(i).length&&setTimeout(function(){var e=i;i={},Object.keys(e).forEach(function(n){var i=e[n];i.exception?t.onUnexpectedError(i.exception):i.error&&t.onUnexpectedError(i.error),console.log("WARNING: Promise with no error callback:"+i.id),console.log(i),i.exception&&console.log(i.exception.stack)})},0)))}var i={};return e.Promise.addEventListener("error",n),{Promise:e.Promise,TPromise:e.Promise,PPromise:e.Promise}}),define(l[24],h([1,0,2,42,109,11]),function(e,t,n,i,r,o){"use strict";function s(e){return!!e&&(e instanceof a||"string"==typeof e.id&&("string"==typeof e.label&&("string"==typeof e.class&&("boolean"==typeof e.enabled&&("boolean"==typeof e.checked&&"function"==typeof e.run)))))}t.isAction=s;var a=function(){function e(e,t,n,i,r){void 0===t&&(t=""),void 0===n&&(n=""),void 0===i&&(i=!0),this._onDidChange=new o.Emitter,this._id=e,this._label=t,this._cssClass=n,this._enabled=i,this._actionCallback=r}return e.prototype.dispose=function(){this._onDidChange.dispose()},Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){this._setLabel(e)},enumerable:!0,configurable:!0}),e.prototype._setLabel=function(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))},Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip},set:function(e){this._setTooltip(e)},enumerable:!0,configurable:!0}),e.prototype._setTooltip=function(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))},Object.defineProperty(e.prototype,"class",{get:function(){return this._cssClass},set:function(e){this._setClass(e)},enumerable:!0,configurable:!0}),e.prototype._setClass=function(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))},Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._setEnabled(e)},enumerable:!0,configurable:!0}),e.prototype._setEnabled=function(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))},Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(e){this._setChecked(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radio",{get:function(){return this._radio},set:function(e){this._setRadio(e)},enumerable:!0,configurable:!0}),e.prototype._setChecked=function(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))},e.prototype._setRadio=function(e){this._radio!==e&&(this._radio=e,this._onDidChange.fire({radio:e}))},Object.defineProperty(e.prototype,"order",{get:function(){return this._order},set:function(e){this._order=e},enumerable:!0,configurable:!0}),e.prototype.run=function(e){return void 0!==this._actionCallback?this._actionCallback(e):n.TPromise.as(!0)},e}();t.Action=a;var c=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.run=function(e,t){var i=this;return e.enabled?(this.emit(r.EventType.BEFORE_RUN,{action:e}),n.TPromise.as(e.run(t)).then(function(t){i.emit(r.EventType.RUN,{action:e,result:t})},function(t){i.emit(r.EventType.RUN,{action:e,error:t})})):n.TPromise.as(null)},t}(i.EventEmitter);t.ActionRunner=c}),define(l[17],h([1,0,7,13,2,243,5,11]),function(e,t,n,i,r,o,s,a){"use strict";function c(e){return e&&"function"==typeof e.then}function u(e){return c(e)?e:r.TPromise.as(e)}function l(e){var t=new o.CancellationTokenSource;return new r.TPromise(function(n,i,o){var s=e(t.token);s instanceof r.TPromise?s.then(n,i,o):c(s)?s.then(n,i):n(s)},function(){t.cancel()})}function h(e,t,i){var o=e.onCancellationRequested(function(){return t.cancel()});return i&&(t=t.then(void 0,function(e){if(!n.isPromiseCanceledError(e))return r.TPromise.wrapError(e)})),p(t,function(){return o.dispose()})}function p(e,t){return new r.TPromise(function(i,r,o){e.done(function(e){try{t(e)}catch(e){n.onUnexpectedError(e)}i(e)},function(e){try{t(e)}catch(e){n.onUnexpectedError(e)}r(e)},function(e){o(e)})},function(){e.cancel()})}function f(e){function t(){return e.length?e.pop()():null}function n(e){void 0!==e&&null!==e&&i.push(e);var o=t();return o?o.then(n):r.TPromise.as(i)}var i=[];return e=e.reverse(),r.TPromise.as(null).then(n)}function g(e,t){void 0===t&&(t=function(e){return!!e}),e=e.reverse().slice();var n=function(){if(0===e.length)return r.TPromise.as(null);var i=e.pop(),o=i();return o.then(function(e){return t(e)?r.TPromise.as(e):n()})};return n()}function v(e){var t,n=this,i=!1;return function(){return i?t:(i=!0,t=e.apply(n,arguments))}}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new r.Promise(function(n,i){return e.apply(void 0,t.concat([function(e,t){return e?i(e):n(t)}]))})}function y(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return new r.Promise(function(i,r){return t.call.apply(t,[e].concat(n,[function(e,t){return e?r(e):i(t)}]))})}t.toThenable=u,t.asWinJsPromise=l,t.wireCancellationToken=h;var b=function(){function e(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}return e.prototype.queue=function(e){var t=this;if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){var n=function(){t.queuedPromise=null;var e=t.queue(t.queuedPromiseFactory);return t.queuedPromiseFactory=null,e};this.queuedPromise=new r.Promise(function(e,i,r){t.activePromise.then(n,n,r).done(e)},function(){t.activePromise.cancel()})}return new r.Promise(function(e,n,i){t.queuedPromise.then(e,n,i)},function(){})}return this.activePromise=e(),new r.Promise(function(e,n,i){t.activePromise.done(function(n){t.activePromise=null,e(n)},function(e){t.activePromise=null,n(e)},i)},function(){t.activePromise.cancel()})},e}();t.Throttler=b;var S=function(){function e(){this.current=r.TPromise.as(null)}return e.prototype.queue=function(e){return this.current=this.current.then(function(){return e()})},e}();t.SimpleThrottler=S;var E=function(){function e(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.onSuccess=null,this.task=null}return e.prototype.trigger=function(e,t){var n=this;return void 0===t&&(t=this.defaultDelay),this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new r.Promise(function(e){n.onSuccess=e},function(){}).then(function(){n.completionPromise=null,n.onSuccess=null;var e=n.task;return n.task=null,e()})),this.timeout=setTimeout(function(){n.timeout=null,n.onSuccess(null)},t),this.completionPromise},e.prototype.isTriggered=function(){return null!==this.timeout},e.prototype.cancel=function(){this.cancelTimeout(),this.completionPromise&&(this.completionPromise.cancel(),this.completionPromise=null)},e.prototype.cancelTimeout=function(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},e}();t.Delayer=E;var _=function(e){function t(t){e.call(this,t),this.throttler=new b}return d(t,e),t.prototype.trigger=function(t,n){var i=this;return e.prototype.trigger.call(this,function(){return i.throttler.queue(t)},n)},t}(E);t.ThrottledDelayer=_;var C=function(e){function t(t,n){void 0===n&&(n=0),e.call(this,t),this.minimumPeriod=n,this.periodThrottler=new b}return d(t,e),t.prototype.trigger=function(t,n){var i=this;return e.prototype.trigger.call(this,function(){return i.periodThrottler.queue(function(){return r.Promise.join([r.TPromise.timeout(i.minimumPeriod),t()]).then(function(e){return e[1]})})},n)},t}(_);t.PeriodThrottledDelayer=C;var w=function(){function e(){var e=this;this._value=new r.TPromise(function(t,n){e._completeCallback=t,e._errorCallback=n})}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e.prototype.complete=function(e){this._completeCallback(e)},e.prototype.error=function(e){this._errorCallback(e)},e}();t.PromiseSource=w;var I=function(e){function t(t){var i,r,o;e.call(this,function(e,t,n){i=e,r=t,o=n},function(){r(n.canceled())}),t.then(i,r,o)}return d(t,e),t}(r.TPromise);t.ShallowCancelThenPromise=I,t.always=p,t.sequence=f,t.first=g,t.once=v;var T=function(){function e(e){this.maxDegreeOfParalellism=e,this.outstandingPromises=[],this.runningPromises=0,this._onFinished=new a.Emitter}return Object.defineProperty(e.prototype,"onFinished",{get:function(){return this._onFinished.event},enumerable:!0,configurable:!0}),e.prototype.queue=function(e){var t=this;return new r.TPromise(function(n,i,r){t.outstandingPromises.push({factory:e,c:n,e:i,p:r}),t.consume()})},e.prototype.consume=function(){for(var e=this;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){var t=this.outstandingPromises.shift();this.runningPromises++;var n=t.factory();n.done(t.c,t.e,t.p),n.done(function(){return e.consumed();
},function(){return e.consumed()})}},e.prototype.consumed=function(){this.runningPromises--,this.outstandingPromises.length>0?this.consume():this._onFinished.fire()},e.prototype.dispose=function(){this._onFinished.dispose()},e}();t.Limiter=T;var x=function(e){function t(){e.call(this,1)}return d(t,e),t}(T);t.Queue=x;var A=function(e){function t(){e.call(this),this._token=-1}return d(t,e),t.prototype.dispose=function(){this.cancel(),e.prototype.dispose.call(this)},t.prototype.cancel=function(){this._token!==-1&&(i.clearTimeout(this._token),this._token=-1)},t.prototype.cancelAndSet=function(e,t){var n=this;this.cancel(),this._token=i.setTimeout(function(){n._token=-1,e()},t)},t.prototype.setIfNotSet=function(e,t){var n=this;this._token===-1&&(this._token=i.setTimeout(function(){n._token=-1,e()},t))},t}(s.Disposable);t.TimeoutTimer=A;var D=function(e){function t(){e.call(this),this._token=-1}return d(t,e),t.prototype.dispose=function(){this.cancel(),e.prototype.dispose.call(this)},t.prototype.cancel=function(){this._token!==-1&&(i.clearInterval(this._token),this._token=-1)},t.prototype.cancelAndSet=function(e,t){this.cancel(),this._token=i.setInterval(function(){e()},t)},t}(s.Disposable);t.IntervalTimer=D;var L=function(){function e(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}return e.prototype.dispose=function(){this.cancel(),this.runner=null},e.prototype.cancel=function(){this.isScheduled()&&(i.clearTimeout(this.timeoutToken),this.timeoutToken=-1)},e.prototype.setRunner=function(e){this.runner=e},e.prototype.schedule=function(e){void 0===e&&(e=this.timeout),this.cancel(),this.timeoutToken=i.setTimeout(this.timeoutHandler,e)},e.prototype.isScheduled=function(){return this.timeoutToken!==-1},e.prototype.onTimeout=function(){this.timeoutToken=-1,this.runner&&this.runner()},e}();t.RunOnceScheduler=L,t.nfcall=m,t.ninvoke=y}),define(l[8],h([1,0,2,17,7,42,5,21,48,78,79]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";function h(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function p(e){var t=[];return JSON.stringify(e,function(e,n){if(n instanceof Element)return"[Element]";if(a.isObject(n)||Array.isArray(n)){if(t.indexOf(n)!==-1)return"[Circular]";t.push(n)}return n})}function f(e){for(;e;){if(e===document.body)return!0;e=e.parentNode}return!1}function g(e,t){var n=e.className;if(!n)return void(re=-1);t=t.trim();var i=n.length,r=t.length;if(0===r)return void(re=-1);if(i<r)return void(re=-1);if(n===t)return re=0,void(oe=i);for(var o,s=-1;(s=n.indexOf(t,s+1))>=0;){if(o=s+r,(0===s||32===n.charCodeAt(s-1))&&32===n.charCodeAt(o))return re=s,void(oe=o+1);if(s>0&&32===n.charCodeAt(s-1)&&o===i)return re=s-1,void(oe=o);if(0===s&&o===i)return re=0,void(oe=o)}re=-1}function v(e,t){return g(e,t),re!==-1}function m(e,t){e.className?(g(e,t),re===-1&&(e.className=e.className+" "+t)):e.className=t}function y(e,t){g(e,t),re!==-1&&(e.className=e.className.substring(0,re)+e.className.substring(oe))}function b(e,t,n){g(e,t),re===-1||void 0!==n&&n||y(e,t),re!==-1||void 0!==n&&!n||m(e,t)}function S(e,t,n,i){return new se(e,t,n,i)}function E(e){return function(t){return e(new l.StandardMouseEvent(t))}}function _(e){return function(t){return e(new u.StandardKeyboardEvent(t))}}function C(e,t){return S(e,"mouseout",function(n){for(var i=n.relatedTarget||n.toElement;i&&i!==e;)i=i.parentNode;i!==e&&t(n)})}function w(e,t,n,i,r){return new he(e,t,n,i,r)}function I(e){return document.defaultView.getComputedStyle(e,null)}function T(e,t,n){var i=I(e),r="0";return i&&(r=i.getPropertyValue?i.getPropertyValue(t):i.getAttribute(n)),de(e,r)}function x(e){for(var t=e.offsetParent,n=e.offsetTop,i=e.offsetLeft;null!==(e=e.parentNode)&&e!==document.body&&e!==document.documentElement;){n-=e.scrollTop;var r=I(e);r&&(i-="rtl"!==r.direction?e.scrollLeft:-e.scrollLeft),e===t&&(i+=pe.getBorderLeftWidth(e),n+=pe.getBorderTopWidth(e),n+=e.offsetTop,i+=e.offsetLeft,t=e.offsetParent)}return{left:i,top:n}}function A(e){var n=e.getBoundingClientRect();return{left:n.left+t.StandardWindow.scrollX,top:n.top+t.StandardWindow.scrollY,width:n.width,height:n.height}}function D(e){var t=pe.getBorderLeftWidth(e)+pe.getBorderRightWidth(e),n=pe.getPaddingLeft(e)+pe.getPaddingRight(e);return e.offsetWidth-t-n}function L(e){var t=pe.getMarginLeft(e)+pe.getMarginRight(e);return e.offsetWidth+t}function k(e){var t=pe.getMarginLeft(e)+pe.getMarginRight(e);return e.scrollWidth+t}function P(e){var t=pe.getBorderTopWidth(e)+pe.getBorderBottomWidth(e),n=pe.getPaddingTop(e)+pe.getPaddingBottom(e);return e.offsetHeight-t-n}function R(e){var t=pe.getMarginTop(e)+pe.getMarginBottom(e);return e.offsetHeight+t}function O(e,t){if(null===e)return 0;var n=x(e),i=x(t);return n.left-i.left}function M(e,t){var n=t.map(function(t){return Math.max(k(t),L(t))+O(t,e)||0}),i=Math.max.apply(Math,n);return i}function N(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function F(e,t,n){for(;e;){if(v(e,t))return e;if(n&&v(e,n))return null;e=e.parentNode}return null}function W(){var e=document.createElement("style");return e.type="text/css",e.media="screen",document.getElementsByTagName("head")[0].appendChild(e),e}function V(e){return e&&e.sheet&&e.sheet.rules?e.sheet.rules:e&&e.sheet&&e.sheet.cssRules?e.sheet.cssRules:[]}function B(e,t,n){void 0===n&&(n=fe),n&&t&&n.sheet.insertRule(e+"{"+t+"}",0)}function H(e,t){if(void 0===t&&(t=fe),!t)return null;for(var n=V(t),i=0;i<n.length;i++){var r=n[i],o=r.selectorText.replace(/::/gi,":");if(o===e)return r}return null}function z(e,t){if(void 0===t&&(t=fe),t){for(var n=V(t),i=[],r=0;r<n.length;r++){var o=n[r],s=o.selectorText.replace(/::/gi,":");s.indexOf(e)!==-1&&i.push(r)}for(var r=i.length-1;r>=0;r--)t.sheet.deleteRule(i[r])}}function U(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}function G(e){for(var t=[],n=0;e&&e.nodeType===e.ELEMENT_NODE;n++)t[n]=e.scrollTop,e=e.parentNode;return t}function K(e,t){for(var n=0;e&&e.nodeType===e.ELEMENT_NODE;n++)e.scrollTop!==t[n]&&(e.scrollTop=t[n]),e=e.parentNode}function j(e){return new ge(e)}function q(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){return e.appendChild(t)}),t[t.length-1]}function $(e,t){return e.insertBefore(t,e.firstChild),t}function Y(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=ve.exec(e);if(!r)throw new Error("Bad use of emmet");var o=document.createElement(r[1]||"div");return r[3]&&(o.id=r[3]),r[4]&&(o.className=r[4].replace(/\./g," ").trim()),Object.keys(t||{}).forEach(function(e){if(/^on\w+$/.test(e))o[e]=t[e];else if("selected"===e){var n=t[e];n&&o.setAttribute(e,"true")}else o.setAttribute(e,t[e])}),n.filter(function(e){return!!e}).forEach(function(e){e instanceof Node?o.appendChild(e):o.appendChild(document.createTextNode(e))}),o}function X(e,t){var n=[];return e.forEach(function(e,i){i>0&&(t instanceof Node?n.push(t.cloneNode()):n.push(document.createTextNode(t))),n.push(e)}),n}function Q(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var n=0,i=e;n<i.length;n++){var r=i[n];r.style.display=""}}function Z(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var n=0,i=e;n<i.length;n++){var r=i[n];r.style.display="none"}}function J(e,t){for(;e;){if(e instanceof HTMLElement&&e.hasAttribute(t))return e;e=e.parentNode}return null}function ee(e){if(e&&e.hasAttribute("tabIndex")){if(document.activeElement===e){var t=J(e.parentElement,"tabIndex");t&&t.focus()}e.removeAttribute("tabindex")}}function te(e){return Array.prototype.slice.call(document.getElementsByTagName(e),0)}function ne(e){return function(t){t.preventDefault(),t.stopPropagation(),e(t)}}function ie(){return new n.TPromise(function(e,t){var n=document.readyState;"complete"===n||document&&null!==document.body?window.setImmediate(e):window.addEventListener("DOMContentLoaded",e,!1)})}t.clearNode=h,t.safeStringifyDOMAware=p,t.isInDOM=f;var re,oe;t.hasClass=v,t.addClass=m,t.removeClass=y,t.toggleClass=b;var se=function(e){function t(t,n,i,r){e.call(this),this._node=t,this._type=n,this._useCapture=r||!1,this._wrapHandler=function(e){e=e||window.event,i(e)},"function"==typeof this._node.addEventListener?(this._usedAddEventListener=!0,this._node.addEventListener(this._type,this._wrapHandler,this._useCapture)):(this._usedAddEventListener=!1,this._node.attachEvent("on"+this._type,this._wrapHandler))}return d(t,e),t.prototype.dispose=function(){this._wrapHandler&&(this._usedAddEventListener?this._node.removeEventListener(this._type,this._wrapHandler,this._useCapture):this._node.detachEvent("on"+this._type,this._wrapHandler),this._node=null,this._wrapHandler=null)},t}(s.Disposable);t.addDisposableListener=S,t.addStandardDisposableListener=function(e,t,n,i){var r=n;return"click"===t?r=E(n):"keydown"!==t&&"keypress"!==t&&"keyup"!==t||(r=_(n)),e.addEventListener(t,r,i||!1),{dispose:function(){r&&(e.removeEventListener(t,r,i||!1),r=null,e=null,n=null)}}},t.addDisposableNonBubblingMouseOutListener=C;var ae=function(){var e=function(e){return setTimeout(function(){return e((new Date).getTime())},0)},t=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame,n=function(e){},i=self.cancelAnimationFrame||self.cancelRequestAnimationFrame||self.msCancelAnimationFrame||self.msCancelRequestAnimationFrame||self.webkitCancelAnimationFrame||self.webkitCancelRequestAnimationFrame||self.mozCancelAnimationFrame||self.mozCancelRequestAnimationFrame||self.oCancelAnimationFrame||self.oCancelRequestAnimationFrame,r=!!t,o=t||e,s=i||n;return{isNative:r,request:function(e){return o(e)},cancel:function(e){return s(e)}}}(),ce=function(){function e(e,t){this._runner=e,this.priority=t,this._canceled=!1}return e.prototype.dispose=function(){this._canceled=!0},e.prototype.execute=function(){if(!this._canceled)try{this._runner()}catch(e){r.onUnexpectedError(e)}},e.sort=function(e,t){return t.priority-e.priority},e}();!function(){var e=[],n=null,i=!1,r=!1,o=function(){for(i=!1,n=e,e=[],r=!0;n.length>0;){n.sort(ce.sort);var t=n.shift();t.execute()}r=!1};t.scheduleAtNextAnimationFrame=function(t,n){void 0===n&&(n=0);var r=new ce(t,n);if(e.push(r),!i)if(i=!0,c.isChrome){var s;ae.request(function(){clearTimeout(s),o()}),s=setTimeout(o,1e3)}else ae.request(o);return r},t.runAtThisOrScheduleAtNextAnimationFrame=function(e,i){if(r){var o=new ce(e,i);return n.push(o),o}return t.scheduleAtNextAnimationFrame(e,i)}}();var ue=16,le=function(e,t){return t},he=function(e){function t(t,n,r,o,s){void 0===o&&(o=le),void 0===s&&(s=ue),e.call(this);var a=null,c=0,u=this._register(new i.TimeoutTimer),l=function(){c=(new Date).getTime(),r(a),a=null};this._register(S(t,n,function(e){a=o(a,e);var t=(new Date).getTime()-c;t>=s?(u.cancel(),l()):u.setIfNotSet(l,s-t)}))}return d(t,e),t}(s.Disposable);t.addDisposableThrottledListener=w,t.getComputedStyle=I;var de=function(){return function(e,t){return parseFloat(t)||0}}(),pe={getBorderLeftWidth:function(e){return T(e,"border-left-width","borderLeftWidth")},getBorderTopWidth:function(e){return T(e,"border-top-width","borderTopWidth")},getBorderRightWidth:function(e){return T(e,"border-right-width","borderRightWidth")},getBorderBottomWidth:function(e){return T(e,"border-bottom-width","borderBottomWidth")},getPaddingLeft:function(e){return T(e,"padding-left","paddingLeft")},getPaddingTop:function(e){return T(e,"padding-top","paddingTop")},getPaddingRight:function(e){return T(e,"padding-right","paddingRight")},getPaddingBottom:function(e){return T(e,"padding-bottom","paddingBottom")},getMarginLeft:function(e){return T(e,"margin-left","marginLeft")},getMarginTop:function(e){return T(e,"margin-top","marginTop")},getMarginRight:function(e){return T(e,"margin-right","marginRight")},getMarginBottom:function(e){return T(e,"margin-bottom","marginBottom")},__commaSentinel:!1};t.getTopLeftOffset=x,t.getDomNodePagePosition=A,t.StandardWindow=new(function(){function e(){}return Object.defineProperty(e.prototype,"scrollX",{get:function(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollY",{get:function(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop},enumerable:!0,configurable:!0}),e}()),t.getContentWidth=D,t.getTotalWidth=L,t.getTotalScrollWidth=k,t.getContentHeight=P,t.getTotalHeight=R,t.getLargestChildWidth=M,t.isAncestor=N,t.findParentWithClass=F,t.createStyleSheet=W;var fe=W();t.createCSSRule=B,t.getCSSRule=H,t.removeCSSRulesContainingSelector=z,t.isHTMLElement=U,t.EventType={CLICK:"click",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:c.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:c.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:c.isWebKit?"webkitAnimationIteration":"animationiteration"},t.EventHelper={stop:function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}},t.saveParentsScrollTop=G,t.restoreParentsScrollTop=K;var ge=function(e){function n(n){var i=this;e.call(this);var r=!1,s=!1;this._eventEmitter=this._register(new o.EventEmitter);var a=function(e){s=!1,r||(r=!0,i._eventEmitter.emit("focus",{}))},c=function(e){r&&(s=!0,window.setTimeout(function(){s&&(s=!1,r=!1,i._eventEmitter.emit("blur",{}))},0))};this._register(S(n,t.EventType.FOCUS,a,!0)),this._register(S(n,t.EventType.BLUR,c,!0))}return d(n,e),n.prototype.addFocusListener=function(e){return this._eventEmitter.addListener2("focus",e)},n.prototype.addBlurListener=function(e){return this._eventEmitter.addListener2("blur",e)},n}(s.Disposable);t.trackFocus=j,t.append=q,t.prepend=$;var ve=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/;t.$=Y,t.join=X,t.show=Q,t.hide=Z,t.removeTabIndexAndUpdateFocus=ee,t.getElementsByTagName=te,t.finalHandler=ne,t.domContentLoaded=ie}),define(l[248],h([1,0,5,8,406,79]),function(e,t,n,i,r,o){"use strict";function s(e,t){var n=new o.StandardMouseEvent(t);return n.preventDefault(),{leftButton:n.leftButton,posx:n.posx,posy:n.posy}}t.standardMouseMoveMerger=s;var a=function(e){function t(){e.call(this),this.hooks=[],this.mouseMoveEventMerger=null,this.mouseMoveCallback=null,this.onStopCallback=null}return d(t,e),t.prototype.dispose=function(){this.stopMonitoring(!1),e.prototype.dispose.call(this)},t.prototype.stopMonitoring=function(e){if(this.isMonitoring()){this.hooks=n.dispose(this.hooks),this.mouseMoveEventMerger=null,this.mouseMoveCallback=null;var t=this.onStopCallback;this.onStopCallback=null,e&&t()}},t.prototype.isMonitoring=function(){return this.hooks.length>0},t.prototype.startMonitoring=function(e,t,n){var s=this;if(!this.isMonitoring()){this.mouseMoveEventMerger=e,this.mouseMoveCallback=t,this.onStopCallback=n;for(var a=r.IframeUtils.getSameOriginWindowChain(),c=0;c<a.length;c++)this.hooks.push(i.addDisposableThrottledListener(a[c].window.document,"mousemove",function(e){return s.mouseMoveCallback(e)},function(e,t){return s.mouseMoveEventMerger(e,t)})),this.hooks.push(i.addDisposableListener(a[c].window.document,"mouseup",function(e){return s.stopMonitoring(!0)}));if(r.IframeUtils.hasDifferentOriginAncestor()){var u=a[a.length-1];this.hooks.push(i.addDisposableListener(u.window.document,"mouseout",function(e){var t=new o.StandardMouseEvent(e);"html"===t.target.tagName.toLowerCase()&&s.stopMonitoring(!0)})),this.hooks.push(i.addDisposableListener(u.window.document,"mouseover",function(e){var t=new o.StandardMouseEvent(e);"html"===t.target.tagName.toLowerCase()&&s.stopMonitoring(!0)})),this.hooks.push(i.addDisposableListener(u.window.document.body,"mouseleave",function(e){s.stopMonitoring(!0)}))}}},t}(n.Disposable);t.GlobalMouseMoveMonitor=a}),define(l[163],h([1,0,8,189,12,2,262,249]),function(e,t,n,i,r,o,s,a){"use strict";function c(e,t){void 0===t&&(t={});var n="string"==typeof e?{markdown:e}:{code:e};return u(n,t)}function u(e,t){return void 0===t&&(t={}),"string"==typeof e?l({isText:!0,text:e},t):Array.isArray(e)?l({children:e},t):e?l(e,t):void 0}function l(e,t){void 0===t&&(t={});var c=t.codeBlockRenderer,l=t.actionCallback;if(e.isText)return document.createTextNode(e.text);var f=h(e.tagName)||"div",g=document.createElement(f);if(e.className&&(g.className=e.className),e.text&&(g.textContent=e.text),e.style&&g.setAttribute("style",e.style),e.customStyle&&Object.keys(e.customStyle).forEach(function(t){g.style[t]=e.customStyle[t]}),e.children&&e.children.forEach(function(e){g.appendChild(u(e,t))}),e.formattedText&&d(g,p(e.formattedText),l),e.code&&c){var v=e.code,m=v.language,y=v.value;e.markdown="```"+m+"\n"+y+"\n```"}if(e.markdown){var b,S=new o.TPromise(function(e){return b=e}),E=new a.marked.Renderer;E.image=function(e,t,n){var i=[];if(e){var r=e.split("|").map(function(e){return e.trim()});e=r[0];var o=r[1];if(o){var s=/height=(\d+)/.exec(o),a=/width=(\d+)/.exec(o),c=s&&s[1],u=a&&a[1],l=isFinite(parseInt(u)),h=isFinite(parseInt(c));l&&i.push('width="'+u+'"'),h&&i.push('height="'+c+'"')}}var d=[];return e&&d.push('src="'+e+'"'),n&&d.push('alt="'+n+'"'),t&&d.push('title="'+t+'"'),i.length&&(d=d.concat(i)),"<img "+d.join(" ")+">"},E.link=function(e,t,n){return e===n&&(n=s.removeMarkdownEscapes(n)),t=s.removeMarkdownEscapes(t),e=s.removeMarkdownEscapes(e),'<a href="#" data-href="'+e+'" title="'+(t||n)+'">'+n+"</a>"},E.paragraph=function(e){return"<p>"+e+"</p>"},t.codeBlockRenderer&&(E.code=function(e,n){var s=t.codeBlockRenderer(n,e);if("string"==typeof s)return s;if(o.TPromise.is(s)){var a=i.defaultGenerator.nextId();return o.TPromise.join([s,S]).done(function(e){var t=e[0],n=g.querySelector('span[data-code="'+a+'"]');n&&(n.innerHTML=t)},function(e){}),'<span data-code="'+a+'">'+r.escape(e)+"</span>"}return e}),t.actionCallback&&n.addStandardDisposableListener(g,"click",function(e){if("A"===e.target.tagName){var n=e.target.dataset.href;n&&t.actionCallback(n,e)}}),g.innerHTML=a.marked(e.markdown,{sanitize:!0,renderer:E}),b()}return g}function h(e){return e&&m.hasOwnProperty(e)?e:null}function d(e,t,i){var r;if(2===t.type)r=document.createTextNode(t.content);else if(3===t.type)r=document.createElement("b");else if(4===t.type)r=document.createElement("i");else if(5===t.type){var o=document.createElement("a");o.href="#",n.addStandardDisposableListener(o,"click",function(e){i(String(t.index),e)}),r=o}else 7===t.type?r=document.createElement("br"):1===t.type&&(r=e);e!==r&&e.appendChild(r),Array.isArray(t.children)&&t.children.forEach(function(e){d(r,e,i)})}function p(e){for(var t={type:1,children:[]},n=0,i=t,r=[],o=new y(e);!o.eos();){var s=o.next(),a="\\"===s&&0!==g(o.peek());if(a&&(s=o.next()),!a&&f(s)&&s===o.peek()){o.advance(),2===i.type&&(i=r.pop());var c=g(s);if(i.type===c||5===i.type&&6===c)i=r.pop();else{var u={type:c,children:[]};5===c&&(u.index=n,n++),i.children.push(u),r.push(i),i=u}}else if("\n"===s)2===i.type&&(i=r.pop()),i.children.push({type:7});else if(2!==i.type){var l={type:2,content:s};i.children.push(l),r.push(i),i=l}else i.content+=s}return 2===i.type&&(i=r.pop()),r.length,t}function f(e){return 0!==g(e)}function g(e){switch(e){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;default:return 0}}t.renderMarkedString=c,t.renderHtml=u;var v,m={a:!0,b:!0,blockquote:!0,code:!0,del:!0,dd:!0,div:!0,dl:!0,dt:!0,em:!0,h1h2h3i:!0,img:!0,kbd:!0,li:!0,ol:!0,p:!0,pre:!0,s:!0,span:!0,sup:!0,sub:!0,strong:!0,strike:!0,ul:!0,br:!0,hr:!0},y=function(){function e(e){this.source=e,this.index=0}return e.prototype.eos=function(){return this.index>=this.source.length},e.prototype.next=function(){var e=this.peek();return this.advance(),e},e.prototype.peek=function(){return this.source[this.index]},e.prototype.advance=function(){this.index++},e}();!function(e){e[e.Invalid=0]="Invalid",e[e.Root=1]="Root",e[e.Text=2]="Text",e[e.Bold=3]="Bold",e[e.Italics=4]="Italics",e[e.Action=5]="Action",e[e.ActionClose=6]="ActionClose",e[e.NewLine=7]="NewLine"}(v||(v={}))}),define(l[67],h([1,0,8]),function(e,t,n){"use strict";function i(e){return u?new a(e):new c(e)}function r(e,t){return e.getAttribute("data-transform")!==t&&(e.setAttribute("data-transform",t),e.style.webkitTransform=t,!0)}function o(e,t){return e.getAttribute("data-transform")!==t&&(e.setAttribute("data-transform",t),e.style.transform=t,!0)}var s=function(){function e(e){this._domNode=e,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._lineHeight=-1,this._className="",this._display="",this._position="",this._visibility="",this._transform="",this._lineNumber=""}return Object.defineProperty(e.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),e.prototype.setMaxWidth=function(e){this._maxWidth!==e&&(this._maxWidth=e,this._domNode.style.maxWidth=this._maxWidth+"px")},e.prototype.setWidth=function(e){this._width!==e&&(this._width=e,this._domNode.style.width=this._width+"px")},e.prototype.setHeight=function(e){this._height!==e&&(this._height=e,this._domNode.style.height=this._height+"px")},e.prototype.setTop=function(e){this._top!==e&&(this._top=e,this._domNode.style.top=this._top+"px")},e.prototype.setLeft=function(e){this._left!==e&&(this._left=e,this._domNode.style.left=this._left+"px")},e.prototype.setBottom=function(e){this._bottom!==e&&(this._bottom=e,this._domNode.style.bottom=this._bottom+"px")},e.prototype.setRight=function(e){this._right!==e&&(this._right=e,this._domNode.style.right=this._right+"px")},e.prototype.setFontFamily=function(e){this._fontFamily!==e&&(this._fontFamily=e,this._domNode.style.fontFamily=this._fontFamily)},e.prototype.setFontWeight=function(e){this._fontWeight!==e&&(this._fontWeight=e,this._domNode.style.fontWeight=this._fontWeight)},e.prototype.setFontSize=function(e){this._fontSize!==e&&(this._fontSize=e,this._domNode.style.fontSize=this._fontSize+"px")},e.prototype.setLineHeight=function(e){this._lineHeight!==e&&(this._lineHeight=e,this._domNode.style.lineHeight=this._lineHeight+"px")},e.prototype.setClassName=function(e){this._className!==e&&(this._className=e,this._domNode.className=this._className)},e.prototype.toggleClassName=function(e,t){n.toggleClass(this._domNode,e,t),this._className=this._domNode.className},e.prototype.setDisplay=function(e){this._display!==e&&(this._display=e,this._domNode.style.display=this._display)},e.prototype.setPosition=function(e){this._position!==e&&(this._position=e,this._domNode.style.position=this._position)},e.prototype.setVisibility=function(e){this._visibility!==e&&(this._visibility=e,this._domNode.style.visibility=this._visibility)},e.prototype.setTransform=function(e){this._transform!==e&&(this._transform=e,this._setTransform(this._domNode,this._transform))},e.prototype.setLineNumber=function(e){this._lineNumber!==e&&(this._lineNumber=e,this._domNode.setAttribute("lineNumber",this._lineNumber))},e.prototype.setAttribute=function(e,t){this._domNode.setAttribute(e,t)},e}();t.FastDomNode=s;var a=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype._setTransform=function(e,t){e.style.webkitTransform=t},t}(s),c=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype._setTransform=function(e,t){e.style.transform=t},t}(s),u=!1;!function(){var e=document.createElement("div");"undefined"!=typeof e.style.webkitTransform&&(u=!0)}(),t.createFastDomNode=i,t.StyleMutator={setMaxWidth:function(e,t){var n=t+"px";e.style.maxWidth!==n&&(e.style.maxWidth=n)},setWidth:function(e,t){var n=t+"px";e.style.width!==n&&(e.style.width=n)},setHeight:function(e,t){var n=t+"px";e.style.height!==n&&(e.style.height=n)},setTop:function(e,t){var n=t+"px";return e.style.top!==n&&(e.style.top=n,!0)},setLeft:function(e,t){var n=t+"px";return e.style.left!==n&&(e.style.left=n,!0)},setBottom:function(e,t){var n=t+"px";e.style.bottom!==n&&(e.style.bottom=n)},setRight:function(e,t){var n=t+"px";e.style.right!==n&&(e.style.right=n)},setFontSize:function(e,t){var n=t+"px";e.style.fontSize!==n&&(e.style.fontSize=n)},setLineHeight:function(e,t){var n=t+"px";e.style.lineHeight!==n&&(e.style.lineHeight=n)},setTransform:null,setDisplay:function(e,t){e.style.display!==t&&(e.style.display=t)},setVisibility:function(e,t){e.style.visibility!==t&&(e.style.visibility=t)}},function(){var e=document.createElement("div");"undefined"!=typeof e.style.webkitTransform?t.StyleMutator.setTransform=r:t.StyleMutator.setTransform=o}()}),define(l[143],h([1,0,35,5,8]),function(e,t,n,i,r){"use strict";var o;!function(e){e.Tap="-monaco-gesturetap",e.Change="-monaco-gesturechange",e.Start="-monaco-gesturestart",e.End="-monaco-gesturesend",e.Contextmenu="-monaco-gesturecontextmenu"}(o=t.EventType||(t.EventType={}));var s=function(){function e(e){this.callOnTarget=[],this.activeTouches={},this.target=e,this.handle=null}return e.prototype.dispose=function(){this.target=null,this.handle&&(this.handle.dispose(),this.handle=null)},Object.defineProperty(e.prototype,"target",{set:function(e){var t=this;this.callOnTarget=i.dispose(this.callOnTarget),this.activeTouches={},this.targetElement=e,this.targetElement&&(this.callOnTarget.push(r.addDisposableListener(this.targetElement,"touchstart",function(e){return t.onTouchStart(e)})),this.callOnTarget.push(r.addDisposableListener(this.targetElement,"touchend",function(e){return t.onTouchEnd(e)})),this.callOnTarget.push(r.addDisposableListener(this.targetElement,"touchmove",function(e){return t.onTouchMove(e)})))},enumerable:!0,configurable:!0}),e.newGestureEvent=function(e){var t=document.createEvent("CustomEvent");return t.initEvent(e,!1,!0),t},e.prototype.onTouchStart=function(t){var n=Date.now();t.preventDefault(),t.stopPropagation(),this.handle&&(this.handle.dispose(),this.handle=null);for(var i=0,r=t.targetTouches.length;i<r;i++){var s=t.targetTouches.item(i);this.activeTouches[s.identifier]={id:s.identifier,initialTarget:s.target,initialTimeStamp:n,initialPageX:s.pageX,initialPageY:s.pageY,rollingTimestamps:[n],rollingPageX:[s.pageX],rollingPageY:[s.pageY]};var a=e.newGestureEvent(o.Start);a.pageX=s.pageX,a.pageY=s.pageY,this.targetElement.dispatchEvent(a)}},e.prototype.onTouchEnd=function(t){var i=Date.now();t.preventDefault(),t.stopPropagation();for(var r=Object.keys(this.activeTouches).length,s=0,a=t.changedTouches.length;s<a;s++){var c=t.changedTouches.item(s);if(this.activeTouches.hasOwnProperty(String(c.identifier))){var u=this.activeTouches[c.identifier],l=Date.now()-u.initialTimeStamp;if(l<e.HOLD_DELAY&&Math.abs(u.initialPageX-n.tail(u.rollingPageX))<30&&Math.abs(u.initialPageY-n.tail(u.rollingPageY))<30){var h=e.newGestureEvent(o.Tap);h.initialTarget=u.initialTarget,h.pageX=n.tail(u.rollingPageX),h.pageY=n.tail(u.rollingPageY),this.targetElement.dispatchEvent(h)}else if(l>=e.HOLD_DELAY&&Math.abs(u.initialPageX-n.tail(u.rollingPageX))<30&&Math.abs(u.initialPageY-n.tail(u.rollingPageY))<30){var h=e.newGestureEvent(o.Contextmenu);h.initialTarget=u.initialTarget,h.pageX=n.tail(u.rollingPageX),h.pageY=n.tail(u.rollingPageY),this.targetElement.dispatchEvent(h)}else if(1===r){var d=n.tail(u.rollingPageX),p=n.tail(u.rollingPageY),f=n.tail(u.rollingTimestamps)-u.rollingTimestamps[0],g=d-u.rollingPageX[0],v=p-u.rollingPageY[0];this.inertia(i,Math.abs(g)/f,g>0?1:-1,d,Math.abs(v)/f,v>0?1:-1,p)}delete this.activeTouches[c.identifier]}else console.warn("move of an UNKNOWN touch",c)}},e.prototype.inertia=function(t,n,i,s,a,c,u){var l=this;this.handle=r.scheduleAtNextAnimationFrame(function(){var r=Date.now(),h=r-t,d=0,p=0,f=!0;n+=e.SCROLL_FRICTION*h,a+=e.SCROLL_FRICTION*h,n>0&&(f=!1,d=i*n*h),a>0&&(f=!1,p=c*a*h);var g=e.newGestureEvent(o.Change);g.translationX=d,g.translationY=p,l.targetElement.dispatchEvent(g),f||l.inertia(r,n,i,s+d,a,c,u+p)})},e.prototype.onTouchMove=function(t){var i=Date.now();t.preventDefault(),t.stopPropagation();for(var r=0,s=t.changedTouches.length;r<s;r++){var a=t.changedTouches.item(r);if(this.activeTouches.hasOwnProperty(String(a.identifier))){var c=this.activeTouches[a.identifier],u=e.newGestureEvent(o.Change);u.translationX=a.pageX-n.tail(c.rollingPageX),u.translationY=a.pageY-n.tail(c.rollingPageY),u.pageX=a.pageX,u.pageY=a.pageY,this.targetElement.dispatchEvent(u),c.rollingPageX.length>3&&(c.rollingPageX.shift(),c.rollingPageY.shift(),c.rollingTimestamps.shift()),c.rollingPageX.push(a.pageX),c.rollingPageY.push(a.pageY),c.rollingTimestamps.push(i)}else console.warn("end of an UNKNOWN touch",a)}},e.HOLD_DELAY=700,e.SCROLL_FRICTION=-.005,e}();t.Gesture=s}),define(l[883],h([1,0,8]),function(e,t,n){"use strict";function i(e){var t=e.getAttribute("last-scroll-time");return t?parseInt(t,10):0}function r(e){try{e.parentElement.removeChild(e)}catch(e){}}var o=function(){function e(e){this.renderers=e,this.cache=Object.create(null),this.scrollingRow=null}return e.prototype.alloc=function(e){var t=this.getTemplateCache(e).pop();if(!t){var i=n.$(".monaco-list-row"),r=this.renderers[e],o=r.renderTemplate(i);t={domNode:i,templateId:e,templateData:o}}return t},e.prototype.release=function(e){if(e){var t=i(e.domNode);if(!t)return void this.releaseRow(e);if(this.scrollingRow){var r=i(this.scrollingRow.domNode);if(r>t)return void this.releaseRow(e);this.scrollingRow.domNode.parentElement&&this.releaseRow(this.scrollingRow)}this.scrollingRow=e,n.addClass(this.scrollingRow.domNode,"scrolling")}},e.prototype.releaseRow=function(e){var t=e.domNode,i=e.templateId;n.removeClass(t,"scrolling"),r(t);var o=this.getTemplateCache(i);o.push(e)},e.prototype.getTemplateCache=function(e){return this.cache[e]||(this.cache[e]=[])},e.prototype.garbageCollect=function(){var e=this;if(this.cache&&Object.keys(this.cache).forEach(function(t){e.cache[t].forEach(function(n){var i=e.renderers[t];i.disposeTemplate(n.templateData),n.domNode=null,n.templateData=null}),delete e.cache[t]}),this.scrollingRow){var t=this.renderers[this.scrollingRow.templateId];t.disposeTemplate(this.scrollingRow.templateData),this.scrollingRow=null}},e.prototype.dispose=function(){this.garbageCollect(),this.cache=null,this.renderers=null},e}();t.RowCache=o}),define(l[885],h([1,0,5,17,112]),function(e,t,n,i,r){"use strict";var o=function(e){function t(t,n,r){e.call(this),this._visibility=t,this._visibleClassName=n,this._invisibleClassName=r,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new i.TimeoutTimer)}return d(t,e),t.prototype.applyVisibilitySetting=function(e){return this._visibility!==r.ScrollbarVisibility.Hidden&&(this._visibility===r.ScrollbarVisibility.Visible||e)},t.prototype.setShouldBeVisible=function(e){var t=this.applyVisibilitySetting(e);this._shouldBeVisible!==t&&(this._shouldBeVisible=t,this.ensureVisibility())},t.prototype.setIsNeeded=function(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())},t.prototype.setDomNode=function(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)},t.prototype.ensureVisibility=function(){return this._isNeeded?void(this._shouldBeVisible?this._reveal():this._hide(!0)):void this._hide(!1)},t.prototype._reveal=function(){var e=this;this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(function(){e._domNode.setClassName(e._visibleClassName);
},0))},t.prototype._hide=function(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode.setClassName(this._invisibleClassName+(e?" fade":"")))},t}(n.Disposable);t.ScrollbarVisibilityController=o}),define(l[94],h([1,0,5,79,78,8]),function(e,t,n,i,r,o){"use strict";var s=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.onclick=function(e,t){this._register(o.addDisposableListener(e,o.EventType.CLICK,function(e){return t(new i.StandardMouseEvent(e))}))},t.prototype.onmousedown=function(e,t){this._register(o.addDisposableListener(e,o.EventType.MOUSE_DOWN,function(e){return t(new i.StandardMouseEvent(e))}))},t.prototype.onmouseover=function(e,t){this._register(o.addDisposableListener(e,o.EventType.MOUSE_OVER,function(e){return t(new i.StandardMouseEvent(e))}))},t.prototype.onnonbubblingmouseout=function(e,t){this._register(o.addDisposableNonBubblingMouseOutListener(e,function(e){return t(new i.StandardMouseEvent(e))}))},t.prototype.onkeydown=function(e,t){this._register(o.addDisposableListener(e,o.EventType.KEY_DOWN,function(e){return t(new r.StandardKeyboardEvent(e))}))},t.prototype.onkeyup=function(e,t){this._register(o.addDisposableListener(e,o.EventType.KEY_UP,function(e){return t(new r.StandardKeyboardEvent(e))}))},t.prototype.oninput=function(e,t){this._register(o.addDisposableListener(e,o.EventType.INPUT,t))},t.prototype.onblur=function(e,t){this._register(o.addDisposableListener(e,o.EventType.BLUR,t))},t.prototype.onfocus=function(e,t){this._register(o.addDisposableListener(e,o.EventType.FOCUS,t))},t.prototype.onchange=function(e,t){this._register(o.addDisposableListener(e,o.EventType.CHANGE,t))},t}(n.Disposable);t.Widget=s}),define(l[259],h([1,0,248,94,17]),function(e,t,n,i,r){"use strict";t.ARROW_IMG_SIZE=11;var o=function(e){function i(i){var o=this;e.call(this),this._onActivate=i.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=i.bgWidth+"px",this.bgDomNode.style.height=i.bgHeight+"px","undefined"!=typeof i.top&&(this.bgDomNode.style.top="0px"),"undefined"!=typeof i.left&&(this.bgDomNode.style.left="0px"),"undefined"!=typeof i.bottom&&(this.bgDomNode.style.bottom="0px"),"undefined"!=typeof i.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=i.className,this.domNode.style.position="absolute",this.domNode.style.width=t.ARROW_IMG_SIZE+"px",this.domNode.style.height=t.ARROW_IMG_SIZE+"px","undefined"!=typeof i.top&&(this.domNode.style.top=i.top+"px"),"undefined"!=typeof i.left&&(this.domNode.style.left=i.left+"px"),"undefined"!=typeof i.bottom&&(this.domNode.style.bottom=i.bottom+"px"),"undefined"!=typeof i.right&&(this.domNode.style.right=i.right+"px"),this._mouseMoveMonitor=this._register(new n.GlobalMouseMoveMonitor),this.onmousedown(this.bgDomNode,function(e){return o._arrowMouseDown(e)}),this.onmousedown(this.domNode,function(e){return o._arrowMouseDown(e)}),this._mousedownRepeatTimer=this._register(new r.IntervalTimer),this._mousedownScheduleRepeatTimer=this._register(new r.TimeoutTimer)}return d(i,e),i.prototype._arrowMouseDown=function(e){var t=this,i=function(){t._mousedownRepeatTimer.cancelAndSet(function(){return t._onActivate()},1e3/24)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(i,200),this._mouseMoveMonitor.startMonitoring(n.standardMouseMoveMerger,function(e){},function(){t._mousedownRepeatTimer.cancel(),t._mousedownScheduleRepeatTimer.cancel()}),e.preventDefault()},i}(i.Widget);t.ScrollbarArrow=o}),define(l[288],h([1,0,13,8,79,248,94,67,259,885]),function(e,t,n,i,r,o,s,a,c,u){"use strict";var l=140,h=function(e){function t(t){var n=this;e.call(this),this._canUseTranslate3d=t.canUseTranslate3d,this._lazyRender=t.lazyRender,this._host=t.host,this._scrollable=t.scrollable,this._scrollbarState=t.scrollbarState,this._visibilityController=this._register(new u.ScrollbarVisibilityController(t.visibility,"visible scrollbar "+t.extraScrollbarClassName,"invisible scrollbar "+t.extraScrollbarClassName)),this._mouseMoveMonitor=this._register(new o.GlobalMouseMoveMonitor),this._shouldRender=!0,this.domNode=a.createFastDomNode(document.createElement("div")),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,function(e){return n._domNodeMouseDown(e)})}return d(t,e),t.prototype._createArrow=function(e){var t=this._register(new c.ScrollbarArrow(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)},t.prototype._createSlider=function(e,t,n,i){var r=this;this.slider=a.createFastDomNode(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),this.slider.setWidth(n),this.slider.setHeight(i),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,function(e){return r._sliderMouseDown(e)})},t.prototype.setCanUseTranslate3d=function(e){return this._canUseTranslate3d=e,!0},t.prototype._onElementSize=function(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},t.prototype._onElementScrollSize=function(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},t.prototype._onElementScrollPosition=function(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},t.prototype.beginReveal=function(){this._visibilityController.setShouldBeVisible(!0)},t.prototype.beginHide=function(){this._visibilityController.setShouldBeVisible(!1)},t.prototype.render=function(){this._shouldRender&&(this._shouldRender=!1,this._canUseTranslate3d?this.domNode.setTransform("translate3d(0px, 0px, 0px)"):this.domNode.setTransform(""),this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))},t.prototype._domNodeMouseDown=function(e){e.target===this.domNode.domNode&&this._onMouseDown(e)},t.prototype.delegateMouseDown=function(e){var t=new r.StandardMouseEvent(e),n=this.domNode.domNode.getClientRects()[0].top,i=n+this._scrollbarState.getSliderPosition(),o=n+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),s=this._sliderMousePosition(t);i<=s&&s<=o?this._sliderMouseDown(t):this._onMouseDown(t)},t.prototype._onMouseDown=function(e){var t=i.getDomNodePagePosition(this.domNode.domNode),n=this._mouseDownRelativePosition(e,t)-this._scrollbarState.getArrowSize()-this._scrollbarState.getSliderSize()/2;this.setDesiredScrollPosition(this._scrollbarState.convertSliderPositionToScrollPosition(n)),this._sliderMouseDown(e)},t.prototype._sliderMouseDown=function(e){var t=this;if(e.leftButton){var i=this._sliderOrthogonalMousePosition(e),r=this._getScrollPosition(),s=this._sliderMousePosition(e)-this._scrollbarState.getSliderPosition();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(o.standardMouseMoveMerger,function(e){var o=t._sliderOrthogonalMousePosition(e),a=Math.abs(o-i);if(n.isWindows&&a>l)t.setDesiredScrollPosition(r);else{var c=t._sliderMousePosition(e)-s;t.setDesiredScrollPosition(t._scrollbarState.convertSliderPositionToScrollPosition(c))}},function(){t.slider.toggleClassName("active",!1),t._host.onDragEnd()}),e.preventDefault(),this._host.onDragStart()}},t.prototype.validateScrollPosition=function(e){return this._scrollbarState.validateScrollPosition(e)},t.prototype.setDesiredScrollPosition=function(e){e=this.validateScrollPosition(e);var t=this._getScrollPosition();this._setScrollPosition(e);var n=this._getScrollPosition();return t!==n&&(this._onElementScrollPosition(this._getScrollPosition()),!0)},t}(s.Widget);t.AbstractScrollbar=h}),define(l[971],h([1,0,288,79,112,388,259]),function(e,t,n,i,r,o,s){"use strict";var a=function(e){function t(t,n,a){var c=this;if(e.call(this,{canUseTranslate3d:n.canUseTranslate3d,lazyRender:n.lazyRender,host:a,scrollbarState:new o.ScrollbarState(n.horizontalHasArrows?n.arrowSize:0,n.horizontal===r.ScrollbarVisibility.Hidden?0:n.horizontalScrollbarSize,n.vertical===r.ScrollbarVisibility.Hidden?0:n.verticalScrollbarSize),visibility:n.horizontal,extraScrollbarClassName:"horizontal",scrollable:t}),n.horizontalHasArrows){var u=(n.arrowSize-s.ARROW_IMG_SIZE)/2,l=(n.horizontalScrollbarSize-s.ARROW_IMG_SIZE)/2;this._createArrow({className:"left-arrow",top:l,left:u,bottom:void 0,right:void 0,bgWidth:n.arrowSize,bgHeight:n.horizontalScrollbarSize,onActivate:function(){return c._host.onMouseWheel(new i.StandardMouseWheelEvent(null,1,0))}}),this._createArrow({className:"right-arrow",top:l,left:void 0,bottom:void 0,right:u,bgWidth:n.arrowSize,bgHeight:n.horizontalScrollbarSize,onActivate:function(){return c._host.onMouseWheel(new i.StandardMouseWheelEvent(null,(-1),0))}})}this._createSlider(Math.floor((n.horizontalScrollbarSize-n.horizontalSliderSize)/2),0,null,n.horizontalSliderSize)}return d(t,e),t.prototype._updateSlider=function(e,t){this.slider.setWidth(e),this._canUseTranslate3d?(this.slider.setTransform("translate3d("+t+"px, 0px, 0px)"),this.slider.setLeft(0)):(this.slider.setTransform(""),this.slider.setLeft(t))},t.prototype._renderDomNode=function(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)},t.prototype.onDidScroll=function(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender},t.prototype._mouseDownRelativePosition=function(e,t){return e.posx-t.left},t.prototype._sliderMousePosition=function(e){return e.posx},t.prototype._sliderOrthogonalMousePosition=function(e){return e.posy},t.prototype._getScrollPosition=function(){return this._scrollable.getScrollLeft()},t.prototype._setScrollPosition=function(e){this._scrollable.updateState({scrollLeft:e})},t}(n.AbstractScrollbar);t.HorizontalScrollbar=a}),define(l[996],h([1,0,288,79,112,388,259]),function(e,t,n,i,r,o,s){"use strict";var a=function(e){function t(t,n,a){var c=this;if(e.call(this,{canUseTranslate3d:n.canUseTranslate3d,lazyRender:n.lazyRender,host:a,scrollbarState:new o.ScrollbarState(n.verticalHasArrows?n.arrowSize:0,n.vertical===r.ScrollbarVisibility.Hidden?0:n.verticalScrollbarSize,0),visibility:n.vertical,extraScrollbarClassName:"vertical",scrollable:t}),n.verticalHasArrows){var u=(n.arrowSize-s.ARROW_IMG_SIZE)/2,l=(n.verticalScrollbarSize-s.ARROW_IMG_SIZE)/2;this._createArrow({className:"up-arrow",top:u,left:l,bottom:void 0,right:void 0,bgWidth:n.verticalScrollbarSize,bgHeight:n.arrowSize,onActivate:function(){return c._host.onMouseWheel(new i.StandardMouseWheelEvent(null,0,1))}}),this._createArrow({className:"down-arrow",top:void 0,left:l,bottom:u,right:void 0,bgWidth:n.verticalScrollbarSize,bgHeight:n.arrowSize,onActivate:function(){return c._host.onMouseWheel(new i.StandardMouseWheelEvent(null,0,(-1)))}})}this._createSlider(0,Math.floor((n.verticalScrollbarSize-n.verticalSliderSize)/2),n.verticalSliderSize,null)}return d(t,e),t.prototype._updateSlider=function(e,t){this.slider.setHeight(e),this._canUseTranslate3d?(this.slider.setTransform("translate3d(0px, "+t+"px, 0px)"),this.slider.setTop(0)):(this.slider.setTransform(""),this.slider.setTop(t))},t.prototype._renderDomNode=function(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)},t.prototype.onDidScroll=function(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender},t.prototype._mouseDownRelativePosition=function(e,t){return e.posy-t.top},t.prototype._sliderMousePosition=function(e){return e.posy},t.prototype._sliderOrthogonalMousePosition=function(e){return e.posx},t.prototype._getScrollPosition=function(){return this._scrollable.getScrollTop()},t.prototype._setScrollPosition=function(e){this._scrollable.updateState({scrollTop:e})},t}(n.AbstractScrollbar);t.VerticalScrollbar=a}),define(l[1024],h([1,0,2]),function(e,t,n){"use strict";var i=function(){function e(e){this.task=e,this.promise=null}return e.prototype.get=function(){var e=this;if(this.promise)return this.promise;var t=this.task();return this.promise=new n.TPromise(function(e,n){return t.done(e,n)},function(){e.promise=null,t.cancel()}),this.promise},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=i}),define(l[120],h([1,0,2]),function(e,t,n){"use strict";function i(e){var t=null,i=!1;return new n.TPromise(function(n,r,o){t=new XMLHttpRequest,t.onreadystatechange=function(){i||(4===t.readyState?(t.status>=200&&t.status<300||1223===t.status?n(t):r(t),t.onreadystatechange=function(){}):o(t))},t.open(e.type||"GET",e.url,!0,e.user,e.password),t.responseType=e.responseType||"",Object.keys(e.headers||{}).forEach(function(n){t.setRequestHeader(n,e.headers[n])}),e.customRequestInitializer&&e.customRequestInitializer(t),t.send(e.data)},function(){i=!0,t.abort()})}var r;!function(e){e.inMemory="inmemory",e.vscode="vscode",e.internal="private",e.http="http",e.https="https",e.file="file"}(r=t.Schemas||(t.Schemas={})),t.xhr=i}),define(l[390],h([1,0,2,156,21]),function(e,t,n,i,r){"use strict";function o(e){return{firstPage:e,total:e.length,pageSize:e.length,getPage:null}}function s(e,t){return{firstPage:e.firstPage.map(t),total:e.total,pageSize:e.pageSize,getPage:function(n){return e.getPage(n).then(function(e){return e.map(t)})}}}t.singlePagePager=o;var a=function(){function e(e,t){void 0===t&&(t=500),this.arg=e,this.pageTimeout=t,this.pages=[],this.pager=r.isArray(e)?o(e):e,this.pages=[{isResolved:!0,promise:null,promiseIndexes:new i.ArraySet,elements:this.pager.firstPage.slice()}];for(var n=Math.ceil(this.pager.total/this.pager.pageSize),s=0,a=n-1;s<a;s++)this.pages.push({isResolved:!1,promise:null,promiseIndexes:new i.ArraySet,elements:[]})}return Object.defineProperty(e.prototype,"length",{get:function(){return this.pager.total},enumerable:!0,configurable:!0}),e.prototype.isResolved=function(e){var t=Math.floor(e/this.pager.pageSize),n=this.pages[t];return!!n.isResolved},e.prototype.get=function(e){var t=Math.floor(e/this.pager.pageSize),n=e%this.pager.pageSize,i=this.pages[t];return i.elements[n]},e.prototype.resolve=function(e){var t=this,i=Math.floor(e/this.pager.pageSize),r=e%this.pager.pageSize,o=this.pages[i];return o.isResolved?n.TPromise.as(o.elements[r]):(o.promise||(o.promise=n.TPromise.timeout(this.pageTimeout).then(function(){return t.pager.getPage(i)}).then(function(e){o.elements=e,o.isResolved=!0,o.promise=null},function(e){return o.isResolved=!1,o.promise=null,n.TPromise.wrapError(e)})),new n.TPromise(function(t,n){o.promiseIndexes.set(e),o.promise.done(function(){return t(o.elements[r])})},function(){o.promise&&(o.promiseIndexes.unset(e),0===o.promiseIndexes.size&&o.promise.cancel())}))},e}();t.PagedModel=a,t.mapPager=s}),define(l[383],h([1,0,7,5,2,17,13]),function(e,t,n,i,r,o,s){"use strict";function a(e){s.isWeb&&(l||(l=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/Microsoft/monaco-editor#faq")),console.warn(e.message))}function c(e){return new f(e)}var u="$initialize",l=!1;t.logOnceWebWorkerWarning=a;var h=function(){function e(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null)}return e.prototype.setWorkerId=function(e){this._workerId=e},e.prototype.sendMessage=function(e,t){var n=String(++this._lastSentReq),i={c:null,e:null},o=new r.TPromise(function(e,t,n){i.c=e,i.e=t},function(){});return this._pendingReplies[n]=i,this._send({vsWorker:this._workerId,req:n,method:e,args:t}),o},e.prototype.handleMessage=function(e){var t;try{t=JSON.parse(e)}catch(e){}t.vsWorker&&(this._workerId!==-1&&t.vsWorker!==this._workerId||this._handleMessage(t))},e.prototype._handleMessage=function(e){var t=this;if(e.seq){var i=e;if(!this._pendingReplies[i.seq])return void console.warn("Got reply to unknown seq");var r=this._pendingReplies[i.seq];if(delete this._pendingReplies[i.seq],i.err){var o=i.err;return i.err.$isError&&(o=new Error,o.name=i.err.name,o.message=i.err.message,o.stack=i.err.stack),void r.e(o)}return void r.c(i.res)}var s=e,a=s.req,c=this._handler.handleMessage(s.method,s.args);c.then(function(e){t._send({vsWorker:t._workerId,seq:a,res:e,err:void 0})},function(e){t._send({vsWorker:t._workerId,seq:a,res:void 0,err:n.transformErrorForSerialization(e)})})},e.prototype._send=function(e){var t=JSON.stringify(e);this._handler.sendMessage(t)},e}(),p=function(e){function t(t,n){var i=this;e.call(this),this._lastRequestTimestamp=-1;var o=null,s=null;this._worker=this._register(t.create("vs/base/common/worker/simpleWorker",function(e){i._protocol.handleMessage(e)},function(e){s(e)})),this._protocol=new h({sendMessage:function(e){i._worker.postMessage(e)},handleMessage:function(e,t){return r.TPromise.as(null)}}),this._protocol.setWorkerId(this._worker.getId());var a=null,c=self.require;"function"==typeof c.getConfig?a=c.getConfig():"undefined"!=typeof self.requirejs&&(a=self.requirejs.s.contexts._.config),this._lazyProxy=new r.TPromise(function(e,t,n){o=e,s=t},function(){}),this._onModuleLoaded=this._protocol.sendMessage(u,[this._worker.getId(),n,a]),this._onModuleLoaded.then(function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=d(e[n],l);o(t)},function(e){s(e),i._onError("Worker failed to load "+n,e)});var l=function(e,t){return i._request(e,t)},d=function(e,t){return function(){var n=Array.prototype.slice.call(arguments,0);return t(e,n)}}}return d(t,e),t.prototype.getProxyObject=function(){return new o.ShallowCancelThenPromise(this._lazyProxy)},t.prototype.getLastRequestTimestamp=function(){return this._lastRequestTimestamp},t.prototype._request=function(e,t){var n=this;return new r.TPromise(function(i,r,o){n._onModuleLoaded.then(function(){n._lastRequestTimestamp=Date.now(),n._protocol.sendMessage(e,t).then(i,r)},r)},function(){})},t.prototype._onError=function(e,t){console.error(e),console.info(t)},t}(i.Disposable);t.SimpleWorkerClient=p;var f=function(){function t(e){var t=this;this._protocol=new h({sendMessage:function(t){e(t)},handleMessage:function(e,n){return t._handleMessage(e,n)}})}return t.prototype.onmessage=function(e){this._protocol.handleMessage(e)},t.prototype._handleMessage=function(e,t){if(e===u)return this.initialize(t[0],t[1],t[2]);if(!this._requestHandler||"function"!=typeof this._requestHandler[e])return r.TPromise.wrapError(new Error("Missing requestHandler or method: "+e));try{return r.TPromise.as(this._requestHandler[e].apply(this._requestHandler,t))}catch(e){return r.TPromise.wrapError(e)}},t.prototype.initialize=function(t,n,i){var o=this;if(this._protocol.setWorkerId(t),i){"undefined"!=typeof i.baseUrl&&delete i.baseUrl,"undefined"!=typeof i.paths&&"undefined"!=typeof i.paths.vs&&delete i.paths.vs;var s=i["vs/nls"];s&&s.pseudo&&e(["vs/nls"],function(e){e.setPseudoTranslation(s.pseudo)}),i.catchError=!0,self.require.config(i)}var a,c,u=new r.TPromise(function(e,t,n){a=e,c=t});return self.require([n],function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=e[0];o._requestHandler=n.create();var i=[];for(var r in o._requestHandler)"function"==typeof o._requestHandler[r]&&i.push(r);a(i)},c),u},t}();t.SimpleWorkerServer=f,t.create=c}),define(l[378],h([1,0,1259]),function(e,t,n){"use strict";var i=function(){function e(e){void 0===e&&(e="utf8"),this.stringDecoder=new n.StringDecoder(e),this.remaining=null}return e.prototype.write=function(e){var t=[],n=this.remaining?this.remaining+this.stringDecoder.write(e):this.stringDecoder.write(e);if(n.length<1)return t;for(var i,r=0;r<n.length&&(13===(i=n.charCodeAt(r))||10===i);)r++;for(var o=r;o<n.length;)if(i=n.charCodeAt(o),13===i||10===i){for(t.push(n.substring(r,o)),o++;o<n.length&&(13===(i=n.charCodeAt(o))||10===i);)o++;r=o}else o++;return this.remaining=r<n.length?n.substr(r):null,t},e.prototype.end=function(){return this.remaining},e}();t.LineDecoder=i}),define(l[247],h([1,0,11]),function(e,t,n){"use strict";function i(e,t,i){void 0===i&&(i=function(e){return e});var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return a.fire(i.apply(void 0,e))},o=function(){return e.on(t,r)},s=function(){return e.removeListener(t,r)},a=new n.Emitter({onFirstListenerAdd:o,onLastListenerRemove:s});return a.event}t.fromEventEmitter=i}),define(l[372],h([1,0,872]),function(e,t,n){"use strict";function i(e,t,n){var i=new Array(e.length),r=new Array(e.length),o=!1,s=0;return 0===e.length?n(null,[]):void e.forEach(function(a,c){t(a,function(t,a){if(t?(o=!0,i[c]=null,r[c]=t):(i[c]=a,r[c]=null),++s===e.length)return n(o?r:null,i)})})}function r(e,t,i){if(n.ok(e,"Missing first parameter"),n.ok("function"==typeof t,"Second parameter must be a function that is called for each element"),n.ok("function"==typeof i,"Third parameter must be a function that is called on error and success"),"function"==typeof e)try{e(function(e,n){e?i(e,null):r(n,t,i)})}catch(e){i(e,null)}else{var o=[],s=function(n){if(n<e.length)try{t(e[n],function(e,t){e!==!0&&e!==!1||(t=e,e=null),e?i(e,null):(t&&o.push(t),process.nextTick(function(){s(n+1)}))},n,e.length)}catch(e){i(e,null)}else i(null,o)};s(0)}}function o(e){n.ok(e.length>1,"Need at least one error handler and one function to process sequence"),e.forEach(function(e){n.ok("function"==typeof e)});var t=e.splice(0,1)[0],i=null;r(e,function(e,t){var n=function(e,n){e!==!0&&e!==!1||(n=e,e=null),e?t(e,null):(i=n,t(null,null))};try{e.call(n,i)}catch(e){t(e,null)}},function(e,n){e&&t(e)})}function s(e){o(Array.isArray(e)?e:Array.prototype.slice.call(arguments))}t.parallel=i,t.loop=r,t.sequence=s}),define(l[250],h([1,0,95,12,13,372,117,70]),function(e,t,n,i,r,o,s,a){"use strict";function c(e){return r.isMacintosh?s.readdirSync(e).map(function(e){return i.normalizeNFC(e)}):s.readdirSync(e)}function u(e,t){return r.isMacintosh?s.readdir(e,function(e,n){return e?t(e,null):t(null,n.map(function(e){return i.normalizeNFC(e)}))}):s.readdir(e,t)}function l(e,t,n){s.exists(e,function(i){return i?h(e,function(t,i){return t?n(t):i?void n(null):n(new Error('"'+e+'" is not a directory.'))}):void l(a.dirname(e),t,function(i){return i?void n(i):void(t?s.mkdir(e,t,function(i){return i?n(i):void s.chmod(e,t,n)}):s.mkdir(e,null,n))})})}function h(e,t){s.stat(e,function(e,n){return e?t(e):void t(null,n.isDirectory())})}function d(e,t,n,i){i||(i=Object.create(null)),s.stat(e,function(r,o){return r?n(r):o.isDirectory()?i[e]?n(null):(i[e]=!0,void l(t,511&o.mode,function(r){u(e,function(r,o){b(o,function(n,r){d(a.join(e,n),a.join(t,n),r,i)},n)})})):p(e,t,511&o.mode,n)})}function p(e,t,n,i){var r=!1,o=s.createReadStream(e),a=s.createWriteStream(t,{mode:n}),c=function(e){r||(r=!0,i(e))};o.on("error",c),a.on("error",c),o.on("end",function(){a.end(function(){r||(r=!0,s.chmod(t,n,i))})}),o.pipe(a,{end:!1})}function f(e,t,r,o){s.exists(e,function(c){return c?void s.stat(e,function(c,u){if(c||!u)return r(c);if("."===e[e.length-1]||i.endsWith(e,"./")||i.endsWith(e,".\\"))return g(e,r);var l=a.join(t,n.generateUuid());s.rename(e,l,function(t){return t?g(e,r):(r(null),void g(l,function(e){e&&console.error(e),o&&o(e)}))})}):r(null)})}function g(e,t){return"\\"===e||"/"===e?t(new Error("Will not delete root!")):void s.exists(e,function(n){n?s.lstat(e,function(n,i){if(n||!i)t(n);else if(!i.isDirectory()||i.isSymbolicLink()){var r=i.mode;128&r?s.unlink(e,t):s.chmod(e,128|r,function(n){n?t(n):s.unlink(e,t)})}else u(e,function(n,i){if(n||!i)t(n);else if(0===i.length)s.rmdir(e,t);else{var r=null,o=i.length;i.forEach(function(n){g(a.join(e,n),function(n){o--,n&&(r=r||n),0===o&&(r?t(r):s.rmdir(e,t))})})}})}):t(null)})}function v(e){try{var t=s.lstatSync(e);t.isDirectory()&&!t.isSymbolicLink()?(c(e).forEach(function(t){return v(a.join(e,t))}),s.rmdirSync(e)):s.unlinkSync(e)}catch(e){if("ENOENT"===e.code)return;throw e}}function m(e,t,n){function r(e){return e?n(e):void s.stat(t,function(e,i){return e?n(e):i.isDirectory()?n(null):void s.open(t,"a",null,function(e,t){return e?n(e):void s.futimes(t,i.atime,new Date,function(e){return e?n(e):void s.close(t,n)})})})}return e===t?n(null):void s.rename(e,t,function(o){return o?o&&e.toLowerCase()!==t.toLowerCase()&&"EXDEV"===o.code||i.endsWith(e,".")?d(e,t,function(t){return t?n(t):void g(e,r)}):n(o):r(null)})}function y(e,t,n,i){return S?(n?"string"==typeof n&&(n={encoding:n,mode:438,flag:"w"}):n={encoding:"utf8",mode:438,flag:"w"},void s.open(e,n.flag,n.mode,function(e,r){return e?i(e):void s.writeFile(r,t,n.encoding,function(e){return e?s.close(r,function(){return i(e)}):void s.fdatasync(r,function(e){return e&&(console.warn("[node.js fs] fdatasync is now disabled for this session because it failed: ",e),S=!1),s.close(r,function(e){return i(e)})})})})):s.writeFile(e,t,n,i)}var b=o.loop;t.readdirSync=c,t.readdir=u,t.mkdirp=l,t.copy=d,t.del=f,t.delSync=v,t.mv=m;var S=!0;t.writeFileAndFlush=y}),define(l[366],h([1,0,1257,182,2,7,95,107]),function(e,t,n,i,r,o,s,a){"use strict";function c(){return l.value}function u(){return new r.TPromise(function(e){try{n.getMac(function(t,n){e(t?s.generateUuid():i.createHash("sha256").update(n,"utf8").digest("hex"))})}catch(t){o.onUnexpectedError(t),e(s.generateUuid())}})}var l=new(function(){function e(){}return Object.defineProperty(e.prototype,"value",{get:function(){return void 0===this._value&&this._initValue(),this._value},enumerable:!0,configurable:!0}),e.prototype._initValue=function(){this._value=null;var e=a.networkInterfaces();for(var t in e)for(var n=0,r=e[t];n<r.length;n++){var o=r[n];if(!o.internal)return void(this._value=i.createHash("sha256").update(o.mac,"utf8").digest("hex"))}this._value="missing-"+s.generateUuid()},e}());t._futureMachineIdExperiment=c,t.getMachineId=u}),define(l[910],h([1,0,16]),function(e,t,n){"use strict";var i=n.default.parse(e.toUrl("paths")).fsPath,r=e.__$__nodeRequire(i);t.getAppDataPath=r.getAppDataPath,t.getDefaultUserDataPath=r.getDefaultUserDataPath}),define(l[74],h([1,0,2,250,20,70,17,117,13,11]),function(e,t,n,i,r,o,s,a,c,u){"use strict";function l(e){return s.nfcall(i.readdir,e)}function h(e){return new n.Promise(function(t){return a.exists(e,t)})}function d(e,t){return s.nfcall(a.chmod,e,t)}function p(e,t){var i=function(){return s.nfcall(a.mkdir,e,t).then(null,function(t){return"EEXIST"===t.code?s.nfcall(a.stat,e).then(function(t){return t.isDirectory?null:n.Promise.wrapError(new Error("'"+e+"' exists and is not a directory."))}):n.TPromise.wrapError(t)})};return e===o.dirname(e)?n.TPromise.as(!0):i().then(null,function(r){return"ENOENT"===r.code?p(o.dirname(e),t).then(i):n.TPromise.wrapError(r)})}function f(e){return m(e).then(function(t){return t.isDirectory()&&!t.isSymbolicLink()?l(e).then(function(t){return n.TPromise.join(t.map(function(t){return f(o.join(e,t))}))}).then(function(){return b(e)}):S(e)},function(e){if("ENOENT"!==e.code)return n.TPromise.wrapError(e)})}function g(e){return s.nfcall(a.realpath,e,null)}function v(e){return s.nfcall(a.stat,e)}function m(e){return s.nfcall(a.lstat,e)}function y(e,t){return s.nfcall(a.rename,e,t)}function b(e){return s.nfcall(a.rmdir,e)}function S(e){return s.nfcall(a.unlink,e)}function E(e,t,n){return s.nfcall(a.symlink,e,t,n)}function _(e){return s.nfcall(a.readlink,e)}function C(e){var t=Date.now()/1e3;return s.nfcall(a.utimes,e,t,t)}function w(e,t){return s.nfcall(a.readFile,e,t)}function I(e,t,n){void 0===n&&(n="utf8");var r=T(e);return x(r).queue(function(){return s.nfcall(i.writeFileAndFlush,e,t,n)})}function T(e){var t=e;return(c.isWindows||c.isMacintosh)&&(t=t.toLowerCase()),t}function x(e){var t=k[e];if(!t){t=new s.Queue,k[e]=t;var n=u.once(t.onFinished);n(function(){delete k[e],t.dispose()})}return t}function A(e){return l(e).then(function(t){return n.TPromise.join(t.map(function(t){return D(r.join(e,t))})).then(function(e){return t.filter(function(t,n){return e[n]})})})}function D(e){return v(e).then(function(e){return e.isDirectory()},function(){return!1})}function L(e){return v(e).then(function(e){return e.isFile()},function(){return!1})}t.readdir=l,t.exists=h,t.chmod=d,t.mkdirp=p,t.rimraf=f,t.realpath=g,t.stat=v,t.lstat=m,t.rename=y,t.rmdir=b,t.unlink=S,t.symlink=E,t.readlink=_,t.touch=C,t.readFile=w;var k=Object.create(null);t.writeFile=I,t.readDirsInDir=A,t.dirExists=D,t.fileExists=L}),define(l[964],h([1,0,229]),function(e,t,n){"use strict";function i(e,t,n,i){var o=!1,s=setTimeout(function(){if(!o)return o=!0,i(0)},n);r(e,t,function(e){if(!o)return o=!0,clearTimeout(s),i(e)})}function r(e,t,i){if(0===t)return i(0);var s=new n.Socket;s.once("connect",function(){return o(s),r(e+1,t-1,i)}),s.once("error",function(n){return o(s),"ECONNREFUSED"!==n.code?r(e+1,t-1,i):i(e)}),s.connect(e,"127.0.0.1")}function o(e){try{e.removeAllListeners("connect"),e.removeAllListeners("error"),e.end(),e.destroy(),e.unref()}catch(e){console.error(e)}}t.findFreePort=i}),define(l[975],h([1,0,312,21,1256,1255]),function(e,t,n,i,r,o){"use strict";function s(e){return"http:"===e.protocol?process.env.HTTP_PROXY||process.env.http_proxy||null:"https:"===e.protocol?process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy||null:null}function a(e,t){void 0===t&&(t={});var a=n.parse(e),c=t.proxyUrl||s(a);if(!c)return null;var u=n.parse(c);if(!/^https?:$/.test(u.protocol))return null;var l={host:u.hostname,port:Number(u.port),auth:u.auth,rejectUnauthorized:!i.isBoolean(t.strictSSL)||t.strictSSL};return"http:"===a.protocol?new r(l):new o(l)}t.getProxyAgent=a}),define(l[311],h([1,0,70,107,229,121,16]),function(e,t,n,i,r,o,s){"use strict";function a(e){for(var t=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],n="",i=0;i<e;i++){var r=Math.floor(t.length*Math.random());n+=t[r]}return n}function c(){var e="vscode-"+a(40);return"win32"===process.platform?"\\\\.\\pipe\\"+e+"-sock":n.join(i.tmpdir(),e+".sock")}function u(e,t,n,i){var r={};for(var o in e)r[o]=e[o];return r.STDIN_PIPE_NAME=t,r.STDOUT_PIPE_NAME=n,r.STDERR_PIPE_NAME=i,r.ELECTRON_RUN_AS_NODE="1",r.ELECTRON_NO_ASAR="1",r}function l(t,n,i,a){var l,h=!1,d=function(e){h||(h=!0,a(null,e))},p=function(e){h||(h=!0,a(e,null))},f=c(),g=c(),v=c(),m=u(i.env||process.env,f,g,v),y=r.createServer(function(e){l.stderr=e});y.listen(v);var b=r.createServer(function(e){e.once("data",function(t){l.stdin=r.connect(f),l.stdout=e,d(l)})});b.listen(g);var S=!1,E=function(){S||(S=!0,process.removeListener("exit",E),b.close(),y.close())},_=s.default.parse(e.toUrl("./stdForkStart.js")).fsPath;l=o.fork(_,[t].concat(n),{silent:!0,cwd:i.cwd,env:m,execArgv:i.execArgv}),l.once("error",function(e){E(),p(e)}),l.once("exit",function(e){E(),p(e)}),process.once("exit",E)}t.fork=l}),define(l[230],h([1,0,117]),function(e,t,n){"use strict";function i(e,t,n){var i=!1,r=new Buffer(t),o=0;e.on("data",function(n){var i=Math.min(t-o,n.length);n.copy(r,o,0,i),o+=i,o===t&&e.destroy()}),e.on("error",function(e){i||(i=!0,n(e,null,null))});var s=function(){i||(i=!0,n(null,r,o))};e.on("close",s)}function r(e,t,i){n.open(e,"r",null,function(e,r){function o(e,t,o){
n.close(r,function(n){return n?i(n,null,o):e&&"EISDIR"===e.code?i(e,null,o):i(null,t,o)})}function s(){n.read(r,a,c,t-c,null,function(e,n){return e?o(e,null,0):0===n?10===++u?o(null,a,c):s():(c+=n,c===t?o(null,a,c):s())})}if(e)return i(e,null,0);var a=new Buffer(t),c=0,u=0;s()})}function o(e,t,i,r,o){n.open(e,"r",null,function(s,a){function c(e,t){n.close(a,function(n){return n?o(n,null):e&&"EISDIR"===e.code?o(e,null):o(null,t)})}function u(){n.read(a,l,h,i,null,function(n,i){if(n)return c(n,null);if(0===i)return 10===++d?c(null,null):u();h+=i;var o=l.indexOf(t);return o>=0?c(null,l.toString("utf8").substr(0,o)):h>=r?c(new Error("Could not find "+t+" in first "+r+" bytes of "+e),null):u()})}if(s)return o(s,null);var l=new Buffer(r),h=0,d=0;u()})}t.readExactlyByStream=i,t.readExactlyByFile=r,t.readToMatchingString=o}),define(l[171],h([1,0,230,1245]),function(e,t,n,i){"use strict";function r(e,t,n){return i.decode(e,u(t),n)}function o(e,t,n){return i.encode(e,u(t),n)}function s(e){return i.encodingExists(u(e))}function a(e){return i.decodeStream(u(e))}function c(e){return i.encodeStream(u(e))}function u(e){return e===t.UTF8_with_bom?t.UTF8:e}function l(e,n){if(!e||n<2)return null;var i=e.readUInt8(0),r=e.readUInt8(1);if(254===i&&255===r)return t.UTF16be;if(255===i&&254===r)return t.UTF16le;if(n<3)return null;var o=e.readUInt8(2);return 239===i&&187===r&&191===o?t.UTF8:null}function h(e,t){n.readExactlyByFile(e,3,function(e,n,i){return e?t(e,null):t(null,l(n,i))})}t.UTF8="utf8",t.UTF8_with_bom="utf8bom",t.UTF16be="utf16be",t.UTF16le="utf16le",t.decode=r,t.encode=o,t.encodingExists=s,t.decodeStream=a,t.encodeStream=c,t.detectEncodingByBOMFromBuffer=l,t.detectEncodingByBOM=h}),define(l[245],h([1,0,98,230,171]),function(e,t,n,i,r){"use strict";function o(e,t){i.readExactlyByStream(e,p,function(e,n,i){a(e,n,i,t)})}function s(e,t){i.readExactlyByFile(e,p,function(e,n,i){a(e,n,i,t)})}function a(e,t,n,i){return e?i(e,null):i(null,c(t,n))}function c(e,t){var i=r.detectEncodingByBOMFromBuffer(e,t),o=!0;if(i!==r.UTF16be&&i!==r.UTF16le)for(var s=0;s<t&&s<p;s++)if(0===e.readInt8(s)){o=!1;break}return{mimes:o?[n.MIME_TEXT]:[n.MIME_BINARY],encoding:i}}function u(e,t){var i=e,r=t[0];r!==n.MIME_BINARY&&r!==n.MIME_UNKNOWN&&i.unshift(r);var o=i.filter(function(e,t){return e&&i.indexOf(e)===t}).sort(function(e,t){return e===n.MIME_BINARY?1:t===n.MIME_BINARY?-1:e===n.MIME_TEXT?1:t===n.MIME_TEXT?-1:0});return o}function l(e,t,n){o(e,function(e,i){d(t,e,i,n)})}function h(e,t){s(e,function(n,i){d(e,n,i,t)})}function d(e,t,i,r){if(t)return r(t,null);var o=u(i.mimes,n.guessMimeTypes(e));i.mimes=o,r(null,i)}var p=512;t.detectMimeAndEncodingFromBuffer=c,t.detectMimesFromStream=l,t.detectMimesFromFile=h}),define(l[110],h([1,0,2,5,11]),function(e,t,n,i,r){"use strict";function o(e){return e>=l.ResponseInitialize}function s(e){var t=function(t,n){return e.then(function(e){return e.call(t,n)})};return{call:t}}function a(e){var t=!1,i=function(i,r){return t?e.call(i,r):n.TPromise.timeout(0).then(function(){return t=!0}).then(function(){return e.call(i,r)})};return{call:i}}function c(e,t){void 0===t&&(t=function(e){return e});var i;return new n.Promise(function(n,r,o){return i=e(function(e){return o(t(e))})},function(){return i.dispose()})}function u(e,t,n,i){void 0===n&&(n=null),void 0===i&&(i=function(e){return e});var o,s=new r.Emitter({onFirstListenerAdd:function(){o=e.call(t,n).then(null,function(e){return null},function(e){return s.fire(i(e))})},onLastListenerRemove:function(){o.cancel(),o=null}});return s.event}var l;!function(e){e[e.RequestCommon=0]="RequestCommon",e[e.RequestCancel=1]="RequestCancel",e[e.ResponseInitialize=2]="ResponseInitialize",e[e.ResponseSuccess=3]="ResponseSuccess",e[e.ResponseProgress=4]="ResponseProgress",e[e.ResponseError=5]="ResponseError",e[e.ResponseErrorObj=6]="ResponseErrorObj"}(l||(l={}));var h;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Idle=1]="Idle"}(h||(h={}));var d=function(){function e(e){var t=this;this.protocol=e,this.channels=Object.create(null),this.activeRequests=Object.create(null),this.protocolListener=this.protocol.onMessage(function(e){return t.onMessage(e)}),this.protocol.send({type:l.ResponseInitialize})}return e.prototype.registerChannel=function(e,t){this.channels[e]=t},e.prototype.onMessage=function(e){switch(e.type){case l.RequestCommon:this.onCommonRequest(e);break;case l.RequestCancel:this.onCancelRequest(e)}},e.prototype.onCommonRequest=function(e){var t,r=this,o=this.channels[e.channelName];try{t=o.call(e.name,e.arg)}catch(e){t=n.Promise.wrapError(e)}var s=e.id,a=t.then(function(t){r.protocol.send({id:s,data:t,type:l.ResponseSuccess}),delete r.activeRequests[e.id]},function(t){t instanceof Error?r.protocol.send({id:s,data:{message:t.message,name:t.name,stack:t.stack?t.stack.split("\n"):void 0},type:l.ResponseError}):r.protocol.send({id:s,data:t,type:l.ResponseErrorObj}),delete r.activeRequests[e.id]},function(e){r.protocol.send({id:s,data:e,type:l.ResponseProgress})});this.activeRequests[e.id]=i.toDisposable(function(){return a.cancel()})},e.prototype.onCancelRequest=function(e){var t=this.activeRequests[e.id];t&&(t.dispose(),delete this.activeRequests[e.id])},e.prototype.dispose=function(){var e=this;this.protocolListener.dispose(),this.protocolListener=null,Object.keys(this.activeRequests).forEach(function(t){e.activeRequests[t].dispose()}),this.activeRequests=null},e}();t.ChannelServer=d;var p=function(){function e(e){var t=this;this.protocol=e,this.state=h.Uninitialized,this.activeRequests=[],this.bufferedRequests=[],this.handlers=Object.create(null),this.lastRequestId=0,this.protocolListener=this.protocol.onMessage(function(e){return t.onMessage(e)})}return e.prototype.getChannel=function(e){var t=this,n=function(n,i){return t.request(e,n,i)};return{call:n}},e.prototype.request=function(e,t,n){var i=this,r={raw:{id:this.lastRequestId++,type:l.RequestCommon,channelName:e,name:t,arg:n}},o=this.state===h.Uninitialized?this.bufferRequest(r):this.doRequest(r);return this.activeRequests.push(o),o.then(null,function(e){return null}).done(function(){return i.activeRequests=i.activeRequests.filter(function(e){return e!==o})}),o},e.prototype.doRequest=function(e){var t=this,i=e.raw.id;return new n.Promise(function(n,r,o){t.handlers[i]=function(e){switch(e.type){case l.ResponseSuccess:delete t.handlers[i],n(e.data);break;case l.ResponseError:delete t.handlers[i];var s=new Error(e.data.message);s.stack=e.data.stack,s.name=e.data.name,r(s);break;case l.ResponseErrorObj:delete t.handlers[i],r(e.data);break;case l.ResponseProgress:o(e.data)}},t.send(e.raw)},function(){return t.send({id:i,type:l.RequestCancel})})},e.prototype.bufferRequest=function(e){var t=this,i=null;return new n.Promise(function(n,r,o){t.bufferedRequests.push(e),e.flush=function(){e.flush=null,i=t.doRequest(e).then(n,r,o)}},function(){if(e.flush=null,t.state!==h.Uninitialized)return void(i&&(i.cancel(),i=null));var n=t.bufferedRequests.indexOf(e);n!==-1&&t.bufferedRequests.splice(n,1)})},e.prototype.onMessage=function(e){if(o(e.type)){if(this.state===h.Uninitialized&&e.type===l.ResponseInitialize)return this.state=h.Idle,this.bufferedRequests.forEach(function(e){return e.flush&&e.flush()}),void(this.bufferedRequests=null);var t=this.handlers[e.id];t&&t(e)}},e.prototype.send=function(e){try{this.protocol.send(e)}catch(e){}},e.prototype.dispose=function(){this.protocolListener.dispose(),this.protocolListener=null,this.activeRequests.forEach(function(e){return e.cancel()}),this.activeRequests=[]},e}();t.ChannelClient=p;var f=function(){function e(e){var t=this;this.channels=Object.create(null),this.channelClients=Object.create(null),this.onClientAdded=new r.Emitter,e(function(e){var n=e.protocol,i=e.onDidClientDisconnect,o=r.once(n.onMessage);o(function(e){var r=new d(n),o=new p(n);Object.keys(t.channels).forEach(function(e){return r.registerChannel(e,t.channels[e])}),t.channelClients[e]=o,t.onClientAdded.fire(e),i(function(){r.dispose(),o.dispose(),delete t.channelClients[e]})})})}return e.prototype.getChannel=function(e,t){var i=this,r=function(r,o){var s=t.route(r,o);return s?i.getClient(s).then(function(t){return t.getChannel(e).call(r,o)}):n.TPromise.wrapError("Client id should be provided")};return{call:r}},e.prototype.registerChannel=function(e,t){this.channels[e]=t},e.prototype.getClient=function(e){var t=this,i=this.channelClients[e];return i?n.TPromise.as(i):new n.TPromise(function(n){var i=r.once(r.filterEvent(t.onClientAdded.event,function(t){return t===e}));i(function(){return n(t.channelClients[e])})})},e.prototype.dispose=function(){this.channels=null,this.channelClients=null,this.onClientAdded.dispose()},e}();t.IPCServer=f;var g=function(){function e(e,t){e.send(t),this.channelClient=new p(e),this.channelServer=new d(e)}return e.prototype.getChannel=function(e){return this.channelClient.getChannel(e)},e.prototype.registerChannel=function(e,t){this.channelServer.registerChannel(e,t)},e.prototype.dispose=function(){this.channelClient.dispose(),this.channelClient=null,this.channelServer.dispose(),this.channelServer=null},e}();t.IPCClient=g,t.getDelayedChannel=s,t.getNextTickChannel=a,t.eventToCall=c,t.eventFromCall=u}),define(l[854],h([1,0,5,11]),function(e,t,n,i){"use strict";var r=function(){function e(e,t){this.sender=e,this.onMessageEvent=t;var n=new i.Emitter;t(function(e){return n.fire(e)}),this._onMessage=n.event}return Object.defineProperty(e.prototype,"onMessage",{get:function(){return this._onMessage},enumerable:!0,configurable:!0}),e.prototype.send=function(e){try{this.sender.send("ipc:message",e)}catch(e){}},e.prototype.dispose=function(){this.listener=n.dispose(this.listener)},e}();t.Protocol=r}),define(l[856],h([1,0,247,110,854,83]),function(e,t,n,i,r,o){"use strict";var s=function(e){function t(n){e.call(this,t.createProtocol(),n)}return d(t,e),t.createProtocol=function(){var e=n.fromEventEmitter(o.ipcRenderer,"ipc:message",function(e,t){return t});return o.ipcRenderer.send("ipc:hello"),new r.Protocol(o.ipcRenderer,e)},t}(i.IPCClient);t.Client=s}),define(l[211],h([1,0,121,2,17,30,11,247,110]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(e){function t(){var t=this;e.call(this,{send:function(e){try{process.send(e)}catch(e){}},onMessage:a.fromEventEmitter(process,"message",function(e){return e})}),process.once("disconnect",function(){return t.dispose()})}return d(t,e),t}(c.ChannelServer);t.Server=u;var l=function(){function e(e,t){this.modulePath=e,this.options=t;var n=t&&t.timeout?t.timeout:6e4;this.disposeDelayer=new r.Delayer(n),this.activeRequests=[],this.child=null,this._client=null,this.channels=Object.create(null)}return e.prototype.getChannel=function(e){var t=this,n=function(n,i){return t.request(e,n,i)};return{call:n}},e.prototype.request=function(e,t,n){var r=this;if(!this.disposeDelayer)return i.Promise.wrapError("disposed");this.disposeDelayer.cancel();var o=this.channels[e]||(this.channels[e]=this.client.getChannel(e)),s=o.call(t,n),a=new i.Promise(function(e,t,n){s.then(e,t,n).done(function(){r.activeRequests&&(r.activeRequests.splice(r.activeRequests.indexOf(a),1),0===r.activeRequests.length&&r.disposeDelayer.trigger(function(){return r.disposeClient()}))})},function(){return s.cancel()});return this.activeRequests.push(a),a},Object.defineProperty(e.prototype,"client",{get:function(){var e=this;if(!this._client){var t=this.options&&this.options.args?this.options.args:[],i=Object.create(null);i.env=o.assign(o.clone(process.env),{VSCODE_PARENT_PID:String(process.pid)}),this.options&&this.options.env&&(i.env=o.assign(i.env,this.options.env)),this.options&&"number"==typeof this.options.debug&&(i.execArgv=["--nolazy","--debug="+this.options.debug]),this.options&&"number"==typeof this.options.debugBrk&&(i.execArgv=["--nolazy","--debug-brk="+this.options.debugBrk]),this.child=n.fork(this.modulePath,t,i);var r=new s.Emitter,u=a.fromEventEmitter(this.child,"message",function(e){return e});u(function(t){if(t&&"__$console"===t.type){var n=["%c[IPC Library: "+e.options.serverName+"]","color: darkgreen"];try{var i=JSON.parse(t.arguments);n=n.concat(Object.getOwnPropertyNames(i).map(function(e){return i[e]}))}catch(e){n.push(t.arguments)}return console[t.severity].apply(console,n),null}r.fire(t)});var l=function(t){return e.child&&e.child.connected&&e.child.send(t)},h=r.event,d={send:l,onMessage:h};this._client=new c.ChannelClient(d);var p=function(){return e.disposeClient()};process.once("exit",p),this.child.on("error",function(t){return console.warn('IPC "'+e.options.serverName+'" errored with '+t)}),this.child.on("exit",function(t,n){process.removeListener("exit",p),e.activeRequests&&(e.activeRequests.forEach(function(e){return e.cancel()}),e.activeRequests=[]),0!==t&&"SIGTERM"!==n&&(console.warn('IPC "'+e.options.serverName+'" crashed with exit code '+t),e.disposeDelayer.cancel(),e.disposeClient())})}return this._client},enumerable:!0,configurable:!0}),e.prototype.disposeClient=function(){this._client&&(this.child.kill(),this.child=null,this._client=null,this.channels=Object.create(null))},e.prototype.dispose=function(){this.disposeDelayer.cancel(),this.disposeDelayer=null,this.disposeClient(),this.activeRequests=null},e}();t.Client=l}),define(l[863],h([1,0,229,2,11,247,110]),function(e,t,n,i,r,o,s){"use strict";function a(e,t,n){for(void 0===n&&(n=0);n<e.length&&e[n]!==t;)n++;return n}function c(e){return new i.TPromise(function(t,i){var r=n.createServer();r.on("error",i),r.listen(e,function(){r.removeListener("error",i),t(new h(r))})})}function u(e,t){return new i.TPromise(function(i,r){var o=n.createConnection(e,function(){o.removeListener("error",r),i(new p(o,t))});o.once("error",r)})}var l=function(){function e(e){this.socket=e;var t=null,n=new r.Emitter,i=o.fromEventEmitter(e,"data",function(e){return e});i(function(e){for(var i=0,r=0;(r=a(e,0,i))<e.length;){var o=e.slice(i,r);t?(n.fire(JSON.parse(Buffer.concat([t,o]).toString("utf8"))),t=null):n.fire(JSON.parse(o.toString("utf8"))),i=r+1}if(r-i>0){var s=e.slice(i,r);t=t?Buffer.concat([t,s]):s}}),this._onMessage=n.event}return Object.defineProperty(e.prototype,"onMessage",{get:function(){return this._onMessage},enumerable:!0,configurable:!0}),e.prototype.send=function(t){try{this.socket.write(JSON.stringify(t)),this.socket.write(e.Boundary)}catch(e){}},e.Boundary=new Buffer([0]),e}(),h=function(e){function t(n){e.call(this,t.toClientConnectionEvent(n)),this.server=n}return d(t,e),t.toClientConnectionEvent=function(e){var t=o.fromEventEmitter(e,"connection");return r.mapEvent(t,function(e){return{protocol:new l(e),onDidClientDisconnect:r.once(o.fromEventEmitter(e,"close"))}})},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.server.close(),this.server=null},t}(s.IPCServer);t.Server=h;var p=function(e){function t(t,n){var i=this;e.call(this,new l(t),n),this.socket=t,this._onClose=new r.Emitter,t.once("close",function(){return i._onClose.fire()})}return d(t,e),Object.defineProperty(t.prototype,"onClose",{get:function(){return this._onClose.event},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.socket.end(),this.socket=null},t}(s.IPCClient);t.Client=p,t.serve=c,t.connect=u}),define(l[865],h([1,0,2,21]),function(e,t,n,i){"use strict";var r=function(){function e(e){this.modelProvider=i.isFunction(e.getModel)?e:{getModel:function(){return e}}}return e.prototype.getId=function(e,t){if(!t)return null;var n=this.modelProvider.getModel();return n===t?"__root__":n.dataSource.getId(t)},e.prototype.hasChildren=function(e,t){var n=this.modelProvider.getModel();return n&&n===t&&n.entries.length>0},e.prototype.getChildren=function(e,t){var i=this.modelProvider.getModel();return n.TPromise.as(i===t?i.entries:[])},e.prototype.getParent=function(e,t){return n.TPromise.as(null)},e}();t.DataSource=r;var o=function(){function e(e){this.modelProvider=e}return e.prototype.getAriaLabel=function(e,t){var n=this.modelProvider.getModel();return n.accessibilityProvider&&n.accessibilityProvider.getAriaLabel(t)},e}();t.AccessibilityProvider=o;var s=function(){function e(e){this.modelProvider=e}return e.prototype.isVisible=function(e,t){var n=this.modelProvider.getModel();return!n.filter||n.filter.isVisible(t)},e}();t.Filter=s;var a=function(){function e(e){this.modelProvider=e}return e.prototype.getHeight=function(e,t){var n=this.modelProvider.getModel();return n.renderer.getHeight(t)},e.prototype.getTemplateId=function(e,t){var n=this.modelProvider.getModel();return n.renderer.getTemplateId(t)},e.prototype.renderTemplate=function(e,t,n){var i=this.modelProvider.getModel();return i.renderer.renderTemplate(t,n)},e.prototype.renderElement=function(e,t,n,i){var r=this.modelProvider.getModel();r.renderer.renderElement(t,n,i)},e.prototype.disposeTemplate=function(e,t,n){var i=this.modelProvider.getModel();i.renderer.disposeTemplate(t,n)},e}();t.Renderer=a}),define(l[99],h([1,0]),function(e,t){"use strict";!function(e){e[e.PREVIEW=0]="PREVIEW",e[e.OPEN=1]="OPEN",e[e.OPEN_IN_BACKGROUND=2]="OPEN_IN_BACKGROUND"}(t.Mode||(t.Mode={}));t.Mode}),define(l[174],h([1,0]),function(e,t){"use strict";var n=function(){function e(e,t,n){this._posx=e,this._posy=t,this._target=n}return e.prototype.preventDefault=function(){},e.prototype.stopPropagation=function(){},Object.defineProperty(e.prototype,"posx",{get:function(){return this._posx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"posy",{get:function(){return this._posy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),e}();t.ContextMenuEvent=n;var i=function(e){function t(t){e.call(this,t.posx,t.posy,t.target),this.originalEvent=t}return d(t,e),t.prototype.preventDefault=function(){this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},t}(n);t.MouseContextMenuEvent=i;var r=function(e){function t(t,n,i){e.call(this,t,n,i.target),this.originalEvent=i}return d(t,e),t.prototype.preventDefault=function(){this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},t}(n);t.KeyboardContextMenuEvent=r,function(e){e[e.COPY=0]="COPY",e[e.MOVE=1]="MOVE"}(t.DragOverEffect||(t.DragOverEffect={}));var o=t.DragOverEffect;!function(e){e[e.BUBBLE_DOWN=0]="BUBBLE_DOWN",e[e.BUBBLE_UP=1]="BUBBLE_UP"}(t.DragOverBubble||(t.DragOverBubble={}));var s=t.DragOverBubble;t.DRAG_OVER_REJECT={accept:!1},t.DRAG_OVER_ACCEPT={accept:!0},t.DRAG_OVER_ACCEPT_BUBBLE_UP={accept:!0,bubble:s.BUBBLE_UP},t.DRAG_OVER_ACCEPT_BUBBLE_DOWN={accept:!0,bubble:s.BUBBLE_DOWN},t.DRAG_OVER_ACCEPT_BUBBLE_UP_COPY={accept:!0,bubble:s.BUBBLE_UP,effect:o.COPY},t.DRAG_OVER_ACCEPT_BUBBLE_DOWN_COPY={accept:!0,bubble:s.BUBBLE_DOWN,effect:o.COPY}}),define(l[206],h([1,0]),function(e,t){"use strict";var n=function(){function e(e){this.elements=e}return e.prototype.update=function(e){},e.prototype.getData=function(){return this.elements},e}();t.ElementsDragAndDropData=n;var i=function(){function e(e){this.elements=e}return e.prototype.update=function(e){},e.prototype.getData=function(){return this.elements},e}();t.ExternalElementsDragAndDropData=i;var r=function(){function e(){this.types=[],this.files=[]}return e.prototype.update=function(e){e.dataTransfer.types&&(this.types=[],Array.prototype.push.apply(this.types,e.dataTransfer.types)),e.dataTransfer.files&&(this.files=[],Array.prototype.push.apply(this.files,e.dataTransfer.files),this.files=this.files.filter(function(e){return e.size||e.type}))},e.prototype.getData=function(){return{types:this.types,files:this.files}},e}();t.DesktopDragAndDropData=r}),define(l[875],h([1,0,119,7,5,35,42,2]),function(e,t,n,i,r,o,s,a){"use strict";function c(e,t){for(var n=e.getHierarchy(),i=t.getHierarchy(),r=o.commonPrefixLength(n,i),s=n[r-1],a=s.getNavigator(),c=null,u=null,l=0,h=[];s&&(null===c||null===u);)h.push(s),s===e&&(c=l),s===t&&(u=l),l++,s=a.next();if(null===c||null===u)return[];var d=Math.min(c,u),p=Math.max(c,u);return h.slice(d,p+1)}var u=function(e){function t(t){e.call(this),this._item=t}return d(t,e),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.emit("unlock"),e.prototype.dispose.call(this)},t}(s.EventEmitter);t.LockData=u;var l=function(){function e(){this.locks=Object.create({})}return e.prototype.isLocked=function(e){return!!this.locks[e.id]},e.prototype.run=function(e,t){var n=this,i=this.getLock(e);if(i){var r;return new a.Promise(function(o,s){r=i.addOneTimeDisposableListener("unlock",function(){return n.run(e,t).then(o,s)})},function(){r.dispose()})}var o;return new a.Promise(function(i,r){if(e.isDisposed())return r(new Error("Item is disposed."));var s=n.locks[e.id]=new u(e);return o=t().then(function(t){return delete n.locks[e.id],s.dispose(),t}).then(i,r)},function(){return o.cancel()})},e.prototype.getLock=function(e){var t;for(t in this.locks){var n=this.locks[t];if(e.intersects(n.item))return n}return null},e}();t.Lock=l;var h=function(e){function t(){e.call(this),this._isDisposed=!1,this.items={}}return d(t,e),t.prototype.register=function(e){n.ok(!this.isRegistered(e.id),"item already registered: "+e.id),this.items[e.id]={item:e,disposable:this.addEmitter2(e)}},t.prototype.deregister=function(e){n.ok(this.isRegistered(e.id),"item not registered: "+e.id),this.items[e.id].disposable.dispose(),delete this.items[e.id]},t.prototype.isRegistered=function(e){return this.items.hasOwnProperty(e)},t.prototype.getItem=function(e){var t=this.items[e];return t?t.item:null},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.items=null,this._isDisposed=!0},t.prototype.isDisposed=function(){return this._isDisposed},t}(s.EventEmitter);t.ItemRegistry=h;var p=function(e){function t(t,n,i,r,o){e.call(this),this.registry=n,this.context=i,this.lock=r,this.element=o,this.id=t,this.registry.register(this),this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.needsChildrenRefresh=!0,this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null,this.userContent=null,this.traits={},this.depth=0,this.expanded=!1,this.emit("item:create",{item:this}),this.visible=this._isVisible(),this.height=this._getHeight(),this._isDisposed=!1}return d(t,e),t.prototype.getElement=function(){return this.element},t.prototype.hasChildren=function(){return this.doesHaveChildren},t.prototype.getDepth=function(){return this.depth},t.prototype.isVisible=function(){return this.visible},t.prototype.setVisible=function(e){this.visible=e},t.prototype.isExpanded=function(){return this.expanded},t.prototype._setExpanded=function(e){this.expanded=e},t.prototype.reveal=function(e){void 0===e&&(e=null);var t={item:this,relativeTop:e};this.emit("item:reveal",t)},t.prototype.expand=function(){var e=this;if(this.isExpanded()||!this.doesHaveChildren||this.lock.isLocked(this))return a.TPromise.as(!1);var t=this.lock.run(this,function(){var t,n={item:e};return e.emit("item:expanding",n),t=e.needsChildrenRefresh?e.refreshChildren(!1,!0,!0):a.TPromise.as(null),t.then(function(){return e._setExpanded(!0),e.emit("item:expanded",n),!0})});return t.then(function(t){return!e.isDisposed()&&(e.context.options.autoExpandSingleChildren&&t&&null!==e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.isVisible()?e.firstChild.expand().then(function(){return!0}):t)})},t.prototype.collapse=function(e){var t=this;if(void 0===e&&(e=!1),e){var n=a.TPromise.as(null);return this.forEachChild(function(e){n=n.then(function(){return e.collapse(!0)})}),n.then(function(){return t.collapse(!1)})}return!this.isExpanded()||this.lock.isLocked(this)?a.TPromise.as(!1):this.lock.run(this,function(){var e={item:t};return t.emit("item:collapsing",e),t._setExpanded(!1),t.emit("item:collapsed",e),a.TPromise.as(!0)})},t.prototype.addTrait=function(e){var t={item:this,trait:e};this.traits[e]=!0,this.emit("item:addTrait",t)},t.prototype.removeTrait=function(e){var t={item:this,trait:e};delete this.traits[e],this.emit("item:removeTrait",t)},t.prototype.hasTrait=function(e){return this.traits[e]||!1},t.prototype.getAllTraits=function(){var e,t=[];for(e in this.traits)this.traits.hasOwnProperty(e)&&this.traits[e]&&t.push(e);return t},t.prototype.getHeight=function(){return this.height},t.prototype.refreshChildren=function(e,n,r){var o=this;if(void 0===n&&(n=!1),void 0===r&&(r=!1),!r&&!this.isExpanded())return this.needsChildrenRefresh=!0,a.TPromise.as(this);this.needsChildrenRefresh=!1;var s=function(){var r={item:o,isNested:n};o.emit("item:childrenRefreshing",r);var s;s=o.doesHaveChildren?o.context.dataSource.getChildren(o.context.tree,o.element):a.TPromise.as([]);var c=s.then(function(n){if(o.isDisposed()||o.registry.isDisposed())return a.TPromise.as(null);n=n?n.slice(0):[],n=o.sort(n);for(var i={};null!==o.firstChild;)i[o.firstChild.id]=o.firstChild,o.removeChild(o.firstChild);for(var r=0,s=n.length;r<s;r++){var c=n[r],u=o.context.dataSource.getId(o.context.tree,c),l=i[u]||new t(u,o.registry,o.context,o.lock,c);l.element=c,e&&(l.needsChildrenRefresh=e),delete i[u],o.addChild(l)}for(var h in i)i.hasOwnProperty(h)&&i[h].dispose();return e?a.Promise.join(o.mapEachChild(function(t){return t.doRefresh(e,!0)})):a.TPromise.as(null)});return c.then(null,i.onUnexpectedError).then(function(){return o.emit("item:childrenRefreshed",r)})};return n?s():this.lock.run(this,s)},t.prototype.doRefresh=function(e,t){void 0===t&&(t=!1);var n={item:this};return this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.height=this._getHeight(),this.setVisible(this._isVisible()),this.emit("item:refresh",n),this.refreshChildren(e,t)},t.prototype.refresh=function(e){return this.doRefresh(e)},t.prototype.getNavigator=function(){return new g(this)},t.prototype.intersects=function(e){return this.isAncestorOf(e)||e.isAncestorOf(this)},t.prototype.getHierarchy=function(){var e=[],t=this;do e.push(t),t=t.parent;while(t);return e.reverse(),e},t.prototype.isAncestorOf=function(e){for(;e;){if(e.id===this.id)return!0;e=e.parent}return!1},t.prototype.addChild=function(e,t){void 0===t&&(t=this.lastChild);var n=null===this.firstChild,i=null===t,r=t===this.lastChild;n?(this.firstChild=this.lastChild=e,e.next=e.previous=null):i?(this.firstChild.previous=e,e.next=this.firstChild,e.previous=null,this.firstChild=e):r?(this.lastChild.next=e,e.next=null,e.previous=this.lastChild,this.lastChild=e):(e.previous=t,e.next=t.next,t.next.previous=e,t.next=e),e.parent=this,e.depth=this.depth+1},t.prototype.removeChild=function(e){var t=this.firstChild===e,n=this.lastChild===e;t&&n?this.firstChild=this.lastChild=null:t?(e.next.previous=null,this.firstChild=e.next):n?(e.previous.next=null,this.lastChild=e.previous):(e.next.previous=e.previous,e.previous.next=e.next),e.parent=null,e.depth=null},t.prototype.forEachChild=function(e){for(var t,n=this.firstChild;n;)t=n.next,e(n),n=t},t.prototype.mapEachChild=function(e){var t=[];return this.forEachChild(function(n){t.push(e(n))}),t},t.prototype.sort=function(e){var t=this;return this.context.sorter?e.sort(function(e,n){return t.context.sorter.compare(t.context.tree,e,n)}):e},t.prototype._getHeight=function(){return this.context.renderer.getHeight(this.context.tree,this.element)},t.prototype._isVisible=function(){return this.context.filter.isVisible(this.context.tree,this.element)},t.prototype.isDisposed=function(){return this._isDisposed},t.prototype.dispose=function(){this.forEachChild(function(e){return e.dispose()}),this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null;var t={item:this};this.emit("item:dispose",t),this.registry.deregister(this),e.prototype.dispose.call(this),this._isDisposed=!0},t}(s.EventEmitter);t.Item=p;var f=function(e){function t(t,n,i,r,o){e.call(this,t,n,i,r,o)}return d(t,e),t.prototype.isVisible=function(){return!1},t.prototype.setVisible=function(e){},t.prototype.isExpanded=function(){return!0},t.prototype._setExpanded=function(e){},t.prototype.render=function(){},t.prototype._getHeight=function(){return 0},t.prototype._isVisible=function(){return!1},t}(p),g=function(){function e(e,t){void 0===t&&(t=!0),this.item=e,this.start=t?e:null}return e.lastDescendantOf=function(t){return t?t.isVisible()&&t.isExpanded()&&null!==t.lastChild?e.lastDescendantOf(t.lastChild):t:null},e.prototype.current=function(){return this.item||null},e.prototype.next=function(){if(this.item)do if((this.item instanceof f||this.item.isVisible()&&this.item.isExpanded())&&this.item.firstChild)this.item=this.item.firstChild;else if(this.item===this.start)this.item=null;else{for(;this.item&&this.item!==this.start&&!this.item.next;)this.item=this.item.parent;this.item===this.start&&(this.item=null),this.item=this.item?this.item.next:null}while(this.item&&!this.item.isVisible());return this.item||null},e.prototype.previous=function(){if(this.item)do{var t=e.lastDescendantOf(this.item.previous);t?this.item=t:this.item.parent&&this.item.parent!==this.start&&this.item.parent.isVisible()?this.item=this.item.parent:this.item=null}while(this.item&&!this.item.isVisible());return this.item||null},e.prototype.parent=function(){if(this.item){var e=this.item.parent;e&&e!==this.start&&e.isVisible()?this.item=e:this.item=null}return this.item||null},e.prototype.first=function(){return this.item=this.start,this.next(),this.item||null},e.prototype.last=function(){return this.start&&this.start.isExpanded()&&(this.item=this.start.lastChild,this.item&&!this.item.isVisible()&&this.previous()),this.item||null},e}();t.TreeNavigator=g;var v=function(e){function t(t){e.call(this),this.context=t,this.input=null,this.traitsToItems={}}return d(t,e),t.prototype.setInput=function(e){var t=this,n={item:this.input};this.emit("clearingInput",n),this.setSelection([]),this.setFocus(),this.setHighlight(),this.lock=new l,this.input&&this.input.dispose(),this.registry&&(this.registry.dispose(),this.registryDisposable.dispose()),this.registry=new h,this.registryDisposable=r.combinedDisposable([this.addEmitter2(this.registry),this.registry.addListener2("item:dispose",function(e){e.item.getAllTraits().forEach(function(n){return delete t.traitsToItems[n][e.item.id]})})]);var i=this.context.dataSource.getId(this.context.tree,e);return this.input=new f(i,this.registry,this.context,this.lock,e),n={item:this.input},this.emit("setInput",n),this.refresh(this.input)},t.prototype.getInput=function(){return this.input?this.input.getElement():null},t.prototype.refresh=function(e,t){var n=this;void 0===e&&(e=null),void 0===t&&(t=!0);var i=this.getItem(e);if(!i)return a.TPromise.as(null);var r={item:i,recursive:t};return this.emit("refreshing",r),i.refresh(t).then(function(){n.emit("refreshed",r)})},t.prototype.refreshAll=function(e,t){void 0===t&&(t=!0);try{return this._beginDeferredEmit(),this._refreshAll(e,t)}finally{this._endDeferredEmit()}},t.prototype._refreshAll=function(e,t){for(var n=[],i=0,r=e.length;i<r;i++)n.push(this.refresh(e[i],t));return a.Promise.join(n)},t.prototype.expand=function(e){var t=this.getItem(e);return t?t.expand():a.TPromise.as(!1)},t.prototype.expandAll=function(e){if(!e){e=[];for(var t,n=this.getNavigator();t=n.next();)e.push(t)}for(var i=[],r=0,o=e.length;r<o;r++)i.push(this.expand(e[r]));return a.Promise.join(i)},t.prototype.collapse=function(e,t){void 0===t&&(t=!1);var n=this.getItem(e);return n?n.collapse(t):a.TPromise.as(!1)},t.prototype.collapseAll=function(e,t){void 0===e&&(e=null),void 0===t&&(t=!1),e||(e=[this.input],t=!0);for(var n=[],i=0,r=e.length;i<r;i++)n.push(this.collapse(e[i],t));return a.Promise.join(n)},t.prototype.toggleExpansion=function(e){return this.isExpanded(e)?this.collapse(e):this.expand(e)},t.prototype.toggleExpansionAll=function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(this.toggleExpansion(e[n]));return a.Promise.join(t)},t.prototype.isExpanded=function(e){
var t=this.getItem(e);return!!t&&t.isExpanded()},t.prototype.getExpandedElements=function(){for(var e,t=[],n=this.getNavigator();e=n.next();)e.isExpanded()&&t.push(e.getElement());return t},t.prototype.reveal=function(e,t){var n=this;return void 0===t&&(t=null),this.resolveUnknownParentChain(e).then(function(e){var t=a.TPromise.as(null);return e.forEach(function(e){t=t.then(function(){return n.expand(e)})}),t}).then(function(){var i=n.getItem(e);if(i)return i.reveal(t)})},t.prototype.resolveUnknownParentChain=function(e){var t=this;return this.context.dataSource.getParent(this.context.tree,e).then(function(e){return e?t.resolveUnknownParentChain(e).then(function(t){return t.push(e),t}):a.TPromise.as([])})},t.prototype.setHighlight=function(e,t){this.setTraits("highlighted",e?[e]:[]);var n={highlight:this.getHighlight(),payload:t};this.emit("highlight",n)},t.prototype.getHighlight=function(e){var t=this.getElementsWithTrait("highlighted",e);return 0===t.length?null:t[0]},t.prototype.isHighlighted=function(e){var t=this.getItem(e);return!!t&&t.hasTrait("highlighted")},t.prototype.select=function(e,t){this.selectAll([e],t)},t.prototype.selectRange=function(e,t,n){var i=this.getItem(e),r=this.getItem(t);i&&r&&this.selectAll(c(i,r),n)},t.prototype.deselectRange=function(e,t,n){var i=this.getItem(e),r=this.getItem(t);i&&r&&this.deselectAll(c(i,r),n)},t.prototype.selectAll=function(e,t){this.addTraits("selected",e);var n={selection:this.getSelection(),payload:t};this.emit("selection",n)},t.prototype.deselect=function(e,t){this.deselectAll([e],t)},t.prototype.deselectAll=function(e,t){this.removeTraits("selected",e);var n={selection:this.getSelection(),payload:t};this.emit("selection",n)},t.prototype.setSelection=function(e,t){this.setTraits("selected",e);var n={selection:this.getSelection(),payload:t};this.emit("selection",n)},t.prototype.toggleSelection=function(e,t){this.toggleTrait("selected",e);var n={selection:this.getSelection(),payload:t};this.emit("selection",n)},t.prototype.isSelected=function(e){var t=this.getItem(e);return!!t&&t.hasTrait("selected")},t.prototype.getSelection=function(e){return this.getElementsWithTrait("selected",e)},t.prototype.selectNext=function(e,t,n){void 0===e&&(e=1),void 0===t&&(t=!0);for(var i,r=this.getSelection(),o=r.length>0?r[0]:this.input,s=this.getNavigator(o,!1),a=0;a<e&&(i=s.next(),i);a++)o=i;t?this.setSelection([o],n):this.select(o,n)},t.prototype.selectPrevious=function(e,t,n){void 0===e&&(e=1),void 0===t&&(t=!0);var i=this.getSelection(),r=null,o=null;if(0===i.length){for(var s=this.getNavigator(this.input);r=s.next();)o=r;r=o}else{r=i[0];for(var s=this.getNavigator(r,!1),a=0;a<e&&(o=s.previous(),o);a++)r=o}t?this.setSelection([r],n):this.select(r,n)},t.prototype.selectParent=function(e,t){void 0===t&&(t=!0);var n=this.getSelection(),i=n.length>0?n[0]:this.input,r=this.getNavigator(i,!1),o=r.parent();o&&(t?this.setSelection([o],e):this.select(o,e))},t.prototype.setFocus=function(e,t){this.setTraits("focused",e?[e]:[]);var n={focus:this.getFocus(),payload:t};this.emit("focus",n)},t.prototype.isFocused=function(e){var t=this.getItem(e);return!!t&&t.hasTrait("focused")},t.prototype.getFocus=function(e){var t=this.getElementsWithTrait("focused",e);return 0===t.length?null:t[0]},t.prototype.focusNext=function(e,t){void 0===e&&(e=1);for(var n,i=this.getFocus()||this.input,r=this.getNavigator(i,!1),o=0;o<e&&(n=r.next(),n);o++)i=n;this.setFocus(i,t)},t.prototype.focusPrevious=function(e,t){void 0===e&&(e=1);for(var n,i=this.getFocus()||this.input,r=this.getNavigator(i,!1),o=0;o<e&&(n=r.previous(),n);o++)i=n;this.setFocus(i,t)},t.prototype.focusParent=function(e){var t=this.getFocus()||this.input,n=this.getNavigator(t,!1),i=n.parent();i&&this.setFocus(i,e)},t.prototype.focusFirstChild=function(e){var t=this.getItem(this.getFocus()||this.input),n=this.getNavigator(t,!1),i=n.next(),r=n.parent();r===t&&this.setFocus(i,e)},t.prototype.focusFirst=function(e){this.focusNth(0,e)},t.prototype.focusNth=function(e,t){for(var n=this.getNavigator(this.input),i=n.first(),r=0;r<e;r++)i=n.next();i&&this.setFocus(i,t)},t.prototype.focusLast=function(e){var t=this.getNavigator(this.input),n=t.last();n&&this.setFocus(n,e)},t.prototype.getNavigator=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!0),new g(this.getItem(e),t)},t.prototype.getItem=function(e){return void 0===e&&(e=null),null===e?this.input:e instanceof p?e:"string"==typeof e?this.registry.getItem(e):this.registry.getItem(this.context.dataSource.getId(this.context.tree,e))},t.prototype.addTraits=function(e,t){for(var n,i=this.traitsToItems[e]||{},r=0,o=t.length;r<o;r++)n=this.getItem(t[r]),n&&(n.addTrait(e),i[n.id]=n);this.traitsToItems[e]=i},t.prototype.removeTraits=function(e,t){var n,i,r=this.traitsToItems[e]||{};if(0===t.length){for(i in r)r.hasOwnProperty(i)&&(n=r[i],n.removeTrait(e));delete this.traitsToItems[e]}else for(var o=0,s=t.length;o<s;o++)n=this.getItem(t[o]),n&&(n.removeTrait(e),delete r[n.id])},t.prototype.hasTrait=function(e,t){var n=this.getItem(t);return n&&n.hasTrait(e)},t.prototype.toggleTrait=function(e,t){var n=this.getItem(t);n&&(n.hasTrait(e)?this.removeTraits(e,[t]):this.addTraits(e,[t]))},t.prototype.setTraits=function(e,t){if(0===t.length)this.removeTraits(e,t);else{for(var n,i={},r=0,o=t.length;r<o;r++)n=this.getItem(t[r]),n&&(i[n.id]=n);var s,a=this.traitsToItems[e]||{},c=[];for(s in a)a.hasOwnProperty(s)&&(i.hasOwnProperty(s)?delete i[s]:c.push(a[s]));for(var r=0,o=c.length;r<o;r++)n=c[r],n.removeTrait(e),delete a[n.id];for(s in i)i.hasOwnProperty(s)&&(n=i[s],n.addTrait(e),a[s]=n);this.traitsToItems[e]=a}},t.prototype.getElementsWithTrait=function(e,t){var n,i=[],r=this.traitsToItems[e]||{};for(n in r)r.hasOwnProperty(n)&&(r[n].isVisible()||t)&&i.push(r[n].getElement());return i},t.prototype.dispose=function(){this.registry&&(this.registry.dispose(),this.registry=null),e.prototype.dispose.call(this)},t}(s.EventEmitter);t.TreeModel=v}),define(l[877],h([1,0,42,188]),function(e,t,n,i){"use strict";var r=function(e){function t(){e.call(this),this.heightMap=[],this.indexes={}}return d(t,e),t.prototype.getTotalHeight=function(){var e=this.heightMap[this.heightMap.length-1];return e?e.top+e.height:0},t.prototype.onInsertItems=function(e,t){void 0===t&&(t=null);var n,i,r,o,s,a=0;if(null===t)r=0,s=0;else{if(r=this.indexes[t]+1,i=this.heightMap[r-1],!i)return void console.error("view item doesnt exist");s=i.top+i.height}for(var c=this.heightMap.splice.bind(this.heightMap,r,0),u=[];n=e.next();)i=this.createViewItem(n),i.top=s+a,this.emit("viewItem:create",{item:i.model}),this.indexes[n.id]=r++,u.push(i),a+=i.height;for(c.apply(this.heightMap,u),o=r;o<this.heightMap.length;o++)i=this.heightMap[o],i.top+=a,this.indexes[i.model.id]=o;for(o=u.length-1;o>=0;o--)this.onInsertItem(u[o]);for(o=this.heightMap.length-1;o>=r;o--)this.onRefreshItem(this.heightMap[o]);return a},t.prototype.onInsertItem=function(e){},t.prototype.onRemoveItems=function(e){for(var t,n,i,r=null,o=0;t=e.next();){if(i=this.indexes[t],n=this.heightMap[i],!n)return void console.error("view item doesnt exist");o-=n.height,delete this.indexes[t],this.onRemoveItem(n),null===r&&(r=i)}if(0!==o)for(this.heightMap.splice(r,i-r+1),i=r;i<this.heightMap.length;i++)n=this.heightMap[i],n.top+=o,this.indexes[n.model.id]=i,this.onRefreshItem(n)},t.prototype.onRemoveItem=function(e){},t.prototype.onRefreshItemSet=function(e){var t=this,n=e.sort(function(e,n){return t.indexes[e.id]-t.indexes[n.id]});this.onRefreshItems(new i.ArrayIterator(n))},t.prototype.onRefreshItems=function(e){for(var t,n,i,r,o=null,s=0;t=e.next();){for(r=this.indexes[t.id];0!==s&&null!==o&&o<r;o++)n=this.heightMap[o],n.top+=s,this.onRefreshItem(n);n=this.heightMap[r],i=t.getHeight(),n.top+=s,s+=i-n.height,n.height=i,this.onRefreshItem(n,!0),o=r+1}if(0!==s&&null!==o)for(;o<this.heightMap.length;o++)n=this.heightMap[o],n.top+=s,this.onRefreshItem(n)},t.prototype.onRefreshItem=function(e,t){void 0===t&&(t=!1)},t.prototype.itemsCount=function(){return this.heightMap.length},t.prototype.itemAt=function(e){return this.heightMap[this.indexAt(e)].model.id},t.prototype.withItemsInRange=function(e,t,n){e=this.indexAt(e),t=this.indexAt(t);for(var i=e;i<=t;i++)n(this.heightMap[i].model.id)},t.prototype.indexAt=function(e){for(var t,n,i=0,r=this.heightMap.length;i<r;)if(t=Math.floor((i+r)/2),n=this.heightMap[t],e<n.top)r=t;else{if(!(e>=n.top+n.height))return t;if(i===t)break;i=t}return this.heightMap.length},t.prototype.indexAfter=function(e){return Math.min(this.indexAt(e)+1,this.heightMap.length)},t.prototype.itemAtIndex=function(e){return this.heightMap[e]},t.prototype.itemAfter=function(e){return this.heightMap[this.indexes[e.model.id]+1]||null},t.prototype.createViewItem=function(e){throw new Error("not implemented")},t.prototype.dispose=function(){this.heightMap=null,this.indexes=null},t}(n.EventEmitter);t.HeightMap=r}),define(l[878],h([1,0,13,383]),function(e,t,n,i){"use strict";function r(e,t){return void 0===t&&(t=!1),n.globals.MonacoEnvironment&&n.globals.MonacoEnvironment.hasOwnProperty(e)?n.globals.MonacoEnvironment[e]:t}function o(t,n){return e.toUrl("./"+t)+"#"+n}var s=r("getWorkerUrl",null),a=s||o,c=function(){function e(e,t,n,i,r){this.id=t,this.worker=new Worker(a("workerMain.js",n)),this.postMessage(e),this.worker.onmessage=function(e){i(e.data)},"function"==typeof this.worker.addEventListener&&this.worker.addEventListener("error",r)}return e.prototype.getId=function(){return this.id},e.prototype.postMessage=function(e){this.worker&&this.worker.postMessage(e)},e.prototype.dispose=function(){this.worker.terminate(),this.worker=null},e}(),u=function(){function e(e){this._label=e,this._webWorkerFailedBeforeError=!1}return e.prototype.create=function(t,n,r){var o=this,s=++e.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new c(t,s,this._label||"anonymous"+s,n,function(e){i.logOnceWebWorkerWarning(e),o._webWorkerFailedBeforeError=e,r(e)})},e.LAST_WORKER_ID=0,e}();t.DefaultWorkerFactory=u}),define(l[879],h([9]),{}),define(l[29],h([1,0,2,21,5,12,119,8,879]),function(e,t,n,i,r,o,s,a){"use strict";function c(e,t){s.ok(i.isString(e),"Expected String as parameter");var n=document.getElementById(e);return n?new A(n,t):null}function u(e){return e[E]||(e[E]={}),e[E]}function l(e){return!!e[E]}function h(e,t){return e instanceof D?new D(e):new A(e.getHTMLElement(),t)}function p(e,t){return new A(e,t)}function f(){return new A(null,(!0))}function g(e,t,n){u(e)[t]=n}function v(e,t,n){if(l(e)){var r=u(e)[t];if(!i.isUndefined(r))return r}return n}function m(e,t){l(e)&&delete u(e)[t]}function y(e,t){g(e,_,t)}function b(e){m(e,_)}function S(e){return v(e,_)}t.withElementById=c,t.Build={withElementById:c};var E="_msDataKey",_="__$binding",C="__$listeners",w="__$visibility",I=function(){function e(e,t){this.x=e,this.y=t}return e}();t.Position=I;var T=function(){function e(e,t,n,i){this.top=e,this.right=t,this.bottom=n,this.left=i}return e}();t.Box=T;var x=function(){function e(e,t){this.width=e,this.height=t}return e.prototype.substract=function(t){return new e(this.width-t.left-t.right,this.height-t.top-t.bottom)},e}();t.Dimension=x;var A=function(){function e(e,t){this.offdom=t,this.container=e,this.currentElement=e,this.createdElements=[],this.toUnbind={},this.captureToUnbind={}}return e.prototype.asContainer=function(){return h(this,this.offdom)},e.prototype.clone=function(){var t=new e(this.container,this.offdom);return t.currentElement=this.currentElement,t.createdElements=this.createdElements,t.captureToUnbind=this.captureToUnbind,t.toUnbind=this.toUnbind,t},e.prototype.and=function(t){t instanceof e||t instanceof D||(t=new e(t,this.offdom));var n=[this];if(t instanceof D)for(var i=0;i<t.length;i++)n.push(t.item(i));else n.push(t);return new D(n)},e.prototype.build=function(t,n){s.ok(this.offdom,"This builder was not created off-dom, so build() can not be called."),t?t instanceof e&&(t=t.getHTMLElement()):t=this.container,s.ok(t,"Builder can only be build() with a container provided."),s.ok(a.isHTMLElement(t),"The container must either be a HTMLElement or a Builder.");var r,o,c=t,u=c.childNodes;if(i.isNumber(n)&&n<u.length)for(r=0,o=this.createdElements.length;r<o;r++)c.insertBefore(this.createdElements[r],u[n++]);else for(r=0,o=this.createdElements.length;r<o;r++)c.appendChild(this.createdElements[r]);return this},e.prototype.appendTo=function(t,n){t?t instanceof e&&(t=t.getHTMLElement()):t=this.container,s.ok(t,"Builder can only be build() with a container provided."),s.ok(a.isHTMLElement(t),"The container must either be a HTMLElement or a Builder.");var r=t;this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement);var o=r.childNodes;return i.isNumber(n)&&n<o.length?r.insertBefore(this.currentElement,o[n]):r.appendChild(this.currentElement),this},e.prototype.append=function(t,n){return s.ok(t,"Need a child to append"),a.isHTMLElement(t)&&(t=p(t)),s.ok(t instanceof e||t instanceof D,"Need a child to append"),t.appendTo(this,n),this},e.prototype.offDOM=function(){return this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement),this},e.prototype.getHTMLElement=function(){return this.currentElement},e.prototype.getContainer=function(){return this.container},e.prototype.div=function(e,t){return this.doElement("div",e,t)},e.prototype.p=function(e,t){return this.doElement("p",e,t)},e.prototype.ul=function(e,t){return this.doElement("ul",e,t)},e.prototype.ol=function(e,t){return this.doElement("ol",e,t)},e.prototype.li=function(e,t){return this.doElement("li",e,t)},e.prototype.span=function(e,t){return this.doElement("span",e,t)},e.prototype.img=function(e,t){return this.doElement("img",e,t)},e.prototype.a=function(e,t){return this.doElement("a",e,t)},e.prototype.header=function(e,t){return this.doElement("header",e,t)},e.prototype.section=function(e,t){return this.doElement("section",e,t)},e.prototype.footer=function(e,t){return this.doElement("footer",e,t)},e.prototype.element=function(e,t,n){return this.doElement(e,t,n)},e.prototype.doElement=function(t,n,r){var o=document.createElement(t);if(this.currentElement=o,this.offdom&&this.createdElements.push(o),i.isObject(n)&&this.attr(n),i.isFunction(n)&&(r=n),i.isFunction(r)){var s=new e(o);r.call(s,s)}return this.offdom||this.container.appendChild(o),this},e.prototype.domFocus=function(){return this.currentElement.focus(),this},e.prototype.hasFocus=function(){var e=document.activeElement;return e===this.currentElement},e.prototype.domSelect=function(e){void 0===e&&(e=null);var t=this.currentElement;return t.select(),e&&t.setSelectionRange(e.start,e.end),this},e.prototype.domBlur=function(){return this.currentElement.blur(),this},e.prototype.domClick=function(){return this.currentElement.click(),this},e.prototype.on=function(e,t,n,r){var o=this;if(i.isArray(e))e.forEach(function(e){o.on(e,t,n,r)});else{var s=e,c=a.addDisposableListener(this.currentElement,s,function(e){t(e,o,c)},r||!1);r?(this.captureToUnbind[s]||(this.captureToUnbind[s]=[]),this.captureToUnbind[s].push(c)):(this.toUnbind[s]||(this.toUnbind[s]=[]),this.toUnbind[s].push(c));var u=this.getProperty(C,[]);u.push(c),this.setProperty(C,u),n&&i.isArray(n)&&n.push(c)}return this},e.prototype.off=function(e,t){var n=this;if(i.isArray(e))e.forEach(function(e){n.off(e)});else{var o=e;t?this.captureToUnbind[o]&&(this.captureToUnbind[o]=r.dispose(this.captureToUnbind[o])):this.toUnbind[o]&&(this.toUnbind[o]=r.dispose(this.toUnbind[o]))}return this},e.prototype.once=function(e,t,n,r){var o=this;if(i.isArray(e))e.forEach(function(e){o.once(e,t)});else{var s=e,c=a.addDisposableListener(this.currentElement,s,function(e){t(e,o,c),c.dispose()},r||!1);n&&i.isArray(n)&&n.push(c)}return this},e.prototype.preventDefault=function(e,t,n,i){var r=function(e){e.preventDefault(),t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)};return this.on(e,r,n)},e.prototype.attr=function(e,t){if(i.isObject(e)){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];this.doSetAttr(n,r)}return this}return i.isString(e)&&!i.isString(t)?this.currentElement.getAttribute(e):(i.isString(e)&&(i.isString(t)||(t=String(t)),this.doSetAttr(e,t)),this)},e.prototype.doSetAttr=function(e,t){"class"===e&&(e="addClass"),this[e]?i.isArray(t)?this[e].apply(this,t):this[e].call(this,t):this.currentElement.setAttribute(e,t)},e.prototype.removeAttribute=function(e){this.currentElement.removeAttribute(e)},e.prototype.id=function(e){return this.currentElement.setAttribute("id",e),this},e.prototype.src=function(e){return this.currentElement.setAttribute("src",e),this},e.prototype.href=function(e){return this.currentElement.setAttribute("href",e),this},e.prototype.title=function(e){return this.currentElement.setAttribute("title",e),this},e.prototype.name=function(e){return this.currentElement.setAttribute("name",e),this},e.prototype.type=function(e){return this.currentElement.setAttribute("type",e),this},e.prototype.value=function(e){return this.currentElement.setAttribute("value",e),this},e.prototype.alt=function(e){return this.currentElement.setAttribute("alt",e),this},e.prototype.draggable=function(e){return this.currentElement.setAttribute("draggable",e?"true":"false"),this},e.prototype.tabindex=function(e){return this.currentElement.setAttribute("tabindex",e.toString()),this},e.prototype.style=function(e,t){if(i.isObject(e)){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];this.doSetStyle(n,r)}}else{if(i.isString(e)&&!i.isString(t))return this.currentElement.style[this.cssKeyToJavaScriptProperty(e)];i.isString(e)&&i.isString(t)&&this.doSetStyle(e,t)}return this},e.prototype.doSetStyle=function(e,t){if(e.indexOf("-")>=0){var n=e.split("-");e=n[0];for(var i=1;i<n.length;i++){var r=n[i];e=e+r.charAt(0).toUpperCase()+r.substr(1)}}this.currentElement.style[this.cssKeyToJavaScriptProperty(e)]=t},e.prototype.cssKeyToJavaScriptProperty=function(e){if(e.indexOf("-")>=0){var t=e.split("-");e=t[0];for(var n=1;n<t.length;n++){var i=t[n];e=e+i.charAt(0).toUpperCase()+i.substr(1)}}else"float"===e&&(e="cssFloat");return e},e.prototype.getComputedStyle=function(){return a.getComputedStyle(this.currentElement)},e.prototype.addClass=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];return t.forEach(function(t){var n=t.split(" ");n.forEach(function(t){a.addClass(e.currentElement,t)})}),this},e.prototype.setClass=function(e,t){return void 0===t&&(t=null),null===t?this.currentElement.className=e:t?this.addClass(e):this.removeClass(e),this},e.prototype.hasClass=function(e){return a.hasClass(this.currentElement,e)},e.prototype.removeClass=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];return t.forEach(function(t){var n=t.split(" ");n.forEach(function(t){a.removeClass(e.currentElement,t)})}),this},e.prototype.swapClass=function(e,t){return this.hasClass(e)?(this.removeClass(e),this.addClass(t)):(this.removeClass(t),this.addClass(e)),this},e.prototype.toggleClass=function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e),this},e.prototype.color=function(e){return this.currentElement.style.color=e,this},e.prototype.background=function(e){return this.currentElement.style.backgroundColor=e,this},e.prototype.padding=function(e,t,n,r){return i.isString(e)&&e.indexOf(" ")>=0?this.padding.apply(this,e.split(" ")):(i.isUndefinedOrNull(e)||(this.currentElement.style.paddingTop=this.toPixel(e)),i.isUndefinedOrNull(t)||(this.currentElement.style.paddingRight=this.toPixel(t)),i.isUndefinedOrNull(n)||(this.currentElement.style.paddingBottom=this.toPixel(n)),i.isUndefinedOrNull(r)||(this.currentElement.style.paddingLeft=this.toPixel(r)),this)},e.prototype.margin=function(e,t,n,r){return i.isString(e)&&e.indexOf(" ")>=0?this.margin.apply(this,e.split(" ")):(i.isUndefinedOrNull(e)||(this.currentElement.style.marginTop=this.toPixel(e)),i.isUndefinedOrNull(t)||(this.currentElement.style.marginRight=this.toPixel(t)),i.isUndefinedOrNull(n)||(this.currentElement.style.marginBottom=this.toPixel(n)),i.isUndefinedOrNull(r)||(this.currentElement.style.marginLeft=this.toPixel(r)),this)},e.prototype.position=function(e,t,n,r,o){return i.isString(e)&&e.indexOf(" ")>=0?this.position.apply(this,e.split(" ")):(i.isUndefinedOrNull(e)||(this.currentElement.style.top=this.toPixel(e)),i.isUndefinedOrNull(t)||(this.currentElement.style.right=this.toPixel(t)),i.isUndefinedOrNull(n)||(this.currentElement.style.bottom=this.toPixel(n)),i.isUndefinedOrNull(r)||(this.currentElement.style.left=this.toPixel(r)),o||(o="absolute"),this.currentElement.style.position=o,this)},e.prototype.size=function(e,t){return i.isString(e)&&e.indexOf(" ")>=0?this.size.apply(this,e.split(" ")):(i.isUndefinedOrNull(e)||(this.currentElement.style.width=this.toPixel(e)),i.isUndefinedOrNull(t)||(this.currentElement.style.height=this.toPixel(t)),this)},e.prototype.minSize=function(e,t){return i.isString(e)&&e.indexOf(" ")>=0?this.minSize.apply(this,e.split(" ")):(i.isUndefinedOrNull(e)||(this.currentElement.style.minWidth=this.toPixel(e)),i.isUndefinedOrNull(t)||(this.currentElement.style.minHeight=this.toPixel(t)),this)},e.prototype.maxSize=function(e,t){return i.isString(e)&&e.indexOf(" ")>=0?this.maxSize.apply(this,e.split(" ")):(i.isUndefinedOrNull(e)||(this.currentElement.style.maxWidth=this.toPixel(e)),i.isUndefinedOrNull(t)||(this.currentElement.style.maxHeight=this.toPixel(t)),this)},e.prototype.float=function(e){return this.currentElement.style.cssFloat=e,this},e.prototype.clear=function(e){return this.currentElement.style.clear=e,this},e.prototype.normal=function(){return this.currentElement.style.fontStyle="normal",this.currentElement.style.fontWeight="normal",this.currentElement.style.textDecoration="none",this},e.prototype.italic=function(){return this.currentElement.style.fontStyle="italic",this},e.prototype.bold=function(){return this.currentElement.style.fontWeight="bold",this},e.prototype.underline=function(){return this.currentElement.style.textDecoration="underline",this},e.prototype.overflow=function(e){return this.currentElement.style.overflow=e,this},e.prototype.display=function(e){return this.currentElement.style.display=e,this},e.prototype.disable=function(){return this.currentElement.setAttribute("disabled","disabled"),this},e.prototype.enable=function(){return this.currentElement.removeAttribute("disabled"),this},e.prototype.show=function(){return this.hasClass("hidden")&&this.removeClass("hidden"),this.attr("aria-hidden","false"),this.cancelVisibilityPromise(),this},e.prototype.showDelayed=function(e){var t=this;this.cancelVisibilityPromise();var i=n.TPromise.timeout(e);return this.setProperty(w,i),i.done(function(){t.removeProperty(w),t.show()}),this},e.prototype.hide=function(){return this.hasClass("hidden")||this.addClass("hidden"),this.attr("aria-hidden","true"),this.cancelVisibilityPromise(),this},e.prototype.isHidden=function(){return this.hasClass("hidden")||"none"===this.currentElement.style.display},e.prototype.toggleVisibility=function(){return this.cancelVisibilityPromise(),this.swapClass("builder-visible","hidden"),this.isHidden()?this.attr("aria-hidden","true"):this.attr("aria-hidden","false"),this},e.prototype.cancelVisibilityPromise=function(){var e=this.getProperty(w);e&&(e.cancel(),this.removeProperty(w))},e.prototype.border=function(e,t,n){return i.isString(e)&&e.indexOf(" ")>=0?this.border.apply(this,e.split(" ")):(this.currentElement.style.borderWidth=this.toPixel(e),n&&(this.currentElement.style.borderColor=n),t&&(this.currentElement.style.borderStyle=t),this)},e.prototype.borderTop=function(e,t,n){return i.isString(e)&&e.indexOf(" ")>=0?this.borderTop.apply(this,e.split(" ")):(this.currentElement.style.borderTopWidth=this.toPixel(e),n&&(this.currentElement.style.borderTopColor=n),t&&(this.currentElement.style.borderTopStyle=t),this)},e.prototype.borderBottom=function(e,t,n){return i.isString(e)&&e.indexOf(" ")>=0?this.borderBottom.apply(this,e.split(" ")):(this.currentElement.style.borderBottomWidth=this.toPixel(e),n&&(this.currentElement.style.borderBottomColor=n),t&&(this.currentElement.style.borderBottomStyle=t),this)},e.prototype.borderLeft=function(e,t,n){return i.isString(e)&&e.indexOf(" ")>=0?this.borderLeft.apply(this,e.split(" ")):(this.currentElement.style.borderLeftWidth=this.toPixel(e),n&&(this.currentElement.style.borderLeftColor=n),t&&(this.currentElement.style.borderLeftStyle=t),this)},e.prototype.borderRight=function(e,t,n){return i.isString(e)&&e.indexOf(" ")>=0?this.borderRight.apply(this,e.split(" ")):(this.currentElement.style.borderRightWidth=this.toPixel(e),n&&(this.currentElement.style.borderRightColor=n),t&&(this.currentElement.style.borderRightStyle=t),this)},e.prototype.textAlign=function(e){return this.currentElement.style.textAlign=e,this},e.prototype.verticalAlign=function(e){return this.currentElement.style.verticalAlign=e,this},e.prototype.toPixel=function(e){return e.toString().indexOf("px")===-1?e.toString()+"px":e},e.prototype.innerHtml=function(e,t){return t?this.currentElement.innerHTML+=e:this.currentElement.innerHTML=e,this},e.prototype.text=function(e,t){return t?0===this.currentElement.children.length?this.currentElement.textContent+=e:this.currentElement.appendChild(document.createTextNode(e)):this.currentElement.textContent=e,this},e.prototype.safeInnerHtml=function(e,t){return this.innerHtml(o.escape(e),t)},e.prototype.bind=function(e){return y(this.currentElement,e),this},e.prototype.unbind=function(){return b(this.currentElement),this},e.prototype.getBinding=function(){return S(this.currentElement)},e.prototype.setProperty=function(e,t){return g(this.currentElement,e,t),this},e.prototype.getProperty=function(e,t){return v(this.currentElement,e,t)},e.prototype.removeProperty=function(e){return l(this.currentElement)&&delete u(this.currentElement)[e],this},e.prototype.parent=function(e){return s.ok(!this.offdom,"Builder was created with offdom = true and thus has no parent set"),p(this.currentElement.parentNode,e)},e.prototype.children=function(e){for(var t=this.currentElement.children,n=[],i=0;i<t.length;i++)n.push(p(t.item(i),e));return new D(n)},e.prototype.child=function(e){void 0===e&&(e=0);var t=this.currentElement.children;return p(t.item(e))},e.prototype.removeChild=function(e){return this.currentElement===e.parent().getHTMLElement()&&this.currentElement.removeChild(e.getHTMLElement()),this},e.prototype.select=function(e,t){s.ok(i.isString(e),"Expected String as parameter");for(var n=this.currentElement.querySelectorAll(e),r=[],o=0;o<n.length;o++)r.push(p(n.item(o),t));return new D(r)},e.prototype.matches=function(e){var t=this.currentElement,n=t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return n&&n.call(t,e)},e.prototype.isEmpty=function(){return!this.currentElement.childNodes||0===this.currentElement.childNodes.length},e.prototype.unbindDescendants=function(e){if(e&&e.children)for(var t=0,n=e.children.length;t<n;t++){var r=e.children.item(t);if(l(r)){var o=u(r)[C];if(i.isArray(o))for(;o.length;)o.pop().dispose();delete r[E]}this.unbindDescendants(r)}},e.prototype.empty=function(){return this.unbindDescendants(this.currentElement),this.clearChildren(),this.offdom&&(this.createdElements=[]),this},e.prototype.clearChildren=function(){return this.currentElement&&a.clearNode(this.currentElement),this},e.prototype.destroy=function(){if(this.currentElement&&(this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement),this.empty(),l(this.currentElement))){var e=u(this.currentElement)[C];if(i.isArray(e))for(;e.length;)e.pop().dispose();delete this.currentElement[E]}var t;for(t in this.toUnbind)this.toUnbind.hasOwnProperty(t)&&i.isArray(this.toUnbind[t])&&(this.toUnbind[t]=r.dispose(this.toUnbind[t]));for(t in this.captureToUnbind)this.captureToUnbind.hasOwnProperty(t)&&i.isArray(this.captureToUnbind[t])&&(this.captureToUnbind[t]=r.dispose(this.captureToUnbind[t]));this.currentElement=null,this.container=null,this.offdom=null,this.createdElements=null,this.captureToUnbind=null,this.toUnbind=null},e.prototype.dispose=function(){this.destroy()},e.prototype.getTotalSize=function(){var e=a.getTotalWidth(this.currentElement),t=a.getTotalHeight(this.currentElement);return new x(e,t)},e.prototype.getContentSize=function(){var e=a.getContentWidth(this.currentElement),t=a.getContentHeight(this.currentElement);return new x(e,t)},e.prototype.getClientArea=function(){if(this.currentElement!==document.body)return new x(this.currentElement.clientWidth,this.currentElement.clientHeight);if(window.innerWidth&&window.innerHeight)return new x(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientWidth)return new x(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new x(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")},e}();t.Builder=A;var D=function(e){function t(n){if(s.ok(i.isArray(n)||n instanceof t,"Expected Array or MultiBuilder as parameter"),e.call(this),this.length=0,this.builders=[],i.isArray(n))for(var r=0;r<n.length;r++)n[r]instanceof HTMLElement?this.push(p(n[r])):this.push(n[r]);else for(var r=0;r<n.length;r++)this.push(n.item(r));var o=this,a=function(e){o[e]=function(){for(var n,r=Array.prototype.slice.call(arguments),s=!1,a=0;a<o.length;a++){var c=o.item(a)[e].apply(o.item(a),r);if(c instanceof t){n||(n=[]),s=!0;for(var u=0;u<c.length;u++)n.push(c.item(u))}else i.isUndefined(c)||c instanceof A||(n||(n=[]),n.push(c))}return n&&s?new t(n):n||o}};for(var c in A.prototype)"clone"!==c&&"and"!==c&&A.prototype.hasOwnProperty(c)&&i.isFunction(A.prototype[c])&&a(c)}return d(t,e),t.prototype.item=function(e){return this.builders[e]},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var n=0;n<e.length;n++)this.builders.push(e[n]);this.length=this.builders.length},t.prototype.pop=function(){var e=this.builders.pop();return this.length=this.builders.length,e},t.prototype.concat=function(e){var t=this.builders.concat(e);return this.length=this.builders.length,t},t.prototype.shift=function(){var e=this.builders.shift();return this.length=this.builders.length,e},t.prototype.unshift=function(e){var t=this.builders.unshift(e);return this.length=this.builders.length,t},t.prototype.slice=function(e,t){var n=this.builders.slice(e,t);return this.length=this.builders.length,n},t.prototype.splice=function(e,t){var n=this.builders.splice(e,t);return this.length=this.builders.length,n},t.prototype.clone=function(){return new t(this)},t.prototype.and=function(e){e instanceof A||e instanceof t||(e=new A(e));var n=[];if(e instanceof t)for(var i=0;i<e.length;i++)n.push(e.item(i));else n.push(e);return this.push.apply(this,n),this},t}(A);t.MultiBuilder=D,t.setPropertyOnElement=g,t.getPropertyFromElement=v,t.removePropertyFromElement=m,t.bindElement=y,t.unbindElement=b,t.getBindingFromElement=S,t.Binding={setPropertyOnElement:g,getPropertyFromElement:v,removePropertyFromElement:m,bindElement:y,unbindElement:b,getBindingFromElement:S};var L=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/;t.$=function(e){if(i.isUndefined(e))return f();if(!e)throw new Error("Bad use of $");if(a.isHTMLElement(e)||e===window)return p(e);if(i.isArray(e))return new D(e);if(e instanceof A)return h(e);if(i.isString(e)){if("<"===e[0]){var t=void 0,n=document.createElement("div");if(n.innerHTML=o.format.apply(o,arguments),0===n.children.length)throw new Error("Bad use of $");if(1===n.children.length)return t=n.firstChild,n.removeChild(t),p(t);for(var r=[];n.firstChild;)t=n.firstChild,n.removeChild(t),r.push(p(t));return new D(r)}if(1===arguments.length){var s=L.exec(e);if(!s)throw new Error("Bad use of $");var c=s[1]||"div",u=s[3]||void 0,l=(s[4]||"").replace(/\./g," "),d={};
return u&&(d.id=u),l&&(d.class=l),f().element(c,d)}var g=f();return g.element.apply(g,arguments),g}throw new Error("Bad use of $")},t.$.Box=T,t.$.Dimension=x,t.$.Position=I,t.$.Builder=A,t.$.MultiBuilder=D,t.$.Build=t.Build,t.$.Binding=t.Binding}),define(l[176],h([1,0,29,16]),function(e,t,n,i){"use strict";function r(e,t){var n=[];if(e.dataTransfer.types.length>0){if(!t){var r=e.dataTransfer.getData(e.dataTransfer.types[0]);if(r)try{n.push({resource:i.default.parse(r),isExternal:!1})}catch(e){}}if(e.dataTransfer&&e.dataTransfer.files)for(var o=0;o<e.dataTransfer.files.length;o++)if(e.dataTransfer.files[o]&&e.dataTransfer.files[o].path)try{n.push({resource:i.default.file(e.dataTransfer.files[o].path),isExternal:!0})}catch(e){}}return n}var o=function(){function e(e,t){var i=this;n.$(e).on("dragover",function(){i.timeout||(i.timeout=setTimeout(function(){t(),i.timeout=null},800))}),n.$(e).on(["dragleave","drop","dragend"],function(){return i.clearDragTimeout()})}return e.prototype.clearDragTimeout=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},e.prototype.dispose=function(){this.clearDragTimeout()},e}();t.DelayedDragHandler=o,t.extractResources=r}),define(l[888],h([9]),{}),define(l[890],h([9]),{}),define(l[891],h([9]),{}),define(l[214],h([1,0,42,8,29,78,891]),function(e,t,n,i,r,o){"use strict";var s=function(e){function t(t){var n=this;e.call(this),this.$el=r.$("a.monaco-button").attr({tabIndex:"0",role:"button"}).appendTo(t),this.$el.on(i.EventType.CLICK,function(e){return n.enabled?void n.emit(i.EventType.CLICK,e):void i.EventHelper.stop(e)}),this.$el.on(i.EventType.KEY_DOWN,function(e){var t=new o.StandardKeyboardEvent(e),r=!1;n.enabled&&t.equals(3)||t.equals(10)?(n.emit(i.EventType.CLICK,e),r=!0):t.equals(9)&&(n.$el.domBlur(),r=!0),r&&i.EventHelper.stop(t,!0)})}return d(t,e),t.prototype.getElement=function(){return this.$el.getHTMLElement()},Object.defineProperty(t.prototype,"label",{set:function(e){this.$el.hasClass("monaco-text-button")||this.$el.addClass("monaco-text-button"),this.$el.text(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{set:function(e){this.$el.addClass(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return!this.$el.hasClass("disabled")},set:function(e){e?(this.$el.removeClass("disabled"),this.$el.attr({"aria-disabled":"false",tabIndex:"0"})):(this.$el.addClass("disabled"),this.$el.attr("aria-disabled",String(!0)),i.removeTabIndexAndUpdateFocus(this.$el.getHTMLElement()))},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this.$el.domFocus()},t.prototype.dispose=function(){this.$el&&(this.$el.dispose(),this.$el=null),e.prototype.dispose.call(this)},t}(n.EventEmitter);t.Button=s}),define(l[897],h([9]),{}),define(l[394],h([1,0,8,94,897]),function(e,t,n,i){"use strict";var r=function(e){function t(t){var n=this;e.call(this),this._opts=t,this._checked=this._opts.isChecked,this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.className=this._className(),this.domNode.tabIndex=0,this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.onclick(this.domNode,function(e){n.checked=!n._checked,n._opts.onChange(!1),e.preventDefault()}),this.onkeydown(this.domNode,function(e){return 10===e.keyCode||3===e.keyCode?(n.checked=!n._checked,n._opts.onChange(!0),void e.preventDefault()):void(n._opts.onKeyDown&&n._opts.onKeyDown(e))})}return d(t,e),t.prototype.focus=function(){this.domNode.focus()},Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.className=this._className()},enumerable:!0,configurable:!0}),t.prototype._className=function(){return"custom-checkbox "+this._opts.actionClassName+" "+(this._checked?"checked":"unchecked")},t.prototype.width=function(){return 22},t.prototype.enable=function(){this.domNode.tabIndex=0,this.domNode.setAttribute("aria-disabled",String(!1))},t.prototype.disable=function(){n.removeTabIndexAndUpdateFocus(this.domNode),this.domNode.setAttribute("aria-disabled",String(!0))},t}(i.Widget);t.Checkbox=r}),define(l[908],h([9]),{}),define(l[389],h([1,0,29,8,5,42,908]),function(e,t,n,i,r,o){"use strict";function s(e,t,n,i,r){var o=function(e,t,n,i){return t?e:i?n:e},s=function(e,t,n,i,r){return r?o(e,t,n,i):o(n,i,e,t)},u=function(){var r=t.top-e.height,o=t.top+t.height,a=r>=n.top&&r+e.height<=n.top+n.height,u=o>=n.top&&o+e.height<=n.top+n.height;return s(r,a,o,u,i===c.ABOVE)}(),l=function(){var i=t.left,o=t.left+t.width-e.width,c=i>=n.left&&i+e.width<=n.left+n.width,u=o>=n.left&&o+e.width<=n.left+n.width;return s(i,c,o,u,r===a.LEFT)}();return{top:u,left:l}}!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(t.AnchorAlignment||(t.AnchorAlignment={}));var a=t.AnchorAlignment;!function(e){e[e.BELOW=0]="BELOW",e[e.ABOVE=1]="ABOVE"}(t.AnchorPosition||(t.AnchorPosition={}));var c=t.AnchorPosition,u=function(e){function t(t){var i=this;e.call(this),this.$view=n.$(".context-view").hide(),this.setContainer(t),this.toDispose=[{dispose:function(){i.setContainer(null)}}],this.toDisposeOnClean=null}return d(t,e),t.prototype.setContainer=function(e){var i=this;this.$container&&(this.$container.off(t.BUBBLE_UP_EVENTS),this.$container.off(t.BUBBLE_DOWN_EVENTS,!0),this.$container=null),e&&(this.$container=n.$(e),this.$view.appendTo(this.$container),this.$container.on(t.BUBBLE_UP_EVENTS,function(e){i.onDOMEvent(e,document.activeElement,!1)}),this.$container.on(t.BUBBLE_DOWN_EVENTS,function(e){i.onDOMEvent(e,document.activeElement,!0)},null,!0))},t.prototype.show=function(e){this.isVisible()&&this.hide(),this.$view.setClass("context-view").empty().style({top:"0px",left:"0px"}).show(),this.toDisposeOnClean=e.render(this.$view.getHTMLElement()),this.delegate=e,this.doLayout()},t.prototype.layout=function(){if(this.isVisible()){if(this.delegate.canRelayout===!1)return void this.hide();this.delegate.layout&&this.delegate.layout(),this.doLayout()}},t.prototype.doLayout=function(){var e,t=this.delegate.getAnchor();if(i.isHTMLElement(t)){var n=i.getDomNodePagePosition(t);e={top:n.top,left:n.left,width:n.width,height:n.height}}else{var r=t;e={top:r.y,left:r.x,width:r.width||0,height:r.height||0}}var o={top:i.StandardWindow.scrollY,left:i.StandardWindow.scrollX,height:window.innerHeight,width:window.innerWidth},u=this.$view.getTotalSize(),l={width:u.width,height:u.height},h=this.delegate.anchorPosition||c.BELOW,d=this.delegate.anchorAlignment||a.LEFT,p=s(l,e,o,h,d),f=i.getDomNodePagePosition(this.$container.getHTMLElement());p.top-=f.top,p.left-=f.left,this.$view.removeClass("top","bottom","left","right"),this.$view.addClass(h===c.BELOW?"bottom":"top"),this.$view.addClass(d===a.LEFT?"left":"right"),this.$view.style({top:p.top+"px",left:p.left+"px",width:"initial"})},t.prototype.hide=function(e){this.delegate&&this.delegate.onHide&&this.delegate.onHide(e),this.delegate=null,this.toDisposeOnClean&&(this.toDisposeOnClean.dispose(),this.toDisposeOnClean=null),this.$view.hide()},t.prototype.isVisible=function(){return!!this.delegate},t.prototype.onDOMEvent=function(e,t,n){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):n&&!i.isAncestor(e.target,this.$container.getHTMLElement())&&this.hide())},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.hide(),this.toDispose=r.dispose(this.toDispose)},t.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],t.BUBBLE_DOWN_EVENTS=["click"],t}(o.EventEmitter);t.ContextView=u}),define(l[912],h([9]),{}),define(l[218],h([1,0,29,12,912]),function(e,t,n,i){"use strict";var r=function(){function e(e,t,i){this.$el=n.$(".monaco-count-badge").appendTo(e),this.titleFormat=i||"",this.setCount(t||0)}return e.prototype.setCount=function(e){this.count=e,this.render()},e.prototype.setTitleFormat=function(e){this.titleFormat=e,this.render()},e.prototype.render=function(){this.$el.text(""+this.count),this.$el.title(i.format(this.titleFormat,this.count))},e.prototype.dispose=function(){this.$el&&(this.$el.destroy(),this.$el=null)},e}();t.CountBadge=r}),define(l[926],h([9]),{}),define(l[943],h([9]),{}),define(l[952],h([9]),{}),define(l[954],h([9]),{}),define(l[958],h([9]),{}),define(l[371],h([1,0,29,958]),function(e,t,n){"use strict";var i=function(){function e(e,t,i){this.$el=n.$(".monaco-left-right-widget").appendTo(e),this.toDispose=[i(n.$(".right").appendTo(this.$el).getHTMLElement()),t(n.$("span.left").appendTo(this.$el).getHTMLElement())].filter(function(e){return!!e})}return e.prototype.dispose=function(){this.$el&&(this.$el.destroy(),this.$el=null)},e}();t.LeftRightWidget=i}),define(l[316],h([9]),{}),define(l[972],h([9]),{}),define(l[284],h([1,0,12,972]),function(e,t,n){"use strict";function i(e){return e.replace(/\$\(([^)]+)\)/g,function(e,t){return'<span class="octicon octicon-'+t+'"></span>'})}t.expand=i;var r=function(){function e(e){this._container=e}return Object.defineProperty(e.prototype,"text",{set:function(e){var t=e||"";t=n.escape(t),t=i(t),this._container.innerHTML=t},enumerable:!0,configurable:!0}),e}();t.OcticonLabel=r}),define(l[221],h([1,0,12,8,30,284]),function(e,t,n,i,r,o){"use strict";var s=function(){function e(e){this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",this.didEverRender=!1,e.appendChild(this.domNode)}return Object.defineProperty(e.prototype,"element",{get:function(){return this.domNode},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){void 0===t&&(t=[]),e||(e=""),this.didEverRender&&this.text===e&&r.equals(this.highlights,t)||(Array.isArray(t)||(t=[]),this.text=e,this.highlights=t,this.render())},e.prototype.render=function(){i.clearNode(this.domNode);for(var e,t=[],r=0,s=0;s<this.highlights.length;s++)e=this.highlights[s],e.end!==e.start&&(r<e.start&&(t.push("<span>"),t.push(o.expand(n.escape(this.text.substring(r,e.start)))),t.push("</span>"),r=e.end),t.push('<span class="highlight">'),t.push(o.expand(n.escape(this.text.substring(e.start,e.end)))),t.push("</span>"),r=e.end);r<this.text.length&&(t.push("<span>"),t.push(o.expand(n.escape(this.text.substring(r)))),t.push("</span>")),this.domNode.innerHTML=t.join(""),this.didEverRender=!0},e.prototype.dispose=function(){this.text=null,this.highlights=null},e}();t.HighlightedLabel=s}),define(l[281],h([1,0,8,221,20,21,81,952]),function(e,t,n,i,r,o,s){"use strict";function a(e){if(!e)return null;if(o.isFunction(e.getWorkspace)){var t=e.getWorkspace();return t?t.resource.fsPath:void 0}return e.fsPath}var c=function(){function e(e,t){this.domNode=n.append(e,n.$(".monaco-icon-label")),t&&t.supportHighlights?this.labelNode=new i.HighlightedLabel(n.append(this.domNode,n.$("a.label-name"))):this.labelNode=n.append(this.domNode,n.$("a.label-name")),this.descriptionNode=n.append(this.domNode,n.$("span.label-description"))}return Object.defineProperty(e.prototype,"element",{get:function(){return this.domNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelElement",{get:function(){var e=this.labelNode;return e instanceof i.HighlightedLabel?e.element:e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptionElement",{get:function(){return this.descriptionNode},enumerable:!0,configurable:!0}),e.prototype.setValue=function(e,t,r){var o=this.labelNode;o instanceof i.HighlightedLabel?o.set(e||"",r?r.matches:void 0):o.textContent=e||"",this.descriptionNode.textContent=t||"",t?n.removeClass(this.descriptionNode,"empty"):n.addClass(this.descriptionNode,"empty"),this.domNode.title=r&&r.title?r.title:"";var s=["monaco-icon-label"];r&&(r.extraClasses&&s.push.apply(s,r.extraClasses),r.italic&&s.push("italic")),this.domNode.className=s.join(" ")},e.prototype.dispose=function(){var e=this.labelNode;e instanceof i.HighlightedLabel&&e.dispose()},e}();t.IconLabel=c;var u=function(e){function t(t,n,i){e.call(this,t),this.setFile(n,i)}return d(t,e),t.prototype.setFile=function(e,t){var n=a(e),i=r.dirname(n);this.setValue(r.basename(n),i&&"."!==i?s.getPathLabel(i,t):"",{title:n})},t}(c);t.FileLabel=u}),define(l[301],h([9]),{}),define(l[264],h([1,0,2,119,48,29,8,95,5,301]),function(e,t,n,i,r,o,s,a,c){"use strict";var u="done",l="active",h="infinite",d="discrete",p="progress-container",f="progress-bit",g=function(){function e(e){this.toUnbind=[],this.workedVal=0,this.create(e)}return e.prototype.create=function(e){var t=this;e.div({class:p},function(e){t.element=e.clone(),e.div({class:f}).on([s.EventType.ANIMATION_START,s.EventType.ANIMATION_END,s.EventType.ANIMATION_ITERATION],function(e){switch(e.type){case s.EventType.ANIMATION_START:case s.EventType.ANIMATION_END:t.animationRunning=e.type===s.EventType.ANIMATION_START;break;case s.EventType.ANIMATION_ITERATION:t.animationStopToken&&t.animationStopToken(null)}},t.toUnbind),t.bit=e.getHTMLElement()})},e.prototype.off=function(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.removeClass(l),this.element.removeClass(h),this.element.removeClass(d),this.workedVal=0,this.totalWork=void 0},e.prototype.done=function(){return this.doDone(!0)},e.prototype.stop=function(){return this.doDone(!1)},e.prototype.doDone=function(e){var t=this;return this.element.addClass(u),this.element.hasClass(h)?(this.bit.style.opacity="0",e?n.TPromise.timeout(200).then(function(){return t.off()}):this.off()):(this.bit.style.width="inherit",e?n.TPromise.timeout(200).then(function(){return t.off()}):this.off()),this},e.prototype.infinite=function(){if(this.bit.style.width="2%",this.bit.style.opacity="1",this.element.removeClass(d),this.element.removeClass(u),this.element.addClass(l),this.element.addClass(h),!r.hasCSSAnimationSupport()){var e=a.v4().asHex();this.currentProgressToken=e,this.manualInfinite(e)}return this},e.prototype.manualInfinite=function(e){var t=this;this.bit.style.width="5%",this.bit.style.display="inherit";var i=0,r=function(){n.TPromise.timeout(50).then(function(){e===t.currentProgressToken&&(t.element.hasClass(u)?(t.bit.style.display="none",t.bit.style.left="0"):t.element.isHidden()?r():(i=(i+1)%95,t.bit.style.left=i+"%",r()))})};r()},e.prototype.total=function(e){return this.workedVal=0,this.totalWork=e,this},e.prototype.hasTotal=function(){return!isNaN(this.totalWork)},e.prototype.worked=function(e){return i.ok(!isNaN(this.totalWork),"Total work not set"),e=Number(e),i.ok(!isNaN(e),"Value is not a number"),e=Math.max(1,e),this.workedVal+=e,this.workedVal=Math.min(this.totalWork,this.workedVal),this.element.hasClass(h)&&this.element.removeClass(h),this.element.hasClass(u)&&this.element.removeClass(u),this.element.hasClass(l)||this.element.addClass(l),this.element.hasClass(d)||this.element.addClass(d),this.bit.style.width=100*(this.workedVal/this.totalWork)+"%",this},e.prototype.getContainer=function(){return o.$(this.element)},e.prototype.dispose=function(){this.toUnbind=c.dispose(this.toUnbind)},e}();t.ProgressBar=g}),define(l[1026],h([9]),{}),define(l[1027],h([9]),{}),define(l[141],h([1,0,5,29,48,13,21,8,143,42,79,11,1027]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";!function(e){e[e.VERTICAL=0]="VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL"}(t.Orientation||(t.Orientation={}));var p=t.Orientation,f=function(e){function t(t,n,s){var u=this;void 0===s&&(s={}),e.call(this),this.$e=i.$(".monaco-sash").appendTo(t),o.isMacintosh&&this.$e.addClass("mac"),this.gesture=new c.Gesture(this.$e.getHTMLElement()),this.$e.on(a.EventType.MOUSE_DOWN,function(e){u.onMouseDown(e)}),this.$e.on(a.EventType.DBLCLICK,function(e){u.emit("reset",e)}),this.$e.on(c.EventType.Start,function(e){u.onTouchStart(e)}),this.size=s.baseSize||5,r.isIPad&&(this.size*=4,this.$e.addClass("touch")),this.setOrientation(s.orientation||p.VERTICAL),this.isDisabled=!1,this.hidden=!1,this.layoutProvider=n}return d(t,e),t.prototype.getHTMLElement=function(){return this.$e.getHTMLElement()},t.prototype.setOrientation=function(e){this.orientation=e,this.$e.removeClass("horizontal","vertical"),this.$e.addClass(this.getOrientation()),this.orientation===p.HORIZONTAL?this.$e.size(null,this.size):this.$e.size(this.size),this.layoutProvider&&this.layout()},t.prototype.getOrientation=function(){return this.orientation===p.HORIZONTAL?"horizontal":"vertical"},t.prototype.onMouseDown=function(e){var t=this;if(a.EventHelper.stop(e,!1),!this.isDisabled){var n=i.$(a.getElementsByTagName("iframe"));n&&n.style("pointer-events","none");var r=new l.StandardMouseEvent(e),s=r.posx,c=r.posy,u={startX:s,currentX:s,startY:c,currentY:c};this.$e.addClass("active"),this.emit("start",u);var h=i.$(window),d=this.getOrientation()+"-cursor-container"+(o.isMacintosh?"-mac":""),p=s,f=c;h.on("mousemove",function(e){a.EventHelper.stop(e,!1);var n=new l.StandardMouseEvent(e),i={startX:s,currentX:n.posx,startY:c,currentY:n.posy};p=n.posx,f=n.posy,t.emit("change",i)}).once("mouseup",function(e){a.EventHelper.stop(e,!1),t.$e.removeClass("active"),t.emit("end"),h.off("mousemove"),document.body.classList.remove(d);var n=i.$(a.getElementsByTagName("iframe"));n&&n.style("pointer-events","auto")}),document.body.classList.add(d)}},t.prototype.onTouchStart=function(e){var t=this;a.EventHelper.stop(e);var i=[],r=e.pageX,o=e.pageY;this.emit("start",{startX:r,currentX:r,startY:o,currentY:o});var u=r,l=o;i.push(a.addDisposableListener(this.$e.getHTMLElement(),c.EventType.Change,function(e){s.isNumber(e.pageX)&&s.isNumber(e.pageY)&&(t.emit("change",{startX:r,currentX:e.pageX,startY:o,currentY:e.pageY}),u=e.pageX,l=e.pageY)})),i.push(a.addDisposableListener(this.$e.getHTMLElement(),c.EventType.End,function(e){t.emit("end"),n.dispose(i)}))},t.prototype.layout=function(){var e;if(this.orientation===p.VERTICAL){var t=this.layoutProvider;e={left:t.getVerticalSashLeft(this)-this.size/2+"px"},t.getVerticalSashTop&&(e.top=t.getVerticalSashTop(this)+"px"),t.getVerticalSashHeight&&(e.height=t.getVerticalSashHeight(this)+"px")}else{var n=this.layoutProvider;e={top:n.getHorizontalSashTop(this)-this.size/2+"px"},n.getHorizontalSashLeft&&(e.left=n.getHorizontalSashLeft(this)+"px"),n.getHorizontalSashWidth&&(e.width=n.getHorizontalSashWidth(this)+"px")}this.$e.style(e)},t.prototype.show=function(){this.hidden=!1,this.$e.show()},t.prototype.hide=function(){this.hidden=!0,this.$e.hide()},t.prototype.isHidden=function(){return this.hidden},t.prototype.enable=function(){this.$e.removeClass("disabled"),this.isDisabled=!1},t.prototype.disable=function(){this.$e.addClass("disabled"),this.isDisabled=!0},t.prototype.dispose=function(){this.$e&&(this.$e.destroy(),this.$e=null),e.prototype.dispose.call(this)},t}(u.EventEmitter);t.Sash=f;var g=function(e){function t(t,n){var i=this;e.call(this),this.minWidth=n,this._onPositionChange=new h.Emitter,this.ratio=.5,this.sash=new f(t,this),this._register(this.sash.addListener2("start",function(){return i.onSashDragStart()})),this._register(this.sash.addListener2("change",function(e){return i.onSashDrag(e)})),this._register(this.sash.addListener2("end",function(){return i.onSashDragEnd()})),this._register(this.sash.addListener2("reset",function(){return i.onSashReset()}))}return d(t,e),Object.defineProperty(t.prototype,"onPositionChange",{get:function(){return this._onPositionChange.event},enumerable:!0,configurable:!0}),t.prototype.getVerticalSashTop=function(){return 0},t.prototype.getVerticalSashLeft=function(){return this.position},t.prototype.getVerticalSashHeight=function(){return this.dimension.height},t.prototype.setDimenesion=function(e){this.dimension=e,this.compute(this.ratio)},t.prototype.onSashDragStart=function(){this.startPosition=this.position},t.prototype.onSashDrag=function(e){this.compute((this.startPosition+(e.currentX-e.startX))/this.dimension.width)},t.prototype.compute=function(e){this.computeSashPosition(e),this.ratio=this.position/this.dimension.width,this._onPositionChange.fire(this.position)},t.prototype.onSashDragEnd=function(){this.sash.layout()},t.prototype.onSashReset=function(){this.ratio=.5,this._onPositionChange.fire(this.position),this.sash.layout()},t.prototype.computeSashPosition=function(e){void 0===e&&(e=this.ratio);var t=this.dimension.width,n=Math.floor((e||.5)*t),i=Math.floor(.5*t);t>2*this.minWidth?(n<this.minWidth&&(n=this.minWidth),n>t-this.minWidth&&(n=t-this.minWidth)):n=i,this.position!==n&&(this.position=n,this.sash.layout())},t}(n.Disposable);t.VSash=g}),define(l[1037],h([9]),{}),define(l[124],h([1,0,48,8,13,79,971,996,5,112,94,17,67,11,1037]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f){"use strict";function g(e){var t={canUseTranslate3d:e.canUseTranslate3d&&n.canUseTranslate3d,lazyRender:"undefined"!=typeof e.lazyRender&&e.lazyRender,className:"undefined"!=typeof e.className?e.className:"",useShadows:"undefined"==typeof e.useShadows||e.useShadows,handleMouseWheel:"undefined"==typeof e.handleMouseWheel||e.handleMouseWheel,flipAxes:"undefined"!=typeof e.flipAxes&&e.flipAxes,alwaysConsumeMouseWheel:"undefined"!=typeof e.alwaysConsumeMouseWheel&&e.alwaysConsumeMouseWheel,scrollYToX:"undefined"!=typeof e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:"undefined"!=typeof e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,arrowSize:"undefined"!=typeof e.arrowSize?e.arrowSize:11,listenOnDomNode:"undefined"!=typeof e.listenOnDomNode?e.listenOnDomNode:null,horizontal:"undefined"!=typeof e.horizontal?e.horizontal:u.ScrollbarVisibility.Auto,horizontalScrollbarSize:"undefined"!=typeof e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:"undefined"!=typeof e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:"undefined"!=typeof e.horizontalHasArrows&&e.horizontalHasArrows,vertical:"undefined"!=typeof e.vertical?e.vertical:u.ScrollbarVisibility.Auto,verticalScrollbarSize:"undefined"!=typeof e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:"undefined"!=typeof e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:"undefined"!=typeof e.verticalSliderSize?e.verticalSliderSize:0,saveLastScrollTimeOnClassName:"undefined"!=typeof e.saveLastScrollTimeOnClassName?e.saveLastScrollTimeOnClassName:null};return t.horizontalSliderSize="undefined"!=typeof e.horizontalSliderSize?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize="undefined"!=typeof e.verticalSliderSize?e.verticalSliderSize:t.verticalScrollbarSize,r.isMacintosh&&(t.className+=" mac"),t}var v=500,m=50,y=function(e){function t(t,n){var i=this;e.call(this),this._onScroll=this._register(new f.Emitter),this.onScroll=this._onScroll.event,t.style.overflow="hidden",this._options=g(n),this._scrollable=this._register(new u.Scrollable),this._register(this._scrollable.onScroll(function(e){i._onDidScroll(e),i._onScroll.fire(e)}));var r={onMouseWheel:function(e){return i._onMouseWheel(e)},onDragStart:function(){return i._onDragStart()},onDragEnd:function(){return i._onDragEnd()}};this._verticalScrollbar=this._register(new a.VerticalScrollbar(this._scrollable,this._options,r)),this._horizontalScrollbar=this._register(new s.HorizontalScrollbar(this._scrollable,this._options,r)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(t),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows&&(this._leftShadowDomNode=p.createFastDomNode(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=p.createFastDomNode(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=p.createFastDomNode(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,function(e){return i._onMouseOver(e)}),this.onnonbubblingmouseout(this._listenOnDomNode,function(e){return i._onMouseOut(e)}),this._hideTimeout=this._register(new h.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0}return d(t,e),t.prototype.dispose=function(){this._mouseWheelToDispose=c.dispose(this._mouseWheelToDispose),e.prototype.dispose.call(this)},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getOverviewRulerLayoutInfo=function(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this._verticalScrollbar.delegateMouseDown(e)},t.prototype.updateState=function(e){this._scrollable.updateState(e)},t.prototype.getWidth=function(){return this._scrollable.getWidth()},t.prototype.getScrollWidth=function(){return this._scrollable.getScrollWidth()},t.prototype.getScrollLeft=function(){return this._scrollable.getScrollLeft()},t.prototype.getHeight=function(){return this._scrollable.getHeight()},t.prototype.getScrollHeight=function(){return this._scrollable.getScrollHeight()},t.prototype.getScrollTop=function(){return this._scrollable.getScrollTop()},t.prototype.updateClassName=function(e){this._options.className=e,r.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className},t.prototype.updateOptions=function(e){var t=g(e);this._options.handleMouseWheel=t.handleMouseWheel,this._options.mouseWheelScrollSensitivity=t.mouseWheelScrollSensitivity,this._setListeningToMouseWheel(this._options.handleMouseWheel),this._shouldRender=this._horizontalScrollbar.setCanUseTranslate3d(t.canUseTranslate3d)||this._shouldRender,this._shouldRender=this._verticalScrollbar.setCanUseTranslate3d(t.canUseTranslate3d)||this._shouldRender,this._options.lazyRender||this._render()},t.prototype._setListeningToMouseWheel=function(e){var t=this,n=this._mouseWheelToDispose.length>0;if(n!==e&&(this._mouseWheelToDispose=c.dispose(this._mouseWheelToDispose),e)){var r=function(e){var n=new o.StandardMouseWheelEvent(e);t._onMouseWheel(n)};this._mouseWheelToDispose.push(i.addDisposableListener(this._listenOnDomNode,"mousewheel",r)),this._mouseWheelToDispose.push(i.addDisposableListener(this._listenOnDomNode,"DOMMouseScroll",r))}},t.prototype._onMouseWheel=function(e){if(r.isMacintosh&&e.browserEvent&&this._options.saveLastScrollTimeOnClassName){var t=e.browserEvent.target;if(t&&1===t.nodeType){var n=i.findParentWithClass(t,this._options.saveLastScrollTimeOnClassName);n&&n.setAttribute("last-scroll-time",String((new Date).getTime()))}}var o=-1,s=-1;if(e.deltaY||e.deltaX){var a=e.deltaY*this._options.mouseWheelScrollSensitivity,c=e.deltaX*this._options.mouseWheelScrollSensitivity;if(this._options.flipAxes&&(h=[c,a],a=h[0],c=h[1]),this._options.scrollYToX&&!c&&(c=a,a=0),r.isMacintosh&&(a&&Math.abs(c)<.2&&(c=0),Math.abs(a)>.5*Math.abs(c)&&(c=0)),a){var u=this._scrollable.getScrollTop();o=this._verticalScrollbar.validateScrollPosition((o!==-1?o:u)-m*a),o===u&&(o=-1)}if(c){var l=this._scrollable.getScrollLeft();s=this._horizontalScrollbar.validateScrollPosition((s!==-1?s:l)-m*c),s===l&&(s=-1)}o===-1&&s===-1||(o!==-1&&(this._shouldRender=this._verticalScrollbar.setDesiredScrollPosition(o)||this._shouldRender,o=-1),s!==-1&&(this._shouldRender=this._horizontalScrollbar.setDesiredScrollPosition(s)||this._shouldRender,s=-1))}(this._options.alwaysConsumeMouseWheel||this._shouldRender)&&(e.preventDefault(),e.stopPropagation());var h},t.prototype._onDidScroll=function(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._reveal(),this._options.lazyRender||this._render()},t.prototype.renderNow=function(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()},t.prototype._render=function(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){var e=this._scrollable.getScrollTop()>0,t=this._scrollable.getScrollLeft()>0;this._leftShadowDomNode.setClassName("shadow"+(t?" left":"")),this._topShadowDomNode.setClassName("shadow"+(e?" top":"")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"+(e?" top":"")+(t?" left":""))}},t.prototype._onDragStart=function(){this._isDragging=!0,this._reveal()},t.prototype._onDragEnd=function(){this._isDragging=!1,this._hide()},t.prototype._onMouseOut=function(e){this._mouseIsOver=!1,this._hide()},t.prototype._onMouseOver=function(e){this._mouseIsOver=!0,this._reveal()},t.prototype._reveal=function(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()},t.prototype._hide=function(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())},t.prototype._scheduleHide=function(){var e=this;this._hideTimeout.cancelAndSet(function(){return e._hide()},v)},t}(l.Widget);t.ScrollableElement=y;var b=function(e){function t(t,n){var i=this;e.call(this,t,n),this._element=t,this.onScroll(function(e){e.scrollTopChanged&&(i._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(i._element.scrollLeft=e.scrollLeft)}),this.scanDomNode()}return d(t,e),t.prototype.scanDomNode=function(){this.updateState({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,scrollLeft:this._element.scrollLeft,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight,scrollTop:this._element.scrollTop})},t}(y);t.DomScrollableElement=b}),define(l[1050],h([1,0,30,5,143,8,130,124,112,859,883]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";var h=["click","dblclick","mouseup","mousedown","mouseover","mousemove","mouseout","contextmenu"],d={useShadows:!0},p=function(){function e(e,t,i,o){void 0===o&&(o=d),this.delegate=t,this.items=[],this.itemId=0,this.rangeMap=new u.RangeMap,this.renderers=n.toObject(i,function(e){return e.templateId}),this.cache=new l.RowCache(this.renderers),this.lastRenderTop=0,this.lastRenderHeight=0,this._domNode=document.createElement("div"),this._domNode.className="monaco-list",this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",this.gesture=new r.Gesture(this.rowsContainer),this.scrollableElement=new a.ScrollableElement(this.rowsContainer,{canUseTranslate3d:!1,alwaysConsumeMouseWheel:!0,horizontal:c.ScrollbarVisibility.Hidden,vertical:c.ScrollbarVisibility.Auto,useShadows:n.getOrDefault(o,function(e){return e.useShadows},d.useShadows),saveLastScrollTimeOnClassName:"monaco-list-row"}),this._domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this._domNode),this.disposables=[this.rangeMap,this.gesture,this.scrollableElement],this.scrollableElement.onScroll(this.onScroll,this,this.disposables),s.domEvent(this.rowsContainer,r.EventType.Change)(this.onTouchChange,this,this.disposables),this.layout()}return Object.defineProperty(e.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),e.prototype.splice=function(e,t){for(var n=this,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var o=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);u.each(o,function(e){return n.removeItemFromDOM(n.items[e])});var s=i.map(function(e){return{id:String(n.itemId++),element:e,size:n.delegate.getHeight(e),templateId:n.delegate.getTemplateId(e),row:null}});(h=this.rangeMap).splice.apply(h,[e,t].concat(s));
var a=(d=this.items).splice.apply(d,[e,t].concat(s)),c=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);u.each(c,function(e){return n.insertItemInDOM(n.items[e],e)});var l=this.getContentHeight();return this.rowsContainer.style.height=l+"px",this.scrollableElement.updateState({scrollHeight:l}),a.map(function(e){return e.element});var h,d},Object.defineProperty(e.prototype,"length",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderHeight",{get:function(){return this.scrollableElement.getHeight()},enumerable:!0,configurable:!0}),e.prototype.element=function(e){return this.items[e].element},e.prototype.elementHeight=function(e){return this.items[e].size},e.prototype.elementTop=function(e){return this.rangeMap.positionAt(e)},e.prototype.indexAt=function(e){return this.rangeMap.indexAt(e)},e.prototype.indexAfter=function(e){return this.rangeMap.indexAfter(e)},e.prototype.layout=function(e){this.scrollableElement.updateState({height:e||o.getContentHeight(this._domNode)})},e.prototype.render=function(e,t){var n=this,i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),r=this.getRenderRange(e,t),o=u.relativeComplement(r,i),s=u.relativeComplement(i,r);o.forEach(function(e){return u.each(e,function(e){return n.insertItemInDOM(n.items[e],e)})}),s.forEach(function(e){return u.each(e,function(e){return n.removeItemFromDOM(n.items[e])})});var a="translate3d(0px, -"+e+"px, 0px)";this.rowsContainer.style.transform=a,this.rowsContainer.style.webkitTransform=a,this.lastRenderTop=e,this.lastRenderHeight=t},e.prototype.insertItemInDOM=function(e,t){e.row||(e.row=this.cache.alloc(e.templateId)),e.row.domNode.parentElement||this.rowsContainer.appendChild(e.row.domNode);var n=this.renderers[e.templateId];e.row.domNode.style.top=this.elementTop(t)+"px",e.row.domNode.style.height=e.size+"px",e.row.domNode.setAttribute("data-index",""+t),n.renderElement(e.element,t,e.row.templateData)},e.prototype.removeItemFromDOM=function(e){this.cache.release(e.row),e.row=null},e.prototype.getContentHeight=function(){return this.rangeMap.size},e.prototype.getScrollTop=function(){return this.scrollableElement.getScrollTop()},e.prototype.setScrollTop=function(e){this.scrollableElement.updateState({scrollTop:e})},Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.getScrollTop()},set:function(e){this.setScrollTop(e)},enumerable:!0,configurable:!0}),e.prototype.addListener=function(e,t,n){var i=this,s=t,a=this.domNode;return h.indexOf(e)>-1?t=function(e){return i.fireScopedEvent(s,i.getItemIndexFromMouseEvent(e))}:e===r.EventType.Tap&&(a=this.rowsContainer,t=function(e){return i.fireScopedEvent(s,i.getItemIndexFromGestureEvent(e))}),o.addDisposableListener(a,e,t,n)},e.prototype.fireScopedEvent=function(e,t){if(!(t<0)){var i=this.items[t].element;e(n.assign(event,{element:i,index:t}))}},e.prototype.onScroll=function(e){this.render(e.scrollTop,e.height)},e.prototype.onTouchChange=function(e){event.preventDefault(),event.stopPropagation(),this.scrollTop-=e.translationY},e.prototype.getItemIndexFromMouseEvent=function(e){return this.getItemIndexFromEventTarget(e.target)},e.prototype.getItemIndexFromGestureEvent=function(e){return this.getItemIndexFromEventTarget(e.initialTarget)},e.prototype.getItemIndexFromEventTarget=function(e){for(;e instanceof HTMLElement&&e!==this.rowsContainer;){var t=e,n=t.getAttribute("data-index");if(n){var i=Number(n);if(!isNaN(i))return i}e=t.parentElement}return-1},e.prototype.getRenderRange=function(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}},e.prototype.dispose=function(){this.items=null,this._domNode&&this._domNode.parentElement&&(this._domNode.parentNode.removeChild(this._domNode),this._domNode=null),this.disposables=i.dispose(this.disposables)},e}();t.ListView=p}),define(l[382],h([1,0,5,21,8,143,78,11,130,1050,316]),function(e,t,n,i,r,o,s,a,c,u){"use strict";var l=function(){function e(e,t){this.controller=e,this.renderer=t}return Object.defineProperty(e.prototype,"templateId",{get:function(){return this.renderer.templateId},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){var t=this.renderer.renderTemplate(e);return{container:e,data:t}},e.prototype.renderElement=function(e,t,n){this.controller.renderElement(e,t,n.container),this.renderer.renderElement(e,t,n.data)},e.prototype.disposeTemplate=function(e){return this.renderer.disposeTemplate(e.data)},e}(),h=function(){function e(e){this._trait=e,this._onChange=new a.Emitter,this.indexes=[]}return Object.defineProperty(e.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!0,configurable:!0}),e.prototype.splice=function(e,t,n){for(var i=n-t,r=e+t,o=[],s=0,a=o;s<a.length;s++){var c=a[s];c>=e&&c<r||o.push(c>e?c+i:c)}this.indexes=o,this._onChange.fire({indexes:o})},e.prototype.renderElement=function(e,t,n){r.toggleClass(n,this._trait,this.contains(t))},e.prototype.set=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=this.indexes;return this.indexes=e,this._onChange.fire({indexes:e}),n},e.prototype.get=function(){return this.indexes},e.prototype.contains=function(e){return this.indexes.some(function(t){return t===e})},e.prototype.wrapRenderer=function(e){return new l(this,e)},e.prototype.dispose=function(){this.indexes=null,this._onChange=n.dispose(this._onChange)},e}(),p=function(e){function t(t){e.call(this,"focused"),this.getElementId=t}return d(t,e),t.prototype.renderElement=function(t,n,i){e.prototype.renderElement.call(this,t,n,i),i.setAttribute("role","option"),i.setAttribute("id",this.getElementId(n))},t}(h),f=function(){function e(e,t){var n=this;this.list=e,this.view=t,this.disposables=[],this.disposables.push(t.addListener("mousedown",function(e){return n.onMouseDown(e)})),this.disposables.push(t.addListener("click",function(e){return n.onPointer(e)})),this.disposables.push(t.addListener(o.EventType.Tap,function(e){return n.onPointer(e)}));var i=a.chain(c.domEvent(t.domNode,"keydown")).map(function(e){return new s.StandardKeyboardEvent(e)});i.filter(function(e){return 3===e.keyCode}).on(this.onEnter,this,this.disposables),i.filter(function(e){return 16===e.keyCode}).on(this.onUpArrow,this,this.disposables),i.filter(function(e){return 18===e.keyCode}).on(this.onDownArrow,this,this.disposables),i.filter(function(e){return 11===e.keyCode}).on(this.onPageUpArrow,this,this.disposables),i.filter(function(e){return 12===e.keyCode}).on(this.onPageDownArrow,this,this.disposables)}return e.prototype.onMouseDown=function(e){e.preventDefault(),e.stopPropagation()},e.prototype.onPointer=function(e){e.preventDefault(),e.stopPropagation(),this.view.domNode.focus(),this.list.setFocus(e.index),this.list.setSelection(e.index)},e.prototype.onEnter=function(e){e.preventDefault(),e.stopPropagation(),(t=this.list).setSelection.apply(t,this.list.getFocus());var t},e.prototype.onUpArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},e.prototype.onDownArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},e.prototype.onPageUpArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},e.prototype.onPageDownArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},e.prototype.dispose=function(){this.disposables=n.dispose(this.disposables)},e}(),g={},v=function(){function e(t,n,i,r){var o=this;void 0===r&&(r=g),this.idPrefix="list_id_"+ ++e.InstanceCount,this.focus=new p(function(e){return o.getElementId(e)}),this.selection=new h("selected"),this.eventBufferer=new a.EventBufferer,i=i.map(function(e){return e=o.focus.wrapRenderer(e),e=o.selection.wrapRenderer(e)}),this.view=new u.ListView(t,n,i,r),this.view.domNode.setAttribute("role","listbox"),this.view.domNode.tabIndex=0,this.controller=new f(this,this.view),this.disposables=[this.focus,this.selection,this.view,this.controller],this._onDOMFocus=c.domEvent(this.view.domNode,"focus"),this.onFocusChange(this._onFocusChange,this,this.disposables)}return Object.defineProperty(e.prototype,"onFocusChange",{get:function(){var e=this;return this.eventBufferer.wrapEvent(a.mapEvent(this.focus.onChange,function(t){return e.toListEvent(t)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){var e=this;return this.eventBufferer.wrapEvent(a.mapEvent(this.selection.onChange,function(t){return e.toListEvent(t)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDOMFocus",{get:function(){return this._onDOMFocus},enumerable:!0,configurable:!0}),e.prototype.splice=function(e,t){for(var n=this,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];this.eventBufferer.bufferEvents(function(){n.focus.splice(e,t,i.length),n.selection.splice(e,t,i.length),(r=n.view).splice.apply(r,[e,t].concat(i));var r})},Object.defineProperty(e.prototype,"length",{get:function(){return this.view.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentHeight",{get:function(){return this.view.getContentHeight()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.view.getScrollTop()},set:function(e){this.view.setScrollTop(e)},enumerable:!0,configurable:!0}),e.prototype.layout=function(e){this.view.layout(e)},e.prototype.setSelection=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];this.eventBufferer.bufferEvents(function(){t=t.concat((n=e.selection).set.apply(n,t)),t.forEach(function(t){return e.view.splice(t,1,e.view.element(t))});var n})},e.prototype.selectNext=function(e,t){if(void 0===e&&(e=1),void 0===t&&(t=!1),0!==this.length){var n=this.selection.get(),i=n.length>0?n[0]+e:0;this.setSelection(t?i%this.length:Math.min(i,this.length-1))}},e.prototype.selectPrevious=function(e,t){if(void 0===e&&(e=1),void 0===t&&(t=!1),0!==this.length){var n=this.selection.get(),i=n.length>0?n[0]-e:0;t&&i<0&&(i=this.length+i%this.length),this.setSelection(Math.max(i,0))}},e.prototype.getSelection=function(){return this.selection.get()},e.prototype.setFocus=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];this.eventBufferer.bufferEvents(function(){t=t.concat((n=e.focus).set.apply(n,t)),t.forEach(function(t){return e.view.splice(t,1,e.view.element(t))});var n})},e.prototype.focusNext=function(e,t){if(void 0===e&&(e=1),void 0===t&&(t=!1),0!==this.length){var n=this.focus.get(),i=n.length>0?n[0]+e:0;this.setFocus(t?i%this.length:Math.min(i,this.length-1))}},e.prototype.focusPrevious=function(e,t){if(void 0===e&&(e=1),void 0===t&&(t=!1),0!==this.length){var n=this.focus.get(),i=n.length>0?n[0]-e:0;t&&i<0&&(i=(this.length+i%this.length)%this.length),this.setFocus(Math.max(i,0))}},e.prototype.focusNextPage=function(){var e=this,t=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);t=0===t?0:t-1;var n=this.view.element(t),i=this.getFocusedElements()[0];if(i!==n)this.setFocus(t);else{var r=this.view.getScrollTop();this.view.setScrollTop(r+this.view.renderHeight-this.view.elementHeight(t)),this.view.getScrollTop()!==r&&setTimeout(function(){return e.focusNextPage()},0)}},e.prototype.focusPreviousPage=function(){var e,t=this,n=this.view.getScrollTop();e=0===n?this.view.indexAt(n):this.view.indexAfter(n-1);var i=this.view.element(e),r=this.getFocusedElements()[0];if(r!==i)this.setFocus(e);else{var o=n;this.view.setScrollTop(n-this.view.renderHeight),this.view.getScrollTop()!==o&&setTimeout(function(){return t.focusPreviousPage()},0)}},e.prototype.getFocus=function(){return this.focus.get()},e.prototype.getFocusedElements=function(){var e=this;return this.getFocus().map(function(t){return e.view.element(t)})},e.prototype.reveal=function(e,t){var n=this.view.getScrollTop(),r=this.view.elementTop(e),o=this.view.elementHeight(e);if(i.isNumber(t)){t=t<0?0:t,t=t>1?1:t;var s=o-this.view.renderHeight;this.view.setScrollTop(s*t+r)}else{var a=r+o,c=n+this.view.renderHeight;r<n?this.view.setScrollTop(r):a>=c&&this.view.setScrollTop(a-this.view.renderHeight)}},e.prototype.getElementId=function(e){return this.idPrefix+"_"+e},e.prototype.toListEvent=function(e){var t=this,n=e.indexes;return{indexes:n,elements:n.map(function(e){return t.view.element(e)})}},e.prototype._onFocusChange=function(){r.toggleClass(this.view.domNode,"element-focused",this.focus.get().length>0)},e.prototype.dispose=function(){this.disposables=n.dispose(this.disposables)},e.InstanceCount=0,e}();t.List=v}),define(l[1056],h([1,0,35,382,11,316]),function(e,t,n,i,r){"use strict";var o=function(){function e(e,t){this.renderer=e,this.modelProvider=t}return Object.defineProperty(e.prototype,"templateId",{get:function(){return this.renderer.templateId},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){var t=this.renderer.renderTemplate(e);return{data:t,disposable:{dispose:function(){}}}},e.prototype.renderElement=function(e,t,n){var i=this;n.disposable.dispose();var r=this.modelProvider();if(r.isResolved(e))return this.renderer.renderElement(r.get(e),e,n.data);var o=r.resolve(e);n.disposable={dispose:function(){return o.cancel()}},this.renderer.renderPlaceholder(e,n.data),o.done(function(t){return i.renderer.renderElement(t,e,n.data)})},e.prototype.disposeTemplate=function(e){e.disposable.dispose(),e.disposable=null,this.renderer.disposeTemplate(e.data),e.data=null},e}(),s=function(){function e(e,t,n){var r=this,s=n.map(function(e){return new o(e,function(){return r.model})});this.list=new i.List(e,t,s)}return Object.defineProperty(e.prototype,"onDOMFocus",{get:function(){return this.list.onDOMFocus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onFocusChange",{get:function(){var e=this;return r.mapEvent(this.list.onFocusChange,function(t){var n=t.elements,i=t.indexes;return{elements:n.map(function(t){return e._model.get(t)}),indexes:i}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){var e=this;return r.mapEvent(this.list.onSelectionChange,function(t){var n=t.elements,i=t.indexes;return{elements:n.map(function(t){return e._model.get(t)}),indexes:i}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this._model},set:function(e){this._model=e,(t=this.list).splice.apply(t,[0,this.list.length].concat(n.range(e.length)));var t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.list.scrollTop},set:function(e){this.list.scrollTop=e},enumerable:!0,configurable:!0}),e.prototype.focusNext=function(e,t){this.list.focusNext(e,t)},e.prototype.focusPrevious=function(e,t){this.list.focusPrevious(e,t)},e.prototype.selectNext=function(e,t){this.list.selectNext(e,t)},e.prototype.selectPrevious=function(e,t){this.list.selectPrevious(e,t)},e.prototype.focusNextPage=function(){this.list.focusNextPage()},e.prototype.focusPreviousPage=function(){this.list.focusPreviousPage()},e.prototype.getFocus=function(){return this.list.getFocus()},e.prototype.setSelection=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];(n=this.list).setSelection.apply(n,e);var n},e.prototype.layout=function(e){this.list.layout(e)},e.prototype.reveal=function(e,t){this.list.reveal(e,t)},e}();t.PagedList=s}),define(l[1063],h([1,0,13,48,2,5,8,268,143,12,79,78,206,188,124,112,877,174]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,g,v,m,y){"use strict";function b(e){var t=e.getAttribute("last-scroll-time");return t?parseInt(t,10):0}function S(e){try{e.parentElement.removeChild(e)}catch(e){}}function E(e,t){return!e&&!t||!(!e||!t)&&(e.accept===t.accept&&(e.bubble===t.bubble&&e.effect===t.effect))}var _=function(){function e(e){this.context=e,this._cache={"":[]},this.scrollingRow=null}return e.prototype.alloc=function(e){var t=this.cache(e).pop();if(!t){var n=document.createElement("div");n.className="content";var i=document.createElement("div");i.appendChild(n),t={element:i,templateId:e,templateData:this.context.renderer.renderTemplate(this.context.tree,e,n)}}return t},e.prototype.release=function(e,t){var n=b(t.element);if(!n)return S(t.element),void this.cache(e).push(t);if(this.scrollingRow){var i=b(this.scrollingRow.element);if(i>n)return S(t.element),void this.cache(e).push(t);this.scrollingRow.element.parentElement&&(S(this.scrollingRow.element),s.removeClass(this.scrollingRow.element,"scrolling"),this.cache(this.scrollingRow.templateId).push(this.scrollingRow))}this.scrollingRow=t,s.addClass(this.scrollingRow.element,"scrolling")},e.prototype.cache=function(e){return this._cache[e]||(this._cache[e]=[])},e.prototype.garbageCollect=function(){var e=this;this._cache&&Object.keys(this._cache).forEach(function(t){e._cache[t].forEach(function(n){e.context.renderer.disposeTemplate(e.context.tree,t,n.templateData),n.element=null,n.templateData=null}),delete e._cache[t]}),this.scrollingRow&&(this.context.renderer.disposeTemplate(this.context.tree,this.scrollingRow.templateId,this.scrollingRow.templateData),this.scrollingRow=null)},e.prototype.dispose=function(){this.garbageCollect(),this._cache=null,this.context=null},e}();t.RowCache=_;var C=function(){function e(e,t){var n=this;this.context=e,this.model=t,this.id=this.model.id,this.row=null,this.top=0,this.height=t.getHeight(),this._styles={},t.getAllTraits().forEach(function(e){return n._styles[e]=!0}),t.isExpanded()&&this.addClass("expanded")}return Object.defineProperty(e.prototype,"expanded",{set:function(e){e?this.addClass("expanded"):this.removeClass("expanded")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loading",{set:function(e){e?this.addClass("loading"):this.removeClass("loading")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"draggable",{get:function(){return this._draggable},set:function(e){this._draggable=e,this.render(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropTarget",{set:function(e){e?this.addClass("drop-target"):this.removeClass("drop-target")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.row&&this.row.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"templateId",{get:function(){return this._templateId||(this._templateId=this.context.renderer.getTemplateId&&this.context.renderer.getTemplateId(this.context.tree,this.model.getElement()))},enumerable:!0,configurable:!0}),e.prototype.addClass=function(e){this._styles[e]=!0,this.render(!0)},e.prototype.removeClass=function(e){delete this._styles[e],this.render(!0)},e.prototype.render=function(e){var t=this;if(void 0===e&&(e=!1),this.model&&this.element){var n=["monaco-tree-row"];if(n.push.apply(n,Object.keys(this._styles)),this.model.hasChildren()&&n.push("has-children"),this.element.className=n.join(" "),this.element.draggable=this.draggable,this.element.style.height=this.height+"px",this.element.setAttribute("role","treeitem"),this.model.hasTrait("focused")){var i=u.safeBtoa(this.model.id),r=this.context.accessibilityProvider.getAriaLabel(this.context.tree,this.model.getElement());this.element.setAttribute("aria-selected","true"),this.element.setAttribute("id",i),r?this.element.setAttribute("aria-label",r):this.element.setAttribute("aria-labelledby",i)}else this.element.setAttribute("aria-selected","false"),this.element.removeAttribute("id"),this.element.removeAttribute("aria-label"),this.element.removeAttribute("aria-labelledby");this.model.hasChildren()?this.element.setAttribute("aria-expanded",String(this.model.isExpanded())):this.element.removeAttribute("aria-expanded"),this.element.setAttribute("aria-level",String(this.model.getDepth())),this.context.options.paddingOnRow?this.element.style.paddingLeft=this.context.options.twistiePixels+(this.model.getDepth()-1)*this.context.options.indentPixels+"px":(this.element.style.paddingLeft=(this.model.getDepth()-1)*this.context.options.indentPixels+"px",this.row.element.firstElementChild.style.paddingLeft=this.context.options.twistiePixels+"px");var o=this.context.dnd.getDragURI(this.context.tree,this.model.getElement());o!==this.uri&&(this.unbindDragStart&&(this.unbindDragStart.dispose(),this.unbindDragStart=null),o?(this.uri=o,this.draggable=!0,this.unbindDragStart=s.addDisposableListener(this.element,"dragstart",function(e){t.onDragStart(e)})):this.uri=null),e||this.context.renderer.renderElement(this.context.tree,this.model.getElement(),this.templateId,this.row.templateData)}},e.prototype.insertInDOM=function(e,t){if(this.row||(this.row=this.context.cache.alloc(this.templateId),this.element[I.BINDING]=this),!this.element.parentElement){if(null===t)e.appendChild(this.element);else try{e.insertBefore(this.element,t)}catch(t){console.warn("Failed to locate previous tree element"),e.appendChild(this.element)}this.render()}},e.prototype.removeFromDOM=function(){this.row&&(this.unbindDragStart&&(this.unbindDragStart.dispose(),this.unbindDragStart=null),this.uri=null,this.element[I.BINDING]=null,this.context.cache.release(this.templateId,this.row),this.row=null)},e.prototype.dispose=function(){this.row=null,this.model=null},e}();t.ViewItem=C;var w=function(e){function t(t,n,i){e.call(this,t,n),this.row={element:i,templateData:null,templateId:null}}return d(t,e),t.prototype.render=function(){if(this.model&&this.element){var e=["monaco-tree-wrapper"];e.push.apply(e,Object.keys(this._styles)),this.model.hasChildren()&&e.push("has-children"),this.element.className=e.join(" ")}},t.prototype.insertInDOM=function(e,t){},t.prototype.removeFromDOM=function(){},t}(C),I=function(e){function t(t,n){var r=this;e.call(this),this.lastClickTimeStamp=0,this.isRefreshing=!1,this.refreshingPreviousChildrenIds={},this.context={dataSource:t.dataSource,renderer:t.renderer,controller:t.controller,dnd:t.dnd,filter:t.filter,sorter:t.sorter,tree:t.tree,accessibilityProvider:t.accessibilityProvider,options:t.options,cache:new _(t)},this.modelListeners=[],this.viewListeners=[],this.dragAndDropListeners=[],this.model=null,this.items={},this.domNode=document.createElement("div"),this.domNode.className="monaco-tree no-focused-item",this.domNode.tabIndex=0,this.domNode.setAttribute("role","tree"),this.context.options.ariaLabel&&this.domNode.setAttribute("aria-label",this.context.options.ariaLabel),this.context.options.alwaysFocused&&s.addClass(this.domNode,"focused"),this.context.options.paddingOnRow||s.addClass(this.domNode,"no-row-padding"),this.wrapper=document.createElement("div"),this.wrapper.className="monaco-tree-wrapper",this.scrollableElement=new g.ScrollableElement(this.wrapper,{canUseTranslate3d:!1,alwaysConsumeMouseWheel:!0,horizontal:v.ScrollbarVisibility.Hidden,vertical:"undefined"!=typeof t.options.verticalScrollMode?t.options.verticalScrollMode:v.ScrollbarVisibility.Auto,useShadows:t.options.useShadows,saveLastScrollTimeOnClassName:"monaco-tree-row"}),this.scrollableElement.onScroll(function(e){r.render(e.scrollTop,e.height),r.emit("scroll",e)}),i.isIE11orEarlier?(this.wrapper.style.msTouchAction="none",this.wrapper.style.msContentZooming="none"):this.wrapperGesture=new c.Gesture(this.wrapper),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-tree-rows";var o=s.trackFocus(this.domNode);o.addFocusListener(function(){return r.onFocus()}),o.addBlurListener(function(){return r.onBlur()}),this.viewListeners.push(o),this.viewListeners.push(s.addDisposableListener(this.domNode,"keydown",function(e){return r.onKeyDown(e)})),this.viewListeners.push(s.addDisposableListener(this.domNode,"keyup",function(e){return r.onKeyUp(e)})),this.viewListeners.push(s.addDisposableListener(this.domNode,"mousedown",function(e){return r.onMouseDown(e)})),this.viewListeners.push(s.addDisposableListener(this.domNode,"mouseup",function(e){return r.onMouseUp(e)})),this.viewListeners.push(s.addDisposableListener(this.wrapper,"click",function(e){return r.onClick(e)})),this.viewListeners.push(s.addDisposableListener(this.domNode,"contextmenu",function(e){return r.onContextMenu(e)})),this.viewListeners.push(s.addDisposableListener(this.wrapper,c.EventType.Tap,function(e){return r.onTap(e)})),this.viewListeners.push(s.addDisposableListener(this.wrapper,c.EventType.Change,function(e){return r.onTouchChange(e)})),i.isIE11orEarlier&&(this.viewListeners.push(s.addDisposableListener(this.wrapper,"MSPointerDown",function(e){return r.onMsPointerDown(e)})),this.viewListeners.push(s.addDisposableListener(this.wrapper,"MSGestureTap",function(e){return r.onMsGestureTap(e)})),this.viewListeners.push(s.addDisposableThrottledListener(this.wrapper,"MSGestureChange",function(e){return r.onThrottledMsGestureChange(e)},function(e,t){t.stopPropagation(),t.preventDefault();var n={translationY:t.translationY,translationX:t.translationX};return e&&(n.translationY+=e.translationY,n.translationX+=e.translationX),n}))),this.viewListeners.push(s.addDisposableListener(window,"dragover",function(e){return r.onDragOver(e)})),this.viewListeners.push(s.addDisposableListener(window,"drop",function(e){return r.onDrop(e)})),this.viewListeners.push(s.addDisposableListener(window,"dragend",function(e){return r.onDragEnd(e)})),this.viewListeners.push(s.addDisposableListener(window,"dragleave",function(e){return r.onDragOver(e)})),this.wrapper.appendChild(this.rowsContainer),this.domNode.appendChild(this.scrollableElement.getDomNode()),n.appendChild(this.domNode),this.lastRenderTop=0,this.lastRenderHeight=0,this.didJustPressContextMenuKey=!1,this.currentDropTarget=null,this.currentDropTargets=[],this.shouldInvalidateDropReaction=!1,this.dragAndDropScrollInterval=null,this.dragAndDropScrollTimeout=null,this.onHiddenScrollTop=null,this.onRowsChanged(),this.layout(),this.setupMSGesture()}return d(t,e),t.prototype.createViewItem=function(e){return new C(this.context,e)},t.prototype.getHTMLElement=function(){return this.domNode},t.prototype.focus=function(){this.domNode.focus()},t.prototype.isFocused=function(){return document.activeElement===this.domNode},t.prototype.blur=function(){this.domNode.blur()},t.prototype.onVisible=function(){this.scrollTop=this.onHiddenScrollTop,this.onHiddenScrollTop=null,this.setupMSGesture()},t.prototype.setupMSGesture=function(){var e=this;window.MSGesture&&(this.msGesture=new MSGesture,setTimeout(function(){return e.msGesture.target=e.wrapper},100))},t.prototype.onHidden=function(){this.onHiddenScrollTop=this.scrollTop},t.prototype.isTreeVisible=function(){return null===this.onHiddenScrollTop},t.prototype.layout=function(e){this.isTreeVisible()&&(this.viewHeight=e||s.getContentHeight(this.wrapper))},t.prototype.render=function(e,t){var n,i,r=e,o=e+t,s=this.lastRenderTop+this.lastRenderHeight;for(n=this.indexAfter(o)-1,i=this.indexAt(Math.max(s,r));n>=i;n--)this.insertItemInDOM(this.itemAtIndex(n));for(n=Math.min(this.indexAt(this.lastRenderTop),this.indexAfter(o))-1,i=this.indexAt(r);n>=i;n--)this.insertItemInDOM(this.itemAtIndex(n));for(n=this.indexAt(this.lastRenderTop),i=Math.min(this.indexAt(r),this.indexAfter(s));n<i;n++)this.removeItemFromDOM(this.itemAtIndex(n));for(n=Math.max(this.indexAfter(o),this.indexAt(this.lastRenderTop)),i=this.indexAfter(s);n<i;n++)this.removeItemFromDOM(this.itemAtIndex(n));var a=this.itemAtIndex(this.indexAt(r));a&&(this.rowsContainer.style.top=a.top-r+"px"),this.lastRenderTop=r,this.lastRenderHeight=o-r},t.prototype.setModel=function(e){var t=this;this.releaseModel(),this.model=e,this.modelListeners.push(this.model.addBulkListener2(function(e){return t.onModelEvents(e)}))},t.prototype.onModelEvents=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n],o=r.getData();switch(r.getType()){case"refreshing":this.onRefreshing();break;case"refreshed":this.onRefreshed();break;case"clearingInput":this.onClearingInput(o);break;case"setInput":this.onSetInput(o);break;case"item:childrenRefreshing":this.onItemChildrenRefreshing(o);break;case"item:childrenRefreshed":this.onItemChildrenRefreshed(o);break;case"item:refresh":t.push(o.item);break;case"item:expanding":this.onItemExpanding(o);break;case"item:expanded":this.onItemExpanded(o);break;case"item:collapsing":this.onItemCollapsing(o);break;case"item:reveal":this.onItemReveal(o);break;case"item:addTrait":this.onItemAddTrait(o);break;case"item:removeTrait":this.onItemRemoveTrait(o);break;case"focus":this.onModelFocusChange()}}t.length>0&&this.onItemsRefresh(t)},t.prototype.onRefreshing=function(){this.isRefreshing=!0},t.prototype.onRefreshed=function(){this.isRefreshing=!1,this.onRowsChanged()},t.prototype.onRowsChanged=function(e){void 0===e&&(e=this.scrollTop),this.isRefreshing||(this.scrollTop=e)},t.prototype.focusNextPage=function(e){var t=this,n=this.indexAt(this.scrollTop+this.viewHeight);n=0===n?0:n-1;var i=this.itemAtIndex(n).model.getElement(),r=this.model.getFocus();if(r!==i)this.model.setFocus(i,e);else{var o=this.scrollTop;this.scrollTop+=this.viewHeight,this.scrollTop!==o&&setTimeout(function(){t.focusNextPage(e)},0)}},t.prototype.focusPreviousPage=function(e){var t,n=this;t=0===this.scrollTop?this.indexAt(this.scrollTop):this.indexAfter(this.scrollTop-1);var i=this.itemAtIndex(t).model.getElement(),r=this.model.getFocus();if(r!==i)this.model.setFocus(i,e);else{var o=this.scrollTop;this.scrollTop-=this.viewHeight,this.scrollTop!==o&&setTimeout(function(){n.focusPreviousPage(e)},0)}},Object.defineProperty(t.prototype,"viewHeight",{get:function(){return this.scrollableElement.getHeight()},set:function(e){this.scrollableElement.updateState({height:e,scrollHeight:this.getTotalHeight()})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this.scrollableElement.getScrollTop()},set:function(e){this.scrollableElement.updateState({scrollTop:e,scrollHeight:this.getTotalHeight()})},enumerable:!0,configurable:!0}),t.prototype.getScrollPosition=function(){var e=this.getTotalHeight()-this.viewHeight;return e<=0?0:this.scrollTop/e},t.prototype.setScrollPosition=function(e){var t=this.getTotalHeight()-this.viewHeight;this.scrollTop=t*e},t.prototype.onClearingInput=function(e){var t=e.item;t&&(this.onRemoveItems(new f.MappedIterator(t.getNavigator(),function(e){return e&&e.id})),this.onRowsChanged())},t.prototype.onSetInput=function(e){this.context.cache.garbageCollect(),this.inputItem=new w(this.context,e.item,this.wrapper),this.emit("viewItem:create",{item:this.inputItem.model})},t.prototype.onItemChildrenRefreshing=function(e){var n=e.item,i=this.items[n.id];if(i&&(i.loadingPromise=r.TPromise.timeout(t.LOADING_DECORATION_DELAY).then(function(){i.loadingPromise=null,i.loading=!0})),!e.isNested){for(var o,s=[],a=n.getNavigator();o=a.next();)s.push(o.id);this.refreshingPreviousChildrenIds[n.id]=s}},t.prototype.onItemChildrenRefreshed=function(e){var t=this,n=e.item,i=this.items[n.id];if(i&&(i.loadingPromise&&(i.loadingPromise.cancel(),i.loadingPromise=null),i.loading=!1),!e.isNested){for(var r,o=this.refreshingPreviousChildrenIds[n.id],s=[],c=n.getNavigator();r=c.next();)s.push(r);var u=Math.abs(o.length-s.length)>1e3,l=void 0,h=void 0;if(!u){var d=new a.LcsDiff({getLength:function(){return o.length},getElementHash:function(e){return o[e]}},{getLength:function(){return s.length},getElementHash:function(e){return s[e].id}},null);l=d.ComputeDiff(),h=l.some(function(e){if(e.modifiedLength>0)for(var n=e.modifiedStart,i=e.modifiedStart+e.modifiedLength;n<i;n++)if(t.items.hasOwnProperty(s[n].id))return!0;return!1})}if(!u&&!h&&l.length<50)for(var p=0,g=l.length;p<g;p++){var v=l[p];if(v.originalLength>0&&this.onRemoveItems(new f.ArrayIterator(o,v.originalStart,v.originalStart+v.originalLength)),v.modifiedLength>0){var m=s[v.modifiedStart-1]||n;m=m.getDepth()>0?m:null,
this.onInsertItems(new f.ArrayIterator(s,v.modifiedStart,v.modifiedStart+v.modifiedLength),m?m.id:null)}}else(u||l.length)&&(this.onRemoveItems(new f.ArrayIterator(o)),this.onInsertItems(new f.ArrayIterator(s)));(u||l.length)&&this.onRowsChanged()}},t.prototype.onItemsRefresh=function(e){var t=this;this.onRefreshItemSet(e.filter(function(e){return t.items.hasOwnProperty(e.id)})),this.onRowsChanged()},t.prototype.onItemExpanding=function(e){var t=this.items[e.item.id];t&&(t.expanded=!0)},t.prototype.onItemExpanded=function(e){var t=e.item,n=this.items[t.id];if(n){n.expanded=!0;var i=this.onInsertItems(t.getNavigator(),t.id),r=this.scrollTop;n.top+n.height<=this.scrollTop&&(r+=i),this.onRowsChanged(r)}},t.prototype.onItemCollapsing=function(e){var t=e.item,n=this.items[t.id];n&&(n.expanded=!1,this.onRemoveItems(new f.MappedIterator(t.getNavigator(),function(e){return e&&e.id})),this.onRowsChanged())},t.prototype.getRelativeTop=function(e){if(e&&e.isVisible()){var t=this.items[e.id];if(t)return(t.top-this.scrollTop)/(this.viewHeight-t.height)}return-1},t.prototype.onItemReveal=function(e){var t=e.item,n=e.relativeTop,i=this.items[t.id];if(i)if(null!==n){n=n<0?0:n,n=n>1?1:n;var r=i.height-this.viewHeight;this.scrollTop=r*n+i.top}else{var o=i.top+i.height,s=this.scrollTop+this.viewHeight;i.top<this.scrollTop?this.scrollTop=i.top:o>=s&&(this.scrollTop=o-this.viewHeight)}},t.prototype.onItemAddTrait=function(e){var t=e.item,n=e.trait,i=this.items[t.id];i&&i.addClass(n),"highlighted"===n&&(s.addClass(this.domNode,n),i&&(this.highlightedItemWasDraggable=!!i.draggable,i.draggable&&(i.draggable=!1)))},t.prototype.onItemRemoveTrait=function(e){var t=e.item,n=e.trait,i=this.items[t.id];i&&i.removeClass(n),"highlighted"===n&&(s.removeClass(this.domNode,n),this.highlightedItemWasDraggable&&(i.draggable=!0),this.highlightedItemWasDraggable=!1)},t.prototype.onModelFocusChange=function(){var e=this.model&&this.model.getFocus();s.toggleClass(this.domNode,"no-focused-item",!e),e?this.domNode.setAttribute("aria-activedescendant",u.safeBtoa(this.context.dataSource.getId(this.context.tree,e))):this.domNode.removeAttribute("aria-activedescendant")},t.prototype.onInsertItem=function(e){var t=this;e.onDragStart=function(n){t.onDragStart(e,n)},e.needsRender=!0,this.refreshViewItem(e),this.items[e.id]=e},t.prototype.onRefreshItem=function(e,t){void 0===t&&(t=!1),e.needsRender=e.needsRender||t,this.refreshViewItem(e)},t.prototype.onRemoveItem=function(e){this.removeItemFromDOM(e),e.dispose(),this.emit("viewItem:dispose",{item:this.inputItem.model}),delete this.items[e.id]},t.prototype.refreshViewItem=function(e){e.render(),this.shouldBeRendered(e)?this.insertItemInDOM(e):this.removeItemFromDOM(e)},t.prototype.onClick=function(e){if(!this.lastPointerType||"mouse"===this.lastPointerType){var t=new l.StandardMouseEvent(e),n=this.getItemAround(t.target);n&&(i.isIE10orLater&&Date.now()-this.lastClickTimeStamp<300&&(t.detail=2),this.lastClickTimeStamp=Date.now(),this.context.controller.onClick(this.context.tree,n.model.getElement(),t))}},t.prototype.onMouseDown=function(e){if(this.didJustPressContextMenuKey=!1,this.context.controller.onMouseDown&&(!this.lastPointerType||"mouse"===this.lastPointerType)){var t=new l.StandardMouseEvent(e);if(!(t.ctrlKey&&n.isNative&&n.isMacintosh)){var i=this.getItemAround(t.target);i&&this.context.controller.onMouseDown(this.context.tree,i.model.getElement(),t)}}},t.prototype.onMouseUp=function(e){if(this.context.controller.onMouseUp&&(!this.lastPointerType||"mouse"===this.lastPointerType)){var t=new l.StandardMouseEvent(e);if(!(t.ctrlKey&&n.isNative&&n.isMacintosh)){var i=this.getItemAround(t.target);i&&this.context.controller.onMouseUp(this.context.tree,i.model.getElement(),t)}}},t.prototype.onTap=function(e){var t=this.getItemAround(e.initialTarget);t&&this.context.controller.onTap(this.context.tree,t.model.getElement(),e)},t.prototype.onTouchChange=function(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY},t.prototype.onContextMenu=function(e){var t,n;if(e instanceof KeyboardEvent||this.didJustPressContextMenuKey){this.didJustPressContextMenuKey=!1;var i=new h.StandardKeyboardEvent(e);if(n=this.model.getFocus(),!n)return;var r=this.context.dataSource.getId(this.context.tree,n),o=this.items[r],a=s.getDomNodePagePosition(o.element);t=new y.KeyboardContextMenuEvent(a.left+a.width,a.top,i)}else{var c=new l.StandardMouseEvent(e),u=this.getItemAround(c.target);if(!u)return;n=u.model.getElement(),t=new y.MouseContextMenuEvent(c)}this.context.controller.onContextMenu(this.context.tree,n,t)},t.prototype.onKeyDown=function(e){var t=new h.StandardKeyboardEvent(e);this.didJustPressContextMenuKey=58===t.keyCode||t.shiftKey&&68===t.keyCode,this.didJustPressContextMenuKey&&(t.preventDefault(),t.stopPropagation()),t.target&&t.target.tagName&&"input"===t.target.tagName.toLowerCase()||this.context.controller.onKeyDown(this.context.tree,t)},t.prototype.onKeyUp=function(e){this.didJustPressContextMenuKey&&this.onContextMenu(e),this.didJustPressContextMenuKey=!1,this.context.controller.onKeyUp(this.context.tree,new h.StandardKeyboardEvent(e))},t.prototype.onDragStart=function(e,n){if(!this.model.getHighlight()){var i,r=e.model.getElement(),o=this.model.getSelection();if(i=o.indexOf(r)>-1?o:[r],n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setData("URL",e.uri),n.dataTransfer.setDragImage){var s=void 0;s=this.context.dnd.getDragLabel?this.context.dnd.getDragLabel(this.context.tree,i):String(i.length);var a=document.createElement("div");a.className="monaco-tree-drag-image",a.textContent=s,document.body.appendChild(a),n.dataTransfer.setDragImage(a,-10,-10),setTimeout(function(){return document.body.removeChild(a)},0)}this.currentDragAndDropData=new p.ElementsDragAndDropData(i),t.currentExternalDragAndDropData=new p.ExternalElementsDragAndDropData(i),this.context.dnd.onDragStart(this.context.tree,this.currentDragAndDropData,new l.DragMouseEvent(n))}},t.prototype.setupDragAndDropScrollInterval=function(){var e=this,t=s.getTopLeftOffset(this.wrapper).top;this.dragAndDropScrollInterval||(this.dragAndDropScrollInterval=window.setInterval(function(){if(void 0!==e.dragAndDropMouseY){var n=e.dragAndDropMouseY-t,i=0,r=e.viewHeight-35;n<35?i=Math.max(-14,.2*(n-35)):n>r&&(i=Math.min(14,.2*(n-r))),e.scrollTop+=i}},10),this.cancelDragAndDropScrollTimeout(),this.dragAndDropScrollTimeout=window.setTimeout(function(){e.cancelDragAndDropScrollInterval(),e.dragAndDropScrollTimeout=null},1e3))},t.prototype.cancelDragAndDropScrollInterval=function(){this.dragAndDropScrollInterval&&(window.clearInterval(this.dragAndDropScrollInterval),this.dragAndDropScrollInterval=null),this.cancelDragAndDropScrollTimeout()},t.prototype.cancelDragAndDropScrollTimeout=function(){this.dragAndDropScrollTimeout&&(window.clearTimeout(this.dragAndDropScrollTimeout),this.dragAndDropScrollTimeout=null)},t.prototype.onDragOver=function(e){var n=this,i=new l.DragMouseEvent(e),o=this.getItemAround(i.target);if(!o)return this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[],this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null)),this.cancelDragAndDropScrollInterval(),this.currentDropTarget=null,this.currentDropElement=null,this.dragAndDropMouseY=null,!1;if(this.setupDragAndDropScrollInterval(),this.dragAndDropMouseY=i.posy,!this.currentDragAndDropData)if(t.currentExternalDragAndDropData)this.currentDragAndDropData=t.currentExternalDragAndDropData;else{if(!i.dataTransfer.types)return!1;this.currentDragAndDropData=new p.DesktopDragAndDropData}this.currentDragAndDropData.update(i);var s,a,c=o.model;do{if(s=c?c.getElement():this.model.getInput(),a=this.context.dnd.onDragOver(this.context.tree,this.currentDragAndDropData,s,i),!a||a.bubble!==y.DragOverBubble.BUBBLE_UP)break;c=c&&c.parent}while(c);if(!c)return this.currentDropElement=null,!1;var u=a&&a.accept;u?(this.currentDropElement=c.getElement(),i.preventDefault(),i.dataTransfer.dropEffect=a.effect===y.DragOverEffect.COPY?"copy":"move"):this.currentDropElement=null;var h=c.id===this.inputItem.id?this.inputItem:this.items[c.id];if((this.shouldInvalidateDropReaction||this.currentDropTarget!==h||!E(this.currentDropElementReaction,a))&&(this.shouldInvalidateDropReaction=!1,this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[],this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null)),this.currentDropTarget=h,this.currentDropElementReaction=a,u)){if(this.currentDropTarget&&(this.currentDropTarget.dropTarget=!0,this.currentDropTargets.push(this.currentDropTarget)),a.bubble===y.DragOverBubble.BUBBLE_DOWN)for(var d,f=c.getNavigator();d=f.next();)o=this.items[d.id],o&&(o.dropTarget=!0,this.currentDropTargets.push(o));this.currentDropPromise=r.TPromise.timeout(500).then(function(){return n.context.tree.expand(n.currentDropElement).then(function(){n.shouldInvalidateDropReaction=!0})})}return!0},t.prototype.onDrop=function(e){if(this.currentDropElement){var t=new l.DragMouseEvent(e);t.preventDefault(),this.currentDragAndDropData.update(t),this.context.dnd.drop(this.context.tree,this.currentDragAndDropData,this.currentDropElement,t),this.onDragEnd(e)}this.cancelDragAndDropScrollInterval()},t.prototype.onDragEnd=function(e){this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[]),this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null),this.cancelDragAndDropScrollInterval(),this.currentDragAndDropData=null,t.currentExternalDragAndDropData=null,this.currentDropElement=null,this.currentDropTarget=null,this.dragAndDropMouseY=null},t.prototype.onFocus=function(){this.context.options.alwaysFocused||s.addClass(this.domNode,"focused")},t.prototype.onBlur=function(){this.context.options.alwaysFocused||s.removeClass(this.domNode,"focused"),this.domNode.removeAttribute("aria-activedescendant")},t.prototype.onMsPointerDown=function(e){if(this.msGesture){var t=e.pointerType;return t===(e.MSPOINTER_TYPE_MOUSE||"mouse")?void(this.lastPointerType="mouse"):void(t===(e.MSPOINTER_TYPE_TOUCH||"touch")&&(this.lastPointerType="touch",e.stopPropagation(),e.preventDefault(),this.msGesture.addPointer(e.pointerId)))}},t.prototype.onThrottledMsGestureChange=function(e){this.scrollTop-=e.translationY},t.prototype.onMsGestureTap=function(e){e.initialTarget=document.elementFromPoint(e.clientX,e.clientY),this.onTap(e)},t.prototype.insertItemInDOM=function(e){var t=null,n=this.itemAfter(e);n&&n.element&&(t=n.element),e.insertInDOM(this.rowsContainer,t)},t.prototype.removeItemFromDOM=function(e){e.removeFromDOM()},t.prototype.shouldBeRendered=function(e){return e.top<this.lastRenderTop+this.lastRenderHeight&&e.top+e.height>this.lastRenderTop},t.prototype.getItemAround=function(e){var n=this.inputItem;do{if(e[t.BINDING]&&(n=e[t.BINDING]),e===this.wrapper||e===this.domNode)return n;if(e===document.body)return null}while(e=e.parentElement)},t.prototype.releaseModel=function(){this.model&&(this.modelListeners=o.dispose(this.modelListeners),this.model=null)},t.prototype.dispose=function(){this.scrollableElement.dispose(),this.releaseModel(),this.modelListeners=null,this.viewListeners=o.dispose(this.viewListeners),this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.domNode=null,this.wrapperGesture&&(this.wrapperGesture.dispose(),this.wrapperGesture=null),this.context.cache&&(this.context.cache.dispose(),this.context.cache=null),e.prototype.dispose.call(this)},t.BINDING="monaco-tree-row",t.LOADING_DECORATION_DELAY=800,t.currentExternalDragAndDropData=null,t}(m.HeightMap);t.TreeView=I}),define(l[1071],h([9]),{}),define(l[282],h([1,0,5,11,94,8,1071]),function(e,t,n,i,r,o){"use strict";var s=function(e){function t(t,n){var r=this;e.call(this),this.select=document.createElement("select"),this.select.className="select-box",this.options=t,this.selected=n,this.toDispose=[],this._onDidSelect=new i.Emitter,this.toDispose.push(o.addStandardDisposableListener(this.select,"change",function(e){r.select.title=e.target.value,r._onDidSelect.fire(e.target.value)}))}return d(t,e),Object.defineProperty(t.prototype,"onDidSelect",{get:function(){return this._onDidSelect.event},enumerable:!0,configurable:!0}),t.prototype.setOptions=function(e,t){this.options=e,t>=0?this.selected=t:(this.selected<0||this.selected>this.options.length)&&(this.selected=0),this.doSetOptions()},t.prototype.focus=function(){this.select&&this.select.focus()},Object.defineProperty(t.prototype,"enabled",{set:function(e){o.toggleClass(this.container,"disabled",!e),this.select.disabled=!e},enumerable:!0,configurable:!0}),t.prototype.blur=function(){this.select&&this.select.blur()},t.prototype.render=function(e){this.container=e,o.addClass(e,"select-container"),e.appendChild(this.select),this.doSetOptions()},t.prototype.getSelected=function(){return this.options&&this.selected>=0&&this.selected<this.options.length?this.options[this.selected]:null},t.prototype.doSetOptions=function(){var e=this;this.select.options.length=0,this.options.forEach(function(t){e.select.add(e.createOption(t))}),this.selected>=0&&(this.select.selectedIndex=this.selected,this.select.title=this.options[this.selected])},t.prototype.createOption=function(e){var t=document.createElement("option");return t.value=e,t.text=e,t},t.prototype.dispose=function(){this.toDispose=n.dispose(this.toDispose),e.prototype.dispose.call(this)},t}(r.Widget);t.SelectBox=s}),define(l[1088],h([9]),{}),define(l[149],h([1,0,5,42,21,30,8,922,141,78,11,1088]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";function h(e){return e.reduce(function(e,t){return e+t})}!function(e){e[e.VERTICAL=0]="VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL"}(t.Orientation||(t.Orientation={}));var p=t.Orientation;!function(e){e[e.Flexible=0]="Flexible",e[e.Fixed=1]="Fixed"}(t.ViewSizing||(t.ViewSizing={}));var f=t.ViewSizing,g=function(e){function t(t){e.call(this),this.size=0,this._sizing=r.isUndefined(t.sizing)?f.Flexible:t.sizing,this._fixedSize=r.isUndefined(t.fixedSize)?22:t.fixedSize,this._minimumSize=r.isUndefined(t.minimumSize)?22:t.minimumSize}return d(t,e),Object.defineProperty(t.prototype,"sizing",{get:function(){return this._sizing},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fixedSize",{get:function(){return this._fixedSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumSize",{get:function(){return this.sizing===f.Fixed?this.fixedSize:this._minimumSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumSize",{get:function(){return this.sizing===f.Fixed?this.fixedSize:Number.POSITIVE_INFINITY},enumerable:!0,configurable:!0}),t.prototype.setFlexible=function(e){this._sizing=f.Flexible,this.emit("change",r.isUndefined(e)?this._minimumSize:e)},t.prototype.setFixed=function(e){this._sizing=f.Fixed,this._fixedSize=r.isUndefined(e)?this._fixedSize:e,this.emit("change",this._fixedSize)},t}(i.EventEmitter);t.View=g;var v=function(e){function t(t){e.call(this,t),this.headerSize=r.isUndefined(t.headerSize)?22:t.headerSize}return d(t,e),t.prototype.render=function(e,t){this.header=document.createElement("div"),this.header.className="header";var n=this.headerSize+"px";t===p.HORIZONTAL?this.header.style.width=n:this.header.style.height=n,this.headerSize>0&&(this.renderHeader(this.header),e.appendChild(this.header)),this.body=document.createElement("div"),this.body.className="body",this.layoutBodyContainer(t),this.renderBody(this.body),e.appendChild(this.body)},t.prototype.layout=function(e,t){this.layoutBodyContainer(t),this.layoutBody(e-this.headerSize)},t.prototype.layoutBodyContainer=function(e){var t="calc(100% - "+this.headerSize+"px)";e===p.HORIZONTAL?this.body.style.width=t:this.body.style.height=t},t.prototype.dispose=function(){this.header=null,this.body=null,e.prototype.dispose.call(this)},t}(g);t.HeaderView=v,function(e){e[e.EXPANDED=0]="EXPANDED",e[e.COLLAPSED=1]="COLLAPSED"}(t.CollapsibleState||(t.CollapsibleState={}));var m=t.CollapsibleState,y=function(e){function t(t){e.call(this,t),this.ariaHeaderLabel=t&&t.ariaHeaderLabel,this.changeState(r.isUndefined(t.initialState)?m.EXPANDED:t.initialState)}return d(t,e),t.prototype.render=function(t,n){var i=this;e.prototype.render.call(this,t,n),s.addClass(this.header,"collapsible"),s.addClass(this.body,"collapsible"),this.header.setAttribute("tabindex","0"),this.header.setAttribute("role","toolbar"),this.ariaHeaderLabel&&this.header.setAttribute("aria-label",this.ariaHeaderLabel),this.header.setAttribute("aria-expanded",String(this.state===m.EXPANDED)),this.headerKeyListener=s.addDisposableListener(this.header,s.EventType.KEY_DOWN,function(e){var t=new u.StandardKeyboardEvent(e),n=!1;t.equals(3)||t.equals(10)||t.equals(15)&&i.state===m.EXPANDED||t.equals(17)&&i.state===m.COLLAPSED?(i.toggleExpansion(),n=!0):t.equals(9)?(i.header.blur(),n=!0):t.equals(16)?(i.emit("focusPrevious"),n=!0):t.equals(18)&&(i.emit("focusNext"),n=!0),n&&s.EventHelper.stop(t,!0)}),this.headerClickListener=s.addDisposableListener(this.header,s.EventType.CLICK,function(){return i.toggleExpansion()}),this.focusTracker=s.trackFocus(this.header),this.focusTracker.addFocusListener(function(){s.addClass(i.header,"focused")}),this.focusTracker.addBlurListener(function(){s.removeClass(i.header,"focused")})},t.prototype.focus=function(){this.header&&this.header.focus()},t.prototype.layout=function(t,n){this.layoutHeader(),e.prototype.layout.call(this,t,n)},t.prototype.isExpanded=function(){return this.state===m.EXPANDED},t.prototype.expand=function(){this.isExpanded()||this.changeState(m.EXPANDED)},t.prototype.collapse=function(){this.isExpanded()&&this.changeState(m.COLLAPSED)},t.prototype.toggleExpansion=function(){this.isExpanded()?this.collapse():this.expand()},t.prototype.layoutHeader=function(){this.header&&(this.state===m.COLLAPSED?s.addClass(this.header,"collapsed"):s.removeClass(this.header,"collapsed"))},t.prototype.changeState=function(e){this.state=e,this.header&&this.header.setAttribute("aria-expanded",String(this.state===m.EXPANDED)),this.layoutHeader()},t.prototype.dispose=function(){this.headerClickListener&&(this.headerClickListener.dispose(),this.headerClickListener=null),this.headerKeyListener&&(this.headerKeyListener.dispose(),this.headerKeyListener=null),this.focusTracker&&(this.focusTracker.dispose(),this.focusTracker=null),e.prototype.dispose.call(this)},t}(v);t.AbstractCollapsibleView=y;var b=function(e){function t(t){e.call(this,t),this.previousSize=null}return d(t,e),t.prototype.changeState=function(t){e.prototype.changeState.call(this,t),t===m.EXPANDED?this.setFlexible(this.previousSize||this._minimumSize):(this.previousSize=this.size,this.setFixed())},t}(y);t.CollapsibleView=b;var S=function(e){function t(t){e.call(this,o.mixin({sizing:f.Fixed},t)),this._expandedBodySize=r.isUndefined(t.expandedBodySize)?22:t.expandedBodySize}return d(t,e),Object.defineProperty(t.prototype,"fixedSize",{get:function(){return this.state===m.EXPANDED?this.expandedSize:this.headerSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandedSize",{get:function(){return this.expandedBodySize+this.headerSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandedBodySize",{get:function(){return this._expandedBodySize},set:function(e){this._expandedBodySize=e,this.setFixed(this.fixedSize)},enumerable:!0,configurable:!0}),t.prototype.changeState=function(t){e.prototype.changeState.call(this,t),this.setFixed(this.fixedSize)},t}(y);t.FixedCollapsibleView=S;var E=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.render=function(){},t.prototype.focus=function(){},t.prototype.layout=function(){},t}(g),_=function(e){function t(t){e.call(this,{sizing:f.Fixed,fixedSize:0}),this.size=t.size}return d(t,e),t}(E),C=function(e){function t(){e.call(this,{sizing:f.Fixed,minimumSize:0,fixedSize:0})}return d(t,e),t.prototype.setFlexible=function(t){e.prototype.setFlexible.call(this,t)},t.prototype.setFixed=function(t){e.prototype.setFixed.call(this,t)},t}(E),w=function(){function e(e,t){t=t||{},this.orientation=r.isUndefined(t.orientation)?p.VERTICAL:t.orientation,this.el=document.createElement("div"),s.addClass(this.el,"monaco-split-view"),s.addClass(this.el,this.orientation===p.VERTICAL?"vertical":"horizontal"),e.appendChild(this.el),this.size=null,this.viewElements=[],this.views=[],this.viewChangeListeners=[],this.viewFocusPreviousListeners=[],this.viewFocusNextListeners=[],this.viewFocusListeners=[],this.initialWeights=[],this.sashes=[],this.sashesListeners=[],this.animationTimeout=null,this._onFocus=new l.Emitter,this.sashOrientation=this.orientation===p.VERTICAL?c.Orientation.HORIZONTAL:c.Orientation.VERTICAL,this.orientation===p.VERTICAL?(this.measureContainerSize=function(){return s.getContentHeight(e)},this.layoutViewElement=function(e,t){return e.style.height=t+"px"},this.eventWrapper=function(e){return{start:e.startY,current:e.currentY}}):(this.measureContainerSize=function(){return s.getContentWidth(e)},this.layoutViewElement=function(e,t){return e.style.width=t+"px"},this.eventWrapper=function(e){return{start:e.startX,current:e.currentX}}),this.addView(new C,1,0)}return Object.defineProperty(e.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!0,configurable:!0}),e.prototype.addView=function(e,t,n){var i=this;if(void 0===t&&(t=1),void 0===n&&(n=this.views.length-1),t<=0)throw new Error("Initial weight must be a positive number.");var r=this.views.length,o=document.createElement("div");if(s.addClass(o,"split-view-view"),this.viewElements.splice(n,0,o),e.render(o,this.orientation),this.views.splice(n,0,e),this.initialWeights.splice(n,0,t),n===r?this.el.appendChild(o):this.el.insertBefore(o,this.el.children.item(n)),this.views.length>2){var a=new c.Sash(this.el,this,{orientation:this.sashOrientation});this.sashes.splice(n-1,0,a),this.sashesListeners.push(a.addListener2("start",function(e){return i.onSashStart(a,i.eventWrapper(e))})),this.sashesListeners.push(a.addListener2("change",function(e){return i.onSashChange(a,i.eventWrapper(e))}))}this.viewChangeListeners.splice(n,0,e.addListener2("change",function(t){return i.onViewChange(e,t)})),this.onViewChange(e,e.minimumSize);var u=s.trackFocus(o);this.viewFocusListeners.splice(n,0,u),u.addFocusListener(function(){return i._onFocus.fire(e)}),this.viewFocusPreviousListeners.splice(n,0,e.addListener2("focusPrevious",function(){return n>0&&i.views[n-1].focus()})),this.viewFocusNextListeners.splice(n,0,e.addListener2("focusNext",function(){return n<i.views.length&&i.views[n+1].focus()}))},e.prototype.removeView=function(e){var t=this.views.indexOf(e);if(!(t<0)){var n=new _(e);this.views[t]=n,this.onViewChange(n,0);var i=Math.max(t-1,0);this.sashes[i].dispose(),this.sashes.splice(i,1),this.viewChangeListeners[t].dispose(),this.viewChangeListeners.splice(t,1),this.viewFocusPreviousListeners[t].dispose(),this.viewFocusPreviousListeners.splice(t,1),this.viewFocusListeners[t].dispose(),this.viewFocusListeners.splice(t,1),this.viewFocusNextListeners[t].dispose(),this.viewFocusNextListeners.splice(t,1),this.views.splice(t,1),this.el.removeChild(this.viewElements[t]),this.viewElements.splice(t,1),n.dispose(),e.dispose()}},e.prototype.layout=function(e){if(e=e||this.measureContainerSize(),null===this.size)return this.size=e,void this.initialLayout();e=Math.max(e,this.views.reduce(function(e,t){return e+t.minimumSize},0));var t=Math.abs(this.size-e),n=a.countToArray(this.views.length-1,-1),i=this.views.map(function(e){return e.size-e.minimumSize}),r=this.views.map(function(e){return e.maximumSize-e.size});e<this.size?this.expandCollapse(Math.min(t,h(i)),i,r,n,[]):e>this.size&&this.expandCollapse(Math.min(t,h(r)),i,r,[],n),this.size=e,this.layoutViews()},e.prototype.onSashStart=function(e,t){var n=this.sashes.indexOf(e),i=this.views.map(function(e){return e.size-e.minimumSize}),r=this.views.map(function(e){return e.maximumSize-e.size}),o=a.countToArray(n,-1),s=a.countToArray(n+1,this.views.length),c=o.map(function(e){return i[e]}),u=s.map(function(e){return i[e]}),l=o.map(function(e){return r[e]}),d=s.map(function(e){return r[e]});this.state={start:t.start,sizes:this.views.map(function(e){return e.size}),up:o,down:s,maxUp:Math.min(h(c),h(d)),maxDown:Math.min(h(l),h(u)),collapses:i,expands:r}},e.prototype.onSashChange=function(e,t){for(var n=t.current-this.state.start,i=0;i<this.views.length;i++)this.views[i].size=this.state.sizes[i];n<0?this.expandCollapse(Math.min(-n,this.state.maxUp),this.state.collapses,this.state.expands,this.state.up,this.state.down):this.expandCollapse(Math.min(n,this.state.maxDown),this.state.collapses,this.state.expands,this.state.down,this.state.up),this.layoutViews()},e.prototype.expandCollapse=function(e,t,n,i,r){var o=this,s=e,a=s;i.forEach(function(e){var n=Math.min(t[e],s);s-=n,o.views[e].size-=n}),r.forEach(function(e){var t=Math.min(n[e],a);a-=t,o.views[e].size+=t})},e.prototype.initialLayout=function(){var e=this,t=0,n=0;this.views.forEach(function(i,r){i.sizing===f.Flexible?t+=e.initialWeights[r]:n+=i.fixedSize});var i=this.size-n;this.views.forEach(function(n,r){n.sizing===f.Flexible?n.size=e.initialWeights[r]*i/t:n.size=n.fixedSize});var r=this.getLastFlexibleViewIndex();r>=0&&(this.views[r].size+=this.size-this.views.reduce(function(e,t){return e+t.size},0)),this.layoutViews()},e.prototype.getLastFlexibleViewIndex=function(e){void 0===e&&(e=null);for(var t=this.views.length-1;t>=0;t--)if(e!==t&&this.views[t].sizing===f.Flexible)return t;return-1},e.prototype.layoutViews=function(){for(var e=0;e<this.views.length;e++)this.layoutViewElement(this.viewElements[e],this.views[e].size),this.views[e].layout(this.views[e].size,this.orientation);this.sashes.forEach(function(e){return e.layout()});var t=!1,n=this.views.map(function(e){return t=e.size-e.minimumSize>0||t});t=!1;var i=this.views.map(function(e){return t=e.maximumSize-e.size>0||t}),r=this.views.slice().reverse();t=!1;var o=r.map(function(e){return t=e.size-e.minimumSize>0||t}).reverse();t=!1;var s=r.map(function(e){return t=e.maximumSize-e.size>0||t}).reverse();this.sashes.forEach(function(e,t){n[t]&&s[t+1]||i[t]&&o[t+1]?e.enable():e.disable()})},e.prototype.onViewChange=function(e,t){if(e!==this.voidView&&(this.areAllViewsFixed()?this.voidView.setFlexible():this.voidView.setFixed()),null!==this.size&&t!==e.size){this.setupAnimation();var n,i,r,o=this.views.indexOf(e),s=Math.abs(t-e.size),c=a.countToArray(o-1,-1),u=a.countToArray(o+1,this.views.length),l=u.concat(c),h=this.views.map(function(e){return Math.max(e.size-e.minimumSize,0)}),d=this.views.map(function(e){return Math.max(e.maximumSize-e.size,0)});t<e.size?(n=Math.min(l.reduce(function(e,t){return e+d[t]},0),s),i=[o],r=l):(n=Math.min(l.reduce(function(e,t){return e+h[t]},0),s),i=l,r=[o]),this.expandCollapse(n,h,d,i,r),this.layoutViews()}},e.prototype.setupAnimation=function(){var e=this;r.isNumber(this.animationTimeout)&&window.clearTimeout(this.animationTimeout),s.addClass(this.el,"animated"),this.animationTimeout=window.setTimeout(function(){return e.clearAnimation()},200)},e.prototype.clearAnimation=function(){this.animationTimeout=null,s.removeClass(this.el,"animated")},Object.defineProperty(e.prototype,"voidView",{get:function(){return this.views[this.views.length-1]},enumerable:!0,configurable:!0}),e.prototype.areAllViewsFixed=function(){var e=this;return this.views.every(function(t,n){return t.sizing===f.Fixed||n===e.views.length-1})},e.prototype.getVerticalSashLeft=function(e){return this.getSashPosition(e)},e.prototype.getHorizontalSashTop=function(e){return this.getSashPosition(e)},e.prototype.getSashPosition=function(e){for(var t=this.sashes.indexOf(e),n=0,i=0;i<=t;i++)n+=this.views[i].size;return n},e.prototype.dispose=function(){var e=this;r.isNumber(this.animationTimeout)&&window.clearTimeout(this.animationTimeout),this.orientation=null,this.size=null,this.viewElements.forEach(function(t){return e.el.removeChild(t)}),this.el=null,this.viewElements=[],this.views=n.dispose(this.views),this.sashes=n.dispose(this.sashes),this.sashesListeners=n.dispose(this.sashesListeners),this.measureContainerSize=null,this.layoutViewElement=null,this.eventWrapper=null,this.state=null},e}();t.SplitView=w}),define(l[1100],h([9]),{}),define(l[1112],h([9]),{}),define(l[1119],h([9]),{}),define(l[1141],h([9]),{}),define(l[1149],h([9]),{}),define(l[1150],h([9]),{}),define(l[1154],h([9]),{}),define(l[1166],h([9]),{}),define(l[431],h([9]),{}),define(l[644],h([9]),{}),define(l[646],h([9]),{}),define(l[647],h([9]),{}),define(l[648],h([9]),{}),define(l[649],h([9]),{}),define(l[650],h([9]),{}),define(l[651],h([9]),{}),define(l[652],h([9]),{}),define(l[653],h([9]),{}),define(l[654],h([9]),{}),define(l[656],h([9]),{}),define(l[657],h([9]),{}),define(l[659],h([9]),{}),define(l[660],h([9]),{}),define(l[661],h([9]),{}),define(l[662],h([9]),{}),define(l[663],h([9]),{}),define(l[669],h([9]),{}),define(l[672],h([9]),{});define(l[673],h([9]),{});define(l[676],h([9]),{}),define(l[677],h([9]),{}),define(l[679],h([9]),{}),define(l[680],h([9]),{}),define(l[683],h([9]),{}),define(l[687],h([9]),{}),define(l[689],h([9]),{}),define(l[690],h([9]),{}),define(l[693],h([9]),{}),define(l[695],h([9]),{}),define(l[697],h([9]),{}),define(l[698],h([9]),{}),define(l[699],h([9]),{}),define(l[700],h([9]),{}),define(l[706],h([9]),{}),define(l[724],h([9]),{}),define(l[725],h([9]),{}),define(l[726],h([9]),{}),define(l[727],h([9]),{}),define(l[728],h([9]),{}),define(l[729],h([9]),{}),define(l[732],h([9]),{}),define(l[733],h([9]),{}),define(l[734],h([9]),{}),define(l[737],h([9]),{}),define(l[739],h([9]),{}),define(l[740],h([9]),{}),define(l[742],h([9]),{}),define(l[744],h([9]),{}),define(l[745],h([9]),{}),define(l[746],h([9]),{}),define(l[747],h([9]),{}),define(l[750],h([9]),{}),define(l[753],h([9]),{}),define(l[755],h([9]),{}),define(l[756],h([9]),{}),define(l[757],h([9]),{}),define(l[758],h([9]),{}),define(l[761],h([9]),{}),define(l[762],h([9]),{}),define(l[763],h([9]),{}),define(l[765],h([9]),{}),define(l[766],h([9]),{}),define(l[767],h([9]),{}),define(l[769],h([9]),{}),define(l[770],h([9]),{}),define(l[771],h([9]),{}),define(l[779],h([9]),{}),define(l[783],h([9]),{}),define(l[784],h([9]),{}),define(l[785],h([9]),{}),define(l[787],h([9]),{}),define(l[788],h([9]),{}),define(l[789],h([9]),{}),define(l[790],h([9]),{}),define(l[791],h([9]),{}),define(l[792],h([9]),{}),define(l[793],h([9]),{}),define(l[797],h([9]),{}),define(l[798],h([9]),{}),define(l[805],h([9]),{}),define(l[806],h([9]),{}),define(l[808],h([9]),{}),define(l[809],h([9]),{}),define(l[810],h([9]),{}),define(l[818],h([9]),{}),define(l[821],h([9]),{}),define(l[833],h([9]),{}),define(l[835],h([9]),{}),define(l[836],h([9]),{}),define(l[839],h([9]),{}),define(l[840],h([9]),{}),define(l[845],h([9]),{}),define(l[846],h([9]),{}),define(l[848],h([9]),{}),define(l[851],h([1,0,5]),function(e,t,n){"use strict";var i=function(e){function t(t,n){e.call(this),this.referenceDomElement=t,this.changeCallback=n,this.measureReferenceDomElementToken=-1,this.width=-1,this.height=-1,this.measureReferenceDomElement(!1)}return d(t,e),t.prototype.dispose=function(){this.stopObserving(),e.prototype.dispose.call(this)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.startObserving=function(){var e=this;this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(function(){return e.measureReferenceDomElement(!0)},100))},t.prototype.stopObserving=function(){this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)},t.prototype.observe=function(e){this.measureReferenceDomElement(!0,e)},t.prototype.measureReferenceDomElement=function(e,t){
var n=0,i=0;t?(n=t.width,i=t.height):this.referenceDomElement&&(n=this.referenceDomElement.clientWidth,i=this.referenceDomElement.clientHeight),n=Math.max(5,n),i=Math.max(5,i),this.width===n&&this.height===i||(this.width=n,this.height=i,e&&this.changeCallback())},t}(n.Disposable);t.ElementSizeObserver=i}),define(l[852],h([1,0,11,5,48,8]),function(e,t,n,i,r,o){"use strict";var s=function(){function e(e){this._event=e}return e.prototype.canUseTextData=function(){return!!this._event.clipboardData||!!window.clipboardData},e.prototype.setTextData=function(e){if(this._event.clipboardData)return this._event.clipboardData.setData("text/plain",e),void this._event.preventDefault();if(window.clipboardData)return window.clipboardData.setData("Text",e),void this._event.preventDefault();throw new Error("ClipboardEventWrapper.setTextData: Cannot use text data!")},e.prototype.getTextData=function(){if(this._event.clipboardData)return this._event.preventDefault(),this._event.clipboardData.getData("text/plain");if(window.clipboardData)return this._event.preventDefault(),window.clipboardData.getData("Text");throw new Error("ClipboardEventWrapper.getTextData: Cannot use text data!")},e}(),a=function(){function e(e){this._actual=e}return e.prototype.equals=function(e){return this._actual.equals(e)},e.prototype.preventDefault=function(){this._actual.preventDefault()},e.prototype.isDefaultPrevented=function(){return!!this._actual.browserEvent&&this._actual.browserEvent.defaultPrevented},e}(),c=function(e){function t(t){var i=this;e.call(this),this._onKeyDown=this._register(new n.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new n.Emitter),this.onKeyUp=this._onKeyUp.event,this._onKeyPress=this._register(new n.Emitter),this.onKeyPress=this._onKeyPress.event,this._onCompositionStart=this._register(new n.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new n.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new n.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onInput=this._register(new n.Emitter),this.onInput=this._onInput.event,this._onCut=this._register(new n.Emitter),this.onCut=this._onCut.event,this._onCopy=this._register(new n.Emitter),this.onCopy=this._onCopy.event,this._onPaste=this._register(new n.Emitter),this.onPaste=this._onPaste.event,this._textArea=t,this._register(o.addStandardDisposableListener(this._textArea,"keydown",function(e){return i._onKeyDown.fire(new a(e))})),this._register(o.addStandardDisposableListener(this._textArea,"keyup",function(e){return i._onKeyUp.fire(new a(e))})),this._register(o.addStandardDisposableListener(this._textArea,"keypress",function(e){return i._onKeyPress.fire(new a(e))})),this._register(o.addDisposableListener(this._textArea,"compositionstart",function(e){return i._onCompositionStart.fire(e)})),this._register(o.addDisposableListener(this._textArea,"compositionupdate",function(e){return i._onCompositionUpdate.fire(e)})),this._register(o.addDisposableListener(this._textArea,"compositionend",function(e){return i._onCompositionEnd.fire(e)})),this._register(o.addDisposableListener(this._textArea,"input",function(e){return i._onInput.fire()})),this._register(o.addDisposableListener(this._textArea,"cut",function(e){return i._onCut.fire(new s(e))})),this._register(o.addDisposableListener(this._textArea,"copy",function(e){return i._onCopy.fire(new s(e))})),this._register(o.addDisposableListener(this._textArea,"paste",function(e){return i._onPaste.fire(new s(e))}))}return d(t,e),Object.defineProperty(t.prototype,"actual",{get:function(){return this._textArea},enumerable:!0,configurable:!0}),t.prototype.getValue=function(){return this._textArea.value},t.prototype.setValue=function(e,t){this._textArea.value=t},t.prototype.getSelectionStart=function(){return this._textArea.selectionStart},t.prototype.getSelectionEnd=function(){return this._textArea.selectionEnd},t.prototype.setSelectionRange=function(e,t){var n=document.activeElement;n===this._textArea?this._textArea.setSelectionRange(e,t):this._setSelectionRangeJumpy(e,t)},t.prototype._setSelectionRangeJumpy=function(e,t){try{var n=o.saveParentsScrollTop(this._textArea);this._textArea.focus(),this._textArea.setSelectionRange(e,t),o.restoreParentsScrollTop(this._textArea,n)}catch(e){console.log("an error has been thrown!")}},t.prototype.isInOverwriteMode=function(){return!(!r.isIE11orEarlier||!document.queryCommandValue("OverWrite"))},t}(i.Disposable);t.TextAreaWrapper=c}),define(l[59],h([1,0]),function(e,t){"use strict";t.ClassNames={TEXTAREA_COVER:"textAreaCover",TEXTAREA:"inputarea",LINES_CONTENT:"lines-content",OVERFLOW_GUARD:"overflow-guard",VIEW_LINES:"view-lines",VIEW_LINE:"view-line",SCROLLABLE_ELEMENT:"editor-scrollable",CONTENT_WIDGETS:"contentWidgets",OVERFLOWING_CONTENT_WIDGETS:"overflowingContentWidgets",OVERLAY_WIDGETS:"overlayWidgets",MARGIN_VIEW_OVERLAYS:"margin-view-overlays",MARGIN:"margin",LINE_NUMBERS:"line-numbers",GLYPH_MARGIN:"glyph-margin",SCROLL_DECORATION:"scroll-decoration",VIEW_CURSORS_LAYER:"cursors-layer",VIEW_ZONES:"view-zones"},function(e){e[e.EXACT=0]="EXACT",e[e.ABOVE=1]="ABOVE",e[e.BELOW=2]="BELOW"}(t.ContentWidgetPositionPreference||(t.ContentWidgetPositionPreference={}));t.ContentWidgetPositionPreference;!function(e){e[e.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",e[e.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",e[e.TOP_CENTER=2]="TOP_CENTER"}(t.OverlayWidgetPositionPreference||(t.OverlayWidgetPositionPreference={}));t.OverlayWidgetPositionPreference}),define(l[369],h([1,0,5,79,8,248]),function(e,t,n,i,r,o){"use strict";var s=function(e){function t(t,n){e.call(this,t),this.editorPos=r.getDomNodePagePosition(n),this.viewportx=this.posx-r.StandardWindow.scrollX,this.viewporty=this.posy-r.StandardWindow.scrollY}return d(t,e),t}(i.StandardMouseEvent);t.EditorMouseEvent=s;var a=function(){function e(e){this._editorViewDomNode=e}return e.prototype._create=function(e){return new s(e,this._editorViewDomNode)},e.prototype.onContextMenu=function(e,t){var n=this;return r.addDisposableListener(e,"contextmenu",function(e){t(n._create(e))})},e.prototype.onMouseUp=function(e,t){var n=this;return r.addDisposableListener(e,"mouseup",function(e){t(n._create(e))})},e.prototype.onMouseDown=function(e,t){var n=this;return r.addDisposableListener(e,"mousedown",function(e){t(n._create(e))})},e.prototype.onMouseLeave=function(e,t){var n=this;return r.addDisposableNonBubblingMouseOutListener(e,function(e){t(n._create(e))})},e.prototype.onMouseMoveThrottled=function(e,t,n,i){var o=this,s=function(e,t){return n(e,o._create(t))};return r.addDisposableThrottledListener(e,"mousemove",t,s,i)},e}();t.EditorMouseEventFactory=a;var c=function(e){function t(t){e.call(this),this._editorViewDomNode=t,this._globalMouseMoveMonitor=this._register(new o.GlobalMouseMoveMonitor)}return d(t,e),t.prototype.startMonitoring=function(e,t,n){var i=this,r=function(t,n){return e(t,new s(n,i._editorViewDomNode))};this._globalMouseMoveMonitor.startMonitoring(r,t,n)},t}(n.Disposable);t.GlobalEditorMouseMoveMonitor=c}),define(l[855],h([1,0,42]),function(e,t,n){"use strict";var i=function(){function e(e){this._eventHandlerGateKeeper=e,this._eventHandlers=[],this._eventQueue=null,this._isConsumingQueue=!1}return e.prototype.addEventHandler=function(e){for(var t=0,n=this._eventHandlers.length;t<n;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)},e.prototype.removeEventHandler=function(e){for(var t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}},e.prototype.emit=function(e,t){var i=new n.EmitterEvent(e,t);this._eventQueue?this._eventQueue.push(i):this._eventQueue=[i],this._isConsumingQueue||this.consumeQueue()},e.prototype.emitMany=function(e){this._eventQueue?this._eventQueue=this._eventQueue.concat(e):this._eventQueue=e,this._isConsumingQueue||this.consumeQueue()},e.prototype.consumeQueue=function(){var e=this;this._eventHandlerGateKeeper(function(){try{e._isConsumingQueue=!0,e._doConsumeQueue()}finally{e._isConsumingQueue=!1}})},e.prototype._doConsumeQueue=function(){for(;this._eventQueue;){var e=this._eventQueue;this._eventQueue=null;for(var t=this._eventHandlers.slice(0),n=0,i=t.length;n<i;n++)t[n].handleEvents(e)}},e}();t.ViewEventDispatcher=i}),define(l[222],h([1,0]),function(e,t){"use strict";var n;!function(e){function t(e,t){var n=0,i=e.length-1;if(i<=0)return 0;for(;n<i;){var r=n+Math.ceil((i-n)/2);e[r].startIndex>t?i=r-1:n=r}return n}e.findIndexInSegmentsArray=t}(n=t.Arrays||(t.Arrays={}))}),define(l[277],h([1,0]),function(e,t){"use strict";var n=function(){function e(t){this._defaultValue=t,this._asciiMap=e._createAsciiMap(t),this._map=[]}return e._createAsciiMap=function(e){for(var t=[],n=0;n<256;n++)t[n]=e;return t},e.prototype.set=function(e,t){e>=0&&e<256?this._asciiMap[e]=t:this._map[e]=t},e.prototype.get=function(e){return e>=0&&e<256?this._asciiMap[e]:this._map[e]||this._defaultValue},e}();t.CharacterClassifier=n}),define(l[153],h([1,0,222]),function(e,t,n){"use strict";var i=function(){function e(e,t){this.startIndex=0|e,this.modeId=t}return e.findIndexInSegmentsArray=function(e,t){return n.Arrays.findIndexInSegmentsArray(e,t)},e}();t.ModeTransition=i}),define(l[44],h([1,0]),function(e,t){"use strict";var n=function(){function e(e,t){this.lineNumber=e,this.column=t}return e.prototype.equals=function(t){return e.equals(this,t)},e.equals=function(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column},e.prototype.isBefore=function(t){return e.isBefore(this,t)},e.isBefore=function(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column},e.prototype.isBeforeOrEqual=function(t){return e.isBeforeOrEqual(this,t)},e.isBeforeOrEqual=function(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column},e.prototype.clone=function(){return new e(this.lineNumber,this.column)},e.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"},e.lift=function(t){return new e(t.lineNumber,t.column)},e.isIPosition=function(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column},e}();t.Position=n}),define(l[15],h([1,0,44]),function(e,t,n){"use strict";var i=function(){function e(e,t,n,i){e>n||e===n&&t>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=i)}return e.prototype.isEmpty=function(){return e.isEmpty(this)},e.isEmpty=function(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn},e.prototype.containsPosition=function(t){return e.containsPosition(this,t)},e.containsPosition=function(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>e.endColumn))},e.prototype.containsRange=function(t){return e.containsRange(this,t)},e.containsRange=function(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)))},e.prototype.plusRange=function(t){return e.plusRange(this,t)},e.plusRange=function(t,n){var i,r,o,s;return n.startLineNumber<t.startLineNumber?(i=n.startLineNumber,r=n.startColumn):n.startLineNumber===t.startLineNumber?(i=n.startLineNumber,r=Math.min(n.startColumn,t.startColumn)):(i=t.startLineNumber,r=t.startColumn),n.endLineNumber>t.endLineNumber?(o=n.endLineNumber,s=n.endColumn):n.endLineNumber===t.endLineNumber?(o=n.endLineNumber,s=Math.max(n.endColumn,t.endColumn)):(o=t.endLineNumber,s=t.endColumn),new e(i,r,o,s)},e.prototype.intersectRanges=function(t){return e.intersectRanges(this,t)},e.intersectRanges=function(t,n){var i=t.startLineNumber,r=t.startColumn,o=t.endLineNumber,s=t.endColumn,a=n.startLineNumber,c=n.startColumn,u=n.endLineNumber,l=n.endColumn;return i<a?(i=a,r=c):i===a&&(r=Math.max(r,c)),o>u?(o=u,s=l):o===u&&(s=Math.min(s,l)),i>o?null:i===o&&r>s?null:new e(i,r,o,s)},e.prototype.equalsRange=function(t){return e.equalsRange(this,t)},e.equalsRange=function(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn},e.prototype.getEndPosition=function(){return new n.Position(this.endLineNumber,this.endColumn)},e.prototype.getStartPosition=function(){return new n.Position(this.startLineNumber,this.startColumn)},e.prototype.cloneRange=function(){return new e(this.startLineNumber,this.startColumn,this.endLineNumber,this.endColumn)},e.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"},e.prototype.setEndPosition=function(t,n){return new e(this.startLineNumber,this.startColumn,t,n)},e.prototype.setStartPosition=function(t,n){return new e(t,n,this.endLineNumber,this.endColumn)},e.prototype.collapseToStart=function(){return e.collapseToStart(this)},e.collapseToStart=function(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)},e.lift=function(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null},e.isIRange=function(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn},e.areIntersectingOrTouching=function(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)},e.compareRangesUsingStarts=function(e,t){var n=0|e.startLineNumber,i=0|t.startLineNumber,r=0|e.startColumn,o=0|t.startColumn,s=0|e.endLineNumber,a=0|t.endLineNumber,c=0|e.endColumn,u=0|t.endColumn;return n===i?r===o?s===a?c-u:s-a:r-o:n-i},e.compareRangesUsingEnds=function(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber},e.spansMultipleLines=function(e){return e.endLineNumber>e.startLineNumber},e}();t.Range=i}),define(l[118],h([1,0,15]),function(e,t,n){"use strict";var i=function(){function e(){}return e.insert=function(e,t){return{identifier:null,range:new n.Range(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}},e.delete=function(e){return{identifier:null,range:e,text:null,forceMoveMarkers:!0}},e.replace=function(e,t){return{identifier:null,range:e,text:t,forceMoveMarkers:!1}},e.replaceMove=function(e,t){return{identifier:null,range:e,text:t,forceMoveMarkers:!0}},e}();t.EditOperation=i}),define(l[310],h([1,0,12,118,15]),function(e,t,n,i,r){"use strict";function o(e,t){t.sort(function(e,t){return e.lineNumber===t.lineNumber?e.column-t.column:e.lineNumber-t.lineNumber});for(var o=t.length-2;o>=0;o--)t[o].lineNumber===t[o+1].lineNumber&&t.splice(o,1);for(var s=[],a=0,c=0,u=t.length,l=1,h=e.getLineCount();l<=h;l++){var d=e.getLineContent(l),p=d.length+1,f=0;if(!(c<u&&t[c].lineNumber===l&&(f=t[c].column,c++,f===p))&&0!==d.length){var g=n.lastNonWhitespaceIndex(d),v=0;if(g===-1)v=1;else{if(g===d.length-1)continue;v=g+2}v=Math.max(f,v),s[a++]=i.EditOperation.delete(new r.Range(l,v,l,p))}}return s}var s=function(){function e(e){this.selection=e}return e.prototype.getEditOperations=function(e,t){for(var n=o(e,[]),i=0,r=n.length;i<r;i++){var s=n[i];t.addEditOperation(s.range,s.text)}this.selectionId=t.trackSelection(this.selection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},e}();t.TrimTrailingWhitespaceCommand=s,t.trimTrailingWhitespace=o}),define(l[46],h([1,0,15]),function(e,t,n){"use strict";!function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(t.SelectionDirection||(t.SelectionDirection={}));var i=t.SelectionDirection,r=function(e){function t(t,n,i,r){e.call(this,t,n,i,r),this.selectionStartLineNumber=t,this.selectionStartColumn=n,this.positionLineNumber=i,this.positionColumn=r}return d(t,e),t.prototype.clone=function(){return new t(this.selectionStartLineNumber,this.selectionStartColumn,this.positionLineNumber,this.positionColumn)},t.prototype.toString=function(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"},t.prototype.equalsSelection=function(e){return t.selectionsEqual(this,e)},t.selectionsEqual=function(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn},t.prototype.getDirection=function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?i.LTR:i.RTL},t.prototype.setEndPosition=function(e,n){return this.getDirection()===i.LTR?new t(this.startLineNumber,this.startColumn,e,n):new t(e,n,this.startLineNumber,this.startColumn)},t.prototype.setStartPosition=function(e,n){return this.getDirection()===i.LTR?new t(e,n,this.endLineNumber,this.endColumn):new t(this.endLineNumber,this.endColumn,e,n)},t.liftSelection=function(e){return new t(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)},t.selectionsArrEqual=function(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(!this.selectionsEqual(e[n],t[n]))return!1;return!0},t.isISelection=function(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn},t.createWithDirection=function(e,n,r,o,s){return s===i.LTR?new t(e,n,r,o):new t(r,o,e,n)},t}(n.Range);t.Selection=r}),define(l[164],h([1,0,46]),function(e,t,n){"use strict";var i=function(){function e(e,t){this._range=e,this._text=t}return e.prototype.getText=function(){return this._text},e.prototype.getRange=function(){return this._range},e.prototype.setRange=function(e){this._range=e},e.prototype.getEditOperations=function(e,t){t.addEditOperation(this._range,this._text)},e.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations(),r=i[0].range;return new n.Selection(r.endLineNumber,r.endColumn,r.endLineNumber,r.endColumn)},e}();t.ReplaceCommand=i;var r=function(e){function t(t,n){e.call(this,t,n)}return d(t,e),t.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations(),r=i[0].range;return new n.Selection(r.startLineNumber,r.startColumn,r.startLineNumber,r.startColumn)},t}(i);t.ReplaceCommandWithoutChangingPosition=r;var o=function(e){function t(t,n,i,r){e.call(this,t,n),this._columnDeltaOffset=r,this._lineNumberDeltaOffset=i}return d(t,e),t.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations(),r=i[0].range;return new n.Selection(r.endLineNumber+this._lineNumberDeltaOffset,r.endColumn+this._columnDeltaOffset,r.endLineNumber+this._lineNumberDeltaOffset,r.endColumn+this._columnDeltaOffset)},t}(i);t.ReplaceCommandWithOffsetCursorState=o;var s=function(e){function t(t,n,i){e.call(this,t,n),this._initialSelection=i}return d(t,e),t.prototype.getEditOperations=function(t,n){e.prototype.getEditOperations.call(this,t,n),this._selectionId=n.trackSelection(this._initialSelection)},t.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},t}(i);t.ReplaceCommandThatPreservesSelection=s}),define(l[876],h([1,0,15,46]),function(e,t,n,i){"use strict";var r=function(){function e(e,t,n){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=n}return e.prototype.getEditOperations=function(e,t){t.addEditOperation(new n.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addEditOperation(new n.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),r=n[0].range,o=n[1].range;return new i.Selection(r.endLineNumber,r.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)},e}();t.SurroundSelectionCommand=r}),define(l[170],h([1,0,222]),function(e,t,n){"use strict";var i=function(){function e(e,t){this.startIndex=0|e,this.type=t}return e.prototype.toString=function(){return"("+this.startIndex+", "+this.type+")"},e.prototype.equals=function(e){return this.startIndex===e.startIndex&&this.type===e.type},e.findIndexInSegmentsArray=function(e,t){return n.Arrays.findIndexInSegmentsArray(e,t)},e.equalsArray=function(e,t){var n=e.length,i=t.length;if(n!==i)return!1;for(var r=0;r<n;r++)if(!e[r].equals(t[r]))return!1;return!0},e}();t.Token=i}),define(l[157],h([1,0,222]),function(e,t,n){"use strict";var i=function(){function e(e,t){this.startIndex=0|e,this.type=t.replace(/[^a-z0-9\-]/gi," ")}return e.prototype.equals=function(e){return this.startIndex===e.startIndex&&this.type===e.type},e.findIndexInSegmentsArray=function(e,t){return n.Arrays.findIndexInSegmentsArray(e,t)},e.equalsArray=function(e,t){var n=e.length,i=t.length;if(n!==i)return!1;for(var r=0;r<n;r++)if(!e[r].equals(t[r]))return!1;return!0},e}();t.ViewLineToken=i;var r=function(){function e(e,t,n){this._lineTokens=e,this._fauxIndentLength=0|t,this._textLength=0|n}return e.prototype.getTokens=function(){return this._lineTokens},e.prototype.getFauxIndentLength=function(){return this._fauxIndentLength},e.prototype.getTextLength=function(){return this._textLength},e.prototype.equals=function(e){return this._fauxIndentLength===e._fauxIndentLength&&this._textLength===e._textLength&&i.equalsArray(this._lineTokens,e._lineTokens)},e.prototype.findIndexOfOffset=function(e){return i.findIndexInSegmentsArray(this._lineTokens,e)},e}();t.ViewLineTokens=r}),define(l[286],h([1,0,222,157]),function(e,t,n,i){"use strict";var r=function(){function e(e,t){this.parts=e,this.maxLineColumn=t}return e.prototype.equals=function(e){return this.maxLineColumn===e.maxLineColumn&&i.ViewLineToken.equalsArray(this.parts,e.parts)},e.prototype.findIndexOfOffset=function(e){return n.Arrays.findIndexInSegmentsArray(this.parts,e)},e}();t.LineParts=r}),define(l[880],h([1,0,268,12]),function(e,t,n,i){"use strict";function r(e,t,i){var r=new n.LcsDiff(e,t,i);return r.ComputeDiff()}function o(e){if(e.length<=1)return e;var t,n,i,r,o,s,c=[e[0]],u=c[0];for(t=1,n=e.length;t<n;t++)s=e[t],i=s.originalStart-(u.originalStart+u.originalLength),r=s.modifiedStart-(u.modifiedStart+u.modifiedLength),o=Math.min(i,r),o<a?(u.originalLength=s.originalStart+s.originalLength-u.originalStart,u.modifiedLength=s.modifiedStart+s.modifiedLength-u.modifiedStart):(c.push(s),u=s);return c}var s=5e3,a=3,c=function(){function e(e,t,n){this.buffer=e,this.startMarkers=t,this.endMarkers=n}return e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.getLength()!==n.getLength())return!1;for(var i=0,r=this.getLength();i<r;i++){var o=this.getElementHash(i),s=n.getElementHash(i);if(o!==s)return!1}return!0},e.prototype.getLength=function(){return this.startMarkers.length},e.prototype.getElementHash=function(e){return this.buffer.substring(this.startMarkers[e].offset,this.endMarkers[e].offset)},e.prototype.getStartLineNumber=function(e){return e===this.startMarkers.length?this.startMarkers[e-1].lineNumber+1:this.startMarkers[e].lineNumber},e.prototype.getStartColumn=function(e){return this.startMarkers[e].column},e.prototype.getEndLineNumber=function(e){return this.endMarkers[e].lineNumber},e.prototype.getEndColumn=function(e){return this.endMarkers[e].column},e}(),u=function(e){function t(n,i){var r,o,s,a,c,u="",l=[],h=[];for(s=0,r=0,o=n.length;r<o;r++)u+=n[r],a=1,c=n[r].length+1,i&&(a=t._getFirstNonBlankColumn(n[r],1),c=t._getLastNonBlankColumn(n[r],1)),l.push({offset:s+a-1,lineNumber:r+1,column:a}),h.push({offset:s+c-1,lineNumber:r+1,column:c}),s+=n[r].length;e.call(this,u,l,h)}return d(t,e),t._getFirstNonBlankColumn=function(e,t){var n=i.firstNonWhitespaceIndex(e);return n===-1?t:n+1},t._getLastNonBlankColumn=function(e,t){var n=i.lastNonWhitespaceIndex(e);return n===-1?t:n+2},t.prototype.getCharSequence=function(e,t){var n,i,r,o,s=[],a=[];for(n=e;n<=t;n++)for(r=this.startMarkers[n],o=this.endMarkers[n],i=r.offset;i<o.offset;i++)s.push({offset:i,lineNumber:r.lineNumber,column:r.column+(i-r.offset)}),a.push({offset:i+1,lineNumber:r.lineNumber,column:r.column+(i-r.offset)+1});return new c(this.buffer,s,a)},t}(c),l=function(){function e(e,t,n){0===e.originalLength?(this.originalStartLineNumber=0,this.originalStartColumn=0,this.originalEndLineNumber=0,this.originalEndColumn=0):(this.originalStartLineNumber=t.getStartLineNumber(e.originalStart),this.originalStartColumn=t.getStartColumn(e.originalStart),this.originalEndLineNumber=t.getEndLineNumber(e.originalStart+e.originalLength-1),this.originalEndColumn=t.getEndColumn(e.originalStart+e.originalLength-1)),0===e.modifiedLength?(this.modifiedStartLineNumber=0,this.modifiedStartColumn=0,this.modifiedEndLineNumber=0,this.modifiedEndColumn=0):(this.modifiedStartLineNumber=n.getStartLineNumber(e.modifiedStart),this.modifiedStartColumn=n.getStartColumn(e.modifiedStart),this.modifiedEndLineNumber=n.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),this.modifiedEndColumn=n.getEndColumn(e.modifiedStart+e.modifiedLength-1))}return e}(),h=function(){function e(e,t,n,i,s){if(0===e.originalLength?(this.originalStartLineNumber=t.getStartLineNumber(e.originalStart)-1,this.originalEndLineNumber=0):(this.originalStartLineNumber=t.getStartLineNumber(e.originalStart),this.originalEndLineNumber=t.getEndLineNumber(e.originalStart+e.originalLength-1)),0===e.modifiedLength?(this.modifiedStartLineNumber=n.getStartLineNumber(e.modifiedStart)-1,this.modifiedEndLineNumber=0):(this.modifiedStartLineNumber=n.getStartLineNumber(e.modifiedStart),this.modifiedEndLineNumber=n.getEndLineNumber(e.modifiedStart+e.modifiedLength-1)),0!==e.originalLength&&0!==e.modifiedLength&&i()){var a=t.getCharSequence(e.originalStart,e.originalStart+e.originalLength-1),c=n.getCharSequence(e.modifiedStart,e.modifiedStart+e.modifiedLength-1),u=r(a,c,i);s&&(u=o(u)),this.charChanges=[];for(var h=0,d=u.length;h<d;h++)this.charChanges.push(new l(u[h],a,c))}}return e}(),p=function(){function e(e,t,n){this.shouldPostProcessCharChanges=n.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=n.shouldIgnoreTrimWhitespace,this.maximumRunTimeMs=s,this.original=new u(e,this.shouldIgnoreTrimWhitespace),this.modified=new u(t,this.shouldIgnoreTrimWhitespace),n.shouldConsiderTrimWhitespaceInEmptyCase&&this.shouldIgnoreTrimWhitespace&&this.original.equals(this.modified)&&(this.shouldIgnoreTrimWhitespace=!1,this.original=new u(e,this.shouldIgnoreTrimWhitespace),this.modified=new u(t,this.shouldIgnoreTrimWhitespace))}return e.prototype.computeDiff=function(){this.computationStartTime=(new Date).getTime();for(var e=r(this.original,this.modified,this._continueProcessingPredicate.bind(this)),t=[],n=0,i=e.length;n<i;n++)t.push(new h(e[n],this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldPostProcessCharChanges));return t},e.prototype._continueProcessingPredicate=function(){if(0===this.maximumRunTimeMs)return!0;var e=(new Date).getTime();return e-this.computationStartTime<this.maximumRunTimeMs},e}();t.DiffComputer=p}),define(l[881],h([1,0,7]),function(e,t,n){"use strict";var i=function(){function e(e){this.model=e,this.currentOpenStackElement=null,this.past=[],this.future=[]}return e.prototype.pushStackElement=function(){null!==this.currentOpenStackElement&&(this.past.push(this.currentOpenStackElement),this.currentOpenStackElement=null)},e.prototype.clear=function(){this.currentOpenStackElement=null,this.past=[],this.future=[]},e.prototype.pushEditOperation=function(e,t,i){this.future=[],this.currentOpenStackElement||(this.currentOpenStackElement={beforeVersionId:this.model.getAlternativeVersionId(),beforeCursorState:e,editOperations:[],afterCursorState:null,afterVersionId:-1});var r={operations:this.model.applyEdits(t)};this.currentOpenStackElement.editOperations.push(r);try{this.currentOpenStackElement.afterCursorState=i?i(r.operations):null}catch(e){n.onUnexpectedError(e),this.currentOpenStackElement.afterCursorState=null}return this.currentOpenStackElement.afterVersionId=this.model.getVersionId(),this.currentOpenStackElement.afterCursorState},e.prototype.undo=function(){if(this.pushStackElement(),this.past.length>0){var e=this.past.pop();try{for(var t=e.editOperations.length-1;t>=0;t--)e.editOperations[t]={operations:this.model.applyEdits(e.editOperations[t].operations)}}catch(e){return this.clear(),null}return this.future.push(e),{selections:e.beforeCursorState,recordedVersionId:e.beforeVersionId}}return null},e.prototype.redo=function(){if(this.future.length>0){if(this.currentOpenStackElement)throw new Error("How is this possible?");var e=this.future.pop();try{for(var t=0;t<e.editOperations.length;t++)e.editOperations[t]={operations:this.model.applyEdits(e.editOperations[t].operations)}}catch(e){return this.clear(),null}return this.past.push(e),{selections:e.afterCursorState,recordedVersionId:e.afterVersionId}}return null},e}();t.EditStack=i}),define(l[882],h([1,0]),function(e,t){"use strict";function n(e,t){void 0===t&&(t=1);var n=[],r=[];r.push({indent:-1,line:e.getLineCount()+1});for(var o=e.getLineCount();o>0;o--){var s=e.getIndentLevel(o);if(s!==-1){var a=r[r.length-1];if(a.indent>s){do r.pop(),a=r[r.length-1];while(a.indent>s);var c=a.line-1;c-o>=t&&n.push(new i(o,c,s))}a.indent===s?a.line=o:r.push({indent:s,line:o})}}return n.reverse()}var i=function(){function e(e,t,n){this.startLineNumber=e,this.endLineNumber=t,this.indent=n}return e.deepCloneArr=function(t){for(var n=[],i=0,r=t.length;i<r;i++){var o=t[i];n[i]=new e(o.startLineNumber,o.endLineNumber,o.indent)}return n},e}();t.IndentRange=i,t.computeRanges=n}),define(l[287],h([1,0]),function(e,t){"use strict";function n(e,t,n,i){var r;for(r=0;r<t&&r<i;r++){var o=e.charCodeAt(r),s=n.charCodeAt(r);if(o!==s)break}for(var a=0,c=0,u=r;u<t;u++){var o=e.charCodeAt(u);32===o?a++:c++}for(var l=0,h=0,u=r;u<i;u++){var s=n.charCodeAt(u);32===s?l++:h++}if(a>0&&c>0)return 0;if(l>0&&h>0)return 0;var d=Math.abs(c-h),p=Math.abs(a-l);return 0===d?p:p%d===0?p/d:0}function i(e,t,i){for(var r=0,o=0,s="",a=0,c=[2,4,6,8],u=8,l=[0,0,0,0,0,0,0,0,0],h=0,d=e.length;h<d;h++){for(var p=e[h],f=!1,g=0,v=0,m=0,y=0,b=p.length;y<b;y++){var S=p.charCodeAt(y);if(9===S)m++;else{if(32!==S){f=!0,g=y;break}v++}}if(f){m>0?r++:v>1&&o++;var E=n(s,a,p,g);E<=u&&l[E]++,s=p,a=g}}var _=n(s,a,"",0);_<=u&&l[_]++;var C=i;r!==o&&(C=r<o);var w=t,I=C?0:.1*e.length;return c.forEach(function(e){var t=l[e];t>I&&(I=t,w=e)}),{insertSpaces:C,tabSize:w}}t.guessIndentation=i}),define(l[884],h([1,0,44]),function(e,t,n){"use strict";function i(e,t){var i=t.lineNumber;if(1!==e.getLineMaxColumn(i))return t;for(var r=e.getLineCount(),o=1;;){var s=i-o,a=i+o;if(s<1&&a>r)break;if(s>=1){var c=e.getLineMaxColumn(s);if(1!==c)return new n.Position(s,c)}if(a<=r){var u=e.getLineMaxColumn(a);if(1!==u)return new n.Position(a,1)}o++}return null}var r=function(){function e(e,t){this._actual=e,this.lineNumber=t,this.startColumn=this._actual.startOffset+1,this.endColumn=this._actual.endOffset+1,this.standardType=this._actual.standardType}return e}(),o=function(){function e(e,t){if(this._model=e,this._lineCount=this._model.getLineCount(),this._prev=null,this._next=null,t=i(e,t)){var n=this._model.getLineTokens(t.lineNumber),o=n.findTokenAtOffset(t.column-1);o&&(this._prev=this._next=new r(o,t.lineNumber));
}}return e.prototype._advanceNext=function(){if(this._next){for(var e=this._next.lineNumber,t=this._next._actual.next();!t&&e<this._lineCount;){e++;var n=this._model.getLineTokens(e);t=n.firstToken()}this._prev=this._next,t?this._next=new r(t,e):this._next=null}},e.prototype._advancePrev=function(){if(this._prev){for(var e=this._prev.lineNumber,t=this._prev._actual.prev();!t&&e>1;){e--;var n=this._model.getLineTokens(e);t=n.lastToken()}this._next=this._prev,t?this._prev=new r(t,e):this._prev=null}},e.prototype.hasNext=function(){return null!==this._next},e.prototype.next=function(){var e=this._next;return this._advanceNext(),e},e.prototype.hasPrev=function(){return null!==this._prev},e.prototype.prev=function(){var e=this._prev;return this._advancePrev(),e},e.prototype._invalidate=function(){var e=function(){throw new Error("iteration isn't valid anymore")};this.hasNext=e,this.next=e,this.hasPrev=e,this.prev=e},e}();t.TokenIterator=o}),define(l[266],h([1,0,7,12,157,170]),function(e,t,n,i,r,o){"use strict";!function(e){e[e.START_INDEX_MASK=4294967295]="START_INDEX_MASK",e[e.TYPE_MASK=65535]="TYPE_MASK",e[e.START_INDEX_OFFSET=1]="START_INDEX_OFFSET",e[e.TYPE_OFFSET=4294967296]="TYPE_OFFSET"}(t.TokensBinaryEncodingValues||(t.TokensBinaryEncodingValues={}));var s=(t.TokensBinaryEncodingValues,new r.ViewLineToken(0,"")),a=[];t.DEFLATED_TOKENS_EMPTY_TEXT=[];var c=[s];t.DEFLATED_TOKENS_NON_EMPTY_TEXT=[0];var u=function(){function e(e){this.topLevelModeId=e,this._inflate=[""],this._deflate={"":0}}return e}();t.TokensInflatorMap=u;var l=function(){function e(){}return e.deflateArr=function(e,i){if(0===i.length)return t.DEFLATED_TOKENS_EMPTY_TEXT;if(1===i.length&&0===i[0].startIndex&&!i[0].type)return t.DEFLATED_TOKENS_NON_EMPTY_TEXT;var r,s,a,c,u,l=e._inflate,h=e._deflate,d=-1,p=new Array(i.length);for(r=0,s=i.length;r<s;r++)u=i[r],u.startIndex<=d&&(u=new o.Token(d+1,u.type),n.onUnexpectedError({message:"Invalid tokens detected",tokens:i})),h.hasOwnProperty(u.type)?a=h[u.type]:(a=l.length,h[u.type]=a,l.push(u.type)),c=4294967296*a+1*u.startIndex,p[r]=c,d=u.startIndex;return p},e.getStartIndex=function(e){return e/1&4294967295},e.getType=function(e,t){var n=t/4294967296&65535;return 0===n?i.empty:e._inflate[n]},e.inflateArr=function(e,t){if(0===t.length)return a;if(1===t.length&&0===t[0])return c;for(var n=[],i=e._inflate,o=0,s=t.length;o<s;o++){var u=t[o],l=u/1&4294967295,h=u/4294967296&65535;n.push(new r.ViewLineToken(l,i[h]))}return n},e.findIndexOfOffset=function(e,t){return this.findIndexInSegmentsArray(e,t)},e.sliceAndInflate=function(e,t,n,i,o){if(0===t.length)return a;if(1===t.length&&0===t[0])return c;var s=this.findIndexInSegmentsArray(t,n),u=[],l=e._inflate,h=t[s],d=h/4294967296&65535,p=0;u.push(new r.ViewLineToken(p,l[d]));for(var f=s+1,g=t.length;f<g;f++){h=t[f];var v=h/1&4294967295;if(v>=i)break;d=h/4294967296&65535,p=v-n+o,u.push(new r.ViewLineToken(p,l[d]))}return u},e.findIndexInSegmentsArray=function(e,t){for(var n,i,r=0,o=e.length-1;r<o;)n=r+Math.ceil((o-r)/2),i=4294967295&e[n],i>t?o=n-1:r=n;return r},e}();t.TokensBinaryEncoding=l}),define(l[886],h([1,0,266,153]),function(e,t,n,i){"use strict";function r(e){var t=e.match(o);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":return 4}throw new Error("Unexpected match for standard token type!")}!function(e){e[e.Other=0]="Other",e[e.Comment=1]="Comment",e[e.String=2]="String",e[e.RegEx=4]="RegEx"}(t.StandardTokenType||(t.StandardTokenType={}));var o=(t.StandardTokenType,/\b(comment|string|regex)\b/),s=function(){function e(e,t,n){this._source=e,this._tokenIndex=t,this._modeIndex=n,this.startOffset=this._source.getTokenStartOffset(this._tokenIndex),this.endOffset=this._source.getTokenEndOffset(this._tokenIndex),this.standardType=this._source.getStandardTokenType(this._tokenIndex),this.modeId=this._source.modeTransitions[this._modeIndex].modeId,this.hasPrev=this._tokenIndex>0,this.hasNext=this._tokenIndex+1<this._source.getTokenCount()}return e.prototype.prev=function(){if(!this.hasPrev)return null;if(0===this._modeIndex)return new e(this._source,this._tokenIndex-1,this._modeIndex);var t=this._source.modeTransitions,n=t[this._modeIndex],i=this._source.getTokenStartOffset(this._tokenIndex-1);return i<n.startIndex?new e(this._source,this._tokenIndex-1,this._modeIndex-1):new e(this._source,this._tokenIndex-1,this._modeIndex)},e.prototype.next=function(){if(!this.hasNext)return null;var t=this._source.modeTransitions;if(this._modeIndex===t.length-1)return new e(this._source,this._tokenIndex+1,this._modeIndex);var n=t[this._modeIndex+1],i=this._source.getTokenStartOffset(this._tokenIndex+1);return i>=n.startIndex?new e(this._source,this._tokenIndex+1,this._modeIndex+1):new e(this._source,this._tokenIndex+1,this._modeIndex)},e}();t.LineToken=s;var a=function(){function e(e,t,n,i){this._map=e,this._tokens=t,this.modeTransitions=n,this._text=i,this._textLength=this._text.length}return e.prototype.getTokenCount=function(){return this._tokens.length},e.prototype.getLineContent=function(){return this._text},e.prototype.getTokenStartOffset=function(e){return n.TokensBinaryEncoding.getStartIndex(this._tokens[e])},e.prototype.getTokenType=function(e){return n.TokensBinaryEncoding.getType(this._map,this._tokens[e])},e.prototype.getStandardTokenType=function(e){return r(this.getTokenType(e))},e.prototype.getTokenEndOffset=function(e){return e+1<this._tokens.length?n.TokensBinaryEncoding.getStartIndex(this._tokens[e+1]):this._textLength},e.prototype.findTokenIndexAtOffset=function(e){return n.TokensBinaryEncoding.findIndexOfOffset(this._tokens,e)},e.prototype.findTokenAtOffset=function(e){if(0===this._textLength)return null;var t=this.findTokenIndexAtOffset(e),n=i.ModeTransition.findIndexInSegmentsArray(this.modeTransitions,e);return new s(this,t,n)},e.prototype.firstToken=function(){return 0===this._textLength?null:new s(this,0,0)},e.prototype.lastToken=function(){return 0===this._textLength?null:new s(this,this._tokens.length-1,this.modeTransitions.length-1)},e.prototype.inflate=function(){return n.TokensBinaryEncoding.inflateArr(this._map,this._tokens)},e.prototype.sliceAndInflate=function(e,t,i){return n.TokensBinaryEncoding.sliceAndInflate(this._map,this._tokens,e,t,i)},e}();t.LineTokens=a}),define(l[217],h([1,0,266,153,886,44]),function(e,t,n,i,r,o){"use strict";function s(e,t){for(var n=0,i=0,r=e.length;i<r;){var o=e.charCodeAt(i);if(32===o)n++;else{if(9!==o)break;n=n-n%t+t}i++}return i===r?0:n+1}function a(e,t,i){return 0===i?null:t&&0!==t.length?1===t.length&&0===t[0].startIndex&&""===t[0].type?null:n.TokensBinaryEncoding.deflateArr(e,t):null}function c(e,t){return 0===t?null:e&&0!==e.length?1===e.length&&0===e[0]?null:e:null}function u(e,t){return t&&0!==t.length?1===t.length&&0===t[0].startIndex&&t[0].modeId===e?null:t:null}var l=function(){function e(e,t,n,i){this.id=e,this.internalDecorationId=t,this.position=n,this.stickToPreviousCharacter=i}return e.prototype.toString=function(){return"{'"+this.id+"';"+this.position.toString()+","+this.stickToPreviousCharacter+"}"},e.prototype.updateLineNumber=function(e,t){this.position.lineNumber!==t&&(e.addChangedMarker(this),this.position=new o.Position(t,this.position.column))},e.prototype.updateColumn=function(e,t){this.position.column!==t&&(e.addChangedMarker(this),this.position=new o.Position(this.position.lineNumber,t))},e.prototype.updatePosition=function(e,t){this.position.lineNumber===t.lineNumber&&this.position.column===t.column||(e.addChangedMarker(this),this.position=t)},e.prototype.setPosition=function(e){this.position=e},e.compareMarkers=function(e,t){return e.position.column===t.position.column?(e.stickToPreviousCharacter?0:1)-(t.stickToPreviousCharacter?0:1):e.position.column-t.position.column},e}();t.LineMarker=l;var h=function(){function e(){this._changedDecorations=[],this._changedDecorationsLen=0}return e.prototype.addChangedMarker=function(e){var t=e.internalDecorationId;0!==t&&(this._changedDecorations[this._changedDecorationsLen++]=t)},e.prototype.getDecorationIds=function(){return this._changedDecorations},e}();t.MarkersTracker=h;var d,p={adjust:function(){},finish:function(){}},f={adjustDelta:function(){},adjustSet:function(){},finish:function(){}};!function(e){e[e.MarkerDefined=0]="MarkerDefined",e[e.ForceMove=1]="ForceMove",e[e.ForceStay=2]="ForceStay"}(d||(d={}));var g=function(){function e(e,t,n){this._lineNumber=0|e,this._metadata=0,this._setText(t,n),this._state=null,this._modeTransitions=null,this._lineTokens=null,this._markers=null}return Object.defineProperty(e.prototype,"lineNumber",{get:function(){return this._lineNumber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInvalid",{get:function(){return!!(1&this._metadata)},set:function(e){this._metadata=4294967294&this._metadata|(e?1:0)},enumerable:!0,configurable:!0}),e.prototype.getIndentLevel=function(){return((4294967294&this._metadata)>>1)-1},e.prototype._setPlusOneIndentLevel=function(e){this._metadata=1&this._metadata|(4026531839&e)<<1},e.prototype.updateTabSize=function(e){0===e?this._metadata=1&this._metadata:this._setPlusOneIndentLevel(s(this._text,e))},e.prototype.resetTokenizationState=function(){this._state=null,this._modeTransitions=null,this._lineTokens=null},e.prototype.setState=function(e){this._state=e},e.prototype.getState=function(){return this._state||null},e.prototype.getModeTransitions=function(e){return this._modeTransitions?this._modeTransitions:[new i.ModeTransition(0,e)]},e.prototype.setTokens=function(e,t,n){this._lineTokens=a(e,t,this._text.length),this._modeTransitions=u(e.topLevelModeId,n)},e.prototype._setLineTokensFromDeflated=function(e){this._lineTokens=c(e,this._text.length)},e.prototype.getTokens=function(e){var t=this._lineTokens;return t||(t=0===this._text.length?n.DEFLATED_TOKENS_EMPTY_TEXT:n.DEFLATED_TOKENS_NON_EMPTY_TEXT),new r.LineTokens(e,t,this.getModeTransitions(e.topLevelModeId),this._text)},e.prototype._createTokensAdjuster=function(){if(!this._lineTokens)return p;var e=this._lineTokens,t=e.length,n=0,i=0,r=function(r,o,s){for(var a=s-1;i<r&&n<t;){if(i>0&&0!==o){var c=e[n]/4294967296&65535,u=Math.max(a,i+o),l=4294967296*c+1*u;if(o<0)for(;n>0;){var h=e[n-1]/1&4294967295;if(!(h>=u))break;e.splice(n-1,1),t--,n--}e[n]=l}n++,n<t&&(i=e[n]/1&4294967295)}},o=function(e,t){r(Number.MAX_VALUE,e,1)};return{adjust:r,finish:o}},e.prototype._setText=function(e,t){this._text=e,0===t?this._metadata=1&this._metadata:this._setPlusOneIndentLevel(s(e,t));var n=this._lineTokens;if(n){for(var i=this._text.length;n.length>0;){var r=n[n.length-1]/1&4294967295;if(r<i)break;n.pop()}this._setLineTokensFromDeflated(n)}},e.prototype._createMarkersAdjuster=function(e){if(!this._markers)return f;if(0===this._markers.length)return f;this._markers.sort(l.compareMarkers);var t=this._markers,n=t.length,i=0,r=t[i],o=function(e,t){return r.position.column<e||!(r.position.column>e)&&(1!==t&&(2===t||r.stickToPreviousCharacter))},s=function(s,a,c,u){for(;i<n&&o(s,u);){if(0!==a){var l=Math.max(c,r.position.column+a);r.updateColumn(e,l)}i++,i<n&&(r=t[i])}},a=function(s,a,c){for(;i<n&&o(s,c);)r.updateColumn(e,a),i++,i<n&&(r=t[i])},c=function(e,t){s(Number.MAX_VALUE,e,1,0)};return{adjustDelta:s,adjustSet:a,finish:c}},e.prototype.applyEdits=function(e,t,n){for(var i=0,r=this._text,o=this._createTokensAdjuster(),s=this._createMarkersAdjuster(e),a=0,c=t.length;a<c;a++){var u=t[a],l=i+u.startColumn,h=i+u.endColumn,d=h-l,p=u.text.length;o.adjust(u.startColumn-1,i,1),s.adjustDelta(u.startColumn,i,1,u.forceMoveMarkers?1:d>0?2:0);var f=Math.min(d,p);f>0&&(o.adjust(u.startColumn-1+f,i,l),u.forceMoveMarkers||s.adjustDelta(u.startColumn+f,i,l,u.forceMoveMarkers?1:d>p?2:0)),r=r.substring(0,l-1)+u.text+r.substring(h-1),i+=p-d,o.adjust(u.endColumn,i,l),s.adjustSet(u.endColumn,l+p,u.forceMoveMarkers?1:0)}return o.finish(i,r.length),s.finish(i,r.length),this._setText(r,n),i},e.prototype.split=function(t,n,i,r){var o=this._text.substring(0,n-1),s=this._text.substring(n-1),a=null;if(this._markers){this._markers.sort(l.compareMarkers);for(var c=0,u=this._markers.length;c<u;c++){var h=this._markers[c];if(h.position.column>n||h.position.column===n&&(i||!h.stickToPreviousCharacter)){var d=this._markers.slice(0,c);a=this._markers.slice(c),this._markers=d;break}}if(a)for(var c=0,u=a.length;c<u;c++){var h=a[c];h.updateColumn(t,h.position.column-(n-1))}}this._setText(o,r);var p=new e(this._lineNumber+1,s,r);return a&&p.addMarkers(a),p},e.prototype.append=function(e,t,n){var i=this._text.length;this._setText(this._text+t._text,n);var r=t._lineTokens;if(r){if(i>0)for(var s=0,a=r.length;s<a;s++){var c=r[s],u=c/1&4294967295,l=c/4294967296&65535,h=u+i,d=4294967296*l+1*h;r[s]=d}var p=this._lineTokens;p?this._setLineTokensFromDeflated(p.concat(r)):this._setLineTokensFromDeflated(r)}if(t._markers){for(var f=t._markers,s=0,a=f.length;s<a;s++){var g=f[s];g.updatePosition(e,new o.Position(this._lineNumber,g.position.column+i))}this.addMarkers(f)}},e.prototype.addMarker=function(e){this._markers?this._markers.push(e):this._markers=[e]},e.prototype.addMarkers=function(e){0!==e.length&&(this._markers?this._markers=this._markers.concat(e):this._markers=e.slice(0))},e.prototype.removeMarker=function(e){if(this._markers){var t=this._indexOfMarkerId(e.id);t<0||(1===this._markers.length?this._markers=null:this._markers.splice(t,1))}},e.prototype.removeMarkers=function(e){if(this._markers){for(var t=0,n=this._markers.length;t<n;t++){var i=this._markers[t];e[i.id]&&(this._markers.splice(t,1),n--,t--)}0===this._markers.length&&(this._markers=null)}},e.prototype.getMarkers=function(){return this._markers?this._markers.slice(0):[]},e.prototype.updateLineNumber=function(e,t){if(this._lineNumber!==t){if(this._markers)for(var n=this._markers,i=0,r=n.length;i<r;i++){var o=n[i];o.updateLineNumber(e,t)}this._lineNumber=t}},e.prototype.deleteLine=function(){return this._markers?this._markers:[]},e.prototype._indexOfMarkerId=function(e){for(var t=this._markers,n=0,i=t.length;n<i;n++)if(t[n].id===e)return n},e}();t.ModelLine=g}),define(l[212],h([1,0]),function(e,t){"use strict";function n(e){void 0===e&&(e="");for(var n=t.USUAL_WORD_SEPARATORS,i="(-?\\d*\\.\\d\\w*)|([^",r=0;r<n.length;r++)e.indexOf(n[r])>=0||(i+="\\"+n[r]);return i+="\\s]+)",new RegExp(i,"g")}function i(e){var n=t.DEFAULT_WORD_REGEXP;if(e&&e instanceof RegExp)if(e.global)n=e;else{var i="g";e.ignoreCase&&(i+="i"),e.multiline&&(i+="m"),n=new RegExp(e.source,i)}return n.lastIndex=0,n}function r(e,t,n,i){var r,o,s,a,c,u,l=n.match(t);if(l)for(r=0;r<l.length;r++)if(u=l[r].trim(),u.length>0&&(o=n.indexOf(u,s),s=o+u.length,a=i+o+1,c=i+s+1,a<=e&&e<=c))return{word:u,startColumn:a,endColumn:c};return null}t.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",t.DEFAULT_WORD_REGEXP=n(),t.ensureValidWordDefinition=i,t.getWordAtText=r}),define(l[889],h([1,0]),function(e,t){"use strict";var n=function(){function e(e){this._modeId=e.id}return e.prototype.getId=function(){return this._modeId},e}();t.FrankensteinMode=n}),define(l[326],h([1,0]),function(e,t){"use strict";var n=function(){function e(e,t){void 0===t&&(t=null),this.modeId=e,this.stateData=t}return e.prototype.getModeId=function(){return this.modeId},e.prototype.clone=function(){var e=this.makeClone();return e.initializeFrom(this),e},e.prototype.initializeFrom=function(e){this.stateData=null!==e.stateData?e.stateData.clone():null},e.prototype.getStateData=function(){return this.stateData},e.prototype.setStateData=function(e){this.stateData=e},e.prototype.equals=function(t){return null!==t&&this.modeId===t.getModeId()&&(t instanceof e&&e.safeEquals(this.stateData,t.stateData))},e.safeEquals=function(e,t){return null===e&&null===t||null!==e&&null!==t&&e.equals(t)},e.safeClone=function(e){return e?e.clone():null},e}();t.AbstractState=n}),define(l[187],h([1,0]),function(e,t){"use strict";!function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(t.IndentAction||(t.IndentAction={}));var n=(t.IndentAction,function(){function e(e){if(this.open=e.open,this.close=e.close,this._standardTokenMask=0,Array.isArray(e.notIn))for(var t=0,n=e.notIn.length;t<n;t++){var i=e.notIn[t];switch(i){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4}}}return e.prototype.isOK=function(e){return 0===(this._standardTokenMask&e)},e}());t.StandardAutoClosingPairConditional=n}),define(l[892],h([1,0,142]),function(e,t,n){"use strict";function i(e,t,n){return r(e,t,n)>0}function r(e,t,i){if(Array.isArray(e)){var o=e.map(function(e){return r(e,t,i)});return Math.max.apply(Math,o)}if("string"==typeof e)return e===i?10:"*"===e?5:0;if(e){var s=e,a=0,c=0,u=0;if(s.language)if(s.language===i)a=10;else{if("*"!==s.language)return 0;a=5}if(s.scheme){if(s.scheme!==t.scheme)return 0;c=10}if(s.pattern)if(s.pattern===t.fsPath)u=10;else{if(!n.match(s.pattern,t.fsPath))return 0;u=5}return Math.max(a,c,u)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,t.score=r}),define(l[893],h([1,0,11,892]),function(e,t,n,i){"use strict";var r=function(){function e(){this._clock=0,this._entries=[],this._onDidChange=new n.Emitter}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){var n=this,i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),{dispose:function(){if(i){var e=n._entries.indexOf(i);e>=0&&(n._entries.splice(e,1),n._lastCandidate=void 0,n._onDidChange.fire(n._entries.length),i=void 0)}}}},e.prototype.has=function(e){return this.all(e).length>0},e.prototype.all=function(e){if(!e||e.isTooLargeForHavingARichMode())return[];this._updateScores(e);for(var t=[],n=0,i=this._entries;n<i.length;n++){var r=i[n];r._score>0&&t.push(r.provider)}return t},e.prototype.ordered=function(e){var t=[];return this._orderedForEach(e,function(e){return t.push(e.provider)}),t},e.prototype.orderedGroups=function(e){var t,n,i=[];return this._orderedForEach(e,function(e){t&&n===e._score?t.push(e.provider):(n=e._score,t=[e.provider],i.push(t))}),i},e.prototype._orderedForEach=function(e,t){if(e&&!e.isTooLargeForHavingARichMode()){this._updateScores(e);for(var n=0;n<this._entries.length;n++){var i=this._entries[n];i._score>0&&t(i)}}},e.prototype._updateScores=function(t){var n={uri:t.uri.toString(),language:t.getModeId()};if(!this._lastCandidate||this._lastCandidate.language!==n.language||this._lastCandidate.uri!==n.uri){this._lastCandidate=n;for(var r=0,o=this._entries;r<o.length;r++){var s=o[r];s._score=i.score(s.selector,t.uri,t.getModeId())}this._entries.sort(e._compareByScoreAndTime)}},e._compareByScoreAndTime=function(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}),define(l[49],h([1,0,893,11]),function(e,t,n,i){"use strict";!function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(t.DocumentHighlightKind||(t.DocumentHighlightKind={}));t.DocumentHighlightKind;!function(e){e[e.File=0]="File",e[e.Module=1]="Module",e[e.Namespace=2]="Namespace",e[e.Package=3]="Package",e[e.Class=4]="Class",e[e.Method=5]="Method",e[e.Property=6]="Property",e[e.Field=7]="Field",e[e.Constructor=8]="Constructor",e[e.Enum=9]="Enum",e[e.Interface=10]="Interface",e[e.Function=11]="Function",e[e.Variable=12]="Variable",e[e.Constant=13]="Constant",e[e.String=14]="String",e[e.Number=15]="Number",e[e.Boolean=16]="Boolean",e[e.Array=17]="Array",e[e.Object=18]="Object",e[e.Key=19]="Key",e[e.Null=20]="Null"}(t.SymbolKind||(t.SymbolKind={}));var r,r=t.SymbolKind;!function(e){function t(t){switch(t){case e.Method:return"method";case e.Function:return"function";case e.Constructor:return"constructor";case e.Variable:return"variable";case e.Class:return"class";case e.Interface:return"interface";case e.Namespace:return"namespace";case e.Package:return"package";case e.Module:return"module";case e.Property:return"property";case e.Enum:return"enum";case e.String:return"string";case e.File:return"file";case e.Array:return"array";case e.Number:return"number";case e.Boolean:return"boolean";case e.Object:return"object";case e.Key:return"key";case e.Null:return"null"}return"property"}function n(t){switch(t){case"method":return e.Method;case"function":return e.Function;case"constructor":return e.Constructor;case"variable":return e.Variable;case"class":return e.Class;case"interface":return e.Interface;case"namespace":return e.Namespace;case"package":return e.Package;case"module":return e.Module;case"property":return e.Property;case"enum":return e.Enum;case"string":return e.String;case"file":return e.File;case"array":return e.Array;case"number":return e.Number;case"boolean":return e.Boolean;case"object":return e.Object;case"key":return e.Key;case"null":return e.Null}return e.Property}e.from=t,e.to=n}(r=t.SymbolKind||(t.SymbolKind={})),t.ReferenceProviderRegistry=new n.default,t.RenameProviderRegistry=new n.default,t.SuggestRegistry=new n.default,t.SignatureHelpProviderRegistry=new n.default,t.HoverProviderRegistry=new n.default,t.DocumentSymbolProviderRegistry=new n.default,t.DocumentHighlightProviderRegistry=new n.default,t.DefinitionProviderRegistry=new n.default,t.CodeLensProviderRegistry=new n.default,t.CodeActionProviderRegistry=new n.default,t.DocumentFormattingEditProviderRegistry=new n.default,t.DocumentRangeFormattingEditProviderRegistry=new n.default,t.OnTypeFormattingEditProviderRegistry=new n.default,t.LinkProviderRegistry=new n.default;var o=function(){function e(){this._onDidChange=new i.Emitter,this.onDidChange=this._onDidChange.event,this._map=Object.create(null)}return e.prototype.fire=function(e){this._onDidChange.fire({languageId:e})},e.prototype.register=function(e,t){var n=this;return this._map[e]=t,this.fire(e),{dispose:function(){n._map[e]===t&&(delete n._map[e],n.fire(e))}}},e.prototype.get=function(e){return this._map[e]||null},e}();t.TokenizationRegistryImpl=o,t.TokenizationRegistry=new o}),define(l[895],h([1,0,277]),function(e,t,n){"use strict";function i(e){return e&&"function"==typeof e.getLineCount&&"function"==typeof e.getLineContent?u.computeLinks(e):[]}var r;!function(e){e[e.Invalid=0]="Invalid",e[e.Start=1]="Start",e[e.H=2]="H",e[e.HT=3]="HT",e[e.HTT=4]="HTT",e[e.HTTP=5]="HTTP",e[e.F=6]="F",e[e.FI=7]="FI",e[e.FIL=8]="FIL",e[e.BeforeColon=9]="BeforeColon",e[e.AfterColon=10]="AfterColon",e[e.AlmostThere=11]="AlmostThere",e[e.End=12]="End",e[e.Accept=13]="Accept"}(r||(r={}));var o,s=function(){function e(e){for(var t=0,n=0,i=0,r=e.length;i<r;i++){var o=e[i],s=o[0],a=o[1],c=o[2];a>t&&(t=a),s>n&&(n=s),c>n&&(n=c)}for(var u=[],i=0;i<=n;i++){for(var l=[],h=0;h<=t;h++)l[h]=0;u[i]=l}for(var i=0,r=e.length;i<r;i++){var d=e[i],s=d[0],a=d[1],c=d[2];u[s][a]=c}this._states=u,this._maxCharCode=t}return e.prototype.nextState=function(e,t){return t<0||t>this._maxCharCode?0:this._states[e][t]},e}(),a=new s([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]]);!function(e){e[e.None=0]="None",e[e.ForceTermination=1]="ForceTermination",e[e.CannotEndIn=2]="CannotEndIn"}(o||(o={}));var c=function(){for(var e=new n.CharacterClassifier(0),t=" \t<>'\"",i=0;i<t.length;i++)e.set(t.charCodeAt(i),1);for(var r=".,;",i=0;i<r.length;i++)e.set(r.charCodeAt(i),2);return e}(),u=function(){function e(){}return e._createLink=function(e,t,n,i){var r=i-1;do{var o=e.charCodeAt(r),s=c.get(o);if(2!==s)break;r--}while(r>n);return{range:{startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:r+2},url:e.substring(n,r+1)}},e.computeLinks=function(t){for(var n=[],i=1,r=t.getLineCount();i<=r;i++){for(var o=t.getLineContent(i),s=o.length,u=0,l=0,h=1,d=!1,p=!1,f=!1;u<s;){var g=!1,v=o.charCodeAt(u);if(13===h){var m=void 0;switch(v){case 40:d=!0,m=0;break;case 41:m=d?0:1;break;case 91:p=!0,m=0;break;case 93:m=p?0:1;break;case 123:f=!0,m=0;break;case 125:m=f?0:1;break;default:m=c.get(v)}1===m&&(n.push(e._createLink(o,i,l,u)),g=!0)}else if(12===h){var m=c.get(v);1===m?g=!0:h=13}else h=a.nextState(h,v),0===h&&(g=!0);g&&(h=1,d=!1,p=!1,f=!1,l=u+1),u++}13===h&&n.push(e._createLink(o,i,l,s))}return n},e}();t.computeLinks=i}),define(l[374],h([1,0,153,170]),function(e,t,n,i){"use strict";function r(e,t,r,o,s){void 0===o&&(o=0);var a=[new i.Token(o,"")],c=[new n.ModeTransition(o,e)];return{tokens:a,actualStopOffset:o+t.length,endState:r,modeTransitions:c}}var o=function(){function e(e,t){this.modeId=e,this.stateData=t}return e.prototype.clone=function(){var t=this.stateData?this.stateData.clone():null;return new e(this.modeId,t)},e.prototype.equals=function(e){if(this.modeId!==e.getModeId())return!1;var t=e.getStateData();return!this.stateData&&!t||!(!this.stateData||!t)&&this.stateData.equals(t)},e.prototype.getModeId=function(){return this.modeId},e.prototype.tokenize=function(e){return e.advanceToEOS(),{type:""}},e.prototype.getStateData=function(){return this.stateData},e.prototype.setStateData=function(e){this.stateData=e},e}();t.NullState=o,t.NULL_MODE_ID="vs.editor.nullMode",t.nullTokenize=r}),define(l[185],h([1,0,153]),function(e,t,n){"use strict";function i(e,t){var i=e.modeTransitions;if(1===i.length)return new s(e,i[0].modeId,0,e.getTokenCount(),0,e.getLineContent().length);var r=n.ModeTransition.findIndexInSegmentsArray(i,t),o=i[r].modeId,a=i[r].startIndex,c=e.findTokenIndexAtOffset(a),u=-1,l=-1;r+1<i.length?(l=e.findTokenIndexAtOffset(i[r+1].startIndex),u=e.getTokenStartOffset(l)):(l=e.getTokenCount(),u=e.getLineContent().length);var h=e.getTokenStartOffset(c);return new s(e,o,c,l,h,u)}function r(e){return 0!==(7&e)}var o=function(){function e(e,t,n,i){this.tokens=e,this.modeTransitions=t,this.actualStopOffset=n,this.endState=i,this.retokenize=null}return e}();t.RawLineTokens=o,t.createScopedLineTokens=i;var s=function(){function e(e,t,n,i,r,o){this._actual=e,this.modeId=t,this._firstTokenIndex=n,this._lastTokenIndex=i,this.firstCharOffset=r,this._lastCharOffset=o}return e.prototype.getLineContent=function(){var e=this._actual.getLineContent();return e.substring(this.firstCharOffset,this._lastCharOffset)},e.prototype.getTokenCount=function(){return this._lastTokenIndex-this._firstTokenIndex},e.prototype.findTokenIndexAtOffset=function(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex},e.prototype.getTokenStartOffset=function(e){return this._actual.getTokenStartOffset(e+this._firstTokenIndex)-this.firstCharOffset},e.prototype.getStandardTokenType=function(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)},e}();t.ScopedLineTokens=s;var a;!function(e){e[e.value=7]="value"}(a||(a={})),t.ignoreBracketsInToken=r}),define(l[903],h([1,0,187]),function(e,t,n){"use strict";var i=function(){function e(e){e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(function(e){return new n.StandardAutoClosingPairConditional(e)}):e.brackets?this._autoClosingPairs=e.brackets.map(function(e){return new n.StandardAutoClosingPairConditional({open:e[0],close:e[1]})}):this._autoClosingPairs=[],this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}return e.prototype.getAutoClosingPairs=function(){return this._autoClosingPairs},e.prototype.shouldAutoClosePair=function(e,t,n){if(0===t.getTokenCount())return!0;for(var i=t.findTokenIndexAtOffset(n-2),r=t.getStandardTokenType(i),o=0;o<this._autoClosingPairs.length;++o){var s=this._autoClosingPairs[o];if(s.open===e)return s.isOK(r)}return!0},e.prototype.getSurroundingPairs=function(){return this._surroundingPairs},e}();t.CharacterPairSupport=i}),define(l[904],h([1,0]),function(e,t){"use strict";var n=function(){function e(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}return e.prototype.navigateValueSet=function(e,t,n,i,r){if(e&&t){var o=this.doNavigateValueSet(t,r);if(o)return{range:e,value:o}}if(n&&i){var o=this.doNavigateValueSet(i,r);if(o)return{range:n,value:o}}return null},e.prototype.doNavigateValueSet=function(e,t){var n=this.numberReplace(e,t);return null!==n?n:this.textReplace(e,t)},e.prototype.numberReplace=function(e,t){var n=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),i=Number(e),r=parseFloat(e);return isNaN(i)||isNaN(r)||i!==r?null:0!==i||t?(i=Math.floor(i*n),i+=t?n:-n,String(i/n)):null},e.prototype.textReplace=function(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)},e.prototype.valueSetsReplace=function(e,t,n){for(var i=null,r=0,o=e.length;null===i&&r<o;r++)i=this.valueSetReplace(e[r],t,n);return i},e.prototype.valueSetReplace=function(e,t,n){var i=e.indexOf(t);return i>=0?(i+=n?1:-1,i<0?i=e.length-1:i%=e.length,e[i]):null},e.INSTANCE=new e,e}();t.BasicInplaceReplace=n}),define(l[906],h([1,0,7,12,187]),function(e,t,n,i,r){"use strict";var o=function(){function e(t){t=t||{},t.brackets=t.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=t.brackets.map(function(t){return{open:t[0],openRegExp:e._createOpenBracketRegExp(t[0]),close:t[1],closeRegExp:e._createCloseBracketRegExp(t[1])}}),this._regExpRules=t.regExpRules||[],this._indentationRules=t.indentationRules}return e.prototype.onEnter=function(t,n,i){for(var r=0,o=this._regExpRules.length;r<o;r++){var s=this._regExpRules[r];if(s.beforeText.test(n)){if(!s.afterText)return s.action;if(s.afterText.test(i))return s.action}}if(n.length>0&&i.length>0)for(var r=0,o=this._brackets.length;r<o;r++){var a=this._brackets[r];if(a.openRegExp.test(n)&&a.closeRegExp.test(i))return e._INDENT_OUTDENT}if(this._indentationRules){if(this._indentationRules.increaseIndentPattern&&this._indentationRules.increaseIndentPattern.test(n))return e._INDENT;if(this._indentationRules.indentNextLinePattern&&this._indentationRules.indentNextLinePattern.test(n))return e._INDENT;if(/^\s/.test(n)){if(this._indentationRules.decreaseIndentPattern&&this._indentationRules.decreaseIndentPattern.test(i))return e._OUTDENT;if(this._indentationRules.indentNextLinePattern&&this._indentationRules.indentNextLinePattern.test(t))return e._OUTDENT}}if(n.length>0)for(var r=0,o=this._brackets.length;r<o;r++){var a=this._brackets[r];if(a.openRegExp.test(n))return e._INDENT}return null},e._createOpenBracketRegExp=function(t){var n=i.escapeRegExpCharacters(t);return/\B/.test(n.charAt(0))||(n="\\b"+n),n+="\\s*$",e._safeRegExp(n)},e._createCloseBracketRegExp=function(t){var n=i.escapeRegExpCharacters(t);return/\B/.test(n.charAt(n.length-1))||(n+="\\b"),n="^\\s*"+n,e._safeRegExp(n)},e._safeRegExp=function(e){try{return new RegExp(e)}catch(e){return n.onUnexpectedError(e),null}},e._INDENT={indentAction:r.IndentAction.Indent},e._INDENT_OUTDENT={indentAction:r.IndentAction.IndentOutdent},e._OUTDENT={indentAction:r.IndentAction.Outdent},e}();t.OnEnterSupport=o}),define(l[204],h([1,0,12,15]),function(e,t,n,i){"use strict";function r(e,t){var n={};return function(i){var r=e(i);return n.hasOwnProperty(r)||(n[r]=t(i)),n[r]}}function o(e){var t="("+e.map(n.escapeRegExpCharacters).join(")|(")+")";return n.createRegExp(t,!0)}var s=function(){function e(e,t,n,i,r){this.modeId=e,this.open=t,this.close=n,this.forwardRegex=i,this.reversedRegex=r}return e}();t.RichEditBracket=s;var a=function(){function e(e,t){var n=this;this.brackets=t.map(function(t){return new s(e,t[0],t[1],c({open:t[0],close:t[1]}),u({open:t[0],close:t[1]}))}),this.forwardRegex=l(this.brackets),this.reversedRegex=h(this.brackets),this.textIsBracket={},this.textIsOpenBracket={};var i=0;this.brackets.forEach(function(e){n.textIsBracket[e.open.toLowerCase()]=e,
n.textIsBracket[e.close.toLowerCase()]=e,n.textIsOpenBracket[e.open.toLowerCase()]=!0,n.textIsOpenBracket[e.close.toLowerCase()]=!1,i=Math.max(i,e.open.length),i=Math.max(i,e.close.length)}),this.maxBracketLength=i}return e}();t.RichEditBrackets=a;var c=r(function(e){return e.open+";"+e.close},function(e){return o([e.open,e.close])}),u=r(function(e){return e.open+";"+e.close},function(e){return o([d(e.open),d(e.close)])}),l=r(function(e){return e.map(function(e){return e.open+";"+e.close}).join(";")},function(e){var t=[];return e.forEach(function(e){t.push(e.open),t.push(e.close)}),o(t)}),h=r(function(e){return e.map(function(e){return e.open+";"+e.close}).join(";")},function(e){var t=[];return e.forEach(function(e){t.push(d(e.open)),t.push(d(e.close))}),o(t)}),d=function(){function e(e){for(var t="",n=e.length-1;n>=0;n--)t+=e.charAt(n);return t}var t=null,n=null;return function(i){return t!==i&&(t=i,n=e(t)),n}}(),p=function(){function e(){}return e._findPrevBracketInText=function(e,t,n,r){var o=n.match(e);if(!o)return null;var s=n.length-o.index,a=o[0].length,c=r+s;return new i.Range(t,c-a+1,t,c+1)},e.findPrevBracketInToken=function(e,t,n,i,r){var o=d(n),s=o.substring(n.length-r,n.length-i);return this._findPrevBracketInText(e,t,s,i)},e.findNextBracketInText=function(e,t,n,r){var o=n.match(e);if(!o)return null;var s=o.index,a=o[0].length,c=r+s;return new i.Range(t,c+1,t,c+1+a)},e.findNextBracketInToken=function(e,t,n,i,r){var o=n.substring(i,r);return this.findNextBracketInText(e,t,o,i)},e}();t.BracketsUtils=p}),define(l[909],h([1,0,185,204,187]),function(e,t,n,i,r){"use strict";var o=function(){function e(e,t,n){n=n||{},this._richEditBrackets=e,this._complexAutoClosePairs=t.filter(function(e){return e.open.length>1&&!!e.close}).map(function(e){return new r.StandardAutoClosingPairConditional(e)}),n.docComment&&this._complexAutoClosePairs.push(new r.StandardAutoClosingPairConditional({open:n.docComment.open,close:n.docComment.close}))}return e.prototype.getElectricCharacters=function(){var e=[];if(this._richEditBrackets)for(var t=0,n=this._richEditBrackets.brackets.length;t<n;t++){var i=this._richEditBrackets.brackets[t],r=i.close.charAt(i.close.length-1);e.push(r)}for(var o=0,s=this._complexAutoClosePairs;o<s.length;o++){var a=s[o];e.push(a.open.charAt(a.open.length-1))}return e=e.filter(function(e,t,n){return n.indexOf(e)===t})},e.prototype.onElectricCharacter=function(e,t,n){return this._onElectricAutoClose(e,t,n)||this._onElectricAutoIndent(e,t,n)},e.prototype._onElectricAutoIndent=function(e,t,r){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;var o=t.findTokenIndexAtOffset(r-1);if(n.ignoreBracketsInToken(t.getStandardTokenType(o)))return null;var s=this._richEditBrackets.reversedRegex,a=t.getLineContent().substring(0,r-1)+e,c=i.BracketsUtils.findPrevBracketInToken(s,1,a,0,a.length);if(!c)return null;var u=a.substring(c.startColumn-1,c.endColumn-1);u=u.toLowerCase();var l=this._richEditBrackets.textIsOpenBracket[u];return l?null:{matchOpenBracket:u}},e.prototype._onElectricAutoClose=function(e,t,n){if(!this._complexAutoClosePairs.length)return null;for(var i=t.getLineContent(),r=0,o=this._complexAutoClosePairs.length;r<o;r++){var s=this._complexAutoClosePairs[r];if(e===s.open.charAt(s.open.length-1)){var a=i.substring(i.length-s.open.length+1)+e;if(a===s.open){var c=t.findTokenIndexAtOffset(n-1),u=t.getStandardTokenType(c);if(s.isOK(u)&&!(i.indexOf(s.close,n-1)>=0))return{appendText:s.close}}}}return null},e}();t.BracketElectricCharacterSupport=o}),define(l[105],h([1,0,903,909,906,204,11,7,12,212,185,187]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";var d=function(){function e(t,r,s){var a=null;r&&(a=r._conf),this._conf=e._mergeConf(a,s),this._conf.brackets&&(this.brackets=new o.RichEditBrackets(t,this._conf.brackets)),this._handleOnEnter(t,this._conf),this._handleComments(t,this._conf),this.characterPair=new n.CharacterPairSupport(this._conf),this.electricCharacter=new i.BracketElectricCharacterSupport(this.brackets,this.characterPair.getAutoClosingPairs(),this._conf.__electricCharacterSupport),this.wordDefinition=this._conf.wordPattern||u.DEFAULT_WORD_REGEXP}return e._mergeConf=function(e,t){return{comments:e?t.comments||e.comments:t.comments,brackets:e?t.brackets||e.brackets:t.brackets,wordPattern:e?t.wordPattern||e.wordPattern:t.wordPattern,indentationRules:e?t.indentationRules||e.indentationRules:t.indentationRules,onEnterRules:e?t.onEnterRules||e.onEnterRules:t.onEnterRules,autoClosingPairs:e?t.autoClosingPairs||e.autoClosingPairs:t.autoClosingPairs,surroundingPairs:e?t.surroundingPairs||e.surroundingPairs:t.surroundingPairs,__electricCharacterSupport:e?t.__electricCharacterSupport||e.__electricCharacterSupport:t.__electricCharacterSupport}},e.prototype._handleOnEnter=function(e,t){var n={},i=!0;t.brackets&&(i=!1,n.brackets=t.brackets),t.indentationRules&&(i=!1,n.indentationRules=t.indentationRules),t.onEnterRules&&(i=!1,n.regExpRules=t.onEnterRules),i||(this.onEnter=new r.OnEnterSupport(n))},e.prototype._handleComments=function(e,t){var n=t.comments;if(n&&(this.comments={},n.lineComment&&(this.comments.lineCommentToken=n.lineComment),n.blockComment)){var i=n.blockComment,r=i[0],o=i[1];this.comments.blockCommentStartToken=r,this.comments.blockCommentEndToken=o}},e}();t.RichEditSupport=d;var p=function(){function e(){this._onDidChange=new s.Emitter,this.onDidChange=this._onDidChange.event,this._entries=Object.create(null)}return e.prototype.register=function(e,t){var n=this._entries[e]||null;return this._entries[e]=new d(e,n,t),this._onDidChange.fire(void 0),{dispose:function(){}}},e.prototype._getRichEditSupport=function(e){return this._entries[e]},e.prototype._getElectricCharacterSupport=function(e){var t=this._getRichEditSupport(e);return t?t.electricCharacter||null:null},e.prototype.getElectricCharacters=function(e){var t=this._getElectricCharacterSupport(e);return t?t.getElectricCharacters():[]},e.prototype.onElectricCharacter=function(e,t,n){var i=l.createScopedLineTokens(t,n-1),r=this._getElectricCharacterSupport(i.modeId);return r?r.onElectricCharacter(e,i,n-i.firstCharOffset):null},e.prototype.getComments=function(e){var t=this._getRichEditSupport(e);return t?t.comments||null:null},e.prototype._getCharacterPairSupport=function(e){var t=this._getRichEditSupport(e);return t?t.characterPair||null:null},e.prototype.getAutoClosingPairs=function(e){var t=this._getCharacterPairSupport(e);return t?t.getAutoClosingPairs():[]},e.prototype.getSurroundingPairs=function(e){var t=this._getCharacterPairSupport(e);return t?t.getSurroundingPairs():[]},e.prototype.shouldAutoClosePair=function(e,t,n){var i=l.createScopedLineTokens(t,n-1),r=this._getCharacterPairSupport(i.modeId);return!!r&&r.shouldAutoClosePair(e,i,n-i.firstCharOffset)},e.prototype.getWordDefinition=function(e){var t=this._getRichEditSupport(e);return t?u.ensureValidWordDefinition(t.wordDefinition||null):u.ensureValidWordDefinition(null)},e.prototype._getOnEnterSupport=function(e){var t=this._getRichEditSupport(e);return t?t.onEnter||null:null},e.prototype.getRawEnterActionAtPosition=function(e,t,n){var i=e.getLineTokens(t,!1),r=l.createScopedLineTokens(i,n-1),o=this._getOnEnterSupport(r.modeId);if(!o)return null;var s=r.getLineContent(),c=s.substr(0,n-1-r.firstCharOffset),u=s.substr(n-1-r.firstCharOffset),h="";if(t>1&&0===r.firstCharOffset){var d=e.getLineTokens(t-1,!1),p=e.getLineMaxColumn(t-1),f=l.createScopedLineTokens(d,p-1);f.modeId===r.modeId&&(h=f.getLineContent())}var g=null;try{g=o.onEnter(h,c,u)}catch(e){a.onUnexpectedError(e)}return g},e.prototype.getEnterActionAtPosition=function(e,t,n){var i=e.getLineContent(t),r=c.getLeadingWhitespace(i);r.length>n-1&&(r=r.substring(0,n-1));var o=this.getRawEnterActionAtPosition(e,t,n);return o?o.appendText||(o.indentAction===h.IndentAction.Indent||o.indentAction===h.IndentAction.IndentOutdent?o.appendText="\t":o.appendText=""):o={indentAction:h.IndentAction.None,appendText:""},o.removeText&&(r=r.substring(0,r.length-1)),{enterAction:o,indentation:r}},e.prototype.getBracketsSupport=function(e){var t=this._getRichEditSupport(e);return t?t.brackets||null:null},e}();t.LanguageConfigurationRegistryImpl=p,t.LanguageConfigurationRegistry=new p}),define(l[240],h([1,0,12,49,374]),function(e,t,n,i,r){"use strict";function o(e,t){return c(e,a(t))}function s(e,t,n){return u(e,a(t),n)}function a(e){var t=i.TokenizationRegistry.get(e);return t?t:{getInitialState:function(){return new r.NullState(null,null)},tokenize:function(e,t,n,i){return void 0===n&&(n=0),r.nullTokenize(null,e,t,n,i)}}}function c(e,t){var n={tagName:"div",style:"white-space: pre-wrap",children:[]},i=function(e,t){n.children.push({tagName:"span",className:e,text:t})},r=function(){n.children.push({tagName:"br"})};return l(e,t,i,r),n}function u(e,t,i){void 0===i&&(i=""),i&&i.length>0&&(i=" "+i);var r="",o=function(e,t){r+='<span class="'+e+i+'">'+n.escape(t)+"</span>"},s=function(){r+="<br/>"};return r='<div class="monaco-tokenized-source">',l(e,t,o,s),r+="</div>"}function l(e,t,n,i){for(var r=e.split(/\r\n|\r|\n/),o=t.getInitialState(),s=0;s<r.length;s++)o=h(r[s],t,n,o),s<r.length-1&&i()}function h(e,t,n,i){for(var r,o=t.tokenize(e,i),s=o.endState,a=o.tokens,c=0,u=0;u<a.length;u++){var l=a[u];u<a.length-1?(r=e.substring(c,a[u+1].startIndex),c=a[u+1].startIndex):r=e.substr(c);var h="token",d=l.type.replace(/[^a-z0-9\-]/gi," ");d.length>0&&(h+=" "+d),n(h,r)}return s}t.tokenizeToHtmlContent=o,t.tokenizeToString=s}),define(l[917],h([1,0,11]),function(e,t,n){"use strict";var i=function(){function e(){this._codeEditors=Object.create(null),this._onCodeEditorAdd=new n.Emitter,this._onCodeEditorRemove=new n.Emitter}return e.prototype.addCodeEditor=function(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)},Object.defineProperty(e.prototype,"onCodeEditorAdd",{get:function(){return this._onCodeEditorAdd.event},enumerable:!0,configurable:!0}),e.prototype.removeCodeEditor=function(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)},Object.defineProperty(e.prototype,"onCodeEditorRemove",{get:function(){return this._onCodeEditorRemove.event},enumerable:!0,configurable:!0}),e.prototype.getCodeEditor=function(e){return this._codeEditors[e]||null},e.prototype.listCodeEditors=function(){var e=this;return Object.keys(this._codeEditors).map(function(t){return e._codeEditors[t]})},e.prototype.getFocusedCodeEditor=function(){for(var e=null,t=this.listCodeEditors(),n=0;n<t.length;n++){var i=t[n];if(i.isFocused())return i;i.hasWidgetFocus()&&(e=i)}return e},e}();t.AbstractCodeEditorService=i}),define(l[918],h([1,0,11,52,44,15,46,2,243,16]),function(e,t,n,i,r,o,s,a,c,u){"use strict";function l(){return{editor:void 0,languages:void 0,CancellationTokenSource:c.CancellationTokenSource,Emitter:n.Emitter,KeyCode:p,KeyMod:d,Keybinding:i.Keybinding,Position:r.Position,Range:o.Range,Selection:s.Selection,SelectionDirection:s.SelectionDirection,Severity:h,Promise:a.TPromise,Uri:u.default}}!function(e){e[e.Ignore=0]="Ignore",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error"}(t.Severity||(t.Severity={}));var h=t.Severity,d=function(){function e(){}return e.chord=function(e,t){return i.KeyChord(e,t)},e.CtrlCmd=32768,e.Shift=16384,e.Alt=8192,e.WinCtrl=4096,e}();t.KeyMod=d,function(e){e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.KEY_0=21]="KEY_0",e[e.KEY_1=22]="KEY_1",e[e.KEY_2=23]="KEY_2",e[e.KEY_3=24]="KEY_3",e[e.KEY_4=25]="KEY_4",e[e.KEY_5=26]="KEY_5",e[e.KEY_6=27]="KEY_6",e[e.KEY_7=28]="KEY_7",e[e.KEY_8=29]="KEY_8",e[e.KEY_9=30]="KEY_9",e[e.KEY_A=31]="KEY_A",e[e.KEY_B=32]="KEY_B",e[e.KEY_C=33]="KEY_C",e[e.KEY_D=34]="KEY_D",e[e.KEY_E=35]="KEY_E",e[e.KEY_F=36]="KEY_F",e[e.KEY_G=37]="KEY_G",e[e.KEY_H=38]="KEY_H",e[e.KEY_I=39]="KEY_I",e[e.KEY_J=40]="KEY_J",e[e.KEY_K=41]="KEY_K",e[e.KEY_L=42]="KEY_L",e[e.KEY_M=43]="KEY_M",e[e.KEY_N=44]="KEY_N",e[e.KEY_O=45]="KEY_O",e[e.KEY_P=46]="KEY_P",e[e.KEY_Q=47]="KEY_Q",e[e.KEY_R=48]="KEY_R",e[e.KEY_S=49]="KEY_S",e[e.KEY_T=50]="KEY_T",e[e.KEY_U=51]="KEY_U",e[e.KEY_V=52]="KEY_V",e[e.KEY_W=53]="KEY_W",e[e.KEY_X=54]="KEY_X",e[e.KEY_Y=55]="KEY_Y",e[e.KEY_Z=56]="KEY_Z",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.NumLock=78]="NumLock",e[e.ScrollLock=79]="ScrollLock",e[e.US_SEMICOLON=80]="US_SEMICOLON",e[e.US_EQUAL=81]="US_EQUAL",e[e.US_COMMA=82]="US_COMMA",e[e.US_MINUS=83]="US_MINUS",e[e.US_DOT=84]="US_DOT",e[e.US_SLASH=85]="US_SLASH",e[e.US_BACKTICK=86]="US_BACKTICK",e[e.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",e[e.US_BACKSLASH=88]="US_BACKSLASH",e[e.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",e[e.US_QUOTE=90]="US_QUOTE",e[e.OEM_8=91]="OEM_8",e[e.OEM_102=92]="OEM_102",e[e.NUMPAD_0=93]="NUMPAD_0",e[e.NUMPAD_1=94]="NUMPAD_1",e[e.NUMPAD_2=95]="NUMPAD_2",e[e.NUMPAD_3=96]="NUMPAD_3",e[e.NUMPAD_4=97]="NUMPAD_4",e[e.NUMPAD_5=98]="NUMPAD_5",e[e.NUMPAD_6=99]="NUMPAD_6",e[e.NUMPAD_7=100]="NUMPAD_7",e[e.NUMPAD_8=101]="NUMPAD_8",e[e.NUMPAD_9=102]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=104]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",e[e.MAX_VALUE=109]="MAX_VALUE"}(t.KeyCode||(t.KeyCode={}));var p=t.KeyCode;t.createMonacoBaseAPI=l}),define(l[239],h([1,0]),function(e,t){"use strict";var n=function(){function e(e,t){this.lineNumber=e,this.ranges=t}return e}();t.LineVisibleRanges=n;var i=function(){function e(e,t,n){this.top=0|e,this.left=0|t,this.width=0|n}return e}();t.VisibleRange=i;var r=function(){function e(e,t){this.left=0|e,this.width=0|t}return e}();t.HorizontalRange=r}),define(l[924],h([1,0,239]),function(e,t,n){"use strict";var i=function(){function e(){}return e._createRange=function(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange},e._detachRange=function(e,t){e.selectNodeContents(t)},e._readClientRects=function(e,t,n,i,r){var o=this._createRange();try{return o.setStart(e,t),o.setEnd(n,i),o.getClientRects()}catch(e){return null}finally{this._detachRange(o,r)}},e._createHorizontalRangesFromClientRects=function(e,t,i){if(!e||0===e.length)return null;for(var r=[],o=Math.max(0,e[0].left*i-t),s=e[0].width*i,a=1,c=e.length;a<c;a++){var u=Math.max(0,e[a].left*i-t),l=e[a].width*i;u<o&&console.error("Unexpected: RangeUtil._createHorizontalRangesFromClientRects: client rects are not sorted"),o+s+.9>=u?s=Math.max(s,u+l-o):(r.push(new n.HorizontalRange(o,s)),o=u,s=l)}return r.push(new n.HorizontalRange(o,s)),r},e.readHorizontalRanges=function(e,t,n,i,r,o,s,a){var c=0,u=e.children.length-1;if(c>u)return null;t=Math.min(u,Math.max(c,t)),i=Math.min(u,Math.max(c,i)),t!==i&&i>0&&0===r&&(i--,r=Number.MAX_VALUE);var l=e.children[t].firstChild,h=e.children[i].firstChild;if(!l||!h)return null;n=Math.min(l.textContent.length,Math.max(0,n)),r=Math.min(h.textContent.length,Math.max(0,r));var d=this._readClientRects(l,n,h,r,a);return this._createHorizontalRangesFromClientRects(d,o,s)},e}();t.RangeUtil=i}),define(l[925],h([1,0]),function(e,t){"use strict";var n=function(){function e(e,t,n,i,r){this.configuration=e,this.model=t,this.privateViewEventBus=n,this.addEventHandler=i,this.removeEventHandler=r}return e}();t.ViewContext=n}),define(l[238],h([1,0]),function(e,t){"use strict";function n(e){var t=e.lineContent,n=t.length,i=e.tabSize,r=e.spaceWidth,o=e.lineParts.parts,a=e.renderWhitespace,u=e.renderControlCharacters,l=e.stopRenderingLineAfter===-1?n:e.stopRenderingLineAfter-1;if(0===n)return new c([],0,"<span><span>&nbsp;</span></span>",(!0));if(0===o.length)throw new Error("Cannot render non empty line without line parts!");return s(t,n,i,r,o,a,u,l)}function i(e){return e.indexOf("vs-whitespace")>=0}function r(e){return e<32}function o(e){return String.fromCharCode(u+e)}function s(e,t,n,s,a,u,l,h){t=+t,n=+n,h=+h;var d=0,p="",f=[],g=0,v=0,m=/^\s*$/.test(e);p+="<span>";for(var y=0,b=a.length;y<b;y++){var S=a[y],E="none"!==u&&i(S.type),_=t;if(y+1<b){var C=a[y+1];_=Math.min(t,C.startIndex)}if(g=0,E){for(var w=0,I="";d<_;d++){f[d]=g;var T=e.charCodeAt(d);if(9===T){var x=n-(d+v)%n;for(v+=x-1,g+=x-1,x>0&&(I+="&rarr;",w++,x--);x>0;)I+="&nbsp;",w++,x--}else I+="&middot;",w++;if(g++,d>=h)return p+='<span class="token '+S.type+'" style="width:'+s*w+'px">',p+=I,p+="&hellip;</span></span>",f[d]=g,new c(f,y,p,m)}p+='<span class="token '+S.type+'" style="width:'+s*w+'px">',p+=I,p+="</span>"}else{for(p+='<span class="token ',p+=S.type,p+='">';d<_;d++){f[d]=g;var T=e.charCodeAt(d);switch(T){case 9:var x=n-(d+v)%n;for(v+=x-1,g+=x-1;x>0;)p+="&nbsp;",x--;break;case 32:p+="&nbsp;";break;case 60:p+="&lt;";break;case 62:p+="&gt;";break;case 38:p+="&amp;";break;case 0:p+="&#00;";break;case 65279:case 8232:p+="";break;case 13:p+="&#8203";break;default:p+=l&&r(T)?o(T):e.charAt(d)}if(g++,d>=h)return p+="&hellip;</span></span>",f[d]=g,new c(f,y,p,m)}p+="</span>"}}return p+="</span>",f.push(g),new c(f,a.length-1,p,m)}var a=function(){function e(e,t,n,i,r,o,s){this.lineContent=e,this.tabSize=t,this.spaceWidth=n,this.stopRenderingLineAfter=i,this.renderWhitespace=r,this.renderControlCharacters=o,this.lineParts=s}return e.prototype.equals=function(e){return this.lineContent===e.lineContent&&this.tabSize===e.tabSize&&this.spaceWidth===e.spaceWidth&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.lineParts.equals(e.lineParts)},e}();t.RenderLineInput=a;var c=function(){function e(e,t,n,i){this.charOffsetInPart=e,this.lastRenderedPartIndex=t,this.output=n,this.isWhitespaceOnly=i}return e}();t.RenderLineOutput=c,t.renderLine=n;var u=9216}),define(l[927],h([1,0,2,49,238,157,286]),function(e,t,n,i,r,o,s){"use strict";function a(e,t,n){return u(e,t,n)}function c(e,t){for(var n=[],i=0,o=e.length;i<o;i++){var a=e[i],c=r.renderLine(new r.RenderLineInput(a,t,0,(-1),"none",(!1),new s.LineParts([],a.length+1)));n=n.concat(c.output),n.push("<br/>")}return n.join("")}function u(e,t,n){for(var i=[],a=n.getInitialState(),c=0,u=e.length;c<u;c++){var l=e[c],h=n.tokenize(l,a),d=r.renderLine(new r.RenderLineInput(l,t,0,(-1),"none",(!1),new s.LineParts(h.tokens.map(function(e){return new o.ViewLineToken(e.startIndex,e.type)}),l.length+1)));i=i.concat(d.output),i.push("<br/>"),a=h.endState}return i.join("")}var l=function(){function e(){}return e.colorizeElement=function(e,t,n){n=n||{};var i=n.theme||"vs",r=n.mimeType||t.getAttribute("lang")||t.getAttribute("data-lang");if(!r)return void console.error("Mode not detected");var o=t.firstChild.nodeValue;t.className+="monaco-editor "+i;var s=function(e){t.innerHTML=e};return this.colorize(e,o,r,n).then(s,function(e){return console.error(e)},s)},e._tokenizationSupportChangedPromise=function(e){var t=null,r=function(){t&&(t.dispose(),t=null)};return new n.TPromise(function(n,o,s){t=i.TokenizationRegistry.onDidChange(function(t){t.languageId===e&&(r(),n(void 0))})},r)},e.colorize=function(e,t,r,o){var s=t.split("\n"),u=e.getModeId(r);o=o||{},"undefined"==typeof o.tabSize&&(o.tabSize=4),e.getOrCreateMode(u);var l=i.TokenizationRegistry.get(u);return l?n.TPromise.as(a(s,o.tabSize,l)):n.TPromise.any([this._tokenizationSupportChangedPromise(u),n.TPromise.timeout(500)]).then(function(e){var t=i.TokenizationRegistry.get(u);return t?a(s,o.tabSize,t):c(s,o.tabSize)})},e.colorizeLine=function(e,t,n){void 0===n&&(n=4);var i=r.renderLine(new r.RenderLineInput(e,n,0,(-1),"none",(!1),new s.LineParts(t,e.length+1)));return i.output},e.colorizeModelLine=function(e,t,n){void 0===n&&(n=4);var i=e.getLineContent(t),r=e.getLineTokens(t,!1),o=r.inflate();return this.colorizeLine(i,o,n)},e}();t.Colorizer=l}),define(l[929],h([1,0]),function(e,t){"use strict";var n=function(){function e(e,t,n,i){this.viewportTop=0|e.viewportTop,this.viewportHeight=0|e.viewportHeight,this.bigNumbersDelta=0|e.bigNumbersDelta,this.visibleRangesDeltaTop=0|e.visibleRangesDeltaTop,this.startLineNumber=0|e.startLineNumber,this.endLineNumber=0|e.endLineNumber,this.relativeVerticalOffset=e.relativeVerticalOffset,this.visibleRange=t,this.completelyVisibleLinesRange=n,this._decorations=i.decorations,this._inlineDecorations=i.inlineDecorations}return e.prototype.getDecorationsInViewport=function(){return this._decorations},e.prototype.getInlineDecorationsForLineInViewport=function(e){return e=0|e,this._inlineDecorations[e-this.startLineNumber]},e}();t.ViewLinesViewportData=n}),define(l[930],h([1,0]),function(e,t){"use strict";var n=function(){function e(){this.heights=[],this.ids=[],this.afterLineNumbers=[],this.ordinals=[],this.prefixSum=[],this.prefixSumValidIndex=-1,this.whitespaceId2Index={},this.lastWhitespaceId=0}return e.findInsertionIndex=function(e,t,n,i){for(var r,o=0,s=e.length;o<s;)r=Math.floor((o+s)/2),t===e[r]?i<n[r]?s=r:o=r+1:t<e[r]?s=r:o=r+1;return o},e.prototype.insertWhitespace=function(t,n,i){t=0|t,n=0|n,i=0|i;var r=++this.lastWhitespaceId,o=e.findInsertionIndex(this.afterLineNumbers,t,this.ordinals,n);return this.insertWhitespaceAtIndex(r,o,t,n,i),r},e.prototype.insertWhitespaceAtIndex=function(e,t,n,i,r){e=0|e,t=0|t,n=0|n,i=0|i,r=0|r,this.heights.splice(t,0,r),this.ids.splice(t,0,e),this.afterLineNumbers.splice(t,0,n),this.ordinals.splice(t,0,i),this.prefixSum.splice(t,0,0);for(var o=Object.keys(this.whitespaceId2Index),s=0,a=o.length;s<a;s++){var c=o[s],u=this.whitespaceId2Index[c];u>=t&&(this.whitespaceId2Index[c]=u+1)}this.whitespaceId2Index[e.toString()]=t,this.prefixSumValidIndex=Math.min(this.prefixSumValidIndex,t-1)},e.prototype.changeWhitespace=function(e,t,n){e=0|e,t=0|t,n=0|n;var i=!1;return i=this.changeWhitespaceHeight(e,n)||i,i=this.changeWhitespaceAfterLineNumber(e,t)||i},e.prototype.changeWhitespaceHeight=function(e,t){e=0|e,t=0|t;var n=e.toString();if(this.whitespaceId2Index.hasOwnProperty(n)){var i=this.whitespaceId2Index[n];if(this.heights[i]!==t)return this.heights[i]=t,this.prefixSumValidIndex=Math.min(this.prefixSumValidIndex,i-1),!0}return!1},e.prototype.changeWhitespaceAfterLineNumber=function(t,n){t=0|t,n=0|n;var i=t.toString();if(this.whitespaceId2Index.hasOwnProperty(i)){var r=this.whitespaceId2Index[i];if(this.afterLineNumbers[r]!==n){var o=this.ordinals[r],s=this.heights[r];this.removeWhitespace(t);var a=e.findInsertionIndex(this.afterLineNumbers,n,this.ordinals,o);return this.insertWhitespaceAtIndex(t,a,n,o,s),!0}}return!1},e.prototype.removeWhitespace=function(e){e=0|e;var t=e.toString();if(this.whitespaceId2Index.hasOwnProperty(t)){var n=this.whitespaceId2Index[t];return delete this.whitespaceId2Index[t],this.removeWhitespaceAtIndex(n),!0}return!1},e.prototype.removeWhitespaceAtIndex=function(e){e=0|e,this.heights.splice(e,1),this.ids.splice(e,1),this.afterLineNumbers.splice(e,1),this.ordinals.splice(e,1),this.prefixSum.splice(e,1),this.prefixSumValidIndex=Math.min(this.prefixSumValidIndex,e-1);for(var t=Object.keys(this.whitespaceId2Index),n=0,i=t.length;n<i;n++){var r=t[n],o=this.whitespaceId2Index[r];o>=e&&(this.whitespaceId2Index[r]=o-1)}},e.prototype.onModelLinesDeleted=function(e,t){e=0|e,t=0|t;var n,i,r;for(i=0,r=this.afterLineNumbers.length;i<r;i++)n=this.afterLineNumbers[i],e<=n&&n<=t?this.afterLineNumbers[i]=e-1:n>t&&(this.afterLineNumbers[i]-=t-e+1)},e.prototype.onModelLinesInserted=function(e,t){e=0|e,t=0|t;var n,i,r;for(i=0,r=this.afterLineNumbers.length;i<r;i++)n=this.afterLineNumbers[i],e<=n&&(this.afterLineNumbers[i]+=t-e+1)},e.prototype.getTotalHeight=function(){return 0===this.heights.length?0:this.getAccumulatedHeight(this.heights.length-1)},e.prototype.getAccumulatedHeight=function(e){e=0|e;var t=Math.max(0,this.prefixSumValidIndex+1);0===t&&(this.prefixSum[0]=this.heights[0],t++);for(var n=t;n<=e;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.heights[n];return this.prefixSumValidIndex=Math.max(this.prefixSumValidIndex,e),this.prefixSum[e]},e.prototype.getAccumulatedHeightBeforeLineNumber=function(e){e=0|e;var t=this.findLastWhitespaceBeforeLineNumber(e);return t===-1?0:this.getAccumulatedHeight(t)},e.prototype.findLastWhitespaceBeforeLineNumber=function(e){e=0|e;for(var t=this.afterLineNumbers,n=0,i=t.length-1;n<=i;){var r=i-n|0,o=r/2|0,s=n+o|0;if(t[s]<e){if(s+1>=t.length||t[s+1]>=e)return s;n=s+1|0}else i=s-1|0}return-1},e.prototype.findFirstWhitespaceAfterLineNumber=function(e){e=0|e;var t=this.findLastWhitespaceBeforeLineNumber(e),n=t+1;return n<this.heights.length?n:-1},e.prototype.getFirstWhitespaceIndexAfterLineNumber=function(e){return e=0|e,this.findFirstWhitespaceAfterLineNumber(e)},e.prototype.getCount=function(){return this.heights.length},e.prototype.getAfterLineNumberForWhitespaceIndex=function(e){return e=0|e,this.afterLineNumbers[e]},e.prototype.getIdForWhitespaceIndex=function(e){return e=0|e,this.ids[e]},e.prototype.getHeightForWhitespaceIndex=function(e){return e=0|e,this.heights[e]},e.prototype.getWhitespaces=function(e){e=0|e;for(var t=[],n=0;n<this.heights.length;n++)t.push({id:this.ids[n],afterLineNumber:this.afterLineNumbers[n],heightInLines:this.heights[n]/e});return t},e}();t.WhitespaceComputer=n}),define(l[931],h([1,0,930]),function(e,t,n){"use strict";var i=function(){function e(){this.linesCount=0,this.whitespaces=new n.WhitespaceComputer}return e.prototype.replaceLines=function(e){this.linesCount=e},e.prototype.insertWhitespace=function(e,t,n){return this.whitespaces.insertWhitespace(e,t,n)},e.prototype.changeWhitespace=function(e,t,n){return this.whitespaces.changeWhitespace(e,t,n)},e.prototype.removeWhitespace=function(e){return this.whitespaces.removeWhitespace(e)},e.prototype.onModelLinesDeleted=function(e,t){this.linesCount-=t-e+1,this.whitespaces.onModelLinesDeleted(e,t)},e.prototype.onModelLinesInserted=function(e,t){this.linesCount+=t-e+1,this.whitespaces.onModelLinesInserted(e,t)},e.prototype.getTotalHeight=function(e){e=0|e;var t=e*this.linesCount,n=this.whitespaces.getTotalHeight();return t+n},e.prototype.getVerticalOffsetForLineNumber=function(e,t){e=0|e,t=0|t;var n;n=e>1?t*(e-1):0;var i=this.whitespaces.getAccumulatedHeightBeforeLineNumber(e);return n+i},e.prototype.getWhitespaceAccumulatedHeightBeforeLineNumber=function(e){return this.whitespaces.getAccumulatedHeightBeforeLineNumber(e)},e.prototype.hasWhitespace=function(){return this.whitespaces.getCount()>0},e.prototype.isAfterLines=function(e,t){var n=this.getTotalHeight(t);return e>n},e.prototype.getLineNumberAtOrAfterVerticalOffset=function(e,t){if(e=0|e,t=0|t,e<0)return 1;for(var n=1,i=0|this.linesCount,r=i;n<r;){var o=(n+r)/2|0,s=0|this.getVerticalOffsetForLineNumber(o,t);if(e>=s+t)n=o+1;else{if(e>=s)return o;r=o}}return n>i?i:n},e.prototype.getCenteredLineInViewport=function(e,t,n){e=0|e,t=0|t,n=0|n;for(var i,r,o=this.getLinesViewportData(e,t,n),s=(t-e)/2,a=o.startLineNumber;a<=o.endLineNumber;a++)if(i=o.visibleRangesDeltaTop+o.relativeVerticalOffset[a-o.startLineNumber],r=i+n,i<=s&&s<r||i>s)return a;return o.endLineNumber},e.prototype.getLinesViewportData=function(e,t,n){e=0|e,t=0|t,n=0|n;var i,r,o=0|this.getLineNumberAtOrAfterVerticalOffset(e,n),s=0|this.linesCount,a=0|this.getVerticalOffsetForLineNumber(o,n),c=0|this.whitespaces.getFirstWhitespaceIndexAfterLineNumber(o),u=0|this.whitespaces.getCount();c===-1?(c=u,r=s+1,i=0):(r=0|this.whitespaces.getAfterLineNumberForWhitespaceIndex(c),i=0|this.whitespaces.getHeightForWhitespaceIndex(c));var l=a,h=l,d=5e5,p=0;a>=d&&(p=Math.floor(a/d)*d,p=Math.floor(p/n)*n,h-=p);for(var f=[],g=o;g<=s;g++){for(l+=n,f.push(h),h+=n;r===g;)h+=i,l+=i,c++,c>=u?r=s+1:(r=0|this.whitespaces.getAfterLineNumberForWhitespaceIndex(c),i=0|this.whitespaces.getHeightForWhitespaceIndex(c));if(l>=t){s=g;break}}return{viewportTop:e-p,viewportHeight:t-e,bigNumbersDelta:p,startLineNumber:o,endLineNumber:s,visibleRangesDeltaTop:-(e-p),relativeVerticalOffset:f}},e.prototype.getVerticalOffsetForWhitespaceIndex=function(e,t){e=0|e,t=0|t;var n,i=this.whitespaces.getAfterLineNumberForWhitespaceIndex(e);n=i>=1?t*i:0;var r;return r=e>0?this.whitespaces.getAccumulatedHeight(e-1):0,n+r},e.prototype.getWhitespaceIndexAtOrAfterVerticallOffset=function(e,t){e=0|e,t=0|t;var n,i,r,o=0,s=this.whitespaces.getCount()-1;if(s<0)return-1;var a=this.getVerticalOffsetForWhitespaceIndex(s,t),c=this.whitespaces.getHeightForWhitespaceIndex(s);if(e>=a+c)return-1;for(;o<s;)if(n=Math.floor((o+s)/2),i=this.getVerticalOffsetForWhitespaceIndex(n,t),r=this.whitespaces.getHeightForWhitespaceIndex(n),e>=i+r)o=n+1;else{if(e>=i)return n;s=n}return o},e.prototype.getWhitespaceAtVerticalOffset=function(e,t){e=0|e,t=0|t;var n=this.getWhitespaceIndexAtOrAfterVerticallOffset(e,t);if(n<0)return null;if(n>=this.whitespaces.getCount())return null;var i=this.getVerticalOffsetForWhitespaceIndex(n,t);if(i>e)return null;var r=this.whitespaces.getHeightForWhitespaceIndex(n),o=this.whitespaces.getIdForWhitespaceIndex(n),s=this.whitespaces.getAfterLineNumberForWhitespaceIndex(n);return{id:o,afterLineNumber:s,verticalOffset:i,height:r}},e.prototype.getWhitespaceViewportData=function(e,t,n){e=0|e,t=0|t,n=0|n;var i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e,n),r=this.whitespaces.getCount()-1;if(i<0)return[];var o,s,a,c=[];for(o=i;o<=r&&(s=this.getVerticalOffsetForWhitespaceIndex(o,n),a=this.whitespaces.getHeightForWhitespaceIndex(o),!(s>=t));o++)c.push({id:this.whitespaces.getIdForWhitespaceIndex(o),afterLineNumber:this.whitespaces.getAfterLineNumberForWhitespaceIndex(o),verticalOffset:s,height:a});return c},e.prototype.getWhitespaces=function(e){return this.whitespaces.getWhitespaces(e)},e}();t.VerticalObjects=i}),define(l[935],h([1,0,931,15,929]),function(e,t,n,i,r){"use strict";var o=function(){function e(e,t){this.configuration=e,this._lineHeight=this.configuration.editor.lineHeight,this._scrollBeyondLastLine=this.configuration.editor.viewInfo.scrollBeyondLastLine,this.model=t,this.verticalObjects=new n.VerticalObjects,this.verticalObjects.replaceLines(t.getLineCount())}return e.prototype.onConfigurationChanged=function(e){e.lineHeight&&(this._lineHeight=this.configuration.editor.lineHeight),e.viewInfo.scrollBeyondLastLine&&(this._scrollBeyondLastLine=this.configuration.editor.viewInfo.scrollBeyondLastLine)},e.prototype.insertWhitespace=function(e,t,n){return this.verticalObjects.insertWhitespace(e,t,n)},e.prototype.changeWhitespace=function(e,t,n){return this.verticalObjects.changeWhitespace(e,t,n)},e.prototype.removeWhitespace=function(e){return this.verticalObjects.removeWhitespace(e)},e.prototype.onModelFlushed=function(){this.verticalObjects.replaceLines(this.model.getLineCount())},e.prototype.onModelLinesDeleted=function(e){this.verticalObjects.onModelLinesDeleted(e.fromLineNumber,e.toLineNumber)},e.prototype.onModelLinesInserted=function(e){this.verticalObjects.onModelLinesInserted(e.fromLineNumber,e.toLineNumber)},e.prototype.getVerticalOffsetForLineNumber=function(e){return this.verticalObjects.getVerticalOffsetForLineNumber(e,this._lineHeight)},e.prototype.getLinesTotalHeight=function(){return this.verticalObjects.getTotalHeight(this._lineHeight)},e.prototype.getTotalHeight=function(e,t){var n=this.getLinesTotalHeight();return n+=this._scrollBeyondLastLine?e.height-this._lineHeight:t,Math.max(e.height,n)},e.prototype.isAfterLines=function(e){
return this.verticalObjects.isAfterLines(e,this._lineHeight)},e.prototype.getLineNumberAtOrAfterVerticalOffset=function(e){return this.verticalObjects.getLineNumberAtOrAfterVerticalOffset(e,this._lineHeight)},e.prototype.getHeightForLineNumber=function(e){return this._lineHeight},e.prototype.getWhitespaceViewportData=function(e){return this.verticalObjects.getWhitespaceViewportData(e.top,e.top+e.height,this._lineHeight)},e.prototype.getWhitespaces=function(){return this.verticalObjects.getWhitespaces(this._lineHeight)},e.prototype.getWhitespaceAtVerticalOffset=function(e){return this.verticalObjects.getWhitespaceAtVerticalOffset(e,this._lineHeight)},e.prototype.getLinesViewportData=function(e){var t=this.verticalObjects.getLinesViewportData(e.top,e.top+e.height,this._lineHeight),n=this.model.getDecorationsViewportData(t.startLineNumber,t.endLineNumber),o=new i.Range(t.startLineNumber,1,t.endLineNumber,this.model.getLineMaxColumn(t.endLineNumber)),s=t.startLineNumber===t.endLineNumber||t.relativeVerticalOffset[0]>=t.viewportTop?t.startLineNumber:t.startLineNumber+1,a=t.relativeVerticalOffset[t.relativeVerticalOffset.length-1]+this._lineHeight<=t.viewportTop+t.viewportHeight?t.endLineNumber:t.endLineNumber-1,c=new i.Range(s,1,a,this.model.getLineMaxColumn(a));return new r.ViewLinesViewportData(t,o,c,n)},e.prototype.getCenteredLineInViewport=function(e){return this.verticalObjects.getCenteredLineInViewport(e.top,e.top+e.height,this._lineHeight)},e.prototype.getWhitespaceAccumulatedHeightBeforeLineNumber=function(e){return this.verticalObjects.getWhitespaceAccumulatedHeightBeforeLineNumber(e)},e.prototype.hasWhitespace=function(){return this.verticalObjects.hasWhitespace()},e}();t.LinesLayout=o}),define(l[936],h([1,0,157]),function(e,t,n){"use strict";var i=function(){function e(){}return e.create=function(e,t,i,r){var o=e.sliceAndInflate(t,i,r);return new n.ViewLineTokens(o,r,i-t+r)},e}();t.FilteredLineTokens=i;var r=function(){function e(){}return e.create=function(e,t){var i=e.inflate();return new n.ViewLineTokens(i,0,t)},e}();t.IdentityFilteredLineTokens=r}),define(l[203],h([1,0]),function(e,t){"use strict";var n=function(){function e(e,t){this.index=e,this.remainder=t}return e}();t.PrefixSumIndexOfResult=n;var i=function(){function e(e){this.values=e,this.prefixSum=[];for(var t=0,n=this.values.length;t<n;t++)this.prefixSum[t]=0;this.prefixSumValidIndex=-1}return e.prototype.getCount=function(){return this.values.length},e.prototype.insertValue=function(e,t){e=Math.floor(e),t=Math.floor(t),this.values.splice(e,0,t),this.prefixSum.splice(e,0,0),e-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=e-1)},e.prototype.insertValues=function(t,n){t=Math.floor(t),0!==n.length&&(1===n.length?(this.values.splice(t,0,n[0]),this.prefixSum.splice(t,0,n[0])):(this.values=this.values.slice(0,t).concat(n).concat(this.values.slice(t)),this.prefixSum=this.prefixSum.slice(0,t).concat(e._zeroArray(n.length)).concat(this.prefixSum.slice(t))),t-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=t-1))},e._zeroArray=function(e){e=Math.floor(e);for(var t=[],n=0;n<e;n++)t[n]=0;return t},e.prototype.changeValue=function(e,t){e=Math.floor(e),t=Math.floor(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=e-1))},e.prototype.removeValues=function(e,t){e=Math.floor(e),t=Math.floor(t),this.values.splice(e,t),this.prefixSum.splice(e,t),e-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=e-1)},e.prototype.getTotalValue=function(){return 0===this.values.length?0:this.getAccumulatedValue(this.values.length-1)},e.prototype.getAccumulatedValue=function(e){if(e=Math.floor(e),e<0)return 0;if(e<=this.prefixSumValidIndex)return this.prefixSum[e];var t=this.prefixSumValidIndex+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(var n=t;n<=e;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex=Math.max(this.prefixSumValidIndex,e),this.prefixSum[e]},e.prototype.getIndexOf=function(e){e=Math.floor(e);for(var t,i,r,o=0,s=this.values.length-1;o<=s;)if(t=o+(s-o)/2|0,i=this.getAccumulatedValue(t),r=i-this.values[t],e<r)s=t-1;else{if(!(e>=i))break;o=t+1}return new n(t,e-r)},e}();t.PrefixSumComputer=i}),define(l[947],h([1,0,203]),function(e,t,n){"use strict";var i=function(){function e(e,t,n,i){this._uri=e,this._lines=t,this._eol=n,this._versionId=i}return e.prototype.dispose=function(){this._lines.length=0},Object.defineProperty(e.prototype,"version",{get:function(){return this._versionId},enumerable:!0,configurable:!0}),e.prototype.getText=function(){return this._lines.join(this._eol)},e.prototype.onEvents=function(e){for(var t=null,n=0,i=e.length;n<i;n++){var r=e[n];r.eol&&(t=r.eol)}t&&t!==this._eol&&(this._eol=t,this._lineStarts=null);for(var o=-1,n=0,i=e.length;n<i;n++){var r=e[n];this._acceptDeleteRange(r.range),this._acceptInsertText({lineNumber:r.range.startLineNumber,column:r.range.startColumn},r.text),o=Math.max(o,r.versionId)}o!==-1&&(this._versionId=o)},e.prototype._ensureLineStarts=function(){if(!this._lineStarts){for(var e=[],t=this._eol.length,i=0,r=this._lines.length;i<r;i++)e.push(this._lines[i].length+t);this._lineStarts=new n.PrefixSumComputer(e)}},e.prototype._setLineText=function(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)},e.prototype._acceptDeleteRange=function(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;return void this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)},e.prototype._acceptInsertText=function(e,t){if(0!==t.length){var n=t.split(/\r\n|\r|\n/);if(1===n.length)return void this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]+this._lines[e.lineNumber-1].substring(e.column-1));n[n.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]);for(var i=new Array(n.length-1),r=1;r<n.length;r++)this._lines.splice(e.lineNumber+r-1,0,n[r]),i[r-1]=n[r].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,i)}},e}();t.MirrorModel2=i}),define(l[949],h([1,0,16,2,15,100,880,268,44,947,895,904,212,918]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f){"use strict";function g(){return new y}var v=function(e){function t(){e.apply(this,arguments)}return d(t,e),Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._versionId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eol",{get:function(){return this._eol},enumerable:!0,configurable:!0}),t.prototype.getValue=function(){return this.getText()},t.prototype.getLinesContent=function(){return this._lines.slice(0)},t.prototype.getLineCount=function(){return this._lines.length},t.prototype.getLineContent=function(e){return this._lines[e-1]},t.prototype.getWordAtPosition=function(e,t){var n=p.getWordAtText(e.column,p.ensureValidWordDefinition(t),this._lines[e.lineNumber-1],0);return n?new r.Range(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn):null},t.prototype.getWordUntilPosition=function(e,t){var n=this.getWordAtPosition(e,t);return n?{word:this._lines[e.lineNumber-1].substring(n.startColumn-1,e.column-1),startColumn:n.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}},t.prototype._getAllWords=function(e){var t=this,n=[];return this._lines.forEach(function(i){t._wordenize(i,e).forEach(function(e){n.push(i.substring(e.start,e.end))})}),n},t.prototype.getAllUniqueWords=function(e,t){var n=!1,i=Object.create(null);return this._getAllWords(e).filter(function(e){return t&&!n&&t===e?(n=!0,!1):!i[e]&&(i[e]=!0,!0)})},t.prototype._wordenize=function(e,t){for(var n,i=[];(n=t.exec(e))&&0!==n[0].length;)i.push({start:n.index,end:n.index+n[0].length});return i},t.prototype.getValueInRange=function(e){if(e.startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);var t=this._eol,n=e.startLineNumber-1,i=e.endLineNumber-1,r=[];r.push(this._lines[n].substring(e.startColumn-1));for(var o=n+1;o<i;o++)r.push(this._lines[o]);return r.push(this._lines[i].substring(0,e.endColumn-1)),r.join(t)},t.prototype.offsetAt=function(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(e.lineNumber-2)+(e.column-1)},t.prototype.positionAt=function(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();var t=this._lineStarts.getIndexOf(e),n=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,n)}},t.prototype._validatePosition=function(e){if(!c.Position.isIPosition(e))throw new Error("bad position");var t=e.lineNumber,n=e.column,i=!1;if(t<1)t=1,n=1,i=!0;else if(t>this._lines.length)t=this._lines.length,n=this._lines[t-1].length+1,i=!0;else{var r=this._lines[t-1].length+1;n<1?(n=1,i=!0):n>r&&(n=r,i=!0)}return i?{lineNumber:t,column:n}:e},t}(u.MirrorModel2),m=function(){function e(){this._foreignModule=null}return e.prototype.computeDiff=function(e,t,n){var r=this._getModel(e),o=this._getModel(t);if(!r||!o)return null;var a=r.getLinesContent(),c=o.getLinesContent(),u=new s.DiffComputer(a,c,{shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:n,shouldConsiderTrimWhitespaceInEmptyCase:!0});return i.TPromise.as(u.computeDiff())},e.prototype.computeDirtyDiff=function(e,t,n){var r=this._getModel(e),o=this._getModel(t);if(!r||!o)return null;var a=r.getLinesContent(),c=o.getLinesContent(),u=new s.DiffComputer(a,c,{shouldPostProcessCharChanges:!1,shouldIgnoreTrimWhitespace:n,shouldConsiderTrimWhitespaceInEmptyCase:!1});return i.TPromise.as(u.computeDiff())},e.prototype.computeMoreMinimalEdits=function(t,n,o){var s=this._getModel(t);if(!s)return i.TPromise.as(n);for(var c=[],u=0,l=n;u<l.length;u++){var h=l[u],d=h.range,p=h.text,f=s.getValueInRange(d);if(p=p.replace(/\r\n|\n|\r/g,s.eol),f!==p)if(Math.max(p.length,f.length)>e._diffLimit)c.push({range:d,text:p});else for(var g=a.stringDiff(f,p),v=s.offsetAt(r.Range.lift(d).getStartPosition()),m=0,y=g;m<y.length;m++){var b=y[m],S=s.positionAt(v+b.originalStart),E=s.positionAt(v+b.originalStart+b.originalLength),_={text:p.substr(b.modifiedStart,b.modifiedLength),range:{startLineNumber:S.lineNumber,startColumn:S.column,endLineNumber:E.lineNumber,endColumn:E.column}};s.getValueInRange(_.range)!==_.text&&c.push(_)}}return i.TPromise.as(c)},e.prototype.computeLinks=function(e){var t=this._getModel(e);return t?i.TPromise.as(l.computeLinks(t)):null},e.prototype.textualSuggest=function(e,t,n,r){var o=this._getModel(e);return o?i.TPromise.as(this._suggestFiltered(o,t,new RegExp(n,r))):null},e.prototype._suggestFiltered=function(e,t,n){var i=e.getWordUntilPosition(t,n).word,r=this._suggestUnfiltered(e,t,n);return{suggestions:r.suggestions.filter(function(e){return!!o.fuzzyContiguousFilter(i,e.label)}),incomplete:r.incomplete}},e.prototype._suggestUnfiltered=function(e,t,n){var i=e.getWordUntilPosition(t,n).word,r=e.getAllUniqueWords(n,i),o=r.filter(function(e){return!/^-?\d*\.?\d/.test(e)}).map(function(e){return{type:"text",label:e,insertText:e,noAutoAccept:!0,overwriteBefore:i.length}});return{suggestions:o}},e.prototype.navigateValueSet=function(e,t,n,r,o){var s=this._getModel(e);if(!s)return null;var a=new RegExp(r,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});var c=s.getValueInRange(t),u=s.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a),l=null;null!==u&&(l=s.getValueInRange(u));var d=h.BasicInplaceReplace.INSTANCE.navigateValueSet(t,c,u,l,n);return i.TPromise.as(d)},e.prototype.loadForeignModule=function(e,t){var n=this;return new i.TPromise(function(i,r){self.require([e],function(e){var r={getMirrorModels:function(){return n._getModels()}};n._foreignModule=e.create(r,t);var o=[];for(var s in n._foreignModule)"function"==typeof n._foreignModule[s]&&o.push(s);i(o)},r)})},e.prototype.fmr=function(e,t){if(!this._foreignModule||"function"!=typeof this._foreignModule[e])return i.TPromise.wrapError(new Error("Missing requestHandler or method: "+e));try{return i.TPromise.as(this._foreignModule[e].apply(this._foreignModule,t))}catch(e){return i.TPromise.wrapError(e)}},e._diffLimit=1e4,e}();t.BaseEditorSimpleWorker=m;var y=function(e){function t(){e.call(this),this._models=Object.create(null)}return d(t,e),t.prototype.dispose=function(){this._models=Object.create(null)},t.prototype._getModel=function(e){return this._models[e]},t.prototype._getModels=function(){var e=this,t=[];return Object.keys(this._models).forEach(function(n){return t.push(e._models[n])}),t},t.prototype.acceptNewModel=function(e){this._models[e.url]=new v(n.default.parse(e.url),e.value.lines,e.value.EOL,e.versionId)},t.prototype.acceptModelChanged=function(e,t){if(this._models[e]){var n=this._models[e];n.onEvents(t)}},t.prototype.acceptRemovedModel=function(e){this._models[e]&&delete this._models[e]},t}(m);t.EditorSimpleWorkerImpl=y,t.create=g;var b=self,S="function"==typeof b.importScripts;S&&(b.monaco=f.createMonacoBaseAPI())}),define(l[235],h([1,0]),function(e,t){"use strict";var n=function(){function e(e,t){this.range=e,this.inlineClassName=t}return e}();t.InlineDecoration=n;var i=function(){function e(e){this.range=null,this.source=e}return e}();t.ViewModelDecoration=i}),define(l[336],h([1,0,12,15,157,235,286]),function(e,t,n,i,r,o,s){"use strict";function a(e,t){var n=i.Range.compareRangesUsingStarts(e.range,t.range);return 0===n?e.inlineClassName<t.inlineClassName?-1:e.inlineClassName>t.inlineClassName?1:0:n}function c(e,t,n,i,r,o,s){return"none"!==s&&(o=d(e,n,i,r.getFauxIndentLength(),s,o)),o.length>0?(o.sort(a),g(e,t,r,n,o)):f(r,n)}function u(e,t,n,i,r,o,s){if(r>=t.length)return e;if(0===s)return t[r].startIndex+1;if(s===o)return r+1<t.length?t[r+1].startIndex+1:n;for(var a=t[r].startIndex,c=r+1<t.length?t[r+1].startIndex:n-1,u=a,l=c;u+1<l;){var h=Math.floor((u+l)/2),d=i[h];if(d===s)return h+1;d>s?l=h:u=h}if(u===l)return u+1;var p=i[u],f=l<c?i[l]:o,g=s-p,v=f-s;return g<=v?u+1:l+1}function l(e,t){if(e.length<=1)return e;var n=e[e.length-1].startIndex;return n<t.length?e:e.slice(0,e.length-1)}function h(e,t,n,r,s){e.push(new o.InlineDecoration(new i.Range(t,n,t,r),s))}function d(e,t,i,r,o,s){var a=t.length;if(a===r)return s;var c,u=n.firstNonWhitespaceIndex(t);u===-1?(u=a,c=a):c=n.lastNonWhitespaceIndex(t);var l=[],h=[];r>0&&(l.push(r-1),h.push(null)),u>r&&(l.push(u-1),h.push("vs-whitespace"));for(var d=-1,f=!1,g=Math.max(u,r);g<=c;++g){var v=9===t.charCodeAt(g);v||32===t.charCodeAt(g)?(v&&(f=!0),d===-1&&(d=g)):d!==-1&&(("all"===o||"boundary"===o&&(f||g-d>=2))&&(l.push(d-1),h.push(null),l.push(g-1),h.push("vs-whitespace")),d=-1,f=!1)}return l.push(c),h.push(null),l.push(a-1),h.push("vs-whitespace"),l.push(a),h.push(null),p(e,t,i,s,l,h)}function p(e,t,n,i,r,o){for(var s=t.length,a=0,c=r[a],u=o[a],l=i.slice(0),d=0,p=1,f=0;f<s;f++){var g=t.charCodeAt(f);9===g?d=n:d++,f===c?(null!==u&&h(l,e,p,f+2,u),p=f+2,d%=n,a++,c=r[a],u=o[a]):null!==u&&d>=n&&(h(l,e,p,f+2,u),p=f+2,d%=n)}return l}function f(e,t){var n=e.getTokens();return n=l(n,t),new s.LineParts(n,t.length+1)}function g(e,t,n,i,o){for(var a,c,u,l=y.normalize(e,t,o),h=0,d=l.length,p=n.getTokens(),f=[],g=0,v=p.length;g<v;g++){for(a=p[g].startIndex,c=g+1<v?p[g+1].startIndex:n.getTextLength(),u=p[g].type;h<d&&l[h].startOffset<c;){if(l[h].startOffset>a&&(f.push(new r.ViewLineToken(a,u)),a=l[h].startOffset),f.push(new r.ViewLineToken(a,u+" "+l[h].className)),l[h].endOffset>=c){a=c;break}a=l[h].endOffset+1,h++}a<c&&f.push(new r.ViewLineToken(a,u))}return new s.LineParts(f,i.length+1)}t.createLineParts=c,t.getColumnOfLinePartOffset=u;var v=function(){function e(e,t,n){this.startOffset=e,this.endOffset=t,this.className=n}return e}();t.DecorationSegment=v;var m=function(){function e(){this.stopOffsets=[],this.classNames=[],this.count=0}return e.prototype.consumeLowerThan=function(e,t,n){for(;this.count>0&&this.stopOffsets[0]<e;){for(var i=0;i+1<this.count&&this.stopOffsets[i]===this.stopOffsets[i+1];)i++;n.push(new v(t,this.stopOffsets[i],this.classNames.join(" "))),t=this.stopOffsets[i]+1,this.stopOffsets.splice(0,i+1),this.classNames.splice(0,i+1),this.count-=i+1}return this.count>0&&t<e&&(n.push(new v(t,e-1,this.classNames.join(" "))),t=e),t},e.prototype.insert=function(e,t){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t);else for(var n=0;n<this.count;n++)if(this.stopOffsets[n]>=e){this.stopOffsets.splice(n,0,e),this.classNames.splice(n,0,t);break}this.count++},e}(),y=function(){function e(){}return e.normalize=function(t,n,i){var r=[];if(0===i.length)return r;var o,s,a,c,u,l=new m,h=0;for(c=0,u=i.length;c<u;c++)o=i[c],o.range.endLineNumber<t||o.range.startLineNumber>t||o.range.startLineNumber===o.range.endLineNumber&&o.range.startColumn===o.range.endColumn||(s=o.range.startLineNumber===t?o.range.startColumn-1:n-1,a=o.range.endLineNumber===t?o.range.endColumn-2:e.MAX_LINE_LENGTH-1,a<0||(h=l.consumeLowerThan(s,h,r),0===l.count&&(h=s),l.insert(a,o.inlineClassName)));return l.consumeLowerThan(e.MAX_LINE_LENGTH,h,r),r},e.MAX_LINE_LENGTH=1e7,e}();t.LineDecorationsNormalizer=y}),define(l[956],h([1,0,48,67,336,238,59,924,239]),function(e,t,n,i,r,o,s,a,c){"use strict";function u(e,t,n){var i=e.findIndexOfOffset(t);return i<=n?i:n}function l(e,t,n,i){return new v(e,t,n,i)}function h(e,t,n,i){return new m(e,t,n,i)}function p(e,t,n,i){return new g(e,t,n,i)}var f=function(){function e(e){this._context=e,this._renderWhitespace=this._context.configuration.editor.viewInfo.renderWhitespace,this._renderControlCharacters=this._context.configuration.editor.viewInfo.renderControlCharacters,this._spaceWidth=this._context.configuration.editor.fontInfo.spaceWidth,this._lineHeight=this._context.configuration.editor.lineHeight,this._stopRenderingLineAfter=this._context.configuration.editor.viewInfo.stopRenderingLineAfter,this._isMaybeInvalid=!0,this._renderedViewLine=null}return e.prototype.getDomNode=function(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null},e.prototype.setDomNode=function(e){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=i.createFastDomNode(e)},e.prototype.onContentChanged=function(){this._isMaybeInvalid=!0},e.prototype.onTokensChanged=function(){this._isMaybeInvalid=!0},e.prototype.onModelDecorationsChanged=function(){this._isMaybeInvalid=!0},e.prototype.onConfigurationChanged=function(e){e.viewInfo.renderWhitespace&&(this._isMaybeInvalid=!0,this._renderWhitespace=this._context.configuration.editor.viewInfo.renderWhitespace),e.viewInfo.renderControlCharacters&&(this._isMaybeInvalid=!0,this._renderControlCharacters=this._context.configuration.editor.viewInfo.renderControlCharacters),e.fontInfo&&(this._isMaybeInvalid=!0,this._spaceWidth=this._context.configuration.editor.fontInfo.spaceWidth),e.lineHeight&&(this._isMaybeInvalid=!0,this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo.stopRenderingLineAfter&&(this._isMaybeInvalid=!0,this._stopRenderingLineAfter=this._context.configuration.editor.viewInfo.stopRenderingLineAfter)},e.prototype.shouldUpdateHTML=function(e,t,n){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;var i=r.createLineParts(t,this._context.model.getLineMinColumn(t),this._context.model.getLineContent(t),this._context.model.getTabSize(),this._context.model.getLineTokens(t),n,this._renderWhitespace),s=new o.RenderLineInput(this._context.model.getLineContent(t),this._context.model.getTabSize(),this._spaceWidth,this._stopRenderingLineAfter,this._renderWhitespace,this._renderControlCharacters,i);return(!this._renderedViewLine||!this._renderedViewLine.input.equals(s))&&(this._renderedViewLine=y(this._renderedViewLine?this._renderedViewLine.domNode:null,s,this._context.model.mightContainRTL(),o.renderLine(s)),!0)},e.prototype.getLineOuterHTML=function(e,t,n){e.push('<div lineNumber="'),e.push(t.toString()),e.push('" style="top:'),e.push(n.toString()),e.push("px;height:"),e.push(this._lineHeight.toString()),e.push('px;" class="'),e.push(s.ClassNames.VIEW_LINE),e.push('">'),e.push(this.getLineInnerHTML(t)),e.push("</div>")},e.prototype.getLineInnerHTML=function(e){return this._renderedViewLine.html},e.prototype.layoutLine=function(e,t){this._renderedViewLine.domNode.setLineNumber(String(e)),this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._lineHeight)},e.prototype.getWidth=function(){return this._renderedViewLine?this._renderedViewLine.getWidth():0},e.prototype.getVisibleRangesForRange=function(e,t,n,i){return this._renderedViewLine.getVisibleRangesForRange(e,t,n,i)},e.prototype.getColumnOfNodeOffset=function(e,t,n){return this._renderedViewLine.getColumnOfNodeOffset(e,t,n)},e}();t.ViewLine=f;var g=function(){function e(e,t,n,i){if(this.domNode=e,this.input=t,this.html=i.output,this._charOffsetInPart=i.charOffsetInPart,this._lastRenderedPartIndex=i.lastRenderedPartIndex,this._isWhitespaceOnly=i.isWhitespaceOnly,this._cachedWidth=-1,this._pixelOffsetCache=null,!n){this._pixelOffsetCache=[];for(var r=0,o=this.input.lineParts.maxLineColumn;r<=o;r++)this._pixelOffsetCache[r]=-1}}return e.prototype._getReadingTarget=function(){return this.domNode.domNode.firstChild},e.prototype.getWidth=function(){return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget().offsetWidth),this._cachedWidth},e.prototype.getVisibleRangesForRange=function(e,t,n,i){e=0|e,t=0|t,n=0|n;var r=0|this.input.stopRenderingLineAfter;if(r!==-1&&e>r&&t>r)return null;if(r!==-1&&e>r&&(e=r),r!==-1&&t>r&&(t=r),null!==this._pixelOffsetCache){var o=this._readPixelOffset(e,n,i);if(o===-1)return null;var s=this._readPixelOffset(t,n,i);return s===-1?null:[new c.HorizontalRange(o,s-o)]}return this._readVisibleRangesForRange(e,t,n,i)},e.prototype._readVisibleRangesForRange=function(e,t,n,i){if(e===t){var r=this._readPixelOffset(e,n,i);return r===-1?null:[new c.HorizontalRange(r,0)]}return this._readRawVisibleRangesForRange(e,t,n,i)},e.prototype._readPixelOffset=function(e,t,n){if(null!==this._pixelOffsetCache){var i=this._pixelOffsetCache[e];if(i!==-1)return i;var r=this._actualReadPixelOffset(e,t,n);return this._pixelOffsetCache[e]=r,r}return this._actualReadPixelOffset(e,t,n)},e.prototype._actualReadPixelOffset=function(e,t,n){if(0===this._charOffsetInPart.length)return 0;if(e===this._charOffsetInPart.length&&this._isWhitespaceOnly)return this.getWidth();var i=u(this.input.lineParts,e-1,this._lastRenderedPartIndex),r=this._charOffsetInPart[e-1],o=a.RangeUtil.readHorizontalRanges(this._getReadingTarget(),i,r,i,r,t,this._getScaleRatio(),n);return o&&0!==o.length?o[0].left:-1},e.prototype._readRawVisibleRangesForRange=function(e,t,n,i){if(1===e&&t===this._charOffsetInPart.length)return[new c.HorizontalRange(0,this.getWidth())];var r=u(this.input.lineParts,e-1,this._lastRenderedPartIndex),o=this._charOffsetInPart[e-1],s=u(this.input.lineParts,t-1,this._lastRenderedPartIndex),l=this._charOffsetInPart[t-1];return a.RangeUtil.readHorizontalRanges(this._getReadingTarget(),r,o,s,l,n,this._getScaleRatio(),i)},e.prototype._getScaleRatio=function(){return 1},e.prototype.getColumnOfNodeOffset=function(e,t,n){for(var i=t.textContent.length,o=-1;t;)t=t.previousSibling,o++;var s=this.input.lineParts.parts;return r.getColumnOfLinePartOffset(this.input.stopRenderingLineAfter,s,this.input.lineParts.maxLineColumn,this._charOffsetInPart,o,i,n)},e}(),v=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype._getScaleRatio=function(){return screen.logicalXDPI/screen.deviceXDPI},t}(g),m=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype._readVisibleRangesForRange=function(t,n,i,r){var o=e.prototype._readVisibleRangesForRange.call(this,t,n,i,r);if(!o||0===o.length||t===n||1===t&&n===this._charOffsetInPart.length)return o;var s=this._readPixelOffset(n-1,i,r),a=this._readPixelOffset(n,i,r);if(s!==-1&&a!==-1){var c=s<=a,u=o[o.length-1];c&&u.left<a&&(u.width=a-u.left)}return o},t}(g),y=function(){return window.screen&&window.screen.deviceXDPI&&(navigator.userAgent.indexOf("Trident/6.0")>=0||navigator.userAgent.indexOf("Trident/5.0")>=0)?l:n.isWebKit?h:p}()}),define(l[957],h([1,0,15]),function(e,t,n){"use strict";var i=function(){function e(e,t){this._selection=e,this._isMovingLeft=t}return e.prototype.getEditOperations=function(e,t){var i=this._selection;if(this._selectionId=t.trackSelection(i),i.startLineNumber===i.endLineNumber&&(!this._isMovingLeft||0!==i.startColumn)&&(this._isMovingLeft||i.endColumn!==e.getLineMaxColumn(i.startLineNumber))){var r,o,s,a=i.selectionStartLineNumber,c=e.getLineContent(a);this._isMovingLeft?(r=c.substring(0,i.startColumn-2),o=c.substring(i.startColumn-1,i.endColumn-1),s=c.substring(i.startColumn-2,i.startColumn-1)+c.substring(i.endColumn-1)):(r=c.substring(0,i.startColumn-1)+c.substring(i.endColumn-1,i.endColumn),o=c.substring(i.startColumn-1,i.endColumn-1),s=c.substring(i.endColumn));var u=r+o+s;t.addEditOperation(new n.Range(a,1,a,e.getLineMaxColumn(a)),null),t.addEditOperation(new n.Range(a,1,a,1),u),this._cutStartIndex=i.startColumn+(this._isMovingLeft?-1:1),this._cutEndIndex=this._cutStartIndex+i.endColumn-i.startColumn,this._moved=!0}},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moved&&(n=n.setStartPosition(n.startLineNumber,this._cutStartIndex),n=n.setEndPosition(n.startLineNumber,this._cutEndIndex)),n},e}();t.MoveCarretCommand=i}),define(l[353],h([1,0,118,44,15,46,105]),function(e,t,n,i,r,o,s){"use strict";var a=function(){function e(e){this._selection=e,this._usedEndToken=null}return e._haystackHasNeedleAtOffset=function(e,t,n){if(n<0)return!1;var i=t.length,r=e.length;if(n+i>r)return!1;for(var o=0;o<i;o++)if(e.charCodeAt(n+o)!==t.charCodeAt(o))return!1;return!0},e.prototype._createOperationsForBlockComment=function(t,n,i,r){var o,s=t.startLineNumber,a=t.startColumn,c=t.endLineNumber,u=t.endColumn,l=n.blockCommentStartToken,h=n.blockCommentEndToken,d=i.getLineContent(s).lastIndexOf(l,a-1+l.length),p=i.getLineContent(c).indexOf(h,u-1-h.length);d!==-1&&p!==-1?o=e._createRemoveBlockCommentOperations({startLineNumber:s,startColumn:d+1+l.length,endLineNumber:c,endColumn:p+1},l,h):(o=e._createAddBlockCommentOperations(t,l,h),this._usedEndToken=1===o.length?h:null);for(var f=0;f<o.length;f++)r.addEditOperation(o[f].range,o[f].text)},e._createRemoveBlockCommentOperations=function(e,t,i){var o=[];return r.Range.isEmpty(e)?o.push(n.EditOperation.delete(new r.Range(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length))):(o.push(n.EditOperation.delete(new r.Range(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),o.push(n.EditOperation.delete(new r.Range(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))),o},e._createAddBlockCommentOperations=function(e,t,o){var s=[];return r.Range.isEmpty(e)?s.push(n.EditOperation.replace(new r.Range(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+o)):(s.push(n.EditOperation.insert(new i.Position(e.startLineNumber,e.startColumn),t)),s.push(n.EditOperation.insert(new i.Position(e.endLineNumber,e.endColumn),o))),s},e.prototype.getEditOperations=function(e,t){var n=this._selection.startLineNumber,i=this._selection.startColumn,r=this._selection.endLineNumber,o=this._selection.endColumn,a=e.getModeIdAtPosition(n,i),c=s.LanguageConfigurationRegistry.getComments(a);c&&c.blockCommentStartToken&&c.blockCommentEndToken&&this._createOperationsForBlockComment({startLineNumber:n,startColumn:i,endLineNumber:r,endColumn:o},c,e,t)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations();if(2===n.length){var i=n[0],r=n[1];return new o.Selection(i.range.endLineNumber,i.range.endColumn,r.range.startLineNumber,r.range.startColumn)}var s=n[0].range,a=this._usedEndToken?-this._usedEndToken.length:0;return new o.Selection(s.endLineNumber,s.endColumn+a,s.endLineNumber,s.endColumn+a)},e}();t.BlockCommentCommand=a}),define(l[961],h([1,0,12,118,44,15,46,353,105]),function(e,t,n,i,r,o,s,a,c){"use strict";!function(e){e[e.Toggle=0]="Toggle",e[e.ForceAdd=1]="ForceAdd",e[e.ForceRemove=2]="ForceRemove"}(t.Type||(t.Type={}));var u=(t.Type,function(){function e(e,t,n){this._selection=e,this._tabSize=t,this._type=n,this._deltaColumn=0}return e._gatherPreflightCommentStrings=function(e,t,n){var i,r,o,s,a,u,l=[],h=Object.create(null);for(o=0,s=n-t+1;o<s;o++){if(a=t+o,u=e.getModeIdAtPosition(a,1),h[u])r=h[u];else{if(i=c.LanguageConfigurationRegistry.getComments(u),r=i?i.lineCommentToken:null,!r)return null;h[u]=r}l.push({ignore:!1,commentStr:r,commentStrOffset:0,commentStrLength:r.length})}return l},e._analyzeLines=function(e,t,i,r){var o,s,c,u,l,h,d,p,f=!0;for(d=0===e||1!==e,u=0,l=i.length;u<l;u++)o=i[u],h=r+u,p=t.getLineContent(h),s=n.firstNonWhitespaceIndex(p),s!==-1?(f=!1,o.ignore=!1,o.commentStrOffset=s,d&&!a.BlockCommentCommand._haystackHasNeedleAtOffset(p,o.commentStr,s)&&(0===e?d=!1:1===e||(o.ignore=!0)),d&&(c=s+o.commentStrLength,c<p.length&&32===p.charCodeAt(c)&&(o.commentStrLength+=1))):(0===e?o.ignore=!0:1===e?o.ignore=!0:o.ignore=!0,o.commentStrOffset=p.length);if(0===e&&f)for(d=!1,u=0,l=i.length;u<l;u++)i[u].ignore=!1;return{supported:!0,shouldRemoveComments:d,lines:i}},e._gatherPreflightData=function(t,n,i,r){var o=e._gatherPreflightCommentStrings(n,i,r);return null===o?{supported:!1,shouldRemoveComments:!1,lines:null}:e._analyzeLines(t,n,o,i)},e.prototype._executeLineComments=function(t,n,i,o){var s;i.shouldRemoveComments?s=e._createRemoveLineCommentsOperations(i.lines,o.startLineNumber):(e._normalizeInsertionPoint(t,i.lines,o.startLineNumber,this._tabSize),s=e._createAddLineCommentsOperations(i.lines,o.startLineNumber));for(var a=new r.Position(o.positionLineNumber,o.positionColumn),c=0,u=s.length;c<u;c++)n.addEditOperation(s[c].range,s[c].text),s[c].range.isEmpty()&&s[c].range.getStartPosition().equals(a)&&(this._deltaColumn=s[c].text.length);this._selectionId=n.trackSelection(o)},e.prototype._attemptRemoveBlockComment=function(e,t,n,i){var r=t.startLineNumber,o=t.endLineNumber,s=i.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),c=e.getLineContent(r).lastIndexOf(n,s-1),u=e.getLineContent(o).indexOf(i,t.endColumn-1-n.length);return c!==-1&&u===-1&&(u=e.getLineContent(r).indexOf(i,c+n.length),o=r),c===-1&&u!==-1&&(c=e.getLineContent(o).lastIndexOf(n,u),r=o),!t.isEmpty()||c!==-1&&u!==-1||(c=e.getLineContent(r).indexOf(n),c!==-1&&(u=e.getLineContent(r).indexOf(i,c+n.length))),c!==-1&&u!==-1?a.BlockCommentCommand._createRemoveBlockCommentOperations({startLineNumber:r,startColumn:c+n.length+1,endLineNumber:o,endColumn:u+1},n,i):null},e.prototype._executeBlockComment=function(e,t,i){var r=e.getModeIdAtPosition(i.startLineNumber,i.startColumn),o=c.LanguageConfigurationRegistry.getComments(r);if(o&&o.blockCommentStartToken&&o.blockCommentEndToken){var s=o.blockCommentStartToken,u=o.blockCommentEndToken,l=this._attemptRemoveBlockComment(e,i,s,u);if(!l){if(i.isEmpty()){var h=e.getLineContent(i.startLineNumber),d=n.firstNonWhitespaceIndex(h);d===-1&&(d=h.length),l=a.BlockCommentCommand._createAddBlockCommentOperations({
startLineNumber:i.startLineNumber,startColumn:d+1,endLineNumber:i.startLineNumber,endColumn:h.length+1},s,u)}else l=a.BlockCommentCommand._createAddBlockCommentOperations({startLineNumber:i.startLineNumber,startColumn:e.getLineFirstNonWhitespaceColumn(i.startLineNumber),endLineNumber:i.endLineNumber,endColumn:e.getLineMaxColumn(i.endLineNumber)},s,u);1===l.length&&(this._deltaColumn=s.length)}this._selectionId=t.trackSelection(i);for(var p=0;p<l.length;p++)t.addEditOperation(l[p].range,l[p].text)}},e.prototype.getEditOperations=function(t,n){var i=this._selection;this._moveEndPositionDown=!1,i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,t.getLineMaxColumn(i.endLineNumber-1)));var r=e._gatherPreflightData(this._type,t,i.startLineNumber,i.endLineNumber);return r.supported?this._executeLineComments(t,n,r,i):this._executeBlockComment(t,n,i)},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new s.Selection(n.startLineNumber,n.startColumn+this._deltaColumn,n.endLineNumber,n.endColumn+this._deltaColumn)},e._createRemoveLineCommentsOperations=function(e,t){var n,r,s,a=[];for(n=0,r=e.length;n<r;n++)s=e[n],s.ignore||a.push(i.EditOperation.delete(new o.Range(t+n,s.commentStrOffset+1,t+n,s.commentStrOffset+s.commentStrLength+1)));return a},e._createAddLineCommentsOperations=function(e,t){var n,o,s,a=[];for(n=0,o=e.length;n<o;n++)s=e[n],s.ignore||a.push(i.EditOperation.insert(new r.Position(t+n,s.commentStrOffset+1),s.commentStr+" "));return a},e.nextVisibleColumn=function(e,t,n,i){return n?e+(t-e%t):e+i},e._normalizeInsertionPoint=function(t,n,i,r){var o,s,a,c,u,l,h=Number.MAX_VALUE;for(o=0,s=n.length;o<s;o++)if(!n[o].ignore){for(a=t.getLineContent(i+o),l=0,c=0,u=n[o].commentStrOffset;l<h&&c<u;c++)l=e.nextVisibleColumn(l,r,9===a.charCodeAt(c),1);l<h&&(h=l)}for(h=Math.floor(h/r)*r,o=0,s=n.length;o<s;o++)if(!n[o].ignore){for(a=t.getLineContent(i+o),l=0,c=0,u=n[o].commentStrOffset;l<h&&c<u;c++)l=e.nextVisibleColumn(l,r,9===a.charCodeAt(c),1);l>h?n[o].commentStrOffset=c-1:n[o].commentStrOffset=c}},e}());t.LineCommentCommand=u}),define(l[354],h([1,0,119,42,30,15,5]),function(e,t,n,i,r,o,s){"use strict";var a={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},c=function(e){function t(n,i){var o=this;void 0===i&&(i={}),e.call(this,[t.Events.UPDATED]),this.editor=n,this.options=r.mixin(i,a,!1),this.disposed=!1,this.toUnbind=[],this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=this.options.alwaysRevealFirst,this.toUnbind.push(this.editor.onDidDispose(function(){return o.dispose()})),this.toUnbind.push(this.editor.onDidUpdateDiff(function(){return o.onDiffUpdated()})),this.options.followsCaret&&this.toUnbind.push(this.editor.getModifiedEditor().onDidChangeCursorPosition(function(e){o.ignoreSelectionChange||(o.nextIdx=-1)})),this.options.alwaysRevealFirst&&this.toUnbind.push(this.editor.getModifiedEditor().onDidChangeModel(function(e){o.revealFirst=!0})),this.init()}return d(t,e),t.prototype.init=function(){var e=this.editor.getLineChanges()},t.prototype.onDiffUpdated=function(){this.init(),this.compute(this.editor.getLineChanges()),this.revealFirst&&null!==this.editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next())},t.prototype.compute=function(e){var n=this;this.ranges=[],e&&e.forEach(function(e){!n.options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach(function(e){n.ranges.push({rhs:!0,range:new o.Range(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})}):n.ranges.push({rhs:!0,range:new o.Range(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber,1)})}),this.ranges.sort(function(e,t){return e.range.getStartPosition().isBeforeOrEqual(t.range.getStartPosition())?-1:t.range.getStartPosition().isBeforeOrEqual(e.range.getStartPosition())?1:0}),this.emit(t.Events.UPDATED,{})},t.prototype.initIdx=function(e){for(var t=!1,n=this.editor.getPosition(),i=0,r=this.ranges.length;i<r&&!t;i++){var o=this.ranges[i].range;n.isBeforeOrEqual(o.getStartPosition())&&(this.nextIdx=i+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)},t.prototype.move=function(e){if(n.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),this.canNavigate()){this.nextIdx===-1?this.initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));var t=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{var i=t.range.getStartPosition();this.editor.setPosition(i),this.editor.revealPositionInCenter(i)}finally{this.ignoreSelectionChange=!1}}},t.prototype.canNavigate=function(){return this.ranges&&this.ranges.length>0},t.prototype.next=function(){this.move(!0)},t.prototype.previous=function(){this.move(!1)},t.prototype.dispose=function(){this.toUnbind=s.dispose(this.toUnbind),this.ranges=null,this.disposed=!0,e.prototype.dispose.call(this)},t.Events={UPDATED:"navigation.updated"},t}(i.EventEmitter);t.DiffNavigator=c}),define(l[965],h([1,0,42,15]),function(e,t,n,i){"use strict";var r=function(){function e(){this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._wholeWord=!1,this._matchCase=!1,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._eventEmitter=new n.EventEmitter}return Object.defineProperty(e.prototype,"searchString",{get:function(){return this._searchString},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"replaceString",{get:function(){return this._replaceString},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRevealed",{get:function(){return this._isRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReplaceRevealed",{get:function(){return this._isReplaceRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRegex",{get:function(){return this._isRegex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wholeWord",{get:function(){return this._wholeWord},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matchCase",{get:function(){return this._matchCase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"searchScope",{get:function(){return this._searchScope},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matchesPosition",{get:function(){return this._matchesPosition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matchesCount",{get:function(){return this._matchesCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentMatch",{get:function(){return this._currentMatch},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._eventEmitter.dispose()},e.prototype.addChangeListener=function(t){return this._eventEmitter.addListener2(e._CHANGED_EVENT,t)},e.prototype.changeMatchInfo=function(t,n,r){var o={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},s=!1;0===n&&(t=0),t>n&&(t=n),this._matchesPosition!==t&&(this._matchesPosition=t,o.matchesPosition=!0,s=!0),this._matchesCount!==n&&(this._matchesCount=n,o.matchesCount=!0,s=!0),"undefined"!=typeof r&&(i.Range.equalsRange(this._currentMatch,r)||(this._currentMatch=r,o.currentMatch=!0,s=!0)),s&&this._eventEmitter.emit(e._CHANGED_EVENT,o)},e.prototype.change=function(t,n,r){void 0===r&&(r=!0);var o={moveCursor:n,updateHistory:r,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},s=!1;"undefined"!=typeof t.searchString&&this._searchString!==t.searchString&&(this._searchString=t.searchString,o.searchString=!0,s=!0),"undefined"!=typeof t.replaceString&&this._replaceString!==t.replaceString&&(this._replaceString=t.replaceString,o.replaceString=!0,s=!0),"undefined"!=typeof t.isRevealed&&this._isRevealed!==t.isRevealed&&(this._isRevealed=t.isRevealed,o.isRevealed=!0,s=!0),"undefined"!=typeof t.isReplaceRevealed&&this._isReplaceRevealed!==t.isReplaceRevealed&&(this._isReplaceRevealed=t.isReplaceRevealed,o.isReplaceRevealed=!0,s=!0),"undefined"!=typeof t.isRegex&&this._isRegex!==t.isRegex&&(this._isRegex=t.isRegex,o.isRegex=!0,s=!0),"undefined"!=typeof t.wholeWord&&this._wholeWord!==t.wholeWord&&(this._wholeWord=t.wholeWord,o.wholeWord=!0,s=!0),"undefined"!=typeof t.matchCase&&this._matchCase!==t.matchCase&&(this._matchCase=t.matchCase,o.matchCase=!0,s=!0),"undefined"!=typeof t.searchScope&&(i.Range.equalsRange(this._searchScope,t.searchScope)||(this._searchScope=t.searchScope,o.searchScope=!0,s=!0)),s&&this._eventEmitter.emit(e._CHANGED_EVENT,o)},e._CHANGED_EVENT="changed",e}();t.FindReplaceState=r}),define(l[967],h([1,0,15]),function(e,t,n){"use strict";var i=function(){function e(e,t,n){this._editorSelection=e,this._ranges=t,this._replaceStrings=n}return e.prototype.getEditOperations=function(e,t){if(this._ranges.length>0){for(var i=[],r=0;r<this._ranges.length;r++)i.push({range:this._ranges[r],text:this._replaceStrings[r]});i.sort(function(e,t){return n.Range.compareRangesUsingStarts(e.range,t.range)});for(var o=[],s=i[0],r=1;r<i.length;r++)s.range.endLineNumber===i[r].range.startLineNumber&&s.range.endColumn===i[r].range.startColumn?(s.range=s.range.plusRange(i[r].range),s.text=s.text+i[r].text):(o.push(s),s=i[r]);o.push(s);for(var r=0;r<o.length;r++)t.addEditOperation(o[r].range,o[r].text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)},e}();t.ReplaceAllCommand=i}),define(l[969],h([1,0]),function(e,t){"use strict";t.ID="editor.contrib.folding"}),define(l[970],h([1,0]),function(e,t){"use strict";function n(e){return e.getIndentRanges()}function i(e,t){if(e.length<=t)return e;var n=[];e.forEach(function(e){e.indent<1e3&&(n[e.indent]=(n[e.indent]||0)+1)});for(var i=n.length,r=0;r<n.length;r++)if(n[r]&&(t-=n[r],t<0)){i=r;break}return e.filter(function(e){return e.indent<i})}t.computeRanges=n,t.limitByIndent=i}),define(l[357],h([1,0,12,15]),function(e,t,n,i){"use strict";var r=function(){function e(e,t){this._edits=e,this._initialSelection=t}return e.prototype.getEditOperations=function(t,n){this._edits.map(function(n){return e.trimEdit(n,t)}).filter(function(e){return null!==e}).forEach(function(e){return n.addEditOperation(i.Range.lift(e.range),e.text)});var r=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(r=!0,this._selectionId=n.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(r=!0,this._selectionId=n.trackSelection(this._initialSelection,!1))),r||(this._selectionId=n.trackSelection(this._initialSelection))},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},e.fixLineTerminators=function(e,t){e.text=e.text.replace(/\r\n|\r|\n/g,t.getEOL())},e.trimEdit=function(e,t){return this.fixLineTerminators(e,t),this._trimEdit(t.validateRange(e.range),e.text,e.forceMoveMarkers,t)},e._trimEdit=function(e,t,r,o){var s=o.getValueInRange(e),a=n.commonPrefixLength(t,s);if(a===s.length&&a===t.length)return null;if(a>0){var c=o.modifyPosition(e.getStartPosition(),a);e=new i.Range(c.lineNumber,c.column,e.endLineNumber,e.endColumn),t=t.substring(a),s=s.substr(a)}var u=n.commonSuffixLength(t,s);if(u>0){var l=o.modifyPosition(e.getEndPosition(),-u);e=new i.Range(e.startLineNumber,e.startColumn,l.lineNumber,l.column),t=t.substring(0,t.length-u),s=s.substring(0,s.length-u)}return{text:t,range:e,forceMoveMarkers:r}},e}();t.EditOperationsCommand=r}),define(l[361],h([1,0,17,7]),function(e,t,n,i){"use strict";var r;!function(e){e[e.IDLE=0]="IDLE",e[e.FIRST_WAIT=1]="FIRST_WAIT",e[e.SECOND_WAIT=2]="SECOND_WAIT",e[e.WAITING_FOR_ASYNC_COMPUTATION=3]="WAITING_FOR_ASYNC_COMPUTATION"}(r||(r={}));var o=function(){function e(e,t,i,r){var o=this;this._computer=e,this._state=0,this._firstWaitScheduler=new n.RunOnceScheduler(function(){return o._triggerAsyncComputation()},this._getHoverTimeMillis()/2),this._secondWaitScheduler=new n.RunOnceScheduler(function(){return o._triggerSyncComputation()},this._getHoverTimeMillis()/2),this._loadingMessageScheduler=new n.RunOnceScheduler(function(){return o._showLoadingMessage()},3*this._getHoverTimeMillis()),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=t,this._errorCallback=i,this._progressCallback=r}return e.prototype.getComputer=function(){return this._computer},e.prototype._getHoverTimeMillis=function(){return this._computer.getHoverTimeMillis?this._computer.getHoverTimeMillis():e.HOVER_TIME},e.prototype._triggerAsyncComputation=function(){var e=this;this._state=2,this._secondWaitScheduler.schedule(),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=this._computer.computeAsync().then(function(t){e._asyncComputationPromiseDone=!0,e._withAsyncResult(t)},function(){return e._onError})):this._asyncComputationPromiseDone=!0},e.prototype._triggerSyncComputation=function(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))},e.prototype._showLoadingMessage=function(){3===this._state&&this._onProgress(this._computer.getResultWithLoadingMessage())},e.prototype._withAsyncResult=function(e){e&&this._computer.onResult(e,!1),3===this._state&&(this._state=0,this._onComplete(this._computer.getResult()))},e.prototype._onComplete=function(e){this._completeCallback&&this._completeCallback(e)},e.prototype._onError=function(e){this._errorCallback?this._errorCallback(e):i.onUnexpectedError(e)},e.prototype._onProgress=function(e){this._progressCallback&&this._progressCallback(e)},e.prototype.start=function(){0===this._state&&(this._state=1,this._firstWaitScheduler.schedule(),this._loadingMessageScheduler.schedule())},e.prototype.cancel=function(){this._loadingMessageScheduler.cancel(),1===this._state&&this._firstWaitScheduler.cancel(),2===this._state&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),3===this._state&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0},e.HOVER_TIME=300,e}();t.HoverOperation=o}),define(l[362],h([1,0,8,44,59,94,124,5]),function(e,t,n,i,r,o,s,a){"use strict";var c=function(e){function t(t,n){var i=this;e.call(this),this.disposables=[],this.allowEditorOverflow=!0,this._id=t,this._editor=n,this._isVisible=!1,this._containerDomNode=document.createElement("div"),this._containerDomNode.className="monaco-editor-hover hidden",this._containerDomNode.tabIndex=0,this._domNode=document.createElement("div"),this._domNode.className="monaco-editor-hover-content",this.scrollbar=new s.DomScrollableElement(this._domNode,{canUseTranslate3d:!1}),this.disposables.push(this.scrollbar),this._containerDomNode.appendChild(this.scrollbar.getDomNode()),this.onkeydown(this._containerDomNode,function(e){e.equals(9)&&i.hide()}),this._register(this._editor.onDidChangeConfiguration(function(e){e.fontInfo&&i.updateFont()})),this._editor.onDidLayoutChange(function(e){return i.updateMaxHeight()}),this.updateMaxHeight(),this._editor.addContentWidget(this),this._showAtPosition=null}return d(t,e),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this._isVisible=e,n.toggleClass(this._containerDomNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),t.prototype.getId=function(){return this._id},t.prototype.getDomNode=function(){return this._containerDomNode},t.prototype.showAt=function(e,t){this._showAtPosition=new i.Position(e.lineNumber,e.column),this.isVisible=!0,this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=t,t&&this._containerDomNode.focus()},t.prototype.hide=function(){this.isVisible&&(this.isVisible=!1,this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus())},t.prototype.getPosition=function(){return this.isVisible?{position:this._showAtPosition,preference:[r.ContentWidgetPositionPreference.ABOVE,r.ContentWidgetPositionPreference.BELOW]}:null},t.prototype.dispose=function(){this._editor.removeContentWidget(this),this.disposables=a.dispose(this.disposables),e.prototype.dispose.call(this)},t.prototype.updateFont=function(){var e=this,t=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),n=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));t.concat(n).forEach(function(t){return e._editor.applyFontInfo(t)})},t.prototype.updateContents=function(e){this._domNode.textContent="",this._domNode.appendChild(e),this.updateFont(),this._editor.layoutContentWidget(this),this.scrollbar.scanDomNode()},t.prototype.updateMaxHeight=function(){var e=Math.max(this._editor.getLayoutInfo().height/4,250),t=this._editor.getConfiguration().fontInfo,n=t.fontSize,i=t.lineHeight;this._domNode.style.fontSize=n+"px",this._domNode.style.lineHeight=i+"px",this._domNode.style.maxHeight=e+"px"},t}(o.Widget);t.ContentHoverWidget=c;var u=function(e){function t(t,n){var i=this;e.call(this),this._id=t,this._editor=n,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-editor-hover hidden",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","presentation"),this._showAtLineNumber=-1,this._register(this._editor.onDidChangeConfiguration(function(e){e.fontInfo&&i.updateFont()})),this._editor.addOverlayWidget(this)}return d(t,e),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this._isVisible=e,n.toggleClass(this._domNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),t.prototype.getId=function(){return this._id},t.prototype.getDomNode=function(){return this._domNode},t.prototype.showAt=function(e){this._showAtLineNumber=e,this.isVisible||(this.isVisible=!0);var t=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(this._showAtLineNumber),i=this._editor.getScrollTop(),r=this._editor.getConfiguration().lineHeight,o=this._domNode.clientHeight,s=n-i-(o-r)/2;this._domNode.style.left=t.glyphMarginLeft+t.glyphMarginWidth+"px",this._domNode.style.top=Math.max(Math.round(s),0)+"px"},t.prototype.hide=function(){this.isVisible&&(this.isVisible=!1)},t.prototype.getPosition=function(){return null},t.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.updateFont=function(){var e=this,t=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),n=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));t.concat(n).forEach(function(t){return e._editor.applyFontInfo(t)})},t.prototype.updateContents=function(e){this._domNode.textContent="",this._domNode.appendChild(e),this.updateFont()},t}(o.Widget);t.GlyphHoverWidget=u}),define(l[977],h([1,0,46]),function(e,t,n){"use strict";var i=function(){function e(e,t,n){this._editRange=e,this._originalSelection=t,this._text=n}return e.prototype.getEditOperations=function(e,t){t.addEditOperation(this._editRange,this._text)},e.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations(),r=i[0].range;return this._originalSelection.isEmpty()?new n.Selection(r.endLineNumber,Math.min(this._originalSelection.positionColumn,r.endColumn),r.endLineNumber,Math.min(this._originalSelection.positionColumn,r.endColumn)):new n.Selection(r.endLineNumber,r.endColumn-this._text.length,r.endLineNumber,r.endColumn)},e}();t.InPlaceReplaceCommand=i}),define(l[982],h([1,0,15,46]),function(e,t,n,i){"use strict";var r=function(){function e(e,t){this._selection=e,this._isCopyingDown=t}return e.prototype.getEditOperations=function(e,t){var i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));for(var r=[],o=i.startLineNumber;o<=i.endLineNumber;o++)r.push(e.getLineContent(o));var s=r.join("\n");""===s&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._isCopyingDown?t.addEditOperation(new n.Range(i.startLineNumber,1,i.startLineNumber,1),s+"\n"):t.addEditOperation(new n.Range(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+s),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){var r=n.startLineNumber,o=n.startColumn,s=n.endLineNumber,a=n.endColumn;0!==this._startLineNumberDelta&&(r+=this._startLineNumberDelta,o=1),0!==this._endLineNumberDelta&&(s+=this._endLineNumberDelta,a=1),n=i.Selection.createWithDirection(r,o,s,a,this._selectionDirection)}return n},e}();t.CopyLinesCommand=r}),define(l[985],h([1,0,15,46]),function(e,t,n,i){"use strict";var r=function(){function e(e,t,n){this.startLineNumber=e,this.endLineNumber=t,this.restoreCursorToColumn=n}return e.createFromSelection=function(t){var n=t.endLineNumber;return t.startLineNumber<t.endLineNumber&&1===t.endColumn&&(n-=1),new e(t.startLineNumber,n,t.positionColumn)},e.prototype.getEditOperations=function(e,t){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){var i=this.startLineNumber,r=this.endLineNumber,o=1,s=e.getLineMaxColumn(r);r<e.getLineCount()?(r+=1,s=1):i>1&&(i-=1,o=e.getLineMaxColumn(i)),t.addEditOperation(new n.Range(i,o,r,s),null)}},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),r=n[0].range;return new i.Selection(r.endLineNumber,this.restoreCursorToColumn,r.endLineNumber,this.restoreCursorToColumn)},e}();t.DeleteLinesCommand=r}),define(l[989],h([1,0,15,46]),function(e,t,n,i){"use strict";var r=function(){function e(e,t){this._selection=e,this._isMovingDown=t}return e.prototype.getEditOperations=function(e,t){var r=e.getLineCount();if((!this._isMovingDown||this._selection.endLineNumber!==r)&&(this._isMovingDown||1!==this._selection.startLineNumber)){this._moveEndPositionDown=!1;var o=this._selection;if(o.startLineNumber<o.endLineNumber&&1===o.endColumn&&(this._moveEndPositionDown=!0,o=o.setEndPosition(o.endLineNumber-1,e.getLineMaxColumn(o.endLineNumber-1))),o.startLineNumber===o.endLineNumber&&1===e.getLineMaxColumn(o.startLineNumber)){var s=o.startLineNumber,a=this._isMovingDown?s+1:s-1;1===e.getLineMaxColumn(a)?t.addEditOperation(new n.Range(1,1,1,1),null):(t.addEditOperation(new n.Range(s,1,s,1),e.getLineContent(a)),t.addEditOperation(new n.Range(a,1,a,e.getLineMaxColumn(a)),null)),o=new i.Selection(a,1,a,1)}else{var c,u;this._isMovingDown?(c=o.endLineNumber+1,u=e.getLineContent(c),t.addEditOperation(new n.Range(c-1,e.getLineMaxColumn(c-1),c,e.getLineMaxColumn(c)),null),t.addEditOperation(new n.Range(o.startLineNumber,1,o.startLineNumber,1),u+"\n")):(c=o.startLineNumber-1,u=e.getLineContent(c),t.addEditOperation(new n.Range(c,1,c+1,1),null),t.addEditOperation(new n.Range(o.endLineNumber,e.getLineMaxColumn(o.endLineNumber),o.endLineNumber,e.getLineMaxColumn(o.endLineNumber)),"\n"+u))}this._selectionId=t.trackSelection(o)}},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),n},e}();t.MoveLinesCommand=r}),define(l[990],h([1,0,118,15]),function(e,t,n,i){"use strict";function r(e,t,n){var i=t.startLineNumber,r=t.endLineNumber;if(1===t.endColumn&&r--,i>=r)return null;for(var o=[],s=i;s<=r;s++)o.push(e.getLineContent(s));var a=o.slice(0);return a.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),n===!0&&(a=a.reverse()),{startLineNumber:i,endLineNumber:r,before:o,after:a}}function o(e,t,o){var s=r(e,t,o);return s?n.EditOperation.replace(new i.Range(s.startLineNumber,1,s.endLineNumber,e.getLineMaxColumn(s.endLineNumber)),s.after.join("\n")):null}var s=function(){function e(e,t){this.selection=e,this.descending=t}return e.prototype.getEditOperations=function(e,t){var n=o(e,this.selection,this.descending);n&&t.addEditOperation(n.range,n.text),this.selectionId=t.trackSelection(this.selection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},e.canRun=function(e,t,n){var i=r(e,t,n);if(!i)return!1;for(var o=0,s=i.before.length;o<s;o++)if(i.before[o]!==i.after[o])return!0;return!1},e}();t.SortLinesCommand=s}),define(l[992],h([1,0,5,11,8,689]),function(e,t,n,i,r){"use strict";var o=function(){function e(e){var t=this;this._onClick=new i.Emitter,this._toDispose=[],this._editor=e,this._editor.addOverlayWidget(this),this._toDispose.push(this._editor.onDidScrollChange(function(){t._visible&&t._layout()})),this._toDispose.push(i.any(this._editor.onDidChangeConfiguration,this._editor.onDidChangeModelDecorations)(function(){t._visible&&!t._hasSpaceInGlyphMargin(t._line)&&t.hide()}))}return e.prototype.dispose=function(){this._editor.removeOverlayWidget(this),this._toDispose=n.dispose(this._toDispose)},Object.defineProperty(e.prototype,"onClick",{get:function(){return this._onClick.event},enumerable:!0,configurable:!0}),e.prototype.getId=function(){return"__lightBulbWidget"},e.prototype.getDomNode=function(){var e=this;return this._domNode||(this._domNode=document.createElement("div"),this._domNode.style.width="20px",this._domNode.style.height="20px",this._domNode.className="lightbulb-glyph hidden",this._toDispose.push(r.addDisposableListener(this._domNode,"mousedown",function(t){t.preventDefault();var n=r.getDomNodePagePosition(e._domNode),i=n.top,o=n.height,s=e._editor.getConfiguration().lineHeight;e._onClick.fire({x:t.clientX,y:i+o+Math.floor(s/3)})}))),this._domNode},e.prototype.getPosition=function(){return null},Object.defineProperty(e.prototype,"model",{get:function(){return this._model},set:function(e){var t=this;this._model=e,this.hide();var n=this._model;e.fixes.done(function(i){n===t._model&&i&&i.length>0?t.show(e.range.startLineNumber):t.hide()},function(e){t.hide()})},enumerable:!0,configurable:!0}),e.prototype.show=function(e){this._hasSpaceInGlyphMargin(e)&&(this._visible&&this._line===e||(this._line=e,this._visible=!0,this._layout()))},e.prototype._hasSpaceInGlyphMargin=function(e){if(!this._editor.getRawConfiguration().glyphMargin)return!1;var t=this._editor.getLineDecorations(e);if(t)for(var n=0,i=t;n<i.length;n++){var r=i[n].options;if(r.glyphMarginClassName)return!1}return!0},e.prototype._layout=function(){var e=this._editor.getTopForLineNumber(this._line),t=this._editor.getScrollTop(),n=e-t;this._domNode.style.top=n+"px",this._domNode.style.left="0px",this._domNode.classList.remove("hidden")},e.prototype.hide=function(){this._visible&&(this._visible=!1,this._domNode.classList.add("hidden"))},e}();t.LightBulbWidget=o}),define(l[993],h([1,0,8,44,24]),function(e,t,n,i,r){"use strict";var o=function(){function e(e,t,n){this._editor=e,this._contextMenuService=t,this._commandService=n}return e.prototype.show=function(e,t){var n=this,o=e.then(function(e){return e.map(function(e){var t=e.command;return new r.Action(t.id,t.title,(void 0),(!0),function(){return(e=n._commandService).executeCommand.apply(e,[t.id].concat(t.arguments));var e})})});this._contextMenuService.showContextMenu({getAnchor:function(){return i.Position.isIPosition(t)&&(t=n._toCoords(t)),t},getActions:function(){return o},onHide:function(){n._visible=!1}})},Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._visible},enumerable:!0,configurable:!0}),e.prototype._toCoords=function(e){this._editor.revealPosition(e),this._editor.render();var t=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),i=n.getDomNodePagePosition(this._editor.getDomNode()),r=i.left+t.left,o=i.top+t.top+t.height;return{x:r,y:o}},e}();t.QuickFixContextMenu=o}),define(l[232],h([1,0,42,11,20,5,12,189,2,15]),function(e,t,n,i,r,o,s,a,c,u){"use strict";var l=function(){function e(e,t,n){this._parent=e,this._range=t,this._eventBus=n,this._id=a.defaultGenerator.nextId()}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uri",{get:function(){return this._parent.uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"directory",{get:function(){return this._parent.directory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){this._range=e,this._eventBus.emit("ref/changed",this)},enumerable:!0,configurable:!0}),e}();t.OneReference=l;var h=function(){function e(e){this._modelReference=e}return Object.defineProperty(e.prototype,"_model",{get:function(){return this._modelReference.object.textEditorModel},enumerable:!0,configurable:!0}),e.prototype.preview=function(e,t){void 0===t&&(t=8);var n=e.startLineNumber,i=e.startColumn,r=e.endColumn,o=this._model.getWordUntilPosition({lineNumber:n,column:i-t}),a=new u.Range(n,o.startColumn,n,i),c=new u.Range(n,r,n,Number.MAX_VALUE),l={before:this._model.getValueInRange(a).replace(/^\s+/,s.empty),inside:this._model.getValueInRange(e),after:this._model.getValueInRange(c).replace(/\s+$/,s.empty)};return l},e.prototype.dispose=function(){this._modelReference&&(this._modelReference.dispose(),this._modelReference=null)},e}();t.FilePreview=h;var d=function(){function e(e,t){this._parent=e,this._uri=t,this._children=[]}return Object.defineProperty(e.prototype,"id",{get:function(){return this._uri.toString()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return r.basename(this.uri.fsPath)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"directory",{get:function(){return r.dirname(this.uri.fsPath)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preview",{get:function(){return this._preview},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"failure",{get:function(){return this._loadFailure},enumerable:!0,configurable:!0}),e.prototype.resolve=function(e){var t=this;return this._resolved?c.TPromise.as(this):e.createModelReference(this._uri).then(function(e){var n=e.object;if(!n)throw e.dispose(),new Error;return t._preview=new h(e),t._resolved=!0,t},function(e){return t._children=[],t._resolved=!0,t._loadFailure=e,t})},e.prototype.dispose=function(){
this._preview&&(this._preview.dispose(),this._preview=null)},e}();t.FileReferences=d;var p=function(){function e(t){this._groups=[],this._references=[],this._eventBus=new n.EventEmitter,this.onDidChangeReferenceRange=i.fromEventEmitter(this._eventBus,"ref/changed"),t.sort(e._compareReferences);for(var r,o=0,s=t;o<s.length;o++){var a=s[o];if(r&&r.uri.toString()===a.uri.toString()||(r=new d(this,a.uri),this.groups.push(r)),0===r.children.length||!u.Range.equalsRange(a.range,r.children[r.children.length-1].range)){var c=new l(r,a.range,this._eventBus);this._references.push(c),r.children.push(c)}}}return Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this._groups.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){return this._references},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),e.prototype.nextReference=function(e){var t=e.parent.children.indexOf(e),n=e.parent.children.length,i=e.parent.parent.groups.length;return t+1<n||1===i?e.parent.children[(t+1)%n]:(t=e.parent.parent.groups.indexOf(e.parent),t=(t+1)%i,e.parent.parent.groups[t].children[0])},e.prototype.nearestReference=function(e,t){var n=this._references.map(function(n,i){return{idx:i,prefixLen:s.commonPrefixLength(n.uri.toString(),e.toString()),offsetDist:100*Math.abs(n.range.startLineNumber-t.lineNumber)+Math.abs(n.range.startColumn-t.column)}}).sort(function(e,t){return e.prefixLen>t.prefixLen?-1:e.prefixLen<t.prefixLen?1:e.offsetDist<t.offsetDist?-1:e.offsetDist>t.offsetDist?1:0})[0];if(n)return this._references[n.idx]},e.prototype.dispose=function(){this._groups=o.dispose(this._groups)},e._compareReferences=function(e,t){return e.uri.toString()<t.uri.toString()?-1:e.uri.toString()>t.uri.toString()?1:u.Range.compareRangesUsingStarts(e.range,t.range)},e}();t.ReferencesModel=p}),define(l[999],h([1,0,15,185,204,105]),function(e,t,n,i,r,o){"use strict";function s(e){var t=new u;return t.start=e.range.getStartPosition(),t.end=e.range.getEndPosition(),t}function a(e){var t=new m(e).build();return t}function c(e,t){if(e instanceof l&&e.isEmpty)return null;if(!n.Range.containsPosition(e.range,t))return null;var i;if(e instanceof l)for(var r=0,o=e.children.length;r<o&&!i;r++)i=c(e.children[r],t);else e instanceof h&&(i=c(e.open,t)||c(e.elements,t)||c(e.close,t));return i||e}!function(e){e[e.None=0]="None",e[e.Open=1]="Open",e[e.Close=-1]="Close"}(t.TokenTreeBracket||(t.TokenTreeBracket={}));var u=(t.TokenTreeBracket,function(){function e(){}return Object.defineProperty(e.prototype,"range",{get:function(){return new n.Range(this.start.lineNumber,this.start.column,this.end.lineNumber,this.end.column)},enumerable:!0,configurable:!0}),e}());t.Node=u;var l=function(e){function t(){e.apply(this,arguments)}return d(t,e),Object.defineProperty(t.prototype,"start",{get:function(){return this.hasChildren?this.children[0].start:this.parent.start},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.hasChildren?this.children[this.children.length-1].end:this.parent.end},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){return this.children&&this.children.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return!this.hasChildren&&!this.parent},enumerable:!0,configurable:!0}),t.prototype.append=function(e){return!!e&&(e.parent=this,this.children||(this.children=[]),e instanceof t?e.children&&this.children.push.apply(this.children,e.children):this.children.push(e),!0)},t}(u);t.NodeList=l;var h=function(e){function t(){e.call(this),this.elements=new l,this.elements.parent=this}return d(t,e),Object.defineProperty(t.prototype,"start",{get:function(){return this.open.start},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.close.end},enumerable:!0,configurable:!0}),t}(u);t.Block=h;var p=function(){function e(e,t,n){this.range=e,this.bracket=t,this.bracketType=n}return e}(),f=function(){function e(e,t,n){this.lineNumber=t,this.lineText=n,this.startOffset=e.startOffset,this.endOffset=e.endOffset,this.standardType=e.standardType,this.modeId=e.modeId}return e}(),g=function(){function e(e){this._model=e,this._lineCount=this._model.getLineCount(),this._versionId=this._model.getVersionId(),this._lineNumber=0,this._lineText=null,this._advance()}return e.prototype._advance=function(){for(this._next=this._next?this._next.next():null;!this._next&&this._lineNumber<this._lineCount;){this._lineNumber++,this._lineText=this._model.getLineContent(this._lineNumber);var e=this._model.getLineTokens(this._lineNumber);this._next=e.firstToken()}},e.prototype.next=function(){if(!this._next)return null;if(this._model.getVersionId()!==this._versionId)return null;var e=new f(this._next,this._lineNumber,this._lineText);return this._advance(),e},e}(),v=function(){function e(e){this._rawTokenScanner=new g(e),this._nextBuff=[],this._cachedModeBrackets=null,this._cachedModeId=null}return e.prototype.next=function(){if(this._nextBuff.length>0)return this._nextBuff.shift();var e=this._rawTokenScanner.next();if(!e)return null;var t=e.lineNumber,s=e.lineText,a=e.standardType,c=e.startOffset,u=e.endOffset;this._cachedModeId!==e.modeId&&(this._cachedModeId=e.modeId,this._cachedModeBrackets=o.LanguageConfigurationRegistry.getBracketsSupport(this._cachedModeId));var l=this._cachedModeBrackets;if(!l||i.ignoreBracketsInToken(a))return new p(new n.Range(t,c+1,t,u+1),0,null);var h;do if(h=r.BracketsUtils.findNextBracketInToken(l.forwardRegex,t,s,c,u)){var d=h.startColumn-1,f=h.endColumn-1;c<d&&this._nextBuff.push(new p(new n.Range(t,c+1,t,d+1),0,null));var g=s.substring(d,f);g=g.toLowerCase();var v=l.textIsBracket[g],m=l.textIsOpenBracket[g];this._nextBuff.push(new p(new n.Range(t,d+1,t,f+1),m?1:-1,v.modeId+";"+v.open+";"+v.close)),c=f}while(h);return c<u&&this._nextBuff.push(new p(new n.Range(t,c+1,t,u+1),0,null)),this._nextBuff.shift()},e}(),m=function(){function e(e){this._stack=[],this._scanner=new v(e)}return e.prototype.build=function(){for(var e=new l;e.append(this._line()||this._any()););return e},e.prototype._accept=function(e){var t=this._stack.pop()||this._scanner.next();if(!t)return!1;var n=e(t);return n?this._currentToken=t:(this._stack.push(t),this._currentToken=null),n},e.prototype._peek=function(e){var t=!1;return this._accept(function(n){return t=e(n),!1}),t},e.prototype._line=function(){var e,t=new l;for(this._peek(function(t){return e=t.range.startLineNumber,!1});this._peek(function(t){return t.range.startLineNumber===e})&&t.append(this._token()||this._block()););return t.children&&0!==t.children.length?1===t.children.length?t.children[0]:t:null},e.prototype._token=function(){return this._accept(function(e){return 0===e.bracket})?s(this._currentToken):null},e.prototype._block=function(){var e,t;if(t=this._accept(function(t){return e=t.bracketType,1===t.bracket}),!t)return null;var n=new h;for(n.open=s(this._currentToken);n.elements.append(this._line()););if(!this._accept(function(t){return t.bracket===-1&&t.bracketType===e})){var i=new l;return i.append(n.open),i.append(n.elements),i}return n.close=s(this._currentToken),n},e.prototype._any=function(){return this._accept(function(e){return!0})?s(this._currentToken):null},e}();t.build=a,t.find=c}),define(l[1e3],h([1,0,695]),function(e,t){"use strict"}),define(l[1002],h([1,0]),function(e,t){"use strict";!function(e){e[e.Dollar=0]="Dollar",e[e.Colon=1]="Colon",e[e.CurlyOpen=2]="CurlyOpen",e[e.CurlyClose=3]="CurlyClose",e[e.Backslash=4]="Backslash",e[e.Int=5]="Int",e[e.VariableName=6]="VariableName",e[e.Format=7]="Format",e[e.EOF=8]="EOF"}(t.TokenType||(t.TokenType={}));var n=t.TokenType,i=function(){function e(){this.text("")}return e.isDigitCharacter=function(e){return e>=48&&e<=57},e.isVariableCharacter=function(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90},e.prototype.text=function(e){this.value=e,this.pos=0},e.prototype.tokenText=function(e){return this.value.substr(e.pos,e.len)},e.prototype.next=function(){if(this.pos>=this.value.length)return{type:n.EOF,pos:this.pos,len:0};var t,i=this.pos,r=0,o=this.value.charCodeAt(i);if(t=e._table[o],"number"==typeof t)return this.pos+=1,{type:t,pos:i,len:1};if(e.isDigitCharacter(o)){t=n.Int;do r+=1,o=this.value.charCodeAt(i+r);while(e.isDigitCharacter(o));return this.pos+=r,{type:t,pos:i,len:r}}if(e.isVariableCharacter(o)){t=n.VariableName;do o=this.value.charCodeAt(i+ ++r);while(e.isVariableCharacter(o)||e.isDigitCharacter(o));return this.pos+=r,{type:t,pos:i,len:r}}t=n.Format;do r+=1,o=this.value.charCodeAt(i+r);while(!isNaN(o)&&"undefined"==typeof e._table[o]&&!e.isDigitCharacter(o)&&!e.isVariableCharacter(o));return this.pos+=r,{type:t,pos:i,len:r}},e._table=(t={},t[36]=n.Dollar,t[58]=n.Colon,t[123]=n.CurlyOpen,t[125]=n.CurlyClose,t[92]=n.Backslash,t),e;var t}();t.Scanner=i;var r=function(){function e(){}return e.toString=function(e){for(var t="",n=0,i=e;n<i.length;n++){var r=i[n];t+=r.toString()}return t},e.prototype.toString=function(){return""},e}();t.Marker=r;var o=function(e){function t(t){e.call(this),this.string=t}return d(t,e),t.prototype.toString=function(){return this.string},t}(r);t.Text=o;var s=function(e){function t(t,n){void 0===t&&(t=""),e.call(this),this.name=t,this.defaultValue=n}return d(t,e),t.prototype.toString=function(){return r.toString(this.defaultValue)},t}(r);t.Placeholder=s;var a=function(e){function t(t,n){void 0===t&&(t=""),e.call(this),this.name=t,this.defaultValue=n}return d(t,e),Object.defineProperty(t.prototype,"isDefined",{get:function(){return void 0!==this.resolvedValue},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.isDefined?this.resolvedValue:r.toString(this.defaultValue)},t}(r);t.Variable=a;var c=function(){function e(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),this._scanner=new i,this._enableTextMate=e,this._enableInternal=t}return e.prototype.escape=function(e){return r.toString(this.parse(e))},e.prototype.parse=function(e){function t(e,n){for(var i=0;i<e.length;i++){var r=e[i];r instanceof s?(void 0===n[r.name]?n[r.name]=r.defaultValue:0===r.defaultValue.length&&(r.defaultValue=n[r.name].slice(0)),r.defaultValue.length>0&&t(r.defaultValue,n)):r instanceof a?t(r.defaultValue,n):i>0&&r instanceof o&&e[i-1]instanceof o&&(e[i-1].string+=e[i].string,e.splice(i,1),i--)}}var n=[];for(this._scanner.text(e),this._token=this._scanner.next();this._parseAny(n)||this._parseText(n););return t(n,Object.create(null)),n},e.prototype._accept=function(e){if(void 0===e||this._token.type===e)return this._prevToken=this._token,this._token=this._scanner.next(),!0},e.prototype._return=function(e){this._prevToken=void 0,this._token=e,this._scanner.pos=e.pos+e.len},e.prototype._parseAny=function(e){return!!this._parseEscaped(e)||(!(!this._enableInternal||!this._parseInternal(e))||(!(!this._enableTextMate||!this._parseTM(e))||void 0))},e.prototype._parseText=function(e){if(this._token.type!==n.EOF)return e.push(new o(this._scanner.tokenText(this._token))),this._accept(void 0),!0},e.prototype._parseTM=function(e){if(this._accept(n.Dollar)){if(this._accept(n.VariableName)||this._accept(n.Int)){var t=this._scanner.tokenText(this._prevToken);return e.push(/^\d+$/.test(t)?new s(t,[]):new a(t,[])),!0}if(this._accept(n.CurlyOpen))for(var i=[],c=[],u=i;;)if(u!==c&&this._accept(n.Colon))u=c;else{if(this._accept(n.CurlyClose)){var t=r.toString(i);return e.push(/^\d+$/.test(t)?new s(t,c):new a(t,c)),!0}if(!this._parseAny(u)&&!this._parseText(u))return c.length>0?(e.push(new o("${"+r.toString(i)+":")),e.push.apply(e,c)):(e.push(new o("${")),e.push.apply(e,i)),!0}return e.push(new o("$")),!0}},e.prototype._parseInternal=function(e){if(this._accept(n.CurlyOpen)){if(!this._accept(n.CurlyOpen))return this._return(this._prevToken),!1;for(var t=[],i=[],a=t;;)if(this._accept(n.Colon))a=i;else{if(this._accept(n.CurlyClose)){if(!this._accept(n.CurlyClose)){this._return(this._prevToken);continue}return i!==a&&(i=t),e.push(new s(r.toString(t),i)),!0}if(!this._parseAny(a)&&!this._parseText(a))return i.length>0?(e.push(new o("{{"+r.toString(t)+":")),e.push.apply(e,i)):(e.push(new o("{{")),e.push.apply(e,t)),!0}}},e.prototype._parseEscaped=function(e){if(this._accept(n.Backslash))return this._enableInternal&&(this._accept(n.CurlyOpen)||this._accept(n.CurlyClose)||this._accept(n.Backslash))||this._enableTextMate&&(this._accept(n.Dollar)||this._accept(n.CurlyClose)||this._accept(n.Backslash)),e.push(new o(this._scanner.tokenText(this._prevToken))),!0},e}();t.SnippetParser=c}),define(l[180],h([1,0,12,15,108,1002]),function(e,t,n,i,r,o){"use strict";function s(e,t){for(var n=0,i="",r=0,o=e.length;r<o;){var s=e.substr(r);if(/^\$0/.test(s))r+=2,i+=t===p.EmmetSnippet?"{{_}}":"{{}}";else if(/^\$\{0\}/.test(s))r+=4,i+=t===p.EmmetSnippet?"{{_}}":"{{}}";else{var a=s.match(/^\$(\d+)/);Array.isArray(a)&&2===a.length?(r+=1+a[1].length,i+="{{"+a[1]+":}}"):(a=s.match(/^\$\{(\d+)\}/),Array.isArray(a)&&2===a.length?(r+=3+a[1].length,i+="{{"+a[1]+":}}"):/^\${/.test(s)?(r+=2,++n,i+="{{"):n>0&&/^}/.test(s)?(r+=1,--n,i+="}}"):/^\\./.test(s)?(r+=2,i+=/^\\\$/.test(s)?"$":s.substr(0,2)):(a=s.match(/^({|})/),Array.isArray(a)&&2===a.length?(r+=1,i+="\\"+a[1]):(r+=1,i+=s.charAt(0))))}}return i}function a(e,t){if(t)for(var n=e.slice();n.length>0;){var i=n.shift();if(i instanceof o.Variable){try{i.resolvedValue=t.resolve(i.name)}catch(e){}if(i.isDefined)continue}(i instanceof o.Variable||i instanceof o.Placeholder)&&n.unshift.apply(n,i.defaultValue)}}function c(e){return""===e.id&&""===e.value||"0"===e.id}function u(e,t){var n=Object.create(null),i=!1,r=t.slice();for(e.lines=[""];r.length>0;){var s=r.shift();if(s instanceof o.Text){var a=s.string.split(/\r\n|\n|\r/);e.lines[e.lines.length-1]+=a.shift(),(d=e.lines).push.apply(d,a)}else if(s instanceof o.Placeholder){var u=n[s.name];u||(n[s.name]=u={id:s.name,value:o.Marker.toString(s.defaultValue),occurences:[]},e.placeHolders.push(u)),i=i||c(u);var l=e.lines.length,h=e.lines[l-1].length+1;u.occurences.push({startLineNumber:l,startColumn:h,endLineNumber:l,endColumn:h+o.Marker.toString(s.defaultValue).length}),r.unshift.apply(r,s.defaultValue)}else s instanceof o.Variable&&(s.isDefined?s.resolvedValue?r.unshift(new o.Text(s.resolvedValue)):r.unshift.apply(r,s.defaultValue):r.unshift(new o.Placeholder(s.name,0===s.defaultValue.length?[new o.Text(s.name)]:s.defaultValue)));0!==r.length||i||r.push(new o.Placeholder("0",[]))}e.placeHolders.sort(function(e,t){var n=function(e){return!/^\d+$/.test(e.id)};return c(e)?1:c(t)?-1:n(e)&&n(t)?0:n(e)?-1:n(t)?1:e.id===t.id?0:Number(e.id)<Number(t.id)?-1:1}),e.placeHolders.length>0&&(e.finishPlaceHolderIndex=e.placeHolders.length-1,e.placeHolders[e.finishPlaceHolderIndex].id="");var d}var l=function(){function e(){this.lines=[],this.placeHolders=[],this.finishPlaceHolderIndex=-1}return e.fromTextmate=function(t,n){var i=new o.SnippetParser((!0),(!1)).parse(t),r=new e;return a(i,n),u(r,i),r},e.fromInternal=function(t){var n=new o.SnippetParser((!1),(!0)).parse(t),i=new e;return u(i,n),i},e.none=function(t){var n=new e;return n.lines=t.split(/\r\n|\n|\r/),n},e.fromEmmet=function(e){return d.parse(e)},Object.defineProperty(e.prototype,"isInsertOnly",{get:function(){return 0===this.placeHolders.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSingleTabstopOnly",{get:function(){if(1!==this.placeHolders.length)return!1;var e=this.placeHolders[0];if(""!==e.value||1!==e.occurences.length)return!1;var t=e.occurences[0];return!!i.Range.isEmpty(t)},enumerable:!0,configurable:!0}),e.prototype.extractLineIndentation=function(e,t){void 0===t&&(t=Number.MAX_VALUE);var i=n.getLeadingWhitespace(e);return i.length>t-1?i.substring(0,t-1):i},e.prototype.bind=function(e,t,n,i){for(var r=[],o=[],s=this.extractLineIndentation(e,n+1),a=[],c=0,u=this.lines.length;c<u;c++){var l=this.lines[c];if(0===c)a[c+1]=n,r[c]=l;else{var h=this.extractLineIndentation(l),d=l.substr(h.length),p=i.normalizeIndentation(s+h);a[c+1]=p.length-h.length,r[c]=p+d}}for(var f=0,g=this.placeHolders;f<g.length;f++){for(var v=g[f],m=[],y=0,b=v.occurences;y<b.length;y++){var S=b[y],E=S.startLineNumber,_=S.startColumn,C=S.endLineNumber,w=S.endColumn;_>1?(_+=a[E],w+=a[C]):(_+=s.length,w+=s.length),m.push({startLineNumber:E+t,startColumn:_,endLineNumber:C+t,endColumn:w})}o.push({id:v.id,value:v.value,occurences:m})}return{lines:r,placeHolders:o,finishPlaceHolderIndex:this.finishPlaceHolderIndex}},e}();t.CodeSnippet=l;var h=new(function(){function e(){}return e.prototype.parse=function(e){return this._lastGeneratedId=0,this._snippet=new l,this.parseTemplate(e),this._snippet},e.prototype.parseTemplate=function(e){var t,n,o,s,a=Object.create(null),c=e.split("\n");for(t=0,n=c.length;t<n;t++){var u=this.parseLine(c[t],function(e){return r.contains(a,e)?a[e].value:""});for(o=0,s=u.placeHolders.length;o<s;o++){var l,h=u.placeHolders[o],d=new i.Range(t+1,h.startColumn,t+1,h.endColumn);r.contains(a,h.id)?l=a[h.id]:(l={id:h.id,value:h.value,occurences:[]},this._snippet.placeHolders.push(l),a[h.id]=l),l.occurences.push(d)}this._snippet.lines.push(u.line)}this._snippet.placeHolders.sort(function(e,t){var n=function(e){return!/^\d+$/.test(e.id)},i=function(e){return""===e.id&&""===e.value};return i(e)?1:i(t)?-1:n(e)&&n(t)?0:n(e)?-1:n(t)?1:e.id===t.id?0:Number(e.id)<Number(t.id)?-1:1}),this._snippet.placeHolders.length>0&&""===this._snippet.placeHolders[this._snippet.placeHolders.length-1].value&&(this._snippet.finishPlaceHolderIndex=this._snippet.placeHolders.length-1)},e.prototype.parseLine=function(e,t){for(var n=[{placeHolderId:"",placeHolderText:""}],i=[],r=function(e){var n=t(e);if(n)return n;for(var r=0,o=i;r<o.length;r++){var s=o[r];if(s.id===e&&s.value)return s.value}return""},o=0,s=e.length,a=0;o<s;){var c=e.substr(o);if(/^{{/.test(c)){o+=2,n.push({placeHolderId:"",placeHolderText:""});var u=c.match(/^{{(\w+):/);Array.isArray(u)&&2===u.length&&(n[n.length-1].placeHolderId=u[1],o+=u[1].length+1)}else if(n.length>1&&/^}}/.test(c)){if(o+=2,0===n[n.length-1].placeHolderId.length&&(n[n.length-1].placeHolderId=n[n.length-1].placeHolderText,"_"===n[n.length-1].placeHolderId&&(n[n.length-1].placeHolderId="TAB_STOP_"+String(++this._lastGeneratedId),n[n.length-1].placeHolderText="",--a)),0===n[n.length-1].placeHolderText.length){var l=r(n[n.length-1].placeHolderId);n[n.length-1].placeHolderText=l,a+=l.length}i.push({id:n[n.length-1].placeHolderId,value:n[n.length-1].placeHolderText,startColumn:a+1-n[n.length-1].placeHolderText.length,endColumn:a+1}),n[n.length-2].placeHolderText+=n[n.length-1].placeHolderText,n.pop()}else/^\\./.test(c)&&("{"===c.charAt(1)||"}"===c.charAt(1)||"\\"===c.charAt(1)?++o:(n[n.length-1].placeHolderText+=e.charAt(o),++a,++o)),n[n.length-1].placeHolderText+=e.charAt(o),++a,++o}return i.sort(function(e,t){return e.startColumn<t.startColumn?-1:e.startColumn>t.startColumn?1:e.endColumn<t.endColumn?-1:e.endColumn>t.endColumn?1:0}),{line:n[0].placeHolderText,placeHolders:i}},e}()),d=new(function(){function e(){}return e.prototype.parse=function(e){return e=s(e,p.EmmetSnippet),h.parse(e)},e}());!function(e){e[e.TextMateSnippet=0]="TextMateSnippet",e[e.EmmetSnippet=1]="EmmetSnippet"}(t.ExternalSnippetType||(t.ExternalSnippetType={}));var p=t.ExternalSnippetType}),define(l[1008],h([1,0,20]),function(e,t,n){"use strict";var i=function(){function e(e){this._editor=e}return e.prototype.resolve=function(e){var t=this._editor.getModel();if(!t)throw new Error;switch(e){case"SELECTION":case"TM_SELECTED_TEXT":return this._tmSelectedText();case"TM_CURRENT_LINE":return this._tmCurrentLine();case"TM_CURRENT_WORD":return this._tmCurrentWord();case"TM_LINE_INDEX":return this._tmLineIndex();case"TM_LINE_NUMBER":return this._tmLineNumber();case"TM_FILENAME":return this._tmFilename();case"TM_DIRECTORY":return this._tmDirectory();case"TM_FILEPATH":return this._tmFilepath()}},e.prototype._tmCurrentLine=function(){var e=this._editor.getSelection().positionLineNumber;return this._editor.getModel().getValueInRange({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:Number.MAX_VALUE})},e.prototype._tmCurrentWord=function(){var e=this._editor.getModel().getWordAtPosition(this._editor.getPosition());return e?e.word:""},e.prototype._tmFilename=function(){return n.basename(this._editor.getModel().uri.fsPath)},e.prototype._tmDirectory=function(){var e=n.dirname(n.normalize(this._editor.getModel().uri.fsPath));return"."!==e?e:""},e.prototype._tmFilepath=function(){return this._editor.getModel().uri.fsPath},e.prototype._tmLineIndex=function(){return String(this._editor.getSelection().positionLineNumber-1)},e.prototype._tmLineNumber=function(){return String(this._editor.getSelection().positionLineNumber)},e.prototype._tmSelectedText=function(){return this._editor.getModel().getValueInRange(this._editor.getSelection())},e}();t.SnippetVariablesResolver=i}),define(l[1014],h([1,0,35,12,100]),function(e,t,n,i,r){"use strict";var o=function(){function e(){}return e}();t.LineContext=o;var s=function(){function e(e,t,n){this._items=e,this._column=t,this._lineContext=n}return Object.defineProperty(e.prototype,"lineContext",{get:function(){return this._lineContext},set:function(e){this._lineContext.leadingLineContent===e.leadingLineContent&&this._lineContext.characterCountDelta===e.characterCountDelta||(this._lineContext=e,this._filteredItems=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._ensureCachedState(),this._filteredItems},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topScoreIdx",{get:function(){return this._ensureCachedState(),this._topScoreIdx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"incomplete",{get:function(){return this._ensureCachedState(),this._isIncomplete},enumerable:!0,configurable:!0}),e.prototype.resolveIncompleteInfo=function(){for(var e=[],t=[],n=0,i=this._items;n<i.length;n++){var r=i[n];r.container.incomplete?e.indexOf(r.support)<0&&e.push(r.support):t.push(r)}return{incomplete:e,complete:t}},Object.defineProperty(e.prototype,"stats",{get:function(){return this._ensureCachedState(),this._stats},enumerable:!0,configurable:!0}),e.prototype._ensureCachedState=function(){this._filteredItems||this._createCachedState()},e.prototype._createCachedState=function(){this._filteredItems=[],this._topScoreIdx=-1,this._isIncomplete=!1,this._stats={suggestionCount:0,snippetCount:0,textCount:0};for(var t=this._lineContext,i=t.leadingLineContent,o=t.characterCountDelta,s="",a=-1,c=0,u=this._items;c<u.length;c++){var l=u[c],h=l.suggestion,d=l.support,p=l.container,f=d&&d.filter||r.fuzzyContiguousFilter;this._isIncomplete=this._isIncomplete||p.incomplete;var g=h.overwriteBefore+o-(l.position.column-this._column);s.length!==g&&(s=0===g?"":i.slice(-g));var v=!1;if(l.highlights=f(s,h.label),v=null!==l.highlights,v||"string"!=typeof h.filterText||n.isFalsyOrEmpty(f(s,h.filterText))||(v=!0,l.highlights=f(s.replace(/^\W+|\W+$/,""),h.label)),v){this._filteredItems.push(l);var m=e._scoreByHighlight(l,s,s.toLowerCase());switch(m>a&&(a=m,this._topScoreIdx=this._filteredItems.length-1),this._stats.suggestionCount++,h.type){case"snippet":this._stats.snippetCount++;break;case"text":this._stats.textCount++}}}},e._scoreByHighlight=function(t,r,o){var s=t.highlights,a=t.suggestion;if(n.isFalsyOrEmpty(s))return 0;for(var c=0,u=0,l=0,h=0,d=Math.min(e._base,a.label.length),p=0,f=0,g=0;f<d;f++){var v=s[g];if(f<v.start)h+=1;else if(f===v.start){var m=a.label.substring(v.start,v.end);if(p=i.indexOfIgnoreCase(r,m,p),p>=0)do a.label[f]===r[p]?c+=1:u+=1,f+=1,p+=1;while(f<v.end);if(0===g&&(l=v.start),g+=1,g>=s.length){h+=d-f;break}}}return Math.pow(e._base,4)*c+Math.pow(e._base,3)*u+Math.pow(e._base,2)*(e._base-l)+Math.pow(e._base,1)*(e._base-s.length)+Math.pow(e._base,0)*(e._base-h)},e._base=100,e}();t.CompletionModel=s}),define(l[267],h([1,0,5,94,30,8,141,15,700]),function(e,t,n,i,r,o,s,a){"use strict";var c={showArrow:!0,showFrame:!0,frameColor:"",className:""},u="vs.editor.contrib.zoneWidget",l=function(){function e(e,t,n,i,r,o){this.domNode=e,this.afterLineNumber=t,this.afterColumn=n,this.heightInLines=i,this._onDomNodeTop=r,this._onComputedHeight=o}return e.prototype.onDomNodeTop=function(e){this._onDomNodeTop(e)},e.prototype.onComputedHeight=function(e){this._onComputedHeight(e)},e}();t.ViewZoneDelegate=l;var h=function(){function e(e,t){this._id=e,this._domNode=t}return e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return null},e}();t.OverlayWidgetDelegate=h;var p=function(e){function t(t,i){var o=this;void 0===i&&(i={}),e.call(this),this._overlayWidget=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new n.Disposables,this.container=null,this.editor=t,this.options=r.mixin(r.clone(c),i),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(function(e){var t=o._getWidth(e);o.domNode.style.width=t+"px",o._onWidth(t)}))}return d(t,e),t.prototype.dispose=function(){var e=this;this._disposables.dispose(),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(function(t){t.removeZone(e._viewZone.id),e._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[])},t.prototype.create=function(){o.addClass(this.domNode,"zone-widget"),o.addClass(this.domNode,this.options.className),this.container=document.createElement("div"),o.addClass(this.container,"zone-widget-container"),this.domNode.appendChild(this.container),this._fillContainer(this.container),this._initSash()},t.prototype._getWidth=function(e){return void 0===e&&(e=this.editor.getLayoutInfo()),e.width-e.verticalScrollbarWidth},t.prototype._onViewZoneTop=function(e){this.domNode.style.top=e+"px"},t.prototype._onViewZoneHeight=function(e){this.domNode.style.height=e+"px";var t=e-this._decoratingElementsHeight();this.container.style.height=t+"px",this._doLayout(t,this._getWidth()),this._resizeSash.layout()},Object.defineProperty(t.prototype,"position",{get:function(){var e=this._positionMarkerId[0];if(e)return this.editor.getModel().getDecorationRange(e).getStartPosition()},enumerable:!0,configurable:!0}),t.prototype.show=function(e,t){var n=a.Range.isIRange(e)?e:new a.Range(e.lineNumber,e.column,e.lineNumber,e.column);this._showImpl(n,t),this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:n,options:{}}])},t.prototype.hide=function(){var e=this;this._viewZone&&(this.editor.changeViewZones(function(t){t.removeZone(e._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null)},t.prototype._decoratingElementsHeight=function(){var e=this.editor.getConfiguration().lineHeight,t=0;if(this.options.showArrow){var n=Math.round(e/3);t+=2*n}if(this.options.showFrame){var i=Math.round(e/9);t+=2*i}return t},t.prototype._showImpl=function(e,t){var n=this,i={lineNumber:e.startLineNumber,column:e.startColumn},r=this._getWidth();this.domNode.style.width=r+"px",this.editor.revealPosition(i);var o=document.createElement("div"),s=document.createElement("div"),a=this.editor.getConfiguration().lineHeight,c=0,d=0;if(this.options.showArrow&&(c=Math.round(a/3),s=document.createElement("div"),s.className="zone-widget-arrow below",s.style.top=-c+"px",s.style.borderWidth=c+"px",s.style.left=this.editor.getOffsetForColumn(i.lineNumber,i.column)+"px",s.style.borderBottomColor=this.options.frameColor,o.appendChild(s)),this.options.showFrame&&(d=Math.round(a/9)),this.editor.changeViewZones(function(e){n._viewZone&&e.removeZone(n._viewZone.id),n._overlayWidget&&(n.editor.removeOverlayWidget(n._overlayWidget),n._overlayWidget=null),n.domNode.style.top="-1000px",n._viewZone=new l(o,i.lineNumber,i.column,t,function(e){return n._onViewZoneTop(e)},function(e){return n._onViewZoneHeight(e)}),n._viewZone.id=e.addZone(n._viewZone),n._overlayWidget=new h(u+n._viewZone.id,n.domNode),n.editor.addOverlayWidget(n._overlayWidget)}),this.options.showFrame){var p=this.options.frameWidth?this.options.frameWidth:d;this.container.style.borderTopColor=this.options.frameColor,this.container.style.borderBottomColor=this.options.frameColor,this.container.style.borderTopWidth=p+"px",this.container.style.borderBottomWidth=p+"px"}var f=t*a-this._decoratingElementsHeight();this.container.style.top=c+"px",this.container.style.height=f+"px",this.container.style.overflow="hidden",this._doLayout(f,r),this.editor.setSelection(e);var g=Math.min(this.editor.getModel().getLineCount(),Math.max(1,e.endLineNumber+1));this.editor.revealLine(g)},t.prototype._onWidth=function(e){},t.prototype._doLayout=function(e,t){},t.prototype._relayout=function(e){var t=this;this._viewZone.heightInLines!==e&&this.editor.changeViewZones(function(n){t._viewZone.heightInLines=e,n.layoutZone(t._viewZone.id)})},t.prototype._initSash=function(){var e=this;this._resizeSash=new s.Sash(this.domNode,this,{orientation:s.Orientation.HORIZONTAL}),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.disable());var t;this._disposables.add(this._resizeSash.addListener2("start",function(n){e._viewZone&&(t={startY:n.startY,heightInLines:e._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.addListener2("end",function(){t=void 0})),this._disposables.add(this._resizeSash.addListener2("change",function(n){if(t){var i=(n.currentY-t.startY)/e.editor.getConfiguration().lineHeight,r=i<0?Math.ceil(i):Math.floor(i),o=t.heightInLines+r;o>5&&o<35&&e._relayout(o)}}))},t.prototype.getHorizontalSashLeft=function(){return 0},t.prototype.getHorizontalSashTop=function(){return parseInt(this.domNode.style.height)-this._decoratingElementsHeight()/2},t.prototype.getHorizontalSashWidth=function(){return this.editor.getLayoutInfo().width},t}(i.Widget);t.ZoneWidget=p}),define(l[1017],h([1,0,326]),function(e,t,n){"use strict";var i=function(){function e(e,t,n){this._modeId=e,this._parentEmbedderState=t,this._ruleStack=n}return e.prototype.clone=function(){var t=n.AbstractState.safeClone(this._parentEmbedderState);return new e(this._modeId,t,this._ruleStack)},e.prototype.equals=function(t){if(!(t&&t instanceof e))return!1;var i=t;return!!n.AbstractState.safeEquals(this._parentEmbedderState,i._parentEmbedderState)&&(null===this._ruleStack&&null===i._ruleStack||null!==this._ruleStack&&null!==i._ruleStack&&this._ruleStack.equals(i._ruleStack))},e.prototype.getModeId=function(){return this._modeId},e.prototype.getStateData=function(){return this._parentEmbedderState},e.prototype.setStateData=function(e){this._parentEmbedderState=e},e.prototype.getRuleStack=function(){return this._ruleStack},e.prototype.setRuleStack=function(e){this._ruleStack=e},e}();t.TMState=i}),define(l[1023],h([4,3]),function(e,t){return e.create("vs/base/browser/ui/actionbar/actionbar",t)}),define(l[43],h([1,0,1023,5,29,282,13,24,8,109,21,42,143,78,888]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f){"use strict";var g=function(e){function t(t,n,i){var r=this;e.call(this),this.options=i,this._callOnDispose=[],this._context=t||this,this._action=n,n instanceof a.Action&&this._callOnDispose.push(n.onDidChange(function(e){r.builder&&r._handleActionChangeEvent(e)}))}return d(t,e),t.prototype._handleActionChangeEvent=function(e){void 0!==e.enabled&&this._updateEnabled(),void 0!==e.checked&&this._updateChecked(),void 0!==e.class&&this._updateClass(),void 0!==e.label&&(this._updateLabel(),this._updateTooltip()),void 0!==e.tooltip&&this._updateTooltip()},Object.defineProperty(t.prototype,"callOnDispose",{get:function(){return this._callOnDispose;
},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(e){this._actionRunner=e},enumerable:!0,configurable:!0}),t.prototype.getAction=function(){return this._action},t.prototype.isEnabled=function(){return this._action.enabled},t.prototype.setActionContext=function(e){this._context=e},t.prototype.render=function(e){var t=this;this.builder=r.$(e),this.gesture=new p.Gesture(e);var n=this.options&&this.options.draggable;n&&(e.draggable=!0),this.builder.on(p.EventType.Tap,function(e){return t.onClick(e)}),s.isMacintosh&&this.builder.on(c.EventType.CONTEXT_MENU,function(e){return t.onClick(e)}),this.builder.on(c.EventType.MOUSE_DOWN,function(e){n||c.EventHelper.stop(e),t._action.enabled&&t.builder.addClass("active")}),this.builder.on(c.EventType.CLICK,function(e){c.EventHelper.stop(e,!0),setTimeout(function(){return t.onClick(e)},50)}),this.builder.on([c.EventType.MOUSE_UP,c.EventType.MOUSE_OUT],function(e){c.EventHelper.stop(e),t.builder.removeClass("active")})},t.prototype.onClick=function(e){c.EventHelper.stop(e,!0);var t;l.isUndefinedOrNull(this._context)?t=e:(t=this._context,t.event=e),this._actionRunner.run(this._action,t)},t.prototype.focus=function(){this.builder&&this.builder.domFocus()},t.prototype.blur=function(){this.builder&&this.builder.domBlur()},t.prototype._updateEnabled=function(){},t.prototype._updateLabel=function(){},t.prototype._updateTooltip=function(){},t.prototype._updateClass=function(){},t.prototype._updateChecked=function(){},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.builder&&(this.builder.destroy(),this.builder=null),this.gesture&&(this.gesture.dispose(),this.gesture=null),this._callOnDispose=i.dispose(this._callOnDispose)},t}(h.EventEmitter);t.BaseActionItem=g;var v=function(e){function t(n,i){e.call(this,t.ID,n,n?"separator text":"separator"),this.checked=!1,this.radio=!1,this.enabled=!1,this.order=i}return d(t,e),t.ID="vs.actions.separator",t}(a.Action);t.Separator=v;var m=function(e){function t(t,n,i){void 0===i&&(i={}),e.call(this,t,n,i),this.options=i,this.options.icon=void 0!==i.icon&&i.icon,this.options.label=void 0===i.label||i.label,this.cssClass=""}return d(t,e),t.prototype.render=function(t){e.prototype.render.call(this,t),this.$e=r.$("a.action-label").appendTo(this.builder),this.$e.attr({role:"button"}),this.options.label&&this.options.keybinding&&r.$("span.keybinding").text(this.options.keybinding).appendTo(this.builder),this._updateClass(),this._updateLabel(),this._updateTooltip(),this._updateEnabled(),this._updateChecked()},t.prototype.focus=function(){e.prototype.focus.call(this),this.$e.domFocus()},t.prototype._updateLabel=function(){this.options.label&&this.$e.text(this.getAction().label)},t.prototype._updateTooltip=function(){var e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=n.localize(0,null,e,this.options.keybinding))),e&&this.$e.attr({title:e})},t.prototype._updateClass=function(){this.cssClass&&this.$e.removeClass(this.cssClass),this.options.icon?(this.cssClass=this.getAction().class,this.$e.addClass("icon"),this.cssClass&&this.$e.addClass(this.cssClass),this._updateEnabled()):this.$e.removeClass("icon")},t.prototype._updateEnabled=function(){this.getAction().enabled?(this.builder.removeClass("disabled"),this.$e.removeClass("disabled"),this.$e.attr({tabindex:0})):(this.builder.addClass("disabled"),this.$e.addClass("disabled"),c.removeTabIndexAndUpdateFocus(this.$e.getHTMLElement()))},t.prototype._updateChecked=function(){this.getAction().checked?this.$e.addClass("checked"):this.$e.removeClass("checked")},t.prototype._updateRadio=function(){this.getAction().radio?this.$e.addClass("radio"):this.$e.removeClass("radio")},t}(g);t.ActionItem=m,function(e){e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL"}(t.ActionsOrientation||(t.ActionsOrientation={}));var y=t.ActionsOrientation,b={orientation:y.HORIZONTAL,context:null},S=function(e){function t(t,n){var i=this;void 0===n&&(n=b),e.call(this),this.options=n,this._context=n.context,this.toDispose=[],this._actionRunner=this.options.actionRunner,this._actionRunner||(this._actionRunner=new a.ActionRunner,this.toDispose.push(this._actionRunner)),this.toDispose.push(this.addEmitter2(this._actionRunner)),this.items=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",n.animated!==!1&&c.addClass(this.domNode,"animated");var o=this.options.orientation===y.VERTICAL;o&&(this.domNode.className+=" vertical"),r.$(this.domNode).on(c.EventType.KEY_DOWN,function(e){var t=new f.StandardKeyboardEvent(e),n=!0;t.equals(o?16:15)?i.focusPrevious():t.equals(o?18:17)?i.focusNext():t.equals(9)?i.cancel():t.equals(3)||t.equals(10)||(n=!1),n&&(t.preventDefault(),t.stopPropagation())}),r.$(this.domNode).on(c.EventType.CONTEXT_MENU,function(e){e.preventDefault(),e.stopPropagation()}),r.$(this.domNode).on(c.EventType.KEY_UP,function(e){var t=new f.StandardKeyboardEvent(e);t.equals(3)||t.equals(10)?(i.doTrigger(t),t.preventDefault(),t.stopPropagation()):(t.equals(2)||t.equals(16386))&&i.updateFocusedItem()}),this.focusTracker=c.trackFocus(this.domNode),this.focusTracker.addBlurListener(function(){document.activeElement!==i.domNode&&c.isAncestor(document.activeElement,i.domNode)||(i.emit(c.EventType.BLUR,{}),i.focusedItem=void 0)}),this.focusTracker.addFocusListener(function(){return i.updateFocusedItem()}),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),(t instanceof r.Builder?t.getHTMLElement():t).appendChild(this.domNode)}return d(t,e),t.prototype.setAriaLabel=function(e){e?this.actionsList.setAttribute("aria-label",e):this.actionsList.removeAttribute("aria-label")},t.prototype.updateFocusedItem=function(){for(var e=0;e<this.actionsList.children.length;e++){var t=this.actionsList.children[e];if(c.isAncestor(document.activeElement,t)){this.focusedItem=e;break}}},Object.defineProperty(t.prototype,"context",{get:function(){return this._context},set:function(e){this._context=e,this.items.forEach(function(t){return t.setActionContext(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(e){e&&(this._actionRunner=e,this.items.forEach(function(t){return t.actionRunner=e}))},enumerable:!0,configurable:!0}),t.prototype.getContainer=function(){return r.$(this.domNode)},t.prototype.push=function(e,t){var n=this;void 0===t&&(t={});var i=Array.isArray(e)?e:[e],r=l.isNumber(t.index)?t.index:null;i.forEach(function(e){var i=document.createElement("li");i.className="action-item",i.setAttribute("role","presentation");var o=null;n.options.actionItemProvider&&(o=n.options.actionItemProvider(e)),o||(o=new m(n.context,e,t)),o.actionRunner=n._actionRunner,o.setActionContext(n.context),n.addEmitter2(o),o.render(i),null===r||r<0||r>=n.actionsList.children.length?n.actionsList.appendChild(i):n.actionsList.insertBefore(i,n.actionsList.children[r++]),n.items.push(o)})},t.prototype.pull=function(e){e>=0&&e<this.items.length&&(this.items.splice(e,1),this.actionsList.removeChild(this.actionsList.childNodes[e]))},t.prototype.clear=function(){this.items=this.options.actionItemProvider?[]:i.dispose(this.items),r.$(this.actionsList).empty()},t.prototype.length=function(){return this.items.length},t.prototype.isEmpty=function(){return 0===this.items.length},t.prototype.focus=function(e){e&&"undefined"==typeof this.focusedItem&&(this.focusedItem=0),this.updateFocus()},t.prototype.focusNext=function(){"undefined"==typeof this.focusedItem&&(this.focusedItem=this.items.length-1);var e,t=this.focusedItem;do this.focusedItem=(this.focusedItem+1)%this.items.length,e=this.items[this.focusedItem];while(this.focusedItem!==t&&!e.isEnabled());this.focusedItem!==t||e.isEnabled()||(this.focusedItem=void 0),this.updateFocus()},t.prototype.focusPrevious=function(){"undefined"==typeof this.focusedItem&&(this.focusedItem=0);var e,t=this.focusedItem;do this.focusedItem=this.focusedItem-1,this.focusedItem<0&&(this.focusedItem=this.items.length-1),e=this.items[this.focusedItem];while(this.focusedItem!==t&&!e.isEnabled());this.focusedItem!==t||e.isEnabled()||(this.focusedItem=void 0),this.updateFocus()},t.prototype.updateFocus=function(){if("undefined"==typeof this.focusedItem)return void this.domNode.focus();for(var e=0;e<this.items.length;e++){var t=this.items[e],n=t;e===this.focusedItem?l.isFunction(n.focus)&&n.focus():l.isFunction(n.blur)&&n.blur()}},t.prototype.doTrigger=function(e){if("undefined"!=typeof this.focusedItem){var t=this.items[this.focusedItem];if(t instanceof g){var n=null===t._context||void 0===t._context?e:t._context;this.run(t._action,n).done()}}},t.prototype.cancel=function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),this.emit(u.EventType.CANCEL)},t.prototype.run=function(e,t){return this._actionRunner.run(e,t)},t.prototype.dispose=function(){null!==this.items&&i.dispose(this.items),this.items=null,this.focusTracker&&(this.focusTracker.dispose(),this.focusTracker=null),this.toDispose=i.dispose(this.toDispose),this.getContainer().destroy(),e.prototype.dispose.call(this)},t}(h.EventEmitter);t.ActionBar=S;var E=function(e){function t(t,n,i,r){e.call(this,t,n),this.selectBox=new o.SelectBox(i,r),this.toDispose=[],this.toDispose.push(this.selectBox),this.registerListeners()}return d(t,e),t.prototype.setOptions=function(e,t){this.selectBox.setOptions(e,t)},t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.selectBox.onDidSelect(function(t){e.actionRunner.run(e._action,e.getActionContext(t)).done()}))},t.prototype.getActionContext=function(e){return e},t.prototype.focus=function(){this.selectBox&&this.selectBox.focus()},t.prototype.blur=function(){this.selectBox&&this.selectBox.blur()},t.prototype.render=function(e){this.selectBox.render(e)},t.prototype.getSelected=function(){return this.selectBox.getSelected()},t.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose),e.prototype.dispose.call(this)},t}(g);t.SelectActionItem=E}),define(l[404],h([1,0,29,2,143,24,43,42,5,926]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(e){function t(t,i){var o=this;e.call(this),this.toDispose=[],this.$el=n.$(".dropdown").appendTo(t),this.$label=n.$(".dropdown-label"),(i.tick||i.action)&&this.$label.addClass("tick");var a=i.labelRenderer;if(!a&&i.action){this.$action=n.$(".dropdown-action").appendTo(this.$el);var c=new s.ActionItem(null,i.action,{icon:!0,label:!0});c.actionRunner=this,c.render(this.$action.getHTMLElement()),a=function(e){return e.innerText="",c}}a||(a=function(e){return n.$(e).text(i.label||""),null}),this.$label.on(["mousedown",r.EventType.Tap],function(e){e.preventDefault(),e.stopPropagation(),o.show()}).appendTo(this.$el);var u=a(this.$label.getHTMLElement());u&&this.toDispose.push(u),this.toDispose.push(new r.Gesture(this.$label.getHTMLElement()))}return d(t,e),Object.defineProperty(t.prototype,"tooltip",{set:function(e){this.$label.title(e)},enumerable:!0,configurable:!0}),t.prototype.show=function(){},t.prototype.hide=function(){},t.prototype.onEvent=function(e,t){this.hide()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.hide(),this.toDispose=c.dispose(this.toDispose),this.$boxContainer&&(this.$boxContainer.destroy(),this.$boxContainer=null),this.$contents&&(this.$contents.destroy(),this.$contents=null),this.$label&&(this.$label.destroy(),this.$label=null)},t}(o.ActionRunner);t.BaseDropdown=u;var l=function(e){function t(t,n){e.call(this,t,n),this.contextViewProvider=n.contextViewProvider}return d(t,e),Object.defineProperty(t.prototype,"contextViewProvider",{get:function(){return this._contextViewProvider},set:function(e){this._contextViewProvider=e},enumerable:!0,configurable:!0}),t.prototype.show=function(){var e=this;this.$el.addClass("active"),this._contextViewProvider.showContextView({getAnchor:function(){return e.$el.getHTMLElement()},render:function(t){return e.renderContents(t)},onDOMEvent:function(t,n){e.onEvent(t,n)},onHide:function(){e.$el.removeClass("active")}})},t.prototype.hide=function(){this._contextViewProvider&&this._contextViewProvider.hideContextView()},t.prototype.renderContents=function(e){return null},t}(u);t.Dropdown=l;var h=function(e){function t(t,n){e.call(this,t,n),this._contextMenuProvider=n.contextMenuProvider,this.actions=n.actions||[],this.actionProvider=n.actionProvider,this.menuClassName=n.menuClassName||""}return d(t,e),Object.defineProperty(t.prototype,"contextMenuProvider",{get:function(){return this._contextMenuProvider},set:function(e){this._contextMenuProvider=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"menuOptions",{get:function(){return this._menuOptions},set:function(e){this._menuOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actions",{get:function(){return this.actionProvider?this.actionProvider.getActions():this._actions},set:function(e){this._actions=e},enumerable:!0,configurable:!0}),t.prototype.show=function(){var e=this;this.$el.addClass("active"),this._contextMenuProvider.showContextMenu({getAnchor:function(){return e.$el.getHTMLElement()},getActions:function(){return i.TPromise.as(e.actions)},getActionsContext:function(){return e.menuOptions?e.menuOptions.context:null},getActionItem:function(t){return e.menuOptions&&e.menuOptions.actionItemProvider?e.menuOptions.actionItemProvider(t):null},getKeyBinding:function(t){return e.menuOptions&&e.menuOptions.getKeyBinding?e.menuOptions.getKeyBinding(t):null},getMenuClassName:function(){return e.menuClassName},onHide:function(){return e.$el.removeClass("active")}})},t.prototype.hide=function(){},t}(u);t.DropdownMenu=h;var p=function(e){function t(t){e.call(this),this.el=document.createElement("div"),this.el.className="dropdown-group",t.appendChild(this.el)}return d(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this.el},enumerable:!0,configurable:!0}),t}(a.EventEmitter);t.DropdownGroup=p}),define(l[1030],h([4,3]),function(e,t){return e.create("vs/base/browser/ui/aria/aria",t)}),define(l[148],h([1,0,1030,13,29,890]),function(e,t,n,i,r){"use strict";function o(e){u=r.$(".aria-container").appendTo(e),l=r.$(".alert").appendTo(u).attr({role:"alert","aria-atomic":"true"}),h=r.$(".status").appendTo(u).attr({role:"status","aria-atomic":"true"})}function s(e){c(l,e)}function a(e){i.isMacintosh?s(e):c(h,e)}function c(e,t){u&&(e.getHTMLElement().textContent===t&&(t=n.localize(0,null,t)),r.$(e).empty(),r.$(e).text(t))}var u,l,h;t.setARIAContainer=o,t.alert=s,t.status=a}),define(l[1039],h([4,3]),function(e,t){return e.create("vs/base/browser/ui/findinput/findInput",t)}),define(l[1045],h([4,3]),function(e,t){return e.create("vs/base/browser/ui/inputbox/inputBox",t)}),define(l[101],h([1,0,1045,48,8,163,148,43,389,11,94,954]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";var h=r.$;!function(e){e[e.INFO=1]="INFO",e[e.WARNING=2]="WARNING",e[e.ERROR=3]="ERROR"}(t.MessageType||(t.MessageType={}));var p=t.MessageType,f=function(e){function t(t,n,o){var s=this;e.call(this),this.state="idle",this._onDidChange=this._register(new u.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new u.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=n,this.options=o||Object.create(null),this.message=null,this.cachedHeight=null,this.placeholder=this.options.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation,this.showValidationMessage=this.options.validationOptions.showMessage||!1),this.element=r.append(t,h(".monaco-inputbox.idle"));var c=this.options.flexibleHeight?"textarea":"input",l=r.append(this.element,h(".wrapper"));this.input=r.append(l,h(c+".input")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,function(){return r.addClass(s.element,"synthetic-focus")}),this.onblur(this.input,function(){return r.removeClass(s.element,"synthetic-focus")}),this.options.flexibleHeight?this.mirror=r.append(l,h("div.mirror")):(this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off")),this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&(this.input.setAttribute("placeholder",this.placeholder),this.input.title=this.placeholder),this.oninput(this.input,function(){return s.onValueChange()}),this.onblur(this.input,function(){return s.onBlur()}),this.onfocus(this.input,function(){return s.onFocus()}),this.placeholder&&i.isIE11orEarlier&&(this.onclick(this.input,function(e){r.EventHelper.stop(e,!0),s.input.focus()}),i.isIE9&&this.onkeyup(this.input,function(){return s.onValueChange()})),setTimeout(function(){return s.updateMirror()},0),this.options.actions&&(this.actionbar=this._register(new a.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1}))}return d(t,e),t.prototype.onBlur=function(){this._hideMessage()},t.prototype.onFocus=function(){this._showMessage()},t.prototype.setPlaceHolder=function(e){this.input&&this.input.setAttribute("placeholder",e)},t.prototype.setAriaLabel=function(e){this.ariaLabel=e,this.input&&(e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label"))},t.prototype.setContextViewProvider=function(e){this.contextViewProvider=e},Object.defineProperty(t.prototype,"inputElement",{get:function(){return this.input},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.input.value},set:function(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return null===this.cachedHeight?r.getTotalHeight(this.element):this.cachedHeight},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this.input.focus()},t.prototype.blur=function(){this.input.blur()},t.prototype.hasFocus=function(){return document.activeElement===this.input},t.prototype.select=function(e){void 0===e&&(e=null),this.input.select(),e&&this.input.setSelectionRange(e.start,e.end)},t.prototype.enable=function(){this.input.removeAttribute("disabled")},t.prototype.disable=function(){this.input.disabled=!0,this._hideMessage()},t.prototype.setEnabled=function(e){e?this.enable():this.disable()},Object.defineProperty(t.prototype,"width",{get:function(){return r.getTotalWidth(this.input)},set:function(e){this.input.style.width=e+"px"},enumerable:!0,configurable:!0}),t.prototype.showMessage=function(e,t){this.message=e,r.removeClass(this.element,"idle"),r.removeClass(this.element,"info"),r.removeClass(this.element,"warning"),r.removeClass(this.element,"error"),r.addClass(this.element,this.classForType(e.type));var i;i=e.type===p.ERROR?n.localize(0,null,e.content):e.type===p.WARNING?n.localize(1,null,e.content):n.localize(2,null,e.content),s.alert(i),(this.hasFocus()||t)&&this._showMessage()},t.prototype.hideMessage=function(){this.message=null,r.removeClass(this.element,"info"),r.removeClass(this.element,"warning"),r.removeClass(this.element,"error"),r.addClass(this.element,"idle"),this._hideMessage()},t.prototype.isInputValid=function(){return!!this.validation&&!this.validation(this.value)},t.prototype.validate=function(){var e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),!e},t.prototype.classForType=function(e){switch(e){case p.INFO:return"info";case p.WARNING:return"warning";default:return"error"}},t.prototype._showMessage=function(){var e=this;if(this.contextViewProvider&&this.message){var t,n=function(){return t.style.width=r.getTotalWidth(e.element)+"px"};this.state="open",this.contextViewProvider.showContextView({getAnchor:function(){return e.element},anchorAlignment:c.AnchorAlignment.RIGHT,render:function(i){t=r.append(i,h(".monaco-inputbox-container")),n();var s={tagName:"span",className:"monaco-inputbox-message"};e.message.formatContent?s.formattedText=e.message.content:s.text=e.message.content;var a=o.renderHtml(s);return r.addClass(a,e.classForType(e.message.type)),r.append(t,a),null},layout:n})}},t.prototype._hideMessage=function(){this.contextViewProvider&&"open"===this.state&&(this.state="idle",this.contextViewProvider.hideContextView())},t.prototype.onValueChange=function(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),"open"===this.state&&this.contextViewProvider.layout()},t.prototype.updateMirror=function(){if(this.mirror){var e=this.value||this.placeholder,t=e.charCodeAt(e.length-1),n=10===t?" ":"";this.mirror.textContent=e+n,this.layout()}},t.prototype.layout=function(){if(this.mirror){var e=this.cachedHeight;this.cachedHeight=r.getTotalHeight(this.mirror),e!==this.cachedHeight&&(this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedHeight))}},t.prototype.dispose=function(){this._hideMessage(),this.element=null,this.input=null,this.contextViewProvider=null,this.message=null,this.placeholder=null,this.ariaLabel=null,this.validation=null,this.showValidationMessage=null,this.state=null,this.actionbar=null,e.prototype.dispose.call(this)},t}(l.Widget);t.InputBox=f}),define(l[263],h([1,0,1039,8,101,394,94,11,943]),function(e,t,n,i,r,o,s,a){"use strict";var c=n.localize(0,null),u=n.localize(1,null),l=n.localize(2,null),h=n.localize(3,null),p=function(e){function t(t,n,i){var r=this;e.call(this),this._onDidOptionChange=this._register(new a.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new a.Emitter),this.onKeyDown=this._onKeyDown.event,this._onInput=this._register(new a.Emitter),this.onInput=this._onInput.event,this._onKeyUp=this._register(new a.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCaseSensitiveKeyDown=this._register(new a.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this.contextViewProvider=n,this.width=i.width||100,this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||h,this.regex=null,this.wholeWords=null,this.caseSensitive=null,this.domNode=null,this.inputBox=null,this.buildDomNode(i.appendCaseSensitiveLabel||"",i.appendWholeWordsLabel||"",i.appendRegexLabel||""),Boolean(t)&&t.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,function(e){return r._onKeyDown.fire(e)}),this.onkeyup(this.inputBox.inputElement,function(e){return r._onKeyUp.fire(e)}),this.oninput(this.inputBox.inputElement,function(e){return r._onInput.fire()})}return d(t,e),t.prototype.enable=function(){i.removeClass(this.domNode,"disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()},t.prototype.disable=function(){i.addClass(this.domNode,"disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()},t.prototype.setEnabled=function(e){e?this.enable():this.disable()},t.prototype.clear=function(){this.clearValidation(),this.setValue(""),this.focus()},t.prototype.setWidth=function(e){this.width=e,this.domNode.style.width=this.width+"px",this.contextViewProvider.layout(),this.setInputWidth()},t.prototype.getValue=function(){return this.inputBox.value},t.prototype.setValue=function(e){this.inputBox.value!==e&&(this.inputBox.value=e)},t.prototype.select=function(){this.inputBox.select()},t.prototype.focus=function(){this.inputBox.focus()},t.prototype.getCaseSensitive=function(){return this.caseSensitive.checked},t.prototype.setCaseSensitive=function(e){this.caseSensitive.checked=e,this.setInputWidth()},t.prototype.getWholeWords=function(){return this.wholeWords.checked},t.prototype.setWholeWords=function(e){this.wholeWords.checked=e,this.setInputWidth()},t.prototype.getRegex=function(){return this.regex.checked},t.prototype.setRegex=function(e){this.regex.checked=e,this.setInputWidth()},t.prototype.focusOnCaseSensitive=function(){this.caseSensitive.focus()},t.prototype.setInputWidth=function(){var e=this.width-this.caseSensitive.width()-this.wholeWords.width()-this.regex.width();this.inputBox.width=e},t.prototype.buildDomNode=function(e,t,n){var s=this;this.domNode=document.createElement("div"),this.domNode.style.width=this.width+"px",i.addClass(this.domNode,"monaco-findInput"),this.inputBox=this._register(new r.InputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation||null,showMessage:!0}})),this.regex=this._register(new o.Checkbox({actionClassName:"regex",title:c+n,isChecked:!1,onChange:function(e){s._onDidOptionChange.fire(e),e||s.inputBox.focus(),s.setInputWidth(),s.validate()}})),this.wholeWords=this._register(new o.Checkbox({actionClassName:"whole-word",title:u+t,isChecked:!1,onChange:function(e){s._onDidOptionChange.fire(e),e||s.inputBox.focus(),s.setInputWidth(),s.validate()}})),this.caseSensitive=this._register(new o.Checkbox({actionClassName:"case-sensitive",title:l+e,isChecked:!1,onChange:function(e){s._onDidOptionChange.fire(e),e||s.inputBox.focus(),s.setInputWidth(),s.validate()},onKeyDown:function(e){s._onCaseSensitiveKeyDown.fire(e)}}));var a=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,function(e){if(e.equals(15)||e.equals(17)||e.equals(9)){var t=a.indexOf(document.activeElement);if(t>=0){var n=void 0;e.equals(17)?n=(t+1)%a.length:e.equals(15)&&(n=0===t?a.length-1:t-1),e.equals(9)?a[t].blur():n>=0&&a[n].focus(),i.EventHelper.stop(e,!0)}}}),this.setInputWidth();var h=document.createElement("div");h.className="controls",h.appendChild(this.caseSensitive.domNode),h.appendChild(this.wholeWords.domNode),h.appendChild(this.regex.domNode),this.domNode.appendChild(h)},t.prototype.validate=function(){this.inputBox.validate()},t.prototype.showMessage=function(e){this.inputBox.showMessage(e)},t.prototype.clearMessage=function(){this.inputBox.hideMessage()},t.prototype.clearValidation=function(){this.inputBox.hideMessage()},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.OPTION_CHANGE="optionChange",t}(s.Widget);t.FindInput=p}),define(l[1052],h([4,3]),function(e,t){return e.create("vs/base/browser/ui/resourceviewer/resourceViewer",t)}),define(l[295],h([1,0,1052,98,20,29,8,103,1026]),function(e,t,n,i,r,o,s,a){"use strict";function c(e){var t=e.resource.toString(),n=l.get(t);return n||(n={etag:e.etag,src:t},l.set(t,n)),n.etag!==e.etag&&(n.etag=e.etag,n.src=t+"?"+Date.now()),n.src}var u={".bmp":"image/bmp",".gif":"image/gif",".jpg":"image/jpg",".jpeg":"image/jpg",".jpe":"image/jpg",".png":"image/png",".tiff":"image/tiff",".tif":"image/tiff",".ico":"image/x-icon",".tga":"image/x-tga",".psd":"image/vnd.adobe.photoshop",".mid":"audio/midi",".midi":"audio/midi",".mp4a":"audio/mp4",".mpga":"audio/mpeg",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".m2a":"audio/mpeg",".m3a":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".spx":"audio/ogg",".aac":"audio/x-aac",".wav":"audio/x-wav",".wma":"audio/x-ms-wma",".mp4":"video/mp4",".mp4v":"video/mp4",".mpg4":"video/mp4",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpe":"video/mpeg",".m1v":"video/mpeg",".m2v":"video/mpeg",".ogv":"video/ogg",".qt":"video/quicktime",".mov":"video/quicktime",".webm":"video/webm",".mkv":"video/x-matroska",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".wmv":"video/x-ms-wmv",".flv":"video/x-flv",".avi":"video/x-msvideo",".movie":"video/x-sgi-movie"},l=new a.BoundedLinkedMap(100),h=function(){function e(){}return e.show=function(t,a,l,h){o.$(a).setClass("monaco-resource-viewer");var d,p=r.extname(t.resource.toString());p&&(d=u[p.toLowerCase()]),d||(d=i.MIME_BINARY),d.indexOf("image/")>=0&&t.size<=e.MAX_IMAGE_SIZE?o.$(a).empty().addClass("image").img({src:c(t)}).on(s.EventType.LOAD,function(i,r){var c=r.getHTMLElement();(c.naturalWidth>c.width||c.naturalHeight>c.height)&&(o.$(a).addClass("oversized"),r.on(s.EventType.CLICK,function(e,t){o.$(a).toggleClass("full-size"),l.scanDomNode()})),h&&h(n.localize(0,null,c.naturalWidth,c.naturalHeight,e.formatSize(t.size))),l.scanDomNode()}):(o.$(a).empty().span({text:n.localize(1,null)}),h&&h(e.formatSize(t.size)),l.scanDomNode())},e.formatSize=function(t){return t<e.KB?n.localize(2,null,t):t<e.MB?n.localize(3,null,(t/e.KB).toFixed(2)):t<e.GB?n.localize(4,null,(t/e.MB).toFixed(2)):t<e.TB?n.localize(5,null,(t/e.GB).toFixed(2)):n.localize(6,null,(t/e.TB).toFixed(2))},e.KB=1024,e.MB=e.KB*e.KB,e.GB=e.MB*e.KB,e.TB=e.GB*e.KB,e.MAX_IMAGE_SIZE=e.MB,e}();t.ResourceViewer=h}),define(l[1055],h([4,3]),function(e,t){return e.create("vs/base/browser/ui/toolbar/toolbar",t)}),define(l[257],h([1,0,1055,2,29,21,24,43,404,1100]),function(e,t,n,i,r,o,s,a,c){"use strict";t.CONTEXT="context.toolbar";var u=function(){function e(e,t,n){var i=this;void 0===n&&(n={orientation:a.ActionsOrientation.HORIZONTAL}),this.options=n,this.lookupKeybindings="function"==typeof this.options.getKeyBinding&&"function"==typeof this.options.getKeyBindingLabel,this.toggleMenuAction=new l(function(){return i.toggleMenuActionItem&&i.toggleMenuActionItem.show()});var o=document.createElement("div");o.className="monaco-toolbar",e.appendChild(o),this.actionBar=new a.ActionBar(r.$(o),{orientation:n.orientation,ariaLabel:n.ariaLabel,actionItemProvider:function(e){return e.id===l.ID?(i.toggleMenuActionItem&&i.toggleMenuActionItem.dispose(),i.toggleMenuActionItem=new h(e,e.menuActions,t,i.options.actionItemProvider,i.actionRunner,i.options.getKeyBinding,"toolbar-toggle-more"),i.toggleMenuActionItem.setActionContext(i.actionBar.context),i.toggleMenuActionItem):n.actionItemProvider?n.actionItemProvider(e):null}})}return Object.defineProperty(e.prototype,"actionRunner",{get:function(){return this.actionBar.actionRunner},set:function(e){this.actionBar.actionRunner=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{set:function(e){this.actionBar.context=e,this.toggleMenuActionItem&&this.toggleMenuActionItem.setActionContext(e)},enumerable:!0,configurable:!0}),e.prototype.getContainer=function(){return this.actionBar.getContainer()},e.prototype.setAriaLabel=function(e){this.actionBar.setAriaLabel(e)},e.prototype.setActions=function(e,t){var n=this;return function(){var i=e?e.slice(0):[];n.hasSecondaryActions=t&&t.length>0,n.hasSecondaryActions&&(n.toggleMenuAction.menuActions=t.slice(0),i.push(n.toggleMenuAction)),n.actionBar.clear(),i.forEach(function(e){n.actionBar.push(e,{icon:!0,label:!1,keybinding:n.getKeybindingLabel(e)})})}},e.prototype.getKeybindingLabel=function(e){var t=this.lookupKeybindings?this.options.getKeyBinding(e):void 0;return t?this.options.getKeyBindingLabel(t):void 0},e.prototype.addPrimaryAction=function(e){var t=this;return function(){if(t.hasSecondaryActions){var n=t.actionBar.length();t.actionBar.push(e,{icon:!0,label:!1,index:n,keybinding:t.getKeybindingLabel(e)})}else t.actionBar.push(e,{icon:!0,label:!1,keybinding:t.getKeybindingLabel(e)})}},e.prototype.dispose=function(){this.actionBar.dispose(),this.toggleMenuAction.dispose(),this.toggleMenuActionItem&&this.toggleMenuActionItem.dispose()},e}();t.ToolBar=u;var l=function(e){function t(i){e.call(this,t.ID,n.localize(0,null),null,!0),this.toggleDropdownMenu=i}return d(t,e),t.prototype.run=function(){return this.toggleDropdownMenu(),i.TPromise.as(!0)},Object.defineProperty(t.prototype,"menuActions",{get:function(){return this._menuActions;
},set:function(e){this._menuActions=e},enumerable:!0,configurable:!0}),t.ID="toolbar.toggle.more",t}(s.Action),h=function(e){function t(t,n,i,r,o,s,a){e.call(this,null,t),this.menuActionsOrProvider=n,this.contextMenuProvider=i,this.actionItemProvider=r,this.actionRunner=o,this.keybindings=s,this.clazz=a}return d(t,e),t.prototype.render=function(e){var t=this,n=function(e){return t.builder=r.$("a.action-label").attr({tabIndex:"0",role:"button","aria-haspopup":"true",title:t._action.label||"",class:t.clazz}),t.builder.appendTo(e),null},i={contextMenuProvider:this.contextMenuProvider,labelRenderer:n};o.isArray(this.menuActionsOrProvider)?i.actions=this.menuActionsOrProvider:i.actionProvider=this.menuActionsOrProvider,this.dropdownMenu=new c.DropdownMenu(e,i),this.dropdownMenu.menuOptions={actionItemProvider:this.actionItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.keybindings,context:this._context},this.toUnbind=this.addEmitter2(this.dropdownMenu)},t.prototype.setActionContext=function(t){e.prototype.setActionContext.call(this,t),this.dropdownMenu&&(this.dropdownMenu.menuOptions.context=t)},t.prototype.show=function(){this.dropdownMenu&&this.dropdownMenu.show()},t.prototype.dispose=function(){this.toUnbind.dispose(),this.dropdownMenu.dispose(),e.prototype.dispose.call(this)},t}(a.BaseActionItem);t.DropdownMenuActionItem=h}),define(l[1058],h([4,3]),function(e,t){return e.create("vs/base/common/errorMessage",t)}),define(l[97],h([1,0,1058,30,21,35,12]),function(e,t,n,i,r,o,s){"use strict";function a(e,t){var n=new h(e);return t?n.verboseMessage:n.message}function c(e,t){return e.message?t&&(e.stack||e.stacktrace)?n.localize(7,null,u(e),e.stack||e.stacktrace):u(e):n.localize(8,null)}function u(e){return"string"==typeof e.code&&"number"==typeof e.errno&&"string"==typeof e.syscall?n.localize(9,null,e.message):e.message}function l(e,t){if(void 0===e&&(e=null),void 0===t&&(t=!1),!e)return n.localize(10,null);if(Array.isArray(e)){var i=o.coalesce(e),s=l(i[0],t);return i.length>1?n.localize(11,null,s,i.length):s}if(r.isString(e))return e;if(!r.isUndefinedOrNull(e.status))return a(e,t);if(e.detail){var u=e.detail;if(u.error){if(u.error&&!r.isUndefinedOrNull(u.error.status))return a(u.error,t);if(!r.isArray(u.error))return c(u.error,t);for(var h=0;h<u.error.length;h++)if(u.error[h]&&!r.isUndefinedOrNull(u.error[h].status))return a(u.error[h],t)}if(u.exception)return r.isUndefinedOrNull(u.exception.status)?c(u.exception,t):a(u.exception,t)}return e.stack?c(e,t):e.message?e.message:n.localize(12,null)}var h=function(){function e(e){this.status=e.status,this.statusText=e.statusText,this.name="ConnectionError";try{this.responseText=e.responseText}catch(e){this.responseText=""}if(this.errorMessage=null,this.errorCode=null,this.errorObject=null,this.responseText)try{var t=JSON.parse(this.responseText);this.errorMessage=t.message,this.errorCode=t.code,this.errorObject=t}catch(e){}}return Object.defineProperty(e.prototype,"message",{get:function(){return this.connectionErrorToMessage(this,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verboseMessage",{get:function(){return this.connectionErrorToMessage(this,!0)},enumerable:!0,configurable:!0}),e.prototype.connectionErrorDetailsToMessage=function(e,t){var i=e.errorCode,r=e.errorMessage;return null!==i&&null!==r?n.localize(0,null,s.rtrim(r,"."),i):null!==r?r:t&&null!==e.responseText?e.responseText:null},e.prototype.connectionErrorToMessage=function(e,t){var i=this.connectionErrorDetailsToMessage(e,t);return 401===e.status?null!==i?n.localize(1,null,i):n.localize(2,null):i?i:e.status>0&&null!==e.statusText?t&&null!==e.responseText&&e.responseText.length>0?n.localize(3,null,e.statusText,e.status,e.responseText):n.localize(4,null,e.statusText,e.status):t&&null!==e.responseText&&e.responseText.length>0?n.localize(5,null,e.responseText):n.localize(6,null)},e}();t.ConnectionError=h,i.derive(Error,h),t.toErrorMessage=l}),define(l[1070],h([4,3]),function(e,t){return e.create("vs/base/common/json",t)}),define(l[96],h([1,0,1070]),function(e,t,n){"use strict";function i(e,t){function n(t,n){for(var i=0,r=0;i<t||!n;){var o=e.charCodeAt(d);if(o>=48&&o<=57)r=16*r+o-48;else if(o>=65&&o<=70)r=16*r+o-65+10;else{if(!(o>=97&&o<=102))break;r=16*r+o-97+10}d++,i++}return i<t&&(r=-1),r}function i(e){d=e,f="",g=0,y=m.Unknown,b=v.None}function a(){var t=d;if(48===e.charCodeAt(d))d++;else for(d++;d<e.length&&s(e.charCodeAt(d));)d++;if(d<e.length&&46===e.charCodeAt(d)){if(d++,!(d<e.length&&s(e.charCodeAt(d))))return b=v.UnexpectedEndOfNumber,e.substring(t,d);for(d++;d<e.length&&s(e.charCodeAt(d));)d++}var n=d;if(d<e.length&&(69===e.charCodeAt(d)||101===e.charCodeAt(d)))if(d++,(d<e.length&&43===e.charCodeAt(d)||45===e.charCodeAt(d))&&d++,d<e.length&&s(e.charCodeAt(d))){for(d++;d<e.length&&s(e.charCodeAt(d));)d++;n=d}else b=v.UnexpectedEndOfNumber;return e.substring(t,n)}function c(){for(var t="",i=d;;){if(d>=p){t+=e.substring(i,d),b=v.UnexpectedEndOfString;break}var r=e.charCodeAt(d);if(34===r){t+=e.substring(i,d),d++;break}if(92!==r){if(o(r)){t+=e.substring(i,d),b=v.UnexpectedEndOfString;break}d++}else{if(t+=e.substring(i,d),d++,d>=p){b=v.UnexpectedEndOfString;break}switch(r=e.charCodeAt(d++)){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:var s=n(4,!0);s>=0?t+=String.fromCharCode(s):b=v.InvalidUnicode;break;default:b=v.InvalidEscapeCharacter}i=d}}return t}function u(){if(f="",b=v.None,g=d,d>=p)return g=p,y=m.EOF;var t=e.charCodeAt(d);if(r(t)){do d++,f+=String.fromCharCode(t),t=e.charCodeAt(d);while(r(t));return y=m.Trivia}if(o(t))return d++,f+=String.fromCharCode(t),13===t&&10===e.charCodeAt(d)&&(d++,f+="\n"),y=m.LineBreakTrivia;switch(t){case 123:return d++,y=m.OpenBraceToken;case 125:return d++,y=m.CloseBraceToken;case 91:return d++,y=m.OpenBracketToken;case 93:return d++,y=m.CloseBracketToken;case 58:return d++,y=m.ColonToken;case 44:return d++,y=m.CommaToken;case 34:return d++,f=c(),y=m.StringLiteral;case 47:var n=d-1;if(47===e.charCodeAt(d+1)){for(d+=2;d<p&&!o(e.charCodeAt(d));)d++;return f=e.substring(n,d),y=m.LineCommentTrivia}if(42===e.charCodeAt(d+1)){d+=2;for(var i=p-1,u=!1;d<i;){var h=e.charCodeAt(d);if(42===h&&47===e.charCodeAt(d+1)){d+=2,u=!0;break}d++}return u||(d++,b=v.UnexpectedEndOfComment),f=e.substring(n,d),y=m.BlockCommentTrivia}return f+=String.fromCharCode(t),d++,y=m.Unknown;case 45:if(f+=String.fromCharCode(t),d++,d===p||!s(e.charCodeAt(d)))return y=m.Unknown;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return f+=a(),y=m.NumericLiteral;default:for(;d<p&&l(t);)d++,t=e.charCodeAt(d);if(g!==d){switch(f=e.substring(g,d)){case"true":return y=m.TrueKeyword;case"false":return y=m.FalseKeyword;case"null":return y=m.NullKeyword}return y=m.Unknown}return f+=String.fromCharCode(t),d++,y=m.Unknown}}function l(e){if(r(e)||o(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:return!1}return!0}function h(){var e;do e=u();while(e>=m.LineCommentTrivia&&e<=m.Trivia);return e}void 0===t&&(t=!1);var d=0,p=e.length,f="",g=0,y=m.Unknown,b=v.None;return{setPosition:i,getPosition:function(){return d},scan:t?h:u,getToken:function(){return y},getTokenValue:function(){return f},getTokenOffset:function(){return g},getTokenLength:function(){return d-g},getTokenError:function(){return b}}}function r(e){return 32===e||9===e||11===e||12===e||160===e||5760===e||e>=8192&&e<=8203||8239===e||8287===e||12288===e||65279===e}function o(e){return 10===e||13===e||8232===e||8233===e}function s(e){return e>=48&&e<=57}function a(e,t){var n,r,o=i(e),s=[],a=0;do switch(r=o.getPosition(),n=o.scan()){case m.LineCommentTrivia:case m.BlockCommentTrivia:case m.EOF:a!==r&&s.push(e.substring(a,r)),void 0!==t&&s.push(o.getTokenValue().replace(/[^\r\n]/g,t)),a=o.getPosition()}while(n!==m.EOF);return s.join("")}function c(e){switch(e){case b.InvalidSymbol:return n.localize(0,null);case b.InvalidNumberFormat:return n.localize(1,null);case b.PropertyNameExpected:return n.localize(2,null);case b.ValueExpected:return n.localize(3,null);case b.ColonExpected:return n.localize(4,null);case b.CommaExpected:return n.localize(5,null);case b.CloseBraceExpected:return n.localize(6,null);case b.CloseBracketExpected:return n.localize(7,null);case b.EndOfFileExpected:return n.localize(8,null);default:return""}}function u(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return"null"}}function l(e,t){function n(e,t,n,i){s.value=e,s.offset=t,s.length=n,s.type=i,s.columnOffset=void 0,o=s}var i=[],r=new Object,o=void 0,s={value:void 0,offset:void 0,length:void 0,type:void 0},a=!1;try{g(e,{onObjectBegin:function(e,n){if(t<=e)throw r;o=void 0,a=t>e,i.push("")},onObjectProperty:function(e,o,s){if(t<o)throw r;if(n(e,o,s,"property"),i[i.length-1]=e,t<=o+s)throw r},onObjectEnd:function(e,n){if(t<=e)throw r;o=void 0,i.pop()},onArrayBegin:function(e,n){if(t<=e)throw r;o=void 0,i.push(0)},onArrayEnd:function(e,n){if(t<=e)throw r;o=void 0,i.pop()},onLiteralValue:function(e,i,o){if(t<i)throw r;if(n(e,i,o,u(e)),t<=i+o)throw r},onSeparator:function(e,n,s){if(t<=n)throw r;if(":"===e&&"property"===o.type)o.columnOffset=n,a=!1,o=void 0;else if(","===e){var c=i[i.length-1];"number"==typeof c?i[i.length-1]=c+1:(a=!0,i[i.length-1]=""),o=void 0}}})}catch(e){if(e!==r)throw e}return""===i[i.length-1]&&i.pop(),{path:i,previousNode:o,isAtPropertyKey:a,matches:function(e){for(var t=0,n=0;t<e.length&&n<i.length;n++)if(e[t]===i[n]||"*"===e[t])t++;else if("**"!==e[t])return!1;return t===e.length}}}function h(e,t,n){function i(e){Array.isArray(o)?o.push(e):r&&(o[r]=e)}void 0===t&&(t=[]);var r=null,o=[],s=[],a={onObjectBegin:function(){var e={};i(e),s.push(o),o=e,r=null},onObjectProperty:function(e){r=e},onObjectEnd:function(){o=s.pop()},onArrayBegin:function(){var e=[];i(e),s.push(o),o=e,r=null},onArrayEnd:function(){o=s.pop()},onLiteralValue:i,onError:function(e){t.push({error:e})}};return g(e,a,n),o[0]}function d(e,t,n){function i(e){"property"===o.type&&(o.length=e-o.offset,o=o.parent)}function r(e){return o.children.push(e),i(e.offset+e.length),e}void 0===t&&(t=[]);var o={type:"array",offset:-1,length:-1,children:[]},s={onObjectBegin:function(e){o=r({type:"object",offset:e,length:-1,parent:o,children:[]})},onObjectProperty:function(e,t,n){o=r({type:"property",offset:t,length:-1,parent:o,children:[]}),o.children.push({type:"string",value:e,offset:t,length:n,parent:o})},onObjectEnd:function(e,t){i(e),o.length=e+t-o.offset,o=o.parent},onArrayBegin:function(e,t){o=r({type:"array",offset:e,length:-1,parent:o,children:[]})},onArrayEnd:function(e,t){o.length=e+t-o.offset,o=o.parent},onLiteralValue:function(e,t,n){r({type:u(e),offset:t,length:n,parent:o,value:e})},onSeparator:function(e,t,n){"property"===o.type&&(":"===e?o.columnOffset=t:","===e&&i(t))},onError:function(e){t.push({error:e})}};g(e,s,n);var a=o.children[0];return a&&delete a.parent,a}function p(e,t){if(e){for(var n=e,i=0,r=t;i<r.length;i++){var o=r[i];if("string"==typeof o){if("object"!==n.type)return;for(var s=!1,a=0,c=n.children;a<c.length;a++){var u=c[a];if(u.children[0].value===o){n=u.children[1],s=!0;break}}if(!s)return}else{var l=o;if("array"!==n.type||l<0||l>=n.children.length)return;n=n.children[l]}}return n}}function f(e){if("array"===e.type)return e.children.map(f);if("object"===e.type){for(var t={},n=0,i=e.children;n<i.length;n++){var r=i[n];t[r.children[0].value]=f(r.children[1])}return t}return e.value}function g(e,t,n){function r(e){return e?function(){return e(f.getTokenOffset(),f.getTokenLength())}:function(){return!0}}function o(e){return e?function(t){return e(t,f.getTokenOffset(),f.getTokenLength())}:function(){return!0}}function s(){for(;;){var e=f.scan();switch(e){case m.LineCommentTrivia:case m.BlockCommentTrivia:I&&a(b.InvalidSymbol);break;case m.Unknown:a(b.InvalidSymbol);break;case m.Trivia:case m.LineBreakTrivia:break;default:return e}}}function a(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),w(e),t.length+n.length>0)for(var i=f.getToken();i!==m.EOF;){if(t.indexOf(i)!==-1){s();break}if(n.indexOf(i)!==-1)break;i=s()}}function c(e){if(f.getToken()!==m.StringLiteral)return!1;var t=f.getTokenValue();return e?_(t):v(t),s(),!0}function u(){switch(f.getToken()){case m.NumericLiteral:var e=0;try{e=JSON.parse(f.getTokenValue()),"number"!=typeof e&&(a(b.InvalidNumberFormat),e=0)}catch(e){a(b.InvalidNumberFormat)}_(e);break;case m.NullKeyword:_(null);break;case m.TrueKeyword:_(!0);break;case m.FalseKeyword:_(!1);break;default:return!1}return s(),!0}function l(){return c(!1)?(f.getToken()===m.ColonToken?(C(":"),s(),p()||a(b.ValueExpected,[],[m.CloseBraceToken,m.CommaToken])):a(b.ColonExpected,[],[m.CloseBraceToken,m.CommaToken]),!0):(a(b.PropertyNameExpected,[],[m.CloseBraceToken,m.CommaToken]),!1)}function h(){if(f.getToken()!==m.OpenBraceToken)return!1;g(),s();for(var e=!1;f.getToken()!==m.CloseBraceToken&&f.getToken()!==m.EOF;)f.getToken()===m.CommaToken?(e||a(b.ValueExpected,[],[]),C(","),s()):e&&a(b.CommaExpected,[],[]),l()||a(b.ValueExpected,[],[m.CloseBraceToken,m.CommaToken]),e=!0;return y(),f.getToken()!==m.CloseBraceToken?a(b.CloseBraceExpected,[m.CloseBraceToken],[]):s(),!0}function d(){if(f.getToken()!==m.OpenBracketToken)return!1;S(),s();for(var e=!1;f.getToken()!==m.CloseBracketToken&&f.getToken()!==m.EOF;)f.getToken()===m.CommaToken?(e||a(b.ValueExpected,[],[]),C(","),s()):e&&a(b.CommaExpected,[],[]),p()||a(b.ValueExpected,[],[m.CloseBracketToken,m.CommaToken]),e=!0;return E(),f.getToken()!==m.CloseBracketToken?a(b.CloseBracketExpected,[m.CloseBracketToken],[]):s(),!0}function p(){return d()||h()||c(!0)||u()}var f=i(e,!1),g=r(t.onObjectBegin),v=o(t.onObjectProperty),y=r(t.onObjectEnd),S=r(t.onArrayBegin),E=r(t.onArrayEnd),_=o(t.onLiteralValue),C=o(t.onSeparator),w=o(t.onError),I=n&&n.disallowComments;return s(),f.getToken()===m.EOF||(p()?(f.getToken()!==m.EOF&&a(b.EndOfFileExpected,[],[]),!0):(a(b.ValueExpected,[],[]),!1))}!function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter"}(t.ScanError||(t.ScanError={}));var v=t.ScanError;!function(e){e[e.Unknown=0]="Unknown",e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.EOF=16]="EOF"}(t.SyntaxKind||(t.SyntaxKind={}));var m=t.SyntaxKind;t.createScanner=i;var y;!function(e){e[e.nullCharacter=0]="nullCharacter",e[e.maxAsciiCharacter=127]="maxAsciiCharacter",e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.lineSeparator=8232]="lineSeparator",e[e.paragraphSeparator=8233]="paragraphSeparator",e[e.nextLine=133]="nextLine",e[e.space=32]="space",e[e.nonBreakingSpace=160]="nonBreakingSpace",e[e.enQuad=8192]="enQuad",e[e.emQuad=8193]="emQuad",e[e.enSpace=8194]="enSpace",e[e.emSpace=8195]="emSpace",e[e.threePerEmSpace=8196]="threePerEmSpace",e[e.fourPerEmSpace=8197]="fourPerEmSpace",e[e.sixPerEmSpace=8198]="sixPerEmSpace",e[e.figureSpace=8199]="figureSpace",e[e.punctuationSpace=8200]="punctuationSpace",e[e.thinSpace=8201]="thinSpace",e[e.hairSpace=8202]="hairSpace",e[e.zeroWidthSpace=8203]="zeroWidthSpace",e[e.narrowNoBreakSpace=8239]="narrowNoBreakSpace",e[e.ideographicSpace=12288]="ideographicSpace",e[e.mathematicalSpace=8287]="mathematicalSpace",e[e.ogham=5760]="ogham",e[e._=95]="_",e[e.$=36]="$",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.ampersand=38]="ampersand",e[e.asterisk=42]="asterisk",e[e.at=64]="at",e[e.backslash=92]="backslash",e[e.bar=124]="bar",e[e.caret=94]="caret",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.closeParen=41]="closeParen",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.equals=61]="equals",e[e.exclamation=33]="exclamation",e[e.greaterThan=62]="greaterThan",e[e.lessThan=60]="lessThan",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.openParen=40]="openParen",e[e.percent=37]="percent",e[e.plus=43]="plus",e[e.question=63]="question",e[e.semicolon=59]="semicolon",e[e.singleQuote=39]="singleQuote",e[e.slash=47]="slash",e[e.tilde=126]="tilde",e[e.backspace=8]="backspace",e[e.formFeed=12]="formFeed",e[e.byteOrderMark=65279]="byteOrderMark",e[e.tab=9]="tab",e[e.verticalTab=11]="verticalTab"}(y||(y={})),t.stripComments=a,function(e){e[e.InvalidSymbol=0]="InvalidSymbol",e[e.InvalidNumberFormat=1]="InvalidNumberFormat",e[e.PropertyNameExpected=2]="PropertyNameExpected",e[e.ValueExpected=3]="ValueExpected",e[e.ColonExpected=4]="ColonExpected",e[e.CommaExpected=5]="CommaExpected",e[e.CloseBraceExpected=6]="CloseBraceExpected",e[e.CloseBracketExpected=7]="CloseBracketExpected",e[e.EndOfFileExpected=8]="EndOfFileExpected"}(t.ParseErrorCode||(t.ParseErrorCode={}));var b=t.ParseErrorCode;t.getParseErrorMessage=c,t.getLocation=l,t.parse=h,t.parseTree=d,t.findNodeAtLocation=p,t.getNodeValue=f,t.visit=g}),define(l[320],h([1,0,96]),function(e,t,n){"use strict";function i(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}function r(e,t){for(var n=t.length-1;n>=0;n--)e=i(e,t[n]);return e}function o(e,t,i){function r(){return m+s(v,h+b)}function o(){var e=S.scan();for(y=!1;e===n.SyntaxKind.Trivia||e===n.SyntaxKind.LineBreakTrivia;)y=y||e===n.SyntaxKind.LineBreakTrivia,e=S.scan();return e}function l(t,n,i){e.substring(n,i)!==t&&E.push({offset:n,length:i-n,content:t})}var h,d,p,f;if(t){for(p=t.offset,f=p+t.length;p>0&&!u(e,p-1);)p--;var g=n.createScanner(e,!0);g.setPosition(f),g.scan(),f=g.getPosition(),d=e.substring(p,f),h=a(d,0,i)}else d=e,p=0,f=e.length,h=0;var v,m=c(i,e),y=!1,b=0;v=i.insertSpaces?s(" ",i.tabSize):"\t";var S=n.createScanner(d,!1),E=[],_=o();if(_!==n.SyntaxKind.EOF){var C=S.getTokenOffset()+p,w=s(v,h);l(w,p,C)}for(;_!==n.SyntaxKind.EOF;){for(var I=S.getTokenOffset()+S.getTokenLength()+p,T=o(),x="";!y&&(T===n.SyntaxKind.LineCommentTrivia||T===n.SyntaxKind.BlockCommentTrivia);){var A=S.getTokenOffset()+p;l(" ",I,A),I=S.getTokenOffset()+S.getTokenLength()+p,x=T===n.SyntaxKind.LineCommentTrivia?r():"",T=o()}if(T===n.SyntaxKind.CloseBraceToken)_!==n.SyntaxKind.OpenBraceToken&&(b--,x=r());else if(T===n.SyntaxKind.CloseBracketToken)_!==n.SyntaxKind.OpenBracketToken&&(b--,x=r());else if(T!==n.SyntaxKind.EOF){switch(_){case n.SyntaxKind.OpenBracketToken:case n.SyntaxKind.OpenBraceToken:b++,x=r();break;case n.SyntaxKind.CommaToken:case n.SyntaxKind.LineCommentTrivia:x=r();break;case n.SyntaxKind.BlockCommentTrivia:x=y?r():" ";break;case n.SyntaxKind.ColonToken:x=" ";break;case n.SyntaxKind.NullKeyword:case n.SyntaxKind.TrueKeyword:case n.SyntaxKind.FalseKeyword:case n.SyntaxKind.NumericLiteral:T!==n.SyntaxKind.NullKeyword&&T!==n.SyntaxKind.FalseKeyword&&T!==n.SyntaxKind.NumericLiteral||(x=" ")}!y||T!==n.SyntaxKind.LineCommentTrivia&&T!==n.SyntaxKind.BlockCommentTrivia||(x=r())}var D=S.getTokenOffset()+p;l(x,I,D),_=T}return E}function s(e,t){for(var n="",i=0;i<t;i++)n+=e;return n}function a(e,t,n){for(var i=0,r=0,o=n.tabSize||4;i<e.length;){var s=e.charAt(i);if(" "===s)r++;else{if("\t"!==s)break;r+=o}i++}return Math.floor(r/o)}function c(e,t){for(var n=0;n<t.length;n++){var i=t.charAt(n);if("\r"===i)return n+1<t.length&&"\n"===t.charAt(n+1)?"\r\n":"\r";if("\n"===i)return"\n"}return e&&e.eol||"\n"}function u(e,t){return"\r\n".indexOf(e.charAt(t))!==-1}t.applyEdit=i,t.applyEdits=r,t.format=o}),define(l[1087],h([1,0,96,320]),function(e,t,n,i){"use strict";function r(e,t,n){return o(e,t,void 0,n)}function o(e,t,i,r,o){for(var a=[],c=n.parseTree(e,a),u=void 0,l=void 0;t.length>0&&(l=t.pop(),u=n.findNodeAtLocation(c,t),void 0===u&&void 0!==i);)"string"==typeof l?(S={},S[l]=i,i=S):i=[i];if(u){if("object"===u.type&&"string"==typeof l){var h=n.findNodeAtLocation(u,[l]);if(void 0!==h){if(void 0===i){var d=u.children.indexOf(h.parent),p=void 0,f=h.parent.offset+h.parent.length;if(d>0){var g=u.children[d-1];p=g.offset+g.length}else if(p=u.offset+1,u.children.length>1){var v=u.children[1];f=v.offset}return s(e,{offset:p,length:f-p,content:""},r)}return s(e,{offset:h.offset,length:h.length,content:JSON.stringify(i)},r)}if(void 0===i)throw new Error("Property "+l+" does not exist.");var m=JSON.stringify(l)+": "+JSON.stringify(i),y=o?o(u.children.map(function(e){return e.children[0].value})):u.children.length,b=void 0;if(y>0){var g=u.children[y-1];b={offset:g.offset+g.length,length:0,content:","+m}}else b=0===u.children.length?{offset:u.offset+1,length:0,content:m}:{offset:u.offset+1,length:0,content:m+","};return s(e,b,r)}throw"array"===u.type&&"number"==typeof l?new Error("Array modification not supported yet"):new Error("Can not add "+("number"!=typeof l?"index":"property")+" to parent of type "+u.type)}if(void 0===i)throw new Error("Can not delete in empty document");return s(e,{offset:c?c.offset:0,length:c?c.length:0,content:JSON.stringify(i)},r);var S}function s(e,t,n){for(var r=i.applyEdit(e,t),o=t.offset,s=t.offset+t.content.length,a=i.format(r,{offset:o,length:s-o},n),c=a.length-1;c>=0;c--){var u=a[c];r=i.applyEdit(r,u),o=Math.min(o,u.offset),s=Math.max(s,u.offset+u.length),s+=u.content.length-u.length}var l=e.length-(r.length-s)-o;return[{offset:o,length:l,content:r.substring(o,s)}]}t.removeProperty=r,t.setProperty=o}),define(l[325],h([1,0,117,70,30,5,11,96]),function(e,t,n,i,r,o,s,a){"use strict";var c=function(){function e(e,t){void 0===t&&(t={changeBufferDelay:0,defaultConfig:Object.create(null)}),this._path=e,this.options=t,this.disposables=[],this._onDidUpdateConfiguration=new s.Emitter,this.disposables.push(this._onDidUpdateConfiguration),this.registerWatcher(),this.initAsync()}return Object.defineProperty(e.prototype,"path",{get:function(){return this._path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasParseErrors",{get:function(){return this.parseErrors&&this.parseErrors.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidUpdateConfiguration",{get:function(){return this._onDidUpdateConfiguration.event},enumerable:!0,configurable:!0}),e.prototype.initAsync=function(){var e=this;this.loadAsync(function(t){e.loaded||e.updateCache(t)})},e.prototype.updateCache=function(e){this.cache=e,this.loaded=!0},e.prototype.loadSync=function(){try{return this.parse(n.readFileSync(this._path).toString())}catch(e){return this.options.defaultConfig}},e.prototype.loadAsync=function(e){var t=this;n.readFile(this._path,function(n,i){return e(n?t.options.defaultConfig:t.parse(i.toString()))})},e.prototype.parse=function(e){var t;try{this.parseErrors=[],t=a.parse(e,this.parseErrors)}catch(e){}return t||this.options.defaultConfig},e.prototype.registerWatcher=function(){var e=this,t=i.dirname(this._path);this.watch(t),n.lstat(this._path,function(t,i){t||i.isDirectory()||i.isSymbolicLink()&&n.readlink(e._path,function(t,n){t||e.watch(n)})})},e.prototype.watch=function(e){var t=this;if(!this.disposed)try{var i=n.watch(e);i.on("change",function(){return t.onConfigFileChange()}),this.disposables.push(o.toDisposable(function(){i.removeAllListeners(),i.close()}))}catch(t){n.exists(e,function(n){n&&console.warn("Failed to watch "+e+" for configuration changes ("+t.toString()+")")})}},e.prototype.onConfigFileChange=function(){var e=this;this.timeoutHandle&&(global.clearTimeout(this.timeoutHandle),this.timeoutHandle=null),this.timeoutHandle=global.setTimeout(function(){return e.reload()},this.options.changeBufferDelay)},e.prototype.reload=function(e){var t=this;this.loadAsync(function(n){if(r.equals(n,t.cache)||(t.updateCache(n),t._onDidUpdateConfiguration.fire({config:t.cache})),e)return e(n)})},e.prototype.getConfig=function(){return this.ensureLoaded(),this.cache},e.prototype.getValue=function(e,t){if(this.ensureLoaded(),!e)return t;var n=this.cache?this.cache[e]:void 0;return"undefined"!=typeof n?n:t},e.prototype.ensureLoaded=function(){this.loaded||this.updateCache(this.loadSync())},e.prototype.dispose=function(){this.disposed=!0,this.disposables=o.dispose(this.disposables)},e}();t.ConfigWatcher=c}),define(l[1089],h([1,0,96,44,15]),function(e,t,n,i,r){"use strict";var o=function(){function e(){}return e.hasOpenBrace=function(e){for(;e.scan()!==n.SyntaxKind.EOF;){var t=e.getToken();if(t===n.SyntaxKind.OpenBraceToken)return!0}return!1},e.offsetToPosition=function(e,t){for(var n=0,r=e.getEOL().length,o=e.getLineCount(),s=1;s<=o;s++){var a=e.getLineContent(s).length+r,c=n+a;if(c>t)return new i.Position(s,t-n+1);n=c}return new i.Position(o,e.getLineMaxColumn(o))},e.insertSnippet=function(e,t){var o,s=e.getValueLengthInRange(new r.Range(1,1,t.lineNumber,t.column));!function(e){e[e.INVALID=0]="INVALID",e[e.AFTER_OBJECT=1]="AFTER_OBJECT",e[e.BEFORE_OBJECT=2]="BEFORE_OBJECT"}(o||(o={}));for(var a=o.INVALID,c=-1,u=o.INVALID,l=n.createScanner(e.getValue()),h=0,d=0,p=function(e,t){t!==o.INVALID&&1===h&&0===d?(a=t,c=e,u=t):a!==o.INVALID&&(a=o.INVALID,c=l.getTokenOffset())};l.scan()!==n.SyntaxKind.EOF;){var f=l.getPosition(),g=l.getToken(),v=!1;switch(g){case n.SyntaxKind.OpenBracketToken:v=!0,h++,p(f,o.BEFORE_OBJECT);break;case n.SyntaxKind.CloseBracketToken:v=!0,h--,p(f,o.INVALID);break;case n.SyntaxKind.CommaToken:v=!0,p(f,o.BEFORE_OBJECT);break;case n.SyntaxKind.OpenBraceToken:v=!0,d++,p(f,o.INVALID);break;case n.SyntaxKind.CloseBraceToken:v=!0,d--,p(f,o.AFTER_OBJECT);break;case n.SyntaxKind.Trivia:case n.SyntaxKind.LineBreakTrivia:v=!0}if(f>=s&&(a!==o.INVALID||c!==-1)){var m=void 0,y=void 0;return a!==o.INVALID?(m=v?f:l.getTokenOffset(),y=a):(m=c,y=u),y===o.AFTER_OBJECT?{position:this.offsetToPosition(e,m),prepend:",",append:""}:(l.setPosition(m),{position:this.offsetToPosition(e,m),prepend:"",append:this.hasOpenBrace(l)?",":""})}}var b=e.getLineCount();return{position:new i.Position(b,e.getLineMaxColumn(b)),prepend:"\n[",append:"]"}},e}();t.SmartSnippetInserter=o}),define(l[1091],h([4,3]),function(e,t){return e.create("vs/base/common/keybinding",t)}),define(l[152],h([1,0,1091,13,52]),function(e,t,n,i,r){"use strict";function o(e,t,n){var i=[],s=r.BinaryKeybindings.hasCtrlCmd(e),a=r.BinaryKeybindings.hasShift(e),c=r.BinaryKeybindings.hasAlt(e),u=r.BinaryKeybindings.hasWinCtrl(e),l=r.BinaryKeybindings.extractKeyCode(e),h=t.getLabelForKey(l);if(!h)return"";(s&&!n.isMacintosh||u&&n.isMacintosh)&&i.push(t.ctrlKeyLabel),a&&i.push(t.shiftKeyLabel),c&&i.push(t.altKeyLabel),s&&n.isMacintosh&&i.push(t.cmdKeyLabel),u&&!n.isMacintosh&&i.push(t.windowsKeyLabel),i.push(h);var d=i.join(t.modifierSeparator);return r.BinaryKeybindings.hasChord(e)?d+" "+o(r.BinaryKeybindings.extractChordPart(e),t,n):d}function s(e,t){e.length>0&&e.push({tagName:"span",text:"+"}),e.push({tagName:"span",className:"monaco-kbkey",text:t})}function a(e,t,n,i){void 0===i&&(i=!1);var o=[],c=r.BinaryKeybindings.hasCtrlCmd(e),u=r.BinaryKeybindings.hasShift(e),l=r.BinaryKeybindings.hasAlt(e),h=r.BinaryKeybindings.hasWinCtrl(e),d=r.BinaryKeybindings.extractKeyCode(e),p=t.getLabelForKey(d);if(!p)return[];(c&&!n.isMacintosh||h&&n.isMacintosh)&&s(o,t.ctrlKeyLabel),u&&s(o,t.shiftKeyLabel),l&&s(o,t.altKeyLabel),c&&n.isMacintosh&&s(o,t.cmdKeyLabel),h&&!n.isMacintosh&&s(o,t.windowsKeyLabel),s(o,p);var f=null;return r.BinaryKeybindings.hasChord(e)&&(f=a(r.BinaryKeybindings.extractChordPart(e),t,n,!0),o.push({tagName:"span",text:" "}),o=o.concat(f)),i?o:[{tagName:"span",className:"monaco-kb",children:o}]}var c=function(){function e(){}return e.getUserSettingsKeybindingRegex=function(){if(!this._cachedKeybindingRegex){var e="numpad(0|1|2|3|4|5|6|7|8|9|_multiply|_add|_subtract|_decimal|_divide|_separator)",t="`|\\-|=|\\[|\\]|\\\\\\\\|;|'|,|\\.|\\/|oem_8|oem_102",n="left|up|right|down|pageup|pagedown|end|home|tab|enter|escape|space|backspace|delete|pausebreak|capslock|insert|contextmenu|numlock|scrolllock",i="[a-z]|[0-9]|f(1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19)",r="(("+[e,t,n,i].join(")|(")+"))",o="((ctrl|shift|alt|cmd|win|meta)\\+)*",s="("+o+r+")";this._cachedKeybindingRegex='"\\s*('+s+"(\\s+"+s+')?)\\s*"'}return this._cachedKeybindingRegex},e.toUserSettingsLabel=function(e,t){void 0===t&&(t=i);var n=o(e,p.INSTANCE,t);return n=n.toLowerCase(),t.isMacintosh?n=n.replace(/meta/g,"cmd"):t.isWindows&&(n=n.replace(/meta/g,"win")),n},e.fromUserSettingsLabel=function(t,n){if(void 0===n&&(n=i),!t)return null;t=t.toLowerCase().trim();for(var o=!1,s=!1,a=!1,c=!1,u="";/^(ctrl|shift|alt|meta|win|cmd)(\+|\-)/.test(t);)/^ctrl(\+|\-)/.test(t)&&(n.isMacintosh?c=!0:o=!0,t=t.substr("ctrl-".length)),/^shift(\+|\-)/.test(t)&&(s=!0,t=t.substr("shift-".length)),/^alt(\+|\-)/.test(t)&&(a=!0,t=t.substr("alt-".length)),/^meta(\+|\-)/.test(t)&&(n.isMacintosh?o=!0:c=!0,t=t.substr("meta-".length)),/^win(\+|\-)/.test(t)&&(n.isMacintosh?o=!0:c=!0,t=t.substr("win-".length)),/^cmd(\+|\-)/.test(t)&&(n.isMacintosh?o=!0:c=!0,t=t.substr("cmd-".length));var l=0,h=t.indexOf(" ");h>0?(u=t.substring(0,h),l=e.fromUserSettingsLabel(t.substring(h),n)):u=t;var d=r.USER_SETTINGS.toKeyCode(u),p=0;return o&&(p|=32768),s&&(p|=16384),a&&(p|=8192),c&&(p|=4096),p|=d,r.KeyChord(p,l)},e._toUSLabel=function(e,t){return void 0===t&&(t=i),o(e.value,t.isMacintosh?l.INSTANCE:d.INSTANCE,t)},e._toUSAriaLabel=function(e,t){return void 0===t&&(t=i),o(e.value,h.INSTANCE,t)},e._toUSHTMLLabel=function(e,t){return void 0===t&&(t=i),a(e.value,t.isMacintosh?l.INSTANCE:d.INSTANCE,t)},e.toCustomLabel=function(e,t,n){return void 0===n&&(n=i),o(e.value,t,n)},e.toCustomHTMLLabel=function(e,t,n){return void 0===n&&(n=i),a(e.value,t,n)},e._toElectronAccelerator=function(e,t){if(void 0===t&&(t=i),r.BinaryKeybindings.hasChord(e.value))return null;var n=r.BinaryKeybindings.extractKeyCode(e.value);return n>=93&&n<=108?null:o(e.value,u.INSTANCE,t)},e._cachedKeybindingRegex=null,e}();t.KeybindingLabels=c;var u=function(){function e(){this.ctrlKeyLabel="Ctrl",this.shiftKeyLabel="Shift",this.altKeyLabel="Alt",this.cmdKeyLabel="Cmd",this.windowsKeyLabel="Super",this.modifierSeparator="+"}return e.prototype.getLabelForKey=function(e){switch(e){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return r.KeyCodeUtils.toString(e)},e.INSTANCE=new e,e}();t.ElectronAcceleratorLabelProvider=u;var l=function(){function e(){this.ctrlKeyLabel="",this.shiftKeyLabel="",this.altKeyLabel="",this.cmdKeyLabel="",this.windowsKeyLabel=n.localize(0,null),this.modifierSeparator=""}return e.prototype.getLabelForKey=function(t){switch(t){case 15:return e.leftArrowUnicodeLabel;
case 16:return e.upArrowUnicodeLabel;case 17:return e.rightArrowUnicodeLabel;case 18:return e.downArrowUnicodeLabel}return r.KeyCodeUtils.toString(t)},e.INSTANCE=new e,e.leftArrowUnicodeLabel=String.fromCharCode(8592),e.upArrowUnicodeLabel=String.fromCharCode(8593),e.rightArrowUnicodeLabel=String.fromCharCode(8594),e.downArrowUnicodeLabel=String.fromCharCode(8595),e}();t.MacUIKeyLabelProvider=l;var h=function(){function e(){this.ctrlKeyLabel=n.localize(1,null),this.shiftKeyLabel=n.localize(2,null),this.altKeyLabel=n.localize(3,null),this.cmdKeyLabel=n.localize(4,null),this.windowsKeyLabel=n.localize(5,null),this.modifierSeparator="+"}return e.prototype.getLabelForKey=function(e){return r.KeyCodeUtils.toString(e)},e.INSTANCE=new l,e}();t.AriaKeyLabelProvider=h;var d=function(){function e(){this.ctrlKeyLabel=n.localize(6,null),this.shiftKeyLabel=n.localize(7,null),this.altKeyLabel=n.localize(8,null),this.cmdKeyLabel=n.localize(9,null),this.windowsKeyLabel=n.localize(10,null),this.modifierSeparator="+"}return e.prototype.getLabelForKey=function(e){return r.KeyCodeUtils.toString(e)},e.INSTANCE=new e,e}();t.ClassicUIKeyLabelProvider=d;var p=function(){function e(){this.ctrlKeyLabel="Ctrl",this.shiftKeyLabel="Shift",this.altKeyLabel="Alt",this.cmdKeyLabel="Meta",this.windowsKeyLabel="Meta",this.modifierSeparator="+"}return e.prototype.getLabelForKey=function(e){return r.USER_SETTINGS.fromKeyCode(e)},e.INSTANCE=new e,e}()}),define(l[1098],h([4,3]),function(e,t){return e.create("vs/base/common/processes",t)}),define(l[255],h([1,0,1098,30,13,21,237]),function(e,t,n,i,r,o,s){"use strict";!function(e){e[e.stdout=0]="stdout",e[e.stderr=1]="stderr"}(t.Source||(t.Source={}));t.Source;!function(e){e[e.Success=0]="Success",e[e.Unknown=1]="Unknown",e[e.AccessDenied=2]="AccessDenied",e[e.ProcessNotFound=3]="ProcessNotFound"}(t.TerminateResponseCode||(t.TerminateResponseCode={}));var a=(t.TerminateResponseCode,function(e){function t(t,n){void 0===n&&(n=new s.ValidationStatus),e.call(this,t,n)}return d(t,e),t.prototype.parse=function(e,i){void 0===i&&(i={globals:null,emptyCommand:!1,noDefaults:!1});var o=this.parseExecutable(e,i.globals);if(this.status.isFatal())return o;var a;return e.windows&&r.platform===r.Platform.Windows?a=this.parseExecutable(e.windows):e.osx&&r.platform===r.Platform.Mac?a=this.parseExecutable(e.osx):e.linux&&r.platform===r.Platform.Linux&&(a=this.parseExecutable(e.linux)),a&&(o=t.mergeExecutable(o,a)),o&&o.command||i.emptyCommand?(i.noDefaults||s.Parser.merge(o,{command:void 0,isShellCommand:!1,args:[],options:{}},!1),o):(this.status.state=s.ValidationState.Fatal,this.log(n.localize(0,null)),null)},t.prototype.parseExecutable=function(e,t){var i=void 0,r=void 0,a=void 0,c=void 0;return this.is(e.command,o.isString)&&(i=e.command),this.is(e.isShellCommand,o.isBoolean,s.ValidationState.Warning,n.localize(1,null,e.isShellCommand))&&(r=e.isShellCommand),this.is(e.args,o.isStringArray,s.ValidationState.Warning,n.localize(2,null,e.isShellCommand))&&(a=e.args.slice(0)),this.is(e.options,o.isObject)&&(c=this.parseCommandOptions(e.options)),{command:i,isShellCommand:r,args:a,options:c}},t.prototype.parseCommandOptions=function(e){var t={};return e?(this.is(e.cwd,o.isString,s.ValidationState.Warning,n.localize(3,null,e.cwd))&&(t.cwd=e.cwd),o.isUndefined(e.env)||(t.env=i.clone(e.env)),t):t},t.mergeExecutable=function(e,t){return e?(s.Parser.merge(e,t,!0),e):t},t}(s.Parser));t.ExecutableParser=a}),define(l[1101],h([4,3]),function(e,t){return e.create("vs/base/common/severity",t)}),define(l[32],h([1,0,1101,12]),function(e,t,n,i){"use strict";var r;!function(e){e[e.Ignore=0]="Ignore",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error"}(r||(r={}));var r;!function(e){function t(t){return t?i.equalsIgnoreCase(s,t)?e.Error:i.equalsIgnoreCase(a,t)||i.equalsIgnoreCase(c,t)?e.Warning:i.equalsIgnoreCase(u,t)?e.Info:e.Ignore:e.Ignore}function r(e){return l[e]||i.empty}function o(e,t){return t-e}var s="error",a="warning",c="warn",u="info",l=Object.create(null);l[e.Error]=n.localize(0,null),l[e.Warning]=n.localize(1,null),l[e.Info]=n.localize(2,null),e.fromValue=t,e.toString=r,e.compare=o}(r||(r={})),Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}),define(l[1113],h([4,3]),function(e,t){return e.create("vs/base/node/processes",t)}),define(l[177],h([1,0,70,121,1121,311,1113,2,21,16,30,20,13,378,255]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,g){"use strict";function v(e){switch(e){case 0:return g.TerminateResponseCode.Success;case 1:return g.TerminateResponseCode.AccessDenied;case 128:return g.TerminateResponseCode.ProcessNotFound;default:return g.TerminateResponseCode.Unknown}}function m(t,n){if(p.isWindows)try{var r={stdio:["pipe","pipe","ignore"]};n&&(r.cwd=n),i.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],r)}catch(e){return{success:!1,error:e,code:e.status?v(e.status):g.TerminateResponseCode.Unknown}}else if(p.isLinux||p.isMacintosh)try{var o=u.default.parse(e.toUrl("vs/base/node/terminateProcess.sh")).fsPath,s=i.spawnSync(o,[t.pid.toString()]);if(s.error)return{success:!1,error:s.error}}catch(e){return{success:!1,error:e}}else t.kill("SIGKILL");return{success:!0}}function y(){return process.env.comspec||"cmd.exe"}function b(e){var t=[],n=!1,i=function(r){if(n)return void t.push(r);var o=e.send(r,function(e){if(e&&console.error(e),n=!1,t.length>0){var r=t.slice(0);t=[],r.forEach(function(e){return i(e)})}});o&&!p.isWindows||(n=!0)};return{send:i}}var S=i.exec,E=i.spawn;t.Source=g.Source,t.TerminateResponseCode=g.TerminateResponseCode,t.terminateProcess=m,t.getWindowsShell=y;var _=function(){function e(e,t,n,i){var r=this;if(i)this.cmd=e,this.args=t,this.shell=n,this.options=i;else if(n&&t)this.module=e,this.args=t,this.shell=!1,this.options=n;else{var o=e;this.cmd=o.command,this.shell=o.isShellCommand,this.args=o.args.slice(0),this.options=o.options||{}}if(this.childProcess=null,this.terminateRequested=!1,this.options.env){var s=Object.create(null);Object.keys(process.env).forEach(function(e){s[e]=process.env[e]}),Object.keys(this.options.env).forEach(function(e){s[e]=r.options.env[e]}),this.options.env=s}}return e.prototype.getSanitizedCommand=function(){var t=this.cmd.toLowerCase(),i=t.lastIndexOf(n.sep);return i!==-1&&(t=t.substring(i+1)),e.WellKnowCommands[t]?t:"other"},e.prototype.start=function(){var e=this;return p.isWindows&&(this.options&&this.options.cwd&&h.isUNC(this.options.cwd)||!this.options&&!this.options.cwd&&h.isUNC(process.cwd()))?a.Promise.wrapError(s.localize(0,null)):this.useExec().then(function(t){var n,i,r,s=new a.PPromise(function(e,t,o){n=e,i=t,r=o});if(t){var u=e.cmd;e.args&&(u=u+" "+e.args.join(" ")),e.childProcess=S(u,e.options,function(t,o,s){e.childProcess=null;var a=t;a&&a.killed?i({killed:e.terminateRequested,stdout:o.toString(),stderr:s.toString()}):e.handleExec(n,r,t,o,s)})}else{var h=null,d=function(t){e.childProcess=null,e.childProcessPromise=null,e.handleClose(t,n,r,i);var o={terminated:e.terminateRequested};c.isNumber(t)&&(o.cmdCode=t),n(o)};if(e.shell&&p.isWindows){var f=l.clone(e.options);f.windowsVerbatimArguments=!0,f.detached=!1;var g=!1,v=!1,m=[],b=e.ensureQuotes(e.cmd);m.push(b.value),g=b.quoted,e.args&&e.args.forEach(function(t){b=e.ensureQuotes(t),m.push(b.value),v=v&&b.quoted});var _=["/s","/c"];g?v?_.push('"'+m.join(" ")+'"'):m.length>1?_.push('"'+m[0]+'" '+m.slice(1).join(" ")):_.push('"'+m[0]+'"'):_.push(m.join(" ")),h=E(y(),_,f)}else e.cmd?h=E(e.cmd,e.args,e.options):e.module&&(e.childProcessPromise=new a.TPromise(function(t,s,a){o.fork(e.module,e.args,e.options,function(o,a){return o?(s(o),void i({terminated:e.terminateRequested,error:o})):(e.childProcess=a,e.childProcess.on("close",d),e.handleSpawn(a,n,r,i,!1),void t(a))})}));h&&(e.childProcess=h,e.childProcessPromise=a.TPromise.as(h),h.on("error",function(t){e.childProcess=null,i({terminated:e.terminateRequested,error:t})}),h.pid&&(e.childProcess.on("close",d),e.handleSpawn(h,n,r,i,!0)))}return s})},e.prototype.handleClose=function(e,t,n,i){},e.prototype.ensureQuotes=function(t){return e.regexp.test(t)?{value:'"'+t+'"',quoted:!0}:{value:t,quoted:t.length>0&&'"'===t[0]&&'"'===t[t.length-1]}},e.prototype.isRunning=function(){return null!==this.childProcessPromise},Object.defineProperty(e.prototype,"pid",{get:function(){return this.childProcessPromise.then(function(e){return e.pid},function(e){return-1})},enumerable:!0,configurable:!0}),e.prototype.terminate=function(){var e=this;return this.childProcessPromise?this.childProcessPromise.then(function(t){e.terminateRequested=!0;var n=m(t,e.options.cwd);return n.success&&(e.childProcess=null),n},function(e){return{success:!0}}):a.TPromise.as({success:!0})},e.prototype.useExec=function(){var e=this;return new a.TPromise(function(t,n,i){e.shell&&p.isWindows||t(!1);var r=E(y(),["/s","/c"]);r.on("error",function(e){t(!0)}),r.on("exit",function(e){t(!1)})})},e.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},e.regexp=/^[^"].* .*[^"]/,e}();t.AbstractProcess=_;var C=function(e){function t(t,n,i,r){e.call(this,t,n,i,r)}return d(t,e),t.prototype.handleExec=function(e,t,n,i,r){[i,r].forEach(function(e,n){var i=new f.LineDecoder,r=i.write(e);r.forEach(function(e){t({line:e,source:0===n?g.Source.stdout:g.Source.stderr})});var o=i.end();o&&t({line:o,source:0===n?g.Source.stdout:g.Source.stderr})}),e({terminated:this.terminateRequested,error:n})},t.prototype.handleSpawn=function(e,t,n,i,r){var o=this;this.stdoutLineDecoder=new f.LineDecoder,this.stderrLineDecoder=new f.LineDecoder,e.stdout.on("data",function(e){var t=o.stdoutLineDecoder.write(e);t.forEach(function(e){return n({line:e,source:g.Source.stdout})})}),e.stderr.on("data",function(e){var t=o.stderrLineDecoder.write(e);t.forEach(function(e){return n({line:e,source:g.Source.stderr})})})},t.prototype.handleClose=function(e,t,n,i){[this.stdoutLineDecoder.end(),this.stderrLineDecoder.end()].forEach(function(e,t){e&&n({line:e,source:0===t?g.Source.stdout:g.Source.stderr})})},t}(_);t.LineProcess=C;var w=function(e){function t(t,n,i,r){e.call(this,t,n,i,r)}return d(t,e),t.prototype.handleExec=function(e,t,n,i,r){t({data:i,source:g.Source.stdout}),t({data:r,source:g.Source.stderr}),e({terminated:this.terminateRequested,error:n})},t.prototype.handleSpawn=function(e,t,n,i,r){e.stdout.on("data",function(e){n({data:e,source:g.Source.stdout})}),e.stderr.on("data",function(e){n({data:e,source:g.Source.stderr})})},t}(_);t.BufferProcess=w;var I=function(e){function t(t,n,i,r){e.call(this,t,n,i,r)}return d(t,e),t.prototype.handleExec=function(e,t,n,i,o){var s=new r.PassThrough;s.end(i);var a=new r.PassThrough;a.end(o),t({stdin:null,stdout:s,stderr:a}),e({terminated:this.terminateRequested,error:n})},t.prototype.handleSpawn=function(e,t,n,i,r){r?process.nextTick(function(){n({stdin:e.stdin,stdout:e.stdout,stderr:e.stderr})}):n({stdin:e.stdin,stdout:e.stdout,stderr:e.stderr})},t}(_);t.StreamProcess=I,t.createQueuedSender=b}),define(l[1122],h([4,3]),function(e,t){return e.create("vs/base/parts/quickopen/browser/quickOpenModel",t)}),define(l[1136],h([4,3]),function(e,t){return e.create("vs/base/parts/quickopen/browser/quickOpenWidget",t)}),define(l[1139],h([4,3]),function(e,t){return e.create("vs/base/parts/tree/browser/treeDefaults",t)}),define(l[85],h([1,0,1139,2,24,13,7,8]),function(e,t,n,i,r,o,s,a){"use strict";var c=function(){function e(){}return e.prototype.getHeight=function(e,t){return 20},e.prototype.getTemplateId=function(e,t){return"legacy"},e.prototype.renderTemplate=function(e,t,n){return{root:n,element:null,previousCleanupFn:null}},e.prototype.renderElement=function(e,t,n,i){for(i.previousCleanupFn&&i.previousCleanupFn(e,i.element);i.root&&i.root.firstChild;)i.root.removeChild(i.root.firstChild);i.element=t,i.previousCleanupFn=this.render(e,t,i.root)},e.prototype.disposeTemplate=function(e,t,n){n.previousCleanupFn&&n.previousCleanupFn(e,n.element),n.root=null,n.element=null,n.previousCleanupFn=null},e.prototype.render=function(e,t,n,i){return n.textContent=""+t,null},e}();t.LegacyRenderer=c,function(e){e[e.ON_MOUSE_DOWN=0]="ON_MOUSE_DOWN",e[e.ON_MOUSE_UP=1]="ON_MOUSE_UP"}(t.ClickBehavior||(t.ClickBehavior={}));var u=t.ClickBehavior,l=function(){function e(){this._arr=[]}return e.prototype.set=function(e,t){this._arr.push({keybinding:e,callback:t})},e.prototype.dispatch=function(e){for(var t=this._arr.length-1;t>=0;t--){var n=this._arr[t];if(e.value===n.keybinding)return n.callback}return null},e}();t.KeybindingDispatcher=l;var h=function(){function e(e){var t=this;void 0===e&&(e={clickBehavior:u.ON_MOUSE_UP}),this.options=e,this.downKeyBindingDispatcher=new l,this.downKeyBindingDispatcher.set(10,function(e,n){return t.onSpace(e,n)}),this.downKeyBindingDispatcher.set(16,function(e,n){return t.onUp(e,n)}),this.downKeyBindingDispatcher.set(11,function(e,n){return t.onPageUp(e,n)}),this.downKeyBindingDispatcher.set(18,function(e,n){return t.onDown(e,n)}),this.downKeyBindingDispatcher.set(12,function(e,n){return t.onPageDown(e,n)}),this.downKeyBindingDispatcher.set(15,function(e,n){return t.onLeft(e,n)}),this.downKeyBindingDispatcher.set(17,function(e,n){return t.onRight(e,n)}),this.downKeyBindingDispatcher.set(9,function(e,n){return t.onEscape(e,n)}),this.upKeyBindingDispatcher=new l,this.upKeyBindingDispatcher.set(3,this.onEnter.bind(this)),this.upKeyBindingDispatcher.set(32771,this.onEnter.bind(this))}return e.prototype.onMouseDown=function(e,t,n,i){if(void 0===i&&(i="mouse"),this.options.clickBehavior===u.ON_MOUSE_DOWN&&n.leftButton){if(n.target){if(n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!1;if(a.findParentWithClass(n.target,"monaco-action-bar","row"))return!1}return this.onLeftClick(e,t,n,i)}return!1},e.prototype.onClick=function(e,t,n){var i=o.isMacintosh;return i&&n.ctrlKey?(n.preventDefault(),n.stopPropagation(),!1):!n.middleButton&&((!n.target||!n.target.tagName||"input"!==n.target.tagName.toLowerCase())&&((this.options.clickBehavior!==u.ON_MOUSE_DOWN||!n.leftButton)&&this.onLeftClick(e,t,n)))},e.prototype.onLeftClick=function(e,t,n,i){void 0===i&&(i="mouse");var r={origin:i,originalEvent:n};if(e.getInput()===t)e.clearFocus(r),e.clearSelection(r);else{var o=n&&n.browserEvent&&"mousedown"===n.browserEvent.type;o||n.preventDefault(),n.stopPropagation(),e.DOMFocus(),e.setSelection([t],r),e.setFocus(t,r),e.isExpanded(t)?e.collapse(t).done(null,s.onUnexpectedError):e.expand(t).done(null,s.onUnexpectedError)}return!0},e.prototype.onContextMenu=function(e,t,n){return(!n.target||!n.target.tagName||"input"!==n.target.tagName.toLowerCase())&&(n&&(n.preventDefault(),n.stopPropagation()),!1)},e.prototype.onTap=function(e,t,n){var i=n.initialTarget;return(!i||!i.tagName||"input"!==i.tagName.toLowerCase())&&this.onLeftClick(e,t,n,"touch")},e.prototype.onKeyDown=function(e,t){return this.onKey(this.downKeyBindingDispatcher,e,t)},e.prototype.onKeyUp=function(e,t){return this.onKey(this.upKeyBindingDispatcher,e,t)},e.prototype.onKey=function(e,t,n){var i=e.dispatch(n.toKeybinding());return!(!i||!i(t,n))&&(n.preventDefault(),n.stopPropagation(),!0)},e.prototype.onUp=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusPrevious(1,n),e.reveal(e.getFocus()).done(null,s.onUnexpectedError)),!0},e.prototype.onPageUp=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusPreviousPage(n),e.reveal(e.getFocus()).done(null,s.onUnexpectedError)),!0},e.prototype.onDown=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusNext(1,n),e.reveal(e.getFocus()).done(null,s.onUnexpectedError)),!0},e.prototype.onPageDown=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusNextPage(n),e.reveal(e.getFocus()).done(null,s.onUnexpectedError)),!0},e.prototype.onLeft=function(e,t){var n={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(n);else{var i=e.getFocus();e.collapse(i).then(function(t){if(i&&!t)return e.focusParent(n),e.reveal(e.getFocus())}).done(null,s.onUnexpectedError)}return!0},e.prototype.onRight=function(e,t){var n={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(n);else{var i=e.getFocus();e.expand(i).then(function(t){if(i&&!t)return e.focusFirstChild(n),e.reveal(e.getFocus())}).done(null,s.onUnexpectedError)}return!0},e.prototype.onEnter=function(e,t){var n={origin:"keyboard",originalEvent:t};if(e.getHighlight())return!1;var i=e.getFocus();return i&&e.setSelection([i],n),!0},e.prototype.onSpace=function(e,t){if(e.getHighlight())return!1;var n=e.getFocus();return n&&e.toggleExpansion(n),!0},e.prototype.onEscape=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?(e.clearHighlight(n),!0):e.getSelection().length?(e.clearSelection(n),!0):!!e.getFocus()&&(e.clearFocus(n),!0)},e}();t.DefaultController=h;var p=function(){function e(){}return e.prototype.getDragURI=function(e,t){return null},e.prototype.onDragStart=function(e,t,n){},e.prototype.onDragOver=function(e,t,n,i){return null},e.prototype.drop=function(e,t,n,i){},e}();t.DefaultDragAndDrop=p;var f=function(){function e(){}return e.prototype.isVisible=function(e,t){return!0},e}();t.DefaultFilter=f;var g=function(){function e(){}return e.prototype.compare=function(e,t,n){return 0},e}();t.DefaultSorter=g;var v=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return null},e}();t.DefaultAccessibilityProvider=v;var m=function(e){function t(t,i){e.call(this,"vs.tree.collapse",n.localize(0,null),"monaco-tree-action collapse-all",i),this.viewer=t}return d(t,e),t.prototype.run=function(e){return this.viewer.getHighlight()?i.TPromise.as(null):(this.viewer.collapseAll(),this.viewer.clearSelection(),this.viewer.clearFocus(),this.viewer.DOMFocus(),this.viewer.focusFirst(),i.TPromise.as(null))},t}(r.Action);t.CollapseAllAction=m}),define(l[93],h([1,0,1122,2,21,100,12,20,281,225,43,85,221,8]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f){"use strict";var g=0,v=function(){function e(){}return e.getLabel=function(e){return e.getLabel()},e.getResourcePath=function(e){var t=e.getResource();return t&&t.fsPath},e}(),m=function(){function e(e){void 0===e&&(e=[]),this.id=(g++).toString(),this.labelHighlights=e,this.descriptionHighlights=[]}return e.prototype.getId=function(){return this.id},e.prototype.getLabel=function(){return null},e.prototype.getLabelOptions=function(){return null},e.prototype.getAriaLabel=function(){return this.getLabel()},e.prototype.getDetail=function(){return null},e.prototype.getIcon=function(){return null},e.prototype.getDescription=function(){return null},e.prototype.getResource=function(){return null},e.prototype.isHidden=function(){return this.hidden},e.prototype.setHidden=function(e){this.hidden=e},e.prototype.setHighlights=function(e,t,n){this.labelHighlights=e,this.descriptionHighlights=t,this.detailHighlights=n},e.prototype.getHighlights=function(){return[this.labelHighlights,this.descriptionHighlights,this.detailHighlights]},e.prototype.run=function(e,t){return!1},e.compare=function(e,t,n){n&&(n=s.stripWildcards(n).toLowerCase());var i=e.getHighlights()[0]||[],r=t.getHighlights()[0]||[];if(i.length&&!r.length)return-1;if(!i.length&&r.length)return 1;var o=e.getLabel(),a=t.getLabel();if(o===a){var c=e.getResource(),l=t.getResource();c&&l&&(o=c.fsPath,a=l.fsPath)}return u.compareAnything(o,a,n)},e.compareByScore=function(e,t,n,i,r){return u.compareByScore(e,t,v,n,i,r)},e.highlight=function(e,t,n){void 0===n&&(n=!1);var i=[],r=[],c=s.stripWildcards(t),u=e.getLabel(),l=e.getDescription();if(e.getResource())if(t.toLowerCase()===e.getResource().fsPath.toLowerCase())i.push({start:0,end:u.length}),r.push({start:0,end:l.length});else if(n||t.indexOf(a.nativeSep)>=0){var h=o.matchesFuzzy(t,u,n);if(h)i=h;else{var d=l?l+a.nativeSep:"",p=d.length,f=o.matchesFuzzy(t,d+u,n);f||t===c||(f=o.matchesFuzzy(c,d+u,n)),f&&f.forEach(function(e){e.start<p&&e.end>p?(i.push({start:0,end:e.end-p}),r.push({start:e.start,end:p})):e.start>=p?i.push({start:e.start-p,end:e.end-p}):r.push(e)})}}else i=o.matchesFuzzy(t,u);else i=o.matchesFuzzy(t,u);return{labelHighlights:i,descriptionHighlights:r}},e.prototype.isFile=function(){return!1},e}();t.QuickOpenEntry=m;var y=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getHeight=function(){return 0},t.prototype.render=function(e,t,n){return null},t}(m);t.QuickOpenEntryItem=y;var b=function(e){function t(t,n,i){e.call(this),this.entry=t,this.groupLabel=n,this.withBorder=i}return d(t,e),t.prototype.getGroupLabel=function(){return this.groupLabel},t.prototype.setGroupLabel=function(e){this.groupLabel=e},t.prototype.showBorder=function(){return this.withBorder},t.prototype.setShowBorder=function(e){this.withBorder=e},t.prototype.getLabel=function(){return this.entry?this.entry.getLabel():e.prototype.getLabel.call(this)},t.prototype.getLabelOptions=function(){return this.entry?this.entry.getLabelOptions():e.prototype.getLabelOptions.call(this)},t.prototype.getAriaLabel=function(){return this.entry?this.entry.getAriaLabel():e.prototype.getAriaLabel.call(this)},t.prototype.getDetail=function(){return this.entry?this.entry.getDetail():e.prototype.getDetail.call(this)},t.prototype.getResource=function(){return this.entry?this.entry.getResource():e.prototype.getResource.call(this)},t.prototype.getIcon=function(){return this.entry?this.entry.getIcon():e.prototype.getIcon.call(this)},t.prototype.getDescription=function(){return this.entry?this.entry.getDescription():e.prototype.getDescription.call(this)},t.prototype.getEntry=function(){return this.entry},t.prototype.getHighlights=function(){return this.entry?this.entry.getHighlights():e.prototype.getHighlights.call(this)},t.prototype.isHidden=function(){return this.entry?this.entry.isHidden():e.prototype.isHidden.call(this)},t.prototype.setHighlights=function(t,n,i){this.entry?this.entry.setHighlights(t,n,i):e.prototype.setHighlights.call(this,t,n,i)},t.prototype.setHidden=function(t){this.entry?this.entry.setHidden(t):e.prototype.setHidden.call(this,t)},t.prototype.run=function(t,n){return this.entry?this.entry.run(t,n):e.prototype.run.call(this,t,n)},t}(m);t.QuickOpenEntryGroup=b;var S="quickOpenEntry",E="quickOpenEntryGroup",_="quickOpenEntryItem",C=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getTemplateId=function(e,t){return _},t.prototype.render=function(t,n,i,r){return n instanceof y?n.render(t,i,r):e.prototype.render.call(this,t,n,i,r)},t}(h.LegacyRenderer),w=function(){function e(){}return e.prototype.hasActions=function(e,t){return!1},e.prototype.getActions=function(e,t){return i.TPromise.as(null)},e.prototype.hasSecondaryActions=function(e,t){return!1},e.prototype.getSecondaryActions=function(e,t){return i.TPromise.as(null)},e.prototype.getActionItem=function(e,t,n){return null},e}(),I=function(){function e(e,t){void 0===e&&(e=new w),void 0===t&&(t=null),this.actionProvider=e,this.actionRunner=t,this.entryItemRenderer=new C}return e.prototype.getHeight=function(e){return e instanceof y?e.getHeight():e.getDetail()?44:22},e.prototype.getTemplateId=function(e){return e instanceof y?_:e instanceof b?E:S},e.prototype.renderTemplate=function(e,t){if(e===_)return this.entryItemRenderer.renderTemplate(null,e,t);var n;e===E&&(n=document.createElement("div"),f.addClass(n,"results-group"),t.appendChild(n)),f.addClass(t,"actions");var i=document.createElement("div");f.addClass(i,"sub-content"),t.appendChild(i);var r=document.createElement("div");f.addClass(r,"primary-action-bar"),t.appendChild(r);var o=new l.ActionBar(r,{actionRunner:this.actionRunner}),s=document.createElement("div");f.addClass(s,"quick-open-entry"),i.appendChild(s);var a=document.createElement("span");s.appendChild(a);var u=new c.IconLabel(s,{supportHighlights:!0}),h=document.createElement("span");s.appendChild(h),f.addClass(h,"quick-open-entry-description");var d=new p.HighlightedLabel(h),g=document.createElement("div");s.appendChild(g),f.addClass(g,"quick-open-entry-meta");var v=new p.HighlightedLabel(g);return{container:t,entry:s,icon:a,label:u,detail:v,description:d,group:n,actionBar:o}},e.prototype.renderElement=function(e,t,n){if(t===_)return void this.entryItemRenderer.renderElement(null,e,t,n);var i=n;if(this.actionProvider.hasActions(null,e)?f.addClass(i.container,"has-actions"):f.removeClass(i.container,"has-actions"),i.actionBar.context=e,this.actionProvider.getActions(null,e).then(function(e){i.actionBar.isEmpty()&&e&&e.length>0?i.actionBar.push(e,{icon:!0,label:!1}):i.actionBar.isEmpty()||e&&0!==e.length||i.actionBar.clear()}),e instanceof b){var r=e;r.showBorder()?f.addClass(i.container,"results-group-separator"):f.removeClass(i.container,"results-group-separator");var o=r.getGroupLabel()||"";n.group.textContent=o}if(e instanceof m){var s=e.getHighlights(),a=s[0],c=s[1],u=s[2],l=e.getIcon()?"quick-open-entry-icon "+e.getIcon():"";i.icon.className=l;var h=e.getLabelOptions()||Object.create(null);h.matches=a||[],i.label.setValue(e.getLabel(),null,h),i.detail.set(e.getDetail(),u),i.description.set(e.getDescription(),c||[]),i.description.element.title=e.getDescription()}},e.prototype.disposeTemplate=function(e,t){if(e===_)this.entryItemRenderer.disposeTemplate(null,e,t);else{var n=t;n.actionBar.dispose(),n.actionBar=null,n.container=null,n.entry=null,n.description.dispose(),n.description=null,n.detail.dispose(),n.detail=null,n.group=null,n.icon=null,n.label.dispose(),n.label=null}},e}(),T=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=new w),this._entries=e,this._dataSource=this,this._renderer=new I(t),this._filter=this,this._runner=this,this._accessibilityProvider=this}return Object.defineProperty(e.prototype,"entries",{get:function(){return this._entries},set:function(e){this._entries=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataSource",{get:function(){return this._dataSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderer",{get:function(){return this._renderer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"runner",{get:function(){return this._runner},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"accessibilityProvider",{get:function(){return this._accessibilityProvider},enumerable:!0,configurable:!0}),e.prototype.addEntries=function(e){r.isArray(e)&&(this._entries=this._entries.concat(e))},e.prototype.setEntries=function(e){r.isArray(e)&&(this._entries=e)},e.prototype.getEntries=function(e){return e?this._entries.filter(function(e){return!e.isHidden()}):this._entries},e.prototype.getId=function(e){return e.getId()},e.prototype.getLabel=function(e){return e.getLabel()},e.prototype.getAriaLabel=function(e){var t=e.getAriaLabel();return t?n.localize(0,null,e.getAriaLabel()):n.localize(1,null)},e.prototype.isVisible=function(e){return!e.isHidden()},e.prototype.run=function(e,t,n){return e.run(t,n)},e}();t.QuickOpenModel=T}),define(l[242],h([1,0,29,8,109,43,85,1119]),function(e,t,n,i,r,o,s){"use strict";var a=n.$,c=function(e){function t(t){e.call(this),this.actionProvider=t.actionProvider,this.actionRunner=t.actionRunner}return d(t,e),t.prototype.getHeight=function(e,t){return this.getContentHeight(e,t)},t.prototype.render=function(e,n,s,c){var u=this;try{i.clearNode(s)}catch(e){if(!/The node to be removed is no longer a child of this node/.test(e.message))throw e}c&&c(e,n);var l,h,d=a(s).addClass("actions"),p=a(".sub-content").appendTo(d);this.actionProvider.hasActions(e,n)?(d.addClass("has-actions"),l=new o.ActionBar(a(".primary-action-bar").appendTo(d),{context:this.getActionContext(e,n),actionItemProvider:function(t){return u.actionProvider.getActionItem(e,n,t)},actionRunner:this.actionRunner}),this.actionProvider.getActions(e,n).then(function(e){l.push(e,{icon:!0,label:!1})}),h=l.addListener2(r.EventType.RUN,function(e){e.error&&u.onError(e.error)})):d.removeClass("has-actions");var f=(c?c[t.CONTENTS_CLEANUP_FN_KEY]:t.NO_OP)||t.NO_OP;f(e,n);var g=this.renderContents(e,n,p.getHTMLElement(),null),v=function(){h&&h.dispose(),l&&l.dispose(),g&&g(e,n)};return v[t.CONTENTS_CLEANUP_FN_KEY]=g,v},t.prototype.getContentHeight=function(e,t){return 20},t.prototype.renderContents=function(e,t,n,i){return null},t.prototype.getActionContext=function(e,t){return null},t.prototype.onError=function(e){},t.prototype.dispose=function(){this.actionProvider=null},t.CONTENTS_CLEANUP_FN_KEY="__$ActionsRenderer.contentCleanupFn",t.NO_OP=function(){},t}(s.LegacyRenderer);t.ActionsRenderer=c}),define(l[111],h([1,0,85,42,875,1063,188,1141]),function(e,t,n,i,r,o,s){"use strict";var a=function(){function e(e,t,i){if(void 0===i&&(i={}),this.tree=e,this.configuration=t,this.options=i,!t.dataSource)throw new Error("You must provide a Data Source to the tree.");this.dataSource=t.dataSource,this.renderer=t.renderer||new n.LegacyRenderer,this.controller=t.controller||new n.DefaultController,this.dnd=t.dnd||new n.DefaultDragAndDrop,this.filter=t.filter||new n.DefaultFilter,this.sorter=t.sorter||null,this.accessibilityProvider=t.accessibilityProvider||new n.DefaultAccessibilityProvider}return e}();t.TreeContext=a;var c=function(e){function t(t,n,i){void 0===i&&(i={}),e.call(this),this.container=t,this.configuration=n,this.options=i,this.options.twistiePixels="number"==typeof this.options.twistiePixels?this.options.twistiePixels:32,this.options.indentPixels="number"==typeof this.options.indentPixels?this.options.indentPixels:12,this.options.alwaysFocused=this.options.alwaysFocused===!0,this.options.useShadows=this.options.useShadows!==!1,this.options.paddingOnRow=this.options.paddingOnRow!==!1,this.context=new a(this,n,i),this.model=new r.TreeModel(this.context),this.view=new o.TreeView(this.context,this.container),this.view.setModel(this.model),this.addEmitter2(this.model),this.addEmitter2(this.view)}return d(t,e),t.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},t.prototype.layout=function(e){this.view.layout(e)},t.prototype.DOMFocus=function(){this.view.focus()},t.prototype.isDOMFocused=function(){return this.view.isFocused()},t.prototype.DOMBlur=function(){this.view.blur()},t.prototype.onVisible=function(){this.view.onVisible()},t.prototype.onHidden=function(){this.view.onHidden()},t.prototype.setInput=function(e){return this.model.setInput(e)},t.prototype.getInput=function(){return this.model.getInput()},t.prototype.refresh=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!0),this.model.refresh(e,t)},t.prototype.refreshAll=function(e,t){return void 0===t&&(t=!0),this.model.refreshAll(e,t)},t.prototype.expand=function(e){return this.model.expand(e)},t.prototype.expandAll=function(e){return this.model.expandAll(e)},t.prototype.collapse=function(e,t){return void 0===t&&(t=!1),this.model.collapse(e)},t.prototype.collapseAll=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.model.collapseAll(e,t)},t.prototype.toggleExpansion=function(e){return this.model.toggleExpansion(e)},t.prototype.toggleExpansionAll=function(e){return this.model.toggleExpansionAll(e)},t.prototype.isExpanded=function(e){return this.model.isExpanded(e)},t.prototype.getExpandedElements=function(){return this.model.getExpandedElements()},t.prototype.reveal=function(e,t){return void 0===t&&(t=null),this.model.reveal(e,t)},t.prototype.getRelativeTop=function(e){var t=this.model.getItem(e);return this.view.getRelativeTop(t)},t.prototype.getScrollPosition=function(){return this.view.getScrollPosition()},t.prototype.setScrollPosition=function(e){this.view.setScrollPosition(e)},t.prototype.getContentHeight=function(){return this.view.getTotalHeight()},t.prototype.setHighlight=function(e,t){this.model.setHighlight(e,t);
},t.prototype.getHighlight=function(){return this.model.getHighlight()},t.prototype.isHighlighted=function(e){return this.model.isFocused(e)},t.prototype.clearHighlight=function(e){this.model.setHighlight(null,e)},t.prototype.select=function(e,t){this.model.select(e,t)},t.prototype.selectRange=function(e,t,n){this.model.selectRange(e,t,n)},t.prototype.deselectRange=function(e,t,n){this.model.deselectRange(e,t,n)},t.prototype.selectAll=function(e,t){this.model.selectAll(e,t)},t.prototype.deselect=function(e,t){this.model.deselect(e,t)},t.prototype.deselectAll=function(e,t){this.model.deselectAll(e,t)},t.prototype.setSelection=function(e,t){this.model.setSelection(e,t)},t.prototype.toggleSelection=function(e,t){this.model.toggleSelection(e,t)},t.prototype.isSelected=function(e){return this.model.isSelected(e)},t.prototype.getSelection=function(){return this.model.getSelection()},t.prototype.clearSelection=function(e){this.model.setSelection([],e)},t.prototype.selectNext=function(e,t,n){this.model.selectNext(e,t,n)},t.prototype.selectPrevious=function(e,t,n){this.model.selectPrevious(e,t,n)},t.prototype.selectParent=function(e,t){this.model.selectParent(e,t)},t.prototype.setFocus=function(e,t){this.model.setFocus(e,t)},t.prototype.isFocused=function(e){return this.model.isFocused(e)},t.prototype.getFocus=function(){return this.model.getFocus()},t.prototype.focusNext=function(e,t){this.model.focusNext(e,t)},t.prototype.focusPrevious=function(e,t){this.model.focusPrevious(e,t)},t.prototype.focusParent=function(e){this.model.focusParent(e)},t.prototype.focusFirstChild=function(e){this.model.focusFirstChild(e)},t.prototype.focusFirst=function(e){this.model.focusFirst(e)},t.prototype.focusNth=function(e,t){this.model.focusNth(e,t)},t.prototype.focusLast=function(e){this.model.focusLast(e)},t.prototype.focusNextPage=function(e){this.view.focusNextPage(e)},t.prototype.focusPreviousPage=function(e){this.view.focusPreviousPage(e)},t.prototype.clearFocus=function(e){this.model.setFocus(null,e)},t.prototype.addTraits=function(e,t){this.model.addTraits(e,t)},t.prototype.removeTraits=function(e,t){this.model.removeTraits(e,t)},t.prototype.toggleTrait=function(e,t){this.model.hasTrait(e,t)?this.model.removeTraits(e,[t]):this.model.addTraits(e,[t])},t.prototype.hasTrait=function(e,t){return this.model.hasTrait(e,t)},t.prototype.getNavigator=function(){return new s.MappedNavigator(this.model.getNavigator(),function(e){return e&&e.getElement()})},t.prototype.dispose=function(){null!==this.model&&(this.model.dispose(),this.model=null),null!==this.view&&(this.view.dispose(),this.view=null),e.prototype.dispose.call(this)},t}(i.EventEmitter);t.Tree=c}),define(l[1155],h([1,0,1136,2,13,48,109,21,7,99,865,29,101,32,111,264,78,85,8,5,112,1112]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,g,v,m,y,b,S,E){"use strict";var _=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.onContextMenu=function(t,n,i){return r.isMacintosh?this.onLeftClick(t,n,i):e.prototype.onContextMenu.call(this,t,n,i)},t}(y.DefaultController);t.QuickOpenController=_,function(e){e[e.ELEMENT_SELECTED=0]="ELEMENT_SELECTED",e[e.FOCUS_LOST=1]="FOCUS_LOST",e[e.CANCELED=2]="CANCELED"}(t.HideReason||(t.HideReason={}));var C=t.HideReason,w=n.localize(0,null),I=function(){function e(e,t,n,i){this.toUnbind=[],this.container=e,this.callbacks=t,this.options=n,this.usageLogger=i,this.model=null}return e.prototype.getElement=function(){return h.$(this.builder)},e.prototype.getModel=function(){return this.model},e.prototype.setCallbacks=function(e){this.callbacks=e},e.prototype.create=function(){var e=this;return this.builder=h.$().div(function(t){t.on(b.EventType.KEY_DOWN,function(t){var n=new m.StandardKeyboardEvent(t);9===n.keyCode&&(b.EventHelper.stop(t,!0),e.hide(C.CANCELED))}).on(b.EventType.CONTEXT_MENU,function(e){return b.EventHelper.stop(e,!0)}).on(b.EventType.FOCUS,function(t){return e.gainingFocus()},null,!0).on(b.EventType.BLUR,function(t){return e.loosingFocus(t)},null,!0),e.progressBar=new v.ProgressBar(t.clone()),e.progressBar.getContainer().hide(),t.div({class:"quick-open-input"},function(t){e.inputContainer=t,e.inputBox=new p.InputBox(t.getHTMLElement(),null,{placeholder:e.options.inputPlaceHolder||"",ariaLabel:w}),e.inputElement=e.inputBox.inputElement,e.inputElement.setAttribute("role","combobox"),e.inputElement.setAttribute("aria-haspopup","false"),e.inputElement.setAttribute("aria-autocomplete","list"),b.addDisposableListener(e.inputBox.inputElement,b.EventType.KEY_DOWN,function(t){var n=new m.StandardKeyboardEvent(t),i=e.shouldOpenInBackground(n);if(2!==n.keyCode)if(18===n.keyCode||16===n.keyCode||12===n.keyCode||11===n.keyCode)b.EventHelper.stop(t,!0),e.navigateInTree(n.keyCode,n.shiftKey),e.inputBox.inputElement.selectionStart=e.inputBox.value.length;else if(3===n.keyCode||i){b.EventHelper.stop(t,!0);var r=e.tree.getFocus();r&&e.elementSelected(r,t,i?u.Mode.OPEN_IN_BACKGROUND:u.Mode.OPEN)}else!o.isIE9||1!==n.keyCode&&20!==n.keyCode||e.onType()}),b.addDisposableListener(e.inputBox.inputElement,b.EventType.INPUT,function(t){e.onType()})}),e.treeContainer=t.div({class:"quick-open-tree"},function(t){e.tree=new g.Tree(t.getHTMLElement(),{dataSource:new l.DataSource(e),controller:new _({clickBehavior:y.ClickBehavior.ON_MOUSE_UP}),renderer:new l.Renderer(e),filter:new l.Filter(e),accessibilityProvider:new l.AccessibilityProvider(e)},{twistiePixels:11,indentPixels:0,alwaysFocused:!0,verticalScrollMode:E.ScrollbarVisibility.Visible,ariaLabel:n.localize(1,null)}),e.treeElement=e.tree.getHTMLElement(),e.toUnbind.push(e.tree.addListener2(s.EventType.FOCUS,function(t){e.elementFocused(t.focus,t)})),e.toUnbind.push(e.tree.addListener2(s.EventType.SELECTION,function(t){t.selection&&t.selection.length>0&&e.elementSelected(t.selection[0],t)}))}).on(b.EventType.KEY_DOWN,function(t){var n=new m.StandardKeyboardEvent(t);e.quickNavigateConfiguration&&(18!==n.keyCode&&16!==n.keyCode&&12!==n.keyCode&&11!==n.keyCode||(b.EventHelper.stop(t,!0),e.navigateInTree(n.keyCode)))}).on(b.EventType.KEY_UP,function(t){var n=new m.StandardKeyboardEvent(t),i=n.keyCode;if(e.quickNavigateConfiguration){var o=e.quickNavigateConfiguration.keybindings,s=3===i||o.some(function(e){if(e.hasShift()&&4===i)return!(n.ctrlKey||n.altKey||n.metaKey);if(e.hasAlt()&&6===i)return!0;if(r.isMacintosh){if(e.hasCtrlCmd()&&57===i)return!0;if(e.hasWinCtrl()&&5===i)return!0}else{if(e.hasCtrlCmd()&&5===i)return!0;if(e.hasWinCtrl()&&57===i)return!0}return!1});if(s){var a=e.tree.getFocus();a&&e.elementSelected(a,t)}}}).clone()}).addClass("quick-open-widget").addClass(o.isIE10orEarlier?" no-shadow":"").build(this.container),this.layoutDimensions&&this.layout(this.layoutDimensions),this.builder.getHTMLElement()},e.prototype.shouldOpenInBackground=function(e){return 17===e.keyCode&&(!(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)&&this.inputBox.inputElement.selectionStart===this.inputBox.value.length)},e.prototype.onType=function(){var e=this.inputBox.value;this.helpText&&(e?this.helpText.hide():this.helpText.show()),this.callbacks.onType(e)},e.prototype.quickNavigate=function(e,t){this.isVisible&&(this.quickNavigateConfiguration||(this.quickNavigateConfiguration=e,this.tree.DOMFocus()),this.navigateInTree(t?18:16))},e.prototype.navigateInTree=function(e,t){var n=this.tree.getInput(),i=n?n.entries:[],r=this.tree.getFocus();switch(e){case 18:this.tree.focusNext();break;case 16:this.tree.focusPrevious();break;case 12:this.tree.focusNextPage();break;case 11:this.tree.focusPreviousPage();break;case 2:t?this.tree.focusPrevious():this.tree.focusNext()}var o=this.tree.getFocus();i.length>1&&r===o&&(16===e||2===e&&t?this.tree.focusLast():(18===e||2===e&&!t)&&this.tree.focusFirst()),o=this.tree.getFocus(),o&&this.tree.reveal(o).done(null,c.onUnexpectedError)},e.prototype.elementFocused=function(e,t){if(e&&this.isVisible()){this.inputElement.setAttribute("aria-activedescendant",this.treeElement.getAttribute("aria-activedescendant"));var n={event:t,keymods:this.extractKeyMods(t),quickNavigateConfiguration:this.quickNavigateConfiguration};this.model.runner.run(e,u.Mode.PREVIEW,n)}},e.prototype.elementSelected=function(e,t,n){var i=!0;if(this.isVisible()){var r=n||u.Mode.OPEN,o={event:t,keymods:this.extractKeyMods(t),quickNavigateConfiguration:this.quickNavigateConfiguration};i=this.model.runner.run(e,r,o)}if(this.usageLogger){var s=this.model.entries.indexOf(e),a=this.model.entries.length;this.usageLogger.publicLog("quickOpenWidgetItemAccepted",{index:s,count:a,isQuickNavigate:!!this.quickNavigateConfiguration})}i&&this.hide(C.ELEMENT_SELECTED)},e.prototype.extractKeyMods=function(e){var t=e&&(e.ctrlKey||e.metaKey||e.payload&&e.payload.originalEvent&&(e.payload.originalEvent.ctrlKey||e.payload.originalEvent.metaKey));return t?[32768]:[]},e.prototype.show=function(e,t){this.visible=!0,this.isLoosingFocus=!1,this.quickNavigateConfiguration=t?t.quickNavigateConfiguration:void 0,this.quickNavigateConfiguration?(this.inputContainer.hide(),this.builder.show(),this.tree.DOMFocus()):(this.inputContainer.show(),this.builder.show(),this.inputBox.focus()),this.helpText&&(this.quickNavigateConfiguration||a.isString(e)?this.helpText.hide():this.helpText.show()),a.isString(e)?this.doShowWithPrefix(e):this.doShowWithInput(e,t&&t.autoFocus?t.autoFocus:{}),this.callbacks.onShow&&this.callbacks.onShow()},e.prototype.doShowWithPrefix=function(e){this.inputBox.value=e,this.callbacks.onType(e)},e.prototype.doShowWithInput=function(e,t){this.setInput(e,t)},e.prototype.setInputAndLayout=function(e,t){var n=this;this.treeContainer.style({height:this.getHeight(e)+"px"}),this.tree.setInput(null).then(function(){return n.model=e,n.inputElement.setAttribute("aria-haspopup",String(e&&e.entries&&e.entries.length>0)),n.tree.setInput(e)}).done(function(){n.tree.layout(),e&&e.entries.some(function(t){return n.isElementVisible(e,t)})&&n.autoFocus(e,t)},c.onUnexpectedError)},e.prototype.isElementVisible=function(e,t){return!e.filter||e.filter.isVisible(t)},e.prototype.autoFocus=function(e,t){var n=this;void 0===t&&(t={});var i=e.entries.filter(function(t){return n.isElementVisible(e,t)});if(t.autoFocusPrefixMatch){for(var r=void 0,o=void 0,s=t.autoFocusPrefixMatch,a=s.toLowerCase(),u=0;u<i.length;u++){var l=i[u],h=e.dataSource.getLabel(l);if(r||0!==h.indexOf(s)?o||0!==h.toLowerCase().indexOf(a)||(o=l):r=l,r&&o)break}var d=r||o;if(d)return this.tree.setFocus(d),void this.tree.reveal(d,.5).done(null,c.onUnexpectedError)}t.autoFocusFirstEntry?(this.tree.focusFirst(),this.tree.reveal(this.tree.getFocus()).done(null,c.onUnexpectedError)):"number"==typeof t.autoFocusIndex?i.length>t.autoFocusIndex&&(this.tree.focusNth(t.autoFocusIndex),this.tree.reveal(this.tree.getFocus()).done(null,c.onUnexpectedError)):t.autoFocusSecondEntry?i.length>1&&this.tree.focusNth(1):t.autoFocusLastEntry&&i.length>1&&this.tree.focusLast()},e.prototype.refresh=function(e,t){var n=this;this.isVisible()&&(this.treeContainer.style({height:this.getHeight(e)+"px"}),this.tree.refresh().done(function(){n.tree.layout();var i=t&&e&&e.entries.some(function(t){return n.isElementVisible(e,t)});i&&!t.autoFocusPrefixMatch&&(i=!n.tree.getFocus()),i&&n.autoFocus(e,t)},c.onUnexpectedError))},e.prototype.getHeight=function(t){var n=this,i=t.renderer;if(!t){var r=i.getHeight(null);return this.options.minItemsToShow?this.options.minItemsToShow*r:0}var o,s=0;this.layoutDimensions&&this.layoutDimensions.height&&(o=.4*(this.layoutDimensions.height-50)),(!o||o>e.MAX_ITEMS_HEIGHT)&&(o=e.MAX_ITEMS_HEIGHT);for(var a=t.entries.filter(function(e){return n.isElementVisible(t,e)}),c=this.options.maxItemsToShow||a.length,u=0;u<c&&u<a.length;u++){var l=i.getHeight(a[u]);if(!(s+l<=o))break;s+=l}return s},e.prototype.hide=function(e){var t=this;if(this.isVisible()){if(this.visible=!1,this.builder.hide(),this.builder.domBlur(),e===C.CANCELED&&this.model){var n=this.model.entries.filter(function(e){return t.isElementVisible(t.model,e)}).length;this.usageLogger&&this.usageLogger.publicLog("quickOpenWidgetCancelled",{count:n,isQuickNavigate:!!this.quickNavigateConfiguration})}this.inputBox.value="",this.tree.setInput(null),this.inputElement.setAttribute("aria-haspopup","false"),this.treeContainer.style({height:(this.options.minItemsToShow?22*this.options.minItemsToShow:0)+"px"}),this.progressBar.stop().getContainer().hide(),this.tree.isDOMFocused()?this.tree.DOMBlur():this.inputBox.hasFocus()&&this.inputBox.blur(),e===C.ELEMENT_SELECTED?this.callbacks.onOk():this.callbacks.onCancel(),this.callbacks.onHide&&this.callbacks.onHide(e)}},e.prototype.getQuickNavigateConfiguration=function(){return this.quickNavigateConfiguration},e.prototype.setPlaceHolder=function(e){this.inputBox&&this.inputBox.setPlaceHolder(e)},e.prototype.setValue=function(e,t){this.inputBox&&(this.inputBox.value=e,t&&this.inputBox.select())},e.prototype.setPassword=function(e){this.inputBox&&(this.inputBox.inputElement.type=e?"password":"text")},e.prototype.setInput=function(e,t,n){this.isVisible()&&(this.getInput()&&this.onInputChanging(),this.setInputAndLayout(e,t),this.inputBox&&this.inputBox.setAriaLabel(n||w))},e.prototype.onInputChanging=function(){var e=this;this.inputChangingTimeoutHandle&&(clearTimeout(this.inputChangingTimeoutHandle),this.inputChangingTimeoutHandle=null),this.builder.addClass("content-changing"),this.inputChangingTimeoutHandle=setTimeout(function(){e.builder.removeClass("content-changing")},500)},e.prototype.getInput=function(){return this.tree.getInput()},e.prototype.showInputDecoration=function(e){this.inputBox&&this.inputBox.showMessage({type:e===f.default.Info?p.MessageType.INFO:e===f.default.Warning?p.MessageType.WARNING:p.MessageType.ERROR,content:""})},e.prototype.clearInputDecoration=function(){this.inputBox&&this.inputBox.hideMessage()},e.prototype.focus=function(){this.isVisible()&&this.inputBox&&this.inputBox.focus()},e.prototype.accept=function(){if(this.isVisible()){var e=this.tree.getFocus();e&&this.elementSelected(e)}},e.prototype.getProgressBar=function(){return this.progressBar},e.prototype.getInputBox=function(){return this.inputBox},e.prototype.setExtraClass=function(e){var t=this.builder.getProperty("extra-class");t&&this.builder.removeClass(t),e?(this.builder.addClass(e),this.builder.setProperty("extra-class",e)):t&&this.builder.removeProperty("extra-class")},e.prototype.isVisible=function(){return this.visible},e.prototype.layout=function(t){this.layoutDimensions=t;var n=Math.min(.62*this.layoutDimensions.width,e.MAX_WIDTH);this.builder&&(this.builder.style({width:n+"px",marginLeft:"-"+n/2+"px"}),this.inputContainer.style({width:n-12+"px"}))},e.prototype.gainingFocus=function(){this.isLoosingFocus=!1},e.prototype.loosingFocus=function(e){var t=this;if(this.isVisible()){var n=e.relatedTarget;!this.quickNavigateConfiguration&&b.isAncestor(n,this.builder.getHTMLElement())||(this.isLoosingFocus=!0,i.TPromise.timeout(0).then(function(){if(t.isLoosingFocus){var e=t.callbacks.onFocusLost&&t.callbacks.onFocusLost();e||t.hide(C.FOCUS_LOST)}}))}},e.prototype.dispose=function(){this.toUnbind=S.dispose(this.toUnbind),this.progressBar.dispose(),this.inputBox.dispose(),this.tree.dispose()},e.MAX_WIDTH=600,e.MAX_ITEMS_HEIGHT=440,e}();t.QuickOpenWidget=I});define(l[1160],h([4,3]),function(e,t){return e.create("vs/editor/common/config/commonEditorConfig",t)});define(l[1162],h([4,3]),function(e,t){return e.create("vs/editor/common/config/defaultConfig",t)}),define(l[127],h([1,0,1162,13,212]),function(e,t,n,i,r){"use strict";t.DEFAULT_INDENTATION={tabSize:4,insertSpaces:!0,detectIndentation:!0},t.DEFAULT_TRIM_AUTO_WHITESPACE=!0;var o="Consolas, 'Courier New', monospace",s="Menlo, Monaco, 'Courier New', monospace",a="'Droid Sans Mono', 'Courier New', monospace, 'Droid Sans Fallback'";t.GOLDEN_LINE_HEIGHT_RATIO=i.isMacintosh?1.5:1.35;var c=function(){function e(){this.editor={experimentalScreenReader:!0,rulers:[],wordSeparators:r.USUAL_WORD_SEPARATORS,selectionClipboard:!0,ariaLabel:n.localize(0,null),lineNumbers:"on",selectOnLineNumbers:!0,lineNumbersMinChars:5,glyphMargin:!0,lineDecorationsWidth:10,revealHorizontalRightPadding:30,roundedSelection:!0,theme:"vs",readOnly:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1},fixedOverflowWidgets:!1,overviewRulerLanes:2,cursorBlinking:"blink",mouseWheelZoom:!1,cursorStyle:"line",fontLigatures:!1,disableTranslate3d:!1,hideCursorInOverviewRuler:!1,scrollBeyondLastLine:!0,automaticLayout:!1,wrappingColumn:300,wordWrap:!1,wrappingIndent:"same",wordWrapBreakBeforeCharacters:"([{+",wordWrapBreakAfterCharacters:" \t})]?|&,;",wordWrapBreakObtrusiveCharacters:".",hover:!0,contextmenu:!0,mouseWheelScrollSensitivity:1,quickSuggestions:!0,quickSuggestionsDelay:10,parameterHints:!0,iconsInSuggestions:!0,autoClosingBrackets:!0,formatOnType:!1,suggestOnTriggerCharacters:!0,acceptSuggestionOnEnter:!0,snippetSuggestions:"bottom",emptySelectionClipboard:!0,tabCompletion:!1,wordBasedSuggestions:!0,suggestFontSize:0,suggestLineHeight:0,selectionHighlight:!0,codeLens:!0,referenceInfos:!0,folding:!0,renderWhitespace:"none",renderControlCharacters:!1,renderIndentGuides:!1,renderLineHighlight:"line",useTabStops:!0,fontFamily:i.isMacintosh?s:i.isLinux?a:o,fontWeight:"normal",fontSize:i.isMacintosh?12:14,lineHeight:0}}return e}();t.DefaultConfig=new c}),define(l[1173],h([4,3]),function(e,t){return e.create("vs/editor/common/controller/cursor",t)}),define(l[1179],h([4,3]),function(e,t){return e.create("vs/editor/common/model/textModelWithTokens",t)}),define(l[1180],h([4,3]),function(e,t){return e.create("vs/editor/common/modes/modesRegistry",t)}),define(l[1183],h([4,3]),function(e,t){return e.create("vs/editor/common/modes/snippetsRegistry",t)}),define(l[1189],h([4,3]),function(e,t){return e.create("vs/editor/common/services/bulkEdit",t)}),define(l[1193],h([4,3]),function(e,t){return e.create("vs/editor/common/services/modeServiceImpl",t)}),define(l[1195],h([4,3]),function(e,t){return e.create("vs/editor/common/services/modelServiceImpl",t)}),define(l[1198],h([4,3]),function(e,t){return e.create("vs/editor/contrib/accessibility/browser/accessibility",t)}),define(l[1201],h([4,3]),function(e,t){return e.create("vs/editor/contrib/carretOperations/common/carretOperations",t)}),define(l[1202],h([4,3]),function(e,t){return e.create("vs/editor/contrib/clipboard/browser/clipboard",t)}),define(l[1207],h([4,3]),function(e,t){return e.create("vs/editor/contrib/comment/common/comment",t)}),define(l[1208],h([4,3]),function(e,t){return e.create("vs/editor/contrib/contextmenu/browser/contextmenu",t)}),define(l[1209],h([4,3]),function(e,t){return e.create("vs/editor/contrib/defineKeybinding/browser/defineKeybinding",t)}),define(l[1213],h([4,3]),function(e,t){return e.create("vs/editor/contrib/find/browser/findWidget",t)}),define(l[1214],h([4,3]),function(e,t){return e.create("vs/editor/contrib/find/common/findController",t)}),define(l[1219],h([4,3]),function(e,t){return e.create("vs/editor/contrib/folding/browser/folding",t)}),define(l[1223],h([4,3]),function(e,t){return e.create("vs/editor/contrib/format/common/formatActions",t)}),define(l[1226],h([4,3]),function(e,t){return e.create("vs/editor/contrib/goToDeclaration/browser/goToDeclaration",t)}),define(l[407],h([4,3]),function(e,t){return e.create("vs/editor/contrib/gotoError/browser/gotoError",t)}),define(l[408],h([4,3]),function(e,t){return e.create("vs/editor/contrib/hover/browser/hover",t)}),define(l[409],h([4,3]),function(e,t){return e.create("vs/editor/contrib/hover/browser/modesContentHover",t)}),define(l[410],h([4,3]),function(e,t){return e.create("vs/editor/contrib/inPlaceReplace/common/inPlaceReplace",t)}),define(l[411],h([4,3]),function(e,t){return e.create("vs/editor/contrib/linesOperations/common/linesOperations",t)}),define(l[412],h([4,3]),function(e,t){return e.create("vs/editor/contrib/links/browser/links",t)}),define(l[413],h([4,3]),function(e,t){return e.create("vs/editor/contrib/multicursor/common/multicursor",t)}),define(l[414],h([4,3]),function(e,t){return e.create("vs/editor/contrib/parameterHints/browser/parameterHints",t)}),define(l[415],h([4,3]),function(e,t){return e.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",t)}),define(l[416],h([4,3]),function(e,t){return e.create("vs/editor/contrib/quickFix/browser/quickFix",t)}),define(l[417],h([4,3]),function(e,t){return e.create("vs/editor/contrib/referenceSearch/browser/referenceSearch",t)}),define(l[418],h([4,3]),function(e,t){return e.create("vs/editor/contrib/referenceSearch/browser/referencesController",t)}),define(l[419],h([4,3]),function(e,t){return e.create("vs/editor/contrib/referenceSearch/browser/referencesWidget",t)}),define(l[420],h([4,3]),function(e,t){return e.create("vs/editor/contrib/rename/browser/rename",t)}),define(l[421],h([4,3]),function(e,t){return e.create("vs/editor/contrib/rename/browser/renameInputField",t)}),define(l[422],h([1,0,421,7,5,2,15,59,693]),function(e,t,n,i,r,o,s,a){"use strict";var c=function(){function e(e){var t=this;this._disposables=[],this.allowEditorOverflow=!0,this._currentAcceptInput=null,this._currentCancelInput=null,this._editor=e,this._editor.addContentWidget(this),this._disposables.push(e.onDidChangeConfiguration(function(e){e.fontInfo&&t.updateFont()}))}return e.prototype.dispose=function(){this._disposables=r.dispose(this._disposables),this._editor.removeContentWidget(this)},e.prototype.getId=function(){return"__renameInputWidget"},e.prototype.getDomNode=function(){return this._domNode||(this._inputField=document.createElement("input"),this._inputField.className="rename-input",this._inputField.type="text",this._inputField.setAttribute("aria-label",n.localize(0,null)),this._domNode=document.createElement("div"),this._domNode.style.height=this._editor.getConfiguration().lineHeight+"px",this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputField),this.updateFont()),this._domNode},e.prototype.updateFont=function(){if(this._inputField){var e=this._editor.getConfiguration().fontInfo;this._inputField.style.fontFamily=e.fontFamily,this._inputField.style.fontWeight=e.fontWeight,this._inputField.style.fontSize=e.fontSize+"px"}},e.prototype.getPosition=function(){return this._visible?{position:this._position,preference:[a.ContentWidgetPositionPreference.BELOW,a.ContentWidgetPositionPreference.ABOVE]}:null},e.prototype.acceptInput=function(){this._currentAcceptInput&&this._currentAcceptInput()},e.prototype.cancelInput=function(){this._currentCancelInput&&this._currentCancelInput()},e.prototype.getInput=function(e,t,n,a){var c=this;this._position={lineNumber:e.startLineNumber,column:e.startColumn},this._inputField.value=t,this._inputField.setAttribute("selectionStart",n.toString()),this._inputField.setAttribute("selectionEnd",a.toString()),this._inputField.size=Math.max(1.1*(e.endColumn-e.startColumn),20);var u,l=[];return u=function(){r.dispose(l),c._hide()},new o.TPromise(function(n,r){c._currentCancelInput=function(){return c._currentAcceptInput=null,c._currentCancelInput=null,r(i.canceled()),!0},c._currentAcceptInput=function(){return 0===c._inputField.value.trim().length||c._inputField.value===t?void c._currentCancelInput():(c._currentAcceptInput=null,c._currentCancelInput=null,void n(c._inputField.value))};var o=function(){s.Range.containsPosition(e,c._editor.getPosition())||c._currentCancelInput()};l.push(c._editor.onDidChangeCursorSelection(o)),l.push(c._editor.onDidBlurEditor(c._currentCancelInput)),c._show()},this._currentCancelInput).then(function(e){return u(),e},function(e){return u(),o.TPromise.wrapError(e)})},e.prototype._show=function(){var e=this;this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber),this._visible=!0,this._editor.layoutContentWidget(this),setTimeout(function(){e._inputField.focus(),e._inputField.setSelectionRange(parseInt(e._inputField.getAttribute("selectionStart")),parseInt(e._inputField.getAttribute("selectionEnd")))},25)},e.prototype._hide=function(){this._visible=!1,this._editor.layoutContentWidget(this)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=c}),define(l[423],h([4,3]),function(e,t){return e.create("vs/editor/contrib/rename/common/rename",t)}),define(l[424],h([4,3]),function(e,t){return e.create("vs/editor/contrib/smartSelect/common/jumpToBracket",t)}),define(l[425],h([4,3]),function(e,t){return e.create("vs/editor/contrib/smartSelect/common/smartSelect",t)}),define(l[426],h([4,3]),function(e,t){return e.create("vs/editor/contrib/suggest/browser/suggestController",t)}),define(l[427],h([4,3]),function(e,t){return e.create("vs/editor/contrib/suggest/browser/suggestWidget",t)}),define(l[428],h([4,3]),function(e,t){return e.create("vs/editor/contrib/suggest/electron-browser/snippetCompletion",t)}),define(l[429],h([4,3]),function(e,t){return e.create("vs/editor/contrib/toggleTabFocusMode/common/toggleTabFocusMode",t)}),define(l[430],h([4,3]),function(e,t){return e.create("vs/editor/contrib/toggleWordWrap/common/toggleWordWrap",t)}),define(l[894],h([4,3]),function(e,t){return e.create("vs/editor/contrib/zoneWidget/browser/peekViewWidget",t)}),define(l[432],h([4,3]),function(e,t){return e.create("vs/editor/node/languageConfigurationExtensionPoint",t)}),define(l[433],h([4,3]),function(e,t){return e.create("vs/editor/node/textMate/TMSnippets",t)}),define(l[434],h([4,3]),function(e,t){return e.create("vs/editor/node/textMate/TMSyntax",t)}),define(l[435],h([4,3]),function(e,t){return e.create("vs/platform/actions/browser/menuItemActionItem",t)}),define(l[436],h([4,3]),function(e,t){return e.create("vs/platform/actions/browser/menusExtensionPoint",t)}),define(l[437],h([4,3]),function(e,t){return e.create("vs/platform/configuration/common/configurationRegistry",t)}),define(l[438],h([4,3]),function(e,t){return e.create("vs/platform/extensionManagement/common/extensionEnablementService",t)}),define(l[439],h([4,3]),function(e,t){return e.create("vs/platform/extensionManagement/common/extensionManagement",t)}),define(l[440],h([4,3]),function(e,t){return e.create("vs/platform/extensionManagement/node/extensionGalleryService",t)}),define(l[441],h([4,3]),function(e,t){return e.create("vs/platform/extensions/common/abstractExtensionService",t)}),define(l[442],h([4,3]),function(e,t){return e.create("vs/platform/extensions/common/extensionsRegistry",t)}),define(l[443],h([4,3]),function(e,t){return e.create("vs/platform/extensions/node/extensionValidator",t)}),define(l[444],h([4,3]),function(e,t){return e.create("vs/platform/integrity/node/integrityServiceImpl",t)}),define(l[445],h([4,3]),function(e,t){return e.create("vs/platform/jsonschemas/common/jsonValidationExtensionPoint",t)}),define(l[446],h([4,3]),function(e,t){return e.create("vs/platform/keybinding/common/abstractKeybindingService",t)}),define(l[447],h([4,3]),function(e,t){return e.create("vs/platform/markers/common/problemMatcher",t)}),define(l[448],h([4,3]),function(e,t){return e.create("vs/platform/message/common/message",t)}),define(l[449],h([4,3]),function(e,t){return e.create("vs/platform/request/node/request",t)}),define(l[450],h([4,3]),function(e,t){return e.create("vs/platform/telemetry/common/telemetryService",t)}),define(l[451],h([4,3]),function(e,t){return e.create("vs/workbench/api/node/mainThreadExtensionService",t)}),define(l[452],h([4,3]),function(e,t){return e.create("vs/workbench/api/node/mainThreadMessageService",t)}),define(l[453],h([4,3]),function(e,t){return e.create("vs/workbench/browser/actions/configureLocale",t)}),define(l[454],h([4,3]),function(e,t){return e.create("vs/workbench/browser/actions/toggleActivityBarVisibility",t)}),define(l[455],h([4,3]),function(e,t){return e.create("vs/workbench/browser/actions/toggleEditorLayout",t)}),define(l[456],h([4,3]),function(e,t){return e.create("vs/workbench/browser/actions/toggleSidebarPosition",t)}),define(l[457],h([4,3]),function(e,t){return e.create("vs/workbench/browser/actions/toggleSidebarVisibility",t)}),define(l[458],h([4,3]),function(e,t){return e.create("vs/workbench/browser/actions/toggleStatusbarVisibility",t)}),define(l[459],h([4,3]),function(e,t){return e.create("vs/workbench/browser/actions/toggleZenMode",t)}),define(l[460],h([4,3]),function(e,t){return e.create("vs/workbench/browser/parts/activitybar/activitybarActions",t)}),define(l[461],h([4,3]),function(e,t){return e.create("vs/workbench/browser/parts/activitybar/activitybarPart",t)}),define(l[462],h([4,3]),function(e,t){return e.create("vs/workbench/browser/parts/compositePart",t)}),define(l[463],h([4,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/binaryDiffEditor",t)}),define(l[464],h([4,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/binaryEditor",t)}),define(l[465],h([4,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/editor.contribution",t)}),define(l[466],h([4,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/editorActions",t)}),define(l[467],h([4,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/editorCommands",t)}),define(l[468],h([4,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/editorPart",t)}),define(l[469],h([4,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/editorPicker",t)}),define(l[470],h([4,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/editorStatus",t)}),define(l[471],h([4,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/stringEditor",t)}),define(l[472],h([4,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/tabsTitleControl",t)}),define(l[473],h([4,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/textDiffEditor",t)}),define(l[474],h([4,3]),function(e,t){return e.create("vs/workbench/browser/parts/editor/titleControl",t)}),define(l[475],h([4,3]),function(e,t){return e.create("vs/workbench/browser/parts/panel/panelPart",t)}),define(l[476],h([4,3]),function(e,t){return e.create("vs/workbench/browser/parts/quickopen/quickOpenController",t)}),define(l[477],h([4,3]),function(e,t){return e.create("vs/workbench/browser/parts/quickopen/quickopen.contribution",t)}),define(l[478],h([4,3]),function(e,t){return e.create("vs/workbench/browser/parts/sidebar/sidebarPart",t)}),define(l[479],h([4,3]),function(e,t){return e.create("vs/workbench/browser/parts/statusbar/statusbarPart",t)}),define(l[480],h([4,3]),function(e,t){return e.create("vs/workbench/browser/quickopen",t)}),define(l[481],h([4,3]),function(e,t){return e.create("vs/workbench/browser/viewlet",t)}),define(l[482],h([4,3]),function(e,t){return e.create("vs/workbench/common/editor/diffEditorInput",t)}),define(l[483],h([4,3]),function(e,t){return e.create("vs/workbench/electron-browser/actions",t)}),define(l[484],h([4,3]),function(e,t){return e.create("vs/workbench/electron-browser/crashReporter",t)}),define(l[485],h([4,3]),function(e,t){return e.create("vs/workbench/electron-browser/extensionHost",t)}),define(l[486],h([4,3]),function(e,t){return e.create("vs/workbench/electron-browser/integration",t)}),define(l[487],h([4,3]),function(e,t){return e.create("vs/workbench/electron-browser/main",t)}),define(l[488],h([4,3]),function(e,t){return e.create("vs/workbench/electron-browser/main.contribution",t)}),define(l[489],h([4,3]),function(e,t){return e.create("vs/workbench/electron-browser/shell",t)}),define(l[490],h([4,3]),function(e,t){return e.create("vs/workbench/node/extensionPoints",t)}),define(l[491],h([4,3]),function(e,t){return e.create("vs/workbench/parts/cli/electron-browser/cli.contribution",t)}),define(l[492],h([4,3]),function(e,t){return e.create("vs/workbench/parts/debug/browser/breakpointWidget",t)}),define(l[493],h([4,3]),function(e,t){return e.create("vs/workbench/parts/debug/browser/debugActions",t)}),define(l[494],h([4,3]),function(e,t){return e.create("vs/workbench/parts/debug/browser/debugEditorActions",t);
}),define(l[495],h([4,3]),function(e,t){return e.create("vs/workbench/parts/debug/browser/debugEditorModelManager",t)}),define(l[496],h([4,3]),function(e,t){return e.create("vs/workbench/parts/debug/browser/debugViewlet",t)}),define(l[497],h([4,3]),function(e,t){return e.create("vs/workbench/parts/debug/common/debug",t)}),define(l[498],h([4,3]),function(e,t){return e.create("vs/workbench/parts/debug/common/debugModel",t)}),define(l[499],h([4,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/debug.contribution",t)}),define(l[500],h([4,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/debugEditorContribution",t)}),define(l[501],h([4,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/debugHover",t)}),define(l[502],h([4,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/debugService",t)}),define(l[503],h([4,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/debugViewer",t)}),define(l[504],h([4,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/debugViews",t)}),define(l[505],h([4,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/electronDebugActions",t)}),define(l[506],h([4,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/rawDebugSession",t)}),define(l[507],h([4,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/repl",t)}),define(l[508],h([4,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/replViewer",t)}),define(l[509],h([4,3]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/terminalSupport",t)}),define(l[510],h([4,3]),function(e,t){return e.create("vs/workbench/parts/debug/node/debugAdapter",t)}),define(l[511],h([4,3]),function(e,t){return e.create("vs/workbench/parts/debug/node/debugConfigurationManager",t)}),define(l[512],h([4,3]),function(e,t){return e.create("vs/workbench/parts/emmet/browser/actions/showEmmetCommands",t)}),define(l[513],h([4,3]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/balance",t)}),define(l[514],h([4,3]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/editPoints",t)}),define(l[515],h([4,3]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/evaluateMath",t)}),define(l[516],h([4,3]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/expandAbbreviation",t)}),define(l[517],h([4,3]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/incrementDecrement",t)}),define(l[518],h([4,3]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/matchingPair",t)}),define(l[519],h([4,3]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/mergeLines",t)}),define(l[520],h([4,3]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/reflectCssValue",t)}),define(l[521],h([4,3]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/removeTag",t)}),define(l[522],h([4,3]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/selectItem",t)}),define(l[523],h([4,3]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/splitJoinTag",t)}),define(l[524],h([4,3]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/toggleComment",t)}),define(l[525],h([4,3]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/updateImageSize",t)}),define(l[526],h([4,3]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/updateTag",t)}),define(l[527],h([4,3]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/wrapWithAbbreviation",t)}),define(l[528],h([4,3]),function(e,t){return e.create("vs/workbench/parts/emmet/node/emmet.contribution",t)}),define(l[529],h([4,3]),function(e,t){return e.create("vs/workbench/parts/execution/electron-browser/terminal.contribution",t)}),define(l[530],h([4,3]),function(e,t){return e.create("vs/workbench/parts/execution/electron-browser/terminalService",t)}),define(l[531],h([4,3]),function(e,t){return e.create("vs/workbench/parts/explorers/browser/treeExplorer.contribution",t)}),define(l[532],h([4,3]),function(e,t){return e.create("vs/workbench/parts/explorers/browser/treeExplorerActions",t)}),define(l[533],h([4,3]),function(e,t){return e.create("vs/workbench/parts/explorers/browser/treeExplorerService",t)}),define(l[534],h([4,3]),function(e,t){return e.create("vs/workbench/parts/explorers/browser/views/treeExplorerView",t)}),define(l[535],h([4,3]),function(e,t){return e.create("vs/workbench/parts/extensions/browser/dependenciesViewer",t)}),define(l[536],h([4,3]),function(e,t){return e.create("vs/workbench/parts/extensions/browser/extensionEditor",t)}),define(l[537],h([4,3]),function(e,t){return e.create("vs/workbench/parts/extensions/browser/extensionTipsService",t)}),define(l[538],h([4,3]),function(e,t){return e.create("vs/workbench/parts/extensions/browser/extensionsActions",t)}),define(l[539],h([4,3]),function(e,t){return e.create("vs/workbench/parts/extensions/browser/extensionsQuickOpen",t)}),define(l[540],h([4,3]),function(e,t){return e.create("vs/workbench/parts/extensions/common/extensionsFileTemplate",t)}),define(l[541],h([4,3]),function(e,t){return e.create("vs/workbench/parts/extensions/common/extensionsInput",t)}),define(l[542],h([4,3]),function(e,t){return e.create("vs/workbench/parts/extensions/electron-browser/extensions.contribution",t)}),define(l[543],h([4,3]),function(e,t){return e.create("vs/workbench/parts/extensions/electron-browser/extensionsActions",t)}),define(l[544],h([4,3]),function(e,t){return e.create("vs/workbench/parts/extensions/electron-browser/extensionsViewlet",t)}),define(l[545],h([4,3]),function(e,t){return e.create("vs/workbench/parts/extensions/node/extensionsWorkbenchService",t)}),define(l[546],h([4,3]),function(e,t){return e.create("vs/workbench/parts/feedback/browser/feedback",t)}),define(l[547],h([4,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/editors/binaryFileEditor",t)}),define(l[548],h([4,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/editors/textFileEditor",t)}),define(l[549],h([4,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/fileActions",t)}),define(l[550],h([4,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/fileActions.contribution",t)}),define(l[551],h([4,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/files.contribution",t)}),define(l[552],h([4,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/saveErrorHandler",t)}),define(l[553],h([4,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/views/emptyView",t)}),define(l[554],h([4,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/views/explorerView",t)}),define(l[555],h([4,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/views/explorerViewer",t)}),define(l[556],h([4,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/views/openEditorsView",t)}),define(l[557],h([4,3]),function(e,t){return e.create("vs/workbench/parts/files/browser/views/openEditorsViewer",t)}),define(l[558],h([4,3]),function(e,t){return e.create("vs/workbench/parts/files/electron-browser/dirtyFilesTracker",t)}),define(l[559],h([4,3]),function(e,t){return e.create("vs/workbench/parts/files/electron-browser/electronFileActions",t)}),define(l[560],h([4,3]),function(e,t){return e.create("vs/workbench/parts/files/electron-browser/files.electron.contribution",t)}),define(l[561],h([4,3]),function(e,t){return e.create("vs/workbench/parts/git/browser/gitActions",t)}),define(l[562],h([4,3]),function(e,t){return e.create("vs/workbench/parts/git/browser/gitActions.contribution",t)}),define(l[563],h([4,3]),function(e,t){return e.create("vs/workbench/parts/git/browser/gitQuickOpen",t)}),define(l[564],h([4,3]),function(e,t){return e.create("vs/workbench/parts/git/browser/gitServices",t)}),define(l[565],h([4,3]),function(e,t){return e.create("vs/workbench/parts/git/browser/gitWidgets",t)}),define(l[566],h([4,3]),function(e,t){return e.create("vs/workbench/parts/git/browser/gitWorkbenchContributions",t)}),define(l[567],h([4,3]),function(e,t){return e.create("vs/workbench/parts/git/browser/views/changes/changesView",t)}),define(l[568],h([4,3]),function(e,t){return e.create("vs/workbench/parts/git/browser/views/changes/changesViewer",t)}),define(l[569],h([4,3]),function(e,t){return e.create("vs/workbench/parts/git/browser/views/disabled/disabledView",t)}),define(l[570],h([4,3]),function(e,t){return e.create("vs/workbench/parts/git/browser/views/empty/emptyView",t)}),define(l[571],h([4,3]),function(e,t){return e.create("vs/workbench/parts/git/browser/views/gitless/gitlessView",t)}),define(l[572],h([4,3]),function(e,t){return e.create("vs/workbench/parts/git/browser/views/huge/hugeView",t)}),define(l[573],h([4,3]),function(e,t){return e.create("vs/workbench/parts/git/browser/views/notroot/notrootView",t)}),define(l[574],h([4,3]),function(e,t){return e.create("vs/workbench/parts/git/browser/views/noworkspace/noworkspaceView",t)}),define(l[575],h([4,3]),function(e,t){return e.create("vs/workbench/parts/git/electron-browser/git.contribution",t)}),define(l[576],h([4,3]),function(e,t){return e.create("vs/workbench/parts/git/electron-browser/gitActions",t)}),define(l[577],h([4,3]),function(e,t){return e.create("vs/workbench/parts/git/node/git.lib",t)}),define(l[578],h([4,3]),function(e,t){return e.create("vs/workbench/parts/html/browser/html.contribution",t)}),define(l[579],h([4,3]),function(e,t){return e.create("vs/workbench/parts/html/browser/htmlPreviewPart",t)}),define(l[580],h([4,3]),function(e,t){return e.create("vs/workbench/parts/html/browser/webview",t)}),define(l[581],h([4,3]),function(e,t){return e.create("vs/workbench/parts/indentation/common/indentation",t)}),define(l[582],h([4,3]),function(e,t){return e.create("vs/workbench/parts/markers/browser/markersWorkbenchContributions",t)}),define(l[583],h([4,3]),function(e,t){return e.create("vs/workbench/parts/markers/common/messages",t)}),define(l[584],h([4,3]),function(e,t){return e.create("vs/workbench/parts/markers/electron-browser/markersElectronContributions",t)}),define(l[585],h([4,3]),function(e,t){return e.create("vs/workbench/parts/nps/browser/nps.contribution",t)}),define(l[586],h([4,3]),function(e,t){return e.create("vs/workbench/parts/output/browser/output.contribution",t)});define(l[587],h([4,3]),function(e,t){return e.create("vs/workbench/parts/output/browser/outputActions",t)});define(l[588],h([4,3]),function(e,t){return e.create("vs/workbench/parts/output/browser/outputEditorInput",t)}),define(l[589],h([4,3]),function(e,t){return e.create("vs/workbench/parts/output/browser/outputPanel",t)}),define(l[590],h([4,3]),function(e,t){return e.create("vs/workbench/parts/preferences/browser/preferences.contribution",t)}),define(l[591],h([4,3]),function(e,t){return e.create("vs/workbench/parts/preferences/browser/preferencesActions",t)}),define(l[592],h([4,3]),function(e,t){return e.create("vs/workbench/parts/preferences/browser/preferencesEditor",t)}),define(l[593],h([4,3]),function(e,t){return e.create("vs/workbench/parts/preferences/browser/preferencesService",t)}),define(l[594],h([4,3]),function(e,t){return e.create("vs/workbench/parts/preferences/browser/preferencesWidgets",t)}),define(l[595],h([4,3]),function(e,t){return e.create("vs/workbench/parts/preferences/common/preferencesModels",t)}),define(l[596],h([4,3]),function(e,t){return e.create("vs/workbench/parts/quickopen/browser/commandsHandler",t)}),define(l[597],h([4,3]),function(e,t){return e.create("vs/workbench/parts/quickopen/browser/gotoLineHandler",t)}),define(l[598],h([4,3]),function(e,t){return e.create("vs/workbench/parts/quickopen/browser/gotoSymbolHandler",t)}),define(l[599],h([4,3]),function(e,t){return e.create("vs/workbench/parts/quickopen/browser/helpHandler",t)}),define(l[600],h([4,3]),function(e,t){return e.create("vs/workbench/parts/quickopen/browser/quickopen.contribution",t)}),define(l[601],h([4,3]),function(e,t){return e.create("vs/workbench/parts/search/browser/openAnythingHandler",t)}),define(l[602],h([4,3]),function(e,t){return e.create("vs/workbench/parts/search/browser/openFileHandler",t)}),define(l[603],h([4,3]),function(e,t){return e.create("vs/workbench/parts/search/browser/openSymbolHandler",t)}),define(l[604],h([4,3]),function(e,t){return e.create("vs/workbench/parts/search/browser/patternInputWidget",t)}),define(l[605],h([4,3]),function(e,t){return e.create("vs/workbench/parts/search/browser/replaceService",t)}),define(l[606],h([4,3]),function(e,t){return e.create("vs/workbench/parts/search/browser/search.contribution",t)}),define(l[607],h([4,3]),function(e,t){return e.create("vs/workbench/parts/search/browser/searchActions",t)}),define(l[608],h([4,3]),function(e,t){return e.create("vs/workbench/parts/search/browser/searchResultsView",t)}),define(l[609],h([4,3]),function(e,t){return e.create("vs/workbench/parts/search/browser/searchViewlet",t)}),define(l[610],h([4,3]),function(e,t){return e.create("vs/workbench/parts/search/browser/searchWidget",t)}),define(l[611],h([4,3]),function(e,t){return e.create("vs/workbench/parts/snippets/electron-browser/snippets.contribution",t)}),define(l[612],h([4,3]),function(e,t){return e.create("vs/workbench/parts/snippets/electron-browser/snippetsTracker",t)}),define(l[613],h([4,3]),function(e,t){return e.create("vs/workbench/parts/tasks/browser/taskQuickOpen",t)}),define(l[614],h([4,3]),function(e,t){return e.create("vs/workbench/parts/tasks/common/taskTemplates",t)}),define(l[615],h([4,3]),function(e,t){return e.create("vs/workbench/parts/tasks/electron-browser/task.contribution",t)}),define(l[616],h([4,3]),function(e,t){return e.create("vs/workbench/parts/tasks/node/processRunnerConfiguration",t)}),define(l[617],h([4,3]),function(e,t){return e.create("vs/workbench/parts/tasks/node/processRunnerDetector",t)}),define(l[618],h([4,3]),function(e,t){return e.create("vs/workbench/parts/tasks/node/processRunnerSystem",t)}),define(l[619],h([4,3]),function(e,t){return e.create("vs/workbench/parts/terminal/electron-browser/terminal.contribution",t)}),define(l[620],h([4,3]),function(e,t){return e.create("vs/workbench/parts/terminal/electron-browser/terminalActions",t)}),define(l[621],h([4,3]),function(e,t){return e.create("vs/workbench/parts/terminal/electron-browser/terminalInstance",t)}),define(l[622],h([4,3]),function(e,t){return e.create("vs/workbench/parts/terminal/electron-browser/terminalPanel",t)}),define(l[623],h([4,3]),function(e,t){return e.create("vs/workbench/parts/themes/electron-browser/themes.contribution",t)}),define(l[624],h([4,3]),function(e,t){return e.create("vs/workbench/parts/update/electron-browser/releaseNotesInput",t)}),define(l[625],h([4,3]),function(e,t){return e.create("vs/workbench/parts/update/electron-browser/update",t)}),define(l[626],h([4,3]),function(e,t){return e.create("vs/workbench/parts/update/electron-browser/update.contribution",t)}),define(l[627],h([4,3]),function(e,t){return e.create("vs/workbench/parts/viewpicker/browser/viewPickerHandler",t)}),define(l[628],h([4,3]),function(e,t){return e.create("vs/workbench/parts/viewpicker/browser/viewpicker.contribution",t)}),define(l[629],h([4,3]),function(e,t){return e.create("vs/workbench/parts/watermark/electron-browser/watermark",t)}),define(l[630],h([4,3]),function(e,t){return e.create("vs/workbench/services/configuration/node/configurationEditingService",t)}),define(l[631],h([4,3]),function(e,t){return e.create("vs/workbench/services/files/electron-browser/fileService",t)}),define(l[632],h([4,3]),function(e,t){return e.create("vs/workbench/services/files/node/fileService",t)}),define(l[633],h([4,3]),function(e,t){return e.create("vs/workbench/services/history/browser/history",t)}),define(l[634],h([4,3]),function(e,t){return e.create("vs/workbench/services/keybinding/electron-browser/keybindingService",t)}),define(l[635],h([4,3]),function(e,t){return e.create("vs/workbench/services/message/browser/messageList",t)}),define(l[636],h([4,3]),function(e,t){return e.create("vs/workbench/services/message/electron-browser/messageService",t)}),define(l[637],h([4,3]),function(e,t){return e.create("vs/workbench/services/textfile/browser/textFileService",t)}),define(l[638],h([4,3]),function(e,t){return e.create("vs/workbench/services/textfile/common/textFileEditorModel",t)}),define(l[639],h([4,3]),function(e,t){return e.create("vs/workbench/services/textfile/electron-browser/textFileService",t)}),define(l[640],h([4,3]),function(e,t){return e.create("vs/workbench/services/themes/electron-browser/themeService",t)}),define(l[641],h([1,0]),function(e,t){"use strict";var n=function(){function e(e){this.service=e}return e.prototype.call=function(e,t){switch(e){case"getBackupPath":return this.service.getBackupPath(t)}},e}();t.BackupChannel=n;var i=function(){function e(e){this.channel=e}return e.prototype.getBackupPath=function(e){return this.channel.call("getBackupPath",e)},e}();t.BackupChannelClient=i}),define(l[642],h([1,0,42]),function(e,t,n){"use strict";var i=function(e){function t(){e.call(this)}return d(t,e),t}(n.EventEmitter);t.EventService=i}),define(l[643],h([1,0,110,11]),function(e,t,n,i){"use strict";var r=function(){function e(e){this.service=e,this.onInstallExtension=i.buffer(e.onInstallExtension,!0),this.onDidInstallExtension=i.buffer(e.onDidInstallExtension,!0),this.onUninstallExtension=i.buffer(e.onUninstallExtension,!0),this.onDidUninstallExtension=i.buffer(e.onDidUninstallExtension,!0)}return e.prototype.call=function(e,t){switch(e){case"event:onInstallExtension":return n.eventToCall(this.onInstallExtension);case"event:onDidInstallExtension":return n.eventToCall(this.onDidInstallExtension);case"event:onUninstallExtension":return n.eventToCall(this.onUninstallExtension);case"event:onDidUninstallExtension":return n.eventToCall(this.onDidUninstallExtension);case"install":return this.service.install(t);case"installFromGallery":return this.service.installFromGallery(t[0],t[1]);case"uninstall":return this.service.uninstall(t);case"getInstalled":return this.service.getInstalled(t)}},e}();t.ExtensionManagementChannel=r;var o=function(){function e(e){this.channel=e,this._onInstallExtension=n.eventFromCall(this.channel,"event:onInstallExtension"),this._onDidInstallExtension=n.eventFromCall(this.channel,"event:onDidInstallExtension"),this._onUninstallExtension=n.eventFromCall(this.channel,"event:onUninstallExtension"),this._onDidUninstallExtension=n.eventFromCall(this.channel,"event:onDidUninstallExtension")}return Object.defineProperty(e.prototype,"onInstallExtension",{get:function(){return this._onInstallExtension},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidInstallExtension",{get:function(){return this._onDidInstallExtension},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onUninstallExtension",{get:function(){return this._onUninstallExtension},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidUninstallExtension",{get:function(){return this._onDidUninstallExtension},enumerable:!0,configurable:!0}),e.prototype.install=function(e){return this.channel.call("install",e)},e.prototype.installFromGallery=function(e,t){return void 0===t&&(t=!0),this.channel.call("installFromGallery",[e,t])},e.prototype.uninstall=function(e){return this.channel.call("uninstall",e)},e.prototype.getInstalled=function(e){return void 0===e&&(e=null),this.channel.call("getInstalled",e)},e}();t.ExtensionManagementChannelClient=o}),define(l[379],h([1,0]),function(e,t){"use strict";function n(e){return{id:e.manifest.publisher+"."+e.manifest.name,name:e.manifest.name,galleryId:e.metadata?e.metadata.id:null,publisherId:e.metadata?e.metadata.publisherId:null,publisherName:e.manifest.publisher,publisherDisplayName:e.metadata?e.metadata.publisherDisplayName:null,dependencies:e.manifest.extensionDependencies&&e.manifest.extensionDependencies.length>0}}function i(e){return{id:e.publisher+"."+e.name,name:e.name,galleryId:e.id,publisherId:e.publisherId,publisherName:e.publisher,publisherDisplayName:e.publisherDisplayName,dependencies:e.properties.dependencies.length>0}}t.getLocalExtensionTelemetryData=n,t.getGalleryExtensionTelemetryData=i}),define(l[645],h([1,0,2,213,7]),function(e,t,n,i,r){"use strict";function o(e){var t=0;return function(n,i,r){var o=String(++t),s=new u(function(){e(c.cancel(o))});return a[o]=s,e(c.request(o,n,i,r)),s}}function s(e){function t(){var t=d;d=[],e(t)}function r(e){0===d.length&&process.nextTick(t),d.push(e)}function s(e,t,i){try{return n.TPromise.as(l.handle(e,t,i))}catch(e){return n.TPromise.wrapError(e)}}var u=o(r),l=null,h=Object.create(null),d=[],p=[],f=function(){var e=p.shift();p.length>0&&process.nextTick(f);var t=i.parse(e);if(t.seq){if(!a.hasOwnProperty(t.seq))return void console.warn("Got reply to unknown seq");var n=a[t.seq];if(delete a[t.seq],t.err){var o=t.err;return t.err.$isError&&(o=new Error,o.name=t.err.name,o.message=t.err.message,o.stack=t.err.stack),void n.resolveErr(o)}return void n.resolveOk(t.res)}if(t.cancel)return void(h[t.cancel]&&h[t.cancel].cancel());if(t.err)return void console.error(t.err);var u=t.rpcId;if(!l)throw new Error("got message before big handler attached!");var d=t.req;h[d]=s(u,t.method,t.args),h[d].then(function(e){delete h[d],r(c.replyOK(d,e))},function(e){delete h[d],r(c.replyErr(d,e))})},g={callOnRemote:u,setManyHandler:function(e){l=e},handle:function(e){0===p.length&&process.nextTick(f),p=p.concat(e)}};return g}var a={},c=function(){function e(){}return e.cancel=function(e){return'{"cancel":"'+e+'"}'},e.request=function(e,t,n,r){return'{"req":"'+e+'","rpcId":"'+t+'","method":"'+n+'","args":'+i.stringify(r)+"}"},e.replyOK=function(e,t){return"undefined"==typeof t?'{"seq":"'+e+'"}':'{"seq":"'+e+'","res":'+i.stringify(t)+"}"},e.replyErr=function(e,t){return"undefined"==typeof t?'{"seq":"'+e+'","err":null}':'{"seq":"'+e+'","err":'+i.stringify(r.transformErrorForSerialization(t))+"}"},e}(),u=function(){function e(e){this._onCancel=e,this._actual=null,this._actualOk=null,this._actualErr=null,this._hasValue=!1,this._value=null,this._hasErr=!1,this._err=null,this._isCanceled=!1}return e.prototype._ensureActual=function(){var e=this;return this._actual||(this._actual=new n.TPromise(function(t,n){e._actualOk=t,e._actualErr=n},this._onCancel),this._hasValue&&this._actualOk(this._value),this._hasErr&&this._actualErr(this._err)),this._actual},e.prototype.resolveOk=function(e){this._isCanceled||this._hasErr||(this._hasValue=!0,this._value=e,this._actual&&this._actualOk(e))},e.prototype.resolveErr=function(e){this._isCanceled||this._hasValue||(this._hasErr=!0,this._err=e,this._actual&&this._actualErr(e))},e.prototype.then=function(e,t){if(!this._isCanceled)return this._ensureActual().then(e,t)},e.prototype.done=function(e,t){this._isCanceled||this._ensureActual().done(e,t)},e.prototype.cancel=function(){this._hasValue||this._hasErr||(this._isCanceled=!0,this._actual?this._actual.cancel():this._onCancel())},e}();t.create=s}),define(l[380],h([1,0,443,233,20]),function(e,t,n,i,r){"use strict";function o(e){return e=e.trim(),"*"===e||f.test(e)}function s(e){if(!o(e))return null;if(e=e.trim(),"*"===e)return{hasCaret:!1,hasGreaterEquals:!1,majorBase:0,majorMustEqual:!1,minorBase:0,minorMustEqual:!1,patchBase:0,patchMustEqual:!1,preRelease:null};var t=e.match(f);return{hasCaret:"^"===t[1],hasGreaterEquals:">="===t[1],majorBase:"x"===t[2]?0:parseInt(t[2],10),majorMustEqual:"x"!==t[2],minorBase:"x"===t[4]?0:parseInt(t[4],10),minorMustEqual:"x"!==t[4],patchBase:"x"===t[6]?0:parseInt(t[6],10),patchMustEqual:"x"!==t[6],preRelease:t[8]||null}}function a(e){if(!e)return null;var t=e.majorBase,n=e.majorMustEqual,i=e.minorBase,r=e.minorMustEqual,o=e.patchBase,s=e.patchMustEqual;return e.hasCaret&&(0===t?s=!1:(r=!1,s=!1)),{majorBase:t,majorMustEqual:n,minorBase:i,minorMustEqual:r,patchBase:o,patchMustEqual:s,isMinimum:e.hasGreaterEquals}}function c(e,t){var n;n="string"==typeof e?a(s(e)):e;var i;if(i="string"==typeof t?a(s(t)):t,!n||!i)return!1;var r=n.majorBase,o=n.minorBase,c=n.patchBase,u=i.majorBase,l=i.minorBase,h=i.patchBase,d=i.majorMustEqual,p=i.minorMustEqual,f=i.patchMustEqual;return i.isMinimum?r>u||!(r<u)&&(o>l||!(o<l)&&c>=h):(1!==r||0!==u||d&&p&&f||(u=1,l=0,h=0,d=!0,p=!1,f=!1),!(r<u)&&(r>u?!d:!(o<l)&&(o>l?!p:!(c<h)&&(!(c>h)||!f))))}function u(e,t,n){return!(!t.isBuiltin&&"undefined"!=typeof t.main)||l(e,t.engines.vscode,n)}function l(e,t,i){void 0===i&&(i=[]);var r=a(s(t));if(!r)return i.push(n.localize(0,null,t)),!1;if(0===r.majorBase){if(!r.majorMustEqual||!r.minorMustEqual)return i.push(n.localize(1,null,t)),!1}else if(!r.majorMustEqual)return i.push(n.localize(2,null,t)),!1;return!!c(e,r)||(i.push(n.localize(3,null,e,t)),!1)}function h(e){if(!Array.isArray(e))return!1;for(var t=0,n=e.length;t<n;t++)if("string"!=typeof e[t])return!1;return!0}function d(e,t,i){if(!t)return i.push(n.localize(4,null)),!1;if("string"!=typeof t.publisher)return i.push(n.localize(5,null,"publisher")),!1;if("string"!=typeof t.name)return i.push(n.localize(6,null,"name")),!1;if("string"!=typeof t.version)return i.push(n.localize(7,null,"version")),!1;if(!t.engines)return i.push(n.localize(8,null,"engines")),!1;if("string"!=typeof t.engines.vscode)return i.push(n.localize(9,null,"engines.vscode")),!1;if("undefined"!=typeof t.extensionDependencies&&!h(t.extensionDependencies))return i.push(n.localize(10,null,"extensionDependencies")),!1;if("undefined"!=typeof t.activationEvents){if(!h(t.activationEvents))return i.push(n.localize(11,null,"activationEvents")),!1;if("undefined"==typeof t.main)return i.push(n.localize(12,null,"activationEvents","main")),!1}if("undefined"!=typeof t.main){if("string"!=typeof t.main)return i.push(n.localize(13,null,"main")),!1;var o=r.normalize(r.join(e,t.main));if(o.indexOf(e)&&i.push(n.localize(14,null,o,e)),"undefined"==typeof t.activationEvents)return i.push(n.localize(15,null,"activationEvents","main")),!1}return!0}function p(e,t,r,o){return!!d(t,r,o)&&(i.valid(r.version)?u(e,r,o):(o.push(n.localize(16,null)),!1))}var f=/^(\^|>=)?((\d+)|x)\.((\d+)|x)\.((\d+)|x)(\-.*)?$/;t.isValidVersionStr=o,t.parseVersion=s,t.normalizeVersion=a,t.isValidVersion=c,t.isValidExtensionVersion=u,t.isVersionValid=l,t.isValidExtensionDescription=p}),define(l[87],h([1,0,7]),function(e,t,n){"use strict";var i=function(){function e(e){this._staticArguments=e}return e.prototype.appendStaticArguments=function(e){this._staticArguments.push.apply(this._staticArguments,e)},e.prototype.staticArguments=function(e){return isNaN(e)?this._staticArguments.slice(0):this._staticArguments[e]},e.prototype._validate=function(e){if(!e)throw n.illegalArgument("can not be falsy")},e}();t.AbstractDescriptor=i;var r=function(e){function t(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];e.call(this,n),this._ctor=t}return d(t,e),Object.defineProperty(t.prototype,"ctor",{get:function(){return this._ctor},enumerable:!0,configurable:!0}),t.prototype.bind=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var i=[];return i=i.concat(this.staticArguments()),i=i.concat(e),new(t.bind.apply(t,[void 0].concat([this._ctor],i)))},t}(i);t.SyncDescriptor=r,t.createSyncDescriptor=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new(r.bind.apply(r,[void 0].concat([e],t)))};var o=function(e){function t(t,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(e.call(this,i),this._moduleName=t,this._ctorName=n,"string"!=typeof t)throw new Error("Invalid AsyncDescriptor arguments, expected `moduleName` to be a string!")}return d(t,e),t.create=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"moduleName",{get:function(){return this._moduleName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ctorName",{get:function(){return this._ctorName},enumerable:!0,configurable:!0}),t.prototype.bind=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var i=[];return i=i.concat(this.staticArguments()),i=i.concat(e),new(t.bind.apply(t,[void 0].concat([this.moduleName,this.ctorName],i)))},t}(i);t.AsyncDescriptor=o}),define(l[102],h([1,0,87]),function(e,t,n){"use strict";function i(e,t){o.push({id:e,descriptor:new n.SyncDescriptor(t)})}function r(){return o}t.Services="di.services";var o=[];t.registerSingleton=i,t.getServices=r}),define(l[6],h([1,0]),function(e,t){"use strict";function n(e,t,n,i){t[o.DI_TARGET]===t?t[o.DI_DEPENDENCIES].push({id:e,index:n,optional:i}):(t[o.DI_DEPENDENCIES]=[{id:e,index:n,optional:i}],t[o.DI_TARGET]=t)}function i(e){var t=function(e,i,r){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");n(t,e,r,!1)};return t.toString=function(){return e},t}function r(e){return function(t,i,r){if(3!==arguments.length)throw new Error("@optional-decorator can only be used to decorate a parameter");n(e,t,r,!0)}}var o;!function(e){function t(t){return t[e.DI_DEPENDENCIES]||[]}e.DI_TARGET="$di$target",e.DI_DEPENDENCIES="$di$dependencies",e.getServiceDependencies=t}(o=t._util||(t._util={})),t.IInstantiationService=i("instantiationService"),t.createDecorator=i,t.optional=r}),define(l[159],h([1,0,6]),function(e,t,n){"use strict";t.ID_EDITOR_WORKER_SERVICE="editorWorkerService",t.IEditorWorkerService=n.createDecorator(t.ID_EDITOR_WORKER_SERVICE)}),define(l[54],h([1,0,6]),function(e,t,n){"use strict";t.IModeService=n.createDecorator("modeService")}),define(l[40],h([1,0,6]),function(e,t,n){"use strict";t.IModelService=n.createDecorator("modelService")}),define(l[73],h([1,0,6]),function(e,t,n){"use strict";t.ITextModelResolverService=n.createDecorator("textModelResolverService")});var g=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},v=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};define(l[655],h([1,0,2,15,40,999]),function(e,t,n,i,r,o){"use strict";var s=function(){function e(e){this._modelService=e}return e.prototype.getRangesToPosition=function(e,t){return n.TPromise.as(this.getRangesToPositionSync(e,t))},e.prototype.getRangesToPositionSync=function(e,t){var n=this._modelService.getModel(e),i=[];return n&&this._doGetRangesToPosition(n,t).forEach(function(e){i.push({type:void 0,range:e})}),i},e.prototype._doGetRangesToPosition=function(e,t){var n,r,s=o.build(e);n=o.find(s,t);for(var a=[];n;)r&&i.Range.equalsRange(r,n.range)||a.push(n.range),r=n.range,n=n.parent;return a=a.reverse()},e=g([v(0,r.IModelService)],e)}();t.TokenSelectionSupport=s}),define(l[298],h([1,0,6]),function(e,t,n){"use strict";t.IBackupMainService=n.createDecorator("backupMainService"),t.IBackupService=n.createDecorator("backupService")}),define(l[34],h([1,0,2,21,6]),function(e,t,n,i,r){"use strict";function o(e){return"object"==typeof e&&"function"==typeof e.handler&&(!e.description||"object"==typeof e.description)}t.ICommandService=r.createDecorator("commandService"),t.CommandsRegistry=new(function(){function e(){this._commands=Object.create(null)}return e.prototype.registerCommand=function(e,t){var n=this;if(!t)throw new Error("invalid command");var r;if(o(t)){var s=t.handler,a=t.description;if(a){for(var c=[],u=0,l=a.args;u<l.length;u++){var h=l[u];c.push(h.constraint)}r={description:a,handler:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return i.validateConstraints(t,c),s.apply(void 0,[e].concat(t))}}}else r={handler:s}}else r={handler:t};var d=this._commands[e];return void 0===d?this._commands[e]=r:Array.isArray(d)?d.unshift(r):this._commands[e]=[r,d],
{dispose:function(){var t=n._commands[e];if(Array.isArray(t)){var i=t.indexOf(r);i>=0&&(t.splice(i,1),0===t.length&&delete n._commands[e])}else o(t)&&delete n._commands[e]}}},e.prototype.getCommand=function(e){var t=this._commands[e];return Array.isArray(t)?t[0]:t},e.prototype.getCommands=function(){var e=Object.create(null);for(var t in this._commands)e[t]=this.getCommand(t);return e},e}()),t.NullCommandService={_serviceBrand:void 0,executeCommand:function(){return n.TPromise.as(void 0)}}}),define(l[658],h([1,0,7,16,2,15,49,17,34,40]),function(e,t,n,i,r,o,s,a,c,u){"use strict";function l(e){var t=[],i=s.LinkProviderRegistry.ordered(e).reverse().map(function(i){return a.asWinJsPromise(function(t){return i.provideLinks(e,t)}).then(function(e){if(Array.isArray(e)){var n=e.map(function(e){return new d(e,i)});t=h(t,n)}},n.onUnexpectedExternalError)});return r.TPromise.join(i).then(function(){return t})}function h(e,t){var n,i,r,s,a,c,u,l=[];for(n=0,r=0,i=e.length,s=t.length;n<i&&r<s;)a=e[n],c=t[r],o.Range.areIntersectingOrTouching(a.range,c.range)?n++:(u=o.Range.compareRangesUsingStarts(a.range,c.range),u<0?(l.push(a),n++):(l.push(c),r++));for(;n<i;n++)l.push(e[n]);for(;r<s;r++)l.push(t[r]);return l}var d=function(){function e(e,t){this._link=e,this._provider=t}return Object.defineProperty(e.prototype,"range",{get:function(){return this._link.range},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._link.url},enumerable:!0,configurable:!0}),e.prototype.resolve=function(){var e=this;if(this._link.url)try{return r.TPromise.as(i.default.parse(this._link.url))}catch(e){return r.TPromise.wrapError("invalid")}return"function"==typeof this._provider.resolveLink?a.asWinJsPromise(function(t){return e._provider.resolveLink(e._link,t)}).then(function(t){return e._link=t||e._link,e._link.url?e.resolve():r.TPromise.wrapError("missing")}):r.TPromise.wrapError("missing")},e}();t.Link=d,t.getLinks=l,c.CommandsRegistry.registerCommand("_executeLinkProvider",function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0];if(r instanceof i.default){var o=e.get(u.IModelService).getModel(r);if(o)return l(o)}})}),define(l[31],h([1,0,24,2,87,6,34]),function(e,t,n,i,r,o,s){"use strict";!function(e){e[e.EditorTitle=1]="EditorTitle",e[e.EditorTitleContext=2]="EditorTitleContext",e[e.EditorContext=3]="EditorContext",e[e.ExplorerContext=4]="ExplorerContext",e[e.ProblemsPanelContext=5]="ProblemsPanelContext",e[e.DebugVariablesContext=6]="DebugVariablesContext",e[e.DebugWatchContext=7]="DebugWatchContext",e[e.DebugCallStackContext=8]="DebugCallStackContext",e[e.DebugBreakpointsContext=9]="DebugBreakpointsContext",e[e.DebugConsoleContext=10]="DebugConsoleContext"}(t.MenuId||(t.MenuId={}));t.MenuId;t.IMenuService=o.createDecorator("menuService"),t.MenuRegistry=new(function(){function e(){this.commands=Object.create(null),this.menuItems=Object.create(null)}return e.prototype.addCommand=function(e){var t=this.commands[e.id];return this.commands[e.id]=e,void 0!==t},e.prototype.getCommand=function(e){return this.commands[e]},e.prototype.appendMenuItem=function(e,t){var n=this.menuItems[e];return n?n.push(t):this.menuItems[e]=n=[t],{dispose:function(){var e=n.indexOf(t);e>=0&&n.splice(e,1)}}},e.prototype.getMenuItems=function(e){return this.menuItems[e]||[]},e}());var a=function(e){function t(t,n,i){e.call(this,t,n),this._commandService=i}return d(t,e),t.prototype.run=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return(n=this._commandService).executeCommand.apply(n,[this.id].concat(e));var n},t=g([v(2,s.ICommandService)],t)}(n.Action);t.ExecuteCommandAction=a;var c=function(e){function t(n,i,r,o){e.call(this,n.id,n.title,o),this._cssClass=n.iconClass,this._enabled=!0,this._arg=r,this.item=n,this.alt=i?new t(i,(void 0),r,o):void 0}return d(t,e),t.prototype.run=function(){return e.prototype.run.call(this,this._arg)},t=g([v(3,s.ICommandService)],t)}(a);t.MenuItemAction=c;var u=function(){function e(e,t,n,i,o,s){this._id=t,this._label=n,this._keybindings=i,this._keybindingContext=o,this._keybindingWeight=s,this._descriptor=r.createSyncDescriptor(e,this._id,this._label)}return Object.defineProperty(e.prototype,"syncDescriptor",{get:function(){return this._descriptor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keybindings",{get:function(){return this._keybindings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keybindingContext",{get:function(){return this._keybindingContext},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keybindingWeight",{get:function(){return this._keybindingWeight},enumerable:!0,configurable:!0}),e}();t.SyncActionDescriptor=u;var l=function(e){function t(t,n,i,r,o,s){void 0===r&&(r=""),void 0===o&&(o=""),void 0===s&&(s=!0),e.call(this,i,r,o,s),this._instantiationService=t,this._descriptor=n}return d(t,e),Object.defineProperty(t.prototype,"cachedAction",{get:function(){return this._cachedAction},set:function(e){this._cachedAction=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._cachedAction instanceof n.Action?this._cachedAction.id:this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._cachedAction instanceof n.Action?this._cachedAction.label:this._label},set:function(e){this._cachedAction instanceof n.Action?this._cachedAction.label=e:this._setLabel(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"class",{get:function(){return this._cachedAction instanceof n.Action?this._cachedAction.class:this._cssClass},set:function(e){this._cachedAction instanceof n.Action?this._cachedAction.class=e:this._setClass(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._cachedAction instanceof n.Action?this._cachedAction.enabled:this._enabled},set:function(e){this._cachedAction instanceof n.Action?this._cachedAction.enabled=e:this._setEnabled(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"order",{get:function(){return this._cachedAction instanceof n.Action?this._cachedAction.order:this._order},set:function(e){this._cachedAction instanceof n.Action?this._cachedAction.order=e:this._order=e},enumerable:!0,configurable:!0}),t.prototype.run=function(e){return this._cachedAction?this._cachedAction.run(e):this._createAction().then(function(t){return t.run(e)})},t.prototype._createAction=function(){var e=this,t=i.TPromise.as(void 0);return t.then(function(){return e._instantiationService.createInstance(e._descriptor)}).then(function(t){if(!(t instanceof n.Action))throw new Error("Action must be an instanceof Base Action");return e._cachedAction=t,e._emitterUnbind=t.onDidChange(function(t){return e._onDidChange.fire(t)}),t})},t.prototype.dispose=function(){this._emitterUnbind&&this._emitterUnbind.dispose(),this._cachedAction&&this._cachedAction.dispose(),e.prototype.dispose.call(this)},t}(n.Action);t.DeferredAction=l}),define(l[25],h([1,0,6]),function(e,t,n){"use strict";function i(e,t,n){function i(e,t){for(var n=e,i=0;i<t.length;i++)if(n=n[t[i]],"undefined"==typeof n)return;return n}var r=t.split("."),o=i(e,r);return"undefined"==typeof o?n:o}t.IConfigurationService=n.createDecorator("configurationService"),function(e){e[e.Default=1]="Default",e[e.User=2]="User",e[e.Workspace=3]="Workspace"}(t.ConfigurationSource||(t.ConfigurationSource={}));t.ConfigurationSource;t.getConfigurationValue=i}),define(l[23],h([1,0,6]),function(e,t,n){"use strict";function i(e,t){var n=e.getType(),i=t.getType();if(n!==i)return n-i;switch(n){case r.Defined:return e.cmp(t);case r.Not:return e.cmp(t);case r.Equals:return e.cmp(t);case r.NotEquals:return e.cmp(t);default:throw new Error("Unknown ContextKeyExpr!")}}!function(e){e[e.Defined=1]="Defined",e[e.Not=2]="Not",e[e.Equals=3]="Equals",e[e.NotEquals=4]="NotEquals",e[e.And=5]="And"}(t.ContextKeyExprType||(t.ContextKeyExprType={}));var r=t.ContextKeyExprType,o=function(){function e(){}return e.has=function(e){return new s(e)},e.equals=function(e,t){return new a(e,t)},e.notEquals=function(e,t){return new c(e,t)},e.not=function(e){return new u(e)},e.and=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return new l(e)},e.deserialize=function(e){var t=this;if(!e)return null;var n=e.split("&&"),i=new l(n.map(function(e){return t._deserializeOne(e)}));return i.normalize()},e._deserializeOne=function(e){if(e=e.trim(),e.indexOf("!=")>=0){var t=e.split("!=");return new c(t[0].trim(),this._deserializeValue(t[1]))}if(e.indexOf("==")>=0){var t=e.split("==");return new a(t[0].trim(),this._deserializeValue(t[1]))}return/^\!\s*/.test(e)?new u(e.substr(1).trim()):new s(e)},e._deserializeValue=function(e){if(e=e.trim(),"true"===e)return!0;if("false"===e)return!1;var t=/^'([^']*)'$/.exec(e);return t?t[1].trim():e},e}();t.ContextKeyExpr=o;var s=function(){function e(e){this.key=e}return e.prototype.getType=function(){return r.Defined},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:0},e.prototype.equals=function(t){return t instanceof e&&this.key===t.key},e.prototype.evaluate=function(e){return!!e[this.key]},e.prototype.normalize=function(){return this},e.prototype.serialize=function(){return this.key},e.prototype.keys=function(){return[this.key]},e}();t.ContextKeyDefinedExpr=s;var a=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.getType=function(){return r.Equals},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:this.value<e.value?-1:this.value>e.value?1:0},e.prototype.equals=function(t){return t instanceof e&&(this.key===t.key&&this.value===t.value)},e.prototype.evaluate=function(e){return e[this.key]==this.value},e.prototype.normalize=function(){return"boolean"==typeof this.value?this.value?new s(this.key):new u(this.key):this},e.prototype.serialize=function(){return"boolean"==typeof this.value?this.normalize().serialize():this.key+" == '"+this.value+"'"},e.prototype.keys=function(){return[this.key]},e}();t.ContextKeyEqualsExpr=a;var c=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.getType=function(){return r.NotEquals},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:this.value<e.value?-1:this.value>e.value?1:0},e.prototype.equals=function(t){return t instanceof e&&(this.key===t.key&&this.value===t.value)},e.prototype.evaluate=function(e){return e[this.key]!=this.value},e.prototype.normalize=function(){return"boolean"==typeof this.value?this.value?new u(this.key):new s(this.key):this},e.prototype.serialize=function(){return"boolean"==typeof this.value?this.normalize().serialize():this.key+" != '"+this.value+"'"},e.prototype.keys=function(){return[this.key]},e}();t.ContextKeyNotEqualsExpr=c;var u=function(){function e(e){this.key=e}return e.prototype.getType=function(){return r.Not},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:0},e.prototype.equals=function(t){return t instanceof e&&this.key===t.key},e.prototype.evaluate=function(e){return!e[this.key]},e.prototype.normalize=function(){return this},e.prototype.serialize=function(){return"!"+this.key},e.prototype.keys=function(){return[this.key]},e}();t.ContextKeyNotExpr=u;var l=function(){function e(t){this.expr=e._normalizeArr(t)}return e.prototype.getType=function(){return r.And},e.prototype.equals=function(t){if(t instanceof e){if(this.expr.length!==t.expr.length)return!1;for(var n=0,i=this.expr.length;n<i;n++)if(!this.expr[n].equals(t.expr[n]))return!1;return!0}},e.prototype.evaluate=function(e){for(var t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].evaluate(e))return!1;return!0},e._normalizeArr=function(t){var n=[];if(t){for(var r=0,o=t.length;r<o;r++){var s=t[r];s&&(s=s.normalize(),s&&(s instanceof e?n=n.concat(s.expr):n.push(s)))}n.sort(i)}return n},e.prototype.normalize=function(){return 0===this.expr.length?null:1===this.expr.length?this.expr[0]:this},e.prototype.serialize=function(){return 0===this.expr.length?"":1===this.expr.length?this.normalize().serialize():this.expr.map(function(e){return e.serialize()}).join(" && ")},e.prototype.keys=function(){for(var e=[],t=0,n=this.expr;t<n.length;t++){var i=n[t];e.push.apply(e,i.keys())}return e},e}();t.ContextKeyAndExpr=l;var h=function(e){function t(t,n){e.call(this,t),this._defaultValue=n}return d(t,e),t.prototype.bindTo=function(e){return e.createKey(this.key,this._defaultValue)},t.prototype.getValue=function(e){return e.getContextKeyValue(this.key)},t.prototype.toNegated=function(){return o.not(this.key)},t.prototype.isEqualTo=function(e){return o.equals(this.key,e)},t}(s);t.RawContextKey=h,t.IContextKeyService=n.createDecorator("contextKeyService"),t.SET_CONTEXT_COMMAND_ID="setContext"}),define(l[314],h([1,0,2,6,23]),function(e,t,n,i,r){"use strict";var o=function(){function e(e,t,n,i){this.id=e,this.label=t,this.alias=n,this._editor=i}return e}();t.AbstractInternalEditorAction=o;var s=function(e){function t(t,n,i,r){e.call(this,t.id,t.label,t.alias,n),this._actual=t,this._instantiationService=i,this._contextKeyService=r}return d(t,e),t.prototype.isSupported=function(){return this._contextKeyService.contextMatchesRules(this._actual.precondition)},t.prototype.run=function(){var e=this;return this.isSupported()?this._instantiationService.invokeFunction(function(t){return n.TPromise.as(e._actual.runEditorCommand(t,e._editor,null))}):n.TPromise.as(void 0)},t=g([v(2,i.IInstantiationService),v(3,r.IContextKeyService)],t)}(o);t.InternalEditorAction=s;var a=function(e){function t(t,n){e.call(this,t.id,t.label,t.label,n),this._run=t.run}return d(t,e),t.prototype.isSupported=function(){return!0},t.prototype.run=function(){return n.TPromise.as(this._run(this._editor))},t}(o);t.DynamicEditorAction=a}),define(l[10],h([1,0,21,23]),function(e,t,n,i){"use strict";function r(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===t.EditorType.ICodeEditor}function o(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===t.EditorType.IDiffEditor}function s(e){if(e===w.Line)return"line";if(e===w.Block)return"block";if(e===w.Underline)return"underline";throw new Error("cursorStyleToString: Unknown cursorStyle")}!function(e){e[e.None=0]="None",e[e.Same=1]="Same",e[e.Indent=2]="Indent"}(t.WrappingIndent||(t.WrappingIndent={}));var a=(t.WrappingIndent,function(){function e(e){this.arrowSize=0|e.arrowSize,this.vertical=0|e.vertical,this.horizontal=0|e.horizontal,this.useShadows=Boolean(e.useShadows),this.verticalHasArrows=Boolean(e.verticalHasArrows),this.horizontalHasArrows=Boolean(e.horizontalHasArrows),this.handleMouseWheel=Boolean(e.handleMouseWheel),this.horizontalScrollbarSize=0|e.horizontalScrollbarSize,this.horizontalSliderSize=0|e.horizontalSliderSize,this.verticalScrollbarSize=0|e.verticalScrollbarSize,this.verticalSliderSize=0|e.verticalSliderSize,this.mouseWheelScrollSensitivity=Number(e.mouseWheelScrollSensitivity)}return e.prototype.equals=function(e){return this.arrowSize===e.arrowSize&&this.vertical===e.vertical&&this.horizontal===e.horizontal&&this.useShadows===e.useShadows&&this.verticalHasArrows===e.verticalHasArrows&&this.horizontalHasArrows===e.horizontalHasArrows&&this.handleMouseWheel===e.handleMouseWheel&&this.horizontalScrollbarSize===e.horizontalScrollbarSize&&this.horizontalSliderSize===e.horizontalSliderSize&&this.verticalScrollbarSize===e.verticalScrollbarSize&&this.verticalSliderSize===e.verticalSliderSize&&this.mouseWheelScrollSensitivity===e.mouseWheelScrollSensitivity},e.prototype.clone=function(){return new e(this)},e}());t.InternalEditorScrollbarOptions=a;var c=function(){function e(e){this.isViewportWrapping=Boolean(e.isViewportWrapping),this.wrappingColumn=0|e.wrappingColumn,this.wrappingIndent=0|e.wrappingIndent,this.wordWrapBreakBeforeCharacters=String(e.wordWrapBreakBeforeCharacters),this.wordWrapBreakAfterCharacters=String(e.wordWrapBreakAfterCharacters),this.wordWrapBreakObtrusiveCharacters=String(e.wordWrapBreakObtrusiveCharacters)}return e.prototype.equals=function(e){return this.isViewportWrapping===e.isViewportWrapping&&this.wrappingColumn===e.wrappingColumn&&this.wrappingIndent===e.wrappingIndent&&this.wordWrapBreakBeforeCharacters===e.wordWrapBreakBeforeCharacters&&this.wordWrapBreakAfterCharacters===e.wordWrapBreakAfterCharacters&&this.wordWrapBreakObtrusiveCharacters===e.wordWrapBreakObtrusiveCharacters},e.prototype.clone=function(){return new e(this)},e}();t.EditorWrappingInfo=c;var u=function(){function e(t){this.theme=String(t.theme),this.canUseTranslate3d=Boolean(t.canUseTranslate3d),this.experimentalScreenReader=Boolean(t.experimentalScreenReader),this.rulers=e._toSortedIntegerArray(t.rulers),this.ariaLabel=String(t.ariaLabel),this.renderLineNumbers=Boolean(t.renderLineNumbers),this.renderCustomLineNumbers=t.renderCustomLineNumbers,this.renderRelativeLineNumbers=Boolean(t.renderRelativeLineNumbers),this.selectOnLineNumbers=Boolean(t.selectOnLineNumbers),this.glyphMargin=Boolean(t.glyphMargin),this.revealHorizontalRightPadding=0|t.revealHorizontalRightPadding,this.roundedSelection=Boolean(t.roundedSelection),this.overviewRulerLanes=0|t.overviewRulerLanes,this.cursorBlinking=0|t.cursorBlinking,this.mouseWheelZoom=Boolean(t.mouseWheelZoom),this.cursorStyle=0|t.cursorStyle,this.hideCursorInOverviewRuler=Boolean(t.hideCursorInOverviewRuler),this.scrollBeyondLastLine=Boolean(t.scrollBeyondLastLine),this.editorClassName=String(t.editorClassName),this.stopRenderingLineAfter=0|t.stopRenderingLineAfter,this.renderWhitespace=t.renderWhitespace,this.renderControlCharacters=Boolean(t.renderControlCharacters),this.renderIndentGuides=Boolean(t.renderIndentGuides),this.renderLineHighlight=t.renderLineHighlight,this.scrollbar=t.scrollbar.clone(),this.fixedOverflowWidgets=Boolean(t.fixedOverflowWidgets)}return e._toSortedIntegerArray=function(e){if(!Array.isArray(e))return[];var t=e,n=t.map(function(e){var t=parseInt(e,10);return isNaN(t)?0:t});return n.sort(),n},e._numberArraysEqual=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},e.prototype.equals=function(t){return this.theme===t.theme&&this.canUseTranslate3d===t.canUseTranslate3d&&this.experimentalScreenReader===t.experimentalScreenReader&&e._numberArraysEqual(this.rulers,t.rulers)&&this.ariaLabel===t.ariaLabel&&this.renderLineNumbers===t.renderLineNumbers&&this.renderCustomLineNumbers===t.renderCustomLineNumbers&&this.renderRelativeLineNumbers===t.renderRelativeLineNumbers&&this.selectOnLineNumbers===t.selectOnLineNumbers&&this.glyphMargin===t.glyphMargin&&this.revealHorizontalRightPadding===t.revealHorizontalRightPadding&&this.roundedSelection===t.roundedSelection&&this.overviewRulerLanes===t.overviewRulerLanes&&this.cursorBlinking===t.cursorBlinking&&this.mouseWheelZoom===t.mouseWheelZoom&&this.cursorStyle===t.cursorStyle&&this.hideCursorInOverviewRuler===t.hideCursorInOverviewRuler&&this.scrollBeyondLastLine===t.scrollBeyondLastLine&&this.editorClassName===t.editorClassName&&this.stopRenderingLineAfter===t.stopRenderingLineAfter&&this.renderWhitespace===t.renderWhitespace&&this.renderControlCharacters===t.renderControlCharacters&&this.renderIndentGuides===t.renderIndentGuides&&this.renderLineHighlight===t.renderLineHighlight&&this.scrollbar.equals(t.scrollbar)&&this.fixedOverflowWidgets===t.fixedOverflowWidgets},e.prototype.createChangeEvent=function(t){return{theme:this.theme!==t.theme,canUseTranslate3d:this.canUseTranslate3d!==t.canUseTranslate3d,experimentalScreenReader:this.experimentalScreenReader!==t.experimentalScreenReader,rulers:!e._numberArraysEqual(this.rulers,t.rulers),ariaLabel:this.ariaLabel!==t.ariaLabel,renderLineNumbers:this.renderLineNumbers!==t.renderLineNumbers,renderCustomLineNumbers:this.renderCustomLineNumbers!==t.renderCustomLineNumbers,renderRelativeLineNumbers:this.renderRelativeLineNumbers!==t.renderRelativeLineNumbers,selectOnLineNumbers:this.selectOnLineNumbers!==t.selectOnLineNumbers,glyphMargin:this.glyphMargin!==t.glyphMargin,revealHorizontalRightPadding:this.revealHorizontalRightPadding!==t.revealHorizontalRightPadding,roundedSelection:this.roundedSelection!==t.roundedSelection,overviewRulerLanes:this.overviewRulerLanes!==t.overviewRulerLanes,cursorBlinking:this.cursorBlinking!==t.cursorBlinking,mouseWheelZoom:this.mouseWheelZoom!==t.mouseWheelZoom,cursorStyle:this.cursorStyle!==t.cursorStyle,hideCursorInOverviewRuler:this.hideCursorInOverviewRuler!==t.hideCursorInOverviewRuler,scrollBeyondLastLine:this.scrollBeyondLastLine!==t.scrollBeyondLastLine,editorClassName:this.editorClassName!==t.editorClassName,stopRenderingLineAfter:this.stopRenderingLineAfter!==t.stopRenderingLineAfter,renderWhitespace:this.renderWhitespace!==t.renderWhitespace,renderControlCharacters:this.renderControlCharacters!==t.renderControlCharacters,renderIndentGuides:this.renderIndentGuides!==t.renderIndentGuides,renderLineHighlight:this.renderLineHighlight!==t.renderLineHighlight,scrollbar:!this.scrollbar.equals(t.scrollbar),fixedOverflowWidgets:this.fixedOverflowWidgets!==t.fixedOverflowWidgets}},e.prototype.clone=function(){return new e(this)},e}();t.InternalEditorViewOptions=u;var l=function(){function e(e){this.selectionClipboard=Boolean(e.selectionClipboard),this.hover=Boolean(e.hover),this.contextmenu=Boolean(e.contextmenu),this.quickSuggestions=Boolean(e.quickSuggestions),this.quickSuggestionsDelay=e.quickSuggestionsDelay||0,this.parameterHints=Boolean(e.parameterHints),this.iconsInSuggestions=Boolean(e.iconsInSuggestions),this.formatOnType=Boolean(e.formatOnType),this.suggestOnTriggerCharacters=Boolean(e.suggestOnTriggerCharacters),this.acceptSuggestionOnEnter=Boolean(e.acceptSuggestionOnEnter),this.snippetSuggestions=e.snippetSuggestions,this.emptySelectionClipboard=e.emptySelectionClipboard,this.tabCompletion=e.tabCompletion,this.wordBasedSuggestions=e.wordBasedSuggestions,this.suggestFontSize=e.suggestFontSize,this.suggestLineHeight=e.suggestLineHeight,this.selectionHighlight=Boolean(e.selectionHighlight),this.codeLens=Boolean(e.codeLens),this.folding=Boolean(e.folding)}return e.prototype.equals=function(e){return this.selectionClipboard===e.selectionClipboard&&this.hover===e.hover&&this.contextmenu===e.contextmenu&&this.quickSuggestions===e.quickSuggestions&&this.quickSuggestionsDelay===e.quickSuggestionsDelay&&this.parameterHints===e.parameterHints&&this.iconsInSuggestions===e.iconsInSuggestions&&this.formatOnType===e.formatOnType&&this.suggestOnTriggerCharacters===e.suggestOnTriggerCharacters&&this.acceptSuggestionOnEnter===e.acceptSuggestionOnEnter&&this.snippetSuggestions===e.snippetSuggestions&&this.emptySelectionClipboard===e.emptySelectionClipboard&&this.tabCompletion===e.tabCompletion&&this.wordBasedSuggestions===e.wordBasedSuggestions&&this.suggestFontSize===e.suggestFontSize&&this.suggestLineHeight===e.suggestLineHeight&&this.selectionHighlight===e.selectionHighlight&&this.codeLens===e.codeLens&&this.folding===e.folding},e.prototype.clone=function(){return new e(this)},e}();t.EditorContribOptions=l;var h=function(){function e(e){this.lineHeight=0|e.lineHeight,this.readOnly=Boolean(e.readOnly),this.wordSeparators=String(e.wordSeparators),this.autoClosingBrackets=Boolean(e.autoClosingBrackets),this.useTabStops=Boolean(e.useTabStops),this.tabFocusMode=Boolean(e.tabFocusMode),this.layoutInfo=e.layoutInfo.clone(),this.fontInfo=e.fontInfo.clone(),this.viewInfo=e.viewInfo.clone(),this.wrappingInfo=e.wrappingInfo.clone(),this.contribInfo=e.contribInfo.clone()}return e.prototype.equals=function(e){return this.lineHeight===e.lineHeight&&this.readOnly===e.readOnly&&this.wordSeparators===e.wordSeparators&&this.autoClosingBrackets===e.autoClosingBrackets&&this.useTabStops===e.useTabStops&&this.tabFocusMode===e.tabFocusMode&&this.layoutInfo.equals(e.layoutInfo)&&this.fontInfo.equals(e.fontInfo)&&this.viewInfo.equals(e.viewInfo)&&this.wrappingInfo.equals(e.wrappingInfo)&&this.contribInfo.equals(e.contribInfo)},e.prototype.createChangeEvent=function(e){return{lineHeight:this.lineHeight!==e.lineHeight,readOnly:this.readOnly!==e.readOnly,wordSeparators:this.wordSeparators!==e.wordSeparators,autoClosingBrackets:this.autoClosingBrackets!==e.autoClosingBrackets,useTabStops:this.useTabStops!==e.useTabStops,tabFocusMode:this.tabFocusMode!==e.tabFocusMode,layoutInfo:!this.layoutInfo.equals(e.layoutInfo),fontInfo:!this.fontInfo.equals(e.fontInfo),viewInfo:this.viewInfo.createChangeEvent(e.viewInfo),wrappingInfo:!this.wrappingInfo.equals(e.wrappingInfo),contribInfo:!this.contribInfo.equals(e.contribInfo)}},e.prototype.clone=function(){return new e(this)},e}();t.InternalEditorOptions=h,function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(t.OverviewRulerLane||(t.OverviewRulerLane={}));t.OverviewRulerLane;!function(e){e[e.TextDefined=0]="TextDefined",e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(t.EndOfLinePreference||(t.EndOfLinePreference={}));t.EndOfLinePreference;!function(e){e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(t.DefaultEndOfLine||(t.DefaultEndOfLine={}));t.DefaultEndOfLine;!function(e){e[e.LF=0]="LF",e[e.CRLF=1]="CRLF"}(t.EndOfLineSequence||(t.EndOfLineSequence={}));var p=(t.EndOfLineSequence,function(){function e(e){this.tabSize=0|e.tabSize,this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=0|e.defaultEOL,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace)}return e.prototype.equals=function(e){return this.tabSize===e.tabSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace},e.prototype.createChangeEvent=function(e){return{tabSize:this.tabSize!==e.tabSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}},e}());t.TextModelResolvedOptions=p,function(e){e[e.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",e[e.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",e[e.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",e[e.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"}(t.TrackedRangeStickiness||(t.TrackedRangeStickiness={}));t.TrackedRangeStickiness;!function(e){e[e.NotSet=0]="NotSet",e[e.ContentFlush=1]="ContentFlush",e[e.RecoverFromMarkers=2]="RecoverFromMarkers",e[e.Explicit=3]="Explicit",e[e.Paste=4]="Paste",e[e.Undo=5]="Undo",e[e.Redo=6]="Redo"}(t.CursorChangeReason||(t.CursorChangeReason={}));t.CursorChangeReason;!function(e){e[e.Simple=0]="Simple",e[e.Center=1]="Center",e[e.CenterIfOutsideViewport=2]="CenterIfOutsideViewport",e[e.Top=3]="Top",e[e.Bottom=4]="Bottom"}(t.VerticalRevealType||(t.VerticalRevealType={}));var f=(t.VerticalRevealType,function(){function e(e){this.width=0|e.width,this.height=0|e.height,this.top=0|e.top,this.right=0|e.right}return e.prototype.equals=function(e){return this.width===e.width&&this.height===e.height&&this.top===e.top&&this.right===e.right},e.prototype.clone=function(){return new e(this)},e}());t.OverviewRulerPosition=f;var g=function(){function e(e){this.width=0|e.width,this.height=0|e.height,this.glyphMarginLeft=0|e.glyphMarginLeft,this.glyphMarginWidth=0|e.glyphMarginWidth,this.glyphMarginHeight=0|e.glyphMarginHeight,this.lineNumbersLeft=0|e.lineNumbersLeft,this.lineNumbersWidth=0|e.lineNumbersWidth,this.lineNumbersHeight=0|e.lineNumbersHeight,this.decorationsLeft=0|e.decorationsLeft,this.decorationsWidth=0|e.decorationsWidth,this.decorationsHeight=0|e.decorationsHeight,this.contentLeft=0|e.contentLeft,this.contentWidth=0|e.contentWidth,this.contentHeight=0|e.contentHeight,this.verticalScrollbarWidth=0|e.verticalScrollbarWidth,this.horizontalScrollbarHeight=0|e.horizontalScrollbarHeight,this.overviewRuler=e.overviewRuler.clone()}return e.prototype.equals=function(e){return this.width===e.width&&this.height===e.height&&this.glyphMarginLeft===e.glyphMarginLeft&&this.glyphMarginWidth===e.glyphMarginWidth&&this.glyphMarginHeight===e.glyphMarginHeight&&this.lineNumbersLeft===e.lineNumbersLeft&&this.lineNumbersWidth===e.lineNumbersWidth&&this.lineNumbersHeight===e.lineNumbersHeight&&this.decorationsLeft===e.decorationsLeft&&this.decorationsWidth===e.decorationsWidth&&this.decorationsHeight===e.decorationsHeight&&this.contentLeft===e.contentLeft&&this.contentWidth===e.contentWidth&&this.contentHeight===e.contentHeight&&this.verticalScrollbarWidth===e.verticalScrollbarWidth&&this.horizontalScrollbarHeight===e.horizontalScrollbarHeight&&this.overviewRuler.equals(e.overviewRuler)},e.prototype.clone=function(){return new e(this)},e}();t.EditorLayoutInfo=g,function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXTAREA=1]="TEXTAREA",e[e.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",e[e.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",e[e.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",e[e.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",e[e.CONTENT_TEXT=6]="CONTENT_TEXT",e[e.CONTENT_EMPTY=7]="CONTENT_EMPTY",e[e.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",e[e.CONTENT_WIDGET=9]="CONTENT_WIDGET",e[e.OVERVIEW_RULER=10]="OVERVIEW_RULER",e[e.SCROLLBAR=11]="SCROLLBAR",e[e.OVERLAY_WIDGET=12]="OVERLAY_WIDGET"}(t.MouseTargetType||(t.MouseTargetType={}));var v;t.MouseTargetType;!function(e){e.TextFocus=new i.RawContextKey("editorTextFocus",(!1)),e.Focus=new i.RawContextKey("editorFocus",(!1)),e.ReadOnly=new i.RawContextKey("editorReadonly",(!1)),e.Writable=e.ReadOnly.toNegated(),e.HasNonEmptySelection=new i.RawContextKey("editorHasSelection",(!1)),e.HasOnlyEmptySelection=e.HasNonEmptySelection.toNegated(),e.HasMultipleSelections=new i.RawContextKey("editorHasMultipleSelections",(!1)),e.HasSingleSelection=e.HasMultipleSelections.toNegated(),e.TabMovesFocus=new i.RawContextKey("editorTabMovesFocus",(!1)),e.TabDoesNotMoveFocus=e.TabMovesFocus.toNegated(),e.LanguageId=new i.RawContextKey("editorLangId",(void 0))}(v=t.EditorContextKeys||(t.EditorContextKeys={}));var m;!function(e){e.hasCompletionItemProvider=new i.RawContextKey("editorHasCompletionItemProvider",(void 0)),e.hasCodeActionsProvider=new i.RawContextKey("editorHasCodeActionsProvider",(void 0)),e.hasCodeLensProvider=new i.RawContextKey("editorHasCodeLensProvider",(void 0)),e.hasDefinitionProvider=new i.RawContextKey("editorHasDefinitionProvider",(void 0)),e.hasHoverProvider=new i.RawContextKey("editorHasHoverProvider",(void 0)),e.hasDocumentHighlightProvider=new i.RawContextKey("editorHasDocumentHighlightProvider",(void 0)),e.hasDocumentSymbolProvider=new i.RawContextKey("editorHasDocumentSymbolProvider",(void 0)),e.hasReferenceProvider=new i.RawContextKey("editorHasReferenceProvider",(void 0)),e.hasRenameProvider=new i.RawContextKey("editorHasRenameProvider",(void 0)),e.hasDocumentFormattingProvider=new i.RawContextKey("editorHasDocumentFormattingProvider",(void 0)),e.hasDocumentSelectionFormattingProvider=new i.RawContextKey("editorHasDocumentSelectionFormattingProvider",(void 0)),e.hasSignatureHelpProvider=new i.RawContextKey("editorHasSignatureHelpProvider",(void 0))}(m=t.ModeContextKeys||(t.ModeContextKeys={}));var y=function(){function e(e){this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.lineHeight=0|e.lineHeight}return e.prototype.getId=function(){return this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.lineHeight+"-"},e}();t.BareFontInfo=y;var b=function(e){function t(t){e.call(this,t),this.typicalHalfwidthCharacterWidth=t.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=t.typicalFullwidthCharacterWidth,this.spaceWidth=t.spaceWidth,this.maxDigitWidth=t.maxDigitWidth}return d(t,e),t.prototype.equals=function(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.lineHeight===e.lineHeight&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.spaceWidth===e.spaceWidth&&this.maxDigitWidth===e.maxDigitWidth;
},t.prototype.clone=function(){return new t(this)},t}(y);t.FontInfo=b,t.ViewEventNames={ModelFlushedEvent:"modelFlushedEvent",LinesDeletedEvent:"linesDeletedEvent",LinesInsertedEvent:"linesInsertedEvent",LineChangedEvent:"lineChangedEvent",TokensChangedEvent:"tokensChangedEvent",DecorationsChangedEvent:"decorationsChangedEvent",CursorPositionChangedEvent:"cursorPositionChangedEvent",CursorSelectionChangedEvent:"cursorSelectionChangedEvent",RevealRangeEvent:"revealRangeEvent",LineMappingChangedEvent:"lineMappingChangedEvent",ScrollRequestEvent:"scrollRequestEvent"};var S=function(){function e(e,t,n,i){this.top=0|e,this.left=0|t,this.width=0|n,this.height=0|i}return e}();t.Viewport=S,function(e){e[e.Value=0]="Value",e[e.Selection=1]="Selection",e[e.Position=2]="Position",e[e.Scroll=3]="Scroll"}(t.CodeEditorStateFlag||(t.CodeEditorStateFlag={}));t.CodeEditorStateFlag;t.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"},t.isCommonCodeEditor=r,t.isCommonDiffEditor=o,t.ClassName={EditorWarningDecoration:"greensquiggly",EditorErrorDecoration:"redsquiggly"},t.EventType={Disposed:"disposed",ConfigurationChanged:"configurationChanged",ModelDispose:"modelDispose",ModelChanged:"modelChanged",ModelTokensChanged:"modelTokensChanged",ModelModeChanged:"modelsModeChanged",ModelOptionsChanged:"modelOptionsChanged",ModelRawContentChanged:"contentChanged",ModelContentChanged2:"contentChanged2",ModelRawContentChangedFlush:"flush",ModelRawContentChangedLinesDeleted:"linesDeleted",ModelRawContentChangedLinesInserted:"linesInserted",ModelRawContentChangedLineChanged:"lineChanged",EditorTextBlur:"blur",EditorTextFocus:"focus",EditorFocus:"widgetFocus",EditorBlur:"widgetBlur",ModelDecorationsChanged:"decorationsChanged",CursorPositionChanged:"positionChanged",CursorSelectionChanged:"selectionChanged",CursorRevealRange:"revealRange",CursorScrollRequest:"scrollRequest",ViewFocusGained:"focusGained",ViewFocusLost:"focusLost",ViewFocusChanged:"focusChanged",ViewScrollChanged:"scrollChanged",ViewZonesChanged:"zonesChanged",ViewLayoutChanged:"viewLayoutChanged",ContextMenu:"contextMenu",MouseDown:"mousedown",MouseUp:"mouseup",MouseMove:"mousemove",MouseLeave:"mouseleave",KeyDown:"keydown",KeyUp:"keyup",EditorLayout:"editorLayout",DiffUpdated:"diffUpdated"},t.CursorMovePosition={Left:"left",Right:"right",Up:"up",Down:"down",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},t.CursorMoveByUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};var E=function(e){if(!n.isObject(e))return!1;var t=e;return!!n.isString(t.to)&&(!(!n.isUndefined(t.select)&&!n.isBoolean(t.select))&&(!(!n.isUndefined(t.by)&&!n.isString(t.by))&&!(!n.isUndefined(t.value)&&!n.isNumber(t.value))))};t.EditorScrollDirection={Up:"up",Down:"down"},t.EditorScrollByUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};var _=function(e){if(!n.isObject(e))return!1;var t=e;return!!n.isString(t.to)&&(!(!n.isUndefined(t.by)&&!n.isString(t.by))&&(!(!n.isUndefined(t.value)&&!n.isNumber(t.value))&&!(!n.isUndefined(t.revealCursor)&&!n.isBoolean(t.revealCursor))))};t.RevealLineAtArgument={Top:"top",Center:"center",Bottom:"bottom"};var C=function(e){if(!n.isObject(e))return!1;var t=e;return!!n.isNumber(t.lineNumber)&&!(!n.isUndefined(t.at)&&!n.isString(t.at))};t.CommandDescription={CursorMove:{description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down'\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter',\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:E}]},EditorScroll:{description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:_}]},RevealLine:{description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed .\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:C}]}},t.Handler={ExecuteCommand:"executeCommand",ExecuteCommands:"executeCommands",CursorLeft:"cursorLeft",CursorLeftSelect:"cursorLeftSelect",CursorWordLeft:"cursorWordLeft",CursorWordStartLeft:"cursorWordStartLeft",CursorWordEndLeft:"cursorWordEndLeft",CursorWordLeftSelect:"cursorWordLeftSelect",CursorWordStartLeftSelect:"cursorWordStartLeftSelect",CursorWordEndLeftSelect:"cursorWordEndLeftSelect",CursorRight:"cursorRight",CursorRightSelect:"cursorRightSelect",CursorWordRight:"cursorWordRight",CursorWordStartRight:"cursorWordStartRight",CursorWordEndRight:"cursorWordEndRight",CursorWordRightSelect:"cursorWordRightSelect",CursorWordStartRightSelect:"cursorWordStartRightSelect",CursorWordEndRightSelect:"cursorWordEndRightSelect",CursorUp:"cursorUp",CursorUpSelect:"cursorUpSelect",CursorDown:"cursorDown",CursorDownSelect:"cursorDownSelect",CursorPageUp:"cursorPageUp",CursorPageUpSelect:"cursorPageUpSelect",CursorPageDown:"cursorPageDown",CursorPageDownSelect:"cursorPageDownSelect",CursorHome:"cursorHome",CursorHomeSelect:"cursorHomeSelect",CursorEnd:"cursorEnd",CursorEndSelect:"cursorEndSelect",ExpandLineSelection:"expandLineSelection",CursorTop:"cursorTop",CursorTopSelect:"cursorTopSelect",CursorBottom:"cursorBottom",CursorBottomSelect:"cursorBottomSelect",CursorColumnSelectLeft:"cursorColumnSelectLeft",CursorColumnSelectRight:"cursorColumnSelectRight",CursorColumnSelectUp:"cursorColumnSelectUp",CursorColumnSelectPageUp:"cursorColumnSelectPageUp",CursorColumnSelectDown:"cursorColumnSelectDown",CursorColumnSelectPageDown:"cursorColumnSelectPageDown",CursorMove:"cursorMove",AddCursorDown:"addCursorDown",AddCursorUp:"addCursorUp",CursorUndo:"cursorUndo",MoveTo:"moveTo",MoveToSelect:"moveToSelect",ColumnSelect:"columnSelect",CreateCursor:"createCursor",LastCursorMoveToSelect:"lastCursorMoveToSelect",JumpToBracket:"jumpToBracket",Type:"type",ReplacePreviousChar:"replacePreviousChar",CompositionStart:"compositionStart",CompositionEnd:"compositionEnd",Paste:"paste",Tab:"tab",Indent:"indent",Outdent:"outdent",DeleteLeft:"deleteLeft",DeleteRight:"deleteRight",DeleteWordLeft:"deleteWordLeft",DeleteWordStartLeft:"deleteWordStartLeft",DeleteWordEndLeft:"deleteWordEndLeft",DeleteWordRight:"deleteWordRight",DeleteWordStartRight:"deleteWordStartRight",DeleteWordEndRight:"deleteWordEndRight",DeleteAllRight:"deleteAllRight",RemoveSecondaryCursors:"removeSecondaryCursors",CancelSelection:"cancelSelection",Cut:"cut",Undo:"undo",Redo:"redo",WordSelect:"wordSelect",WordSelectDrag:"wordSelectDrag",LastCursorWordSelect:"lastCursorWordSelect",LineSelect:"lineSelect",LineSelectDrag:"lineSelectDrag",LastCursorLineSelect:"lastCursorLineSelect",LastCursorLineSelectDrag:"lastCursorLineSelectDrag",LineInsertBefore:"lineInsertBefore",LineInsertAfter:"lineInsertAfter",LineBreakInsert:"lineBreakInsert",SelectAll:"selectAll",EditorScroll:"editorScroll",ScrollLineUp:"scrollLineUp",ScrollLineDown:"scrollLineDown",ScrollPageUp:"scrollPageUp",ScrollPageDown:"scrollPageDown",RevealLine:"revealLine"},function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline"}(t.TextEditorCursorStyle||(t.TextEditorCursorStyle={}));var w=t.TextEditorCursorStyle;!function(e){e[e.Hidden=0]="Hidden",e[e.Blink=1]="Blink",e[e.Smooth=2]="Smooth",e[e.Phase=3]="Phase",e[e.Expand=4]="Expand",e[e.Solid=5]="Solid"}(t.TextEditorCursorBlinkingStyle||(t.TextEditorCursorBlinkingStyle={}));t.TextEditorCursorBlinkingStyle;t.cursorStyleToString=s;var I=function(){function e(e,t,n,i){this.from=0|e,this.to=0|t,this.colorId=0|n,this.position=0|i}return e}();t.ColorZone=I;var T=function(){function e(e,t,n,i,r,o){this.startLineNumber=e,this.endLineNumber=t,this.position=n,this.forceHeight=i,this._color=r,this._darkColor=o,this._colorZones=null}return e.prototype.getColor=function(e){return e?this._darkColor:this._color},e.prototype.equals=function(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumber===e.endLineNumber&&this.position===e.position&&this.forceHeight===e.forceHeight&&this._color===e._color&&this._darkColor===e._darkColor},e.prototype.compareTo=function(e){return this.startLineNumber===e.startLineNumber?this.endLineNumber===e.endLineNumber?this.forceHeight===e.forceHeight?this.position===e.position?this._darkColor===e._darkColor?this._color===e._color?0:this._color<e._color?-1:1:this._darkColor<e._darkColor?-1:1:this.position-e.position:this.forceHeight-e.forceHeight:this.endLineNumber-e.endLineNumber:this.startLineNumber-e.startLineNumber},e.prototype.setColorZones=function(e){this._colorZones=e},e.prototype.getColorZones=function(){return this._colorZones},e}();t.OverviewRulerZone=T}),define(l[664],h([1,0,44,15,10,59,8,48]),function(e,t,n,i,r,o,s,a){"use strict";var c=function(){function e(e,t,n,r,o,s){void 0===n&&(n=0),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),this.element=e,this.type=t,this.mouseColumn=n,this.position=r,!o&&r&&(o=new i.Range(r.lineNumber,r.column,r.lineNumber,r.column)),this.range=o,this.detail=s}return e.prototype._typeToString=function(){return this.type===r.MouseTargetType.TEXTAREA?"TEXTAREA":this.type===r.MouseTargetType.GUTTER_GLYPH_MARGIN?"GUTTER_GLYPH_MARGIN":this.type===r.MouseTargetType.GUTTER_LINE_NUMBERS?"GUTTER_LINE_NUMBERS":this.type===r.MouseTargetType.GUTTER_LINE_DECORATIONS?"GUTTER_LINE_DECORATIONS":this.type===r.MouseTargetType.GUTTER_VIEW_ZONE?"GUTTER_VIEW_ZONE":this.type===r.MouseTargetType.CONTENT_TEXT?"CONTENT_TEXT":this.type===r.MouseTargetType.CONTENT_EMPTY?"CONTENT_EMPTY":this.type===r.MouseTargetType.CONTENT_VIEW_ZONE?"CONTENT_VIEW_ZONE":this.type===r.MouseTargetType.CONTENT_WIDGET?"CONTENT_WIDGET":this.type===r.MouseTargetType.OVERVIEW_RULER?"OVERVIEW_RULER":this.type===r.MouseTargetType.SCROLLBAR?"SCROLLBAR":this.type===r.MouseTargetType.OVERLAY_WIDGET?"OVERLAY_WIDGET":"UNKNOWN"},e.prototype.toString=function(){return this._typeToString()+": "+this.position+" - "+this.range+" - "+this.detail},e}(),u=function(){function e(e){return"[^/]*"+e+"[^/]*"}function t(){return"[^/]+"}function n(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=!1;return"$"===e[e.length-1]&&(n=!0,e.pop()),new RegExp(i+e.join("\\/")+(n?"$":""))}var i="^"+o.ClassNames.OVERFLOW_GUARD+"\\/";return{IS_TEXTAREA_COVER:n(e(o.ClassNames.TEXTAREA_COVER),"$"),IS_TEXTAREA:n(o.ClassNames.TEXTAREA,"$"),IS_VIEW_LINES:n(t(),t(),o.ClassNames.VIEW_LINES,"$"),IS_CURSORS_LAYER:n(t(),t(),e(o.ClassNames.VIEW_CURSORS_LAYER),"$"),IS_CHILD_OF_VIEW_LINES:n(t(),t(),o.ClassNames.VIEW_LINES),IS_CHILD_OF_SCROLLABLE_ELEMENT:n(e(o.ClassNames.SCROLLABLE_ELEMENT)),IS_CHILD_OF_CONTENT_WIDGETS:n(t(),t(),o.ClassNames.CONTENT_WIDGETS),IS_CHILD_OF_OVERFLOWING_CONTENT_WIDGETS:new RegExp("^"+o.ClassNames.OVERFLOWING_CONTENT_WIDGETS+"\\/"),IS_CHILD_OF_OVERLAY_WIDGETS:n(o.ClassNames.OVERLAY_WIDGETS),IS_CHILD_OF_MARGIN:n(o.ClassNames.MARGIN),IS_CHILD_OF_VIEW_ZONES:n(t(),t(),o.ClassNames.VIEW_ZONES)}}(),l=function(){function e(e,t){this._context=e,this._viewHelper=t}return e.prototype.getClassNamePathTo=function(e,t){for(var n,i=[];e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(n=e.className,n&&i.unshift(n)),e=e.parentNode;return i.join("/")},e.prototype.mouseTargetIsWidget=function(e){var t=e.target,n=this.getClassNamePathTo(t,this._viewHelper.viewDomNode);return!(!u.IS_CHILD_OF_CONTENT_WIDGETS.test(n)&&!u.IS_CHILD_OF_OVERFLOWING_CONTENT_WIDGETS.test(n))||!!u.IS_CHILD_OF_OVERLAY_WIDGETS.test(n)},e.prototype.createMouseTarget=function(e,t,n,i){try{var r=this._unsafeCreateMouseTarget(e,t,n,i);return r}catch(e){return this.createMouseTargetFromUnknownTarget(e.target)}},e.prototype._unsafeCreateMouseTarget=function(e,t,i,o){for(var s=Math.max(0,this._viewHelper.getScrollTop()+(i.posy-i.editorPos.top)),a=this._viewHelper.getScrollLeft()+(i.posx-i.editorPos.left)-e.contentLeft,l=this._getMouseColumn(a),h=i.target,d=0,p=t.length;d<p;d++){var f=t[d];if(f.contentLeft<=a&&a<=f.contentLeft+f.width&&f.contentTop<=s&&s<=f.contentTop+f.height)return this.createMouseTargetFromViewCursor(h,f.position.lineNumber,f.position.column,l)}var g=this.getClassNamePathTo(h,this._viewHelper.viewDomNode);if(u.IS_CHILD_OF_CONTENT_WIDGETS.test(g)||u.IS_CHILD_OF_OVERFLOWING_CONTENT_WIDGETS.test(g))return this.createMouseTargetFromContentWidgetsChild(h,l);if(u.IS_CHILD_OF_OVERLAY_WIDGETS.test(g))return this.createMouseTargetFromOverlayWidgetsChild(h,l);var v=h.hasAttribute&&h.hasAttribute("lineNumber")?h.getAttribute("lineNumber"):null,m=h.hasAttribute&&h.hasAttribute("column")?h.getAttribute("column"):null;if(v&&m)return this.createMouseTargetFromViewCursor(h,parseInt(v,10),parseInt(m,10),l);if(u.IS_TEXTAREA_COVER.test(g))return this._context.configuration.editor.viewInfo.glyphMargin?this.createMouseTargetFromGlyphMargin(h,s,l):this._context.configuration.editor.viewInfo.renderLineNumbers?this.createMouseTargetFromLineNumbers(h,s,l):this.createMouseTargetFromLinesDecorationsChild(h,s,l);if(u.IS_TEXTAREA.test(g))return new c(h,r.MouseTargetType.TEXTAREA);if(u.IS_CHILD_OF_VIEW_ZONES.test(g)){var y=this._getZoneAtCoord(s);return y?new c(h,r.MouseTargetType.CONTENT_VIEW_ZONE,l,y.position,null,y):this.createMouseTargetFromUnknownTarget(h)}if(u.IS_VIEW_LINES.test(g)){if(this._viewHelper.isAfterLines(s))return this.createMouseTargetFromViewLines(h,s,l);var y=this._getZoneAtCoord(s);if(y)return new c(h,r.MouseTargetType.CONTENT_VIEW_ZONE,l,y.position,null,y);var b=this._doHitTest(i,s);return b.position?this.createMouseTargetFromHitTestPosition(h,b.position.lineNumber,b.position.column,a,l):this.createMouseTargetFromViewLines(h,s,l)}if(!o||u.IS_CHILD_OF_VIEW_LINES.test(g)){var b=this._doHitTest(i,s);if(b.position)return this.createMouseTargetFromHitTestPosition(h,b.position.lineNumber,b.position.column,a,l);if(!b.hitTarget){var S=this._viewHelper.getLineNumberAtVerticalOffset(s),E=this._context.model.getLineMaxColumn(S);return new c(h,r.MouseTargetType.CONTENT_EMPTY,l,new n.Position(S,E))}h=b.hitTarget,g=this.getClassNamePathTo(h,this._viewHelper.viewDomNode);var _=h.hasAttribute&&h.hasAttribute("lineNumber")?h.getAttribute("lineNumber"):null,C=h.hasAttribute&&h.hasAttribute("column")?h.getAttribute("column"):null;if(_&&C)return this.createMouseTargetFromViewCursor(h,parseInt(_,10),parseInt(C,10),l)}if(u.IS_CURSORS_LAYER.test(g))return new c(h,r.MouseTargetType.UNKNOWN);if(u.IS_CHILD_OF_SCROLLABLE_ELEMENT.test(g))return this.createMouseTargetFromScrollbar(h,s,l);if(u.IS_CHILD_OF_MARGIN.test(g)){var w=Math.abs(i.posx-i.editorPos.left);return w<=e.glyphMarginWidth?this.createMouseTargetFromGlyphMargin(h,s,l):(w-=e.glyphMarginWidth,w<=e.lineNumbersWidth?this.createMouseTargetFromLineNumbers(h,s,l):(w-=e.lineNumbersWidth,this.createMouseTargetFromLinesDecorationsChild(h,s,l)))}return/OverviewRuler/i.test(g)?this.createMouseTargetFromScrollbar(h,s,l):this.createMouseTargetFromUnknownTarget(h)},e.prototype._isChild=function(e,t,n){for(;e&&e!==document.body;){if(e===t)return!0;if(e===n)return!1;e=e.parentNode}return!1},e.prototype._findAttribute=function(e,t,n){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===n)return null;e=e.parentNode}return null},e.prototype._doHitTestWithCaretRangeFromPoint=function(e,t){var n=this._viewHelper.getLineNumberAtVerticalOffset(t),i=this._viewHelper.getVerticalOffsetForLineNumber(n),r=i+Math.floor(this._context.configuration.editor.lineHeight/2),o=e.posy+(r-t);o<=e.editorPos.top&&(o=e.editorPos.top+1),o>=e.editorPos.top+this._context.configuration.editor.layoutInfo.height&&(o=e.editorPos.top+this._context.configuration.editor.layoutInfo.height-1);var a=this._actualDoHitTestWithCaretRangeFromPoint(e.viewportx,o-s.StandardWindow.scrollY);return a.position?a:this._actualDoHitTestWithCaretRangeFromPoint(e.viewportx,e.viewporty)},e.prototype._actualDoHitTestWithCaretRangeFromPoint=function(e,t){var n=document.caretRangeFromPoint(e,t);if(!n||!n.startContainer)return{position:null,hitTarget:null};var i,r=n.startContainer;if(r.nodeType===r.TEXT_NODE){var s=r.parentNode,a=s?s.parentNode:null,c=a?a.parentNode:null,u=c&&c.nodeType===c.ELEMENT_NODE?c.className:null;if(u===o.ClassNames.VIEW_LINE){var l=this._viewHelper.getPositionFromDOMInfo(s,n.startOffset);return{position:l,hitTarget:null}}i=r.parentNode}else if(r.nodeType===r.ELEMENT_NODE){var s=r.parentNode,a=s?s.parentNode:null,h=a&&a.nodeType===a.ELEMENT_NODE?a.className:null;if(h===o.ClassNames.VIEW_LINE){var l=this._viewHelper.getPositionFromDOMInfo(r,r.textContent.length);return{position:l,hitTarget:null}}i=r}return{position:null,hitTarget:i}},e.prototype._doHitTestWithCaretPositionFromPoint=function(e){var t=document.caretPositionFromPoint(e.viewportx,e.viewporty),n=document.createRange();n.setStart(t.offsetNode,t.offset),n.collapse(!0);var i=this._viewHelper.getPositionFromDOMInfo(n.startContainer.parentNode,n.startOffset);return n.detach(),{position:i,hitTarget:null}},e.prototype._doHitTestWithMoveToPoint=function(e){var t=null,n=null,i=document.body.createTextRange();try{i.moveToPoint(e.viewportx,e.viewporty)}catch(e){return{position:null,hitTarget:null}}i.collapse(!0);var r=i?i.parentElement():null,s=r?r.parentNode:null,a=s?s.parentNode:null,c=a&&a.nodeType===a.ELEMENT_NODE?a.className:"";if(c===o.ClassNames.VIEW_LINE){var u=i.duplicate();u.moveToElementText(r),u.setEndPoint("EndToStart",i),t=this._viewHelper.getPositionFromDOMInfo(r,u.text.length),u.moveToElementText(this._viewHelper.viewDomNode)}else n=r;return i.moveToElementText(this._viewHelper.viewDomNode),{position:t,hitTarget:n}},e.prototype._doHitTest=function(e,t){return document.caretRangeFromPoint?this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint?this._doHitTestWithCaretPositionFromPoint(e):document.body.createTextRange?this._doHitTestWithMoveToPoint(e):{position:null,hitTarget:null}},e.prototype._getZoneAtCoord=function(e){var t=this._viewHelper.getWhitespaceAtVerticalOffset(e);if(t){var i=t.verticalOffset+t.height/2,r=this._context.model.getLineCount(),o=null,s=void 0,a=null;return t.afterLineNumber!==r&&(a=new n.Position(t.afterLineNumber+1,1)),t.afterLineNumber>0&&(o=new n.Position(t.afterLineNumber,this._context.model.getLineMaxColumn(t.afterLineNumber))),s=null===a?o:null===o?a:e<i?o:a,{viewZoneId:t.id,afterLineNumber:t.afterLineNumber,positionBefore:o,positionAfter:a,position:s}}return null},e.prototype._getFullLineRangeAtCoord=function(e){if(this._viewHelper.isAfterLines(e)){var t=this._context.model.getLineCount(),n=this._context.model.getLineMaxColumn(t);return{range:new i.Range(t,n,t,n),isAfterLines:!0}}var r=this._viewHelper.getLineNumberAtVerticalOffset(e),o=this._context.model.getLineMaxColumn(r);return{range:new i.Range(r,1,r,o),isAfterLines:!1}},e.prototype.getMouseColumn=function(e,t){var n=this._viewHelper.getScrollLeft()+(t.posx-t.editorPos.left)-e.contentLeft;return this._getMouseColumn(n)},e.prototype._getMouseColumn=function(e){if(e<0)return 1;var t=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,n=Math.round(e/t);return n+1},e.prototype.createMouseTargetFromViewCursor=function(e,t,i,o){return new c(e,r.MouseTargetType.CONTENT_TEXT,o,new n.Position(t,i))},e.prototype.createMouseTargetFromViewLines=function(e,t,i){var o=this._context.model.getLineCount(),s=this._context.model.getLineMaxColumn(o);return new c(e,r.MouseTargetType.CONTENT_EMPTY,i,new n.Position(o,s))},e.prototype.createMouseTargetFromHitTestPosition=function(e,t,o,s,u){var l=new n.Position(t,o),h=this._viewHelper.getLineWidth(t);if(s>h)return a.isEdge&&1===l.column?new c(e,r.MouseTargetType.CONTENT_EMPTY,u,new n.Position(t,this._context.model.getLineMaxColumn(t))):new c(e,r.MouseTargetType.CONTENT_EMPTY,u,l);var d=this._viewHelper.visibleRangeForPosition2(t,o);if(!d)return new c(e,r.MouseTargetType.UNKNOWN,u,l);var p=d.left;if(s===p)return new c(e,r.MouseTargetType.CONTENT_TEXT,u,l);var f;if(o>1){var g=d.left;if(f=!1,f=f||g<s&&s<p,f=f||p<s&&s<g){var v=new i.Range(t,o,t,o-1);return new c(e,r.MouseTargetType.CONTENT_TEXT,u,l,v)}}var m=this._context.model.getLineMaxColumn(t);if(o<m){var y=this._viewHelper.visibleRangeForPosition2(t,o+1);if(y){var b=y.left;if(f=!1,f=f||p<s&&s<b,f=f||b<s&&s<p){var v=new i.Range(t,o,t,o+1);return new c(e,r.MouseTargetType.CONTENT_TEXT,u,l,v)}}}return new c(e,r.MouseTargetType.CONTENT_TEXT,u,l)},e.prototype.createMouseTargetFromContentWidgetsChild=function(e,t){var n=this._findAttribute(e,"widgetId",this._viewHelper.viewDomNode);return n?new c(e,r.MouseTargetType.CONTENT_WIDGET,t,null,null,n):new c(e,r.MouseTargetType.UNKNOWN)},e.prototype.createMouseTargetFromOverlayWidgetsChild=function(e,t){var n=this._findAttribute(e,"widgetId",this._viewHelper.viewDomNode);return n?new c(e,r.MouseTargetType.OVERLAY_WIDGET,t,null,null,n):new c(e,r.MouseTargetType.UNKNOWN)},e.prototype.createMouseTargetFromLinesDecorationsChild=function(e,t,i){var o=this._getZoneAtCoord(t);if(o)return new c(e,r.MouseTargetType.GUTTER_VIEW_ZONE,i,o.position,null,o);var s=this._getFullLineRangeAtCoord(t);return new c(e,r.MouseTargetType.GUTTER_LINE_DECORATIONS,i,new n.Position(s.range.startLineNumber,s.range.startColumn),s.range,s.isAfterLines)},e.prototype.createMouseTargetFromLineNumbers=function(e,t,i){var o=this._getZoneAtCoord(t);if(o)return new c(e,r.MouseTargetType.GUTTER_VIEW_ZONE,i,o.position,null,o);var s=this._getFullLineRangeAtCoord(t);return new c(e,r.MouseTargetType.GUTTER_LINE_NUMBERS,i,new n.Position(s.range.startLineNumber,s.range.startColumn),s.range,s.isAfterLines)},e.prototype.createMouseTargetFromGlyphMargin=function(e,t,i){var o=this._getZoneAtCoord(t);if(o)return new c(e,r.MouseTargetType.GUTTER_VIEW_ZONE,i,o.position,null,o);var s=this._getFullLineRangeAtCoord(t);return new c(e,r.MouseTargetType.GUTTER_GLYPH_MARGIN,i,new n.Position(s.range.startLineNumber,s.range.startColumn),s.range,s.isAfterLines)},e.prototype.createMouseTargetFromScrollbar=function(e,t,i){var o=this._viewHelper.getLineNumberAtVerticalOffset(t),s=this._context.model.getLineMaxColumn(o);return new c(e,r.MouseTargetType.SCROLLBAR,i,new n.Position(o,s))},e.prototype.createMouseTargetFromUnknownTarget=function(e){var t=this._isChild(e,this._viewHelper.viewDomNode,this._viewHelper.viewDomNode),n=null;return t&&(n=this._findAttribute(e,"widgetId",this._viewHelper.viewDomNode)),n?new c(e,r.MouseTargetType.OVERLAY_WIDGET,null,null,n):new c(e,r.MouseTargetType.UNKNOWN)},e}();t.MouseTargetFactory=l}),define(l[665],h([1,0,30,213,12,16,8,10,917,5]),function(e,t,n,i,r,o,s,a,c,u){"use strict";function l(e){var t=i.parse(i.stringify(e));n.mixin(t,e.light);var r=i.parse(i.stringify(e));return n.mixin(r,e.dark),{light:t,dark:r}}var h=function(e){function t(t){void 0===t&&(t=s.createStyleSheet()),e.call(this),this._styleSheet=t,this._decorationOptionProviders=Object.create(null)}return d(t,e),t.prototype.registerDecorationType=function(e,t,n){var i=this._decorationOptionProviders[e];i||(i=n?new f(this._styleSheet,e,n,t):new g(this._styleSheet,e,t),this._decorationOptionProviders[e]=i),i.refCount++},t.prototype.removeDecorationType=function(e){var t=this._decorationOptionProviders[e];t&&(t.refCount--,t.refCount<=0&&(delete this._decorationOptionProviders[e],t.dispose(),this.listCodeEditors().forEach(function(t){return t.removeDecorations(e)})))},t.prototype.resolveDecorationOptions=function(e,t){var n=this._decorationOptionProviders[e];if(!n)throw new Error("Unknown decoration type key: "+e);return n.getOptions(this,t)},t}(c.AbstractCodeEditorService);t.CodeEditorServiceImpl=h;var p,f=function(){function e(e,t,n,i){this._parentTypeKey=n,this.refCount=0;var r=l(i);this._beforeContentClassName=v.createCSSRules(e,t,n,3,{light:v.getCSSTextForModelDecorationContentClassName(r.light.before),dark:v.getCSSTextForModelDecorationContentClassName(r.dark.before)}),this._afterContentClassName=v.createCSSRules(e,t,n,4,{light:v.getCSSTextForModelDecorationContentClassName(r.light.after),dark:v.getCSSTextForModelDecorationContentClassName(r.dark.after)}),(this._beforeContentClassName||this._afterContentClassName)&&(this._disposable=u.toDisposable(function(){s.removeCSSRulesContainingSelector(y.getDeletionSubstring(t),e)}))}return e.prototype.getOptions=function(e,t){var n=e.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentClassName&&(n.beforeContentClassName=this._beforeContentClassName),this._afterContentClassName&&(n.afterContentClassName=this._afterContentClassName),n},e.prototype.dispose=function(){this._disposable&&(this._disposable.dispose(),delete this._disposable)},e}(),g=function(){function e(e,t,n){this.refCount=0;var i=l(n);this.className=v.createCSSRules(e,t,null,0,{light:v.getCSSTextForModelDecorationClassName(i.light),dark:v.getCSSTextForModelDecorationClassName(i.dark)}),this.inlineClassName=v.createCSSRules(e,t,null,1,{light:v.getCSSTextForModelDecorationInlineClassName(i.light),dark:v.getCSSTextForModelDecorationInlineClassName(i.dark)}),this.beforeContentClassName=v.createCSSRules(e,t,null,3,{light:v.getCSSTextForModelDecorationContentClassName(i.light.before),dark:v.getCSSTextForModelDecorationContentClassName(i.dark.before)}),this.afterContentClassName=v.createCSSRules(e,t,null,4,{light:v.getCSSTextForModelDecorationContentClassName(i.light.after),dark:v.getCSSTextForModelDecorationContentClassName(i.dark.after)}),this.glyphMarginClassName=v.createCSSRules(e,t,null,2,{light:v.getCSSTextForModelDecorationGlyphMarginClassName(i.light),dark:v.getCSSTextForModelDecorationGlyphMarginClassName(i.dark)}),this.isWholeLine=Boolean(n.isWholeLine),"undefined"==typeof i.light.overviewRulerColor&&"undefined"==typeof i.dark.overviewRulerColor||(this.overviewRuler={color:i.light.overviewRulerColor||i.dark.overviewRulerColor,darkColor:i.dark.overviewRulerColor||i.light.overviewRulerColor,position:n.overviewRulerLane||a.OverviewRulerLane.Center}),this._disposable=u.toDisposable(function(){s.removeCSSRulesContainingSelector(y.getDeletionSubstring(t),e)})}return e.prototype.getOptions=function(e,t){return t?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this},e.prototype.dispose=function(){this._disposable&&(this._disposable.dispose(),delete this._disposable)},e}(),v=function(){function e(){}return e.getCSSTextForModelDecorationClassName=function(t){var n=[];return e.collectCSSText(t,["backgroundColor","outline","outlineColor","outlineStyle","outlineWidth"],n),e.collectBorderSettingsCSSText(t,n),n.join("")},e.getCSSTextForModelDecorationInlineClassName=function(t){var n=[];return e.collectCSSText(t,["textDecoration","cursor","color","letterSpacing"],n),n.join("")},e.getCSSTextForModelDecorationContentClassName=function(t){var n=[];if("undefined"!=typeof t){if(e.collectBorderSettingsCSSText(t,n),"string"==typeof t.contentIconPath?n.push(r.format(this._CSS_MAP.contentIconPath,o.default.file(t.contentIconPath).toString())):t.contentIconPath instanceof o.default&&n.push(r.format(this._CSS_MAP.contentIconPath,t.contentIconPath.toString(!0).replace(/'/g,"%27"))),"undefined"!=typeof t.contentText){var i=t.contentText.replace(/\"/g,'\\"');n.push(r.format(this._CSS_MAP.contentText,i))}e.collectCSSText(t,["textDecoration","color","backgroundColor","margin"],n),e.collectCSSText(t,["width","height"],n)&&n.push("display:inline-block;")}return n.join("")},e.getCSSTextForModelDecorationGlyphMarginClassName=function(e){var t=[];return"undefined"!=typeof e.gutterIconPath&&("string"==typeof e.gutterIconPath?t.push(r.format(this._CSS_MAP.gutterIconPath,o.default.file(e.gutterIconPath).toString())):t.push(r.format(this._CSS_MAP.gutterIconPath,e.gutterIconPath.toString(!0).replace(/'/g,"%27"))),"undefined"!=typeof e.gutterIconSize&&t.push(r.format(this._CSS_MAP.gutterIconSize,e.gutterIconSize))),t.join("")},e.collectBorderSettingsCSSText=function(t,n){return!!e.collectCSSText(t,e.border_rules,n)&&(n.push(r.format("box-sizing: border-box;")),!0)},e.collectCSSText=function(e,t,n){for(var i=n.length,o=0,s=t;o<s.length;o++){var a=s[o];"undefined"!=typeof e[a]&&n.push(r.format(this._CSS_MAP[a],e[a]))}return n.length!==i},e.createCSSRules=function(e,t,n,i,r){function o(r,o){var a=y.getSelector(r,t,n,i);s.createCSSRule(a,o,e)}var a=!1;if(r.light.length>0&&(o(0,r.light),a=!0),r.dark.length>0&&(o(1,r.dark),o(2,r.dark),a=!0),a){var c=y.getClassName(t,i);return n&&(c=c+" "+y.getClassName(n,i)),c}},e._CSS_MAP={color:"color:{0} !important;",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:url('{0}') center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:url('{0}');",margin:"margin:{0};",width:"width:{0};",height:"height:{0};"},e.border_rules=["border","borderColor","borderColor","borderSpacing","borderStyle","borderWidth"],e}();!function(e){e[e.Light=0]="Light",e[e.Dark=1]="Dark",e[e.HighContrastBlack=2]="HighContrastBlack"}(p||(p={}));var m;!function(e){e[e.ClassName=0]="ClassName",e[e.InlineClassName=1]="InlineClassName",e[e.GlyphMarginClassName=2]="GlyphMarginClassName",e[e.BeforeContentClassName=3]="BeforeContentClassName",e[e.AfterContentClassName=4]="AfterContentClassName"}(m||(m={}));var y=function(){function e(){}return e._getSelectorPrefixOf=function(e){return 0===e?".monaco-editor.vs":1===e?".monaco-editor.vs-dark":".monaco-editor.hc-black"},e.getClassName=function(e,t){return"ced-"+e+"-"+t},e.getSelector=function(e,t,n,i){var r=this._getSelectorPrefixOf(e)+" ."+this.getClassName(t,i);return n&&(r=r+"."+this.getClassName(n,i)),3===i?r+="::before":4===i&&(r+="::after"),r},e.getDeletionSubstring=function(e){return".ced-"+e+"-"},e}()}),define(l[666],h([1,0,44,10]),function(e,t,n,i){"use strict";var r=function(){function e(e,t,n,i){
this.viewModel=e,this.triggerCursorHandler=t,this.outgoingEvents=n,this.commandService=i}return e.prototype.paste=function(e,t,n){this.commandService.executeCommand(i.Handler.Paste,{text:t,pasteOnNewLine:n})},e.prototype.type=function(e,t){this.commandService.executeCommand(i.Handler.Type,{text:t})},e.prototype.replacePreviousChar=function(e,t,n){this.commandService.executeCommand(i.Handler.ReplacePreviousChar,{text:t,replaceCharCnt:n})},e.prototype.compositionStart=function(e){this.commandService.executeCommand(i.Handler.CompositionStart,{})},e.prototype.compositionEnd=function(e){this.commandService.executeCommand(i.Handler.CompositionEnd,{})},e.prototype.cut=function(e){this.commandService.executeCommand(i.Handler.Cut,{})},e.prototype._validateViewColumn=function(e){var t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new n.Position(e.lineNumber,t):e},e.prototype.dispatchMouse=function(e){e.startedOnLineNumbers?e.altKey?e.inSelectionMode?this.lastCursorLineSelect("mouse",e.position):this.createCursor("mouse",e.position,!0):e.inSelectionMode?this.lineSelectDrag("mouse",e.position):this.lineSelect("mouse",e.position):e.mouseDownCount>=4?this.selectAll("mouse"):3===e.mouseDownCount?e.altKey?e.inSelectionMode?this.lastCursorLineSelectDrag("mouse",e.position):this.lastCursorLineSelect("mouse",e.position):e.inSelectionMode?this.lineSelectDrag("mouse",e.position):this.lineSelect("mouse",e.position):2===e.mouseDownCount?e.altKey?this.lastCursorWordSelect("mouse",e.position):e.inSelectionMode?this.wordSelectDrag("mouse",e.position):this.wordSelect("mouse",e.position):e.altKey?e.ctrlKey||e.metaKey||(e.shiftKey?this.columnSelect("mouse",e.position,e.mouseColumn):e.inSelectionMode?this.lastCursorMoveToSelect("mouse",e.position):this.createCursor("mouse",e.position,!1)):e.inSelectionMode?this.moveToSelect("mouse",e.position):this.moveTo("mouse",e.position)},e.prototype.moveTo=function(e,t){t=this._validateViewColumn(t),this.triggerCursorHandler(e,i.Handler.MoveTo,{position:this.convertViewToModelPosition(t),viewPosition:t})},e.prototype.moveToSelect=function(e,t){t=this._validateViewColumn(t),this.triggerCursorHandler(e,i.Handler.MoveToSelect,{position:this.convertViewToModelPosition(t),viewPosition:t})},e.prototype.columnSelect=function(e,t,n){t=this._validateViewColumn(t),this.triggerCursorHandler(e,i.Handler.ColumnSelect,{position:this.convertViewToModelPosition(t),viewPosition:t,mouseColumn:n})},e.prototype.createCursor=function(e,t,n){t=this._validateViewColumn(t),this.triggerCursorHandler(e,i.Handler.CreateCursor,{position:this.convertViewToModelPosition(t),viewPosition:t,wholeLine:n})},e.prototype.lastCursorMoveToSelect=function(e,t){t=this._validateViewColumn(t),this.triggerCursorHandler(e,i.Handler.LastCursorMoveToSelect,{position:this.convertViewToModelPosition(t),viewPosition:t})},e.prototype.wordSelect=function(e,t){t=this._validateViewColumn(t),this.triggerCursorHandler(e,i.Handler.WordSelect,{position:this.convertViewToModelPosition(t)})},e.prototype.wordSelectDrag=function(e,t){t=this._validateViewColumn(t),this.triggerCursorHandler(e,i.Handler.WordSelectDrag,{position:this.convertViewToModelPosition(t)})},e.prototype.lastCursorWordSelect=function(e,t){t=this._validateViewColumn(t),this.triggerCursorHandler(e,i.Handler.LastCursorWordSelect,{position:this.convertViewToModelPosition(t)})},e.prototype.lineSelect=function(e,t){t=this._validateViewColumn(t),this.triggerCursorHandler(e,i.Handler.LineSelect,{position:this.convertViewToModelPosition(t),viewPosition:t})},e.prototype.lineSelectDrag=function(e,t){t=this._validateViewColumn(t),this.triggerCursorHandler(e,i.Handler.LineSelectDrag,{position:this.convertViewToModelPosition(t),viewPosition:t})},e.prototype.lastCursorLineSelect=function(e,t){t=this._validateViewColumn(t),this.triggerCursorHandler(e,i.Handler.LastCursorLineSelect,{position:this.convertViewToModelPosition(t),viewPosition:t})},e.prototype.lastCursorLineSelectDrag=function(e,t){t=this._validateViewColumn(t),this.triggerCursorHandler(e,i.Handler.LastCursorLineSelectDrag,{position:this.convertViewToModelPosition(t),viewPosition:t})},e.prototype.selectAll=function(e){this.triggerCursorHandler(e,i.Handler.SelectAll,null)},e.prototype.convertViewToModelPosition=function(e){return this.viewModel.convertViewPositionToModelPosition(e.lineNumber,e.column)},e.prototype.emitKeyDown=function(e){this.outgoingEvents.emitKeyDown(e)},e.prototype.emitKeyUp=function(e){this.outgoingEvents.emitKeyUp(e)},e.prototype.emitContextMenu=function(e){this.outgoingEvents.emitContextMenu(e)},e.prototype.emitMouseMove=function(e){this.outgoingEvents.emitMouseMove(e)},e.prototype.emitMouseLeave=function(e){this.outgoingEvents.emitMouseLeave(e)},e.prototype.emitMouseUp=function(e){this.outgoingEvents.emitMouseUp(e)},e.prototype.emitMouseDown=function(e){this.outgoingEvents.emitMouseDown(e)},e}();t.ViewController=r}),define(l[667],h([1,0,42,5,10]),function(e,t,n,i,r){"use strict";var o=function(e){function t(t){e.call(this),this._viewModel=t,this._actual=this._register(new n.EventEmitter)}return d(t,e),t.prototype.getInternalEventBus=function(){return this._actual},t.prototype.deferredEmit=function(e){return this._actual.deferredEmit(e)},t.prototype.emitViewLayoutChanged=function(e){this._actual.emit(r.EventType.ViewLayoutChanged,e)},t.prototype.emitScrollChanged=function(e){this._actual.emit("scroll",e)},t.prototype.emitViewFocusGained=function(){this._actual.emit(r.EventType.ViewFocusGained,{})},t.prototype.emitViewFocusLost=function(){this._actual.emit(r.EventType.ViewFocusLost,{})},t.prototype.emitKeyDown=function(e){this._actual.emit(r.EventType.KeyDown,e)},t.prototype.emitKeyUp=function(e){this._actual.emit(r.EventType.KeyUp,e)},t.prototype.emitContextMenu=function(e){this._actual.emit(r.EventType.ContextMenu,this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseMove=function(e){this._actual.emit(r.EventType.MouseMove,this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseLeave=function(e){this._actual.emit(r.EventType.MouseLeave,this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseUp=function(e){this._actual.emit(r.EventType.MouseUp,this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseDown=function(e){this._actual.emit(r.EventType.MouseDown,this._convertViewToModelMouseEvent(e))},t.prototype._convertViewToModelMouseEvent=function(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e},t.prototype._convertViewToModelMouseTarget=function(e){return{element:e.element,type:e.type,position:e.position?this._convertViewToModelPosition(e.position):null,mouseColumn:e.mouseColumn,range:e.range?this._convertViewToModelRange(e.range):null,detail:e.detail}},t.prototype._convertViewToModelPosition=function(e){return this._viewModel.convertViewPositionToModelPosition(e.lineNumber,e.column)},t.prototype._convertViewToModelRange=function(e){return this._viewModel.convertViewRangeToModelRange(e)},t}(i.Disposable);t.ViewOutgoingEvents=o}),define(l[668],h([1,0,5,8,124,10,59]),function(e,t,n,i,r,o,s){"use strict";function a(e,t,n){e.hasOwnProperty(n)&&(t[n]=e[n])}var c=function(){function e(e,t,n,c,u){var l=this;this.toDispose=[],this.configuration=e,this.privateViewEventBus=t,this.linesContent=n;var h=this.configuration.editor.viewInfo.scrollbar,d={canUseTranslate3d:this.configuration.editor.viewInfo.canUseTranslate3d,listenOnDomNode:c,vertical:h.vertical,horizontal:h.horizontal,className:s.ClassNames.SCROLLABLE_ELEMENT+" "+this.configuration.editor.viewInfo.theme,useShadows:!1,lazyRender:!0,saveLastScrollTimeOnClassName:s.ClassNames.VIEW_LINE};a(h,d,"verticalHasArrows"),a(h,d,"horizontalHasArrows"),a(h,d,"verticalScrollbarSize"),a(h,d,"verticalSliderSize"),a(h,d,"horizontalScrollbarSize"),a(h,d,"horizontalSliderSize"),a(h,d,"handleMouseWheel"),a(h,d,"arrowSize"),a(h,d,"mouseWheelScrollSensitivity"),this.scrollbar=new r.ScrollableElement(n,d),this.onLayoutInfoChanged(),this.toDispose.push(this.scrollbar),this.toDispose.push(this.scrollbar.onScroll(function(e){l.privateViewEventBus.emit(o.EventType.ViewScrollChanged,e)})),this.toDispose.push(this.configuration.onDidChange(function(e){if(l.scrollbar.updateClassName(s.ClassNames.SCROLLABLE_ELEMENT+" "+l.configuration.editor.viewInfo.theme),e.viewInfo.scrollbar||e.viewInfo.canUseTranslate3d){var t={canUseTranslate3d:l.configuration.editor.viewInfo.canUseTranslate3d,handleMouseWheel:l.configuration.editor.viewInfo.scrollbar.handleMouseWheel,mouseWheelScrollSensitivity:l.configuration.editor.viewInfo.scrollbar.mouseWheelScrollSensitivity};l.scrollbar.updateOptions(t)}}));var p=function(e,t,n){var i={};if(t){var r=e.scrollTop;r&&(i.scrollTop=l.getScrollTop()+r,e.scrollTop=0)}if(n){var o=e.scrollLeft;o&&(i.scrollLeft=l.getScrollLeft()+o,e.scrollLeft=0)}l.setScrollPosition(i)};this.toDispose.push(i.addDisposableListener(c,"scroll",function(e){return p(c,!0,!0)})),this.toDispose.push(i.addDisposableListener(n,"scroll",function(e){return p(n,!0,!1)})),this.toDispose.push(i.addDisposableListener(u,"scroll",function(e){return p(u,!0,!1)}))}return e.prototype.dispose=function(){this.toDispose=n.dispose(this.toDispose)},e.prototype.renderScrollbar=function(){this.scrollbar.renderNow()},e.prototype.onLayoutInfoChanged=function(){this.scrollbar.updateState({width:this.configuration.editor.layoutInfo.contentWidth,height:this.configuration.editor.layoutInfo.contentHeight})},e.prototype.getOverviewRulerLayoutInfo=function(){return this.scrollbar.getOverviewRulerLayoutInfo()},e.prototype.getScrollbarContainerDomNode=function(){return this.scrollbar.getDomNode()},e.prototype.delegateVerticalScrollbarMouseDown=function(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)},e.prototype.getWidth=function(){return this.scrollbar.getWidth()},e.prototype.getScrollWidth=function(){return this.scrollbar.getScrollWidth()},e.prototype.getScrollLeft=function(){return this.scrollbar.getScrollLeft()},e.prototype.getHeight=function(){return this.scrollbar.getHeight()},e.prototype.getScrollHeight=function(){return this.scrollbar.getScrollHeight()},e.prototype.getScrollTop=function(){return this.scrollbar.getScrollTop()},e.prototype.setScrollPosition=function(e){this.scrollbar.updateState(e)},e.prototype.setScrollHeight=function(e){this.scrollbar.updateState({scrollHeight:e})},e.prototype.setScrollWidth=function(e){this.scrollbar.updateState({scrollWidth:e})},e}();t.ScrollManager=c}),define(l[318],h([1,0,12,15,10]),function(e,t,n,i,r){"use strict";function o(e){return e===s.IENarrator?u.EMPTY:a?h.EMPTY:l.EMPTY}!function(e){e[e.IENarrator=0]="IENarrator",e[e.NVDA=1]="NVDA"}(t.TextAreaStrategy||(t.TextAreaStrategy={}));var s=t.TextAreaStrategy,a=!1;t.createTextAreaState=o;var c=function(){function e(e,t,n,i,r){this.previousState=e?e.shallowClone():null,this.value=t,this.selectionStart=n,this.selectionEnd=i,this.isInOverwriteMode=r}return e.prototype.updateComposition=function(){return this.previousState?{text:this.value,replaceCharCnt:this.previousState.selectionEnd-this.previousState.selectionStart}:{text:"",replaceCharCnt:0}},e.prototype.getSelectionStart=function(){return this.selectionStart},e.prototype.getValue=function(){return this.value},e.prototype.applyToTextArea=function(e,t,n){t.getValue()!==this.value&&t.setValue(e,this.value),n&&t.setSelectionRange(this.selectionStart,this.selectionEnd)},e.prototype.deduceInput=function(){if(!this.previousState)return{text:"",replaceCharCnt:0};var e=this.previousState.value,t=this.previousState.selectionStart,i=this.previousState.selectionEnd,r=this.value,o=this.selectionStart,s=this.selectionEnd,a=e.substring(i),c=r.substring(s),u=n.commonSuffixLength(a,c);r=r.substring(0,r.length-u),e=e.substring(0,e.length-u);var l=e.substring(0,t),h=r.substring(0,o),d=n.commonPrefixLength(l,h);if(r=r.substring(d),e=e.substring(d),o-=d,t-=d,s-=d,i-=d,o===s){if(e===r&&0===t&&i===e.length&&o===r.length&&r.indexOf("\n")===-1)return{text:"",replaceCharCnt:0};var p=l.length-d;return{text:r,replaceCharCnt:p}}var f=i-t;return{text:r,replaceCharCnt:f}},e}();t.TextAreaState=c;var u=function(e){function t(t,n,i,r,o,s){e.call(this,t,n,i,r,o),this.selectionToken=s}return d(t,e),t.prototype.shallowClone=function(){return new t(null,this.value,this.selectionStart,this.selectionEnd,this.isInOverwriteMode,this.selectionToken)},t.prototype.toEmpty=function(){return t.EMPTY},t.prototype.toString=function(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+", isInOverwriteMode: "+this.isInOverwriteMode+", selectionToken: "+this.selectionToken+"]"},t.prototype.toStrategy=function(e){return e===s.IENarrator?this:a?new h(this.previousState,this.value,this.selectionStart,this.selectionEnd,this.isInOverwriteMode):new l(this.previousState,this.value,this.selectionStart,this.selectionEnd,this.isInOverwriteMode)},t.prototype.equals=function(e){return e instanceof t&&(this.value===e.value&&this.selectionStart===e.selectionStart&&this.selectionEnd===e.selectionEnd&&this.isInOverwriteMode===e.isInOverwriteMode&&this.selectionToken===e.selectionToken)},t.prototype.fromTextArea=function(e){return new t(this,e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),e.isInOverwriteMode(),this.selectionToken)},t.prototype.fromEditorSelection=function(e,n){var o=100,s=0,a=n.startLineNumber,c=n.startColumn,u=n.endLineNumber,l=n.endColumn,h=e.getLineMaxColumn(u);n.isEmpty()&&this.selectionToken!==a&&(c=1,l=h);var d="",p=Math.max(1,a-s);p<a&&(d=e.getValueInRange(new i.Range(p,1,a,1),r.EndOfLinePreference.LF)),d+=e.getValueInRange(new i.Range(a,1,a,c),r.EndOfLinePreference.LF),d.length>o&&(d=d.substring(d.length-o,d.length));var f="",g=Math.min(u+s,e.getLineCount());f+=e.getValueInRange(new i.Range(u,l,u,h),r.EndOfLinePreference.LF),g>u&&(f="\n"+e.getValueInRange(new i.Range(u+1,1,g,e.getLineMaxColumn(g)),r.EndOfLinePreference.LF)),f.length>o&&(f=f.substring(0,o));var v=e.getValueInRange(new i.Range(a,c,u,l),r.EndOfLinePreference.LF);return v.length>2*o&&(v=v.substring(0,o)+String.fromCharCode(8230)+v.substring(v.length-o,v.length)),new t(this,d+v+f,d.length,d.length+v.length,(!1),a)},t.prototype.fromText=function(e){return new t(this,e,0,e.length,(!1),0)},t.prototype.resetSelection=function(){return new t(this.previousState,this.value,this.value.length,this.value.length,this.isInOverwriteMode,this.selectionToken)},t.EMPTY=new t(null,"",0,0,(!1),0),t}(c);t.IENarratorTextAreaState=u;var l=function(e){function t(t,n,i,r,o){e.call(this,t,n,i,r,o)}return d(t,e),t.prototype.shallowClone=function(){return new t(null,this.value,this.selectionStart,this.selectionEnd,this.isInOverwriteMode)},t.prototype.toEmpty=function(){return t.EMPTY},t.prototype.toString=function(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+", isInOverwriteMode: "+this.isInOverwriteMode+"]"},t.prototype.toStrategy=function(e){return e===s.NVDA?this:new u(this.previousState,this.value,this.selectionStart,this.selectionEnd,this.isInOverwriteMode,0)},t.prototype.equals=function(e){return e instanceof t&&(this.value===e.value&&this.selectionStart===e.selectionStart&&this.selectionEnd===e.selectionEnd&&this.isInOverwriteMode===e.isInOverwriteMode)},t.prototype.fromTextArea=function(e){return new t(this,e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),e.isInOverwriteMode())},t._getPageOfLine=function(e){return Math.floor((e-1)/t._LINES_PER_PAGE)},t._getRangeForPage=function(e){var n=e*t._LINES_PER_PAGE,r=n+1,o=n+t._LINES_PER_PAGE;return new i.Range(r,1,o,Number.MAX_VALUE)},t.prototype.fromEditorSelection=function(e,n){var o=t._getPageOfLine(n.startLineNumber),s=t._getRangeForPage(o),a=t._getPageOfLine(n.endLineNumber),c=t._getRangeForPage(a),u=s.intersectRanges(new i.Range(1,1,n.startLineNumber,n.startColumn)),l=e.getValueInRange(u,r.EndOfLinePreference.LF),h=e.getLineCount(),d=e.getLineMaxColumn(h),p=c.intersectRanges(new i.Range(n.endLineNumber,n.endColumn,h,d)),f=e.getValueInRange(p,r.EndOfLinePreference.LF),g=null;if(o===a||o+1===a)g=e.getValueInRange(n,r.EndOfLinePreference.LF);else{var v=s.intersectRanges(n),m=c.intersectRanges(n);g=e.getValueInRange(v,r.EndOfLinePreference.LF)+String.fromCharCode(8230)+e.getValueInRange(m,r.EndOfLinePreference.LF)}var y=500;return l.length>y&&(l=l.substring(l.length-y,l.length)),f.length>y&&(f=f.substring(0,y)),g.length>2*y&&(g=g.substring(0,y)+String.fromCharCode(8230)+g.substring(g.length-y,g.length)),new t(this,l+g+f,l.length,l.length+g.length,(!1))},t.prototype.fromText=function(e){return new t(this,e,0,e.length,(!1))},t.prototype.resetSelection=function(){return new t(this.previousState,this.value,this.value.length,this.value.length,this.isInOverwriteMode)},t.EMPTY=new t(null,"",0,0,(!1)),t._LINES_PER_PAGE=10,t}(c);t.NVDAPagedTextAreaState=l;var h=function(e){function t(t,n,i,r,o){e.call(this,t,n,i,r,o)}return d(t,e),t.prototype.shallowClone=function(){return new t(null,this.value,this.selectionStart,this.selectionEnd,this.isInOverwriteMode)},t.prototype.toEmpty=function(){return t.EMPTY},t.prototype.toString=function(){return"[ <ENTIRE TEXT>, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+", isInOverwriteMode: "+this.isInOverwriteMode+"]"},t.prototype.toStrategy=function(e){return e===s.NVDA?this:new u(this.previousState,this.value,this.selectionStart,this.selectionEnd,this.isInOverwriteMode,0)},t.prototype.equals=function(e){return e instanceof t&&(this.value===e.value&&this.selectionStart===e.selectionStart&&this.selectionEnd===e.selectionEnd&&this.isInOverwriteMode===e.isInOverwriteMode)},t.prototype.fromTextArea=function(e){return new t(this,e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),e.isInOverwriteMode())},t.prototype.fromEditorSelection=function(e,n){var o=e.getValueInRange(new i.Range(1,1,n.startLineNumber,n.startColumn),r.EndOfLinePreference.LF),s=e.getValueInRange(n,r.EndOfLinePreference.LF),a=e.getLineCount(),c=e.getLineMaxColumn(a),u=e.getValueInRange(new i.Range(n.endLineNumber,n.endColumn,a,c),r.EndOfLinePreference.LF);return new t(this,o+s+u,o.length,o.length+s.length,(!1))},t.prototype.fromText=function(e){return new t(this,e,0,e.length,(!1))},t.prototype.resetSelection=function(){return new t(this.previousState,this.value,this.value.length,this.value.length,this.isInOverwriteMode)},t.EMPTY=new t(null,"",0,0,(!1)),t}(c);t.NVDAFullTextAreaState=h}),define(l[670],h([1,0,17,11,5,318,15,10]),function(e,t,n,i,r,o,s,a){"use strict";var c;!function(e){e[e.Type=0]="Type",e[e.Paste=1]="Paste"}(c||(c={}));var u=function(e){function t(t,r,a,c,u){var l=this;e.call(this),this._onKeyDown=this._register(new i.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new i.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new i.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new i.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new i.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new i.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new i.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new i.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this.Browser=t,this.textArea=a,this.model=c,this.flushAnyAccumulatedEvents=u,this.selection=new s.Range(1,1,1,1),this.selections=[new s.Range(1,1,1,1)],this._nextCommand=0,this.asyncTriggerCut=new n.RunOnceScheduler(function(){return l._onCut.fire()},0),this.lastCopiedValue=null,this.lastCopiedValueIsFromEmptySelection=!1,this.textAreaState=o.createTextAreaState(r),this.hasFocus=!1,this.lastCompositionEndTime=0,this._register(this.textArea.onKeyDown(function(e){return l._onKeyDownHandler(e)})),this._register(this.textArea.onKeyUp(function(e){return l._onKeyUp.fire(e)})),this._register(this.textArea.onKeyPress(function(e){return l._onKeyPressHandler(e)})),this.textareaIsShownAtCursor=!1,this._register(this.textArea.onCompositionStart(function(e){l.textareaIsShownAtCursor||(l.textareaIsShownAtCursor=!0,l.Browser.isEdgeOrIE||l.setTextAreaState("compositionstart",l.textAreaState.toEmpty()),l._onCompositionStart.fire({showAtLineNumber:l.selection.startLineNumber,showAtColumn:l.selection.startColumn}))})),this._register(this.textArea.onCompositionUpdate(function(e){l.textAreaState=l.textAreaState.fromText(e.data);var t=l.textAreaState.updateComposition();l._onType.fire(t),l._onCompositionUpdate.fire(e)}));var h=function(){l.textAreaState=l.textAreaState.fromTextArea(l.textArea);var e=l.textAreaState.deduceInput();0===l._nextCommand?""!==e.text&&l._onType.fire(e):(l.executePaste(e.text),l._nextCommand=0)};this._register(this.textArea.onCompositionEnd(function(e){l.textAreaState=l.textAreaState.fromText(e.data);var n=l.textAreaState.updateComposition();l._onType.fire(n),(t.isEdgeOrIE||t.isChrome)&&(l.textAreaState=l.textAreaState.fromTextArea(l.textArea)),l.lastCompositionEndTime=(new Date).getTime(),l.textareaIsShownAtCursor&&(l.textareaIsShownAtCursor=!1,l._onCompositionEnd.fire())})),this._register(this.textArea.onInput(function(){l.textareaIsShownAtCursor||h()})),this._register(this.textArea.onCut(function(e){l.flushAnyAccumulatedEvents(),l._ensureClipboardGetsEditorSelection(e),l.asyncTriggerCut.schedule()})),this._register(this.textArea.onCopy(function(e){l.flushAnyAccumulatedEvents(),l._ensureClipboardGetsEditorSelection(e)})),this._register(this.textArea.onPaste(function(e){e.canUseTextData()?l.executePaste(e.getTextData()):(l.textArea.getSelectionStart()!==l.textArea.getSelectionEnd()&&l.setTextAreaState("paste",l.textAreaState.toEmpty()),l._nextCommand=1)})),this._writePlaceholderAndSelectTextArea("ctor")}return d(t,e),t.prototype.dispose=function(){this.asyncTriggerCut.dispose(),e.prototype.dispose.call(this)},t.prototype.setStrategy=function(e){this.textAreaState=this.textAreaState.toStrategy(e)},t.prototype.setHasFocus=function(e){this.hasFocus!==e&&(this.hasFocus=e,this.hasFocus&&this._writePlaceholderAndSelectTextArea("focusgain"))},t.prototype.setCursorSelections=function(e,t){this.selection=e,this.selections=[e].concat(t),this._writePlaceholderAndSelectTextArea("selection changed")},t.prototype.setTextAreaState=function(e,t){this.hasFocus||(t=t.resetSelection()),t.applyToTextArea(e,this.textArea,this.hasFocus),this.textAreaState=t},t.prototype._onKeyDownHandler=function(e){e.equals(9)&&e.preventDefault(),this._onKeyDown.fire(e)},t.prototype._onKeyPressHandler=function(e){!this.hasFocus},t.prototype.executePaste=function(e){if(""!==e){var t=!1;this.Browser.enableEmptySelectionClipboard&&(t=e===this.lastCopiedValue&&this.lastCopiedValueIsFromEmptySelection),this._onPaste.fire({text:e,pasteOnNewLine:t})}},t.prototype.writePlaceholderAndSelectTextAreaSync=function(){this._writePlaceholderAndSelectTextArea("focusTextArea")},t.prototype._writePlaceholderAndSelectTextArea=function(e){this.textareaIsShownAtCursor||(this.Browser.isIPad?this.setTextAreaState(e,this.textAreaState.toEmpty()):this.setTextAreaState(e,this.textAreaState.fromEditorSelection(this.model,this.selection)))},t.prototype._ensureClipboardGetsEditorSelection=function(e){var t=this._getPlainTextToCopy();if(e.canUseTextData()?e.setTextData(t):this.setTextAreaState("copy or cut",this.textAreaState.fromText(t)),this.Browser.enableEmptySelectionClipboard){this.Browser.isFirefox?this.lastCopiedValue=t.replace(/\r\n/g,"\n"):this.lastCopiedValue=t;var n=this.selections;this.lastCopiedValueIsFromEmptySelection=1===n.length&&n[0].isEmpty()}},t.prototype._getPlainTextToCopy=function(){var e=this.model.getEOL(),t=this.selections;if(1===t.length){var n=t[0];if(n.isEmpty()){if(this.Browser.enableEmptySelectionClipboard){var i=this.model.convertViewPositionToModelPosition(n.startLineNumber,1).lineNumber;return this.model.getModelLineContent(i)+e}return""}return this.model.getValueInRange(n,a.EndOfLinePreference.TextDefined)}t=t.slice(0).sort(s.Range.compareRangesUsingStarts);for(var r=[],o=0;o<t.length;o++)r.push(this.model.getValueInRange(t[o],a.EndOfLinePreference.TextDefined));return r.join(e)},t}(r.Disposable);t.TextAreaHandler=u}),define(l[671],h([1,0,12,10]),function(e,t,n,i){"use strict";var r=function(){function e(e,t){var r=this;this.flags=t,t.forEach(function(t){switch(t){case i.CodeEditorStateFlag.Value:var o=e.getModel();r.modelVersionId=o?n.format("{0}#{1}",o.uri.toString(),o.getVersionId()):null;break;case i.CodeEditorStateFlag.Position:r.position=e.getPosition();break;case i.CodeEditorStateFlag.Selection:r.selection=e.getSelection();break;case i.CodeEditorStateFlag.Scroll:r.scrollLeft=e.getScrollLeft(),r.scrollTop=e.getScrollTop()}})}return e.prototype._equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.modelVersionId===n.modelVersionId&&(this.scrollLeft===n.scrollLeft&&this.scrollTop===n.scrollTop&&(!(!this.position&&n.position||this.position&&!n.position||this.position&&n.position&&!this.position.equals(n.position))&&!(!this.selection&&n.selection||this.selection&&!n.selection||this.selection&&n.selection&&!this.selection.equalsRange(n.selection))))},e.prototype.validate=function(t){return this._equals(new e(t,this.flags))},e}();t.EditorState=r}),define(l[166],h([1,0,42,12,44,15,10,217,287,127,203,882]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";var p=999;t.LONG_LINE_BOUNDARY=1e3;var f=function(e){function n(t,i){t.push(s.EventType.ModelRawContentChanged,s.EventType.ModelOptionsChanged,s.EventType.ModelContentChanged2),e.call(this,t),this._shouldSimplifyMode=i.length>n.MODEL_SYNC_LIMIT,this._shouldDenyMode=i.length>n.MODEL_TOKENIZATION_LIMIT,this._options=new s.TextModelResolvedOptions(i.options),this._constructLines(i),this._setVersionId(1),this._isDisposed=!1,this._isDisposing=!1}return d(n,e),n.prototype._assertNotDisposed=function(){if(this._isDisposed)throw new Error("Model is disposed!")},n.prototype.isTooLargeForHavingAMode=function(){return this._assertNotDisposed(),this._shouldDenyMode},n.prototype.isTooLargeForHavingARichMode=function(){return this._assertNotDisposed(),this._shouldSimplifyMode},n.prototype.getOptions=function(){return this._assertNotDisposed(),this._options},n.prototype.updateOptions=function(e){this._assertNotDisposed();var t="undefined"!=typeof e.tabSize?e.tabSize:this._options.tabSize,n="undefined"!=typeof e.insertSpaces?e.insertSpaces:this._options.insertSpaces,i="undefined"!=typeof e.trimAutoWhitespace?e.trimAutoWhitespace:this._options.trimAutoWhitespace,r=new s.TextModelResolvedOptions({tabSize:t,insertSpaces:n,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:i});if(!this._options.equals(r)){var o=this._options.createChangeEvent(r);if(this._options=r,o.tabSize)for(var a=this._options.tabSize,c=0,u=this._lines.length;c<u;c++)this._lines[c].updateTabSize(a);this.emit(s.EventType.ModelOptionsChanged,o)}},n.prototype.detectIndentation=function(e,t){this._assertNotDisposed();var n=this._lines.map(function(e){return e.text}),i=c.guessIndentation(n,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize})},n._normalizeIndentationFromWhitespace=function(e,t,n){for(var i=0,r=0;r<e.length;r++)"\t"===e.charAt(r)?i+=t:i++;var o="";if(!n){var s=Math.floor(i/t);i%=t;for(var r=0;r<s;r++)o+="\t"}for(var r=0;r<i;r++)o+=" ";return o},n.normalizeIndentation=function(e,t,r){var o=i.firstNonWhitespaceIndex(e);return o===-1&&(o=e.length),n._normalizeIndentationFromWhitespace(e.substring(0,o),t,r)+e.substring(o)},n.prototype.normalizeIndentation=function(e){return this._assertNotDisposed(),n.normalizeIndentation(e,this._options.tabSize,this._options.insertSpaces)},n.prototype.getOneIndent=function(){this._assertNotDisposed();var e=this._options.tabSize,t=this._options.insertSpaces;if(t){for(var n="",i=0;i<e;i++)n+=" ";return n}return"\t"},n.prototype.getVersionId=function(){return this._assertNotDisposed(),this._versionId},n.prototype.mightContainRTL=function(){return this._mightContainRTL},n.prototype.getAlternativeVersionId=function(){return this._assertNotDisposed(),this._alternativeVersionId},n.prototype._ensureLineStarts=function(){if(!this._lineStarts){for(var e=[],t=this._EOL.length,n=0,i=this._lines.length;n<i;n++)e.push(this._lines[n].text.length+t);this._lineStarts=new l.PrefixSumComputer(e)}},n.prototype.getOffsetAt=function(e){this._assertNotDisposed();var t=this._validatePosition(e.lineNumber,e.column,!1);return this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(t.lineNumber-2)+t.column-1},n.prototype.getPositionAt=function(e){this._assertNotDisposed(),e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();var t=this._lineStarts.getIndexOf(e),n=this._lines[t.index].text.length;return new r.Position(t.index+1,Math.min(t.remainder+1,n+1))},n.prototype._increaseVersionId=function(){this._setVersionId(this._versionId+1)},n.prototype._setVersionId=function(e){this._versionId=e,this._alternativeVersionId=this._versionId},n.prototype._overwriteAlternativeVersionId=function(e){this._alternativeVersionId=e},n.prototype.isDisposed=function(){return this._isDisposed},n.prototype.dispose=function(){this._isDisposed=!0,this._lines=null,this._EOL=null,this._BOM=null,e.prototype.dispose.call(this)},n.prototype._createContentChangedFlushEvent=function(){return{changeType:s.EventType.ModelRawContentChangedFlush,detail:this.toRawText(),versionId:this._versionId,isUndoing:!1,isRedoing:!1}},n.prototype._emitContentChanged2=function(e,t,n,i,r,a,c,u){var l={range:new o.Range(e,t,n,i),rangeLength:r,text:a,eol:this._EOL,versionId:this.getVersionId(),isUndoing:c,isRedoing:u};this._isDisposing||this.emit(s.EventType.ModelContentChanged2,l)},n.prototype._resetValue=function(e){this._constructLines(e),this._increaseVersionId()},n.prototype.toRawText=function(){return this._assertNotDisposed(),{BOM:this._BOM,EOL:this._EOL,lines:this.getLinesContent(),length:this.getValueLength(),containsRTL:this._mightContainRTL,options:this._options}},n.prototype.equals=function(e){if(this._assertNotDisposed(),this._BOM!==e.BOM)return!1;if(this._EOL!==e.EOL)return!1;if(this._lines.length!==e.lines.length)return!1;for(var t=0,n=this._lines.length;t<n;t++)if(this._lines[t].text!==e.lines[t])return!1;return!0},n.prototype.setValue=function(e){if(this._assertNotDisposed(),null!==e){var t=null;t=n.toRawText(e,{tabSize:this._options.tabSize,insertSpaces:this._options.insertSpaces,trimAutoWhitespace:this._options.trimAutoWhitespace,detectIndentation:!1,defaultEOL:this._options.defaultEOL}),this.setValueFromRawText(t)}},n.prototype.setValueFromRawText=function(e){if(this._assertNotDisposed(),null!==e){var t=this.getFullModelRange(),n=this.getValueLengthInRange(t),i=this.getLineCount(),r=this.getLineMaxColumn(i);this._resetValue(e),this._emitModelContentChangedFlushEvent(this._createContentChangedFlushEvent()),this._emitContentChanged2(1,1,i,r,n,this.getValue(),!1,!1)}},n.prototype.getValue=function(e,t){void 0===t&&(t=!1),this._assertNotDisposed();var n=this.getFullModelRange(),i=this.getValueInRange(n,e);return t?this._BOM+i:i},n.prototype.getValueLength=function(e,t){void 0===t&&(t=!1),this._assertNotDisposed();var n=this.getFullModelRange(),i=this.getValueLengthInRange(n,e);return t?this._BOM.length+i:i},n.prototype.getEmptiedValueInRange=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=s.EndOfLinePreference.TextDefined),this._assertNotDisposed();var i=this.validateRange(e);if(i.isEmpty())return"";if(i.startLineNumber===i.endLineNumber)return this._repeatCharacter(t,i.endColumn-i.startColumn);var r=this._getEndOfLine(n),o=i.startLineNumber-1,a=i.endLineNumber-1,c=[];c.push(this._repeatCharacter(t,this._lines[o].text.length-i.startColumn+1));for(var u=o+1;u<a;u++)c.push(this._repeatCharacter(t,this._lines[u].text.length));return c.push(this._repeatCharacter(t,i.endColumn-1)),c.join(r)},n.prototype._repeatCharacter=function(e,t){for(var n="",i=0;i<t;i++)n+=e;return n},n.prototype.getValueInRange=function(e,t){
void 0===t&&(t=s.EndOfLinePreference.TextDefined),this._assertNotDisposed();var n=this.validateRange(e);if(n.isEmpty())return"";if(n.startLineNumber===n.endLineNumber)return this._lines[n.startLineNumber-1].text.substring(n.startColumn-1,n.endColumn-1);var i=this._getEndOfLine(t),r=n.startLineNumber-1,o=n.endLineNumber-1,a=[];a.push(this._lines[r].text.substring(n.startColumn-1));for(var c=r+1;c<o;c++)a.push(this._lines[c].text);return a.push(this._lines[o].text.substring(0,n.endColumn-1)),a.join(i)},n.prototype.getValueLengthInRange=function(e,t){void 0===t&&(t=s.EndOfLinePreference.TextDefined),this._assertNotDisposed();var n=this.validateRange(e);if(n.isEmpty())return 0;if(n.startLineNumber===n.endLineNumber)return n.endColumn-n.startColumn;var i=this.getOffsetAt(new r.Position(n.startLineNumber,n.startColumn)),o=this.getOffsetAt(new r.Position(n.endLineNumber,n.endColumn));return o-i},n.prototype.isDominatedByLongLines=function(){this._assertNotDisposed();var e,n,i,r=0,o=0,s=this._lines;for(e=0,n=this._lines.length;e<n;e++)i=s[e].text.length,i>=t.LONG_LINE_BOUNDARY?o+=i:r+=i;return o>r},n.prototype.getLineCount=function(){return this._assertNotDisposed(),this._lines.length},n.prototype.getLineContent=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._lines[e-1].text},n.prototype.getIndentLevel=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._lines[e-1].getIndentLevel()},n.prototype._resetIndentRanges=function(){this._indentRanges=null},n.prototype._getIndentRanges=function(){return this._indentRanges||(this._indentRanges=h.computeRanges(this)),this._indentRanges},n.prototype.getIndentRanges=function(){this._assertNotDisposed();var e=this._getIndentRanges();return h.IndentRange.deepCloneArr(e)},n.prototype._toValidLineIndentGuide=function(e,t){var n=this._lines[e-1].getIndentLevel();if(n===-1)return t;var i=Math.ceil(n/this._options.tabSize);return Math.min(i,t)},n.prototype.getLineIndentGuide=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");for(var t=this._getIndentRanges(),n=t.length-1;n>=0;n--){var i=t[n];if(i.startLineNumber===e)return this._toValidLineIndentGuide(e,Math.ceil(i.indent/this._options.tabSize));if(i.startLineNumber<e&&e<=i.endLineNumber)return this._toValidLineIndentGuide(e,1+Math.floor(i.indent/this._options.tabSize));if(i.endLineNumber+1===e){for(var r=i.indent;n>0;)n--,i=t[n],i.endLineNumber+1===e&&(r=i.indent);return this._toValidLineIndentGuide(e,Math.ceil(r/this._options.tabSize))}}return 0},n.prototype.getLinesContent=function(){this._assertNotDisposed();for(var e=[],t=0,n=this._lines.length;t<n;t++)e[t]=this._lines[t].text;return e},n.prototype.getEOL=function(){return this._assertNotDisposed(),this._EOL},n.prototype.setEOL=function(e){this._assertNotDisposed();var t=e===s.EndOfLineSequence.CRLF?"\r\n":"\n";if(this._EOL!==t){var n=this.getFullModelRange(),i=this.getValueLengthInRange(n),r=this.getLineCount(),o=this.getLineMaxColumn(r);this._EOL=t,this._lineStarts=null,this._increaseVersionId(),this._emitModelContentChangedFlushEvent(this._createContentChangedFlushEvent()),this._emitContentChanged2(1,1,r,o,i,this.getValue(),!1,!1)}},n.prototype.getLineMinColumn=function(e){return this._assertNotDisposed(),1},n.prototype.getLineMaxColumn=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._lines[e-1].text.length+1},n.prototype.getLineFirstNonWhitespaceColumn=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");var t=i.firstNonWhitespaceIndex(this._lines[e-1].text);return t===-1?0:t+1},n.prototype.getLineLastNonWhitespaceColumn=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");var t=i.lastNonWhitespaceIndex(this._lines[e-1].text);return t===-1?0:t+2},n.prototype.validateLineNumber=function(e){return this._assertNotDisposed(),e<1&&(e=1),e>this._lines.length&&(e=this._lines.length),e},n.prototype._validatePosition=function(e,t,n){var o=Math.floor("number"==typeof e?e:1),s=Math.floor("number"==typeof t?t:1);if(o<1)return new r.Position(1,1);if(o>this._lines.length)return new r.Position(this._lines.length,this.getLineMaxColumn(this._lines.length));if(s<=1)return new r.Position(o,1);var a=this.getLineMaxColumn(o);if(s>=a)return new r.Position(o,a);if(n){var c=this._lines[o-1].text.charCodeAt(s-2);if(i.isHighSurrogate(c))return new r.Position(o,s-1)}return new r.Position(o,s)},n.prototype.validatePosition=function(e){return this._assertNotDisposed(),this._validatePosition(e.lineNumber,e.column,!0)},n.prototype.validateRange=function(e){this._assertNotDisposed();var t=this._validatePosition(e.startLineNumber,e.startColumn,!1),n=this._validatePosition(e.endLineNumber,e.endColumn,!1),r=t.lineNumber,s=t.column,a=n.lineNumber,c=n.column,u=this._lines[r-1].text,l=this._lines[a-1].text,h=s>1?u.charCodeAt(s-2):0,d=c>1&&c<=l.length?l.charCodeAt(c-2):0,p=i.isHighSurrogate(h),f=i.isHighSurrogate(d);return p||f?r===a&&s===c?new o.Range(r,s-1,a,c-1):p&&f?new o.Range(r,s-1,a,c+1):p?new o.Range(r,s-1,a,c):new o.Range(r,s,a,c+1):new o.Range(r,s,a,c)},n.prototype.modifyPosition=function(e,t){return this._assertNotDisposed(),this.getPositionAt(this.getOffsetAt(e)+t)},n.prototype.getFullModelRange=function(){this._assertNotDisposed();var e=this.getLineCount();return new o.Range(1,1,e,this.getLineMaxColumn(e))},n.prototype._emitModelContentChangedFlushEvent=function(e){this._isDisposing||this.emit(s.EventType.ModelRawContentChanged,e)},n.toRawText=function(e,t){for(var n=0,r=-1;(r=e.indexOf("\r",r+1))!==-1;)n++;var o=i.containsRTL(e),a=e.split(/\r\n|\r|\n/),u="";i.startsWithUTF8BOM(a[0])&&(u=i.UTF8_BOM_CHARACTER,a[0]=a[0].substr(1));var l=a.length-1,h="";h=0===l?t.defaultEOL===s.DefaultEndOfLine.LF?"\n":"\r\n":n>l/2?"\r\n":"\n";var d;if(t.detectIndentation){var p=c.guessIndentation(a,t.tabSize,t.insertSpaces);d=new s.TextModelResolvedOptions({tabSize:p.tabSize,insertSpaces:p.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL})}else d=new s.TextModelResolvedOptions({tabSize:t.tabSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL});return{BOM:u,EOL:h,lines:a,length:e.length,containsRTL:o,options:d}},n.prototype._constructLines=function(e){for(var t=e.options.tabSize,n=e.lines,i=[],r=0,o=n.length;r<o;r++)i[r]=new a.ModelLine(r+1,n[r],t);this._BOM=e.BOM,this._mightContainRTL=e.containsRTL,this._EOL=e.EOL,this._lines=i,this._lineStarts=null,this._resetIndentRanges()},n.prototype._getEndOfLine=function(e){switch(e){case s.EndOfLinePreference.LF:return"\n";case s.EndOfLinePreference.CRLF:return"\r\n";case s.EndOfLinePreference.TextDefined:return this.getEOL()}throw new Error("Unknown EOL preference")},n._isMultilineRegexSource=function(e){if(!e||0===e.length)return!1;for(var t=0,n=e.length;t<n;t++){var i=e.charCodeAt(t);if(92===i){if(t++,t>=n)break;var r=e.charCodeAt(t);if(110===r||114===r)return!0}}return!1},n.parseSearchRequest=function(e,t,r,o){if(""===e)return null;var s;s=t?n._isMultilineRegexSource(e):e.indexOf("\n")>=0;var a=null;try{a=i.createRegExp(e,t,{matchCase:r,wholeWord:o,multiline:s,global:!0})}catch(e){return null}return a?a:null},n.prototype.findMatches=function(e,t,i,r,s,a){void 0===a&&(a=p),this._assertNotDisposed();var c=n.parseSearchRequest(e,i,r,s);if(!c)return[];var u;return u=o.Range.isIRange(t)?this.validateRange(t):this.getFullModelRange(),c.multiline?this._doFindMatchesMultiline(u,c,a):this._doFindMatchesLineByLine(u,c,a)},n.prototype._doFindMatchesMultiline=function(e,t,n){for(var i,r=this.getOffsetAt(e.getStartPosition()),s=this.getValueInRange(e),a=[],c=0,u=0,l=0;i=t.exec(s);){var h=r+i.index,d=h+i[0].length;if(c===h&&u===d)return a;var p=this.getPositionAt(h),f=this.getPositionAt(d);if(a[l++]=new o.Range(p.lineNumber,p.column,f.lineNumber,f.column),l>=n)return a;c=h,u=d}return a},n.prototype._doFindMatchesLineByLine=function(e,t,n){var i,r=[],o=0;if(e.startLineNumber===e.endLineNumber)return i=this._lines[e.startLineNumber-1].text.substring(e.startColumn-1,e.endColumn-1),o=this._findMatchesInLine(t,i,e.startLineNumber,e.startColumn-1,o,r,n),r;i=this._lines[e.startLineNumber-1].text.substring(e.startColumn-1),o=this._findMatchesInLine(t,i,e.startLineNumber,e.startColumn-1,o,r,n);for(var s=e.startLineNumber+1;s<e.endLineNumber&&o<n;s++)o=this._findMatchesInLine(t,this._lines[s-1].text,s,0,o,r,n);return o<n&&(i=this._lines[e.endLineNumber-1].text.substring(0,e.endColumn-1),o=this._findMatchesInLine(t,i,e.endLineNumber,0,o,r,n)),r},n.prototype.findNextMatch=function(e,t,i,r,o){this._assertNotDisposed();var s=n.parseSearchRequest(e,i,r,o);if(!s)return null;var a=this.validatePosition(t);return s.multiline?this._doFindNextMatchMultiline(a,s):this._doFindNextMatchLineByLine(a,s)},n.prototype._doFindNextMatchMultiline=function(e,t){var n={lineNumber:e.lineNumber,column:1},i=this.getOffsetAt(n),s=this.getValueInRange(new o.Range(n.lineNumber,n.column,this.getLineCount(),this.getLineMaxColumn(this.getLineCount())));t.lastIndex=e.column-1;var a=t.exec(s);if(a){var c=i+a.index,u=c+a[0].length,l=this.getPositionAt(c),h=this.getPositionAt(u);return new o.Range(l.lineNumber,l.column,h.lineNumber,h.column)}return 1!==e.lineNumber||e.column!==-1?this._doFindNextMatchMultiline(new r.Position(1,1),t):null},n.prototype._doFindNextMatchLineByLine=function(e,t){var n,i,r=this.getLineCount(),o=e.lineNumber;if(n=this._lines[o-1].text,i=this._findFirstMatchInLine(t,n,o,e.column))return i;for(var s=1;s<=r;s++){var a=(o+s-1)%r;if(n=this._lines[a].text,i=this._findFirstMatchInLine(t,n,a+1,1))return i}return null},n.prototype.findPreviousMatch=function(e,t,i,r,o){this._assertNotDisposed();var s=n.parseSearchRequest(e,i,r,o);if(!s)return null;var a=this.validatePosition(t);return s.multiline?this._doFindPreviousMatchMultiline(a,s):this._doFindPreviousMatchLineByLine(a,s)},n.prototype._doFindPreviousMatchMultiline=function(e,t){var n=this._doFindMatchesMultiline(new o.Range(1,1,e.lineNumber,e.column),t,10*p);return n.length>0?n[n.length-1]:e.lineNumber!==this.getLineCount()||e.column!==this.getLineMaxColumn(this.getLineCount())?this._doFindPreviousMatchMultiline(new r.Position(this.getLineCount(),this.getLineMaxColumn(this.getLineCount())),t):null},n.prototype._doFindPreviousMatchLineByLine=function(e,t){var n,i,r=this.getLineCount(),o=e.lineNumber;if(n=this._lines[o-1].text.substring(0,e.column-1),i=this._findLastMatchInLine(t,n,o))return i;for(var s=1;s<=r;s++){var a=(r+o-s-1)%r;if(n=this._lines[a].text,i=this._findLastMatchInLine(t,n,a+1))return i}return null},n.prototype._findFirstMatchInLine=function(e,t,n,i){e.lastIndex=i-1;var r=e.exec(t);return r?new o.Range(n,r.index+1,n,r.index+1+r[0].length):null},n.prototype._findLastMatchInLine=function(e,t,n){for(var i,r=null;i=e.exec(t);){var s=new o.Range(n,i.index+1,n,i.index+1+i[0].length);if(s.equalsRange(r))break;if(r=s,i.index+i[0].length===t.length)break}return r},n.prototype._findMatchesInLine=function(e,t,n,i,r,s,a){var c;e.lastIndex=0;do if(c=e.exec(t)){var u=new o.Range(n,c.index+1+i,n,c.index+1+c[0].length+i);if(u.equalsRange(s[s.length-1]))return r;if(s.push(u),r++,r>=a)return r;if(c.index+c[0].length===t.length)return r}while(c);return r},n.MODEL_SYNC_LIMIT=5242880,n.MODEL_TOKENIZATION_LIMIT=20971520,n.DEFAULT_CREATION_OPTIONS={tabSize:u.DEFAULT_INDENTATION.tabSize,insertSpaces:u.DEFAULT_INDENTATION.insertSpaces,detectIndentation:!1,defaultEOL:s.DefaultEndOfLine.LF,trimAutoWhitespace:u.DEFAULT_TRIM_AUTO_WHITESPACE},n}(n.OrderGuaranteeEventEmitter);t.TextModel=f;var g=function(){function e(){}return e.fromString=function(e,t){return f.toRawText(e,t)},e.fromStringWithModelOptions=function(e,t){var n=t.getOptions();return f.toRawText(e,{tabSize:n.tabSize,insertSpaces:n.insertSpaces,trimAutoWhitespace:n.trimAutoWhitespace,detectIndentation:!1,defaultEOL:n.defaultEOL})},e}();t.RawText=g}),define(l[137],h([1,0,12,10,166,46,15]),function(e,t,n,i,r,o,s){"use strict";var a=function(){function e(e,t,n,i){var r=n.editor;this.tabSize=t.tabSize,this.insertSpaces=t.insertSpaces,this.oneIndent=e,this.pageSize=Math.floor(r.layoutInfo.height/r.fontInfo.lineHeight)-2,this.useTabStops=r.useTabStops,this.wordSeparators=r.wordSeparators,this.autoClosingBrackets=r.autoClosingBrackets,this.autoClosingPairsOpen=i.autoClosingPairsOpen,this.autoClosingPairsClose=i.autoClosingPairsClose,this.surroundingPairs=i.surroundingPairs,this.electricChars=i.electricChars}return e.shouldRecreate=function(e){return e.layoutInfo||e.wordSeparators||e.autoClosingBrackets||e.useTabStops},e.prototype.normalizeIndentation=function(e){return r.TextModel.normalizeIndentation(e,this.tabSize,this.insertSpaces)},e}();t.CursorConfiguration=a;var c=function(){function e(t,n,i,r){this.selectionStart=t,this.selectionStartLeftoverVisibleColumns=n,this.position=i,this.leftoverVisibleColumns=r,this.selection=e._computeSelection(this.selectionStart,this.position)}return e.prototype.equals=function(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)},e.prototype.hasSelection=function(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()},e.prototype.withSelectionStartLeftoverVisibleColumns=function(t){return new e(this.selectionStart,t,this.position,this.leftoverVisibleColumns)},e.prototype.withSelectionStart=function(t){return new e(t,0,this.position,this.leftoverVisibleColumns)},e.prototype.collapse=function(){return new e(new s.Range(this.position.lineNumber,this.position.column,this.position.lineNumber,this.position.column),0,this.position,0)},e.prototype.move=function(t,n,i){return t?new e(this.selectionStart,this.selectionStartLeftoverVisibleColumns,n,i):new e(new s.Range(n.lineNumber,n.column,n.lineNumber,n.column),i,n,i)},e._computeSelection=function(e,t){var n,i,r,s;return e.isEmpty()?(n=e.startLineNumber,i=e.startColumn,r=t.lineNumber,s=t.column):t.isBeforeOrEqual(e.getStartPosition())?(n=e.endLineNumber,i=e.endColumn,r=t.lineNumber,s=t.column):(n=e.startLineNumber,i=e.startColumn,r=t.lineNumber,s=t.column),new o.Selection(n,i,r,s)},e}();t.SingleCursorState=c;var u=function(){function e(e,t){this.command=e,this.shouldPushStackElementBefore=t.shouldPushStackElementBefore,this.shouldPushStackElementAfter=t.shouldPushStackElementAfter,this.isAutoWhitespaceCommand=!1,this.shouldRevealHorizontal=!0,this.cursorPositionChangeReason=i.CursorChangeReason.NotSet,"undefined"!=typeof t.isAutoWhitespaceCommand&&(this.isAutoWhitespaceCommand=t.isAutoWhitespaceCommand),"undefined"!=typeof t.shouldRevealHorizontal&&(this.shouldRevealHorizontal=t.shouldRevealHorizontal),"undefined"!=typeof t.cursorPositionChangeReason&&(this.cursorPositionChangeReason=t.cursorPositionChangeReason)}return e}();t.EditOperationResult=u;var l=function(){function e(){}return e.isLowSurrogate=function(e,t,i){var r=e.getLineContent(t);return!(i<0||i>=r.length)&&n.isLowSurrogate(r.charCodeAt(i))},e.isHighSurrogate=function(e,t,i){var r=e.getLineContent(t);return!(i<0||i>=r.length)&&n.isHighSurrogate(r.charCodeAt(i))},e.isInsideSurrogatePair=function(e,t,n){return this.isHighSurrogate(e,t,n-2)},e.visibleColumnFromColumn=function(e,t,n){var i=e.length;i>t-1&&(i=t-1);for(var r=0,o=0;o<i;o++){var s=e.charCodeAt(o);9===s?r=this.nextTabStop(r,n):r+=1}return r},e.visibleColumnFromColumn2=function(e,t,n){return this.visibleColumnFromColumn(t.getLineContent(n.lineNumber),n.column,e.tabSize)},e.columnFromVisibleColumn=function(e,t,n){if(t<=0)return 1;for(var i=e.length,r=0,o=0;o<i;o++){var s=e.charCodeAt(o),a=void 0;if(a=9===s?this.nextTabStop(r,n):r+1,a>=t){var c=t-r,u=a-t;return u<c?o+2:o+1}r=a}return i+1},e.columnFromVisibleColumn2=function(e,t,n,i){var r=this.columnFromVisibleColumn(t.getLineContent(n),i,e.tabSize),o=t.getLineMinColumn(n);if(r<o)return o;var s=t.getLineMaxColumn(n);return r>s?s:r},e.nextTabStop=function(e,t){return e+t-e%t},e.prevTabStop=function(e,t){return e-1-(e-1)%t},e}();t.CursorColumns=l}),define(l[674],h([1,0,12,137,15,46,105]),function(e,t,n,i,r,o,s){"use strict";var a=function(){function e(e,t){this._opts=t,this._selection=e,this._useLastEditRangeForCursorEndPosition=!1}return e.unshiftIndentCount=function(e,t,n){var r=i.CursorColumns.visibleColumnFromColumn(e,t,n),o=i.CursorColumns.prevTabStop(r,n);return o/n},e.shiftIndentCount=function(e,t,n){var r=i.CursorColumns.visibleColumnFromColumn(e,t,n),o=i.CursorColumns.nextTabStop(r,n);return o/n},e.prototype.getEditOperations=function(t,o){var a=this._selection.startLineNumber,c=this._selection.endLineNumber;1===this._selection.endColumn&&a!==c&&(c-=1);var u,l=this._opts.tabSize,h=this._opts.oneIndent,d=a===c,p=["",h];this._selection.isEmpty()&&/^\s*$/.test(t.getLineContent(a))&&(this._useLastEditRangeForCursorEndPosition=!0);var f=0,g=0;for(u=a;u<=c;u++,f=g){g=0;var v=t.getLineContent(u),m=n.firstNonWhitespaceIndex(v);if((!this._opts.isUnshift||0!==v.length&&0!==m)&&(d||this._opts.isUnshift||0!==v.length)){if(m===-1&&(m=v.length),u>1){var y=i.CursorColumns.visibleColumnFromColumn(v,m+1,l);if(y%l!==0){var b=s.LanguageConfigurationRegistry.getRawEnterActionAtPosition(t,u-1,t.getLineMaxColumn(u-1));if(b){if(g=f,b.appendText)for(var S=0,E=b.appendText.length;S<E&&g<l&&32===b.appendText.charCodeAt(S);S++)g++;b.removeText&&(g=Math.max(0,g-b.removeText));for(var S=0;S<g&&(0!==m&&32===v.charCodeAt(m-1));S++)m--}}}if(!this._opts.isUnshift||0!==m){var _=void 0;_=this._opts.isUnshift?e.unshiftIndentCount(v,m+1,l):e.shiftIndentCount(v,m+1,l);for(var S=p.length;S<=_;S++)p[S]=p[S-1]+h;o.addEditOperation(new r.Range(u,1,u,m+1),p[_])}}}this._selectionId=o.trackSelection(this._selection)},e.prototype.computeCursorState=function(e,t){if(this._useLastEditRangeForCursorEndPosition){var n=t.getInverseEditOperations()[0];return new o.Selection(n.range.endLineNumber,n.range.endColumn,n.range.endLineNumber,n.range.endColumn)}return t.getTrackedSelection(this._selectionId)},e}();t.ShiftCommand=a}),define(l[675],h([1,0,46,44,137]),function(e,t,n,i,r){"use strict";var o=function(){function e(){}return e._columnSelect=function(e,t,o,s,a,c){for(var u=Math.abs(a-o)+1,l=o>a,h=s>c,d=s<c,p=[],f=0;f<u;f++){var g=o+(l?-f:f),v=r.CursorColumns.columnFromVisibleColumn2(e,t,g,s),m=r.CursorColumns.columnFromVisibleColumn2(e,t,g,c),y=r.CursorColumns.visibleColumnFromColumn2(e,t,new i.Position(g,v)),b=r.CursorColumns.visibleColumnFromColumn2(e,t,new i.Position(g,m));if(d){if(y>c)continue;if(b<s)continue}if(h){if(b>s)continue;if(y<c)continue}p.push(new n.Selection(g,v,g,m))}return{viewSelections:p,reversed:l,toLineNumber:a,toVisualColumn:c}},e.columnSelect=function(t,n,i,o,s){var a=r.CursorColumns.visibleColumnFromColumn2(t,n,i);return e._columnSelect(t,n,i.lineNumber,a,o,s)},e.columnSelectLeft=function(e,t,n,i,r){return r>1&&r--,this.columnSelect(e,t,n.selection.getStartPosition(),i,r)},e.columnSelectRight=function(e,t,n,o,s){for(var a=0,c=Math.min(n.position.lineNumber,o),u=Math.max(n.position.lineNumber,o),l=c;l<=u;l++){var h=t.getLineMaxColumn(l),d=r.CursorColumns.visibleColumnFromColumn2(e,t,new i.Position(l,h));a=Math.max(a,d)}return s<a&&s++,this.columnSelect(e,t,n.selection.getStartPosition(),o,s)},e.columnSelectUp=function(e,t,n,i,r,o){var s=i?e.pageSize:1;return r-=s,r<1&&(r=1),this.columnSelect(e,t,n.selection.getStartPosition(),r,o)},e.columnSelectDown=function(e,t,n,i,r,o){var s=i?e.pageSize:1;return r+=s,r>t.getLineCount()&&(r=t.getLineCount()),this.columnSelect(e,t,n.selection.getStartPosition(),r,o)},e}();t.ColumnSelection=o}),define(l[227],h([1,0,137,10,44,15]),function(e,t,n,i,r,o){"use strict";var s=function(){function e(e,t,n){this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=n}return e}();t.CursorPosition=s;var a=function(){function e(e,t,n){this.state=e,this.ensureInEditableRange=t,this.reason=n}return e.fromMove=function(t,n,i,o,s,a,c){return new e(t.move(n,new r.Position(i,o),s),a,c)},e}();t.SingleMoveOperationResult=a;var c=function(){function e(){}return e.left=function(e,t,i,r){return r>t.getLineMinColumn(i)?r-=n.CursorColumns.isLowSurrogate(t,i,r-2)?2:1:i>1&&(i-=1,r=t.getLineMaxColumn(i)),new s(i,r,0)},e.moveLeft=function(t,n,r,o,s){var c,u;if(r.hasSelection()&&!o)c=r.selection.startLineNumber,u=r.selection.startColumn;else{var l=e.left(t,n,r.position.lineNumber,r.position.column-(s-1));c=l.lineNumber,u=l.column}return a.fromMove(r,o,c,u,0,!0,i.CursorChangeReason.Explicit)},e.right=function(e,t,i,r){return r<t.getLineMaxColumn(i)?r+=n.CursorColumns.isHighSurrogate(t,i,r-1)?2:1:i<t.getLineCount()&&(i+=1,r=t.getLineMinColumn(i)),new s(i,r,0)},e.moveRight=function(t,n,r,o,s){var c,u;if(r.hasSelection()&&!o)c=r.selection.endLineNumber,u=r.selection.endColumn;else{var l=e.right(t,n,r.position.lineNumber,r.position.column+(s-1));c=l.lineNumber,u=l.column}return a.fromMove(r,o,c,u,0,!0,i.CursorChangeReason.Explicit)},e.down=function(e,t,i,r,o,a,c){var u=n.CursorColumns.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize)+o;i+=a;var l=t.getLineCount();return i>l?(i=l,c?r=t.getLineMaxColumn(i):(r=Math.min(t.getLineMaxColumn(i),r),n.CursorColumns.isInsideSurrogatePair(t,i,r)&&(r-=1))):(r=n.CursorColumns.columnFromVisibleColumn2(e,t,i,u),n.CursorColumns.isInsideSurrogatePair(t,i,r)&&(r-=1)),o=u-n.CursorColumns.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize),new s(i,r,o)},e.moveDown=function(t,n,r,o,s){var c,u;r.hasSelection()&&!o?(c=r.selection.endLineNumber,u=r.selection.endColumn):(c=r.position.lineNumber,u=r.position.column);var l=e.down(t,n,c,u,r.leftoverVisibleColumns,s,!0);return a.fromMove(r,o,l.lineNumber,l.column,l.leftoverVisibleColumns,!0,i.CursorChangeReason.Explicit)},e.translateDown=function(t,s,c){var u=c.selection,l=e.down(t,s,u.selectionStartLineNumber,u.selectionStartColumn,c.selectionStartLeftoverVisibleColumns,1,!1),h=e.down(t,s,u.positionLineNumber,u.positionColumn,c.leftoverVisibleColumns,1,!1),d=new n.SingleCursorState(new o.Range(l.lineNumber,l.column,l.lineNumber,l.column),l.leftoverVisibleColumns,new r.Position(h.lineNumber,h.column),h.leftoverVisibleColumns);return new a(d,(!0),i.CursorChangeReason.Explicit)},e.up=function(e,t,i,r,o,a,c){var u=n.CursorColumns.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize)+o;return i-=a,i<1?(i=1,c?r=t.getLineMinColumn(i):(r=Math.min(t.getLineMaxColumn(i),r),n.CursorColumns.isInsideSurrogatePair(t,i,r)&&(r-=1))):(r=n.CursorColumns.columnFromVisibleColumn2(e,t,i,u),n.CursorColumns.isInsideSurrogatePair(t,i,r)&&(r-=1)),o=u-n.CursorColumns.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize),new s(i,r,o)},e.moveUp=function(t,n,r,o,s){var c,u;r.hasSelection()&&!o?(c=r.selection.startLineNumber,u=r.selection.startColumn):(c=r.position.lineNumber,u=r.position.column);var l=e.up(t,n,c,u,r.leftoverVisibleColumns,s,!0);return a.fromMove(r,o,l.lineNumber,l.column,l.leftoverVisibleColumns,!0,i.CursorChangeReason.Explicit)},e.translateUp=function(t,s,c){var u=c.selection,l=e.up(t,s,u.selectionStartLineNumber,u.selectionStartColumn,c.selectionStartLeftoverVisibleColumns,1,!1),h=e.up(t,s,u.positionLineNumber,u.positionColumn,c.leftoverVisibleColumns,1,!1),d=new n.SingleCursorState(new o.Range(l.lineNumber,l.column,l.lineNumber,l.column),l.leftoverVisibleColumns,new r.Position(h.lineNumber,h.column),h.leftoverVisibleColumns);return new a(d,(!0),i.CursorChangeReason.Explicit)},e.moveToBeginningOfLine=function(e,t,n,r){var o,s=n.position.lineNumber,c=t.getLineMinColumn(s),u=t.getLineFirstNonWhitespaceColumn(s)||c,l=n.position.column;return o=l===u?c:u,a.fromMove(n,r,s,o,0,!0,i.CursorChangeReason.Explicit)},e.moveToEndOfLine=function(e,t,n,r){var o=n.position.lineNumber,s=t.getLineMaxColumn(o);return a.fromMove(n,r,o,s,0,!0,i.CursorChangeReason.Explicit)},e.moveToBeginningOfBuffer=function(e,t,n,r){return a.fromMove(n,r,1,1,0,!0,i.CursorChangeReason.Explicit)},e.moveToEndOfBuffer=function(e,t,n,r){var o=t.getLineCount(),s=t.getLineMaxColumn(o);return a.fromMove(n,r,o,s,0,!0,i.CursorChangeReason.Explicit)},e}();t.MoveOperations=c}),define(l[329],h([1,0,164,137,15,227,12]),function(e,t,n,i,r,o,s){"use strict";var a=function(){function e(){}return e.deleteRight=function(e,t,s){var a=s.selection;if(a.isEmpty()){var c=s.position,u=o.MoveOperations.right(e,t,c.lineNumber,c.column);a=new r.Range(u.lineNumber,u.column,c.lineNumber,c.column)}if(a.isEmpty())return null;var l=!1;return a.startLineNumber!==a.endLineNumber&&(l=!0),new i.EditOperationResult(new n.ReplaceCommand(a,""),{shouldPushStackElementBefore:l,shouldPushStackElementAfter:!1})},e.deleteAllRight=function(e,t,o){var s=o.selection;if(s.isEmpty()){var a=o.position,c=a.lineNumber,u=a.column,l=t.getLineMaxColumn(c);if(u===l)return null;var h=new r.Range(c,u,c,l);if(!h.isEmpty())return new i.EditOperationResult(new n.ReplaceCommand(h,""),{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1})}return this.deleteRight(e,t,o)},e.autoClosingPairDelete=function(e,t,o){if(!e.autoClosingBrackets)return null;if(!o.selection.isEmpty())return null;var s=o.position,a=t.getLineContent(s.lineNumber),c=a[s.column-2];if(!e.autoClosingPairsOpen.hasOwnProperty(c))return null;var u=a[s.column-1],l=e.autoClosingPairsOpen[c];if(u!==l)return null;var h=new r.Range(s.lineNumber,s.column-1,s.lineNumber,s.column+1);return new i.EditOperationResult(new n.ReplaceCommand(h,""),{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1})},e.deleteLeft=function(e,t,a){var c=this.autoClosingPairDelete(e,t,a);if(c)return c;var u=a.selection;if(u.isEmpty()){var l=a.position;if(e.useTabStops&&l.column>1){var h=t.getLineContent(l.lineNumber),d=s.firstNonWhitespaceIndex(h),p=d===-1?h.length+1:d+1;if(l.column<=p){var f=i.CursorColumns.visibleColumnFromColumn2(e,t,l),g=i.CursorColumns.prevTabStop(f,e.tabSize),v=i.CursorColumns.columnFromVisibleColumn2(e,t,l.lineNumber,g);u=new r.Range(l.lineNumber,v,l.lineNumber,l.column)}else u=new r.Range(l.lineNumber,l.column-1,l.lineNumber,l.column)}else{var m=o.MoveOperations.left(e,t,l.lineNumber,l.column);u=new r.Range(m.lineNumber,m.column,l.lineNumber,l.column)}}if(u.isEmpty())return null;var y=!1;return u.startLineNumber!==u.endLineNumber&&(y=!0),new i.EditOperationResult(new n.ReplaceCommand(u,""),{shouldPushStackElementBefore:y,shouldPushStackElementAfter:!1})},e.cut=function(e,t,o,s){var a=o.selection;if(a.isEmpty()){if(s){var c=o.position,u=void 0,l=void 0,h=void 0,d=void 0;c.lineNumber<t.getLineCount()?(u=c.lineNumber,l=1,h=c.lineNumber+1,d=1):c.lineNumber>1?(u=c.lineNumber-1,l=t.getLineMaxColumn(c.lineNumber-1),h=c.lineNumber,d=t.getLineMaxColumn(c.lineNumber)):(u=c.lineNumber,l=1,h=c.lineNumber,d=t.getLineMaxColumn(c.lineNumber));var p=new r.Range(u,l,h,d);return p.isEmpty()?null:new i.EditOperationResult(new n.ReplaceCommand(p,""),{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}return null}return this.deleteRight(e,t,o)},e}();t.DeleteOperations=a}),define(l[678],h([1,0,7,164,137,15,10,12,674,105,187,876]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";var d=function(){function e(){}return e.indent=function(e,t,n){return new r.EditOperationResult(new c.ShiftCommand(n.selection,{isUnshift:!1,tabSize:e.tabSize,oneIndent:e.oneIndent}),{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0,shouldRevealHorizontal:!1})},e.outdent=function(e,t,n){return new r.EditOperationResult(new c.ShiftCommand(n.selection,{isUnshift:!0,tabSize:e.tabSize,oneIndent:e.oneIndent}),{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0,shouldRevealHorizontal:!1})},e.paste=function(e,t,n,a,c){var u=n.position,l=n.selection;if(c&&a.indexOf("\n")!==a.length-1&&(c=!1),c&&l.startLineNumber!==l.endLineNumber&&(c=!1),c&&l.startColumn===t.getLineMinColumn(l.startLineNumber)&&l.endColumn===t.getLineMaxColumn(l.startLineNumber)&&(c=!1),c){var h=new o.Range(u.lineNumber,1,u.lineNumber,1);return new r.EditOperationResult(new i.ReplaceCommand(h,a),{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0,cursorPositionChangeReason:s.CursorChangeReason.Paste})}return new r.EditOperationResult(new i.ReplaceCommand(l,a),{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0,cursorPositionChangeReason:s.CursorChangeReason.Paste})},e._goodIndentForLine=function(e,t,n){var i=n-1;for(i=n-1;i>=1;i--){var r=t.getLineContent(i),o=a.lastNonWhitespaceIndex(r);if(o>=0)break}if(i<1)return"\t";var s,h=u.LanguageConfigurationRegistry.getEnterActionAtPosition(t,i,t.getLineMaxColumn(i));if(h.enterAction.indentAction===l.IndentAction.Outdent){var d=c.ShiftCommand.unshiftIndentCount(h.indentation,h.indentation.length,e.tabSize);s="";for(var p=0;p<d;p++)s+="\t";s=e.normalizeIndentation(s)}else s=h.indentation;var f=s+h.enterAction.appendText;return 0===f.length?"\t":f},e._replaceJumpToNextIndent=function(e,t,n){var o="",s=n.getStartPosition();if(e.insertSpaces)for(var a=r.CursorColumns.visibleColumnFromColumn2(e,t,s),c=e.tabSize,u=c-a%c,l=0;l<u;l++)o+=" ";else o="\t";return new i.ReplaceCommand(n,o)},e.tab=function(e,t,n){var s=n.selection;if(s.isEmpty()){var c=t.getLineContent(s.startLineNumber);if(/^\s*$/.test(c)){var u=e.normalizeIndentation(this._goodIndentForLine(e,t,s.startLineNumber));if(!a.startsWith(c,u)){var l=new i.ReplaceCommand(new o.Range(s.startLineNumber,1,s.startLineNumber,c.length+1),u);return new r.EditOperationResult(l,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1,isAutoWhitespaceCommand:!0})}}return new r.EditOperationResult(this._replaceJumpToNextIndent(e,t,s),{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1,isAutoWhitespaceCommand:!0})}if(s.startLineNumber===s.endLineNumber){var h=t.getLineMaxColumn(s.startLineNumber);if(1!==s.startColumn||s.endColumn!==h)return new r.EditOperationResult(this._replaceJumpToNextIndent(e,t,s),{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1})}return this.indent(e,t,n)},e.replacePreviousChar=function(e,t,n,s,a){var c=n.position,u=Math.max(1,c.column-a),l=new o.Range(c.lineNumber,u,c.lineNumber,c.column);return new r.EditOperationResult(new i.ReplaceCommand(l,s),{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1})},e.typeCommand=function(e,t,n){return n?new i.ReplaceCommandWithoutChangingPosition(e,t):new i.ReplaceCommand(e,t)},e._enter=function(t,n,o,s){var a,h=u.LanguageConfigurationRegistry.getEnterActionAtPosition(n,s.startLineNumber,s.startColumn),d=h.enterAction,p=h.indentation;if(d.indentAction===l.IndentAction.None)a=e.typeCommand(s,"\n"+t.normalizeIndentation(p+d.appendText),o);else if(d.indentAction===l.IndentAction.Indent)a=e.typeCommand(s,"\n"+t.normalizeIndentation(p+d.appendText),o);else if(d.indentAction===l.IndentAction.IndentOutdent){var f=t.normalizeIndentation(p),g=t.normalizeIndentation(p+d.appendText),v="\n"+g+"\n"+f;a=o?new i.ReplaceCommandWithoutChangingPosition(s,v):new i.ReplaceCommandWithOffsetCursorState(s,v,(-1),g.length-f.length)}else if(d.indentAction===l.IndentAction.Outdent){for(var m=c.ShiftCommand.unshiftIndentCount(p,p.length+1,t.tabSize),y="",b=0;b<m;b++)y+="\t";a=e.typeCommand(s,"\n"+t.normalizeIndentation(y+d.appendText),o)}return new r.EditOperationResult(a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1,isAutoWhitespaceCommand:!0})},e._typeInterceptorEnter=function(t,n,i,r){return"\n"!==r?null:e._enter(t,n,!1,i.selection)},e._typeInterceptorAutoClosingCloseChar=function(e,t,n,s){if(!e.autoClosingBrackets)return null;var a=n.selection;if(!a.isEmpty()||!e.autoClosingPairsClose.hasOwnProperty(s))return null;var c=n.position,u=t.getLineContent(c.lineNumber),l=u.charAt(c.column-1);if(l!==s)return null;var h=new o.Range(c.lineNumber,c.column,c.lineNumber,c.column+1);
return new r.EditOperationResult(new i.ReplaceCommand(h,s),{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1})},e._typeInterceptorAutoClosingOpenChar=function(e,t,o,s){if(!e.autoClosingBrackets)return null;var a=o.selection;if(!a.isEmpty()||!e.autoClosingPairsOpen.hasOwnProperty(s))return null;var c=o.position,l=t.getLineContent(c.lineNumber),h=l.charAt(c.column-1);if(h){var d=!1;for(var p in e.autoClosingPairsClose)if(h===p){d=!0;break}if(!d&&!/\s/.test(h))return null}var f=t.getLineTokens(c.lineNumber,!1),g=!1;try{g=u.LanguageConfigurationRegistry.shouldAutoClosePair(s,f,c.column)}catch(e){n.onUnexpectedError(e)}if(!g)return null;var v=e.autoClosingPairsOpen[s];return new r.EditOperationResult(new i.ReplaceCommandWithOffsetCursorState(a,s+v,0,(-v.length)),{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})},e._typeInterceptorSurroundSelection=function(e,t,n,i){if(!e.autoClosingBrackets)return null;var o=n.selection;if(o.isEmpty()||!e.surroundingPairs.hasOwnProperty(i))return null;for(var s=!0,a=o.startLineNumber;a<=o.endLineNumber;a++)for(var c=t.getLineContent(a),u=a===o.startLineNumber?o.startColumn-1:0,l=a===o.endLineNumber?o.endColumn-1:c.length,d=u;d<l;d++){var p=c.charCodeAt(d);9!==p&&32!==p&&(s=!1,a=o.endLineNumber+1,d=l)}if(s)return null;var f=e.surroundingPairs[i];return new r.EditOperationResult(new h.SurroundSelectionCommand(o,i,f),{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},e._typeInterceptorElectricChar=function(e,t,s,c){if(!e.electricChars.hasOwnProperty(c))return null;var l,h=s.position,d=t.getLineTokens(h.lineNumber,!1);try{l=u.LanguageConfigurationRegistry.onElectricCharacter(c,d,h.column)}catch(e){n.onUnexpectedError(e)}if(!l)return null;if(l.appendText)return new r.EditOperationResult(new i.ReplaceCommandWithOffsetCursorState(s.selection,c+l.appendText,0,(-l.appendText.length)),{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0});if(l.matchOpenBracket){var p=t.findMatchingBracketUp(l.matchOpenBracket,{lineNumber:h.lineNumber,column:h.column});if(p){var f=t.getLineContent(p.startLineNumber),g=a.getLeadingWhitespace(f),v=e.normalizeIndentation(g),m=t.getLineContent(h.lineNumber),y=t.getLineFirstNonWhitespaceColumn(h.lineNumber)||h.column,b=m.substring(y-1,h.column-1),S=v+b+c,E=new o.Range(h.lineNumber,1,h.lineNumber,h.column);return new r.EditOperationResult(new i.ReplaceCommand(E,S),{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null},e.typeWithInterceptors=function(e,t,n,i){var r=null;return r=r||this._typeInterceptorEnter(e,t,n,i),r=r||this._typeInterceptorAutoClosingCloseChar(e,t,n,i),r=r||this._typeInterceptorAutoClosingOpenChar(e,t,n,i),r=r||this._typeInterceptorSurroundSelection(e,t,n,i),r=r||this._typeInterceptorElectricChar(e,t,n,i),r=r||this.typeWithoutInterceptors(e,t,n,i)},e.typeWithoutInterceptors=function(t,n,i,o){return new r.EditOperationResult(e.typeCommand(i.selection,o,!1),{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1})},e.lineInsertBefore=function(e,t,n){var s=n.position.lineNumber;if(1===s)return new r.EditOperationResult(new i.ReplaceCommandWithoutChangingPosition(new o.Range(1,1,1,1),"\n"),{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0});s--;var a=t.getLineMaxColumn(s);return this._enter(e,t,!1,new o.Range(s,a,s,a))},e.lineInsertAfter=function(e,t,n){var i=n.position,r=t.getLineMaxColumn(i.lineNumber);return this._enter(e,t,!1,new o.Range(i.lineNumber,r,i.lineNumber,r))},e.lineBreakInsert=function(e,t,n){return this._enter(e,t,!0,n.selection)},e}();t.TypeOperations=d}),define(l[331],h([1,0,137,44,277,227,10,329,12,15,164]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";function h(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e(n)),t[n]}}!function(e){e[e.None=0]="None",e[e.Regular=1]="Regular",e[e.Separator=2]="Separator"}(t.WordType||(t.WordType={}));var p;t.WordType;!function(e){e[e.Regular=0]="Regular",e[e.Whitespace=1]="Whitespace",e[e.WordSeparator=2]="WordSeparator"}(p||(p={})),function(e){e[e.WordStart=0]="WordStart",e[e.WordEnd=1]="WordEnd"}(t.WordNavigationType||(t.WordNavigationType={}));var f=(t.WordNavigationType,function(e){function t(t){e.call(this,0);for(var n=0,i=t.length;n<i;n++)this.set(t.charCodeAt(n),2);this.set(32,1),this.set(9,1)}return d(t,e),t}(r.CharacterClassifier)),g=h(function(e){return new f(e)}),v=function(){function e(){}return e._createWord=function(e,t,n,i){return{start:n,end:i,wordType:t}},e.findPreviousWordOnLine=function(e,t,n){var i=g(e.wordSeparators),r=t.getLineContent(n.lineNumber);return this._findPreviousWordOnLine(r,i,n)},e._findPreviousWordOnLine=function(e,t,n){for(var i=0,r=n.column-2;r>=0;r--){var o=e.charCodeAt(r),s=t.get(o);if(0===s){if(2===i)return this._createWord(e,i,r+1,this._findEndOfWord(e,t,i,r+1));i=1}else if(2===s){if(1===i)return this._createWord(e,i,r+1,this._findEndOfWord(e,t,i,r+1));i=2}else if(1===s&&0!==i)return this._createWord(e,i,r+1,this._findEndOfWord(e,t,i,r+1))}return 0!==i?this._createWord(e,i,0,this._findEndOfWord(e,t,i,0)):null},e._findEndOfWord=function(e,t,n,i){for(var r=e.length,o=i;o<r;o++){var s=e.charCodeAt(o),a=t.get(s);if(1===a)return o;if(1===n&&2===a)return o;if(2===n&&0===a)return o}return r},e.findNextWordOnLine=function(e,t,n){var i=g(e.wordSeparators),r=t.getLineContent(n.lineNumber);return this._findNextWordOnLine(r,i,n)},e._findNextWordOnLine=function(e,t,n){for(var i=0,r=e.length,o=n.column-1;o<r;o++){var s=e.charCodeAt(o),a=t.get(s);if(0===a){if(2===i)return this._createWord(e,i,this._findStartOfWord(e,t,i,o-1),o);i=1}else if(2===a){if(1===i)return this._createWord(e,i,this._findStartOfWord(e,t,i,o-1),o);i=2}else if(1===a&&0!==i)return this._createWord(e,i,this._findStartOfWord(e,t,i,o-1),o)}return 0!==i?this._createWord(e,i,this._findStartOfWord(e,t,i,r-1),r):null},e._findStartOfWord=function(e,t,n,i){for(var r=i;r>=0;r--){var o=e.charCodeAt(r),s=t.get(o);if(1===s)return r+1;if(1===n&&2===s)return r+1;if(2===n&&0===s)return r+1}return 0},e.moveWordLeft=function(t,n,r,a,c){var u=r.position,l=u.lineNumber,h=u.column;1===h&&l>1&&(l-=1,h=n.getLineMaxColumn(l));var d=e.findPreviousWordOnLine(t,n,new i.Position(l,h));return 0===c?h=d?d.start+1:1:(d&&h<=d.end+1&&(d=e.findPreviousWordOnLine(t,n,new i.Position(l,d.start+1))),h=d?d.end+1:1),o.SingleMoveOperationResult.fromMove(r,a,l,h,0,!0,s.CursorChangeReason.Explicit)},e.moveWordRight=function(t,n,r,a,c){var u=r.position,l=u.lineNumber,h=u.column;h===n.getLineMaxColumn(l)&&l<n.getLineCount()&&(l+=1,h=1);var d=e.findNextWordOnLine(t,n,new i.Position(l,h));return 1===c?h=d?d.end+1:n.getLineMaxColumn(l):(d&&h>=d.start+1&&(d=e.findNextWordOnLine(t,n,new i.Position(l,d.end+1))),h=d?d.start+1:n.getLineMaxColumn(l)),o.SingleMoveOperationResult.fromMove(r,a,l,h,0,!0,s.CursorChangeReason.Explicit)},e._deleteWordLeftWhitespace=function(e,t,i){var r=i.position,o=t.getLineContent(r.lineNumber),s=r.column-2,a=c.lastNonWhitespaceIndex(o,s);if(a+1<s){var h=new u.Range(r.lineNumber,a+2,r.lineNumber,r.column);return new n.EditOperationResult(new l.ReplaceCommand(h,""),{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1})}return null},e.deleteWordLeft=function(t,r,o,s,c){var h=a.DeleteOperations.autoClosingPairDelete(t,r,o);if(h)return h;var d=o.selection;if(d.isEmpty()){var p=o.position,f=p.lineNumber,g=p.column;if(1===f&&1===g)return null;if(s){var v=this._deleteWordLeftWhitespace(t,r,o);if(v)return v}var m=e.findPreviousWordOnLine(t,r,p);0===c?g=m?m.start+1:1:(m&&g<=m.end+1&&(m=e.findPreviousWordOnLine(t,r,new i.Position(f,m.start+1))),g=m?m.end+1:1);var y=new u.Range(f,g,f,p.column);if(!y.isEmpty())return new n.EditOperationResult(new l.ReplaceCommand(y,""),{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1})}return a.DeleteOperations.deleteLeft(t,r,o)},e._findFirstNonWhitespaceChar=function(e,t){for(var n=e.length,i=t;i<n;i++){var r=e.charAt(i);if(" "!==r&&"\t"!==r)return i}return n},e._deleteWordRightWhitespace=function(e,t,i){var r=i.position,o=t.getLineContent(r.lineNumber),s=r.column-1,a=this._findFirstNonWhitespaceChar(o,s);if(s+1<a){var c=new u.Range(r.lineNumber,r.column,r.lineNumber,a+1);return new n.EditOperationResult(new l.ReplaceCommand(c,""),{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1})}return null},e.deleteWordRight=function(t,r,o,s,c){var h=o.selection;if(h.isEmpty()){var d=o.position,p=d.lineNumber,f=d.column,g=r.getLineCount(),v=r.getLineMaxColumn(p);if(p===g&&f===v)return null;if(s){var m=this._deleteWordRightWhitespace(t,r,o);if(m)return m}var y=e.findNextWordOnLine(t,r,d);1===c?y?f=y.end+1:f<v||p===g?f=v:(p++,y=e.findNextWordOnLine(t,r,new i.Position(p,1)),f=y?y.start+1:r.getLineMaxColumn(p)):(y&&f>=y.start+1&&(y=e.findNextWordOnLine(t,r,new i.Position(p,y.end+1))),y?f=y.start+1:f<v||p===g?f=v:(p++,y=e.findNextWordOnLine(t,r,new i.Position(p,1)),f=y?y.start+1:r.getLineMaxColumn(p)));var b=new u.Range(p,f,d.lineNumber,d.column);if(!b.isEmpty())return new n.EditOperationResult(new l.ReplaceCommand(b,""),{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1})}return a.DeleteOperations.deleteRight(t,r,o)},e.word=function(t,r,a,c,l){var h=e.findPreviousWordOnLine(t,r,l),d=h&&1===h.wordType&&h.start<l.column-1&&l.column-1<=h.end,p=e.findNextWordOnLine(t,r,l),f=p&&1===p.wordType&&p.start<l.column-1&&l.column-1<=p.end;if(!c||!a.hasSelection()){var g,v;return d?(g=h.start+1,v=h.end+1):f?(g=p.start+1,v=p.end+1):(g=h?h.end+1:1,v=p?p.start+1:r.getLineMaxColumn(l.lineNumber)),new o.SingleMoveOperationResult(new n.SingleCursorState(new u.Range(l.lineNumber,g,l.lineNumber,v),0,new i.Position(l.lineNumber,v),0),(!1),s.CursorChangeReason.Explicit)}var m,y;d?(m=h.start+1,y=h.end+1):f?(m=p.start+1,y=p.end+1):(m=l.column,y=l.column);var b,S=l.lineNumber;if(l.isBeforeOrEqual(a.selectionStart.getStartPosition())){b=m;var E=new i.Position(S,b);a.selectionStart.containsPosition(E)&&(b=a.selectionStart.endColumn)}else{b=y;var E=new i.Position(S,b);a.selectionStart.containsPosition(E)&&(b=a.selectionStart.startColumn)}return o.SingleMoveOperationResult.fromMove(a,a.hasSelection(),S,b,0,!1,s.CursorChangeReason.Explicit)},e}();t.WordOperations=v}),define(l[333],h([1,0,7,137,44,15,46,10,227,331]),function(e,t,n,i,r,o,s,a,c,u){"use strict";var l=function(){function e(e,t,n,i){this.modelState=e,this.viewState=t,this.ensureInEditableRange=n,this.reason=i}return e}();t.MoveOperationResult=l;var h=function(){function e(e,t,n,s,a){var c=this;this.editorId=e,this.model=t,this.configuration=n,this.modeConfiguration=s,this.viewModelHelper=a,this.viewModel=this.viewModelHelper.viewModel,this._recreateCursorConfig(),this._modelOptionsListener=t.onDidChangeOptions(function(){return c._recreateCursorConfig()}),this._configChangeListener=this.configuration.onDidChange(function(e){i.CursorConfiguration.shouldRecreate(e)&&c._recreateCursorConfig()}),this.bracketDecorations=[],this._setState(new i.SingleCursorState(new o.Range(1,1,1,1),0,new r.Position(1,1),0),new i.SingleCursorState(new o.Range(1,1,1,1),0,new r.Position(1,1),0),!1)}return e.prototype.ensureValidState=function(){this._setState(this.modelState,this.viewState,!1)},e.prototype._recreateCursorConfig=function(){this.config=new i.CursorConfiguration(this.model.getOneIndent(),this.model.getOptions(),this.configuration,this.modeConfiguration)},e.prototype._ensureInEditableRange=function(e){var t=this.model.getEditableRange();return e.lineNumber<t.startLineNumber||e.lineNumber===t.startLineNumber&&e.column<t.startColumn?new r.Position(t.startLineNumber,t.startColumn):e.lineNumber>t.endLineNumber||e.lineNumber===t.endLineNumber&&e.column>t.endColumn?new r.Position(t.endLineNumber,t.endColumn):e},e.prototype._setState=function(e,t,n){var r=this.model.validateRange(e.selectionStart),o=e.selectionStart.equalsRange(r)?e.selectionStartLeftoverVisibleColumns:0,s=this.model.validatePosition(e.position);n&&(s=this._ensureInEditableRange(s));var a=e.position.equals(s)?e.leftoverVisibleColumns:0;e=new i.SingleCursorState(r,o,s,a);var c=this.viewModelHelper.validateViewRange(t.selectionStart,e.selectionStart),u=this.viewModelHelper.validateViewPosition(t.position,e.position);t=new i.SingleCursorState(c,o,u,a),this.modelState&&this.viewState&&this.modelState.equals(e)&&this.viewState.equals(t)||(this.modelState=e,this.viewState=t,this._selStartMarker=this._ensureMarker(this._selStartMarker,this.modelState.selection.startLineNumber,this.modelState.selection.startColumn,!0),this._selEndMarker=this._ensureMarker(this._selEndMarker,this.modelState.selection.endLineNumber,this.modelState.selection.endColumn,!1))},e.prototype._ensureMarker=function(e,t,n,i){return e?(this.model._changeMarker(e,t,n),this.model._changeMarkerStickiness(e,i),e):this.model._addMarker(0,t,n,i)},e.prototype.saveState=function(){return{selectionStart:this.modelState.selectionStart,viewSelectionStart:this.viewState.selectionStart,position:this.modelState.position,viewPosition:this.viewState.position,leftoverVisibleColumns:this.modelState.leftoverVisibleColumns,selectionStartLeftoverVisibleColumns:this.modelState.selectionStartLeftoverVisibleColumns}},e.prototype.restoreState=function(e){var t,n=this.model.validatePosition(e.position);t=e.selectionStart?this.model.validateRange(e.selectionStart):new o.Range(n.lineNumber,n.column,n.lineNumber,n.column);var s,a=this.viewModelHelper.validateViewPosition(new r.Position(e.viewPosition.lineNumber,e.viewPosition.column),n);s=e.viewSelectionStart?this.viewModelHelper.validateViewRange(new o.Range(e.viewSelectionStart.startLineNumber,e.viewSelectionStart.startColumn,e.viewSelectionStart.endLineNumber,e.viewSelectionStart.endColumn),t):this.viewModelHelper.convertModelRangeToViewRange(t),this._setState(new i.SingleCursorState(t,e.selectionStartLeftoverVisibleColumns,n,e.leftoverVisibleColumns),new i.SingleCursorState(s,e.selectionStartLeftoverVisibleColumns,a,e.leftoverVisibleColumns),!1)},e.prototype.updateModeConfiguration=function(e){this.modeConfiguration=e,this._recreateCursorConfig()},e.prototype.duplicate=function(){var t=new e(this.editorId,this.model,this.configuration,this.modeConfiguration,this.viewModelHelper);return t._setState(this.modelState,this.viewState,!1),t},e.prototype.dispose=function(){this._modelOptionsListener.dispose(),this._configChangeListener.dispose(),this.model._removeMarker(this._selStartMarker),this.model._removeMarker(this._selEndMarker),this.bracketDecorations=this.model.deltaDecorations(this.bracketDecorations,[],this.editorId)},e.prototype.adjustBracketDecorations=function(){var e=null,t=this.modelState.selection;t.isEmpty()&&(e=this.model.matchBracket(this.modelState.position));var n=[];if(e){var i={stickiness:a.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"bracket-match"};n.push({range:e[0],options:i}),n.push({range:e[1],options:i})}this.bracketDecorations=this.model.deltaDecorations(this.bracketDecorations,n,this.editorId)},e.prototype.setSelection=function(e,t){void 0===t&&(t=null);var n,s,a=this.model.validatePosition({lineNumber:e.positionLineNumber,column:e.positionColumn}),c=this.model.validatePosition({lineNumber:e.selectionStartLineNumber,column:e.selectionStartColumn});t?(n=this.viewModelHelper.validateViewPosition(new r.Position(t.positionLineNumber,t.positionColumn),a),s=this.viewModelHelper.validateViewPosition(new r.Position(t.selectionStartLineNumber,t.selectionStartColumn),c)):(n=this.viewModelHelper.convertModelPositionToViewPosition(a.lineNumber,a.column),s=this.viewModelHelper.convertModelPositionToViewPosition(c.lineNumber,c.column)),this._setState(new i.SingleCursorState(new o.Range(c.lineNumber,c.column,c.lineNumber,c.column),0,a,0),new i.SingleCursorState(new o.Range(s.lineNumber,s.column,s.lineNumber,s.column),0,n,0),!1)},e.prototype.setSelectionStart=function(e){this._setState(this.modelState.withSelectionStart(e),this.viewState.withSelectionStart(this.viewModelHelper.convertModelRangeToViewRange(e)),!1)},e.prototype.collapseSelection=function(){this._setState(this.modelState.collapse(),this.viewState.collapse(),!1)},e.prototype.moveModelPosition=function(e,t,n,i,r){var o=this.viewModelHelper.convertModelPositionToViewPosition(t,n);this._move(e,t,n,o.lineNumber,o.column,i,r)},e.prototype.moveViewPosition=function(e,t,n,i,r){var o=this.viewModelHelper.convertViewToModelPosition(t,n);this._move(e,o.lineNumber,o.column,t,n,i,r)},e.prototype._move=function(e,t,n,i,o,s,a){this._setState(this.modelState.move(e,new r.Position(t,n),s),this.viewState.move(e,new r.Position(i,o),s),a)},e.prototype.setState=function(e,t,n){this._setState(e,t,n)},e.prototype.beginRecoverSelectionFromMarkers=function(){var e=this.model._getMarker(this._selStartMarker),t=this.model._getMarker(this._selEndMarker);return this.modelState.selection.getDirection()===s.SelectionDirection.LTR?new s.Selection(e.lineNumber,e.column,t.lineNumber,t.column):new s.Selection(t.lineNumber,t.column,e.lineNumber,e.column)},e.prototype.endRecoverSelectionFromMarkers=function(e,t){e.cursorPositionChangeReason=a.CursorChangeReason.RecoverFromMarkers,e.shouldPushStackElementBefore=!0,e.shouldPushStackElementAfter=!0,e.shouldReveal=!1,e.shouldRevealHorizontal=!1;var n=new o.Range(t.selectionStartLineNumber,t.selectionStartColumn,t.selectionStartLineNumber,t.selectionStartColumn),s=new r.Position(t.positionLineNumber,t.positionColumn),c=this.viewModelHelper.convertModelRangeToViewRange(n),u=this.viewModelHelper.convertViewToModelPosition(s.lineNumber,s.column);return this._setState(new i.SingleCursorState(n,0,s,0),new i.SingleCursorState(c,0,u,0),!1),!0},e.prototype.getBracketsDecorations=function(){return this.bracketDecorations},e.prototype.setSelectionStartLeftoverVisibleColumns=function(e){this._setState(this.modelState.withSelectionStartLeftoverVisibleColumns(e),this.viewState.withSelectionStartLeftoverVisibleColumns(e),!1)},e.prototype.validatePosition=function(e){return this.model.validatePosition(e)},e.prototype.validateViewPosition=function(e,t,n){return this.viewModelHelper.validateViewPosition(new r.Position(e,t),n)},e.prototype.convertViewSelectionToModelSelection=function(e){return this.viewModelHelper.convertViewSelectionToModelSelection(e)},e.prototype.convertViewToModelPosition=function(e,t){return this.viewModelHelper.convertViewToModelPosition(e,t)},e.prototype.convertModelPositionToViewPosition=function(e,t){return this.viewModelHelper.convertModelPositionToViewPosition(e,t)},e.prototype.getRangeToRevealModelLinesBeforeViewPortTop=function(e){var t,n=this.viewModelHelper.getCurrentCompletelyVisibleModelLinesRangeInViewport();t=this.model.getLineMinColumn(n.startLineNumber)!==n.startColumn?n.startLineNumber:n.startLineNumber-1,t-=e-1,t=this.model.validateRange({startLineNumber:t,startColumn:1,endLineNumber:t,endColumn:1}).startLineNumber;var i=this.model.getLineMinColumn(t),r=this.model.getLineMaxColumn(n.startLineNumber);return new o.Range(t,i,t,r)},e.prototype.getRangeToRevealModelLinesAfterViewPortBottom=function(e){var t=this.viewModelHelper.getCurrentCompletelyVisibleModelLinesRangeInViewport(),n=t.endLineNumber+(e-1);n=this.model.validateRange({startLineNumber:n,startColumn:1,endLineNumber:n,endColumn:1}).startLineNumber;var i=this.model.getLineMinColumn(n),r=this.model.getLineMaxColumn(n);return new o.Range(n,i,n,r)},e.prototype.getLineFromViewPortTop=function(e){void 0===e&&(e=1);var t=this.viewModelHelper.getCurrentCompletelyVisibleModelLinesRangeInViewport(),n=this.model.getLineMinColumn(t.startLineNumber),i=t.startColumn===n?t.startLineNumber:t.startLineNumber+1;return i=i+e-1,i>t.endLineNumber?t.endLineNumber:i},e.prototype.getCenterLineInViewPort=function(){return Math.round((this.getLineFromViewPortTop()+this.getLineFromViewPortBottom()-1)/2)},e.prototype.getLineFromViewPortBottom=function(e){void 0===e&&(e=1);var t=this.viewModelHelper.getCurrentCompletelyVisibleModelLinesRangeInViewport(),n=t.endLineNumber-(e-1);return n>t.startLineNumber?n:this.getLineFromViewPortTop()},e.prototype.isLastLineVisibleInViewPort=function(){return this.viewModel.getLineCount()<=this.getCompletelyVisibleViewLinesRangeInViewport().getEndPosition().lineNumber},e.prototype.getCompletelyVisibleViewLinesRangeInViewport=function(){return this.viewModelHelper.getCurrentCompletelyVisibleViewLinesRangeInViewport()},e.prototype.getRevealViewLinesRangeInViewport=function(){var e=this.getCompletelyVisibleViewLinesRangeInViewport().cloneRange();return!this.isLastLineVisibleInViewPort()&&e.endLineNumber>e.startLineNumber&&(e=new o.Range(e.startLineNumber,e.startColumn,e.endLineNumber-1,this.viewModel.getLineLastNonWhitespaceColumn(e.endLineNumber-1))),e},e.prototype.getNearestRevealViewPositionInViewport=function(){var e=this.viewState.position,t=this.getRevealViewLinesRangeInViewport();return e.lineNumber<t.startLineNumber?new r.Position(t.startLineNumber,this.viewModel.getLineFirstNonWhitespaceColumn(t.startLineNumber)):e.lineNumber>t.endLineNumber?new r.Position(t.endLineNumber,this.viewModel.getLineFirstNonWhitespaceColumn(t.endLineNumber)):e},e}();t.OneCursor=h;var d=function(){function e(){}return e.jumpToBracket=function(e,t){var n=e.getBracketsDecorations();if(2!==n.length)return!1;var i=e.model.getDecorationRange(n[0]),r=e.model.getDecorationRange(n[1]),o=e.modelState.position;return p.isPositionAtRangeEdges(o,i)||p.isPositionInsideRange(o,i)?(e.moveModelPosition(!1,r.endLineNumber,r.endColumn,0,!1),!0):!(!p.isPositionAtRangeEdges(o,r)&&!p.isPositionInsideRange(o,r))&&(e.moveModelPosition(!1,i.endLineNumber,i.endColumn,0,!1),!0)},e.moveTo=function(e,t,n,i,r,o){var s,c=e.model.validatePosition(n);s=i?e.validateViewPosition(i.lineNumber,i.column,c):e.convertModelPositionToViewPosition(c.lineNumber,c.column);var u="mouse"===r?a.CursorChangeReason.Explicit:a.CursorChangeReason.NotSet;return"api"===r&&(o.shouldRevealVerticalInCenter=!0),u&&(o.cursorPositionChangeReason=u),e.moveViewPosition(t,s.lineNumber,s.column,0,!1),!0},e._getViewHalfLineSize=function(e,t){return Math.round((e.viewModel.getLineMaxColumn(t)-e.viewModel.getLineMinColumn(t))/2)},e.move=function(e,t,i,r){t.to||n.illegalArgument("to");var o,s=!!t.select,c=e.viewState.position,u=c.lineNumber;switch(t.to){case a.CursorMovePosition.Left:return this._moveLeft(e,s,a.CursorMoveByUnit.HalfLine===t.by?this._getViewHalfLineSize(e,u):t.value,r);case a.CursorMovePosition.Right:return this._moveRight(e,s,a.CursorMoveByUnit.HalfLine===t.by?this._getViewHalfLineSize(e,u):t.value,r);case a.CursorMovePosition.Up:return this._moveUp(e,t,r);case a.CursorMovePosition.Down:return this._moveDown(e,t,r);case a.CursorMovePosition.WrappedLineStart:o=e.viewModel.getLineMinColumn(u);break;case a.CursorMovePosition.WrappedLineFirstNonWhitespaceCharacter:o=e.viewModel.getLineFirstNonWhitespaceColumn(u);break;case a.CursorMovePosition.WrappedLineColumnCenter:o=Math.round((e.viewModel.getLineMaxColumn(u)+e.viewModel.getLineMinColumn(u))/2);break;case a.CursorMovePosition.WrappedLineEnd:o=e.viewModel.getLineMaxColumn(u);break;case a.CursorMovePosition.WrappedLineLastNonWhitespaceCharacter:o=e.viewModel.getLineLastNonWhitespaceColumn(u);break;case a.CursorMovePosition.ViewPortTop:u=e.convertModelPositionToViewPosition(e.getLineFromViewPortTop(t.value),1).lineNumber,o=e.viewModel.getLineFirstNonWhitespaceColumn(u);break;case a.CursorMovePosition.ViewPortBottom:u=e.convertModelPositionToViewPosition(e.getLineFromViewPortBottom(t.value),1).lineNumber,o=e.viewModel.getLineFirstNonWhitespaceColumn(u);break;case a.CursorMovePosition.ViewPortCenter:u=e.convertModelPositionToViewPosition(e.getCenterLineInViewPort(),1).lineNumber,o=e.viewModel.getLineFirstNonWhitespaceColumn(u);break;case a.CursorMovePosition.ViewPortIfOutside:var l=e.getNearestRevealViewPositionInViewport();u=l.lineNumber,o=l.column;break;default:return!1}return r.cursorPositionChangeReason=a.CursorChangeReason.Explicit,e.moveViewPosition(s,u,o,0,!0),!0},e._applyMoveOperationResult=function(e,t,n){return t.cursorPositionChangeReason=n.reason,e.setState(n.modelState,n.viewState,n.ensureInEditableRange),!0},e._fromModelCursorState=function(e,t){var n=e.convertModelPositionToViewPosition(t.state.selectionStart.startLineNumber,t.state.selectionStart.startColumn),r=e.convertModelPositionToViewPosition(t.state.selectionStart.endLineNumber,t.state.selectionStart.endColumn),s=new o.Range(n.lineNumber,n.column,r.lineNumber,r.column),a=e.convertModelPositionToViewPosition(t.state.position.lineNumber,t.state.position.column);return new l(t.state,new i.SingleCursorState(s,t.state.selectionStartLeftoverVisibleColumns,a,t.state.leftoverVisibleColumns),t.ensureInEditableRange,t.reason)},e._fromViewCursorState=function(e,t){var n=e.convertViewToModelPosition(t.state.selectionStart.startLineNumber,t.state.selectionStart.startColumn),r=e.convertViewToModelPosition(t.state.selectionStart.endLineNumber,t.state.selectionStart.endColumn),s=new o.Range(n.lineNumber,n.column,r.lineNumber,r.column),a=e.convertViewToModelPosition(t.state.position.lineNumber,t.state.position.column);return new l(new i.SingleCursorState(s,t.state.selectionStartLeftoverVisibleColumns,a,t.state.leftoverVisibleColumns),t.state,t.ensureInEditableRange,t.reason)},e._moveLeft=function(e,t,n,i){return void 0===n&&(n=1),this._applyMoveOperationResult(e,i,this._fromViewCursorState(e,c.MoveOperations.moveLeft(e.config,e.viewModel,e.viewState,t,n)))},e.moveWordLeft=function(e,t,n,i){return this._applyMoveOperationResult(e,i,this._fromModelCursorState(e,u.WordOperations.moveWordLeft(e.config,e.model,e.modelState,t,n)))},e._moveRight=function(e,t,n,i){return void 0===n&&(n=1),this._applyMoveOperationResult(e,i,this._fromViewCursorState(e,c.MoveOperations.moveRight(e.config,e.viewModel,e.viewState,t,n)))},e.moveWordRight=function(e,t,n,i){return this._applyMoveOperationResult(e,i,this._fromModelCursorState(e,u.WordOperations.moveWordRight(e.config,e.model,e.modelState,t,n)))},e._moveDown=function(e,t,n){var i=(t.isPaged?t.pageSize||e.config.pageSize:t.value)||1;return a.CursorMoveByUnit.WrappedLine===t.by?this._moveDownByViewLines(e,t.select,i,n):this._moveDownByModelLines(e,t.select,i,n)},e._moveDownByViewLines=function(e,t,n,i){return this._applyMoveOperationResult(e,i,this._fromViewCursorState(e,c.MoveOperations.moveDown(e.config,e.viewModel,e.viewState,t,n)))},e._moveDownByModelLines=function(e,t,n,i){return this._applyMoveOperationResult(e,i,this._fromModelCursorState(e,c.MoveOperations.moveDown(e.config,e.model,e.modelState,t,n)))},e.translateDown=function(e,t){return this._applyMoveOperationResult(e,t,this._fromViewCursorState(e,c.MoveOperations.translateDown(e.config,e.viewModel,e.viewState)))},e._moveUp=function(e,t,n){var i=(t.isPaged?t.pageSize||e.config.pageSize:t.value)||1;return a.CursorMoveByUnit.WrappedLine===t.by?this._moveUpByViewLines(e,t.select,i,n):this._moveUpByModelLines(e,t.select,i,n)},e._moveUpByViewLines=function(e,t,n,i){return this._applyMoveOperationResult(e,i,this._fromViewCursorState(e,c.MoveOperations.moveUp(e.config,e.viewModel,e.viewState,t,n)))},e._moveUpByModelLines=function(e,t,n,i){return this._applyMoveOperationResult(e,i,this._fromModelCursorState(e,c.MoveOperations.moveUp(e.config,e.model,e.modelState,t,n)))},e.translateUp=function(e,t){return this._applyMoveOperationResult(e,t,this._fromViewCursorState(e,c.MoveOperations.translateUp(e.config,e.viewModel,e.viewState)))},e.moveToBeginningOfLine=function(e,t,n){return this._applyMoveOperationResult(e,n,this._fromViewCursorState(e,c.MoveOperations.moveToBeginningOfLine(e.config,e.viewModel,e.viewState,t)))},e.moveToEndOfLine=function(e,t,n){return this._applyMoveOperationResult(e,n,this._fromViewCursorState(e,c.MoveOperations.moveToEndOfLine(e.config,e.viewModel,e.viewState,t)))},e.expandLineSelection=function(e,t){t.cursorPositionChangeReason=a.CursorChangeReason.Explicit;var n=e.viewState.selection,i=n.startLineNumber,r=n.startColumn,o=n.endLineNumber,s=n.endColumn,u=e.viewModel.getLineMaxColumn(o);if(1!==r||s!==u)r=1,s=u;else{var l=c.MoveOperations.down(e.config,e.viewModel,o,s,0,1,!0);o=l.lineNumber,s=e.viewModel.getLineMaxColumn(o)}return e.moveViewPosition(!1,i,r,0,!0),e.moveViewPosition(!0,o,s,0,!0),!0},e.moveToBeginningOfBuffer=function(e,t,n){return this._applyMoveOperationResult(e,n,this._fromModelCursorState(e,c.MoveOperations.moveToBeginningOfBuffer(e.config,e.model,e.modelState,t)))},e.moveToEndOfBuffer=function(e,t,n){return this._applyMoveOperationResult(e,n,this._fromModelCursorState(e,c.MoveOperations.moveToEndOfBuffer(e.config,e.model,e.modelState,t)))},e.selectAll=function(e,t){var n,i,r,o,s=!0;if(e.model.hasEditableRange()){var a=e.model.getEditableRange(),c=e.modelState.selection;c.equalsRange(a)||(s=!1,n=a.startLineNumber,i=a.startColumn,r=a.endLineNumber,o=a.endColumn)}return s&&(n=1,i=1,r=e.model.getLineCount(),o=e.model.getLineMaxColumn(r)),e.moveModelPosition(!1,n,i,0,!1),e.moveModelPosition(!0,r,o,0,!1),t.shouldReveal=!1,t.shouldRevealHorizontal=!1,!0},e.line=function(e,t,n,i,r){var s=e.validatePosition(n),c=i?e.validateViewPosition(i.lineNumber,i.column,s):e.convertModelPositionToViewPosition(s.lineNumber,s.column);if(r.cursorPositionChangeReason=a.CursorChangeReason.Explicit,r.shouldRevealHorizontal=!1,t&&e.modelState.hasSelection()){var u=e.modelState.selectionStart.getStartPosition().lineNumber;if(s.lineNumber<u)e.moveViewPosition(e.modelState.hasSelection(),c.lineNumber,1,0,!1);else if(s.lineNumber>u){var l=c.lineNumber+1,h=1;l>e.viewModel.getLineCount()&&(l=e.viewModel.getLineCount(),h=e.viewModel.getLineMaxColumn(l)),e.moveViewPosition(e.modelState.hasSelection(),l,h,0,!1)}else{var d=e.modelState.selectionStart.getEndPosition();e.moveModelPosition(e.modelState.hasSelection(),d.lineNumber,d.column,0,!1)}return!0}var p=s.lineNumber+1,f=1;p>e.model.getLineCount()&&(p=e.model.getLineCount(),f=e.model.getLineMaxColumn(p));var g=new o.Range(s.lineNumber,1,p,f);return e.setSelectionStart(g),e.moveModelPosition(e.modelState.hasSelection(),g.endLineNumber,g.endColumn,0,!1),!0},e.word=function(e,t,n,i){return this._applyMoveOperationResult(e,i,this._fromModelCursorState(e,u.WordOperations.word(e.config,e.model,e.modelState,t,n)))},e.cancelSelection=function(e,t){return!!e.modelState.hasSelection()&&(e.collapseSelection(),!0)},e}();t.OneCursorOp=d;var p=function(){function e(){}return e.isPositionInsideRange=function(e,t){return!(e.lineNumber<t.startLineNumber)&&(!(e.lineNumber>t.endLineNumber)&&(!(e.lineNumber===t.startLineNumber&&e.column<t.startColumn)&&!(e.lineNumber===t.endLineNumber&&e.column>t.endColumn)))},e.isPositionAtRangeEdges=function(e,t){return e.lineNumber===t.startLineNumber&&e.column===t.startColumn||e.lineNumber===t.endLineNumber&&e.column===t.endColumn},e}()}),define(l[681],h([1,0,7,333,46,105]),function(e,t,n,i,r,o){"use strict";var s=function(){function e(e,t,n,r){this.editorId=e,this.model=t,this.configuration=n,this.viewModelHelper=r,this.modeConfiguration=this.getModeConfiguration(),this.primaryCursor=new i.OneCursor(this.editorId,this.model,this.configuration,this.modeConfiguration,this.viewModelHelper),this.secondaryCursors=[],this.lastAddedCursorIndex=0}return e.prototype.dispose=function(){this.primaryCursor.dispose(),this.killSecondaryCursors()},e.prototype.ensureValidState=function(){this.primaryCursor.ensureValidState();for(var e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].ensureValidState()},e.prototype.saveState=function(){return{primary:this.primaryCursor.saveState(),secondary:this.secondaryCursors.map(function(e){return e.saveState()})}},e.prototype.restoreState=function(e){this.primaryCursor.restoreState(e.primary),this.killSecondaryCursors();for(var t=0;t<e.secondary.length;t++)this.addSecondaryCursor(null),this.secondaryCursors[t].restoreState(e.secondary[t])},e.prototype.updateMode=function(){var e=this;this.modeConfiguration=this.getModeConfiguration(),this.getAll().forEach(function(t){t.updateModeConfiguration(e.modeConfiguration)})},e.prototype.getAll=function(){
var e=[];return e.push(this.primaryCursor),e=e.concat(this.secondaryCursors)},e.prototype.getPosition=function(e){return 0===e?this.primaryCursor.modelState.position:this.secondaryCursors[e-1].modelState.position},e.prototype.getViewPosition=function(e){return 0===e?this.primaryCursor.viewState.position:this.secondaryCursors[e-1].viewState.position},e.prototype.getPositions=function(){var e=[];e.push(this.primaryCursor.modelState.position);for(var t=0,n=this.secondaryCursors.length;t<n;t++)e.push(this.secondaryCursors[t].modelState.position);return e},e.prototype.getViewPositions=function(){var e=[];e.push(this.primaryCursor.viewState.position);for(var t=0,n=this.secondaryCursors.length;t<n;t++)e.push(this.secondaryCursors[t].viewState.position);return e},e.prototype.getSelection=function(e){return 0===e?this.primaryCursor.modelState.selection:this.secondaryCursors[e-1].modelState.selection},e.prototype.getSelections=function(){var e=[];e.push(this.primaryCursor.modelState.selection);for(var t=0,n=this.secondaryCursors.length;t<n;t++)e.push(this.secondaryCursors[t].modelState.selection);return e},e.prototype.getViewSelections=function(){var e=[];e.push(this.primaryCursor.viewState.selection);for(var t=0,n=this.secondaryCursors.length;t<n;t++)e.push(this.secondaryCursors[t].viewState.selection);return e},e.prototype.setSelections=function(e,t){this.primaryCursor.setSelection(e[0],t?t[0]:null),this._setSecondarySelections(e.slice(1),t?t.slice(1):null)},e.prototype.killSecondaryCursors=function(){return this._setSecondarySelections([],[])>0},e.prototype.normalize=function(){this._mergeCursorsIfNecessary(),this.primaryCursor.adjustBracketDecorations();for(var e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].adjustBracketDecorations()},e.prototype.addSecondaryCursor=function(e){var t=new i.OneCursor(this.editorId,this.model,this.configuration,this.modeConfiguration,this.viewModelHelper);e&&t.setSelection(e),this.secondaryCursors.push(t),this.lastAddedCursorIndex=this.secondaryCursors.length},e.prototype.duplicateCursors=function(){var e=[];e.push(this.primaryCursor.duplicate());for(var t=0,n=this.secondaryCursors.length;t<n;t++)e.push(this.secondaryCursors[t].duplicate());this.secondaryCursors=this.secondaryCursors.concat(e),this.lastAddedCursorIndex=this.secondaryCursors.length},e.prototype.getLastAddedCursor=function(){return 0===this.secondaryCursors.length||0===this.lastAddedCursorIndex?this.primaryCursor:this.secondaryCursors[this.lastAddedCursorIndex-1]},e.prototype._setSecondarySelections=function(e,t){var n=this.secondaryCursors.length,i=e.length,r=i-n;if(n<i)for(var o=i-n,s=0;s<o;s++)this.addSecondaryCursor(null);else if(n>i)for(var a=n-i,s=0;s<a;s++)this._removeSecondaryCursor(this.secondaryCursors.length-1);for(var s=0;s<i;s++)e[s]&&this.secondaryCursors[s].setSelection(e[s],t?t[s]:null);return r},e.prototype._removeSecondaryCursor=function(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(),this.secondaryCursors.splice(e,1)},e.prototype._mergeCursorsIfNecessary=function(){if(0!==this.secondaryCursors.length){for(var e=this.getAll(),t=[],n=0;n<e.length;n++)t.push({index:n,selection:e[n].modelState.selection,viewSelection:e[n].viewState.selection});t.sort(function(e,t){return e.viewSelection.startLineNumber===t.viewSelection.startLineNumber?e.viewSelection.startColumn-t.viewSelection.startColumn:e.viewSelection.startLineNumber-t.viewSelection.startLineNumber});for(var i=0;i<t.length-1;i++){var o=t[i],s=t[i+1],a=o.viewSelection,c=s.viewSelection;if(c.getStartPosition().isBeforeOrEqual(a.getEndPosition())){var u=o.index<s.index?i:i+1,l=o.index<s.index?i+1:i,h=t[l].index,d=t[u].index,p=t[l].selection,f=t[u].selection;if(!p.equalsSelection(f)){var g,v=p.plusRange(f),m=p.selectionStartLineNumber===p.startLineNumber&&p.selectionStartColumn===p.startColumn,y=f.selectionStartLineNumber===f.startLineNumber&&f.selectionStartColumn===f.startColumn;h===this.lastAddedCursorIndex?(g=m,this.lastAddedCursorIndex=d):g=y;var b;b=g?new r.Selection(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn):new r.Selection(v.endLineNumber,v.endColumn,v.startLineNumber,v.startColumn),t[u].selection=b,e[d].setSelection(b)}for(var S=0;S<t.length;S++)t[S].index>h&&t[S].index--;e.splice(h,1),t.splice(l,1),this._removeSecondaryCursor(h-1),i--}}}},e.prototype.getModeConfiguration=function(){var e,t={electricChars:{},autoClosingPairsOpen:{},autoClosingPairsClose:{},surroundingPairs:{}},i=null;try{i=o.LanguageConfigurationRegistry.getElectricCharacters(this.model.getMode().getId())}catch(e){n.onUnexpectedError(e),i=null}if(i)for(e=0;e<i.length;e++)t.electricChars[i[e]]=!0;var r;try{r=o.LanguageConfigurationRegistry.getAutoClosingPairs(this.model.getMode().getId())}catch(e){n.onUnexpectedError(e),r=null}if(r)for(e=0;e<r.length;e++)t.autoClosingPairsOpen[r[e].open]=r[e].close,t.autoClosingPairsClose[r[e].close]=r[e].open;var s;try{s=o.LanguageConfigurationRegistry.getSurroundingPairs(this.model.getMode().getId())}catch(e){n.onUnexpectedError(e),s=null}if(s)for(e=0;e<s.length;e++)t.surroundingPairs[s[e].open]=s[e].close;return t},e}();t.CursorCollection=s}),define(l[682],h([1,0,1173,12,7,42,5,164,681,333,15,46,10,137,105,331,675,329,678]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,g,v,m,y,b){"use strict";var S;!function(e){e[e.Primary=0]="Primary",e[e.TopMost=1]="TopMost",e[e.BottomMost=2]="BottomMost"}(S||(S={}));var E=function(e){function t(t,n,i,r,o){var s=this;e.call(this,[p.EventType.CursorPositionChanged,p.EventType.CursorSelectionChanged,p.EventType.CursorRevealRange,p.EventType.CursorScrollRequest]),this._columnSelectToLineNumber=0,this._columnSelectToVisualColumn=0,this.editorId=t,this.configuration=n,this.model=i,this.viewModelHelper=r,this.enableEmptySelectionClipboard=o,this.cursors=new c.CursorCollection(this.editorId,this.model,this.configuration,this.viewModelHelper),this.cursorUndoStack=[],this.typingListeners={},this._isHandling=!1,this.modelUnbinds=[],this.modelUnbinds.push(this.model.onDidChangeRawContent(function(e){s._onModelContentChanged(e)})),this.modelUnbinds.push(this.model.onDidChangeMode(function(e){s._onModelModeChanged()})),this.modelUnbinds.push(g.LanguageConfigurationRegistry.onDidChange(function(){s._onModelModeChanged()})),this._handlers={},this._registerHandlers()}return d(t,e),t.prototype.dispose=function(){this.modelUnbinds=s.dispose(this.modelUnbinds),this.model=null,this.cursors.dispose(),this.cursors=null,this.configuration=null,this.viewModelHelper=null,e.prototype.dispose.call(this)},t.prototype.saveState=function(){for(var e,t=this.cursors.getSelections(),n=[],i=0;i<t.length;i++)e=t[i],n.push({inSelectionMode:!e.isEmpty(),selectionStart:{lineNumber:e.selectionStartLineNumber,column:e.selectionStartColumn},position:{lineNumber:e.positionLineNumber,column:e.positionColumn}});return n},t.prototype.restoreState=function(e){for(var t,n=this,i=[],r=0;r<e.length;r++){t=e[r];var o=1,s=1;t.position&&t.position.lineNumber&&(o=t.position.lineNumber),t.position&&t.position.column&&(s=t.position.column);var a=o,c=s;t.selectionStart&&t.selectionStart.lineNumber&&(a=t.selectionStart.lineNumber),t.selectionStart&&t.selectionStart.column&&(c=t.selectionStart.column),i.push({selectionStartLineNumber:a,selectionStartColumn:c,positionLineNumber:o,positionColumn:s})}this._onHandler("restoreState",function(e){return n.cursors.setSelections(i),!1},"restoreState",null)},t.prototype.addTypingListener=function(e,t){this.typingListeners.hasOwnProperty(e)||(this.typingListeners[e]=[]),this.typingListeners[e].push(t)},t.prototype.removeTypingListener=function(e,t){if(this.typingListeners.hasOwnProperty(e))for(var n=this.typingListeners[e],i=0;i<n.length;i++)if(n[i]===t)return void n.splice(i,1)},t.prototype._onModelModeChanged=function(){this.cursors.updateMode()},t.prototype._onModelContentChanged=function(e){var t=this;if(e.changeType===p.EventType.ModelRawContentChangedFlush)this.cursors.dispose(),this.cursors=new c.CursorCollection(this.editorId,this.model,this.configuration,this.viewModelHelper),this.emitCursorPositionChanged("model",p.CursorChangeReason.ContentFlush),this.emitCursorSelectionChanged("model",p.CursorChangeReason.ContentFlush);else if(!this._isHandling){var n=this.cursors.getAll().map(function(e){return e.beginRecoverSelectionFromMarkers()});this._onHandler("recoverSelectionFromMarkers",function(e){var i=t._invokeForAll(e,function(e,t,i){return t.endRecoverSelectionFromMarkers(i,n[e])});return e.shouldPushStackElementBefore=!1,e.shouldPushStackElementAfter=!1,i},"modelChange",null)}},t.prototype.getSelection=function(){return this.cursors.getSelection(0)},t.prototype.getSelections=function(){return this.cursors.getSelections()},t.prototype.getPosition=function(){return this.cursors.getPosition(0)},t.prototype.setSelections=function(e,t){var n=this;this._onHandler("setSelections",function(e){return e.shouldReveal=!1,n.cursors.setSelections(t),!1},e,null)},t.prototype._createAndInterpretHandlerCtx=function(e,t,n){var i={cursorPositionChangeReason:p.CursorChangeReason.NotSet,shouldReveal:!0,shouldRevealVerticalInCenter:!1,shouldRevealHorizontal:!0,shouldRevealTarget:0,eventSource:e,eventData:t,executeCommands:[],isAutoWhitespaceCommand:[],hasExecutedCommands:!1,isCursorUndo:!1,shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1,setColumnSelectToLineNumber:0,setColumnSelectToVisualColumn:0};return n(i),this._interpretHandlerContext(i),this.cursors.normalize(),i.hasExecutedCommands},t.prototype._onHandler=function(e,t,n,i){this._isHandling=!0,this.charactersTyped="";var o=!1;try{var s=this.cursors.getSelections(),a=this.cursors.getViewSelections();this.cursors.ensureValidState();var c,u,l,h,d,p,f=this.cursors.saveState(),g=n,v=this._createAndInterpretHandlerCtx(g,i,function(e){o=t(e),c=e.cursorPositionChangeReason,u=e.shouldReveal,d=e.shouldRevealTarget,l=e.shouldRevealVerticalInCenter,h=e.shouldRevealHorizontal,p=e.isCursorUndo});v&&(this.cursorUndoStack=[]);for(var m=0;m<this.charactersTyped.length;m++){var y=this.charactersTyped.charAt(m);if(this.typingListeners.hasOwnProperty(y))for(var b=this.typingListeners[y].slice(0),S=0,E=b.length;S<E;S++)try{b[S]()}catch(e){r.onUnexpectedError(e)}}var _=this.cursors.getSelections(),C=this.cursors.getViewSelections(),w=!1;if(s.length!==_.length)w=!0;else{for(var m=0,I=s.length;!w&&m<I;m++)s[m].equalsSelection(_[m])||(w=!0);for(var m=0,I=a.length;!w&&m<I;m++)a[m].equalsSelection(C[m])||(w=!0)}w&&(v||p||this.cursorUndoStack.push(f),this.cursorUndoStack.length>50&&(this.cursorUndoStack=this.cursorUndoStack.splice(0,this.cursorUndoStack.length-50)),this.emitCursorPositionChanged(g,c),u&&this.revealRange(d,l?1:0,h),this.emitCursorSelectionChanged(g,c))}catch(e){r.onUnexpectedError(e)}return this._isHandling=!1,o},t.prototype._interpretHandlerContext=function(e){e.shouldPushStackElementBefore&&(this.model.pushStackElement(),e.shouldPushStackElementBefore=!1),this._columnSelectToLineNumber=e.setColumnSelectToLineNumber,this._columnSelectToVisualColumn=e.setColumnSelectToVisualColumn,e.hasExecutedCommands=this._internalExecuteCommands(e.executeCommands,e.isAutoWhitespaceCommand)||e.hasExecutedCommands,e.executeCommands=[],e.shouldPushStackElementAfter&&(this.model.pushStackElement(),e.shouldPushStackElementAfter=!1)},t.prototype._interpretCommandResult=function(e){return!!e&&(this.cursors.setSelections(e),!0)},t.prototype._getEditOperationsFromCommand=function(e,t,i,o){var s=this,a=[],c=0,u=function(e,n){e.isEmpty()&&""===n||a.push({identifier:{major:t,minor:c++},range:e,text:n,forceMoveMarkers:!1,isAutoWhitespaceEdit:o})},l=!1,d=function(t,n){var i,r;if(t.isEmpty())if("boolean"==typeof n)i=n,r=n;else{var o=s.model.getLineMaxColumn(t.startLineNumber);t.startColumn===o?(i=!0,r=!0):(i=!1,r=!1)}else t.getDirection()===h.SelectionDirection.LTR?(i=!1,r=!0):(i=!0,r=!1);var a=e.selectionStartMarkers.length;return e.selectionStartMarkers[a]=s.model._addMarker(0,t.selectionStartLineNumber,t.selectionStartColumn,i),e.positionMarkers[a]=s.model._addMarker(0,t.positionLineNumber,t.positionColumn,r),a.toString()},p={addEditOperation:u,trackSelection:d};try{i.getEditOperations(this.model,p)}catch(e){return e.friendlyMessage=n.localize(0,null),r.onUnexpectedError(e),{operations:[],hadTrackedRange:!1}}return{operations:a,hadTrackedRange:l}},t.prototype._getEditOperations=function(e,t,n){for(var i,r,o=[],s=[],a=0;a<t.length;a++)t[a]?(i=this._getEditOperationsFromCommand(e,a,t[a],n[a]),o=o.concat(i.operations),s[a]=i.hadTrackedRange,r=r||s[a]):s[a]=!1;return{operations:o,hadTrackedRanges:s,anyoneHadTrackedRange:r}},t.prototype._getLoserCursorMap=function(e){e=e.slice(0),e.sort(function(e,t){return-l.Range.compareRangesUsingEnds(e.range,t.range)});for(var t,n,i,r={},o=1;o<e.length;o++)if(t=e[o-1],n=e[o],t.range.getStartPosition().isBefore(n.range.getEndPosition())){i=t.identifier.major>n.identifier.major?t.identifier.major:n.identifier.major,r[i.toString()]=!0;for(var s=0;s<e.length;s++)e[s].identifier.major===i&&(e.splice(s,1),s<o&&o--,s--);o>0&&o--}return r},t.prototype._collapseDeleteCommands=function(e,t){if(1!==e.length){var n=e.every(function(e){if(!(e instanceof a.ReplaceCommand))return!1;var t=e;return!(t.getText().length>0)});if(n){var i=e,r=i.map(function(e,t){return{range:i[t].getRange(),order:t}});r.sort(function(e,t){return l.Range.compareRangesUsingStarts(e.range,t.range)});for(var o=r[0],s=1;s<r.length;s++)if(o.range.endLineNumber===r[s].range.startLineNumber&&o.range.endColumn===r[s].range.startColumn){var c=new l.Range(o.range.startLineNumber,o.range.startColumn,r[s].range.endLineNumber,r[s].range.endColumn);o.range=c,i[r[s].order].setRange(c),i[o.order].setRange(c)}else o=r[s]}}},t.prototype._internalExecuteCommands=function(e,t){var n={selectionStartMarkers:[],positionMarkers:[]};this._collapseDeleteCommands(e,t);for(var i=this._innerExecuteCommands(n,e,t),r=0;r<n.selectionStartMarkers.length;r++)this.model._removeMarker(n.selectionStartMarkers[r]),this.model._removeMarker(n.positionMarkers[r]);return i},t.prototype._arrayIsEmpty=function(e){var t,n;for(t=0,n=e.length;t<n;t++)if(e[t])return!1;return!0},t.prototype._innerExecuteCommands=function(e,t,n){var i=this;if(this.configuration.editor.readOnly)return!1;if(this._arrayIsEmpty(t))return!1;var r=this.cursors.getSelections(),o=this._getEditOperations(e,t,n);if(0===o.operations.length&&!o.anyoneHadTrackedRange)return!1;for(var s=o.operations,a=this.model.getEditableRange(),c=a.getStartPosition(),u=a.getEndPosition(),l=0;l<s.length;l++){var d=s[l].range;if(!c.isBeforeOrEqual(d.getStartPosition())||!d.getEndPosition().isBeforeOrEqual(u))return!1}var p=this._getLoserCursorMap(s);if(p.hasOwnProperty("0"))return console.warn("Ignoring commands"),!1;for(var f=[],l=0;l<s.length;l++)p.hasOwnProperty(s[l].identifier.major.toString())||f.push(s[l]);var g,v=this.model.pushEditOperations(r,f,function(n){for(var s=[],a=0;a<r.length;a++)s[a]=[];for(var a=0;a<n.length;a++){var c=n[a];c.identifier&&s[c.identifier.major].push(c)}for(var u=function(e,t){return e.identifier.minor-t.identifier.minor},l=[],a=0;a<r.length;a++)s[a].length>0||o.hadTrackedRanges[a]?(s[a].sort(u),l[a]=t[a].computeCursorState(i.model,{getInverseEditOperations:function(){return s[a]},getTrackedSelection:function(t){var n=parseInt(t,10),r=i.model._getMarker(e.selectionStartMarkers[n]),o=i.model._getMarker(e.positionMarkers[n]);return new h.Selection(r.lineNumber,r.column,o.lineNumber,o.column)}})):l[a]=r[a];return l}),m=[];for(g in p)p.hasOwnProperty(g)&&m.push(parseInt(g,10));m.sort(function(e,t){return t-e});for(var l=0;l<m.length;l++)v.splice(m[l],1);return this._interpretCommandResult(v)},t.prototype.emitCursorPositionChanged=function(e,t){var n=this.cursors.getPositions(),i=n[0],r=n.slice(1),o=this.cursors.getViewPositions(),s=o[0],a=o.slice(1),c=!0;if(this.model.hasEditableRange()){var u=this.model.getEditableRange();u.containsPosition(i)||(c=!1)}var l={position:i,viewPosition:s,secondaryPositions:r,secondaryViewPositions:a,reason:t,source:e,isInEditableRange:c};this.emit(p.EventType.CursorPositionChanged,l)},t.prototype.emitCursorSelectionChanged=function(e,t){var n=this.cursors.getSelections(),i=n[0],r=n.slice(1),o=this.cursors.getViewSelections(),s=o[0],a=o.slice(1),c={selection:i,viewSelection:s,secondarySelections:r,secondaryViewSelections:a,source:e,reason:t};this.emit(p.EventType.CursorSelectionChanged,c)},t.prototype.emitCursorScrollRequest=function(e,t){var n={deltaLines:e,revealCursor:t};this.emit(p.EventType.CursorScrollRequest,n)},t.prototype.revealRange=function(e,t,n){var i=this.cursors.getPositions(),r=this.cursors.getViewPositions(),o=i[0],s=r[0];if(1===e)for(var a=1;a<i.length;a++)i[a].isBefore(o)&&(o=i[a],s=r[a]);else if(2===e)for(var a=1;a<i.length;a++)o.isBeforeOrEqual(i[a])&&(o=i[a],s=r[a]);else if(i.length>1)return;var c=new l.Range(o.lineNumber,o.column,o.lineNumber,o.column),u=new l.Range(s.lineNumber,s.column,s.lineNumber,s.column);this.emitCursorRevealRange(c,u,t,n,!1)},t.prototype.emitCursorRevealRange=function(e,t,n,i,r){var o={range:e,viewRange:t,verticalType:n,revealHorizontal:i,revealCursor:r};this.emit(p.EventType.CursorRevealRange,o)},t.prototype.trigger=function(e,t,n){if(this._handlers.hasOwnProperty(t)){var i=this._handlers[t];this._onHandler(t,i,e,n)}},t.prototype._registerHandlers=function(){var e=this,t=p.Handler;this._handlers[t.JumpToBracket]=function(t){return e._jumpToBracket(t)},this._handlers[t.CursorMove]=function(t){return e._cursorMove(t)},this._handlers[t.MoveTo]=function(t){return e._moveTo(!1,t)},this._handlers[t.MoveToSelect]=function(t){return e._moveTo(!0,t)},this._handlers[t.ColumnSelect]=function(t){return e._columnSelectMouse(t)},this._handlers[t.AddCursorUp]=function(t){return e._addCursorUp(t)},this._handlers[t.AddCursorDown]=function(t){return e._addCursorDown(t)},this._handlers[t.CreateCursor]=function(t){return e._createCursor(t)},this._handlers[t.LastCursorMoveToSelect]=function(t){return e._lastCursorMoveTo(t)},this._handlers[t.CursorLeft]=function(t){return e._moveLeft(!1,t)},this._handlers[t.CursorLeftSelect]=function(t){return e._moveLeft(!0,t)},this._handlers[t.CursorWordLeft]=function(t){return e._moveWordLeft(!1,0,t)},this._handlers[t.CursorWordStartLeft]=function(t){return e._moveWordLeft(!1,0,t)},this._handlers[t.CursorWordEndLeft]=function(t){return e._moveWordLeft(!1,1,t)},this._handlers[t.CursorWordLeftSelect]=function(t){return e._moveWordLeft(!0,0,t)},this._handlers[t.CursorWordStartLeftSelect]=function(t){return e._moveWordLeft(!0,0,t)},this._handlers[t.CursorWordEndLeftSelect]=function(t){return e._moveWordLeft(!0,1,t)},this._handlers[t.CursorRight]=function(t){return e._moveRight(!1,t)},this._handlers[t.CursorRightSelect]=function(t){return e._moveRight(!0,t)},this._handlers[t.CursorWordRight]=function(t){return e._moveWordRight(!1,1,t)},this._handlers[t.CursorWordStartRight]=function(t){return e._moveWordRight(!1,0,t)},this._handlers[t.CursorWordEndRight]=function(t){return e._moveWordRight(!1,1,t)},this._handlers[t.CursorWordRightSelect]=function(t){return e._moveWordRight(!0,1,t)},this._handlers[t.CursorWordStartRightSelect]=function(t){return e._moveWordRight(!0,0,t)},this._handlers[t.CursorWordEndRightSelect]=function(t){return e._moveWordRight(!0,1,t)},this._handlers[t.CursorUp]=function(t){return e._moveUp(!1,!1,t)},this._handlers[t.CursorUpSelect]=function(t){return e._moveUp(!0,!1,t)},this._handlers[t.CursorDown]=function(t){return e._moveDown(!1,!1,t)},this._handlers[t.CursorDownSelect]=function(t){return e._moveDown(!0,!1,t)},this._handlers[t.CursorPageUp]=function(t){return e._moveUp(!1,!0,t)},this._handlers[t.CursorPageUpSelect]=function(t){return e._moveUp(!0,!0,t)},this._handlers[t.CursorPageDown]=function(t){return e._moveDown(!1,!0,t)},this._handlers[t.CursorPageDownSelect]=function(t){return e._moveDown(!0,!0,t)},this._handlers[t.CursorHome]=function(t){return e._moveToBeginningOfLine(!1,t)},this._handlers[t.CursorHomeSelect]=function(t){return e._moveToBeginningOfLine(!0,t)},this._handlers[t.CursorEnd]=function(t){return e._moveToEndOfLine(!1,t)},this._handlers[t.CursorEndSelect]=function(t){return e._moveToEndOfLine(!0,t)},this._handlers[t.CursorTop]=function(t){return e._moveToBeginningOfBuffer(!1,t)},this._handlers[t.CursorTopSelect]=function(t){return e._moveToBeginningOfBuffer(!0,t)},this._handlers[t.CursorBottom]=function(t){return e._moveToEndOfBuffer(!1,t)},this._handlers[t.CursorBottomSelect]=function(t){return e._moveToEndOfBuffer(!0,t)},this._handlers[t.CursorColumnSelectLeft]=function(t){return e._columnSelectLeft(t)},this._handlers[t.CursorColumnSelectRight]=function(t){return e._columnSelectRight(t)},this._handlers[t.CursorColumnSelectUp]=function(t){return e._columnSelectUp(!1,t)},this._handlers[t.CursorColumnSelectPageUp]=function(t){return e._columnSelectUp(!0,t)},this._handlers[t.CursorColumnSelectDown]=function(t){return e._columnSelectDown(!1,t)},this._handlers[t.CursorColumnSelectPageDown]=function(t){return e._columnSelectDown(!0,t)},this._handlers[t.SelectAll]=function(t){return e._selectAll(t)},this._handlers[t.LineSelect]=function(t){return e._line(!1,t)},this._handlers[t.LineSelectDrag]=function(t){return e._line(!0,t)},this._handlers[t.LastCursorLineSelect]=function(t){return e._lastCursorLine(!1,t)},this._handlers[t.LastCursorLineSelectDrag]=function(t){return e._lastCursorLine(!0,t)},this._handlers[t.LineInsertBefore]=function(t){return e._lineInsertBefore(t)},this._handlers[t.LineInsertAfter]=function(t){return e._lineInsertAfter(t)},this._handlers[t.LineBreakInsert]=function(t){return e._lineBreakInsert(t)},this._handlers[t.WordSelect]=function(t){return e._word(!1,t)},this._handlers[t.WordSelectDrag]=function(t){return e._word(!0,t)},this._handlers[t.LastCursorWordSelect]=function(t){return e._lastCursorWord(t)},this._handlers[t.CancelSelection]=function(t){return e._cancelSelection(t)},this._handlers[t.RemoveSecondaryCursors]=function(t){return e._removeSecondaryCursors(t)},this._handlers[t.Type]=function(t){return e._type(t)},this._handlers[t.ReplacePreviousChar]=function(t){return e._replacePreviousChar(t)},this._handlers[t.Tab]=function(t){return e._tab(t)},this._handlers[t.Indent]=function(t){return e._indent(t)},this._handlers[t.Outdent]=function(t){return e._outdent(t)},this._handlers[t.Paste]=function(t){return e._paste(t)},this._handlers[t.EditorScroll]=function(t){return e._editorScroll(t)},this._handlers[t.ScrollLineUp]=function(t){return e._scrollUp(!1,t)},this._handlers[t.ScrollLineDown]=function(t){return e._scrollDown(!1,t)},this._handlers[t.ScrollPageUp]=function(t){return e._scrollUp(!0,t)},this._handlers[t.ScrollPageDown]=function(t){return e._scrollDown(!0,t)},this._handlers[t.DeleteLeft]=function(t){return e._deleteLeft(t)},this._handlers[t.DeleteWordLeft]=function(t){return e._deleteWordLeft(!0,0,t)},this._handlers[t.DeleteWordStartLeft]=function(t){return e._deleteWordLeft(!1,0,t)},this._handlers[t.DeleteWordEndLeft]=function(t){return e._deleteWordLeft(!1,1,t)},this._handlers[t.DeleteRight]=function(t){return e._deleteRight(t)},this._handlers[t.DeleteWordRight]=function(t){return e._deleteWordRight(!0,1,t)},this._handlers[t.DeleteWordStartRight]=function(t){return e._deleteWordRight(!1,0,t)},this._handlers[t.DeleteWordEndRight]=function(t){return e._deleteWordRight(!1,1,t)},this._handlers[t.DeleteAllRight]=function(t){return e._deleteAllRight(t)},this._handlers[t.Cut]=function(t){return e._cut(t)},this._handlers[t.ExpandLineSelection]=function(t){return e._expandLineSelection(t)},this._handlers[t.Undo]=function(t){return e._undo(t)},this._handlers[t.CursorUndo]=function(t){return e._cursorUndo(t)},this._handlers[t.Redo]=function(t){return e._redo(t)},this._handlers[t.ExecuteCommand]=function(t){return e._externalExecuteCommand(t)},this._handlers[t.ExecuteCommands]=function(t){return e._externalExecuteCommands(t)},this._handlers[t.RevealLine]=function(t){return e._revealLine(t)}},t.prototype._invokeForAllSorted=function(e,t,n,i){return void 0===n&&(n=!0),void 0===i&&(i=!0),this._doInvokeForAll(e,!0,t,n,i)},t.prototype._invokeForAll=function(e,t,n,i){return void 0===n&&(n=!0),void 0===i&&(i=!0),this._doInvokeForAll(e,!1,t,n,i)},t.prototype._doInvokeForAll=function(e,t,n,i,r){void 0===i&&(i=!0),void 0===r&&(r=!0);var o=!1,s=this.cursors.getAll();t&&(s=s.sort(function(e,t){return l.Range.compareRangesUsingStarts(e.modelState.selection,t.modelState.selection)}));var a;e.shouldPushStackElementBefore=i,e.shouldPushStackElementAfter=r;for(var c=0;c<s.length;c++)a={cursorPositionChangeReason:p.CursorChangeReason.NotSet,shouldReveal:!0,shouldRevealVerticalInCenter:!1,shouldRevealHorizontal:!0,executeCommand:null,isAutoWhitespaceCommand:!1,shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1},o=n(c,s[c],a)||o,0===c&&(e.cursorPositionChangeReason=a.cursorPositionChangeReason,e.shouldRevealHorizontal=a.shouldRevealHorizontal,e.shouldReveal=a.shouldReveal,e.shouldRevealVerticalInCenter=a.shouldRevealVerticalInCenter),e.shouldPushStackElementBefore=e.shouldPushStackElementBefore||a.shouldPushStackElementBefore,e.shouldPushStackElementAfter=e.shouldPushStackElementAfter||a.shouldPushStackElementAfter,e.executeCommands[c]=a.executeCommand,e.isAutoWhitespaceCommand[c]=a.isAutoWhitespaceCommand;return o},t.prototype._jumpToBracket=function(e){return this.cursors.killSecondaryCursors(),this._invokeForAll(e,function(e,t,n){return u.OneCursorOp.jumpToBracket(t,n)})},t.prototype._moveTo=function(e,t){return this.cursors.killSecondaryCursors(),this._invokeForAll(t,function(n,i,r){return u.OneCursorOp.moveTo(i,e,t.eventData.position,t.eventData.viewPosition,t.eventSource,r)})},t.prototype._cursorMove=function(e){return this._invokeForAll(e,function(t,n,i){return u.OneCursorOp.move(n,e.eventData,e.eventSource,i)})},t.prototype._getColumnSelectToLineNumber=function(){if(!this._columnSelectToLineNumber){var e=this.cursors.getAll()[0],t=e.viewState.position;return t.lineNumber}return this._columnSelectToLineNumber},t.prototype._getColumnSelectToVisualColumn=function(){if(!this._columnSelectToVisualColumn){var e=this.cursors.getAll()[0],t=e.viewState.position;return f.CursorColumns.visibleColumnFromColumn2(e.config,e.viewModel,t)}return this._columnSelectToVisualColumn},t.prototype._columnSelectMouse=function(e){var t,n=this.cursors.getAll()[0],i=n.model.validatePosition(e.eventData.position);t=e.eventData.viewPosition?n.validateViewPosition(e.eventData.viewPosition.lineNumber,e.eventData.viewPosition.column,i):n.convertModelPositionToViewPosition(i.lineNumber,i.column);var r=m.ColumnSelection.columnSelect(n.config,n.viewModel,n.viewState.selection.getStartPosition(),t.lineNumber,e.eventData.mouseColumn-1),o=r.viewSelections.map(function(e){return n.convertViewSelectionToModelSelection(e)});return e.shouldRevealTarget=r.reversed?1:2,e.shouldReveal=!0,e.setColumnSelectToLineNumber=r.toLineNumber,e.setColumnSelectToVisualColumn=r.toVisualColumn,this.cursors.setSelections(o,r.viewSelections),!0},t.prototype._columnSelectOp=function(e,t){var n=this.cursors.getAll()[0],i=t(n,this._getColumnSelectToLineNumber(),this._getColumnSelectToVisualColumn()),r=i.viewSelections.map(function(e){return n.convertViewSelectionToModelSelection(e)});return e.shouldRevealTarget=i.reversed?1:2,e.shouldReveal=!0,e.setColumnSelectToLineNumber=i.toLineNumber,e.setColumnSelectToVisualColumn=i.toVisualColumn,this.cursors.setSelections(r,i.viewSelections),!0},t.prototype._columnSelectLeft=function(e){return this._columnSelectOp(e,function(e,t,n){return m.ColumnSelection.columnSelectLeft(e.config,e.viewModel,e.viewState,t,n)})},t.prototype._columnSelectRight=function(e){return this._columnSelectOp(e,function(e,t,n){return m.ColumnSelection.columnSelectRight(e.config,e.viewModel,e.viewState,t,n)})},t.prototype._columnSelectUp=function(e,t){return this._columnSelectOp(t,function(t,n,i){return m.ColumnSelection.columnSelectUp(t.config,t.viewModel,t.viewState,e,n,i)})},t.prototype._columnSelectDown=function(e,t){return this._columnSelectOp(t,function(t,n,i){return m.ColumnSelection.columnSelectDown(t.config,t.viewModel,t.viewState,e,n,i)})},t.prototype._createCursor=function(e){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;this.cursors.addSecondaryCursor({selectionStartLineNumber:1,selectionStartColumn:1,positionLineNumber:1,positionColumn:1});var t=this.cursors.getLastAddedCursor();return this._invokeForAll(e,function(n,i,r){return i===t&&(e.eventData.wholeLine?u.OneCursorOp.line(i,!1,e.eventData.position,e.eventData.viewPosition,r):u.OneCursorOp.moveTo(i,!1,e.eventData.position,e.eventData.viewPosition,e.eventSource,r))}),e.shouldReveal=!1,e.shouldRevealHorizontal=!1,!0},t.prototype._lastCursorMoveTo=function(e){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;var t=this.cursors.getLastAddedCursor();return this._invokeForAll(e,function(n,i,r){return i===t&&u.OneCursorOp.moveTo(i,!0,e.eventData.position,e.eventData.viewPosition,e.eventSource,r)}),e.shouldReveal=!1,e.shouldRevealHorizontal=!1,!0},t.prototype._addCursorUp=function(e){if(this.configuration.editor.readOnly)return!1;var t=this.cursors.getSelections().length;return this.cursors.duplicateCursors(),e.shouldRevealTarget=1,this._invokeForAll(e,function(e,n,i){return e>=t&&u.OneCursorOp.translateUp(n,i)})},t.prototype._addCursorDown=function(e){if(this.configuration.editor.readOnly)return!1;var t=this.cursors.getSelections().length;return this.cursors.duplicateCursors(),e.shouldRevealTarget=2,this._invokeForAll(e,function(e,n,i){return e>=t&&u.OneCursorOp.translateDown(n,i)})},t.prototype._moveLeft=function(e,t){return t.eventData=t.eventData||{},t.eventData.to=p.CursorMovePosition.Left,t.eventData.select=e,this._cursorMove(t)},t.prototype._moveWordLeft=function(e,t,n){return this._invokeForAll(n,function(n,i,r){return u.OneCursorOp.moveWordLeft(i,e,t,r)})},t.prototype._moveRight=function(e,t){return t.eventData=t.eventData||{},t.eventData.to=p.CursorMovePosition.Right,t.eventData.select=e,this._cursorMove(t)},t.prototype._moveWordRight=function(e,t,n){return this._invokeForAll(n,function(n,i,r){return u.OneCursorOp.moveWordRight(i,e,t,r)})},t.prototype._moveDown=function(e,t,n){return n.eventData=n.eventData||{},n.eventData.to=p.CursorMovePosition.Down,n.eventData.select=e,n.eventData.by=p.CursorMoveByUnit.WrappedLine,n.eventData.isPaged=t,this._cursorMove(n)},t.prototype._moveUp=function(e,t,n){return n.eventData=n.eventData||{},n.eventData.to=p.CursorMovePosition.Up,n.eventData.select=e,n.eventData.by=p.CursorMoveByUnit.WrappedLine,n.eventData.isPaged=t,this._cursorMove(n)},t.prototype._moveToBeginningOfLine=function(e,t){return this._invokeForAll(t,function(t,n,i){return u.OneCursorOp.moveToBeginningOfLine(n,e,i)})},t.prototype._moveToEndOfLine=function(e,t){return this._invokeForAll(t,function(t,n,i){return u.OneCursorOp.moveToEndOfLine(n,e,i)})},t.prototype._moveToBeginningOfBuffer=function(e,t){return this._invokeForAll(t,function(t,n,i){return u.OneCursorOp.moveToBeginningOfBuffer(n,e,i)})},t.prototype._moveToEndOfBuffer=function(e,t){return this._invokeForAll(t,function(t,n,i){return u.OneCursorOp.moveToEndOfBuffer(n,e,i)})},t.prototype._selectAll=function(e){return this.cursors.killSecondaryCursors(),this._invokeForAll(e,function(e,t,n){return u.OneCursorOp.selectAll(t,n)})},t.prototype._line=function(e,t){return this.cursors.killSecondaryCursors(),this._invokeForAll(t,function(n,i,r){return u.OneCursorOp.line(i,e,t.eventData.position,t.eventData.viewPosition,r)})},t.prototype._lastCursorLine=function(e,t){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;var n=this.cursors.getLastAddedCursor();return this._invokeForAll(t,function(i,r,o){return r===n&&u.OneCursorOp.line(r,e,t.eventData.position,t.eventData.viewPosition,o)}),t.shouldReveal=!1,t.shouldRevealHorizontal=!1,!0},t.prototype._expandLineSelection=function(e){
return this._invokeForAll(e,function(e,t,n){return u.OneCursorOp.expandLineSelection(t,n)})},t.prototype._word=function(e,t){return this.cursors.killSecondaryCursors(),this._invokeForAll(t,function(n,i,r){return u.OneCursorOp.word(i,e,i.validatePosition(t.eventData.position),r)})},t.prototype._lastCursorWord=function(e){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;var t=this.cursors.getLastAddedCursor();return this._invokeForAll(e,function(n,i,r){return i===t&&u.OneCursorOp.word(i,!0,i.validatePosition(e.eventData.position),r)}),e.shouldReveal=!1,e.shouldRevealHorizontal=!1,!0},t.prototype._removeSecondaryCursors=function(e){return this.cursors.killSecondaryCursors(),!0},t.prototype._cancelSelection=function(e){return this._invokeForAll(e,function(e,t,n){return u.OneCursorOp.cancelSelection(t,n)})},t.prototype._doApplyEdit=function(e,t,n,i){var r=i(t,e);return r&&(n.executeCommand=r.command,n.shouldPushStackElementBefore=r.shouldPushStackElementBefore,n.shouldPushStackElementAfter=r.shouldPushStackElementAfter,n.isAutoWhitespaceCommand=r.isAutoWhitespaceCommand,n.shouldRevealHorizontal=r.shouldRevealHorizontal,n.cursorPositionChangeReason=r.cursorPositionChangeReason),!0},t.prototype._applyEditForAll=function(e,t){var n=this;return this._invokeForAll(e,function(e,i,r){return n._doApplyEdit(e,i,r,t)},!1,!1)},t.prototype._applyEditForAllSorted=function(e,t){var n=this;return this._invokeForAllSorted(e,function(e,i,r){return n._doApplyEdit(e,i,r,t)},!1,!1)},t.prototype._lineInsertBefore=function(e){return this._applyEditForAll(e,function(e){return b.TypeOperations.lineInsertBefore(e.config,e.model,e.modelState)})},t.prototype._lineInsertAfter=function(e){return this._applyEditForAll(e,function(e){return b.TypeOperations.lineInsertAfter(e.config,e.model,e.modelState)})},t.prototype._lineBreakInsert=function(e){return this._applyEditForAll(e,function(e){return b.TypeOperations.lineBreakInsert(e.config,e.model,e.modelState)})},t.prototype._type=function(e){var t=this,n=e.eventData.text;if("keyboard"===e.eventSource)for(var r,o=function(o,a){var c,u=n.charCodeAt(o);i.isHighSurrogate(u)&&o+1<a?(c=n.charAt(o)+n.charAt(o+1),o++):c=n.charAt(o),s.charactersTyped+=c,e.hasExecutedCommands=s._createAndInterpretHandlerCtx(e.eventSource,e.eventData,function(n){t._applyEditForAll(n,function(e){return b.TypeOperations.typeWithInterceptors(e.config,e.model,e.modelState,c)}),e.cursorPositionChangeReason=n.cursorPositionChangeReason,e.shouldReveal=n.shouldReveal,e.shouldRevealVerticalInCenter=n.shouldRevealVerticalInCenter,e.shouldRevealHorizontal=n.shouldRevealHorizontal})||e.hasExecutedCommands,r=o},s=this,a=0,c=n.length;a<c;a++)o(a,c),a=r;else this._applyEditForAll(e,function(e){return b.TypeOperations.typeWithoutInterceptors(e.config,e.model,e.modelState,n)});return!0},t.prototype._replacePreviousChar=function(e){var t=e.eventData.text,n=e.eventData.replaceCharCnt;return this._applyEditForAll(e,function(e){return b.TypeOperations.replacePreviousChar(e.config,e.model,e.modelState,t,n)})},t.prototype._tab=function(e){return this._applyEditForAll(e,function(e){return b.TypeOperations.tab(e.config,e.model,e.modelState)})},t.prototype._indent=function(e){return this._applyEditForAll(e,function(e){return b.TypeOperations.indent(e.config,e.model,e.modelState)})},t.prototype._outdent=function(e){return this._applyEditForAll(e,function(e){return b.TypeOperations.outdent(e.config,e.model,e.modelState)})},t.prototype._distributePasteToCursors=function(e){if(e.eventData.pasteOnNewLine)return null;var t=this.cursors.getSelections();if(1===t.length)return null;for(var n=0;n<t.length;n++)if(t[n].startLineNumber!==t[n].endLineNumber)return null;var i=e.eventData.text.split(/\r\n|\r|\n/);return i.length!==t.length?null:i},t.prototype._paste=function(e){var t=this._distributePasteToCursors(e);return t?this._applyEditForAllSorted(e,function(e,n){return b.TypeOperations.paste(e.config,e.model,e.modelState,t[n],!1)}):this._applyEditForAll(e,function(t){return b.TypeOperations.paste(t.config,t.model,t.modelState,e.eventData.text,e.eventData.pasteOnNewLine)})},t.prototype._deleteLeft=function(e){return this._applyEditForAll(e,function(e){return y.DeleteOperations.deleteLeft(e.config,e.model,e.modelState)})},t.prototype._deleteWordLeft=function(e,t,n){return this._applyEditForAll(n,function(n){return v.WordOperations.deleteWordLeft(n.config,n.model,n.modelState,e,t)})},t.prototype._deleteRight=function(e){return this._applyEditForAll(e,function(e){return y.DeleteOperations.deleteRight(e.config,e.model,e.modelState)})},t.prototype._deleteWordRight=function(e,t,n){return this._applyEditForAll(n,function(n){return v.WordOperations.deleteWordRight(n.config,n.model,n.modelState,e,t)})},t.prototype._deleteAllRight=function(e){return this._applyEditForAll(e,function(e){return y.DeleteOperations.deleteAllRight(e.config,e.model,e.modelState)})},t.prototype._cut=function(e){var t=this;return this._applyEditForAll(e,function(e){return y.DeleteOperations.cut(e.config,e.model,e.modelState,t.enableEmptySelectionClipboard)})},t.prototype._revealLine=function(e){var t=e.eventData,n=t.lineNumber+1,i=this.model.validateRange({startLineNumber:n,startColumn:1,endLineNumber:n,endColumn:1});i=new l.Range(i.startLineNumber,i.startColumn,i.endLineNumber,this.model.getLineMaxColumn(i.endLineNumber));var r=0;if(t.at)switch(t.at){case p.RevealLineAtArgument.Top:r=3;break;case p.RevealLineAtArgument.Center:r=1;break;case p.RevealLineAtArgument.Bottom:r=4}return this.emitCursorRevealRange(i,null,r,!1,!1),!0},t.prototype._editorScroll=function(e){var t=e.eventData;switch(t.value=t.value||1,t.to){case p.EditorScrollDirection.Up:case p.EditorScrollDirection.Down:return this._scrollUpOrDown(t,e)}return!0},t.prototype._scrollUpOrDown=function(e,t){if(this._scrollByReveal(e,t))return!0;var n=e.to===p.EditorScrollDirection.Up,i=this.cursors.getAll()[0],r=e.value||1;switch(e.by){case p.EditorScrollByUnit.Page:r=i.config.pageSize*r;break;case p.EditorScrollByUnit.HalfPage:r=Math.round(i.config.pageSize/2)*r}return this.emitCursorScrollRequest((n?-1:1)*r,!!e.revealCursor),!0},t.prototype._scrollByReveal=function(e,t){var n=e.to===p.EditorScrollDirection.Up,i=this.cursors.getAll()[0];if(p.EditorScrollByUnit.Line!==e.by)return!1;if(!n&&i.isLastLineVisibleInViewPort())return!1;var r=n?i.getRangeToRevealModelLinesBeforeViewPortTop(e.value):i.getRangeToRevealModelLinesAfterViewPortBottom(e.value);return this.emitCursorRevealRange(r,null,n?3:4,!1,!0),!0},t.prototype._scrollUp=function(e,t){return t.eventData={to:p.EditorScrollDirection.Up,value:1},t.eventData.by=e?p.EditorScrollByUnit.Page:p.EditorScrollByUnit.WrappedLine,this._editorScroll(t)},t.prototype._scrollDown=function(e,t){return t.eventData={to:p.EditorScrollDirection.Down,value:1},t.eventData.by=e?p.EditorScrollByUnit.Page:p.EditorScrollByUnit.WrappedLine,this._editorScroll(t)},t.prototype._undo=function(e){return e.cursorPositionChangeReason=p.CursorChangeReason.Undo,e.hasExecutedCommands=!0,this._interpretCommandResult(this.model.undo()),!0},t.prototype._cursorUndo=function(e){return 0!==this.cursorUndoStack.length&&(e.cursorPositionChangeReason=p.CursorChangeReason.Undo,e.isCursorUndo=!0,this.cursors.restoreState(this.cursorUndoStack.pop()),!0)},t.prototype._redo=function(e){return e.cursorPositionChangeReason=p.CursorChangeReason.Redo,e.hasExecutedCommands=!0,this._interpretCommandResult(this.model.redo()),!0},t.prototype._externalExecuteCommand=function(e){return this.cursors.killSecondaryCursors(),this._invokeForAll(e,function(t,n,i){return i.shouldPushStackElementBefore=!0,i.shouldPushStackElementAfter=!0,i.executeCommand=e.eventData,!1})},t.prototype._externalExecuteCommands=function(e){return this._invokeForAll(e,function(t,n,i){return i.shouldPushStackElementBefore=!0,i.shouldPushStackElementAfter=!0,i.executeCommand=e.eventData[t],!1})},t}(o.EventEmitter);t.Cursor=E}),define(l[334],h([1,0,1179,7,223,129,10,166,884,49,374,185,204,153,266,105,170,212]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,g,v,m,y){"use strict";var b=function(){function e(e){this._languageId=e}return e.prototype.getId=function(){return this._languageId},e}(),S=function(){function e(){this._ranges=[]}return e.prototype.registerChangedTokens=function(e){var t=this._ranges,n=t.length,i=n>0?t[n-1]:null;i&&i.toLineNumber===e-1?i.toLineNumber++:t[n]={fromLineNumber:e,toLineNumber:e}},e.prototype.build=function(){return 0===this._ranges.length?null:{ranges:this._ranges}},e}(),E=function(e){function t(t,n,i){var r=this;t.push(s.EventType.ModelTokensChanged),t.push(s.EventType.ModelModeChanged),e.call(this,t,n),this._languageId=i||l.NULL_MODE_ID,this._tokenizationListener=u.TokenizationRegistry.onDidChange(function(e){e.languageId===r._languageId&&(r._resetTokenizationState(),r.emitModelTokensChangedEvent({ranges:[{fromLineNumber:1,toLineNumber:r.getLineCount()}]}))}),this._tokensInflatorMap=null,this._invalidLineStartIndex=0,this._lastState=null,this._revalidateTokensTimeout=-1,this._resetTokenizationState()}return d(t,e),t.prototype.dispose=function(){this._tokenizationListener.dispose(),this._clearTimers(),this._lastState=null,this._tokensInflatorMap=null,e.prototype.dispose.call(this)},t.prototype._shouldAutoTokenize=function(){return!1},t.prototype._resetValue=function(t){e.prototype._resetValue.call(this,t),this._resetTokenizationState()},t.prototype._resetTokenizationState=function(){this._clearTimers();for(var e=0;e<this._lines.length;e++)this._lines[e].resetTokenizationState();if(this._tokenizationSupport=null,this.isTooLargeForHavingAMode()||(this._tokenizationSupport=u.TokenizationRegistry.get(this._languageId)),this._tokenizationSupport){var n=null;try{n=this._tokenizationSupport.getInitialState()}catch(e){e.friendlyMessage=t.MODE_TOKENIZATION_FAILED_MSG,i.onUnexpectedError(e),this._tokenizationSupport=null}n&&this._lines[0].setState(n)}this._lastState=null,this._tokensInflatorMap=new g.TokensInflatorMap(this.getModeId()),this._invalidLineStartIndex=0,this._beginBackgroundTokenization()},t.prototype._clearTimers=function(){this._revalidateTokensTimeout!==-1&&(clearTimeout(this._revalidateTokensTimeout),this._revalidateTokensTimeout=-1)},t.prototype._withModelTokensChangedEventBuilder=function(e){var t=new S,n=e(t);if(!this._isDisposing){var i=t.build();i&&this.emit(s.EventType.ModelTokensChanged,i)}return n},t.prototype.getLineTokens=function(e,t){var n=this;if(void 0===t&&(t=!1),e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return t||this._withModelTokensChangedEventBuilder(function(t){n._updateTokensUntilLine(t,e,!0)}),this._lines[e-1].getTokens(this._tokensInflatorMap)},t.prototype.getMode=function(){return new b(this._languageId)},t.prototype.getModeId=function(){return this.getMode().getId()},t.prototype.setMode=function(e){if(this._languageId!==e){var t={oldMode:new b(this._languageId),newMode:new b(e)};this._languageId=e,this._resetTokenizationState(),this.emitModelTokensChangedEvent({ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]}),this._emitModelModeChangedEvent(t)}},t.prototype.getModeIdAtPosition=function(e,t){var n=this;if(!this._tokenizationSupport)return this.getModeId();var i=this.validatePosition({lineNumber:e,column:t}),r=i.lineNumber,o=i.column;this._withModelTokensChangedEventBuilder(function(e){n._updateTokensUntilLine(e,r,!0)});var s=this._lines[r-1].getModeTransitions(this.getModeId()),a=f.ModeTransition.findIndexInSegmentsArray(s,o-1);return s[a].modeId},t.prototype._invalidateLine=function(e){this._lines[e].isInvalid=!0,e<this._invalidLineStartIndex&&(this._invalidLineStartIndex<this._lines.length&&(this._lines[this._invalidLineStartIndex].isInvalid=!0),this._invalidLineStartIndex=e,this._beginBackgroundTokenization())},t.prototype._beginBackgroundTokenization=function(){var e=this;this._shouldAutoTokenize()&&this._revalidateTokensTimeout===-1&&(this._revalidateTokensTimeout=setTimeout(function(){e._revalidateTokensTimeout=-1,e._revalidateTokensNow()},0))},t.prototype._warmUpTokens=function(){for(var e=Math.min(100,this.getLineCount()),t=e,n=1;n<=e;n++){var i=this._lines[n-1].text;if(i.length>=200){t=n-1;break}}this._revalidateTokensNow(t),this._invalidLineStartIndex<this._lines.length&&this._beginBackgroundTokenization()},t.prototype._revalidateTokensNow=function(e){var t=this;void 0===e&&(e=this._invalidLineStartIndex+1e6),this._withModelTokensChangedEventBuilder(function(n){var i=o.start(o.Topic.EDITOR,"backgroundTokenization");e=Math.min(t._lines.length,e);for(var s,a=20,c=t._invalidLineStartIndex+1,u=0,l=0,h=0,d=r.StopWatch.create(!1),p=c;p<=e;p++){if(s=d.elapsed(),s>a){e=p-1;break}if(l=t._lines[p-1].text.length,u>0&&(h=s/u*l,s+h>a)){e=p-1;break}t._updateTokensUntilLine(n,p,!1),u+=l,p=Math.max(p,t._invalidLineStartIndex+1)}s=d.elapsed(),t._invalidLineStartIndex<t._lines.length&&t._beginBackgroundTokenization(),i.stop()})},t.prototype._updateTokensUntilLine=function(e,n,r){if(!this._tokenizationSupport)return void(this._invalidLineStartIndex=this._lines.length);for(var o=this._lines.length,s=n-1,a=1e9,c=this._invalidLineStartIndex;c<=s;c++){var u=c+1,h=null,d=this._lines[c].text;try{h=this._tokenizationSupport.tokenize(this._lines[c].text,this._lines[c].getState(),0,a)}catch(e){e.friendlyMessage=t.MODE_TOKENIZATION_FAILED_MSG,i.onUnexpectedError(e)}if(h&&h.tokens&&h.tokens.length>0&&(h.actualStopOffset=Math.max(h.actualStopOffset,h.tokens[h.tokens.length-1].startIndex+1)),h&&h.actualStopOffset<d.length&&(h.tokens.push(new m.Token(h.actualStopOffset,"")),h.endState=this._lines[c].getState()),h||(h=l.nullTokenize(this.getModeId(),d,this._lines[c].getState())),h.modeTransitions||(h.modeTransitions=[]),0===h.modeTransitions.length&&h.modeTransitions.push(new f.ModeTransition(0,this.getModeId())),this._lines[c].setTokens(this._tokensInflatorMap,h.tokens,h.modeTransitions),e.registerChangedTokens(c+1),this._lines[c].isInvalid=!1,u<o)if(null!==this._lines[u].getState()&&h.endState.equals(this._lines[u].getState())){for(var p=c+1;p<o&&!this._lines[p].isInvalid;){if(p+1<o){if(null===this._lines[p+1].getState())break}else if(null===this._lastState)break;p++}this._invalidLineStartIndex=Math.max(this._invalidLineStartIndex,p),c=p-1}else this._lines[u].setState(h.endState);else this._lastState=h.endState}this._invalidLineStartIndex=Math.max(this._invalidLineStartIndex,s+1)},t.prototype.emitModelTokensChangedEvent=function(e){this._isDisposing||this.emit(s.EventType.ModelTokensChanged,e)},t.prototype._emitModelModeChangedEvent=function(e){this._isDisposing||this.emit(s.EventType.ModelModeChanged,e)},t.prototype.getWordAtPosition=function(e){this._assertNotDisposed();var t=this.validatePosition(e),n=this.getLineContent(t.lineNumber);if(this._invalidLineStartIndex<=t.lineNumber)return y.getWordAtText(t.column,v.LanguageConfigurationRegistry.getWordDefinition(this.getModeId()),n,0);var i=this._lines[t.lineNumber-1].getModeTransitions(this.getModeId()),r=t.column-1,o=f.ModeTransition.findIndexInSegmentsArray(i,r),s=i[o].startIndex,a=o+1<i.length?i[o+1].startIndex:n.length,c=i[o].modeId,u=y.getWordAtText(t.column,v.LanguageConfigurationRegistry.getWordDefinition(c),n.substring(s,a),s);if(!u&&o>0&&i[o].startIndex===r){var l=i[o-1].startIndex,h=i[o-1].modeId;u=y.getWordAtText(t.column,v.LanguageConfigurationRegistry.getWordDefinition(h),n.substring(l,s),l)}return u},t.prototype.getWordUntilPosition=function(e){var t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}},t.prototype.tokenIterator=function(e,t){var n=new c.TokenIterator(this,this.validatePosition(e)),i=t(n);return n._invalidate(),i},t.prototype.findMatchingBracketUp=function(e,t){var n=e.toLowerCase(),i=this.validatePosition(t),r=this._lines[i.lineNumber-1].getModeTransitions(this.getModeId()),o=f.ModeTransition.findIndexInSegmentsArray(r,i.column-1),s=r[o],a=v.LanguageConfigurationRegistry.getBracketsSupport(s.modeId);if(!a)return null;var c=a.textIsBracket[n];return c?this._findMatchingBracketUp(c,i):null},t.prototype.matchBracket=function(e){return this._matchBracket(this.validatePosition(e))},t.prototype._matchBracket=function(e){var t=e.lineNumber,n=this._lines[t-1].getTokens(this._tokensInflatorMap),i=this._lines[t-1].text,r=n.findTokenAtOffset(e.column-1);if(!r)return null;var o=v.LanguageConfigurationRegistry.getBracketsSupport(r.modeId);if(o&&!h.ignoreBracketsInToken(r.standardType)){var s=Math.max(r.startOffset,e.column-1-o.maxBracketLength),a=Math.min(r.endOffset,e.column-1+o.maxBracketLength),c=p.BracketsUtils.findNextBracketInToken(o.forwardRegex,t,i,e.column-1,a);if(c&&c.startColumn===e.column){var u=i.substring(c.startColumn-1,c.endColumn-1);u=u.toLowerCase();var l=this._matchFoundBracket(c,o.textIsBracket[u],o.textIsOpenBracket[u]);if(l)return l}for(;;){var d=p.BracketsUtils.findNextBracketInToken(o.forwardRegex,t,i,s,a);if(!d)break;if(d.startColumn<=e.column&&e.column<=d.endColumn){var u=i.substring(d.startColumn-1,d.endColumn-1);u=u.toLowerCase();var l=this._matchFoundBracket(d,o.textIsBracket[u],o.textIsOpenBracket[u]);if(l)return l}s=d.endColumn-1}}if(r.hasPrev&&r.startOffset===e.column-1){var f=r.prev(),g=v.LanguageConfigurationRegistry.getBracketsSupport(f.modeId);if(g&&!h.ignoreBracketsInToken(f.standardType)){var s=Math.max(f.startOffset,e.column-1-g.maxBracketLength),a=r.startOffset,c=p.BracketsUtils.findPrevBracketInToken(g.reversedRegex,t,i,s,a);if(c&&c.startColumn<=e.column&&e.column<=c.endColumn){var u=i.substring(c.startColumn-1,c.endColumn-1);u=u.toLowerCase();var l=this._matchFoundBracket(c,g.textIsBracket[u],g.textIsOpenBracket[u]);if(l)return l}}}return null},t.prototype._matchFoundBracket=function(e,t,n){if(n){var i=this._findMatchingBracketDown(t,e.getEndPosition());if(i)return[e,i]}else{var i=this._findMatchingBracketUp(t,e.getStartPosition());if(i)return[e,i]}return null},t.prototype._findMatchingBracketUp=function(e,t){for(var n=e.modeId,i=e.reversedRegex,r=-1,o=t.lineNumber;o>=1;o--){var s=this._lines[o-1].getTokens(this._tokensInflatorMap),a=this._lines[o-1].text,c=void 0,u=void 0;for(o===t.lineNumber?(c=s.findTokenAtOffset(t.column-1),u=t.column-1):(c=s.lastToken(),c&&(u=c.endOffset));c;){if(c.modeId===n&&!h.ignoreBracketsInToken(c.standardType))for(;;){var l=p.BracketsUtils.findPrevBracketInToken(i,o,a,c.startOffset,u);if(!l)break;var d=a.substring(l.startColumn-1,l.endColumn-1);if(d=d.toLowerCase(),d===e.open?r++:d===e.close&&r--,0===r)return l;u=l.startColumn-1}c=c.prev(),c&&(u=c.endOffset)}}return null},t.prototype._findMatchingBracketDown=function(e,t){for(var n=e.modeId,i=e.forwardRegex,r=1,o=t.lineNumber,s=this.getLineCount();o<=s;o++){var a=this._lines[o-1].getTokens(this._tokensInflatorMap),c=this._lines[o-1].text,u=void 0,l=void 0;for(o===t.lineNumber?(u=a.findTokenAtOffset(t.column-1),l=t.column-1):(u=a.firstToken(),u&&(l=u.startOffset));u;){if(u.modeId===n&&!h.ignoreBracketsInToken(u.standardType))for(;;){var d=p.BracketsUtils.findNextBracketInToken(i,o,c,l,u.endOffset);if(!d)break;var f=c.substring(d.startColumn-1,d.endColumn-1);if(f=f.toLowerCase(),f===e.open?r++:f===e.close&&r--,0===r)return d;l=d.endColumn-1}u=u.next(),u&&(l=u.startOffset)}}return null},t.prototype.findPrevBracket=function(e){for(var t,n=this.validatePosition(e),i=null,r=n.lineNumber;r>=1;r--){var o=this._lines[r-1].getTokens(this._tokensInflatorMap),s=this._lines[r-1].text,a=void 0,c=void 0;for(r===n.lineNumber?(a=o.findTokenAtOffset(n.column-1),c=n.column-1):(a=o.lastToken(),a&&(c=a.endOffset));a;){if(i!==a.modeId&&(i=a.modeId,t=v.LanguageConfigurationRegistry.getBracketsSupport(i)),t&&!h.ignoreBracketsInToken(a.standardType)){var u=p.BracketsUtils.findPrevBracketInToken(t.reversedRegex,r,s,a.startOffset,c);if(u)return this._toFoundBracket(t,u)}a=a.prev(),a&&(c=a.endOffset)}}return null},t.prototype.findNextBracket=function(e){for(var t,n=this.validatePosition(e),i=null,r=n.lineNumber,o=this.getLineCount();r<=o;r++){var s=this._lines[r-1].getTokens(this._tokensInflatorMap),a=this._lines[r-1].text,c=void 0,u=void 0;for(r===n.lineNumber?(c=s.findTokenAtOffset(n.column-1),u=n.column-1):(c=s.firstToken(),c&&(u=c.startOffset));c;){if(i!==c.modeId&&(i=c.modeId,t=v.LanguageConfigurationRegistry.getBracketsSupport(i)),t&&!h.ignoreBracketsInToken(c.standardType)){var l=p.BracketsUtils.findNextBracketInToken(t.forwardRegex,r,a,u,c.endOffset);if(l)return this._toFoundBracket(t,l)}c=c.next(),c&&(u=c.startOffset)}}return null},t.prototype._toFoundBracket=function(e,t){if(!t)return null;var n=this.getValueInRange(t);n=n.toLowerCase();var i=e.textIsBracket[n];return i?{range:t,open:i.open,close:i.close,isOpen:e.textIsOpenBracket[n]}:null},t.MODE_TOKENIZATION_FAILED_MSG=n.localize(0,null),t}(a.TextModel);t.TextModelWithTokens=E}),define(l[684],h([1,0,189,44,217,334]),function(e,t,n,i,r,o){"use strict";var s=0,a=function(e){function t(t,i,r){e.call(this,t,i,r),this._markerIdGenerator=new n.IdGenerator(++s+";"),this._markerIdToMarker=Object.create(null)}return d(t,e),t.prototype.dispose=function(){this._markerIdToMarker=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t){e.prototype._resetValue.call(this,t),this._markerIdToMarker=Object.create(null)},t.prototype._addMarker=function(e,t,n,o){var s=this.validatePosition(new i.Position(t,n)),a=new r.LineMarker(this._markerIdGenerator.nextId(),e,s,o);return this._markerIdToMarker[a.id]=a,this._lines[s.lineNumber-1].addMarker(a),a.id},t.prototype._addMarkers=function(e){if(0===e.length)return[];for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n],s=new r.LineMarker(this._markerIdGenerator.nextId(),o.internalDecorationId,o.position,o.stickToPreviousCharacter);this._markerIdToMarker[s.id]=s,t[n]=s}var a=t.slice(0);a.sort(function(e,t){return e.position.lineNumber-t.position.lineNumber});for(var c=0,u=[],l=0,n=0,i=a.length;n<i;n++){var s=a[n];s.position.lineNumber!==c&&(0!==c&&this._lines[c-1].addMarkers(u),c=s.position.lineNumber,u.length=0,l=0),u[l++]=s}return this._lines[c-1].addMarkers(u),t},t.prototype._changeMarker=function(e,t,n){var r=this._markerIdToMarker[e];if(r){var o=this.validatePosition(new i.Position(t,n));o.lineNumber!==r.position.lineNumber&&(this._lines[r.position.lineNumber-1].removeMarker(r),this._lines[o.lineNumber-1].addMarker(r)),r.setPosition(o)}},t.prototype._changeMarkerStickiness=function(e,t){var n=this._markerIdToMarker[e];n&&(n.stickToPreviousCharacter=t)},t.prototype._getMarker=function(e){var t=this._markerIdToMarker[e];return t?t.position:null},t.prototype._getMarkersCount=function(){return Object.keys(this._markerIdToMarker).length},t.prototype._getLineMarkers=function(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._lines[e-1].getMarkers()},t.prototype._removeMarker=function(e){var t=this._markerIdToMarker[e];t&&(this._lines[t.position.lineNumber-1].removeMarker(t),delete this._markerIdToMarker[e])},t.prototype._removeMarkers=function(e){e.sort(function(e,t){return e.position.lineNumber-t.position.lineNumber});for(var t=0,n=null,i=0,r=e.length;i<r;i++){var o=e[i];delete this._markerIdToMarker[o.id],o.position.lineNumber!==t&&(0!==t&&this._lines[t-1].removeMarkers(n),t=o.position.lineNumber,n=Object.create(null)),n[o.id]=!0}this._lines[t-1].removeMarkers(n)},t}(o.TextModelWithTokens);t.TextModelWithMarkers=a}),define(l[685],h([1,0,7,262,12,15,10,217,44,684]),function(e,t,n,i,r,o,s,a,c,u){"use strict";function l(){var e=26,t=m++;return t%=2*e,t<e?String.fromCharCode(97+t):String.fromCharCode(65+t-e)}function h(e){return e.replace(/[^a-z0-9\-]/gi," ")}function p(e){return new b(e)}function f(e,t){return void 0===t&&(t=null),new E(e,t)}var g=function(){function e(){this.addedDecorations=[],this.addedDecorationsLen=0,this.changedDecorations=[],this.changedDecorationsLen=0,this.removedDecorations=[],this.removedDecorationsLen=0}return e.prototype.addNewDecoration=function(e){this.addedDecorations[this.addedDecorationsLen++]=e},e.prototype.addRemovedDecoration=function(e){this.removedDecorations[this.removedDecorationsLen++]=e},e.prototype.addMovedDecoration=function(e){this.changedDecorations[this.changedDecorationsLen++]=e},e.prototype.addUpdatedDecoration=function(e){this.changedDecorations[this.changedDecorationsLen++]=e},e}(),v=function(){function e(e,t,n,i,r,o,s){this.id=e,this.internalId=t,this.ownerId=n,this.range=i,this.startMarker=r,this.endMarker=o,this.setOptions(s)}return e.prototype.setOptions=function(e){this.options=e,this.isForValidation=this.options.className===s.ClassName.EditorErrorDecoration||this.options.className===s.ClassName.EditorWarningDecoration},e.prototype.setRange=function(e,t){if(!this.range.equalsRange(t)){var n=this.range.startLineNumber!==this.range.endLineNumber;this.range=t;var i=this.range.startLineNumber!==this.range.endLineNumber;n!==i&&(i?e[this.id]=this:delete e[this.id])}},e}();t.InternalDecoration=v;var m=0,y=function(e){function t(t,n,i){t.push(s.EventType.ModelDecorationsChanged),e.call(this,t,n,i),this._instanceId=l(),this._lastDecorationId=0,this._currentDecorationsTracker=null,this._currentDecorationsTrackerCnt=0,this._currentMarkersTracker=null,this._currentMarkersTrackerCnt=0,this._decorations=Object.create(null),this._internalDecorations=Object.create(null),this._multiLineDecorationsMap=Object.create(null)}return d(t,e),t.prototype.dispose=function(){this._decorations=null,this._internalDecorations=null,this._multiLineDecorationsMap=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t){e.prototype._resetValue.call(this,t),this._decorations=Object.create(null),this._internalDecorations=Object.create(null),this._multiLineDecorationsMap=Object.create(null)},t._shouldStartMarkerSticksToPreviousCharacter=function(e){return e===s.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges||e===s.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore},t._shouldEndMarkerSticksToPreviousCharacter=function(e){return e===s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges||e===s.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore},t.prototype._getTrackedRangesCount=function(){return Object.keys(this._decorations).length},t.prototype.changeDecorations=function(e,t){void 0===t&&(t=0),this._assertNotDisposed();try{this._beginDeferredEmit();var n=this._acquireDecorationsTracker();return this._changeDecorations(n,t,e)}finally{this._releaseDecorationsTracker(),this._endDeferredEmit()}},t.prototype._changeDecorations=function(e,t,i){var r=this,o={addDecoration:function(n,i){return r._addDecorationImpl(e,t,r.validateRange(n),p(i))},changeDecoration:function(t,n){r._changeDecorationImpl(e,t,r.validateRange(n))},changeDecorationOptions:function(t,n){r._changeDecorationOptionsImpl(e,t,p(n))},removeDecoration:function(t){r._removeDecorationImpl(e,t)},deltaDecorations:function(n,i){return r._deltaDecorationsImpl(e,t,n,r._normalizeDeltaDecorations(i))}},s=null;try{s=i(o)}catch(e){n.onUnexpectedError(e)}return o.addDecoration=null,o.changeDecoration=null,o.removeDecoration=null,o.deltaDecorations=null,s},t.prototype.deltaDecorations=function(e,t,n){return void 0===n&&(n=0),this._assertNotDisposed(),e||(e=[]),this.changeDecorations(function(n){return n.deltaDecorations(e,t)},n)},t.prototype.removeAllDecorationsWithOwnerId=function(e){var t=[];for(var n in this._decorations){var i=this._decorations[n];i.ownerId===e&&t.push(i.id)}this._removeDecorationsImpl(null,t)},t.prototype.getDecorationOptions=function(e){var t=this._decorations[e];return t?t.options:null},t.prototype.getDecorationRange=function(e){var t=this._decorations[e];return t?t.range:null},t.prototype.getLineDecorations=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=!1),e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,n)},t.prototype._getMultiLineDecorations=function(e,t,n){var i=e.startLineNumber,r=e.startColumn,o=e.endLineNumber,s=e.endColumn,a=[];for(var c in this._multiLineDecorationsMap){var u=this._multiLineDecorationsMap[c];if(!(t&&u.ownerId&&u.ownerId!==t||n&&u.isForValidation)){var l=u.range;l.startLineNumber>o||l.startLineNumber===o&&l.startColumn>s||l.endLineNumber<i||l.endLineNumber===i&&l.endColumn<r||a.push(u)}}return a},t.prototype._getDecorationsInRange=function(e,t,n){for(var i=e.startLineNumber,r=e.startColumn,o=e.endLineNumber,s=e.endColumn,a=this._getMultiLineDecorations(e,t,n),c={},u=0,l=a.length;u<l;u++)c[a[u].id]=!0;for(var h=i;h<=o;h++)for(var d=this._getLineMarkers(h),u=0,l=d.length;u<l;u++){var p=d[u],f=p.internalDecorationId;if(0!==f){var g=this._internalDecorations[f];if(!c.hasOwnProperty(g.id)&&!(t&&g.ownerId&&g.ownerId!==t||n&&g.isForValidation)){var v=g.range;v.startLineNumber>o||v.startLineNumber===o&&v.startColumn>s||v.endLineNumber<i||v.endLineNumber===i&&v.endColumn<r||(a.push(g),c[g.id]=!0)}}}return a},t.prototype.getLinesDecorations=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var r=this.getLineCount(),s=Math.min(r,Math.max(1,e)),a=Math.min(r,Math.max(1,t)),c=this.getLineMaxColumn(a);return this._getDecorationsInRange(new o.Range(s,1,a,c),n,i)},t.prototype.getDecorationsInRange=function(e,t,n){var i=this.validateRange(e);return this._getDecorationsInRange(i,t,n)},t.prototype.getAllDecorations=function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var n=[];for(var i in this._decorations){var r=this._decorations[i];e&&r.ownerId&&r.ownerId!==e||t&&r.isForValidation||n.push(r)}return n},t.prototype._acquireMarkersTracker=function(){return 0===this._currentMarkersTrackerCnt&&(this._currentMarkersTracker=new a.MarkersTracker),this._currentMarkersTrackerCnt++,this._currentMarkersTracker},t.prototype._releaseMarkersTracker=function(){if(this._currentMarkersTrackerCnt--,0===this._currentMarkersTrackerCnt){var e=this._currentMarkersTracker;this._currentMarkersTracker=null,this._handleTrackedMarkers(e)}},t.prototype._handleTrackedMarkers=function(e){var n=e.getDecorationIds();if(0!==n.length){n.sort();for(var i=[],r=0,o=0,s=0,a=n.length;s<a;s++){var c=n[s];if(c!==o){o=c;var u=this._internalDecorations[c];if(u){var l=u.startMarker.position,h=u.endMarker.position,d=t._createRangeFromMarkers(l,h);u.setRange(this._multiLineDecorationsMap,d),i[r++]=u.id}}}if(i.length>0){var p={addedDecorations:[],changedDecorations:i,removedDecorations:[]};this.emitModelDecorationsChangedEvent(p)}}},t._createRangeFromMarkers=function(e,t){return t.isBefore(e)?new o.Range(e.lineNumber,e.column,e.lineNumber,e.column):new o.Range(e.lineNumber,e.column,t.lineNumber,t.column)},t.prototype._acquireDecorationsTracker=function(){return 0===this._currentDecorationsTrackerCnt&&(this._currentDecorationsTracker=new g),this._currentDecorationsTrackerCnt++,this._currentDecorationsTracker},t.prototype._releaseDecorationsTracker=function(){if(this._currentDecorationsTrackerCnt--,0===this._currentDecorationsTrackerCnt){var e=this._currentDecorationsTracker;this._currentDecorationsTracker=null,this._handleTrackedDecorations(e)}},t.prototype._handleTrackedDecorations=function(e){if(0!==e.addedDecorationsLen||0!==e.changedDecorationsLen||0!==e.removedDecorationsLen){var t={addedDecorations:e.addedDecorations,changedDecorations:e.changedDecorations,removedDecorations:e.removedDecorations};this.emitModelDecorationsChangedEvent(t)}},t.prototype.emitModelDecorationsChangedEvent=function(e){this._isDisposing||this.emit(s.EventType.ModelDecorationsChanged,e)},t.prototype._normalizeDeltaDecorations=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];t.push(new S(n,this.validateRange(r.range),p(r.options)))}return t},t.prototype._externalDecorationId=function(e){return this._instanceId+";"+e},t.prototype._addDecorationImpl=function(e,n,i,r){var o=this.validateRange(i),s=++this._lastDecorationId,a=this._externalDecorationId(s),u=this._addMarkers([{internalDecorationId:s,position:new c.Position(o.startLineNumber,o.startColumn),stickToPreviousCharacter:t._shouldStartMarkerSticksToPreviousCharacter(r.stickiness)
},{internalDecorationId:s,position:new c.Position(o.endLineNumber,o.endColumn),stickToPreviousCharacter:t._shouldEndMarkerSticksToPreviousCharacter(r.stickiness)}]),l=new v(a,s,n,o,u[0],u[1],r);return this._decorations[a]=l,this._internalDecorations[s]=l,o.startLineNumber!==o.endLineNumber&&(this._multiLineDecorationsMap[a]=l),e.addNewDecoration(a),a},t.prototype._addDecorationsImpl=function(e,n,i){for(var r=[],o=[],s=[],a=0,u=i.length;a<u;a++){var l=i[a],h=l.range,d=l.options.stickiness,p=++this._lastDecorationId,f=this._externalDecorationId(p);r[a]=p,o[a]=f,s[2*a]={internalDecorationId:p,position:new c.Position(h.startLineNumber,h.startColumn),stickToPreviousCharacter:t._shouldStartMarkerSticksToPreviousCharacter(d)},s[2*a+1]={internalDecorationId:p,position:new c.Position(h.endLineNumber,h.endColumn),stickToPreviousCharacter:t._shouldEndMarkerSticksToPreviousCharacter(d)}}for(var g=this._addMarkers(s),a=0,u=i.length;a<u;a++){var l=i[a],h=l.range,p=r[a],f=o[a],m=g[2*a],y=g[2*a+1],b=new v(f,p,n,h,m,y,l.options);this._decorations[f]=b,this._internalDecorations[p]=b,h.startLineNumber!==h.endLineNumber&&(this._multiLineDecorationsMap[f]=b),e.addNewDecoration(f)}return o},t.prototype._changeDecorationImpl=function(e,t,n){var i=this._decorations[t];if(i){var r=i.startMarker;n.startLineNumber!==r.position.lineNumber&&(this._lines[r.position.lineNumber-1].removeMarker(r),this._lines[n.startLineNumber-1].addMarker(r)),r.setPosition(new c.Position(n.startLineNumber,n.startColumn));var o=i.endMarker;n.endLineNumber!==o.position.lineNumber&&(this._lines[o.position.lineNumber-1].removeMarker(o),this._lines[n.endLineNumber-1].addMarker(o)),o.setPosition(new c.Position(n.endLineNumber,n.endColumn)),i.setRange(this._multiLineDecorationsMap,n),e.addMovedDecoration(t)}},t.prototype._changeDecorationOptionsImpl=function(e,n,i){var r=this._decorations[n];r&&(r.options.stickiness!==i.stickiness&&(r.startMarker.stickToPreviousCharacter=t._shouldStartMarkerSticksToPreviousCharacter(i.stickiness),r.endMarker.stickToPreviousCharacter=t._shouldEndMarkerSticksToPreviousCharacter(i.stickiness)),r.setOptions(i),e.addUpdatedDecoration(n))},t.prototype._removeDecorationImpl=function(e,t){var n=this._decorations[t];n&&(this._removeMarkers([n.startMarker,n.endMarker]),delete this._multiLineDecorationsMap[t],delete this._decorations[t],delete this._internalDecorations[n.internalId],e&&e.addRemovedDecoration(t))},t.prototype._removeDecorationsImpl=function(e,t){for(var n=[],i=0,r=0,o=t.length;r<o;r++){var s=t[r],a=this._decorations[s];a&&(e&&e.addRemovedDecoration(s),n[i++]=a.startMarker,n[i++]=a.endMarker,delete this._multiLineDecorationsMap[s],delete this._decorations[s],delete this._internalDecorations[a.internalId])}n.length>0&&this._removeMarkers(n)},t.prototype._resolveOldDecorations=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n],o=this._decorations[r];o&&t.push(o)}return t},t.prototype._deltaDecorationsImpl=function(e,t,n,i){if(0===n.length)return this._addDecorationsImpl(e,t,i);if(0===i.length)return this._removeDecorationsImpl(e,n),[];var r=this._resolveOldDecorations(n);r.sort(function(e,t){return o.Range.compareRangesUsingStarts(e.range,t.range)}),i.sort(function(e,t){return o.Range.compareRangesUsingStarts(e.range,t.range)});for(var s=[],a=0,c=r.length,u=0,l=i.length,h=[],d=[];a<c&&u<l;){var p=r[a],f=i[u],g=o.Range.compareRangesUsingStarts(p.range,f.range);g<0?(d.push(p.id),a++):g>0?(h.push(f),u++):p.options.equals(f.options)?(s[f.index]=p.id,a++,u++):(d.push(p.id),a++)}for(;a<c;)d.push(r[a].id),a++;for(;u<l;)h.push(i[u]),u++;if(d.length>0&&this._removeDecorationsImpl(e,d),h.length>0)for(var v=this._addDecorationsImpl(e,t,h),m=0,y=h.length;m<y;m++)s[h[m].index]=v[m];return s},t}(u.TextModelWithMarkers);t.TextModelWithDecorations=y;var b=function(){function e(e){this.stickiness=e.stickiness||s.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,this.className=e.className?h(e.className):r.empty,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||r.empty,this.hoverMessage=e.hoverMessage||[],this.isWholeLine=e.isWholeLine||!1,this.overviewRuler=f(e.overviewRuler,e.showInOverviewRuler),this.glyphMarginClassName=e.glyphMarginClassName?h(e.glyphMarginClassName):r.empty,this.linesDecorationsClassName=e.linesDecorationsClassName?h(e.linesDecorationsClassName):r.empty,this.marginClassName=e.marginClassName?h(e.marginClassName):r.empty,this.inlineClassName=e.inlineClassName?h(e.inlineClassName):r.empty,this.beforeContentClassName=e.beforeContentClassName?h(e.beforeContentClassName):r.empty,this.afterContentClassName=e.afterContentClassName?h(e.afterContentClassName):r.empty}return e._overviewRulerEquals=function(e,t){return e.color===t.color&&e.position===t.position&&e.darkColor===t.darkColor},e.prototype.equals=function(t){return this.stickiness===t.stickiness&&this.className===t.className&&this.glyphMarginHoverMessage===t.glyphMarginHoverMessage&&this.isWholeLine===t.isWholeLine&&this.showInOverviewRuler===t.showInOverviewRuler&&this.glyphMarginClassName===t.glyphMarginClassName&&this.linesDecorationsClassName===t.linesDecorationsClassName&&this.marginClassName===t.marginClassName&&this.inlineClassName===t.inlineClassName&&this.beforeContentClassName===t.beforeContentClassName&&this.afterContentClassName===t.afterContentClassName&&i.markedStringsEquals(this.hoverMessage,t.hoverMessage)&&e._overviewRulerEquals(this.overviewRuler,t.overviewRuler)},e}();t.ModelDecorationOptions=b;var S=function(){function e(e,t,n){this.index=e,this.range=t,this.options=n}return e}(),E=function(){function e(e,t){this.color=r.empty,this.darkColor=r.empty,this.position=s.OverviewRulerLane.Center,t&&(this.color=t),e&&e.color&&(this.color=e.color),e&&e.darkColor&&(this.darkColor=e.darkColor),e&&e.hasOwnProperty("position")&&(this.position=e.position)}return e}()}),define(l[686],h([1,0,15,10,881,217,685,12,44]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(e){function t(t,n,o){t.push(i.EventType.ModelRawContentChanged),e.call(this,t,n,o),this._commandManager=new r.EditStack(this),this._isUndoing=!1,this._isRedoing=!1,this._hasEditableRange=!1,this._editableRangeId=null,this._trimAutoWhitespaceLines=null}return d(t,e),t.prototype.onDidChangeRawContent=function(e){return this.addListener2(i.EventType.ModelRawContentChanged,e)},t.prototype.onDidChangeContent=function(e){return this.addListener2(i.EventType.ModelContentChanged2,e)},t.prototype.dispose=function(){this._commandManager=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t){e.prototype._resetValue.call(this,t),this._commandManager=new r.EditStack(this),this._hasEditableRange=!1,this._editableRangeId=null,this._trimAutoWhitespaceLines=null},t.prototype.pushStackElement=function(){this._commandManager.pushStackElement()},t.prototype.pushEditOperations=function(e,t,n){try{return this._beginDeferredEmit(),this._pushEditOperations(e,t,n)}finally{this._endDeferredEmit()}},t.prototype._pushEditOperations=function(e,t,i){var r=this;if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){for(var o=t.map(function(e){return{range:r.validateRange(e.range),text:e.text}}),s=!0,a=0,c=e.length;a<c;a++){for(var u=e[a],l=!1,h=0,d=o.length;h<d;h++){var p=o[h].range,f=p.startLineNumber>u.endLineNumber,g=u.startLineNumber>p.endLineNumber;if(!f&&!g){l=!0;break}}if(!l){s=!1;break}}if(s)for(var a=0,c=this._trimAutoWhitespaceLines.length;a<c;a++){for(var v=this._trimAutoWhitespaceLines[a],m=this.getLineMaxColumn(v),y=!0,h=0,d=o.length;h<d;h++){var p=o[h].range,b=o[h].text;if(!(v<p.startLineNumber||v>p.endLineNumber||v===p.startLineNumber&&p.startColumn===m&&p.isEmpty()&&b&&b.length>0&&"\n"===b.charAt(0))){y=!1;break}}y&&t.push({identifier:null,range:new n.Range(v,1,v,m),text:null,forceMoveMarkers:!1,isAutoWhitespaceEdit:!1})}this._trimAutoWhitespaceLines=null}return this._commandManager.pushEditOperation(e,t,i)},t.prototype._reduceOperations=function(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]},t.prototype._toSingleEditOperation=function(e){for(var t=!1,i=e[0].range,r=e[e.length-1].range,o=new n.Range(i.startLineNumber,i.startColumn,r.endLineNumber,r.endColumn),s=i.startLineNumber,a=i.startColumn,c=[],u=0,l=e.length;u<l;u++){var h=e[u],d=h.range;t=t||h.forceMoveMarkers;for(var p=s;p<d.startLineNumber;p++)p===s?c.push(this._lines[p-1].text.substring(a-1)):(c.push("\n"),c.push(this._lines[p-1].text));if(d.startLineNumber===s?c.push(this._lines[d.startLineNumber-1].text.substring(a-1,d.startColumn-1)):(c.push("\n"),c.push(this._lines[d.startLineNumber-1].text.substring(0,d.startColumn-1))),h.lines)for(var f=0,g=h.lines.length;f<g;f++)0!==f&&c.push("\n"),c.push(h.lines[f]);s=h.range.endLineNumber,a=h.range.endColumn}return{sortIndex:0,identifier:e[0].identifier,range:o,rangeLength:this.getValueLengthInRange(o),lines:c.join("").split("\n"),forceMoveMarkers:t,isAutoWhitespaceEdit:!1}},t._sortOpsAscending=function(e,t){var i=n.Range.compareRangesUsingEnds(e.range,t.range);return 0===i?e.sortIndex-t.sortIndex:i},t._sortOpsDescending=function(e,t){var i=n.Range.compareRangesUsingEnds(e.range,t.range);return 0===i?t.sortIndex-e.sortIndex:-i},t.prototype.applyEdits=function(e){try{this._beginDeferredEmit();var t=this._acquireMarkersTracker();return this._applyEdits(t,e)}finally{this._releaseMarkersTracker(),this._endDeferredEmit()}},t.prototype._applyEdits=function(e,n){if(0===n.length)return[];for(var i=this._mightContainRTL,r=[],o=0;o<n.length;o++){var s=n[o],c=this.validateRange(s.range);!i&&s.text&&(i=a.containsRTL(s.text)),r[o]={sortIndex:o,identifier:s.identifier,range:c,rangeLength:this.getValueLengthInRange(c),lines:s.text?s.text.split(/\r\n|\r|\n/):null,forceMoveMarkers:s.forceMoveMarkers,isAutoWhitespaceEdit:s.isAutoWhitespaceEdit||!1}}r.sort(t._sortOpsAscending);for(var o=0,u=r.length-1;o<u;o++){var l=r[o].range.getEndPosition(),h=r[o+1].range.getStartPosition();if(h.isBefore(l))throw new Error("Overlapping ranges are not allowed!")}r=this._reduceOperations(r);for(var d=this.getEditableRange(),p=d.getStartPosition(),f=d.getEndPosition(),o=0;o<r.length;o++){var g=r[o].range;if(!p.isBeforeOrEqual(g.getStartPosition())||!g.getEndPosition().isBeforeOrEqual(f))throw new Error("Editing outside of editable range not allowed!")}for(var v=t._getInverseEditRanges(r),m=[],y=[],o=0;o<r.length;o++){var s=r[o],b=v[o];if(m[o]={identifier:s.identifier,range:b,text:this.getValueInRange(s.range),forceMoveMarkers:s.forceMoveMarkers},this._options.trimAutoWhitespace&&s.isAutoWhitespaceEdit&&s.range.isEmpty())for(var S=b.startLineNumber;S<=b.endLineNumber;S++){var E="";S===b.startLineNumber&&(E=this.getLineContent(s.range.startLineNumber),a.firstNonWhitespaceIndex(E)!==-1)||y.push({lineNumber:S,oldContent:E})}}if(this._mightContainRTL=i,this._doApplyEdits(e,r),this._trimAutoWhitespaceLines=null,this._options.trimAutoWhitespace&&y.length>0){y.sort(function(e,t){return t.lineNumber-e.lineNumber}),this._trimAutoWhitespaceLines=[];for(var o=0,_=y.length;o<_;o++){var S=y[o].lineNumber;if(!(o>0&&y[o-1].lineNumber===S)){var C=y[o].oldContent,w=this.getLineContent(S);0!==w.length&&w!==C&&a.firstNonWhitespaceIndex(w)===-1&&this._trimAutoWhitespaceLines.push(S)}}}return m},t._getInverseEditRanges=function(e){for(var t,i,r=[],o=null,s=0,a=e.length;s<a;s++){var c=e[s],u=void 0,l=void 0;o?o.range.endLineNumber===c.range.startLineNumber?(u=t,l=i+(c.range.startColumn-o.range.endColumn)):(u=t+(c.range.startLineNumber-o.range.endLineNumber),l=c.range.startColumn):(u=c.range.startLineNumber,l=c.range.startColumn);var h=void 0;if(c.lines&&c.lines.length>0){var d=c.lines.length,p=c.lines[0],f=c.lines[d-1];h=1===d?new n.Range(u,l,u,l+p.length):new n.Range(u,l,u+d-1,f.length+1)}else h=new n.Range(u,l,u,l);t=h.endLineNumber,i=h.endColumn,r.push(h),o=c}return r},t.prototype._doApplyEdits=function(e,r){var s=this,a=this._options.tabSize;r.sort(t._sortOpsDescending);for(var u=[],l=[],h=[],d=function(e){e.startColumn===e.endColumn&&0===e.text.length||h.push(e)},p=function(){if(0!==h.length){h.reverse();for(var t=h[0].lineNumber,n=0,i=1,r=h.length;i<r;i++){var o=h[i].lineNumber;o!==t&&(s._invalidateLine(t-1),s._lines[t-1].applyEdits(e,h.slice(n,i),a),s._lineStarts&&s._lineStarts.changeValue(t-1,s._lines[t-1].text.length+s._EOL.length),u.push(s._createLineChangedEvent(t)),t=o,n=i)}s._invalidateLine(t-1),s._lines[t-1].applyEdits(e,h.slice(n,h.length),a),s._lineStarts&&s._lineStarts.changeValue(t-1,s._lines[t-1].text.length+s._EOL.length),u.push(s._createLineChangedEvent(t)),h=[]}},f=r[r.length-1].range.startLineNumber,g=r[0].range.endLineNumber+1,v=0,m=0,y=r.length;m<y;m++){var b=r[m],S=b.range.startLineNumber,E=b.range.startColumn,_=b.range.endLineNumber,C=b.range.endColumn;if(S!==_||E!==C||b.lines&&0!==b.lines.length){var w=_-S,I=b.lines?b.lines.length-1:0,T=Math.min(w,I);v+=I-w;for(var x=T;x>=0;x--){var A=S+x;d({lineNumber:A,startColumn:A===S?E:1,endColumn:A===_?C:this.getLineMaxColumn(A),text:b.lines?b.lines[x]:"",forceMoveMarkers:b.forceMoveMarkers})}if(T<w){p();var D=S+T,L=this.getLineMaxColumn(D),k=this._lines[_-1].split(e,C,!1,a);this._invalidateLine(D-1);for(var P=_-D,R=[],x=0;x<P;x++){var O=D+x;R=R.concat(this._lines[O].deleteLine())}this._lines.splice(D,P),this._lineStarts&&this._lineStarts.removeValues(D,P),this._lines[D-1].append(e,k,a),this._lineStarts&&this._lineStarts.changeValue(D-1,this._lines[D-1].text.length+this._EOL.length);for(var M=new c.Position(D,L),x=0,N=R.length;x<N;x++)R[x].updatePosition(e,M);this._lines[D-1].addMarkers(R),u.push(this._createLineChangedEvent(D)),u.push(this._createLinesDeletedEvent(D+1,D+P))}if(T<I){p();var F=S+T,W=F===S?E:1;b.lines&&(W+=b.lines[T].length);var V=this._lines[F-1].split(e,W,b.forceMoveMarkers,a);this._lineStarts&&this._lineStarts.changeValue(F-1,this._lines[F-1].text.length+this._EOL.length),u.push(this._createLineChangedEvent(F)),this._invalidateLine(F-1);for(var B=[],H=[],x=T+1;x<=I;x++){var z=S+x;this._lines.splice(z-1,0,new o.ModelLine(z,b.lines[x],a)),B.push(b.lines[x]),H.push(b.lines[x].length+this._EOL.length)}B[B.length-1]+=V.text,this._lineStarts&&this._lineStarts.insertValues(S+T,H),this._lines[S+I-1].append(e,V,a),this._lineStarts&&this._lineStarts.changeValue(S+I-1,this._lines[S+I-1].text.length+this._EOL.length),u.push(this._createLinesInsertedEvent(F+1,S+I,B.join("\n")))}l.push({range:new n.Range(S,E,_,C),rangeLength:b.rangeLength,text:b.lines?b.lines.join(this.getEOL()):"",eol:this._EOL,versionId:-1,isUndoing:this._isUndoing,isRedoing:this._isRedoing})}}p(),g=Math.max(1,Math.min(this.getLineCount(),g+v)),0!==v&&(g=this.getLineCount());for(var U=f;U<=g;U++)this._lines[U-1].updateLineNumber(e,U);if(0!==u.length||0!==l.length){0===u.length&&u.push(this._createLineChangedEvent(f));var G=Math.max(u.length,l.length),K=this.getVersionId()+G;this._setVersionId(K);for(var m=u.length-1,j=K;m>=0;m--,j--)u[m].versionId=j;for(var m=l.length-1,j=K;m>=0;m--,j--)l[m].versionId=j;for(var m=0,y=u.length;m<y;m++)this.emit(i.EventType.ModelRawContentChanged,u[m]);for(var m=0,y=l.length;m<y;m++)this.emit(i.EventType.ModelContentChanged2,l[m])}this._resetIndentRanges()},t.prototype._assertLineNumbersOK=function(){for(var e=0,t=0,n=this._lines.length;t<n;t++){var i=this._lines[t],r=t+1;if(i.lineNumber!==r)throw new Error("Invalid lineNumber at line: "+r+"; text is: "+this.getValue());for(var o=i.getMarkers(),s=0,a=o.length;s<a;s++){e++;var c=o[s].id,u=this._markerIdToMarker[c];if(u.position.lineNumber!==i.lineNumber)throw new Error("Misplaced marker with id "+c)}}var l=Object.keys(this._markerIdToMarker).length;if(l!==e)throw new Error("There are misplaced markers!")},t.prototype._undo=function(){this._isUndoing=!0;var e=this._commandManager.undo();return this._isUndoing=!1,e?(this._overwriteAlternativeVersionId(e.recordedVersionId),e.selections):null},t.prototype.undo=function(){try{return this._beginDeferredEmit(),this._acquireMarkersTracker(),this._undo()}finally{this._releaseMarkersTracker(),this._endDeferredEmit()}},t.prototype._redo=function(){this._isRedoing=!0;var e=this._commandManager.redo();return this._isRedoing=!1,e?(this._overwriteAlternativeVersionId(e.recordedVersionId),e.selections):null},t.prototype.redo=function(){try{return this._beginDeferredEmit(),this._acquireMarkersTracker(),this._redo()}finally{this._releaseMarkersTracker(),this._endDeferredEmit()}},t.prototype.setEditableRange=function(e){var t=this;this._commandManager.clear(),(this._hasEditableRange||e)&&this.changeDecorations(function(n){t._hasEditableRange&&(n.removeDecoration(t._editableRangeId),t._editableRangeId=null,t._hasEditableRange=!1),e&&(t._hasEditableRange=!0,t._editableRangeId=n.addDecoration(e,{stickiness:i.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges}))})},t.prototype.hasEditableRange=function(){return this._hasEditableRange},t.prototype.getEditableRange=function(){return this._hasEditableRange?this.getDecorationRange(this._editableRangeId):this.getFullModelRange()},t.prototype._createLineChangedEvent=function(e){return{changeType:i.EventType.ModelRawContentChangedLineChanged,lineNumber:e,detail:this._lines[e-1].text,versionId:-1,isUndoing:this._isUndoing,isRedoing:this._isRedoing}},t.prototype._createLinesDeletedEvent=function(e,t){return{changeType:i.EventType.ModelRawContentChangedLinesDeleted,fromLineNumber:e,toLineNumber:t,versionId:-1,isUndoing:this._isUndoing,isRedoing:this._isRedoing}},t.prototype._createLinesInsertedEvent=function(e,t,n){return{changeType:i.EventType.ModelRawContentChangedLinesInserted,fromLineNumber:e,toLineNumber:t,detail:n,versionId:-1,isUndoing:this._isUndoing,isRedoing:this._isRedoing}},t}(s.TextModelWithDecorations);t.EditableTextModel=u}),define(l[335],h([1,0,16,10,686,166]),function(e,t,n,i,r,o){"use strict";var s=0,a={},c=function(e){function t(t,r,o){if(void 0===o&&(o=null),e.call(this,[i.EventType.ModelDispose],t,r),s++,this.id="$model"+s,"undefined"==typeof o||null===o?this._associatedResource=n.default.parse("inmemory://model/"+s):this._associatedResource=o,a[String(this._associatedResource)])throw new Error("Cannot instantiate a second Model with the same URI");this._attachedEditorCount=0,a[String(this._associatedResource)]=!0}return d(t,e),t.prototype.onDidChangeDecorations=function(e){return this.addListener2(i.EventType.ModelDecorationsChanged,e)},t.prototype.onDidChangeOptions=function(e){return this.addListener2(i.EventType.ModelOptionsChanged,e)},t.prototype.onWillDispose=function(e){return this.addListener2(i.EventType.ModelDispose,e)},t.prototype.onDidChangeMode=function(e){return this.addListener2(i.EventType.ModelModeChanged,e)},t.prototype.addBulkListener=function(t){return e.prototype.addBulkListener.call(this,t)},t.createFromString=function(e,n,i,r){void 0===n&&(n=o.TextModel.DEFAULT_CREATION_OPTIONS),void 0===i&&(i=null),void 0===r&&(r=null);var s=o.TextModel.toRawText(e,n);return new t(s,i,r)},t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){this._isDisposing=!0,delete a[String(this._associatedResource)],this.emit(i.EventType.ModelDispose),e.prototype.dispose.call(this),this._isDisposing=!1},t.prototype.onBeforeAttached=function(){this._attachedEditorCount++,this._warmUpTokens()},t.prototype.onBeforeDetached=function(){this._attachedEditorCount--},t.prototype._shouldAutoTokenize=function(){return this.isAttachedToEditor()},t.prototype.isAttachedToEditor=function(){return this._attachedEditorCount>0},Object.defineProperty(t.prototype,"uri",{get:function(){return this._associatedResource},enumerable:!0,configurable:!0}),t}(r.EditableTextModel);t.Model=c}),define(l[688],h([1,0,5,49,10]),function(e,t,n,i,r){"use strict";var o=function(){function e(e,t){var n=this;this._disposables=[],this._editor=e,this._langId=r.EditorContextKeys.LanguageId.bindTo(t),this._hasCompletionItemProvider=r.ModeContextKeys.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=r.ModeContextKeys.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=r.ModeContextKeys.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=r.ModeContextKeys.hasDefinitionProvider.bindTo(t),this._hasHoverProvider=r.ModeContextKeys.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=r.ModeContextKeys.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=r.ModeContextKeys.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=r.ModeContextKeys.hasReferenceProvider.bindTo(t),this._hasRenameProvider=r.ModeContextKeys.hasRenameProvider.bindTo(t),this._hasDocumentFormattingProvider=r.ModeContextKeys.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=r.ModeContextKeys.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasSignatureHelpProvider=r.ModeContextKeys.hasSignatureHelpProvider.bindTo(t),this._disposables.push(e.onDidChangeModel(function(){return n._update()})),this._disposables.push(e.onDidChangeModelMode(function(){return n._update()})),i.SuggestRegistry.onDidChange(this._update,this,this._disposables),i.CodeActionProviderRegistry.onDidChange(this._update,this,this._disposables),i.CodeLensProviderRegistry.onDidChange(this._update,this,this._disposables),i.DefinitionProviderRegistry.onDidChange(this._update,this,this._disposables),i.HoverProviderRegistry.onDidChange(this._update,this,this._disposables),i.DocumentHighlightProviderRegistry.onDidChange(this._update,this,this._disposables),i.DocumentSymbolProviderRegistry.onDidChange(this._update,this,this._disposables),i.ReferenceProviderRegistry.onDidChange(this._update,this,this._disposables),i.RenameProviderRegistry.onDidChange(this._update,this,this._disposables),i.DocumentFormattingEditProviderRegistry.onDidChange(this._update,this,this._disposables),i.DocumentRangeFormattingEditProviderRegistry.onDidChange(this._update,this,this._disposables),i.SignatureHelpProviderRegistry.onDidChange(this._update,this,this._disposables),this._update()}return e.prototype.dispose=function(){this._disposables=n.dispose(this._disposables)},e.prototype.reset=function(){this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset()},e.prototype._update=function(){var e=this._editor.getModel();return e?(this._langId.set(e.getModeId()),this._hasCompletionItemProvider.set(i.SuggestRegistry.has(e)),this._hasCodeActionsProvider.set(i.CodeActionProviderRegistry.has(e)),this._hasCodeLensProvider.set(i.CodeLensProviderRegistry.has(e)),this._hasDefinitionProvider.set(i.DefinitionProviderRegistry.has(e)),this._hasHoverProvider.set(i.HoverProviderRegistry.has(e)),this._hasDocumentHighlightProvider.set(i.DocumentHighlightProviderRegistry.has(e)),this._hasDocumentSymbolProvider.set(i.DocumentSymbolProviderRegistry.has(e)),this._hasReferenceProvider.set(i.ReferenceProviderRegistry.has(e)),this._hasRenameProvider.set(i.RenameProviderRegistry.has(e)),this._hasSignatureHelpProvider.set(i.SignatureHelpProviderRegistry.has(e)),this._hasDocumentFormattingProvider.set(i.DocumentFormattingEditProviderRegistry.has(e)||i.DocumentRangeFormattingEditProviderRegistry.has(e)),void this._hasDocumentSelectionFormattingProvider.set(i.DocumentRangeFormattingEditProviderRegistry.has(e))):void this.reset()},e}();t.EditorModeContext=o}),define(l[62],h([1,0,6,10]),function(e,t,n,i){"use strict";function r(e){if(e){var t=e.getControl();if(t){if(i.isCommonCodeEditor(t))return{codeEditor:t,diffEditor:null};if(i.isCommonDiffEditor(t))return{codeEditor:null,diffEditor:t}}}return{codeEditor:null,diffEditor:null}}function o(e){var t=r(e);return t.codeEditor||t.diffEditor&&t.diffEditor.getModifiedEditor()||null}t.ICodeEditorService=n.createDecorator("codeEditorService"),t.getCodeOrDiffEditor=r,t.getCodeEditor=o}),define(l[337],h([1,0,17,5,2,383,878,10,49,40,949,105,25,100]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f){"use strict";var m=6e4,y=3e5,b=function(){function e(e,t){var i=this;this._workerManager=new S(e);var r=c.LinkProviderRegistry.register("*",{provideLinks:function(e,t){return n.wireCancellationToken(t,i._workerManager.withWorker().then(function(t){return t.computeLinks(e.uri)}))}}),o=c.SuggestRegistry.register("*",{triggerCharacters:[],filter:f.matchesPrefix,provideCompletionItems:function(e,n,r){if(t.lookup("editor.wordBasedSuggestions").value)return i._workerManager.withWorker().then(function(t){return t.textualSuggest(e.uri,n)})}});this._registrations=[r,o]}return e.prototype.dispose=function(){this._workerManager.dispose(),i.dispose(this._registrations)},e.prototype.computeDiff=function(e,t,n){return this._workerManager.withWorker().then(function(i){return i.computeDiff(e,t,n)})},e.prototype.computeDirtyDiff=function(e,t,n){return this._workerManager.withWorker().then(function(i){return i.computeDirtyDiff(e,t,n)})},e.prototype.computeMoreMinimalEdits=function(e,t,n){return Array.isArray(t)&&0!==t.length?this._workerManager.withWorker().then(function(i){return i.computeMoreMinimalEdits(e,t,n)}):r.TPromise.as(t)},e.prototype.navigateValueSet=function(e,t,n){return this._workerManager.withWorker().then(function(i){return i.navigateValueSet(e,t,n)})},e=g([v(0,u.IModelService),v(1,p.IConfigurationService)],e)}();t.EditorWorkerServiceImpl=b;var S=function(e){function t(t){var i=this;e.call(this),this._modelService=t,this._editorWorkerClient=null;var r=this._register(new n.IntervalTimer);r.cancelAndSet(function(){return i._checkStopWorker()},Math.round(y/2))}return d(t,e),t.prototype.dispose=function(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),e.prototype.dispose.call(this)},t.prototype._checkStopWorker=function(){if(this._editorWorkerClient){var e=(new Date).getTime()-this._lastWorkerUsedTime;e>y&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}},t.prototype.withWorker=function(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new C(this._modelService,"editorWorkerService")),r.TPromise.as(this._editorWorkerClient)},t}(i.Disposable),E=function(e){function t(t,i,r){var o=this;if(e.call(this),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=t,this._modelService=i,!r){var s=new n.IntervalTimer;s.cancelAndSet(function(){return o._checkStopModelSync()},Math.round(m/2)),this._register(s)}}return d(t,e),t.prototype.dispose=function(){for(var t in this._syncedModels)i.dispose(this._syncedModels[t]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),e.prototype.dispose.call(this)},t.prototype.esureSyncedResources=function(e){for(var t=0;t<e.length;t++){var n=e[t],i=n.toString();this._syncedModels[i]||this._beginModelSync(n),this._syncedModels[i]&&(this._syncedModelsLastUsedTime[i]=(new Date).getTime())}},t.prototype._checkStopModelSync=function(){var e=(new Date).getTime(),t=[];for(var n in this._syncedModelsLastUsedTime){var i=e-this._syncedModelsLastUsedTime[n];i>m&&t.push(n)}for(var r=0;r<t.length;r++)this._stopModelSync(t[r])},t.prototype._beginModelSync=function(e){var t=this,n=e.toString(),i=this._modelService.getModel(e);if(i&&!i.isTooLargeForHavingARichMode()){this._proxy.acceptNewModel({url:i.uri.toString(),value:i.toRawText(),versionId:i.getVersionId()});var r=[];r.push(i.addBulkListener(function(e){for(var i=[],r=0,o=e.length;r<o;r++){var s=e[r];switch(s.getType()){case a.EventType.ModelContentChanged2:i.push(s.getData());break;case a.EventType.ModelDispose:return void t._stopModelSync(n)}}i.length>0&&t._proxy.acceptModelChanged(n.toString(),i)})),r.push({dispose:function(){t._proxy.acceptRemovedModel(n)}}),this._syncedModels[n]=r}},t.prototype._stopModelSync=function(e){var t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],i.dispose(t)},t}(i.Disposable),_=function(){function e(e){this._instance=e,this._proxyObj=r.TPromise.as(this._instance)}return e.prototype.dispose=function(){this._instance.dispose(),this._instance=null,this._proxyObj=null},e.prototype.getProxyObject=function(){return new n.ShallowCancelThenPromise(this._proxyObj)},e}(),C=function(e){function t(t,n){e.call(this),this._modelService=t,this._workerFactory=new s.DefaultWorkerFactory(n),this._worker=null,this._modelManager=null}return d(t,e),t.prototype._getOrCreateWorker=function(){if(!this._worker)try{this._worker=this._register(new o.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker"))}catch(e){o.logOnceWebWorkerWarning(e),this._worker=new _(new l.EditorSimpleWorkerImpl)}return this._worker},t.prototype._getProxy=function(){var e=this;return new n.ShallowCancelThenPromise(this._getOrCreateWorker().getProxyObject().then(null,function(t){return o.logOnceWebWorkerWarning(t),e._worker=new _(new l.EditorSimpleWorkerImpl),e._getOrCreateWorker().getProxyObject()}))},t.prototype._getOrCreateModelManager=function(e){return this._modelManager||(this._modelManager=this._register(new E(e,this._modelService,(!1)))),this._modelManager},t.prototype._withSyncedResources=function(e){var t=this;return this._getProxy().then(function(n){return t._getOrCreateModelManager(n).esureSyncedResources(e),n})},t.prototype.computeDiff=function(e,t,n){return this._withSyncedResources([e,t]).then(function(i){return i.computeDiff(e.toString(),t.toString(),n)})},t.prototype.computeDirtyDiff=function(e,t,n){return this._withSyncedResources([e,t]).then(function(i){return i.computeDirtyDiff(e.toString(),t.toString(),n)})},t.prototype.computeMoreMinimalEdits=function(e,t,n){return this._withSyncedResources([e]).then(function(i){return i.computeMoreMinimalEdits(e.toString(),t,n)})},t.prototype.computeLinks=function(e){return this._withSyncedResources([e]).then(function(t){return t.computeLinks(e.toString())})},t.prototype.textualSuggest=function(e,t){var n=this;return this._withSyncedResources([e]).then(function(i){var r=n._modelService.getModel(e);if(!r)return null;var o=h.LanguageConfigurationRegistry.getWordDefinition(r.getModeId()),s=o.source,a=(o.global?"g":"")+(o.ignoreCase?"i":"")+(o.multiline?"m":"");return i.textualSuggest(e.toString(),t,s,a)})},t.prototype.navigateValueSet=function(e,t,n){var i=this;return this._withSyncedResources([e]).then(function(r){var o=i._modelService.getModel(e);if(!o)return null;var s=h.LanguageConfigurationRegistry.getWordDefinition(o.getModeId()),a=s.source,c=(s.global?"g":"")+(s.ignoreCase?"i":"")+(s.multiline?"m":"");return r.navigateValueSet(e.toString(),t,n,a,c)})},t}(i.Disposable);t.EditorWorkerClient=C}),define(l[691],h([1,0,17,337]),function(e,t,n,i){"use strict";function r(e,t){return new o(e,t)}t.createWebWorker=r;var o=function(e){function t(t,n){e.call(this,t,n.label),this._foreignModuleId=n.moduleId,this._foreignModuleCreateData=n.createData||null,this._foreignProxy=null}return d(t,e),t.prototype._getForeignProxy=function(){var e=this;return this._foreignProxy||(this._foreignProxy=new n.ShallowCancelThenPromise(this._getProxy().then(function(t){return t.loadForeignModule(e._foreignModuleId,e._foreignModuleCreateData).then(function(n){e._foreignModuleId=null,e._foreignModuleCreateData=null;for(var i=function(e,n){return t.fmr(e,n)},r=function(e,t){return function(){var n=Array.prototype.slice.call(arguments,0);return t(e,n)}},o={},s=0;s<n.length;s++)o[n[s]]=r(n[s],i);return o})}))),this._foreignProxy},t.prototype.getProxy=function(){return this._getForeignProxy()},t.prototype.withSyncedResources=function(e){var t=this;return this._withSyncedResources(e).then(function(e){return t.getProxy()})},t}(i.EditorWorkerClient)}),define(l[692],h([1,0,10]),function(e,t,n){"use strict";var i=function(){function e(e){this._getVerticalOffsetForLine=e,
this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._maximumHeight=0,this._minimumHeight=0,this._useDarkColor=!1,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}return e.prototype.getId2Color=function(){return this._id2Color},e.prototype.setZones=function(e){e.sort(function(e,t){return e.compareTo(t)});for(var t=this._zones,n=0,i=this._zones.length,r=0,o=e.length,s=[];r<o;){var a=e[r];if(n>=i)s.push(a),r++;else{var c=t[n],u=c.compareTo(a);u<0?n++:u>0?(s.push(a),r++):(s.push(c),n++,r++)}}this._zones=s},e.prototype.setLineHeight=function(e){return this._lineHeight!==e&&(this._lineHeight=e,this._colorZonesInvalid=!0,!0)},e.prototype.setPixelRatio=function(e){this._pixelRatio=e,this._colorZonesInvalid=!0},e.prototype.getDOMWidth=function(){return this._domWidth},e.prototype.getCanvasWidth=function(){return this._domWidth*this._pixelRatio},e.prototype.setDOMWidth=function(e){return this._domWidth!==e&&(this._domWidth=e,this._colorZonesInvalid=!0,!0)},e.prototype.getDOMHeight=function(){return this._domHeight},e.prototype.getCanvasHeight=function(){return this._domHeight*this._pixelRatio},e.prototype.setDOMHeight=function(e){return this._domHeight!==e&&(this._domHeight=e,this._colorZonesInvalid=!0,!0)},e.prototype.getOuterHeight=function(){return this._outerHeight},e.prototype.setOuterHeight=function(e){return this._outerHeight!==e&&(this._outerHeight=e,this._colorZonesInvalid=!0,!0)},e.prototype.setMaximumHeight=function(e){return this._maximumHeight!==e&&(this._maximumHeight=e,this._colorZonesInvalid=!0,!0)},e.prototype.setMinimumHeight=function(e){return this._minimumHeight!==e&&(this._minimumHeight=e,this._colorZonesInvalid=!0,!0)},e.prototype.setUseDarkColor=function(e){return this._useDarkColor!==e&&(this._useDarkColor=e,this._colorZonesInvalid=!0,!0)},e.prototype.resolveColorZones=function(){for(var e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),n=Math.floor(this.getCanvasHeight()),i=Math.floor(this._maximumHeight*this._pixelRatio),r=Math.floor(this._minimumHeight*this._pixelRatio),o=this._useDarkColor,s=Math.floor(this._outerHeight),a=n/s,c=[],u=0,l=this._zones.length;u<l;u++){var h=this._zones[u];if(!e){var d=h.getColorZones();if(d){for(var p=0,f=d.length;p<f;p++)c.push(d[p]);continue}}var g=[];if(h.forceHeight){var v=Math.floor(h.forceHeight*this._pixelRatio),m=Math.floor(this._getVerticalOffsetForLine(h.startLineNumber));m=Math.floor(m*a);var y=m+v;g.push(this.createZone(n,m,y,v,v,h.getColor(o),h.position))}else{var m=Math.floor(this._getVerticalOffsetForLine(h.startLineNumber)),y=Math.floor(this._getVerticalOffsetForLine(h.endLineNumber))+t;m=Math.floor(m*a),y=Math.floor(y*a);var b=h.endLineNumber-h.startLineNumber+1,S=b*i;if(y-m>S)for(var E=h.startLineNumber;E<=h.endLineNumber;E++)m=Math.floor(this._getVerticalOffsetForLine(E)),y=m+t,m=Math.floor(m*a),y=Math.floor(y*a),g.push(this.createZone(n,m,y,r,i,h.getColor(o),h.position));else g.push(this.createZone(n,m,y,r,S,h.getColor(o),h.position))}h.setColorZones(g);for(var p=0,f=g.length;p<f;p++)c.push(g[p])}this._colorZonesInvalid=!1;var _=function(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId};return c.sort(_),c},e.prototype.createZone=function(e,t,i,r,o,s,a){e=Math.floor(e),t=Math.floor(t),i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);var c=Math.floor((t+i)/2),u=i-c;u>o/2&&(u=o/2),u<r/2&&(u=r/2),c-u<0&&(c=u),c+u>e&&(c=e-u);var l=this._color2Id[s];return l||(l=++this._lastAssignedId,this._color2Id[s]=l,this._id2Color[l]=s),new n.ColorZone(c-u,c+u,l,a)},e}();t.OverviewZoneManager=i}),define(l[340],h([1,0,67,10,48,692]),function(e,t,n,i,r,o){"use strict";var s=function(){function e(e,t,n,i,s,a,c,u){var l=this;this._canvasLeftOffset=e,this._domNode=document.createElement("canvas"),this._domNode.className=t,this._domNode.style.position="absolute",this._lanesCount=3,this._canUseTranslate3d=s,this._zoneManager=new o.OverviewZoneManager(u),this._zoneManager.setMinimumHeight(a),this._zoneManager.setMaximumHeight(c),this._zoneManager.setUseDarkColor(!1),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(n),this._zoneManager.setLineHeight(i),this._zoomListener=r.onDidChangeZoomLevel(function(){l._zoneManager.setPixelRatio(r.getPixelRatio()),l._domNode.style.width=l._zoneManager.getDOMWidth()+"px",l._domNode.style.height=l._zoneManager.getDOMHeight()+"px",l._domNode.width=l._zoneManager.getCanvasWidth(),l._domNode.height=l._zoneManager.getCanvasHeight(),l.render(!0)}),this._zoneManager.setPixelRatio(r.getPixelRatio())}return e.prototype.dispose=function(){this._zoomListener.dispose(),this._zoneManager=null},e.prototype.setLayout=function(e,t){n.StyleMutator.setTop(this._domNode,e.top),n.StyleMutator.setRight(this._domNode,e.right);var i=!1;i=this._zoneManager.setDOMWidth(e.width)||i,i=this._zoneManager.setDOMHeight(e.height)||i,i&&(this._domNode.style.width=this._zoneManager.getDOMWidth()+"px",this._domNode.style.height=this._zoneManager.getDOMHeight()+"px",this._domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.height=this._zoneManager.getCanvasHeight(),t&&this.render(!0))},e.prototype.getLanesCount=function(){return this._lanesCount},e.prototype.setLanesCount=function(e,t){this._lanesCount=e,t&&this.render(!0)},e.prototype.setUseDarkColor=function(e,t){this._zoneManager.setUseDarkColor(e),t&&this.render(!0)},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPixelWidth=function(){return this._zoneManager.getCanvasWidth()},e.prototype.getPixelHeight=function(){return this._zoneManager.getCanvasHeight()},e.prototype.setScrollHeight=function(e,t){this._zoneManager.setOuterHeight(e),t&&this.render(!0)},e.prototype.setLineHeight=function(e,t){this._zoneManager.setLineHeight(e),t&&this.render(!0)},e.prototype.setCanUseTranslate3d=function(e,t){this._canUseTranslate3d=e,t&&this.render(!0)},e.prototype.setZones=function(e,t){this._zoneManager.setZones(e),t&&this.render(!1)},e.prototype.render=function(t){if(!e.hasCanvas)return!1;if(0===this._zoneManager.getOuterHeight())return!1;this._canUseTranslate3d?n.StyleMutator.setTransform(this._domNode,"translate3d(0px, 0px, 0px)"):n.StyleMutator.setTransform(this._domNode,"");var i=this._zoneManager.getCanvasWidth(),r=this._zoneManager.getCanvasHeight(),o=this._zoneManager.resolveColorZones(),s=this._zoneManager.getId2Color(),a=this._domNode.getContext("2d");if(a.clearRect(0,0,i,r),o.length>0){var c=i-this._canvasLeftOffset;this._lanesCount>=3?this._renderThreeLanes(a,o,s,c):2===this._lanesCount?this._renderTwoLanes(a,o,s,c):1===this._lanesCount&&this._renderOneLane(a,o,s,c)}return!0},e.prototype._renderOneLane=function(e,t,n,r){this._renderVerticalPatch(e,t,n,i.OverviewRulerLane.Left|i.OverviewRulerLane.Center|i.OverviewRulerLane.Right,this._canvasLeftOffset,r)},e.prototype._renderTwoLanes=function(e,t,n,r){var o=Math.floor(r/2),s=r-o,a=this._canvasLeftOffset,c=this._canvasLeftOffset+o;this._renderVerticalPatch(e,t,n,i.OverviewRulerLane.Left|i.OverviewRulerLane.Center,a,o),this._renderVerticalPatch(e,t,n,i.OverviewRulerLane.Right,c,s)},e.prototype._renderThreeLanes=function(e,t,n,r){var o=Math.floor(r/3),s=Math.floor(r/3),a=r-o-s,c=this._canvasLeftOffset,u=this._canvasLeftOffset+o,l=this._canvasLeftOffset+o+a;this._renderVerticalPatch(e,t,n,i.OverviewRulerLane.Left,c,o),this._renderVerticalPatch(e,t,n,i.OverviewRulerLane.Center,u,a),this._renderVerticalPatch(e,t,n,i.OverviewRulerLane.Right,l,s)},e.prototype._renderVerticalPatch=function(e,t,n,i,r,o){for(var s=0,a=0,c=0,u=0,l=t.length;u<l;u++){var h=t[u];if(h.position&i){var d=h.colorId,p=h.from,f=h.to;d!==s?(e.fillRect(r,a,o,c-a),s=d,e.fillStyle=n[s],a=p,c=f):c>=p?c=Math.max(c,f):(e.fillRect(r,a,o,c-a),a=p,c=f)}}e.fillRect(r,a,o,c-a)},e.hasCanvas=window.navigator.userAgent.indexOf("MSIE 8")===-1,e}();t.OverviewRulerImpl=s}),define(l[694],h([1,0,10]),function(e,t,n){"use strict";var i=function(){function e(){}return e.compute=function(e){var t=0|e.outerWidth,i=0|e.outerHeight,r=Boolean(e.showGlyphMargin),o=0|e.lineHeight,s=Boolean(e.showLineNumbers),a=0|e.lineNumbersMinChars,c=0|e.lineDecorationsWidth,u=Number(e.maxDigitWidth),l=0|e.maxLineNumber,h=0|e.verticalScrollbarWidth,d=Boolean(e.verticalScrollbarHasArrows),p=0|e.scrollbarArrowSize,f=0|e.horizontalScrollbarHeight,g=0;if(s){var v=Math.max(this.digitCount(l),a);g=Math.round(v*u)}var m=0;r&&(m=o);var y=t-m-g-c,b=0,S=b+m,E=S+g,_=E+c,C=d?p:0;return new n.EditorLayoutInfo({width:t,height:i,glyphMarginLeft:b,glyphMarginWidth:m,glyphMarginHeight:i,lineNumbersLeft:S,lineNumbersWidth:g,lineNumbersHeight:i,decorationsLeft:E,decorationsWidth:c,decorationsHeight:i,contentLeft:_,contentWidth:y,contentHeight:i,verticalScrollbarWidth:h,horizontalScrollbarHeight:f,overviewRuler:new n.OverviewRulerPosition({top:C,width:h,height:i-2*C,right:0})})},e.digitCount=function(e){for(var t=0;e;)e=Math.floor(e/10),t++;return t?t:1},e}();t.EditorLayoutProvider=i}),define(l[349],h([1,0,44,15,10,936,203]),function(e,t,n,i,r,o,s){"use strict";function a(e,t,n,i,r,o,s){var a=e.createLineMapping(t,n,i,r,o);return null===a?new u(s):new l(a,s)}var c=function(){function e(e,t){this.outputLineIndex=e,this.outputOffset=t}return e}();t.OutputPosition=c;var u=function(){function e(e){this._isVisible=e}return e.prototype.isVisible=function(){return this._isVisible},e.prototype.setVisible=function(e){this._isVisible=e},e.prototype.getOutputLineCount=function(){return this._isVisible?1:0},e.prototype.getOutputLineContent=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");return e.getLineContent(t)},e.prototype.getOutputLineMinColumn=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");return e.getLineMinColumn(t)},e.prototype.getOutputLineMaxColumn=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");return e.getLineMaxColumn(t)},e.prototype.getOutputLineTokens=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");return o.IdentityFilteredLineTokens.create(e.getLineTokens(t,!0),e.getLineMaxColumn(t)-1)},e.prototype.getInputColumnOfOutputPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");return t},e.prototype.getOutputPositionOfInputPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");return new n.Position(e,t)},e}(),l=function(){function e(e,t){this.positionMapper=e,this.wrappedIndent=this.positionMapper.getWrappedLinesIndent(),this.wrappedIndentLength=this.wrappedIndent.length,this.outputLineCount=this.positionMapper.getOutputLineCount(),this._isVisible=t}return e.prototype.isVisible=function(){return this._isVisible},e.prototype.setVisible=function(e){this._isVisible=e},e.prototype.getOutputLineCount=function(){return this._isVisible?this.outputLineCount:0},e.prototype.getInputStartOffsetOfOutputLineIndex=function(e){return this.positionMapper.getInputOffsetOfOutputPosition(e,0)},e.prototype.getInputEndOffsetOfOutputLineIndex=function(e,t,n){return n+1===this.outputLineCount?e.getLineMaxColumn(t)-1:this.positionMapper.getInputOffsetOfOutputPosition(n+1,0)},e.prototype.getOutputLineContent=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");var i=this.getInputStartOffsetOfOutputLineIndex(n),r=this.getInputEndOffsetOfOutputLineIndex(e,t,n),o=e.getLineContent(t).substring(i,r);return n>0&&(o=this.wrappedIndent+o),o},e.prototype.getOutputLineMinColumn=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");return n>0?this.wrappedIndentLength+1:1},e.prototype.getOutputLineMaxColumn=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");return this.getOutputLineContent(e,t,n).length+1},e.prototype.getOutputLineTokens=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");var i=this.getInputStartOffsetOfOutputLineIndex(n),r=this.getInputEndOffsetOfOutputLineIndex(e,t,n),s=0;return n>0&&(s=this.wrappedIndentLength),o.FilteredLineTokens.create(e.getLineTokens(t,!0),i,r,s)},e.prototype.getInputColumnOfOutputPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");var n=t-1;return e>0&&(n<this.wrappedIndentLength?n=0:n-=this.wrappedIndentLength),this.positionMapper.getInputOffsetOfOutputPosition(e,n)+1},e.prototype.getOutputPositionOfInputPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");var i=this.positionMapper.getOutputPositionOfInputOffset(t-1),r=i.outputLineIndex,o=i.outputOffset+1;return r>0&&(o+=this.wrappedIndentLength),new n.Position(e+r,o)},e}();t.SplitLine=l;var h=function(){function e(e,t,n,i,r,o){this.model=e,this._validModelVersionId=-1,this.tabSize=n,this.wrappingColumn=i,this.columnsForFullWidthChar=r,this.wrappingIndent=o,this.linePositionMapperFactory=t,this._constructLines(!0)}return e.prototype.dispose=function(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])},e.prototype._ensureValidState=function(){var e=this.model.getVersionId();if(e!==this._validModelVersionId)throw new Error("SplitLinesCollection: attempt to access a 'newer' model")},e.prototype._constructLines=function(e){var t=this;this.lines=[],e&&(this.hiddenAreasIds=[]);for(var n=[],r=this.model.getLinesContent(),o=r.length,c=this.hiddenAreasIds.map(function(e){return t.model.getDecorationRange(e)}).sort(i.Range.compareRangesUsingStarts),u=1,l=0,h=-1,d=h+1<c.length?l+1:o+2,p=0;p<o;p++){var f=p+1;f===d&&(h++,u=c[h].startLineNumber,l=c[h].endLineNumber,d=h+1<c.length?l+1:o+2);var g=f>=u&&f<=l,v=a(this.linePositionMapperFactory,r[p],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!g);n[p]=v.getOutputLineCount(),this.lines[p]=v}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new s.PrefixSumComputer(n)},e.prototype.getHiddenAreas=function(){var e=this;return this.hiddenAreasIds.map(function(t){return e.model.getDecorationRange(t)}).sort(i.Range.compareRangesUsingStarts)},e.prototype._reduceRanges=function(e){var t=this;if(0===e.length)return[];for(var n=e.map(function(e){return t.model.validateRange(e)}).sort(i.Range.compareRangesUsingStarts),r=[],o=n[0].startLineNumber,s=n[0].endLineNumber,a=1,c=n.length;a<c;a++){var u=n[a];u.startLineNumber>s+1?(r.push(new i.Range(o,1,s,1)),o=u.startLineNumber,s=u.endLineNumber):u.endLineNumber>s&&(s=u.endLineNumber)}return r.push(new i.Range(o,1,s,1)),r},e.prototype.setHiddenAreas=function(e,t){var n=this,o=this._reduceRanges(e),s=this.hiddenAreasIds.map(function(e){return n.model.getDecorationRange(e)}).sort(i.Range.compareRangesUsingStarts);if(o.length===s.length){for(var a=!1,c=0;c<o.length;c++)if(!o[c].equalsRange(s[c])){a=!0;break}if(!a)return!1}for(var u=[],c=0;c<o.length;c++)u.push({range:o[c],options:{}});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,u);for(var l=o,h=1,d=0,p=-1,f=p+1<l.length?d+1:this.lines.length+2,c=0;c<this.lines.length;c++){var g=c+1;g===f&&(p++,h=l[p].startLineNumber,d=l[p].endLineNumber,f=p+1<l.length?d+1:this.lines.length+2);var v=!1;if(g>=h&&g<=d?this.lines[c].isVisible()&&(this.lines[c].setVisible(!1),v=!0):this.lines[c].isVisible()||(this.lines[c].setVisible(!0),v=!0),v){var m=this.lines[c].getOutputLineCount();this.prefixSumComputer.changeValue(c,m)}}return t(r.ViewEventNames.ModelFlushedEvent,null),!0},e.prototype.inputPositionIsVisible=function(e,t){return!(e<1||e>this.lines.length)&&this.lines[e-1].isVisible()},e.prototype.setTabSize=function(e,t){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1),t(r.ViewEventNames.ModelFlushedEvent,null),!0)},e.prototype.setWrappingIndent=function(e,t){return this.wrappingIndent!==e&&(this.wrappingIndent=e,this._constructLines(!1),t(r.ViewEventNames.ModelFlushedEvent,null),!0)},e.prototype.setWrappingColumn=function(e,t,n){return(this.wrappingColumn!==e||this.columnsForFullWidthChar!==t)&&(this.wrappingColumn=e,this.columnsForFullWidthChar=t,this._constructLines(!1),n(r.ViewEventNames.ModelFlushedEvent,null),!0)},e.prototype.onModelFlushed=function(e,t){this._constructLines(!0),t(r.ViewEventNames.ModelFlushedEvent,null)},e.prototype.onModelLinesDeleted=function(e,t,n,i){if(!(e<=this._validModelVersionId)){this._validModelVersionId=e;var o=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,s=this.prefixSumComputer.getAccumulatedValue(n-1);this.lines.splice(t-1,n-t+1),this.prefixSumComputer.removeValues(t-1,n-t+1);var a={fromLineNumber:o,toLineNumber:s};i(r.ViewEventNames.LinesDeletedEvent,a)}},e.prototype.onModelLinesInserted=function(e,t,i,o,s){if(!(e<=this._validModelVersionId)){this._validModelVersionId=e;for(var c=this.getHiddenAreas(),u=!1,l=new n.Position(t,1),h=0;h<c.length;h++)if(c[h].containsPosition(l)){u=!0;break}for(var d=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,p=0,f=[],g=[],h=0,v=o.length;h<v;h++){var m=a(this.linePositionMapperFactory,o[h],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!u);f.push(m);var y=m.getOutputLineCount();p+=y,g.push(y)}this.lines=this.lines.slice(0,t-1).concat(f).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,g);var b={fromLineNumber:d,toLineNumber:d+p-1};s(r.ViewEventNames.LinesInsertedEvent,b)}},e.prototype.onModelLineChanged=function(e,t,n,i){if(!(e<=this._validModelVersionId)){this._validModelVersionId=e;var o=t-1,s=this.lines[o].getOutputLineCount(),c=this.lines[o].isVisible(),u=a(this.linePositionMapperFactory,n,this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,c);this.lines[o]=u;var l=this.lines[o].getOutputLineCount(),h=!1,d=0,p=-1,f=0,g=-1,v=0,m=-1;s>l?(d=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,p=d+l-1,v=p+1,m=v+(s-l)-1,h=!0):s<l?(d=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,p=d+s-1,f=p+1,g=f+(l-s)-1,h=!0):(d=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,p=d+l-1),this.prefixSumComputer.changeValue(o,l);var y,b,S;if(d<=p)for(var E=d;E<=p;E++)y={lineNumber:E},i(r.ViewEventNames.LineChangedEvent,y);return f<=g&&(b={fromLineNumber:f,toLineNumber:g},i(r.ViewEventNames.LinesInsertedEvent,b)),v<=m&&(S={fromLineNumber:v,toLineNumber:m},i(r.ViewEventNames.LinesDeletedEvent,S)),h}},e.prototype.getOutputLineCount=function(){return this._ensureValidState(),this.prefixSumComputer.getTotalValue()},e.prototype._toValidOutputLineNumber=function(e){if(e<1)return 1;var t=this.getOutputLineCount();return e>t?t:e},e.prototype.getOutputLineContent=function(e){this._ensureValidState(),e=this._toValidOutputLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getOutputLineContent(this.model,n+1,i)},e.prototype.getOutputIndentGuide=function(e){this._ensureValidState(),e=this._toValidOutputLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1);return this.model.getLineIndentGuide(t.index+1)},e.prototype.getOutputLineMinColumn=function(e){this._ensureValidState(),e=this._toValidOutputLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getOutputLineMinColumn(this.model,n+1,i)},e.prototype.getOutputLineMaxColumn=function(e){this._ensureValidState(),e=this._toValidOutputLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getOutputLineMaxColumn(this.model,n+1,i)},e.prototype.getOutputLineTokens=function(e){this._ensureValidState(),e=this._toValidOutputLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getOutputLineTokens(this.model,n+1,i)},e.prototype.convertOutputPositionToInputPosition=function(e,t){this._ensureValidState(),e=this._toValidOutputLineNumber(e);var i=this.prefixSumComputer.getIndexOf(e-1),r=i.index,o=i.remainder,s=this.lines[r].getInputColumnOfOutputPosition(o,t);return this.model.validatePosition(new n.Position(r+1,s))},e.prototype.convertInputPositionToOutputPosition=function(e,t){this._ensureValidState();for(var i=this.model.validatePosition(new n.Position(e,t)),r=i.lineNumber,o=i.column,s=r-1,a=!1;s>0&&!this.lines[s].isVisible();)s--,a=!0;if(0===s&&!this.lines[s].isVisible())return new n.Position(1,1);var c,u=1+(0===s?0:this.prefixSumComputer.getAccumulatedValue(s-1));return c=a?this.lines[s].getOutputPositionOfInputPosition(u,this.model.getLineMaxColumn(s+1)):this.lines[r-1].getOutputPositionOfInputPosition(u,o)},e}();t.SplitLinesCollection=h}),define(l[696],h([1,0,12,10,203,349,277]),function(e,t,n,i,r,o,s){"use strict";var a;!function(e){e[e.NONE=0]="NONE",e[e.BREAK_BEFORE=1]="BREAK_BEFORE",e[e.BREAK_AFTER=2]="BREAK_AFTER",e[e.BREAK_OBTRUSIVE=3]="BREAK_OBTRUSIVE",e[e.BREAK_IDEOGRAPHIC=4]="BREAK_IDEOGRAPHIC"}(a||(a={}));var c=function(e){function t(t,n,i){e.call(this,0);for(var r=0;r<t.length;r++)this.set(t.charCodeAt(r),1);for(var r=0;r<n.length;r++)this.set(n.charCodeAt(r),2);for(var r=0;r<i.length;r++)this.set(i.charCodeAt(r),3)}return d(t,e),t.prototype.get=function(t){return t>=12352&&t<=12543||t>=13312&&t<=19903||t>=19968&&t<=40959?4:e.prototype.get.call(this,t)},t}(s.CharacterClassifier),u=function(){function e(e,t,n){this.classifier=new c(e,t,n)}return e.nextVisibleColumn=function(e,t,n,i){return e=+e,t=+t,i=+i,n?e+(t-e%t):e+i},e.prototype.createLineMapping=function(t,o,s,a,c){if(s===-1)return null;o=+o,s=+s,a=+a,c=+c;var u=0,h="",d=-1;if(c!==i.WrappingIndent.None&&(d=n.firstNonWhitespaceIndex(t),d!==-1)){h=t.substring(0,d);for(var p=0;p<d;p++)u=e.nextVisibleColumn(u,o,9===t.charCodeAt(p),1);c===i.WrappingIndent.Indent&&(h+="\t",u=e.nextVisibleColumn(u,o,!0,1)),u>.5*s&&(h="",u=0)}for(var f=this.classifier,g=0,v=[],m=0,y=0,b=-1,S=0,E=-1,_=0,C=t.length,p=0;p<C;p++){var w=t.charCodeAt(p),I=9===w,T=f.get(w);if(1===T&&(b=p,S=u),4===T&&p>0){var x=t.charCodeAt(p-1),A=f.get(x);1!==A&&(b=p,S=u)}var D=1;if(n.isFullWidthCharacter(w)&&(D=a),y=e.nextVisibleColumn(y,o,I,D),y>s&&0!==p){var L=void 0,k=void 0;b!==-1?(L=b,k=S):E!==-1?(L=E,k=_):(L=p,k=u),v[m++]=L-g,g=L,y=e.nextVisibleColumn(k,o,I,D),b=-1,S=0,E=-1,_=0}if(b!==-1&&(S=e.nextVisibleColumn(S,o,I,D)),E!==-1&&(_=e.nextVisibleColumn(_,o,I,D)),2===T&&(c===i.WrappingIndent.None||p>=d)&&(b=p+1,S=u),4===T&&p<C-1){var P=t.charCodeAt(p+1),R=f.get(P);2!==R&&(b=p+1,S=u)}3===T&&(E=p+1,_=u)}return 0===m?null:(v[m++]=C-g,new l(new r.PrefixSumComputer(v),h))},e}();t.CharacterHardWrappingLineMapperFactory=u;var l=function(){function e(e,t){this._prefixSums=e,this._wrappedLinesIndent=t}return e.prototype.getOutputLineCount=function(){return this._prefixSums.getCount()},e.prototype.getWrappedLinesIndent=function(){return this._wrappedLinesIndent},e.prototype.getInputOffsetOfOutputPosition=function(e,t){return 0===e?t:this._prefixSums.getAccumulatedValue(e-1)+t},e.prototype.getOutputPositionOfInputOffset=function(e){var t=this._prefixSums.getIndexOf(e);return new o.OutputPosition(t.index,t.remainder)},e}();t.CharacterHardWrappingLineMapping=l}),define(l[147],h([1,0,10]),function(e,t,n){"use strict";var i=function(){function e(){this._shouldRender=!0}return e.prototype.shouldRender=function(){return this._shouldRender},e.prototype.setShouldRender=function(){this._shouldRender=!0},e.prototype.onDidRender=function(){this._shouldRender=!1},e.prototype.onLineMappingChanged=function(){return!1},e.prototype.onModelFlushed=function(){return!1},e.prototype.onModelDecorationsChanged=function(e){return!1},e.prototype.onModelLinesDeleted=function(e){return!1},e.prototype.onModelLineChanged=function(e){return!1},e.prototype.onModelLinesInserted=function(e){return!1},e.prototype.onModelTokensChanged=function(e){return!1},e.prototype.onCursorPositionChanged=function(e){return!1},e.prototype.onCursorSelectionChanged=function(e){return!1},e.prototype.onCursorRevealRange=function(e){return!1},e.prototype.onCursorScrollRequest=function(e){return!1},e.prototype.onConfigurationChanged=function(e){return!1},e.prototype.onLayoutChanged=function(e){return!1},e.prototype.onScrollChanged=function(e){return!1},e.prototype.onZonesChanged=function(){return!1},e.prototype.onViewFocusChanged=function(e){return!1},e.prototype.handleEvents=function(e){for(var t=!1,i=0,r=e.length;i<r;i++){var o=e[i],s=o.getData();switch(o.getType()){case n.ViewEventNames.LineMappingChangedEvent:this.onLineMappingChanged()&&(t=!0);break;case n.ViewEventNames.ModelFlushedEvent:this.onModelFlushed()&&(t=!0);break;case n.ViewEventNames.LinesDeletedEvent:this.onModelLinesDeleted(s)&&(t=!0);break;case n.ViewEventNames.LinesInsertedEvent:this.onModelLinesInserted(s)&&(t=!0);break;case n.ViewEventNames.LineChangedEvent:this.onModelLineChanged(s)&&(t=!0);break;case n.ViewEventNames.TokensChangedEvent:this.onModelTokensChanged(s)&&(t=!0);break;case n.ViewEventNames.DecorationsChangedEvent:this.onModelDecorationsChanged(s)&&(t=!0);break;case n.ViewEventNames.CursorPositionChangedEvent:this.onCursorPositionChanged(s)&&(t=!0);break;case n.ViewEventNames.CursorSelectionChangedEvent:this.onCursorSelectionChanged(s)&&(t=!0);break;case n.ViewEventNames.RevealRangeEvent:this.onCursorRevealRange(s)&&(t=!0);break;case n.ViewEventNames.ScrollRequestEvent:this.onCursorScrollRequest(s)&&(t=!0);break;case n.EventType.ConfigurationChanged:this.onConfigurationChanged(s)&&(t=!0);break;case n.EventType.ViewLayoutChanged:this.onLayoutChanged(s)&&(t=!0);break;case n.EventType.ViewScrollChanged:this.onScrollChanged(s)&&(t=!0);break;case n.EventType.ViewZonesChanged:this.onZonesChanged()&&(t=!0);break;case n.EventType.ViewFocusChanged:this.onViewFocusChanged(s)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(o)}}t&&(this._shouldRender=!0)},e}();t.ViewEventHandler=i}),define(l[150],h([1,0,147]),function(e,t,n){"use strict";var i=function(e){function t(){e.apply(this,arguments)}return d(t,e),t}(n.ViewEventHandler);t.DynamicViewOverlay=i}),define(l[135],h([1,0,147]),function(e,t,n){"use strict";var i=function(e){function t(t){e.call(this),this._context=t,this._context.addEventHandler(this)}return d(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null},t}(n.ViewEventHandler);t.ViewPart=i}),define(l[360],h([1,0,135,67]),function(e,t,n,i){"use strict";var r=function(){function e(e){this._lines=[],this._rendLineNumberStart=1,this._createLine=e}return e.prototype._set=function(e,t){this._lines=t,this._rendLineNumberStart=e},e.prototype._get=function(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}},e.prototype.getStartLineNumber=function(){return this._rendLineNumberStart},e.prototype.getEndLineNumber=function(){return this._rendLineNumberStart+this._lines.length-1},e.prototype.getCount=function(){return this._lines.length},e.prototype.getLine=function(e){var t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber: "+e);return this._lines[t]},e.prototype.onModelLinesDeleted=function(e,t){if(0===this.getCount())return null;for(var n=this.getStartLineNumber(),i=this.getEndLineNumber(),r=0,o=0,s=n;s<=i;s++){var a=s-this._rendLineNumberStart;e<=s&&s<=t&&(0===o?(r=a,o=1):o++)}if(e<n){var c=0;c=t<n?t-e+1:n-e,this._rendLineNumberStart-=c}var u=this._lines.splice(r,o);return u},e.prototype.onModelLineChanged=function(e){if(0===this.getCount())return!1;for(var t=this.getStartLineNumber(),n=this.getEndLineNumber(),i=!1,r=t;r<=n;r++){var o=r-this._rendLineNumberStart;r===e&&(this._lines[o].onContentChanged(),i=!0)}return i},e.prototype.onModelLinesInserted=function(e,t){if(0===this.getCount())return null;var n=t-e+1,i=this.getStartLineNumber(),r=this.getEndLineNumber();if(e<=i)return this._rendLineNumberStart+=n,null;if(e>r)return null;if(n+e>r){var o=this._lines.splice(e-this._rendLineNumberStart,r-e+1);return o}for(var s=[],a=0;a<n;a++)s[a]=this._createLine();var c=e-this._rendLineNumberStart,u=this._lines.slice(0,c),l=this._lines.slice(c,this._lines.length-n),h=this._lines.slice(this._lines.length-n,this._lines.length);return this._lines=u.concat(s).concat(l),h},e.prototype.onModelTokensChanged=function(e){if(0===this.getCount())return!1;for(var t=this.getStartLineNumber(),n=this.getEndLineNumber(),i=!1,r=0,o=e.length;r<o;r++){var s=e[r];if(!(s.toLineNumber<t||s.fromLineNumber>n))for(var a=Math.max(t,s.fromLineNumber),c=Math.min(n,s.toLineNumber),u=a;u<=c;u++){var l=u-this._rendLineNumberStart;this._lines[l].onTokensChanged(),i=!0}}return i},e}();t.RenderedLinesCollection=r;var o=function(e){function t(t){var n=this;e.call(this,t),this.domNode=this._createDomNode(),this._linesCollection=new r(function(){return n._createLine()}),this._scrollDomNode=null,this._scrollDomNodeIsAbove=!1,this._renderer=new s(function(){return n._createLine()})}return d(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._linesCollection=null},t.prototype.onConfigurationChanged=function(e){for(var t=this._linesCollection.getStartLineNumber(),n=this._linesCollection.getEndLineNumber(),i=t;i<=n;i++){var r=this._linesCollection.getLine(i);r.onConfigurationChanged(e)}return!0},t.prototype.onLayoutChanged=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(){return!0},t.prototype.onModelFlushed=function(){var e=this;return this._linesCollection=new r(function(){return e._createLine()}),this._scrollDomNode=null,!0},t.prototype.onModelLinesDeleted=function(e){var t=this._linesCollection.onModelLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(var n=0,i=t.length;n<i;n++){var r=t[n].getDomNode();r&&this.domNode.domNode.removeChild(r)}return!0},t.prototype.onModelLineChanged=function(e){return this._linesCollection.onModelLineChanged(e.lineNumber)},t.prototype.onModelLinesInserted=function(e){var t=this._linesCollection.onModelLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(var n=0,i=t.length;n<i;n++){var r=t[n].getDomNode();r&&this.domNode.domNode.removeChild(r)}return!0},t.prototype.onModelTokensChanged=function(e){return this._linesCollection.onModelTokensChanged(e.ranges)},t.prototype._renderLines=function(e){var t=this._linesCollection._get(),n={domNode:this.domNode.domNode,rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length,getInlineDecorationsForLineInViewport:function(t){return e.getInlineDecorationsForLineInViewport(t)},viewportTop:e.viewportTop,viewportHeight:e.viewportHeight,scrollDomNode:this._scrollDomNode,scrollDomNodeIsAbove:this._scrollDomNodeIsAbove},i=this._renderer.renderWithManyUpdates(n,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(i.rendLineNumberStart,i.lines),this._scrollDomNode=i.scrollDomNode,this._scrollDomNodeIsAbove=i.scrollDomNodeIsAbove},t.prototype._createDomNode=function(){var e=i.createFastDomNode(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e},t}(n.ViewPart);t.ViewLayer=o;var s=function(){function e(e){this._createLine=e}return e.prototype.renderWithManyUpdates=function(e,t,n,i){return this._render(e,t,n,i)},e.prototype._render=function(e,t,n,i){var r={domNode:e.domNode,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength,getInlineDecorationsForLineInViewport:e.getInlineDecorationsForLineInViewport,viewportTop:e.viewportTop,viewportHeight:e.viewportHeight,scrollDomNode:e.scrollDomNode,scrollDomNodeIsAbove:e.scrollDomNodeIsAbove},o=!0;if(r.scrollDomNode){var s=this._getScrollDomNodeTime(r.scrollDomNode);(new Date).getTime()-s<1e3&&(o=!1)}if(o&&(r.rendLineNumberStart+r.linesLength-1<t||n<r.rendLineNumberStart)){r.rendLineNumberStart=t,r.linesLength=n-t+1,r.lines=[];for(var a=t;a<=n;a++)r.lines[a-t]=this._createLine();return this._finishRendering(r,!0,i),r.scrollDomNode=null,r}if(this._renderUntouchedLines(r,Math.max(t-r.rendLineNumberStart,0),Math.min(n-r.rendLineNumberStart,r.linesLength-1),i,t),r.rendLineNumberStart>t){var c=t,u=Math.min(n,r.rendLineNumberStart-1);
c<=u&&(this._insertLinesBefore(r,c,u,i,t),r.linesLength+=u-c+1,r.scrollDomNode&&r.scrollDomNodeIsAbove&&(r.scrollDomNode.parentNode&&r.scrollDomNode.parentNode.removeChild(r.scrollDomNode),r.scrollDomNode=null))}else if(r.rendLineNumberStart<t){var l=Math.min(r.linesLength,t-r.rendLineNumberStart);l>0&&(this._removeLinesBefore(r,l),r.linesLength-=l)}if(r.rendLineNumberStart=t,r.rendLineNumberStart+r.linesLength-1<n){var c=r.rendLineNumberStart+r.linesLength,u=n;c<=u&&(this._insertLinesAfter(r,c,u,i,t),r.linesLength+=u-c+1,r.scrollDomNode&&!r.scrollDomNodeIsAbove&&(r.scrollDomNode.parentNode&&r.scrollDomNode.parentNode.removeChild(r.scrollDomNode),r.scrollDomNode=null))}else if(r.rendLineNumberStart+r.linesLength-1>n){var c=Math.max(0,n-r.rendLineNumberStart+1),u=r.linesLength-1,l=u-c+1;l>0&&(this._removeLinesAfter(r,l),r.linesLength-=l)}return this._finishRendering(r,!1,i),r},e.prototype._renderUntouchedLines=function(e,t,n,i,r){for(var o=t;o<=n;o++){var s=e.rendLineNumberStart+o,a=e.lines[o].getDomNode();a&&e.lines[o].layoutLine(s,i[s-r])}},e.prototype._insertLinesBefore=function(e,t,n,i,r){for(var o=[],s=0,a=t;a<=n;a++)o[s++]=this._createLine();e.lines=o.concat(e.lines)},e.prototype._getScrollDomNodeTime=function(e){var t=e.getAttribute("last-scroll-time");return t?parseInt(t,10):0},e.prototype._removeIfNotScrollDomNode=function(e,t,n){var i=this._getScrollDomNodeTime(t);if(!i)return void e.domNode.removeChild(t);if(e.scrollDomNode){var r=this._getScrollDomNodeTime(e.scrollDomNode);if(r>i)return void e.domNode.removeChild(t);e.scrollDomNode.parentNode&&e.scrollDomNode.parentNode.removeChild(e.scrollDomNode),e.scrollDomNode=null}e.scrollDomNode=t,e.scrollDomNodeIsAbove=n},e.prototype._removeLinesBefore=function(e,t){for(var n=0;n<t;n++){var i=e.lines[n].getDomNode();i&&this._removeIfNotScrollDomNode(e,i,!0)}e.lines.splice(0,t)},e.prototype._insertLinesAfter=function(e,t,n,i,r){for(var o=[],s=0,a=t;a<=n;a++)o[s++]=this._createLine();e.lines=e.lines.concat(o)},e.prototype._removeLinesAfter=function(e,t){for(var n=e.linesLength-t,i=0;i<t;i++){var r=e.lines[n+i].getDomNode();r&&this._removeIfNotScrollDomNode(e,r,!1)}e.lines.splice(n,t)},e._resolveInlineDecorations=function(e){for(var t=[],n=0,i=e.linesLength;n<i;n++){var r=n+e.rendLineNumberStart;t[n]=e.getInlineDecorationsForLineInViewport(r)}return t},e.prototype._finishRenderingNewLines=function(e,t,n,i){var r=e.domNode.lastChild;t||!r?e.domNode.innerHTML=n.join(""):r.insertAdjacentHTML("afterend",n.join(""));for(var o=e.domNode.lastChild,s=e.linesLength-1;s>=0;s--){var a=e.lines[s];i[s]&&(a.setDomNode(o),o=o.previousSibling)}},e.prototype._finishRenderingInvalidLines=function(e,t,n){var i=document.createElement("div");i.innerHTML=t.join("");for(var r=0;r<e.linesLength;r++){var o=e.lines[r];if(n[r]){var s=i.firstChild,a=o.getDomNode();a.parentNode.replaceChild(s,a),o.setDomNode(s)}}},e.prototype._finishRendering=function(t,n,i){for(var r=e._resolveInlineDecorations(t),o=!1,s=[],a=[],c=!1,u=[],l=[],h=0,d=t.linesLength;h<d;h++){var p=t.lines[h],f=h+t.rendLineNumberStart;if(p.shouldUpdateHTML(t.rendLineNumberStart,f,r[h])){var g=p.getDomNode();g?(p.getLineOuterHTML(l,f,i[h]),u[h]=!0,c=!0):(p.getLineOuterHTML(a,f,i[h]),s[h]=!0,o=!0)}}o&&this._finishRenderingNewLines(t,n,a,s),c&&this._finishRenderingInvalidLines(t,l,u)},e}()}),define(l[701],h([1,0,112,10,935,147,668]),function(e,t,n,i,r,o,s){"use strict";var a=function(e){function t(t,n,i,o,a,c){e.call(this),this.configuration=t,this.privateViewEventBus=i,this.model=n,this.scrollManager=new s.ScrollManager(t,i,o,a,c),this.configuration.setMaxLineNumber(this.model.getMaxLineNumber()),this.linesLayout=new r.LinesLayout(t,n),this._updateHeight()}return d(t,e),t.prototype.dispose=function(){this.scrollManager.dispose()},t.prototype.updateLineCount=function(){this.configuration.setMaxLineNumber(this.model.getMaxLineNumber())},t.prototype.onZonesChanged=function(){return this._updateHeight(),!1},t.prototype.onModelFlushed=function(){return this.linesLayout.onModelFlushed(),this.updateLineCount(),this._updateHeight(),!1},t.prototype.onModelLinesDeleted=function(e){return this.linesLayout.onModelLinesDeleted(e),this.updateLineCount(),this._updateHeight(),!1},t.prototype.onModelLinesInserted=function(e){return this.linesLayout.onModelLinesInserted(e),this.updateLineCount(),this._updateHeight(),!1},t.prototype.onConfigurationChanged=function(e){return this.linesLayout.onConfigurationChanged(e),e.layoutInfo&&(this.scrollManager.onLayoutInfoChanged(),this._emitLayoutChangedEvent()),this._updateHeight(),!1},t.prototype._updateHeight=function(){this.scrollManager.setScrollHeight(this.getTotalHeight())},t.prototype.getCurrentViewport=function(){return new i.Viewport(this.scrollManager.getScrollTop(),this.scrollManager.getScrollLeft(),this.scrollManager.getWidth(),this.scrollManager.getHeight())},t.prototype.getCenteredViewLineNumberInViewport=function(){return this.linesLayout.getCenteredLineInViewport(this.getCurrentViewport())},t.prototype._emitLayoutChangedEvent=function(){this.privateViewEventBus.emit(i.EventType.ViewLayoutChanged,this.configuration.editor.layoutInfo)},t.prototype.emitLayoutChangedEvent=function(){this._emitLayoutChangedEvent()},t.prototype._computeScrollWidth=function(e,n){var i=this.configuration.editor.wrappingInfo.isViewportWrapping;return i?Math.max(e,n):Math.max(e+t.LINES_HORIZONTAL_EXTRA_PX,n)},t.prototype.onMaxLineWidthChanged=function(e){var t=this._computeScrollWidth(e,this.getCurrentViewport().width);this.scrollManager.setScrollWidth(t),this._updateHeight()},t.prototype.saveState=function(){var e=this.scrollManager.getScrollTop(),t=this.linesLayout.getLineNumberAtOrAfterVerticalOffset(e),n=this.linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(t);return{scrollTop:e,scrollTopWithoutViewZones:e-n,scrollLeft:this.scrollManager.getScrollLeft()}},t.prototype.restoreState=function(e){var t=e.scrollTop;"number"!=typeof e.scrollTopWithoutViewZones||this.linesLayout.hasWhitespace()||(t=e.scrollTopWithoutViewZones),this.scrollManager.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:t})},t.prototype.addWhitespace=function(e,t,n){return this.linesLayout.insertWhitespace(e,t,n)},t.prototype.changeWhitespace=function(e,t,n){return this.linesLayout.changeWhitespace(e,t,n)},t.prototype.removeWhitespace=function(e){return this.linesLayout.removeWhitespace(e)},t.prototype.getVerticalOffsetForLineNumber=function(e){return this.linesLayout.getVerticalOffsetForLineNumber(e)},t.prototype.heightInPxForLine=function(e){return this.linesLayout.getHeightForLineNumber(e)},t.prototype.isAfterLines=function(e){return this.linesLayout.isAfterLines(e)},t.prototype.getLineNumberAtVerticalOffset=function(e){return this.linesLayout.getLineNumberAtOrAfterVerticalOffset(e)},t.prototype.getTotalHeight=function(){var e=0;return this.scrollManager.getScrollWidth()>this.scrollManager.getWidth()&&this.configuration.editor.viewInfo.scrollbar.horizontal!==n.ScrollbarVisibility.Hidden&&(e=this.configuration.editor.viewInfo.scrollbar.horizontalScrollbarSize),this.linesLayout.getTotalHeight(this.getCurrentViewport(),e)},t.prototype.getWhitespaceAtVerticalOffset=function(e){return this.linesLayout.getWhitespaceAtVerticalOffset(e)},t.prototype.getLinesViewportData=function(){return this.linesLayout.getLinesViewportData(this.getCurrentViewport())},t.prototype.getWhitespaceViewportData=function(){return this.linesLayout.getWhitespaceViewportData(this.getCurrentViewport())},t.prototype.getWhitespaces=function(){return this.linesLayout.getWhitespaces()},t.prototype.getOverviewRulerInsertData=function(){var e=this.scrollManager.getOverviewRulerLayoutInfo();return{parent:e.parent,insertBefore:e.insertBefore}},t.prototype.getScrollbarContainerDomNode=function(){return this.scrollManager.getScrollbarContainerDomNode()},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this.scrollManager.delegateVerticalScrollbarMouseDown(e)},t.prototype.getScrollWidth=function(){return this.scrollManager.getScrollWidth()},t.prototype.getScrollLeft=function(){return this.scrollManager.getScrollLeft()},t.prototype.getScrollHeight=function(){return this.scrollManager.getScrollHeight()},t.prototype.getScrollTop=function(){return this.scrollManager.getScrollTop()},t.prototype.setScrollPosition=function(e){this.scrollManager.setScrollPosition(e)},t.prototype.getScrolledTopFromAbsoluteTop=function(e){return e-this.scrollManager.getScrollTop()},t.prototype.renderScrollbar=function(){this.scrollManager.renderScrollbar()},t.LINES_HORIZONTAL_EXTRA_PX=30,t}(o.ViewEventHandler);t.LayoutProvider=a}),define(l[702],h([1,0,8,67,59,135,1149]),function(e,t,n,i,r,o){"use strict";var s=function(e){function t(t,n){e.call(this,t),this._viewDomNode=n,this._widgets={},this._contentWidth=0,this._contentLeft=0,this._lineHeight=this._context.configuration.editor.lineHeight,this._renderData={},this.domNode=document.createElement("div"),this.domNode.className=r.ClassNames.CONTENT_WIDGETS,this.overflowingContentWidgetsDomNode=document.createElement("div"),this.overflowingContentWidgetsDomNode.className=r.ClassNames.OVERFLOWING_CONTENT_WIDGETS}return d(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._widgets=null,this.domNode=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(e){return!0},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLineChanged=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype.onCursorPositionChanged=function(e){return!1},t.prototype.onCursorSelectionChanged=function(e){return!1},t.prototype.onCursorRevealRange=function(e){return!1},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),!0},t.prototype.onLayoutChanged=function(e){if(this._contentLeft=e.contentLeft,this._contentWidth!==e.contentWidth){this._contentWidth=e.contentWidth;for(var t=Object.keys(this._widgets),n=0,r=t.length;n<r;n++){var o=t[n],s=this._widgets[o],a=s.widget,c=s.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth;i.StyleMutator.setMaxWidth(a.getDomNode(),c)}}return!0},t.prototype.onScrollChanged=function(e){return!0},t.prototype.onZonesChanged=function(){return!0},t.prototype.addWidget=function(e){var t={allowEditorOverflow:e.allowEditorOverflow||!1,widget:e,position:null,preference:null,isVisible:!1};this._widgets[e.getId()]=t;var n=e.getDomNode();n.style.position=this._context.configuration.editor.viewInfo.fixedOverflowWidgets&&e.allowEditorOverflow?"fixed":"absolute",i.StyleMutator.setMaxWidth(n,this._contentWidth),i.StyleMutator.setVisibility(n,"hidden"),n.setAttribute("widgetId",e.getId()),t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(n):this.domNode.appendChild(n),this.setShouldRender()},t.prototype.setWidgetPosition=function(e,t,n){var i=this._widgets[e.getId()];i.position=t,i.preference=n,this.setShouldRender()},t.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var n=this._widgets[t];delete this._widgets[t];var i=n.widget.getDomNode();i.parentNode.removeChild(i),i.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}},t.prototype.shouldSuppressMouseDownOnWidget=function(e){if(this._widgets.hasOwnProperty(e)){var t=this._widgets[e];return t.widget.suppressMouseDown}return!1},t.prototype._layoutBoxInViewport=function(e,t,n){var i=n.visibleRangeForPosition(e);if(!i)return null;var r=t.clientWidth,o=t.clientHeight,s=i.top,a=s,c=i.top+this._lineHeight,u=n.viewportHeight-c,l=s-o,h=a>=o,d=c,p=u>=o,f=i.left;return f+r>n.viewportLeft+n.viewportWidth&&(f=n.viewportLeft+n.viewportWidth-r),f<n.viewportLeft&&(f=n.viewportLeft),{aboveTop:l,fitsAbove:h,belowTop:d,fitsBelow:p,left:f}},t.prototype._layoutBoxInPage=function(e,t,i){var r=i.visibleRangeForPosition(e);if(!r)return null;var o=r.left-i.viewportLeft,s=t.clientWidth,a=t.clientHeight;if(o+s<0||o>this._contentWidth)return null;var c=r.top-a,u=r.top+this._lineHeight,l=o+this._contentLeft,h=n.getDomNodePagePosition(this._viewDomNode),d=h.top+c-n.StandardWindow.scrollY,p=h.top+u-n.StandardWindow.scrollY,f=h.left+l-n.StandardWindow.scrollX,g=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,v=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,m=22,y=22,b=d>=m,S=p+a<=v-y;if(f+s+20>g){var E=f-(g-s-20);f-=E,l-=E}if(f<0){var E=f;f-=E,l-=E}return this._context.configuration.editor.viewInfo.fixedOverflowWidgets&&(c=d,u=p,l=f),{aboveTop:c,fitsAbove:b,belowTop:u,fitsBelow:S,left:l}},t.prototype._prepareRenderWidgetAtExactPosition=function(e,t){var n=t.visibleRangeForPosition(e);return n?{top:n.top,left:n.left}:null},t.prototype._prepareRenderWidgetAtExactPositionOverflowing=function(e,t){var n=this._prepareRenderWidgetAtExactPosition(e,t);return n.left+=this._contentLeft,n},t.prototype._prepareRenderWidget=function(e,t){var n=this;if(!e.position||!e.preference)return null;var i=this._context.model.validateModelPosition(e.position);if(!this._context.model.modelPositionIsVisible(i))return null;for(var o=this._context.model.convertModelPositionToViewPosition(i.lineNumber,i.column),s=null,a=function(){if(!s){var i=e.widget.getDomNode();s=e.allowEditorOverflow?n._layoutBoxInPage(o,i,t):n._layoutBoxInViewport(o,i,t)}},c=1;c<=2;c++)for(var u=0;u<e.preference.length;u++){var l=e.preference[u];if(l===r.ContentWidgetPositionPreference.ABOVE){if(a(),!s)return null;if(2===c||s.fitsAbove)return{top:s.aboveTop,left:s.left}}else{if(l!==r.ContentWidgetPositionPreference.BELOW)return e.allowEditorOverflow?this._prepareRenderWidgetAtExactPositionOverflowing(o,t):this._prepareRenderWidgetAtExactPosition(o,t);if(a(),!s)return null;if(2===c||s.fitsBelow)return{top:s.belowTop,left:s.left}}}},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!");for(var t={},n=Object.keys(this._widgets),i=0,r=n.length;i<r;i++){var o=n[i],s=this._prepareRenderWidget(this._widgets[o],e);s&&(t[o]=s)}this._renderData=t},t.prototype.render=function(e){for(var t=this._renderData,n=Object.keys(this._widgets),r=0,o=n.length;r<o;r++){var s=n[r],a=this._widgets[s],c=this._widgets[s].widget.getDomNode();t.hasOwnProperty(s)?(a.allowEditorOverflow?(i.StyleMutator.setTop(c,t[s].top),i.StyleMutator.setLeft(c,t[s].left)):(i.StyleMutator.setTop(c,t[s].top+e.viewportTop-e.bigNumbersDelta),i.StyleMutator.setLeft(c,t[s].left)),a.isVisible||(i.StyleMutator.setVisibility(c,"inherit"),c.setAttribute("monaco-visible-content-widget","true"),a.isVisible=!0)):a.isVisible&&(c.removeAttribute("monaco-visible-content-widget"),a.isVisible=!1,i.StyleMutator.setVisibility(c,"hidden"))}},t}(o.ViewPart);t.ViewContentWidgets=s}),define(l[703],h([1,0,150,1150]),function(e,t,n){"use strict";var i=function(e){function t(t,n){e.call(this),this._context=t,this._lineHeight=this._context.configuration.editor.lineHeight,this._readOnly=this._context.configuration.editor.readOnly,this._renderLineHighlight=this._context.configuration.editor.viewInfo.renderLineHighlight,this._layoutProvider=n,this._selectionIsEmpty=!0,this._primaryCursorIsInEditableRange=!0,this._primaryCursorLineNumber=1,this._scrollWidth=this._layoutProvider.getScrollWidth(),this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._context.addEventHandler(this)}return d(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null},t.prototype.onModelFlushed=function(){return this._primaryCursorIsInEditableRange=!0,this._selectionIsEmpty=!0,this._primaryCursorLineNumber=1,this._scrollWidth=this._layoutProvider.getScrollWidth(),!0},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype.onCursorPositionChanged=function(e){var t=!1;return this._primaryCursorIsInEditableRange!==e.isInEditableRange&&(this._primaryCursorIsInEditableRange=e.isInEditableRange,t=!0),this._primaryCursorLineNumber!==e.position.lineNumber&&(this._primaryCursorLineNumber=e.position.lineNumber,t=!0),t},t.prototype.onCursorSelectionChanged=function(e){var t=e.selection.isEmpty();return this._selectionIsEmpty!==t&&(this._selectionIsEmpty=t,!0)},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.readOnly&&(this._readOnly=this._context.configuration.editor.readOnly),e.viewInfo.renderLineHighlight&&(this._renderLineHighlight=this._context.configuration.editor.viewInfo.renderLineHighlight),e.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth),!0},t.prototype.onLayoutChanged=function(e){return!0},t.prototype.onScrollChanged=function(e){return this._scrollWidth=e.scrollWidth,e.scrollWidthChanged},t.prototype.onZonesChanged=function(){return!0},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!");this._scrollWidth=e.scrollWidth},t.prototype.render=function(e,t){return t===this._primaryCursorLineNumber&&this._shouldShowCurrentLine()?'<div class="current-line" style="width:'+String(Math.max(this._scrollWidth,this._contentWidth))+"px; height:"+String(this._lineHeight)+'px;"></div>':""},t.prototype._shouldShowCurrentLine=function(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&this._primaryCursorIsInEditableRange},t}(n.DynamicViewOverlay);t.CurrentLineHighlightOverlay=i}),define(l[704],h([1,0,150,1154]),function(e,t,n){"use strict";var i=function(e){function t(t,n){e.call(this),this._context=t,this._lineHeight=this._context.configuration.editor.lineHeight,this._renderLineHighlight=this._context.configuration.editor.viewInfo.renderLineHighlight,this._layoutProvider=n,this._primaryCursorIsInEditableRange=!0,this._primaryCursorLineNumber=1,this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._context.addEventHandler(this)}return d(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null},t.prototype.onModelFlushed=function(){return this._primaryCursorIsInEditableRange=!0,this._primaryCursorLineNumber=1,!0},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype.onCursorPositionChanged=function(e){var t=!1;return this._primaryCursorIsInEditableRange!==e.isInEditableRange&&(this._primaryCursorIsInEditableRange=e.isInEditableRange,t=!0),this._primaryCursorLineNumber!==e.position.lineNumber&&(this._primaryCursorLineNumber=e.position.lineNumber,t=!0),t},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo.renderLineHighlight&&(this._renderLineHighlight=this._context.configuration.editor.viewInfo.renderLineHighlight),e.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft),!0},t.prototype.onLayoutChanged=function(e){return!0},t.prototype.onZonesChanged=function(){return!0},t.prototype.prepareRender=function(e){},t.prototype.render=function(e,t){return t===this._primaryCursorLineNumber&&this._shouldShowCurrentLine()?'<div class="current-line" style="width:'+String(this._contentLeft)+"px; height:"+String(this._lineHeight)+'px;"></div>':""},t.prototype._shouldShowCurrentLine=function(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._primaryCursorIsInEditableRange},t}(n.DynamicViewOverlay);t.CurrentLineMarginHighlightOverlay=i}),define(l[705],h([1,0,150,15,1166]),function(e,t,n,i){"use strict";var r=function(e){function t(t){e.call(this),this._context=t,this._lineHeight=this._context.configuration.editor.lineHeight,this._renderResult=null,this._context.addEventHandler(this)}return d(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(e){return!0},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLineChanged=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype.onCursorPositionChanged=function(e){return!1},t.prototype.onCursorSelectionChanged=function(e){return!1},t.prototype.onCursorRevealRange=function(e){return!1},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),!0},t.prototype.onLayoutChanged=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged||e.scrollWidthChanged},t.prototype.onZonesChanged=function(){return!0},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!");for(var t=e.getDecorationsInViewport(),n=[],r=0,o=0,s=t.length;o<s;o++){var a=t[o];a.source.options.className&&(n[r++]=a)}n=n.sort(function(e,t){var n=e.source.options.className,r=t.source.options.className;return n<r?-1:n>r?1:i.Range.compareRangesUsingStarts(e.range,t.range)});for(var c=e.visibleRange.startLineNumber,u=e.visibleRange.endLineNumber,l=[],h=c;h<=u;h++){var d=h-c;l[d]=""}this._renderWholeLineDecorations(e,n,l),this._renderNormalDecorations(e,n,l),this._renderResult=l},t.prototype._renderWholeLineDecorations=function(e,t,n){for(var i=String(this._lineHeight),r=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber,s=0,a=t.length;s<a;s++){var c=t[s];if(c.source.options.isWholeLine)for(var u='<div class="cdr '+c.source.options.className+'" style="left:0;width:100%;height:'+i+'px;"></div>',l=Math.max(c.range.startLineNumber,r),h=Math.min(c.range.endLineNumber,o),d=l;d<=h;d++){var p=d-r;n[p]+=u}}},t.prototype._renderNormalDecorations=function(e,t,n){for(var i=String(this._lineHeight),r=e.visibleRange.startLineNumber,o=0,s=t.length;o<s;o++){var a=t[o];if(!a.source.options.isWholeLine){var c=a.source.options.className,u=e.linesVisibleRangesForRange(a.range,"findMatch"===c);if(u)for(var l=0,h=u.length;l<h;l++)for(var d=u[l],p=d.lineNumber-r,f=0,g=d.ranges.length;f<g;f++){var v=d.ranges[f],m='<div class="cdr '+c+'" style="left:'+String(v.left)+"px;width:"+String(v.width)+"px;height:"+i+'px;"></div>';n[p]+=m}}}},t.prototype.render=function(e,t){if(!this._renderResult)return"";var n=t-e;if(n<0||n>=this._renderResult.length)throw new Error("Unexpected render request");return this._renderResult[n]},t}(n.DynamicViewOverlay);t.DecorationsOverlay=r}),define(l[276],h([1,0,150,431]),function(e,t,n){"use strict";var i=function(){function e(e,t,n){this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(n)}return e}();t.DecorationToRender=i;var r=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype._render=function(e,t,n){for(var i=[],r=e;r<=t;r++){var o=r-e;i[o]=[]}if(0===n.length)return i;n.sort(function(e,t){return e.className===t.className?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.className<t.className?-1:1});for(var s=null,a=0,c=0,u=n.length;c<u;c++){var l=n[c],h=l.className,d=Math.max(l.startLineNumber,e)-e,p=Math.min(l.endLineNumber,t)-e;s===h?(d=Math.max(a+1,d),a=Math.max(a,p)):(s=h,a=p);for(var f=d;f<=a;f++)i[f].push(s)}return i},t}(n.DynamicViewOverlay);t.DedupOverlay=r;var o=function(e){function t(t){e.call(this),this._context=t,this._lineHeight=this._context.configuration.editor.lineHeight,this._glyphMargin=this._context.configuration.editor.viewInfo.glyphMargin,this._glyphMarginLeft=0,this._glyphMarginWidth=0,this._renderResult=null,this._context.addEventHandler(this)}return d(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(e){return!0},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLineChanged=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype.onCursorPositionChanged=function(e){return!1},t.prototype.onCursorSelectionChanged=function(e){return!1},t.prototype.onCursorRevealRange=function(e){return!1},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo.glyphMargin&&(this._glyphMargin=this._context.configuration.editor.viewInfo.glyphMargin),!0},t.prototype.onLayoutChanged=function(e){return this._glyphMarginLeft=e.glyphMarginLeft,this._glyphMarginWidth=e.glyphMarginWidth,!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(){return!0},t.prototype._getDecorations=function(e){for(var t=e.getDecorationsInViewport(),n=[],r=0,o=t.length;r<o;r++){var s=t[r],a=s.source.options.glyphMarginClassName;a&&n.push(new i(s.range.startLineNumber,s.range.endLineNumber,a))}return n},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!");if(!this._glyphMargin)return void(this._renderResult=null);for(var t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._render(t,n,this._getDecorations(e)),r=this._lineHeight.toString(),o=this._glyphMarginLeft.toString(),s=this._glyphMarginWidth.toString(),a='" style="left:'+o+"px;width:"+s+"px;height:"+r+'px;"></div>',c=[],u=t;u<=n;u++){var l=u-t,h=i[l];0===h.length?c[l]="":c[l]='<div class="cgmr '+h.join(" ")+a}this._renderResult=c},t.prototype.render=function(e,t){if(!this._renderResult)return"";var n=t-e;if(n<0||n>=this._renderResult.length)throw new Error("Unexpected render request");return this._renderResult[n]},t}(r);t.GlyphMarginOverlay=o}),define(l[707],h([1,0,150,644]),function(e,t,n){"use strict";var i=function(e){function t(t){e.call(this),this._context=t,this._lineHeight=this._context.configuration.editor.lineHeight,this._spaceWidth=this._context.configuration.editor.fontInfo.spaceWidth,this._enabled=this._context.configuration.editor.viewInfo.renderIndentGuides,this._renderResult=null,this._context.addEventHandler(this)}return d(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLineChanged=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.fontInfo&&(this._spaceWidth=this._context.configuration.editor.fontInfo.spaceWidth),e.viewInfo.renderIndentGuides&&(this._enabled=this._context.configuration.editor.viewInfo.renderIndentGuides),!0},t.prototype.onLayoutChanged=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(){return!0},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!");if(!this._enabled)return void(this._renderResult=null);for(var t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._context.model.getTabSize(),r=i*this._spaceWidth,o=this._lineHeight,s=[],a=t;a<=n;a++){for(var c=a-t,u=this._context.model.getLineIndentGuide(a),l="",h=0,d=0;d<u;d++)l+='<div class="cigr" style="left:'+h+"px;height:"+o+'px;"></div>',h+=r;s[c]=l}this._renderResult=s},t.prototype.render=function(e,t){if(!this._renderResult)return"";var n=t-e;if(n<0||n>=this._renderResult.length)throw new Error("Unexpected render request");return this._renderResult[n]},t}(n.DynamicViewOverlay);t.IndentGuidesOverlay=i}),define(l[708],h([1,0,13,150,59,646]),function(e,t,n,i,r){"use strict";var o=function(e){function t(t){e.call(this),this._context=t,this._lineHeight=this._context.configuration.editor.lineHeight,this._renderLineNumbers=this._context.configuration.editor.viewInfo.renderLineNumbers,this._renderRelativeLineNumbers=this._context.configuration.editor.viewInfo.renderRelativeLineNumbers,this._lineNumbersLeft=0,this._lineNumbersWidth=0,this._renderResult=null,this._context.addEventHandler(this)}return d(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(e){return!1},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLineChanged=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype.onCursorPositionChanged=function(e){return!!this._renderRelativeLineNumbers},t.prototype.onCursorSelectionChanged=function(e){return!1},t.prototype.onCursorRevealRange=function(e){return!1},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo.renderLineNumbers&&(this._renderLineNumbers=this._context.configuration.editor.viewInfo.renderLineNumbers),e.viewInfo.renderRelativeLineNumbers&&(this._renderRelativeLineNumbers=this._context.configuration.editor.viewInfo.renderRelativeLineNumbers),!0},t.prototype.onLayoutChanged=function(e){return this._lineNumbersLeft=e.lineNumbersLeft,this._lineNumbersWidth=e.lineNumbersWidth,!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(){return!0},t.prototype.prepareRender=function(e){if(!this._renderLineNumbers)return void(this._renderResult=null);for(var t=n.isLinux?this._lineHeight%2===0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber,s='<div class="'+r.ClassNames.LINE_NUMBERS+t+'" style="left:'+this._lineNumbersLeft.toString()+"px;width:"+this._lineNumbersWidth.toString()+'px;">',a=[],c=i;c<=o;c++){var u=c-i,l=this._context.model.getLineRenderLineNumber(c);l?a[u]=s+l+"</div>":a[u]=""}this._renderResult=a},t.prototype.render=function(e,t){if(!this._renderResult)return"";var n=t-e;if(n<0||n>=this._renderResult.length)throw new Error("Unexpected render request");return this._renderResult[n]},t}(i.DynamicViewOverlay);t.LineNumbersOverlay=o}),define(l[709],h([1,0,276,648]),function(e,t,n){"use strict";var i=function(e){function t(t){e.call(this),this._context=t,this._decorationsLeft=0,this._decorationsWidth=0,this._renderResult=null,this._context.addEventHandler(this)}return d(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(e){return!0},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLineChanged=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype.onCursorPositionChanged=function(e){return!1},t.prototype.onCursorSelectionChanged=function(e){return!1},t.prototype.onCursorRevealRange=function(e){return!1},t.prototype.onConfigurationChanged=function(e){return!0},t.prototype.onLayoutChanged=function(e){return this._decorationsLeft=e.decorationsLeft,this._decorationsWidth=e.decorationsWidth,!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(){return!0},t.prototype._getDecorations=function(e){for(var t=e.getDecorationsInViewport(),i=[],r=0,o=t.length;r<o;r++){var s=t[r],a=s.source.options.linesDecorationsClassName;a&&i.push(new n.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,a))}return i},t.prototype.prepareRender=function(e){for(var t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._render(t,n,this._getDecorations(e)),r=this._decorationsLeft.toString(),o=this._decorationsWidth.toString(),s='" style="left:'+r+"px;width:"+o+'px;"></div>',a=[],c=t;c<=n;c++){for(var u=c-t,l=i[u],h="",d=0,p=l.length;d<p;d++)h+='<div class="cldr '+l[d]+s;
a[u]=h}this._renderResult=a},t.prototype.render=function(e,t){return this._renderResult?this._renderResult[t-e]:""},t}(n.DedupOverlay);t.LinesDecorationsOverlay=i}),define(l[710],h([1,0,67,59,135]),function(e,t,n,i,r){"use strict";var o=function(e){function t(t,n){e.call(this,t),this._layoutProvider=n,this._canUseTranslate3d=this._context.configuration.editor.viewInfo.canUseTranslate3d,this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._glyphMarginLeft=this._context.configuration.editor.layoutInfo.glyphMarginLeft,this._glyphMarginWidth=this._context.configuration.editor.layoutInfo.glyphMarginWidth,this.domNode=this._createDomNode()}return d(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype._createDomNode=function(){var e=document.createElement("div");return e.className=i.ClassNames.MARGIN+" monaco-editor-background",e.style.position="absolute",e.setAttribute("role","presentation"),e.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=n.createFastDomNode(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(i.ClassNames.GLYPH_MARGIN),e.appendChild(this._glyphMarginBackgroundDomNode.domNode),e},t.prototype.onConfigurationChanged=function(t){return t.viewInfo.canUseTranslate3d&&(this._canUseTranslate3d=this._context.configuration.editor.viewInfo.canUseTranslate3d),e.prototype.onConfigurationChanged.call(this,t)},t.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollTopChanged},t.prototype.onLayoutChanged=function(t){return this._contentLeft=t.contentLeft,this._glyphMarginLeft=t.glyphMarginLeft,this._glyphMarginWidth=t.glyphMarginWidth,e.prototype.onLayoutChanged.call(this,t)||!0},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){if(this._canUseTranslate3d){var t="translate3d(0px, "+e.linesViewportData.visibleRangesDeltaTop+"px, 0px)";n.StyleMutator.setTransform(this.domNode,t),n.StyleMutator.setTop(this.domNode,0)}else n.StyleMutator.setTransform(this.domNode,""),n.StyleMutator.setTop(this.domNode,e.linesViewportData.visibleRangesDeltaTop);var i=Math.min(this._layoutProvider.getTotalHeight(),1e6);n.StyleMutator.setHeight(this.domNode,i),n.StyleMutator.setWidth(this.domNode,this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)},t}(r.ViewPart);t.Margin=o}),define(l[711],h([1,0,276,649]),function(e,t,n){"use strict";var i=function(e){function t(t){e.call(this),this._context=t,this._renderResult=null,this._context.addEventHandler(this)}return d(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(e){return!0},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLineChanged=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype.onCursorPositionChanged=function(e){return!1},t.prototype.onCursorSelectionChanged=function(e){return!1},t.prototype.onCursorRevealRange=function(e){return!1},t.prototype.onConfigurationChanged=function(e){return!0},t.prototype.onLayoutChanged=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(){return!0},t.prototype._getDecorations=function(e){for(var t=e.getDecorationsInViewport(),i=[],r=0,o=t.length;r<o;r++){var s=t[r],a=s.source.options.marginClassName;a&&i.push(new n.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,a))}return i},t.prototype.prepareRender=function(e){for(var t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._render(t,n,this._getDecorations(e)),r=[],o=t;o<=n;o++){for(var s=o-t,a=i[s],c="",u=0,l=a.length;u<l;u++)c+='<div class="cmdr '+a[u]+'" style=""></div>';r[s]=c}this._renderResult=r},t.prototype.render=function(e,t){return this._renderResult?this._renderResult[t-e]:""},t}(n.DedupOverlay);t.MarginViewLineDecorationsOverlay=i}),define(l[712],h([1,0,67,59,135,650]),function(e,t,n,i,r){"use strict";var o=function(e){function t(t){e.call(this,t),this._widgets={},this._verticalScrollbarWidth=0,this._horizontalScrollbarHeight=0,this._editorHeight=0,this._editorWidth=0,this.domNode=document.createElement("div"),this.domNode.className=i.ClassNames.OVERLAY_WIDGETS}return d(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._widgets=null},t.prototype.onLayoutChanged=function(e){return this._verticalScrollbarWidth=e.verticalScrollbarWidth,this._horizontalScrollbarHeight=e.horizontalScrollbarHeight,this._editorHeight=e.height,this._editorWidth=e.width,!0},t.prototype.addWidget=function(e){this._widgets[e.getId()]={widget:e,preference:null};var t=e.getDomNode();t.style.position="absolute",t.setAttribute("widgetId",e.getId()),this.domNode.appendChild(t),this.setShouldRender()},t.prototype.setWidgetPosition=function(e,t){var n=this._widgets[e.getId()];return n.preference!==t&&(n.preference=t,this.setShouldRender(),!0)},t.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var n=this._widgets[t],i=n.widget.getDomNode();delete this._widgets[t],i.parentNode.removeChild(i),this.setShouldRender()}},t.prototype._renderWidget=function(e){var t="data-editor-restoreStyleTop",r=e.widget.getDomNode();if(null!==e.preference)if(e.preference===i.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER)r.hasAttribute(t)||r.setAttribute(t,r.style.top),n.StyleMutator.setTop(r,0),n.StyleMutator.setRight(r,2*this._verticalScrollbarWidth);else if(e.preference===i.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER){r.hasAttribute(t)||r.setAttribute(t,r.style.top);var o=r.clientHeight;n.StyleMutator.setTop(r,this._editorHeight-o-2*this._horizontalScrollbarHeight),n.StyleMutator.setRight(r,2*this._verticalScrollbarWidth)}else e.preference===i.OverlayWidgetPositionPreference.TOP_CENTER&&(r.hasAttribute(t)||r.setAttribute(t,r.style.top),n.StyleMutator.setTop(r,0),r.style.right="50%");else if(r.hasAttribute(t)){var s=r.getAttribute(t);r.removeAttribute(t),r.style.top=s}},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!")},t.prototype.render=function(e){n.StyleMutator.setWidth(this.domNode,this._editorWidth);for(var t=Object.keys(this._widgets),i=0,r=t.length;i<r;i++){var o=t[i];this._renderWidget(this._widgets[o])}},t}(r.ViewPart);t.ViewOverlayWidgets=o}),define(l[713],h([1,0,147,340]),function(e,t,n,i){"use strict";var r=function(e){function t(t,n,r,o,s,a){e.call(this),this._context=t,this._overviewRuler=new i.OverviewRulerImpl(0,n,r,this._context.configuration.editor.lineHeight,this._context.configuration.editor.viewInfo.canUseTranslate3d,o,s,a),this._context.addEventHandler(this)}return d(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._overviewRuler.dispose()},t.prototype.onConfigurationChanged=function(e){return e.lineHeight?(this._overviewRuler.setLineHeight(this._context.configuration.editor.lineHeight,!0),!0):!!e.viewInfo.canUseTranslate3d&&(this._overviewRuler.setCanUseTranslate3d(this._context.configuration.editor.viewInfo.canUseTranslate3d,!0),!0)},t.prototype.onZonesChanged=function(){return!0},t.prototype.onModelFlushed=function(){return!0},t.prototype.onScrollChanged=function(t){return this._overviewRuler.setScrollHeight(t.scrollHeight,!0),e.prototype.onScrollChanged.call(this,t)||t.scrollHeightChanged},t.prototype.getDomNode=function(){return this._overviewRuler.getDomNode()},t.prototype.setLayout=function(e){this._overviewRuler.setLayout(e,!0)},t.prototype.setZones=function(e){this._overviewRuler.setZones(e,!0)},t}(n.ViewEventHandler);t.OverviewRuler=r}),define(l[714],h([1,0,67,135,651]),function(e,t,n,i){"use strict";var r=function(e){function t(t,n){e.call(this,t),this._layoutProvider=n,this.domNode=document.createElement("div"),this.domNode.className="view-rulers",this._rulers=this._context.configuration.editor.viewInfo.rulers,this._height=this._context.configuration.editor.layoutInfo.contentHeight,this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth}return d(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return!!(e.viewInfo.rulers||e.layoutInfo||e.fontInfo)&&(this._rulers=this._context.configuration.editor.viewInfo.rulers,this._height=this._context.configuration.editor.layoutInfo.contentHeight,this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,!0)},t.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollHeightChanged},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!")},t.prototype.render=function(e){for(var t=this.domNode.children.length,i=Math.max(t,this._rulers.length),r=0;r<i;r++)if(r>=this._rulers.length)this.domNode.removeChild(this.domNode.lastChild);else{var o=void 0;r<t?o=this.domNode.children[r]:(o=document.createElement("div"),o.className="view-ruler",this.domNode.appendChild(o)),n.StyleMutator.setHeight(o,Math.min(this._layoutProvider.getTotalHeight(),1e6)),n.StyleMutator.setLeft(o,this._rulers[r]*this._typicalHalfwidthCharacterWidth)}},t}(i.ViewPart);t.Rulers=r}),define(l[715],h([1,0,8,67,59,135,652]),function(e,t,n,i,r,o){"use strict";var s=function(e){function t(t){e.call(this,t),this._scrollTop=0,this._width=0,this._shouldShow=!1,this._useShadows=this._context.configuration.editor.viewInfo.scrollbar.useShadows,this._domNode=document.createElement("div")}return d(t,e),t.prototype._updateShouldShow=function(){var e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e&&(this._shouldShow=e,!0)},t.prototype.getDomNode=function(){return this._domNode},t.prototype.onConfigurationChanged=function(e){return e.viewInfo.scrollbar&&(this._useShadows=this._context.configuration.editor.viewInfo.scrollbar.useShadows),this._updateShouldShow()},t.prototype.onLayoutChanged=function(e){return this._width!==e.width&&(this._width=e.width,!0)},t.prototype.onScrollChanged=function(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!")},t.prototype.render=function(e){i.StyleMutator.setWidth(this._domNode,this._width),n.toggleClass(this._domNode,r.ClassNames.SCROLL_DECORATION,this._shouldShow)},t}(o.ViewPart);t.ScrollDecorationViewPart=s}),define(l[716],h([1,0,150,653]),function(e,t,n){"use strict";function i(e){return new s(e)}function r(e){return new a(e.lineNumber,e.ranges.map(i))}var o;!function(e){e[e.EXTERN=0]="EXTERN",e[e.INTERN=1]="INTERN",e[e.FLAT=2]="FLAT"}(o||(o={}));var s=function(){function e(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}return e}(),a=function(){function e(e,t){this.lineNumber=e,this.ranges=t}return e}(),c=navigator.userAgent.indexOf("Trident/7.0")>=0||navigator.userAgent.indexOf("Edge/")>=0,u=function(e){function t(t){e.call(this),this._previousFrameVisibleRangesWithStyle=[],this._context=t,this._lineHeight=this._context.configuration.editor.lineHeight,this._roundedSelection=this._context.configuration.editor.viewInfo.roundedSelection,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}return d(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._selections=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(e){return!0},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLineChanged=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype.onCursorPositionChanged=function(e){return!1},t.prototype.onCursorSelectionChanged=function(e){return this._selections=[e.selection],this._selections=this._selections.concat(e.secondarySelections),!0},t.prototype.onCursorRevealRange=function(e){return!1},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo.roundedSelection&&(this._roundedSelection=this._context.configuration.editor.viewInfo.roundedSelection),!0},t.prototype.onLayoutChanged=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(){return!0},t.prototype._visibleRangesHaveGaps=function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];if(i.ranges.length>1)return!0}return!1},t.prototype._enrichVisibleRangesWithStyle=function(e,t){var n=null,i=null;if(t&&t.length>0&&e.length>0){for(var r=e[0].lineNumber,o=0;!n&&o<t.length;o++)t[o].lineNumber===r&&(n=t[o].ranges[0]);for(var s=e[e.length-1].lineNumber,o=t.length-1;!i&&o>=0;o--)t[o].lineNumber===s&&(i=t[o].ranges[0]);n&&!n.startStyle&&(n=null),i&&!i.startStyle&&(i=null)}for(var o=0,a=e.length;o<a;o++){var c=e[o].ranges[0],u=c.left,l=c.left+c.width,h={top:0,bottom:0},d={top:0,bottom:0};if(o>0){var p=e[o-1].ranges[0].left,f=e[o-1].ranges[0].left+e[o-1].ranges[0].width;u===p?h.top=2:u>p&&(h.top=1),l===f?d.top=2:p<l&&l<f&&(d.top=1)}else n&&(h.top=n.startStyle.top,d.top=n.endStyle.top);if(o+1<a){var g=e[o+1].ranges[0].left,v=e[o+1].ranges[0].left+e[o+1].ranges[0].width;u===g?h.bottom=2:g<u&&u<v&&(h.bottom=1),l===v?d.bottom=2:l<v&&(d.bottom=1)}else i&&(h.bottom=i.startStyle.bottom,d.bottom=i.endStyle.bottom);c.startStyle=h,c.endStyle=d}},t.prototype._getVisibleRangesWithStyle=function(e,t,n){var i=t.linesVisibleRangesForRange(e,!0)||[],o=i.map(r),s=this._visibleRangesHaveGaps(o);return c||s||!this._roundedSelection||this._enrichVisibleRangesWithStyle(o,n),o},t.prototype._createSelectionPiece=function(e,t,n,i,r){return'<div class="cslr '+n+'" style="top:'+e.toString()+"px;left:"+i.toString()+"px;width:"+r.toString()+"px;height:"+t+'px;"></div>'},t.prototype._actualRenderOneSelection=function(e,n,i,r){for(var o=r.length>0&&r[0].ranges[0].startStyle,s=this._lineHeight.toString(),a=(this._lineHeight-1).toString(),c=r.length>0?r[0].lineNumber:0,u=r.length>0?r[r.length-1].lineNumber:0,l=0,h=r.length;l<h;l++){for(var d=r[l],p=d.lineNumber,f=p-n,g=i&&(p===u||p===c)?a:s,v=i&&p===c?1:0,m="",y=0,b=d.ranges.length;y<b;y++){var S=d.ranges[y];if(o){if(1===S.startStyle.top||1===S.startStyle.bottom){m+=this._createSelectionPiece(v,g,t.SELECTION_CLASS_NAME,S.left-t.ROUNDED_PIECE_WIDTH,t.ROUNDED_PIECE_WIDTH);var E=t.EDITOR_BACKGROUND_CLASS_NAME;1===S.startStyle.top&&(E+=" "+t.SELECTION_TOP_RIGHT),1===S.startStyle.bottom&&(E+=" "+t.SELECTION_BOTTOM_RIGHT),m+=this._createSelectionPiece(v,g,E,S.left-t.ROUNDED_PIECE_WIDTH,t.ROUNDED_PIECE_WIDTH)}if(1===S.endStyle.top||1===S.endStyle.bottom){m+=this._createSelectionPiece(v,g,t.SELECTION_CLASS_NAME,S.left+S.width,t.ROUNDED_PIECE_WIDTH);var _=t.EDITOR_BACKGROUND_CLASS_NAME;1===S.endStyle.top&&(_+=" "+t.SELECTION_TOP_LEFT),1===S.endStyle.bottom&&(_+=" "+t.SELECTION_BOTTOM_LEFT),m+=this._createSelectionPiece(v,g,_,S.left+S.width,t.ROUNDED_PIECE_WIDTH)}}var C=t.SELECTION_CLASS_NAME;o&&(0===S.startStyle.top&&(C+=" "+t.SELECTION_TOP_LEFT),0===S.startStyle.bottom&&(C+=" "+t.SELECTION_BOTTOM_LEFT),0===S.endStyle.top&&(C+=" "+t.SELECTION_TOP_RIGHT),0===S.endStyle.bottom&&(C+=" "+t.SELECTION_BOTTOM_RIGHT)),m+=this._createSelectionPiece(v,g,C,S.left,S.width)}e[f]+=m}},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!");for(var t=[],n=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=n;r<=i;r++){var o=r-n;t[o]=""}for(var s=[],a=0,c=this._selections.length;a<c;a++){var u=this._selections[a];if(u.isEmpty())s.push(null);else{var l=this._getVisibleRangesWithStyle(u,e,this._previousFrameVisibleRangesWithStyle[a]);s.push(l),this._actualRenderOneSelection(t,n,this._selections.length>1,l)}}this._previousFrameVisibleRangesWithStyle=s,this._renderResult=t},t.prototype.render=function(e,t){if(!this._renderResult)return"";var n=t-e;if(n<0||n>=this._renderResult.length)throw new Error("Unexpected render request");return this._renderResult[n]},t.SELECTION_CLASS_NAME="selected-text",t.SELECTION_TOP_LEFT="top-left-radius",t.SELECTION_BOTTOM_LEFT="bottom-left-radius",t.SELECTION_TOP_RIGHT="top-right-radius",t.SELECTION_BOTTOM_RIGHT="bottom-right-radius",t.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",t.ROUNDED_PIECE_WIDTH=10,t}(n.DynamicViewOverlay);t.SelectionsOverlay=u}),define(l[717],h([1,0,7,67,59,135,44]),function(e,t,n,i,r,o,s){"use strict";var a=function(e){function t(t,n){e.call(this,t),this._lineHeight=this._context.configuration.editor.lineHeight,this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._whitespaceManager=n,this.domNode=document.createElement("div"),this.domNode.className=r.ClassNames.VIEW_ZONES,this.domNode.style.position="absolute",this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=document.createElement("div"),this.marginDomNode.className="margin-view-zones",this.marginDomNode.style.position="absolute",this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}return d(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._whitespaceManager=null,this._zones={}},t.prototype._recomputeWhitespacesProps=function(){for(var e=!1,t=Object.keys(this._zones),n=0,i=t.length;n<i;n++){var r=t[n],o=this._zones[r],s=this._computeWhitespaceProps(o.delegate);this._whitespaceManager.changeWhitespace(parseInt(r,10),s.afterViewLineNumber,s.heightInPx)&&(this._safeCallOnComputedHeight(o.delegate,s.heightInPx),e=!0)}return e},t.prototype.onConfigurationChanged=function(e){return e.lineHeight?(this._lineHeight=this._context.configuration.editor.lineHeight,this._recomputeWhitespacesProps()):(e.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft),!1)},t.prototype.onLineMappingChanged=function(){return this._recomputeWhitespacesProps()},t.prototype.onLayoutChanged=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged||e.scrollWidthChanged},t.prototype.onZonesChanged=function(){return!0},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype._getZoneOrdinal=function(e){return"undefined"!=typeof e.afterColumn?e.afterColumn:1e4},t.prototype._computeWhitespaceProps=function(e){if(0===e.afterLineNumber)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(e)};var t;if("undefined"!=typeof e.afterColumn)t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{var n=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new s.Position(n,this._context.model.getModelLineMaxColumn(n))}var i;i=t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});var r=this._context.model.convertModelPositionToViewPosition(t.lineNumber,t.column),o=this._context.model.modelPositionIsVisible(i);return{afterViewLineNumber:r.lineNumber,heightInPx:o?this._heightInPixels(e):0}},t.prototype.addZone=function(e){var t=this._computeWhitespaceProps(e),n=this._whitespaceManager.addWhitespace(t.afterViewLineNumber,this._getZoneOrdinal(e),t.heightInPx),r={whitespaceId:n,delegate:e,isVisible:!1};return this._safeCallOnComputedHeight(r.delegate,t.heightInPx),r.delegate.domNode.style.position="absolute",r.delegate.domNode.style.width="100%",i.StyleMutator.setDisplay(r.delegate.domNode,"none"),r.delegate.domNode.setAttribute("monaco-view-zone",r.whitespaceId.toString()),this.domNode.appendChild(r.delegate.domNode),r.delegate.marginDomNode&&(r.delegate.marginDomNode.style.position="absolute",r.delegate.marginDomNode.style.width="100%",i.StyleMutator.setDisplay(r.delegate.marginDomNode,"none"),r.delegate.marginDomNode.setAttribute("monaco-view-zone",r.whitespaceId.toString()),this.marginDomNode.appendChild(r.delegate.marginDomNode)),this._zones[r.whitespaceId.toString()]=r,this.setShouldRender(),r.whitespaceId},t.prototype.removeZone=function(e){if(this._zones.hasOwnProperty(e.toString())){var t=this._zones[e.toString()];return delete this._zones[e.toString()],this._whitespaceManager.removeWhitespace(t.whitespaceId),t.delegate.domNode.removeAttribute("monaco-visible-view-zone"),t.delegate.domNode.removeAttribute("monaco-view-zone"),t.delegate.domNode.parentNode.removeChild(t.delegate.domNode),t.delegate.marginDomNode&&(t.delegate.marginDomNode.removeAttribute("monaco-visible-view-zone"),t.delegate.marginDomNode.removeAttribute("monaco-view-zone"),t.delegate.marginDomNode.parentNode.removeChild(t.delegate.marginDomNode)),this.setShouldRender(),!0}return!1},t.prototype.layoutZone=function(e){var t=!1;if(this._zones.hasOwnProperty(e.toString())){var n=this._zones[e.toString()],i=this._computeWhitespaceProps(n.delegate);t=this._whitespaceManager.changeWhitespace(n.whitespaceId,i.afterViewLineNumber,i.heightInPx)||t,t&&(this._safeCallOnComputedHeight(n.delegate,i.heightInPx),this.setShouldRender())}return t},t.prototype.shouldSuppressMouseDownOnViewZone=function(e){if(this._zones.hasOwnProperty(e.toString())){var t=this._zones[e.toString()];return t.delegate.suppressMouseDown}return!1},t.prototype._heightInPixels=function(e){return"number"==typeof e.heightInPx?e.heightInPx:"number"==typeof e.heightInLines?this._lineHeight*e.heightInLines:this._lineHeight},t.prototype._safeCallOnComputedHeight=function(e,t){if("function"==typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(e){n.onUnexpectedError(e)}},t.prototype._safeCallOnDomNodeTop=function(e,t){if("function"==typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(e){n.onUnexpectedError(e)}},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!")},t.prototype.render=function(e){for(var t=this._whitespaceManager.getWhitespaceViewportData(),n={},r=!1,o=0,s=t.length;o<s;o++)n[t[o].id.toString()]=t[o],r=!0;for(var a=Object.keys(this._zones),o=0,s=a.length;o<s;o++){var c=a[o],u=this._zones[c],l=0,h=0,d="none";n.hasOwnProperty(c)?(l=n[c].verticalOffset-e.bigNumbersDelta,h=n[c].height,d="block",u.isVisible||(u.delegate.domNode.setAttribute("monaco-visible-view-zone","true"),u.isVisible=!0),this._safeCallOnDomNodeTop(u.delegate,e.getScrolledTopFromAbsoluteTop(n[c].verticalOffset))):(u.isVisible&&(u.delegate.domNode.removeAttribute("monaco-visible-view-zone"),u.isVisible=!1),this._safeCallOnDomNodeTop(u.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),i.StyleMutator.setTop(u.delegate.domNode,l),i.StyleMutator.setHeight(u.delegate.domNode,h),i.StyleMutator.setDisplay(u.delegate.domNode,d),u.delegate.marginDomNode&&(i.StyleMutator.setTop(u.delegate.marginDomNode,l),i.StyleMutator.setHeight(u.delegate.marginDomNode,h),i.StyleMutator.setDisplay(u.delegate.marginDomNode,d))}r&&(i.StyleMutator.setWidth(this.domNode,Math.max(e.scrollWidth,this._contentWidth)),i.StyleMutator.setWidth(this.marginDomNode,this._contentLeft))},t}(o.ViewPart);t.ViewZones=a}),define(l[718],h([1,0,15,46,10,44]),function(e,t,n,i,r,o){"use strict";var s=function(){function e(e,t){this.configuration=e,this.converter=t,this.lastCursorPositionChangedEvent=null,this.lastCursorSelectionChangedEvent=null}return e.prototype.getSelections=function(){if(this.lastCursorSelectionChangedEvent){var e=[];e.push(this.converter.convertModelSelectionToViewSelection(this.lastCursorSelectionChangedEvent.selection));for(var t=0,n=this.lastCursorSelectionChangedEvent.secondarySelections.length;t<n;t++)e.push(this.converter.convertModelSelectionToViewSelection(this.lastCursorSelectionChangedEvent.secondarySelections[t]));return e}return[new i.Selection(1,1,1,1)]},e.prototype.onCursorPositionChanged=function(e,t){this.lastCursorPositionChangedEvent=e;var n=this.converter.validateViewPosition(e.viewPosition.lineNumber,e.viewPosition.column,e.position),i=this.configuration.editor.viewInfo.stopRenderingLineAfter;i!==-1&&n.column>i&&(n=new o.Position(n.lineNumber,i));for(var s=[],a=0,c=e.secondaryPositions.length;a<c;a++)s[a]=this.converter.validateViewPosition(e.secondaryViewPositions[a].lineNumber,e.secondaryViewPositions[a].column,e.secondaryPositions[a]),i!==-1&&s[a].column>i&&(s[a]=new o.Position(s[a].lineNumber,i));var u={position:n,secondaryPositions:s,isInEditableRange:e.isInEditableRange};t(r.ViewEventNames.CursorPositionChangedEvent,u)},e.prototype.onCursorSelectionChanged=function(e,t){this.lastCursorSelectionChangedEvent=e;for(var n=this.converter.validateViewSelection(e.viewSelection,e.selection),i=[],o=0,s=e.secondarySelections.length;o<s;o++)i[o]=this.converter.validateViewSelection(e.secondaryViewSelections[o],e.secondarySelections[o]);var a={selection:n,secondarySelections:i};t(r.ViewEventNames.CursorSelectionChangedEvent,a)},e.prototype.onCursorRevealRange=function(e,t){var i=null;if(e.viewRange){var o=this.converter.validateViewPosition(e.viewRange.startLineNumber,e.viewRange.startColumn,e.range.getStartPosition()),s=this.converter.validateViewPosition(e.viewRange.endLineNumber,e.viewRange.endColumn,e.range.getEndPosition());i=new n.Range(o.lineNumber,o.column,s.lineNumber,s.column)}else i=this.converter.convertModelRangeToViewRange(e.range);var a={range:i,verticalType:e.verticalType,revealHorizontal:e.revealHorizontal,revealCursor:e.revealCursor};t(r.ViewEventNames.RevealRangeEvent,a)},e.prototype.onCursorScrollRequest=function(e,t){var n={deltaLines:e.deltaLines,revealCursor:e.revealCursor};t(r.ViewEventNames.ScrollRequestEvent,n)},e.prototype.onLineMappingChanged=function(e){this.lastCursorPositionChangedEvent&&this.onCursorPositionChanged(this.lastCursorPositionChangedEvent,e),this.lastCursorSelectionChangedEvent&&this.onCursorSelectionChanged(this.lastCursorSelectionChangedEvent,e)},e}();t.ViewModelCursors=s}),define(l[719],h([1,0,15,10,235]),function(e,t,n,i,r){"use strict";var o=function(){function e(e,t,n,i){this.editorId=e,this.model=t,this.configuration=n,this.converter=i,this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}return e.prototype._clearCachedModelDecorationsResolver=function(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null},e.prototype.dispose=function(){this._decorationsCache=null,this._clearCachedModelDecorationsResolver()},e.prototype.reset=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},e.prototype.onModelDecorationsChanged=function(e,t){for(var n=e.changedDecorations,r=0,o=n.length;r<o;r++){var s=n[r],a=this._decorationsCache[s];a&&(a.range=null)}for(var c=e.removedDecorations,r=0,o=c.length;r<o;r++){var u=c[r];delete this._decorationsCache[u]}this._clearCachedModelDecorationsResolver(),t(i.ViewEventNames.DecorationsChangedEvent,{})},e.prototype.onLineMappingChanged=function(e){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver(),e(i.ViewEventNames.DecorationsChangedEvent,{})},e.prototype._getOrCreateViewModelDecoration=function(e){var t=e.id,n=this._decorationsCache[t];return n||(n=new r.ViewModelDecoration(e),this._decorationsCache[t]=n),null===n.range&&(n.range=this.converter.convertModelRangeToViewRange(e.range,e.options.isWholeLine)),n},e.prototype.getAllOverviewRulerDecorations=function(){for(var e=this.model.getAllDecorations(this.editorId,this.configuration.editor.readOnly),t=[],n=0,i=0,r=e.length;i<r;i++){var o=e[i],s=o.options;if(s.overviewRuler.color){var a=this._getOrCreateViewModelDecoration(o);t[n++]=a}}return t},e.prototype.getDecorationsViewportData=function(e){var t=!0;return t=t&&null!==this._cachedModelDecorationsResolver,t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver},e.prototype._getDecorationsViewportData=function(e){for(var t=this.converter.convertViewRangeToModelRange(e),i=e.startLineNumber,o=e.endLineNumber,s=this.model.getDecorationsInRange(t,this.editorId,this.configuration.editor.readOnly),a=[],c=0,u=[],l=i;l<=o;l++)u[l-i]=[];for(var h=0,d=s.length;h<d;h++){var p=s[h],f=p.options,g=this._getOrCreateViewModelDecoration(p),v=g.range;if(a[c++]=g,f.inlineClassName)for(var m=new r.InlineDecoration(v,f.inlineClassName),y=Math.max(i,v.startLineNumber),b=Math.min(o,v.endLineNumber),l=y;l<=b;l++)u[l-i].push(m);if(f.beforeContentClassName&&i<=v.startLineNumber&&v.startLineNumber<=o){var m=new r.InlineDecoration(new n.Range(v.startLineNumber,v.startColumn,v.startLineNumber,v.startColumn+1),f.beforeContentClassName);u[v.startLineNumber-i].push(m)}if(f.afterContentClassName&&i<=v.endLineNumber&&v.endLineNumber<=o&&v.endColumn>1){var m=new r.InlineDecoration(new n.Range(v.endLineNumber,v.endColumn-1,v.endLineNumber,v.endColumn),f.afterContentClassName);u[v.endLineNumber-i].push(m)}}return{decorations:a,inlineDecorations:u}},e}();t.ViewModelDecorations=o}),define(l[720],h([1,0,42,5,12,44,15,46,10,718,719]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";var h=function(e){function t(t,i,r,s,a){var h=this;e.call(this),this.lines=t,this.editorId=i,this.configuration=r,this.model=s,this._lastCursorPosition=new o.Position(1,1),this._renderCustomLineNumbers=this.configuration.editor.viewInfo.renderCustomLineNumbers,this._renderRelativeLineNumbers=this.configuration.editor.viewInfo.renderRelativeLineNumbers,this.getCurrentCenteredModelRange=a,this.decorations=new l.ViewModelDecorations(this.editorId,this.model,this.configuration,{convertModelRangeToViewRange:function(e,t){return t?h.convertWholeLineModelRangeToViewRange(e):h.convertModelRangeToViewRange(e)},convertViewRangeToModelRange:function(e){return h.convertViewRangeToModelRange(e)}}),this.decorations.reset(),this.cursors=new u.ViewModelCursors(this.configuration,this),this.listenersToRemove=[],this._toDispose=[],this.listenersToRemove.push(this.model.addBulkListener(function(e){return h.onEvents(e)})),this._toDispose.push(this.configuration.onDidChange(function(e){h.onEvents([new n.EmitterEvent(c.EventType.ConfigurationChanged,e)])}))}return d(t,e),t.prototype.setHiddenAreas=function(e){try{this._beginDeferredEmit(),this._setHiddenAreas(e)}finally{this._endDeferredEmit()}},t.prototype._setHiddenAreas=function(e){var t=this,n=this.lines.setHiddenAreas(e,function(e,n){return t.emit(e,n)});n&&(this.emit(c.ViewEventNames.LineMappingChangedEvent),this.decorations.onLineMappingChanged(function(e,n){return t.emit(e,n)}),this.cursors.onLineMappingChanged(function(e,n){return t.emit(e,n)}))},t.prototype.dispose=function(){this.listenersToRemove=i.dispose(this.listenersToRemove),this._toDispose=i.dispose(this._toDispose),this.decorations.dispose(),this.decorations=null,this.lines.dispose(),this.lines=null,this.configuration=null,this.model=null},t.prototype._onTabSizeChange=function(e){var t=this,n=this.lines.setTabSize(e,function(e,n){return t.emit(e,n)});return n&&(this.emit(c.ViewEventNames.LineMappingChangedEvent),this.decorations.onLineMappingChanged(function(e,n){return t.emit(e,n)}),this.cursors.onLineMappingChanged(function(e,n){return t.emit(e,n)})),n},t.prototype._onWrappingIndentChange=function(e){var t=this,n=this.lines.setWrappingIndent(e,function(e,n){return t.emit(e,n)});return n&&(this.emit(c.ViewEventNames.LineMappingChangedEvent),
this.decorations.onLineMappingChanged(function(e,n){return t.emit(e,n)}),this.cursors.onLineMappingChanged(function(e,n){return t.emit(e,n)})),n},t.prototype._restoreCenteredModelRange=function(e){var t=this.convertModelRangeToViewRange(e),n={range:t,verticalType:1,revealHorizontal:!1,revealCursor:!1};this.emit(c.ViewEventNames.RevealRangeEvent,n)},t.prototype._onWrappingColumnChange=function(e,t){var n=this,i=this.lines.setWrappingColumn(e,t,function(e,t){return n.emit(e,t)});return i&&(this.emit(c.ViewEventNames.LineMappingChangedEvent),this.decorations.onLineMappingChanged(function(e,t){return n.emit(e,t)}),this.cursors.onLineMappingChanged(function(e,t){return n.emit(e,t)})),i},t.prototype.addEventSource=function(e){var t=this;this.listenersToRemove.push(e.addBulkListener2(function(e){return t.onEvents(e)}))},t.prototype.onEvents=function(e){try{this._beginDeferredEmit(),this._onEvents(e)}finally{this._endDeferredEmit()}},t.prototype._onEvents=function(e){var t,n=this,i=e.some(function(e){return e.getType()===c.EventType.ModelRawContentChanged});i||(t=this.getCurrentCenteredModelRange());var r,o,s,a,u,l=!1,h=!1,d=!1;for(r=0,o=e.length;r<o;r++)switch(s=e[r],a=s.getData(),s.getType()){case c.EventType.ModelRawContentChanged:switch(u=a,u.changeType){case c.EventType.ModelRawContentChangedFlush:this.onModelFlushed(u),l=!0;break;case c.EventType.ModelRawContentChangedLinesDeleted:this.onModelLinesDeleted(u),l=!0;break;case c.EventType.ModelRawContentChangedLinesInserted:this.onModelLinesInserted(u),l=!0;break;case c.EventType.ModelRawContentChangedLineChanged:h=this.onModelLineChanged(u);break;default:console.info("ViewModel received unknown event: "),console.info(s)}break;case c.EventType.ModelTokensChanged:this.onModelTokensChanged(a);break;case c.EventType.ModelModeChanged:break;case c.EventType.ModelContentChanged2:break;case c.EventType.ModelOptionsChanged:var p=this.lines.getOutputLineCount(),f=this._onTabSizeChange(this.model.getOptions().tabSize),g=this.lines.getOutputLineCount();f&&p!==g&&(d=!0);break;case c.EventType.ModelDecorationsChanged:this.onModelDecorationsChanged(a);break;case c.EventType.ModelDispose:break;case c.EventType.CursorPositionChanged:this.onCursorPositionChanged(a),this._lastCursorPosition=a.position;break;case c.EventType.CursorSelectionChanged:this.onCursorSelectionChanged(a);break;case c.EventType.CursorRevealRange:this.onCursorRevealRange(a);break;case c.EventType.CursorScrollRequest:this.onCursorScrollRequest(a);break;case c.EventType.ConfigurationChanged:d=this._onWrappingIndentChange(this.configuration.editor.wrappingInfo.wrappingIndent)||d,d=this._onWrappingColumnChange(this.configuration.editor.wrappingInfo.wrappingColumn,this.configuration.editor.fontInfo.typicalFullwidthCharacterWidth/this.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth)||d,this._renderCustomLineNumbers=this.configuration.editor.viewInfo.renderCustomLineNumbers,this._renderRelativeLineNumbers=this.configuration.editor.viewInfo.renderRelativeLineNumbers,a.readOnly&&(this.decorations.reset(),this.emit(c.ViewEventNames.DecorationsChangedEvent,{})),this.emit(s.getType(),a);break;default:console.info("View received unknown event: "),console.info(s)}!l&&h&&(this.emit(c.ViewEventNames.LineMappingChangedEvent),this.decorations.onLineMappingChanged(function(e,t){return n.emit(e,t)}),this.cursors.onLineMappingChanged(function(e,t){return n.emit(e,t)})),d&&t&&this._restoreCenteredModelRange(t)},t.prototype.onModelFlushed=function(e){var t=this;this.lines.onModelFlushed(e.versionId,function(e,n){return t.emit(e,n)}),this.decorations.reset()},t.prototype.onModelDecorationsChanged=function(e){var t=this;this.decorations.onModelDecorationsChanged(e,function(e,n){return t.emit(e,n)})},t.prototype.onModelLinesDeleted=function(e){var t=this;this.lines.onModelLinesDeleted(e.versionId,e.fromLineNumber,e.toLineNumber,function(e,n){return t.emit(e,n)})},t.prototype.onModelTokensChanged=function(e){for(var t=[],n=0,i=e.ranges.length;n<i;n++){var r=e.ranges[n],o=this.convertModelPositionToViewPosition(r.fromLineNumber,1).lineNumber,s=this.convertModelPositionToViewPosition(r.toLineNumber,this.model.getLineMaxColumn(r.toLineNumber)).lineNumber;t[n]={fromLineNumber:o,toLineNumber:s}}var e={ranges:t};this.emit(c.ViewEventNames.TokensChangedEvent,e)},t.prototype.onModelLineChanged=function(e){var t=this,n=this.lines.onModelLineChanged(e.versionId,e.lineNumber,e.detail,function(e,n){return t.emit(e,n)});return n},t.prototype.onModelLinesInserted=function(e){var t=this;this.lines.onModelLinesInserted(e.versionId,e.fromLineNumber,e.toLineNumber,e.detail.split("\n"),function(e,n){return t.emit(e,n)})},t.prototype.validateViewRange=function(e,t,n,i,r){var o=this.validateViewPosition(e,t,r.getStartPosition()),a=this.validateViewPosition(n,i,r.getEndPosition());return new s.Range(o.lineNumber,o.column,a.lineNumber,a.column)},t.prototype.validateViewPosition=function(e,t,n){e<1&&(e=1);var i=this.getLineCount();e>i&&(e=i);var r=this.getLineMinColumn(e),s=this.getLineMaxColumn(e);t<r&&(t=r),t>s&&(t=s);var a=this.convertViewPositionToModelPosition(e,t);return a.equals(n)?new o.Position(e,t):this.convertModelPositionToViewPosition(n.lineNumber,n.column)},t.prototype.validateViewSelection=function(e,t){var n=new o.Position(t.selectionStartLineNumber,t.selectionStartColumn),i=new o.Position(t.positionLineNumber,t.positionColumn),r=this.validateViewPosition(e.selectionStartLineNumber,e.selectionStartColumn,n),s=this.validateViewPosition(e.positionLineNumber,e.positionColumn,i);return new a.Selection(r.lineNumber,r.column,s.lineNumber,s.column)},t.prototype.onCursorPositionChanged=function(e){var t=this;this.cursors.onCursorPositionChanged(e,function(e,n){return t.emit(e,n)})},t.prototype.onCursorSelectionChanged=function(e){var t=this;this.cursors.onCursorSelectionChanged(e,function(e,n){return t.emit(e,n)})},t.prototype.onCursorRevealRange=function(e){var t=this;this.cursors.onCursorRevealRange(e,function(e,n){return t.emit(e,n)})},t.prototype.onCursorScrollRequest=function(e){var t=this;this.cursors.onCursorScrollRequest(e,function(e,n){return t.emit(e,n)})},t.prototype.getTabSize=function(){return this.model.getOptions().tabSize},t.prototype.getLineCount=function(){return this.lines.getOutputLineCount()},t.prototype.mightContainRTL=function(){return this.model.mightContainRTL()},t.prototype.getLineContent=function(e){return this.lines.getOutputLineContent(e)},t.prototype.getLineIndentGuide=function(e){return this.lines.getOutputIndentGuide(e)},t.prototype.getLineMinColumn=function(e){return this.lines.getOutputLineMinColumn(e)},t.prototype.getLineMaxColumn=function(e){return this.lines.getOutputLineMaxColumn(e)},t.prototype.getLineFirstNonWhitespaceColumn=function(e){var t=r.firstNonWhitespaceIndex(this.getLineContent(e));return t===-1?0:t+1},t.prototype.getLineLastNonWhitespaceColumn=function(e){var t=r.lastNonWhitespaceIndex(this.getLineContent(e));return t===-1?0:t+2},t.prototype.getLineTokens=function(e){return this.lines.getOutputLineTokens(e)},t.prototype.getLineRenderLineNumber=function(e){var t=this.convertViewPositionToModelPosition(e,1);if(1!==t.column)return"";var n=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(n);if(this._renderRelativeLineNumbers){var i=Math.abs(this._lastCursorPosition.lineNumber-n);return 0===i?'<span class="relative-current-line-number">'+n+"</span>":String(i)}return String(n)},t.prototype.getMaxLineNumber=function(){return this.model.getLineCount()},t.prototype.getDecorationsViewportData=function(e,t){var n=new s.Range(e,this.getLineMinColumn(e),t,this.getLineMaxColumn(t));return this.decorations.getDecorationsViewportData(n)},t.prototype.getAllOverviewRulerDecorations=function(){return this.decorations.getAllOverviewRulerDecorations()},t.prototype.getEOL=function(){return this.model.getEOL()},t.prototype.getValueInRange=function(e,t){var n=this.convertViewRangeToModelRange(e);return this.model.getValueInRange(n,t)},t.prototype.getSelections=function(){return this.cursors.getSelections()},t.prototype.convertViewPositionToModelPosition=function(e,t){return this.lines.convertOutputPositionToInputPosition(e,t)},t.prototype.convertViewRangeToModelRange=function(e){var t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),n=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new s.Range(t.lineNumber,t.column,n.lineNumber,n.column)},t.prototype.convertViewSelectionToModelSelection=function(e){var t=this.convertViewPositionToModelPosition(e.selectionStartLineNumber,e.selectionStartColumn),n=this.convertViewPositionToModelPosition(e.positionLineNumber,e.positionColumn);return new a.Selection(t.lineNumber,t.column,n.lineNumber,n.column)},t.prototype.getModelLineContent=function(e){return this.model.getLineContent(e)},t.prototype.getModelLineMaxColumn=function(e){return this.model.getLineMaxColumn(e)},t.prototype.validateModelPosition=function(e){return this.model.validatePosition(e)},t.prototype.convertModelPositionToViewPosition=function(e,t){return this.lines.convertInputPositionToOutputPosition(e,t)},t.prototype.convertModelRangeToViewRange=function(e){var t=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn),n=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn);return new s.Range(t.lineNumber,t.column,n.lineNumber,n.column)},t.prototype.convertWholeLineModelRangeToViewRange=function(e){var t=this.convertModelPositionToViewPosition(e.startLineNumber,1),n=this.convertModelPositionToViewPosition(e.endLineNumber,this.model.getLineMaxColumn(e.endLineNumber));return new s.Range(t.lineNumber,t.column,n.lineNumber,n.column)},t.prototype.convertModelSelectionToViewSelection=function(e){var t=this.convertModelPositionToViewPosition(e.selectionStartLineNumber,e.selectionStartColumn),n=this.convertModelPositionToViewPosition(e.positionLineNumber,e.positionColumn);return new a.Selection(t.lineNumber,t.column,n.lineNumber,n.column)},t.prototype.modelPositionIsVisible=function(e){return this.lines.inputPositionIsVisible(e.lineNumber,e.column)},t}(n.EventEmitter);t.ViewModel=h}),define(l[721],h([1,0,10]),function(e,t,n){"use strict";var i=function(){function e(e){this._editor=e,this._decorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}return e.prototype.dispose=function(){this._editor.deltaDecorations(this._allDecorations(),[]),this._editor=null,this._decorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=null},e.prototype.reset=function(){this._decorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},e.prototype.getCount=function(){return this._decorations.length},e.prototype.getFindScope=function(){return this._findScopeDecorationId?this._editor.getModel().getDecorationRange(this._findScopeDecorationId):null},e.prototype.getStartPosition=function(){return this._startPosition},e.prototype.setStartPosition=function(e){this._startPosition=e,this.setCurrentFindMatch(null)},e.prototype.getCurrentMatchesPosition=function(e){for(var t=0,n=this._decorations.length;t<n;t++){var i=this._editor.getModel().getDecorationRange(this._decorations[t]);if(e.equalsRange(i))return t+1}return 1},e.prototype.setCurrentFindMatch=function(t){var n=this,i=null,r=0;if(t)for(var o=0,s=this._decorations.length;o<s;o++){var a=this._editor.getModel().getDecorationRange(this._decorations[o]);if(t.equalsRange(a)){i=this._decorations[o],r=o+1;break}}return null===this._highlightedDecorationId&&null===i||this._editor.changeDecorations(function(t){if(null!==n._highlightedDecorationId&&(t.changeDecorationOptions(n._highlightedDecorationId,e.createFindMatchDecorationOptions(!1)),n._highlightedDecorationId=null),null!==i&&(n._highlightedDecorationId=i,t.changeDecorationOptions(n._highlightedDecorationId,e.createFindMatchDecorationOptions(!0))),null!==n._rangeHighlightDecorationId&&(t.removeDecoration(n._rangeHighlightDecorationId),n._rangeHighlightDecorationId=null),null!==i){var r=n._editor.getModel().getDecorationRange(i);n._rangeHighlightDecorationId=t.addDecoration(r,e.createRangeHighlightDecoration())}}),r},e.prototype.set=function(t,n){var i=t.map(function(t){return{range:t,options:e.createFindMatchDecorationOptions(!1)}});n&&i.unshift({range:n,options:e.createFindScopeDecorationOptions()});var r=this._editor.deltaDecorations(this._allDecorations(),i);n?this._findScopeDecorationId=r.shift():this._findScopeDecorationId=null,this._decorations=r,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},e.prototype._allDecorations=function(){var e=[];return e=e.concat(this._decorations),this._findScopeDecorationId&&e.push(this._findScopeDecorationId),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e},e.createFindMatchDecorationOptions=function(e){return{stickiness:n.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:e?"currentFindMatch":"findMatch",overviewRuler:{color:"rgba(246, 185, 77, 0.7)",darkColor:"rgba(246, 185, 77, 0.7)",position:n.OverviewRulerLane.Center}}},e.createRangeHighlightDecoration=function(){return{stickiness:n.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"rangeHighlight",isWholeLine:!0}},e.createFindScopeDecorationOptions=function(){return{className:"findScope",isWholeLine:!0}},e}();t.FindDecorations=i}),define(l[722],h([1,0,10,15]),function(e,t,n,i){"use strict";function r(e){return(e?e.startLineNumber+"/"+e.endLineNumber:"null")+(e.isCollapsed?" (collapsed)":"")+" - "+e.indent}function o(e,t,n,i,r){var o=a(e,t,n);if(!o)return[];if(1===i)return[o];var s=p(o,e,t,i,r);return s.filter(function(e){return!e.isCollapsed})}function s(e,t,n,i){var r=a(e,t,n);if(!r)return[];if(1===i){var o=r.isCollapsed?r:c(e,t,r,n);return o?[o]:[]}var s=p(r,e,t,i,!1);return s.filter(function(e){return e.isCollapsed})}function a(e,t,n){for(var i=null,r=0,o=e.length;r<o;r++){var s=e[r],a=s.getDecorationRange(t);if(a&&(u(a,n)&&(i=s),l(a,n)))break}return i}function c(e,t,n,i){for(var r=e.indexOf(n),o=r+1;o<e.length;o++){var s=e[o],a=s.getDecorationRange(t);if(a&&l(a,i)){if(!d(n.foldingRange,a))return null;if(s.isCollapsed)return s}}return null}function u(e,t){return t>=e.startLineNumber&&t<=e.endLineNumber}function l(e,t){return t<e.startLineNumber}function h(e,t){return t>e.endLineNumber}function d(e,t){return e instanceof i.Range&&t instanceof i.Range?e.containsRange(t):e.startLineNumber<=t.startLineNumber&&e.endLineNumber>=t.endLineNumber}function p(e,t,n,i,r){var o=r?new v(e,t,n):new g(e,t,n);return o.getRegionsTill(i)}t.toString=r;var f=function(){function e(e,t,n){this.decorationIds=[],this.update(e,t,n)}return Object.defineProperty(e.prototype,"isCollapsed",{get:function(){return this._isCollapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExpanded",{get:function(){return!this._isCollapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indent",{get:function(){return this._indent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"foldingRange",{get:function(){return this._lastRange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startLineNumber",{get:function(){return this._lastRange?this._lastRange.startLineNumber:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endLineNumber",{get:function(){return this._lastRange?this._lastRange.endLineNumber:void 0},enumerable:!0,configurable:!0}),e.prototype.setCollapsed=function(e,t){this._isCollapsed=e,this.decorationIds.length>0&&t.changeDecorationOptions(this.decorationIds[0],this.getVisualDecorationOptions())},e.prototype.getDecorationRange=function(e){return this.decorationIds.length>0?e.getDecorationRange(this.decorationIds[1]):null},e.prototype.getVisualDecorationOptions=function(){return this._isCollapsed?{stickiness:n.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"inline-folded",linesDecorationsClassName:"folding collapsed"}:{stickiness:n.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,linesDecorationsClassName:"folding"}},e.prototype.getRangeDecorationOptions=function(){return{stickiness:n.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore}},e.prototype.update=function(e,t,n){this._lastRange=e,this._isCollapsed=!!e.isCollapsed,this._indent=e.indent;var i=[],r=t.getLineMaxColumn(e.startLineNumber),o={startLineNumber:e.startLineNumber,startColumn:r-1,endLineNumber:e.startLineNumber,endColumn:r};i.push({range:o,options:this.getVisualDecorationOptions()});var s={startLineNumber:e.startLineNumber,startColumn:1,endLineNumber:e.endLineNumber,endColumn:t.getLineMaxColumn(e.endLineNumber)};i.push({range:s,options:this.getRangeDecorationOptions()}),this.decorationIds=n.deltaDecorations(this.decorationIds,i)},e.prototype.dispose=function(e){this._lastRange=null,this.decorationIds=e.deltaDecorations(this.decorationIds,[])},e.prototype.toString=function(){var e=this.isCollapsed?"collapsed ":"expanded ";return e+=this._lastRange?this._lastRange.startLineNumber+"/"+this._lastRange.endLineNumber:"no range"},e}();t.CollapsibleRegion=f,t.getCollapsibleRegionsToFoldAtLine=o,t.getCollapsibleRegionsToUnfoldAtLine=s,t.doesLineBelongsToCollapsibleRegion=u;var g=function(){function e(e,t,n){this.region=e,this.children=[];for(var i=t.indexOf(e)+1;i<t.length;i++){var r=t[i],o=r.getDecorationRange(n);if(o&&(d(e.foldingRange,o)&&(i=this.processChildRegion(r,t,n,i)),l(o,e.foldingRange.endLineNumber)))break}}return e.prototype.processChildRegion=function(t,n,i,r){var o=new e(t,n,i);return this.children.push(o),this.lastChildIndex=r,o.children.length>0?o.lastChildIndex:r},e.prototype.getRegionsTill=function(e){var t=[this.region];return e>1&&this.children.forEach(function(n){return t=t.concat(n.getRegionsTill(e-1))}),t},e}(),v=function(){function e(t,n,i){this.region=t;for(var r=n.indexOf(t)-1;r>=0;r--){var o=n[r],s=o.getDecorationRange(i);if(s){if(d(s,t.foldingRange)){this.parent=new e(o,n,i);break}if(h(s,t.foldingRange.endLineNumber))break}}}return e.prototype.getRegionsTill=function(e){var t=[this.region];return this.parent&&e>1&&(t=t.concat(this.parent.getRegionsTill(e-1))),t},e}()}),define(l[723],h([1,0,182,10,12,287,2]),function(e,t,n,i,r,o,s){"use strict";function a(e){for(var t=n.createHash("sha1"),i=0,r=e.lines.length;i<r;i++)t.update(e.lines[i]+"\n");return t.digest("hex")}var c=function(){function e(){}return e}();t.ModelBuilderResult=c;var u=function(){function e(){this.hash=n.createHash("sha1"),this.BOM="",this.lines=[],this.currLineIndex=0}return e.prototype.acceptLines=function(e){0===this.currLineIndex&&r.startsWithUTF8BOM(e[0])&&(this.BOM=r.UTF8_BOM_CHARACTER,e[0]=e[0].substr(1));for(var t=0,n=e.length;t<n;t++)this.lines[this.currLineIndex++]=e[t];this.hash.update(e.join("\n")+"\n")},e.prototype.finish=function(e,t,n,r){var s=this.lines.length-1,a="";a=0===s?r.defaultEOL===i.DefaultEndOfLine.LF?"\n":"\r\n":t>s/2?"\r\n":"\n";var c;if(r.detectIndentation){var u=o.guessIndentation(this.lines,r.tabSize,r.insertSpaces);c=new i.TextModelResolvedOptions({tabSize:u.tabSize,insertSpaces:u.insertSpaces,trimAutoWhitespace:r.trimAutoWhitespace,defaultEOL:r.defaultEOL})}else c=new i.TextModelResolvedOptions({tabSize:r.tabSize,insertSpaces:r.insertSpaces,trimAutoWhitespace:r.trimAutoWhitespace,defaultEOL:r.defaultEOL});return{rawText:{BOM:this.BOM,EOL:a,lines:this.lines,length:e,containsRTL:n,options:c},hash:this.hash.digest("hex")}},e}();t.computeHash=a;var l=function(){function e(){this.leftoverPrevChunk="",this.leftoverEndsInCR=!1,this.totalCRCount=0,this.lineBasedBuilder=new u,this.totalLength=0,this.containsRTL=!1}return e.fromStringStream=function(t,n){return new s.TPromise(function(i,r,o){var s=!1,a=new e;t.on("data",function(e){a.acceptChunk(e)}),t.on("error",function(e){s||(s=!0,r(e))}),t.on("end",function(){s||(s=!0,i(a.finish(n)))})})},e.prototype._updateCRCount=function(e){for(var t=0,n=-1;(n=e.indexOf("\r",n+1))!==-1;)t++;this.totalCRCount+=t},e.prototype.acceptChunk=function(e){if(0!==e.length){this.totalLength+=e.length,this._updateCRCount(e),this.containsRTL||(this.containsRTL=r.containsRTL(e)),this.leftoverEndsInCR&&(e="\r"+e),13===e.charCodeAt(e.length-1)?(this.leftoverEndsInCR=!0,e=e.substr(0,e.length-1)):this.leftoverEndsInCR=!1;var t=e.split(/\r\n|\r|\n/);if(1===t.length)return void(this.leftoverPrevChunk+=t[0]);t[0]=this.leftoverPrevChunk+t[0],this.lineBasedBuilder.acceptLines(t.slice(0,t.length-1)),this.leftoverPrevChunk=t[t.length-1]}},e.prototype.finish=function(e){var t=[this.leftoverPrevChunk];return this.leftoverEndsInCR&&t.push(""),this.lineBasedBuilder.acceptLines(t),this.lineBasedBuilder.finish(this.totalLength,this.totalCRCount,this.containsRTL,e)},e}();t.ModelBuilder=l}),define(l[39],h([1,0,6]),function(e,t,n){"use strict";t.IContextViewService=n.createDecorator("contextViewService"),t.IContextMenuService=n.createDecorator("contextMenuService");var i=function(){function e(e,t){this.label=e,this.entries=t}return e}();t.ContextSubMenu=i}),define(l[66],h([1,0,6]),function(e,t,n){"use strict";t.IEditorService=n.createDecorator("editorService"),function(e){e[e.ONE=0]="ONE",e[e.TWO=1]="TWO",e[e.THREE=2]="THREE"}(t.Position||(t.Position={}));var i=t.Position;t.POSITIONS=[i.ONE,i.TWO,i.THREE],function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(t.Direction||(t.Direction={}));t.Direction}),define(l[51],h([1,0,6]),function(e,t,n){"use strict";t.IEnvironmentService=n.createDecorator("environmentService")}),define(l[47],h([1,0,6]),function(e,t,n){"use strict";t.IEventService=n.createDecorator("eventService")}),define(l[88],h([1,0,439,6]),function(e,t,n,i){"use strict";t.EXTENSION_IDENTIFIER_PATTERN="^[a-z0-9A-Z][a-z0-9-A-Z]*\\.[a-z0-9A-Z][a-z0-9-A-Z]*$",t.EXTENSION_IDENTIFIER_REGEX=new RegExp(t.EXTENSION_IDENTIFIER_PATTERN),function(e){e[e.System=0]="System",e[e.User=1]="User"}(t.LocalExtensionType||(t.LocalExtensionType={}));t.LocalExtensionType;t.IExtensionManagementService=i.createDecorator("extensionManagementService"),t.IExtensionGalleryService=i.createDecorator("extensionGalleryService"),function(e){e[e.NoneOrRelevance=0]="NoneOrRelevance",e[e.LastUpdatedDate=1]="LastUpdatedDate",e[e.Title=2]="Title",e[e.PublisherName=3]="PublisherName",e[e.InstallCount=4]="InstallCount",e[e.PublishedDate=5]="PublishedDate",e[e.AverageRating=6]="AverageRating"}(t.SortBy||(t.SortBy={}));t.SortBy;!function(e){e[e.Default=0]="Default",e[e.Ascending=1]="Ascending",e[e.Descending=2]="Descending"}(t.SortOrder||(t.SortOrder={}));t.SortOrder;t.IExtensionEnablementService=i.createDecorator("extensionEnablementService"),t.IExtensionTipsService=i.createDecorator("extensionTipsService"),t.ExtensionsLabel=n.localize(0,null),t.ExtensionsChannelId="extensions",t.PreferencesLabel=n.localize(1,null)}),define(l[75],h([1,0,6]),function(e,t,n){"use strict";t.IExtensionService=n.createDecorator("extensionService");var i=function(){function e(e,t){this.description=e,this.value=t}return e}();t.ExtensionPointContribution=i}),define(l[730],h([1,0,11,5,108,23,31,75,34]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(){function e(e,t){this._extensionService=e,this._commandService=t}return e.prototype.createMenu=function(e,t){return new l(e,this._commandService,t,this._extensionService)},e.prototype.getCommandActions=function(){return r.values(s.MenuRegistry.commands)},e=g([v(0,a.IExtensionService),v(1,c.ICommandService)],e)}();t.MenuService=u;var l=function(){function e(t,i,r,o){var a=this;this._commandService=i,this._contextKeyService=r,this._extensionService=o,this._menuGroups=[],this._disposables=[],this._onDidChange=new n.Emitter,this._extensionService.onReady().then(function(n){var i,r=s.MenuRegistry.getMenuItems(t),o=Object.create(null);r.sort(e._compareMenuItems);for(var c=0,u=r;c<u.length;c++){var l=u[c],h=l.group;i&&i[0]===h||(i=[h,[]],a._menuGroups.push(i)),i[1].push(l),e._fillInKbExprKeys(l.when,o)}a._disposables.push(a._contextKeyService.onDidChangeContext(function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(o[i])return void a._onDidChange.fire()}})),a._onDidChange.fire(a)})}return e.prototype.dispose=function(){this._disposables=i.dispose(this._disposables),this._onDidChange.dispose()},Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),e.prototype.getActions=function(e){for(var t=[],n=0,i=this._menuGroups;n<i.length;n++){for(var r=i[n],o=r[0],a=r[1],c=[],u=0,l=a;u<l.length;u++){var h=l[u];if(this._contextKeyService.contextMatchesRules(h.when)){var d=new s.MenuItemAction(h.command,h.alt,e,this._commandService);d.order=h.order,c.push(d)}}c.length>0&&t.push([o,c])}return t},e._fillInKbExprKeys=function(e,t){if(e)for(var n=0,i=e.keys();n<i.length;n++){var r=i[n];t[r]=!0}},e._compareMenuItems=function(e,t){var n=e.group,i=t.group;if(n!==i){if(!n)return 1;if(!i)return-1;if("navigation"===n)return-1;if("navigation"===i)return 1;var r=n.localeCompare(i);if(0!==r)return r}var o=e.order||0,s=t.order||0;return o<s?-1:o>s?1:e.command.title.localeCompare(t.command.title)},e=g([v(1,c.ICommandService),v(2,o.IContextKeyService),v(3,a.IExtensionService)],e)}()}),define(l[731],h([1,0,2,6,34,75]),function(e,t,n,i,r,o){"use strict";var s=function(){function e(e,t){var n=this;this._instantiationService=e,this._extensionService=t,this._extensionHostIsReady=!1,this._extensionService.onReady().then(function(e){return n._extensionHostIsReady=e})}return e.prototype.executeCommand=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=this._extensionService.activateByEvent("onCommand:"+e);return this._extensionHostIsReady?r.then(function(i){return t._tryExecuteCommand(e,n)}):this._tryExecuteCommand(e,n)},e.prototype._tryExecuteCommand=function(e,t){var i=this._getCommand(e);if(!i)return n.TPromise.wrapError(new Error("command '"+e+"' not found"));try{var r=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler].concat(t));return n.TPromise.as(r)}catch(e){return n.TPromise.wrapError(e)}},e.prototype._getCommand=function(e){return r.CommandsRegistry.getCommand(e)},e=g([v(0,i.IInstantiationService),v(1,o.IExtensionService)],e)}();t.CommandService=s}),define(l[33],h([1,0,20,109,13,6]),function(e,t,n,i,r,o){"use strict";function s(e,t){var n=e===t;return r.isLinux||n?n:e.toLowerCase()===t.toLowerCase()}function a(e,t){return r.isLinux||(e=e.toLowerCase(),t=t.toLowerCase()),0===e.indexOf(t+n.nativeSep)}t.IFileService=o.createDecorator("fileService"),function(e){e[e.UPDATED=0]="UPDATED",e[e.ADDED=1]="ADDED",e[e.DELETED=2]="DELETED"}(t.FileChangeType||(t.FileChangeType={}));var c=t.FileChangeType;t.EventType={FILE_CHANGES:"files:fileChanges"};var u=function(e){function t(t){e.call(this),this._changes=t}return d(t,e),Object.defineProperty(t.prototype,"changes",{get:function(){return this._changes},enumerable:!0,configurable:!0}),t.prototype.contains=function(e,t){return!!e&&this._changes.some(function(n){return n.type===t&&(t===c.DELETED?s(e.fsPath,n.resource.fsPath)||a(e.fsPath,n.resource.fsPath):s(e.fsPath,n.resource.fsPath))})},t.prototype.getAdded=function(){return this.getOfType(c.ADDED)},t.prototype.gotAdded=function(){return this.hasType(c.ADDED)},t.prototype.getDeleted=function(){return this.getOfType(c.DELETED)},t.prototype.gotDeleted=function(){return this.hasType(c.DELETED)},t.prototype.getUpdated=function(){return this.getOfType(c.UPDATED)},t.prototype.gotUpdated=function(){return this.hasType(c.UPDATED)},t.prototype.getOfType=function(e){return this._changes.filter(function(t){return t.type===e})},t.prototype.hasType=function(e){return this._changes.some(function(t){return t.type===e})},t}(i.Event);t.FileChangesEvent=u,t.isEqual=s,t.isParent=a,function(e){e[e.FILE_IS_BINARY=0]="FILE_IS_BINARY",e[e.FILE_IS_DIRECTORY=1]="FILE_IS_DIRECTORY",e[e.FILE_NOT_FOUND=2]="FILE_NOT_FOUND",e[e.FILE_NOT_MODIFIED_SINCE=3]="FILE_NOT_MODIFIED_SINCE",e[e.FILE_MODIFIED_SINCE=4]="FILE_MODIFIED_SINCE",e[e.FILE_MOVE_CONFLICT=5]="FILE_MOVE_CONFLICT",e[e.FILE_READ_ONLY=6]="FILE_READ_ONLY",e[e.FILE_TOO_LARGE=7]="FILE_TOO_LARGE",e[e.FILE_INVALID_PATH=8]="FILE_INVALID_PATH"}(t.FileOperationResult||(t.FileOperationResult={}));t.FileOperationResult;t.MAX_FILE_SIZE=52428800,t.AutoSaveConfiguration={OFF:"off",AFTER_DELAY:"afterDelay",ON_FOCUS_CHANGE:"onFocusChange",ON_WINDOW_CHANGE:"onWindowChange"},t.CONTENT_CHANGE_EVENT_BUFFER_DELAY=1e3,t.SUPPORTED_ENCODINGS={utf8:{labelLong:"UTF-8",labelShort:"UTF-8",order:1,alias:"utf8bom"},utf8bom:{labelLong:"UTF-8 with BOM",labelShort:"UTF-8 with BOM",encodeOnly:!0,order:2,alias:"utf8"},utf16le:{labelLong:"UTF-16 LE",labelShort:"UTF-16 LE",order:3},utf16be:{labelLong:"UTF-16 BE",labelShort:"UTF-16 BE",order:4},windows1252:{labelLong:"Western (Windows 1252)",labelShort:"Windows 1252",order:5},iso88591:{labelLong:"Western (ISO 8859-1)",labelShort:"ISO 8859-1",order:6},iso88593:{labelLong:"Western (ISO 8859-3)",labelShort:"ISO 8859-3",order:7},iso885915:{labelLong:"Western (ISO 8859-15)",labelShort:"ISO 8859-15",order:8},macroman:{labelLong:"Western (Mac Roman)",labelShort:"Mac Roman",order:9},cp437:{labelLong:"DOS (CP 437)",labelShort:"CP437",order:10},windows1256:{labelLong:"Arabic (Windows 1256)",labelShort:"Windows 1256",order:11},iso88596:{labelLong:"Arabic (ISO 8859-6)",labelShort:"ISO 8859-6",order:12},windows1257:{labelLong:"Baltic (Windows 1257)",labelShort:"Windows 1257",order:13},iso88594:{labelLong:"Baltic (ISO 8859-4)",labelShort:"ISO 8859-4",order:14},iso885914:{labelLong:"Celtic (ISO 8859-14)",labelShort:"ISO 8859-14",order:15},windows1250:{labelLong:"Central European (Windows 1250)",labelShort:"Windows 1250",order:16},iso88592:{labelLong:"Central European (ISO 8859-2)",labelShort:"ISO 8859-2",order:17},cp852:{labelLong:"Central European (CP 852)",labelShort:"CP 852",order:18},windows1251:{labelLong:"Cyrillic (Windows 1251)",labelShort:"Windows 1251",order:19},cp866:{labelLong:"Cyrillic (CP 866)",labelShort:"CP 866",order:20},iso88595:{labelLong:"Cyrillic (ISO 8859-5)",labelShort:"ISO 8859-5",order:21},koi8r:{labelLong:"Cyrillic (KOI8-R)",labelShort:"KOI8-R",order:22},koi8u:{labelLong:"Cyrillic (KOI8-U)",labelShort:"KOI8-U",order:23},iso885913:{labelLong:"Estonian (ISO 8859-13)",labelShort:"ISO 8859-13",order:24},windows1253:{labelLong:"Greek (Windows 1253)",labelShort:"Windows 1253",order:25},iso88597:{labelLong:"Greek (ISO 8859-7)",labelShort:"ISO 8859-7",order:26},windows1255:{labelLong:"Hebrew (Windows 1255)",labelShort:"Windows 1255",order:27},iso88598:{labelLong:"Hebrew (ISO 8859-8)",labelShort:"ISO 8859-8",order:28},iso885910:{labelLong:"Nordic (ISO 8859-10)",labelShort:"ISO 8859-10",order:29},iso885916:{labelLong:"Romanian (ISO 8859-16)",labelShort:"ISO 8859-16",order:30},windows1254:{labelLong:"Turkish (Windows 1254)",labelShort:"Windows 1254",order:31},iso88599:{labelLong:"Turkish (ISO 8859-9)",labelShort:"ISO 8859-9",order:32},windows1258:{labelLong:"Vietnamese (Windows 1258)",labelShort:"Windows 1258",order:33},gbk:{labelLong:"Chinese (GBK)",labelShort:"GBK",order:34},gb18030:{labelLong:"Chinese (GB18030)",labelShort:"GB18030",order:35},cp950:{labelLong:"Traditional Chinese (Big5)",labelShort:"Big5",order:36},big5hkscs:{labelLong:"Traditional Chinese (Big5-HKSCS)",labelShort:"Big5-HKSCS",order:37},shiftjis:{labelLong:"Japanese (Shift JIS)",labelShort:"Shift JIS",order:38},eucjp:{labelLong:"Japanese (EUC-JP)",labelShort:"EUC-JP",order:39},euckr:{labelLong:"Korean (EUC-KR)",labelShort:"EUC-KR",order:40},windows874:{labelLong:"Thai (Windows 874)",labelShort:"Windows 874",order:41},iso885911:{labelLong:"Latin/Thai (ISO 8859-11)",labelShort:"ISO 8859-11",order:42},"koi8-ru":{labelLong:"Cyrillic (KOI8-RU)",labelShort:"KOI8-RU",order:43},"koi8-t":{labelLong:"Tajik (KOI8-T)",
labelShort:"KOI8-T",order:44},GB2312:{labelLong:"Simplified Chinese (GB 2312)",labelShort:"GB 2312",order:45}}}),define(l[234],h([1,0,1189,35,108,5,16,2,33,118,15,46]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";function p(e,t,n,i,r){void 0===r&&(r=null);var o=f(e,t,n);return o.add(i),o.progress(r),o.finish()}function f(e,t,i){function r(e){u=e}function o(e){l.push.apply(l,e)}function s(){for(var e,t=0,i=l;t<i.length;t++){var r=i[t];h.hasChanged(r.resource)&&(e||(e=[]),e.push(r.resource.fsPath))}if(e)return n.localize(0,null,e.join(", "))}function c(){if(0===l.length)return a.TPromise.as(void 0);var e=s();if(e)return a.TPromise.wrapError(e);var n,r;i&&i.getModel()&&(n=i.getModel().uri,r=i.getSelections());var o=new y(t,n,r,l,u);return o.prepare().then(function(e){var t=s();if(t)throw new Error(t);h.stop();var n=o.apply();return o.dispose(),n})}var u,l=[],h=new g(e).start();return{progress:r,add:o,finish:c}}var g=function(){function e(e){this._eventService=e}return e.prototype.start=function(){var e=Object.create(null),t=this._eventService.addListener2(c.EventType.FILE_CHANGES,function(t){t.changes.forEach(function(t){var n=String(t.resource),i=e[n];i||(e[n]=i=[]),i.push(t)})});return{stop:function(){t.dispose()},hasChanged:function(t){return!!e[t.toString()]},allChanges:function(){return i.merge(r.values(e))}}},e}(),v=function(){function e(e){this._endCursorSelection=null,this._modelReference=e,this._edits=[]}return Object.defineProperty(e.prototype,"_model",{get:function(){return this._modelReference.object.textEditorModel},enumerable:!0,configurable:!0}),e.prototype.addEdit=function(e){var t;t=e.range?e.range:this._model.getFullModelRange(),this._edits.push(u.EditOperation.replace(l.Range.lift(t),e.newText))},e.prototype.apply=function(){var t=this;0!==this._edits.length&&(this._edits.sort(e._editCompare),this._initialSelections=this._getInitialSelections(),this._model.pushEditOperations(this._initialSelections,this._edits,function(e){return t._getEndCursorSelections(e)}))},e.prototype._getInitialSelections=function(){var e=this._edits[0].range,t=new h.Selection(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);return[t]},e.prototype._getEndCursorSelections=function(e){for(var t=0,n=0;n<e.length;n++)for(var i=e[n].range,r=0;r<this._initialSelections.length;r++){var o=this._initialSelections[r];if(l.Range.areIntersectingOrTouching(i,o)){t=n;break}}var s=e[t].range;return this._endCursorSelection=new h.Selection(s.endLineNumber,s.endColumn,s.endLineNumber,s.endColumn),[this._endCursorSelection]},e.prototype.getEndCursorSelection=function(){return this._endCursorSelection},e._editCompare=function(e,t){return l.Range.compareRangesUsingStarts(e.range,t.range)},e.prototype.dispose=function(){this._model&&(this._modelReference.dispose(),this._modelReference=null)},e}(),m=function(e){function t(t,n){e.call(this,t),this._knownInitialSelections=n}return d(t,e),t.prototype._getInitialSelections=function(){return this._knownInitialSelections},t}(v),y=function(){function e(e,t,n,i,r){void 0===r&&(r=null),this.progress=r,this._numberOfResourcesToModify=0,this._numberOfChanges=0,this._edits=Object.create(null),this._textModelResolverService=e,this._sourceModel=t,this._sourceSelections=n,this._sourceModelTask=null;for(var o=0,s=i;o<s.length;o++){var a=s[o];this._addEdit(a)}}return e.prototype.resourcesCount=function(){return this._numberOfResourcesToModify},e.prototype.changeCount=function(){return this._numberOfChanges},e.prototype._addEdit=function(e){var t=this._edits[e.resource.toString()];t||(this._edits[e.resource.toString()]=t=[],this._numberOfResourcesToModify+=1),this._numberOfChanges+=1,t.push(e)},e.prototype.prepare=function(){var e=this;if(this._tasks)throw new Error("illegal state - already prepared");this._tasks=[];var t=[];return this.progress&&this.progress.total(2*this._numberOfResourcesToModify),r.forEach(this._edits,function(n){var i=e._textModelResolverService.createModelReference(s.default.parse(n.key)).then(function(t){var i=t.object;if(!i||!i.textEditorModel)throw new Error("Cannot load file "+n.key);var r,o=i.textEditorModel;e._sourceModel&&o.uri.toString()===e._sourceModel.toString()?(e._sourceModelTask=new m(t,e._sourceSelections),r=e._sourceModelTask):r=new v(t),n.value.forEach(function(e){return r.addEdit(e)}),e._tasks.push(r),e.progress&&e.progress.worked(1)});t.push(i)}),a.TPromise.join(t).then(function(t){return e})},e.prototype.apply=function(){var e=this;this._tasks.forEach(function(t){return e.applyTask(t)});var t=null;return this._sourceModelTask&&(t=this._sourceModelTask.getEndCursorSelection()),t},e.prototype.applyTask=function(e){e.apply(),this.progress&&this.progress.worked(1)},e.prototype.dispose=function(){this._tasks=o.dispose(this._tasks)},e}();t.bulkEdit=p,t.createBulkEdit=f}),define(l[113],h([1,0,35]),function(e,t,n){"use strict";var i=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];this._entries=[];for(var n=0,i=e;n<i.length;n++){var r=i[n];this.set(r[0],r[1])}}return e.prototype.set=function(t,i){var r=[t,i],o=n.binarySearch(this._entries,r,e._entryCompare);if(!(o<0)){var s=this._entries[o];return this._entries[o]=r,s[1]}this._entries.splice(~o,0,r)},e.prototype.forEach=function(e){for(var t=0,n=this._entries;t<n.length;t++){var i=n[t],r=i[0],o=i[1];e(r,o)}},e.prototype.has=function(t){return n.binarySearch(this._entries,e._searchEntry(t),e._entryCompare)>=0},e.prototype.get=function(t){var i=n.binarySearch(this._entries,e._searchEntry(t),e._entryCompare);if(i>=0)return this._entries[i][1]},e._searchEntry=function(t){return e._dummy[0]=t,e._dummy},e._entryCompare=function(e,t){var n=e[0].toString(),i=t[0].toString();return n<i?-1:n>i?1:0},e._dummy=[void 0,void 0],e}();t.ServiceCollection=i}),define(l[735],h([1,0,7,11,42,5,2,113,23,127,682,137,671,44,15,46,314,10,696,349,720,1046,688,31,34]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,g,v,m,y,b,S,E,_,C,w,I){"use strict";var T=y.EditorContextKeys,x=0,A=function(e){function t(t,n,r,o){var s=this;e.call(this),this.onDidChangeModelRawContent=i.fromEventEmitter(this,y.EventType.ModelRawContentChanged),this.onDidChangeModelContent=i.fromEventEmitter(this,y.EventType.ModelContentChanged2),this.onDidChangeModelMode=i.fromEventEmitter(this,y.EventType.ModelModeChanged),this.onDidChangeModelOptions=i.fromEventEmitter(this,y.EventType.ModelOptionsChanged),this.onDidChangeModelDecorations=i.fromEventEmitter(this,y.EventType.ModelDecorationsChanged),this.onDidChangeConfiguration=i.fromEventEmitter(this,y.EventType.ConfigurationChanged),this.onDidChangeModel=i.fromEventEmitter(this,y.EventType.ModelChanged),this.onDidChangeCursorPosition=i.fromEventEmitter(this,y.EventType.CursorPositionChanged),this.onDidChangeCursorSelection=i.fromEventEmitter(this,y.EventType.CursorSelectionChanged),this.onDidFocusEditorText=i.fromEventEmitter(this,y.EventType.EditorTextFocus),this.onDidBlurEditorText=i.fromEventEmitter(this,y.EventType.EditorTextBlur),this.onDidFocusEditor=i.fromEventEmitter(this,y.EventType.EditorFocus),this.onDidBlurEditor=i.fromEventEmitter(this,y.EventType.EditorBlur),this.onDidDispose=i.fromEventEmitter(this,y.EventType.Disposed),this.domElement=t,this.id=++x,this._lifetimeDispose=[],this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},n=n||{},"undefined"==typeof n.ariaLabel&&(n.ariaLabel=u.DefaultConfig.editor.ariaLabel),this._configuration=this._createConfiguration(n),this._lifetimeDispose.push(this._configuration.onDidChange(function(e){s.emit(y.EventType.ConfigurationChanged,e)})),this._contextKeyService=o.createScoped(this.domElement),this._lifetimeDispose.push(new D(this,this._contextKeyService)),this._lifetimeDispose.push(new C.EditorModeContext(this,this._contextKeyService)),this._instantiationService=r.createChild(new a.ServiceCollection([c.IContextKeyService,this._contextKeyService])),this._attachModel(null),this._contributions={},this._actions={}}return d(t,e),t.prototype.getId=function(){return this.getEditorType()+":"+this.id},t.prototype.getEditorType=function(){return y.EditorType.ICodeEditor},t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){this._lifetimeDispose=o.dispose(this._lifetimeDispose);for(var t=Object.keys(this._contributions),n=0,i=t.length;n<i;n++){var r=t[n];this._contributions[r].dispose()}this._contributions={},this._actions={},this._postDetachModelCleanup(this._detachModel()),this._configuration.dispose(),this._contextKeyService.dispose(),this.emit(y.EventType.Disposed),e.prototype.dispose.call(this)},t.prototype.captureState=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return new p.EditorState(this,e)},t.prototype.invokeWithinContext=function(e){return this._instantiationService.invokeFunction(e)},t.prototype.updateOptions=function(e){this._configuration.updateOptions(e)},t.prototype.getConfiguration=function(){return this._configuration.editorClone},t.prototype.getRawConfiguration=function(){return this._configuration.getRawOptions()},t.prototype.getValue=function(e){if(void 0===e&&(e=null),this.model){var t=!(!e||!e.preserveBOM),n=y.EndOfLinePreference.TextDefined;return e&&e.lineEnding&&"\n"===e.lineEnding?n=y.EndOfLinePreference.LF:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(n=y.EndOfLinePreference.CRLF),this.model.getValue(n,t)}return""},t.prototype.setValue=function(e){this.model&&this.model.setValue(e)},t.prototype.getModel=function(){return this.model},t.prototype.setModel=function(e){if(void 0===e&&(e=null),this.model!==e){var t=this._detachModel();this._attachModel(e);var n={oldModelUrl:t?t.uri:null,newModelUrl:e?e.uri:null};this.emit(y.EventType.ModelChanged,n),this._postDetachModelCleanup(t)}},t.prototype.getVisibleColumnFromPosition=function(e){if(!this.model)return e.column;var t=this.model.validatePosition(e),n=this.model.getOptions().tabSize;return h.CursorColumns.visibleColumnFromColumn(this.model.getLineContent(t.lineNumber),t.column,n)+1},t.prototype.getPosition=function(){return this.cursor?this.cursor.getPosition().clone():null},t.prototype.setPosition=function(e,t,n,i){if(void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===i&&(i=!1),this.cursor){if(!f.Position.isIPosition(e))throw new Error("Invalid arguments");this.cursor.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}]),t&&this.revealPosition(e,n,i)}},t.prototype._sendRevealRange=function(e,t,n){if(this.model&&this.cursor){if(!g.Range.isIRange(e))throw new Error("Invalid arguments");var i=this.model.validateRange(e),r={range:i,viewRange:null,verticalType:t,revealHorizontal:n,revealCursor:!1};this.cursor.emit(y.EventType.CursorRevealRange,r)}},t.prototype.revealLine=function(e){this._revealLine(e,0)},t.prototype.revealLineInCenter=function(e){this._revealLine(e,1)},t.prototype.revealLineInCenterIfOutsideViewport=function(e){this._revealLine(e,2)},t.prototype._revealLine=function(e,t){if("number"!=typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new g.Range(e,1,e,1),t,!1)},t.prototype.revealPosition=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),this._revealPosition(e,t?1:0,n)},t.prototype.revealPositionInCenter=function(e){this._revealPosition(e,1,!0)},t.prototype.revealPositionInCenterIfOutsideViewport=function(e){this._revealPosition(e,2,!0)},t.prototype._revealPosition=function(e,t,n){if(!f.Position.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new g.Range(e.lineNumber,e.column,e.lineNumber,e.column),t,n)},t.prototype.getSelection=function(){return this.cursor?this.cursor.getSelection().clone():null},t.prototype.getSelections=function(){if(!this.cursor)return null;for(var e=this.cursor.getSelections(),t=[],n=0,i=e.length;n<i;n++)t[n]=e[n].clone();return t},t.prototype.setSelection=function(e,t,n,i){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===i&&(i=!1);var r=v.Selection.isISelection(e),o=g.Range.isIRange(e);if(!r&&!o)throw new Error("Invalid arguments");if(r)this._setSelectionImpl(e,t,n,i);else if(o){var s={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(s,t,n,i)}},t.prototype._setSelectionImpl=function(e,t,n,i){if(this.cursor){var r=new v.Selection(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this.cursor.setSelections("api",[r]),t&&this.revealRange(r,n,i)}},t.prototype.revealLines=function(e,t){this._revealLines(e,t,0)},t.prototype.revealLinesInCenter=function(e,t){this._revealLines(e,t,1)},t.prototype.revealLinesInCenterIfOutsideViewport=function(e,t){this._revealLines(e,t,2)},t.prototype._revealLines=function(e,t,n){if("number"!=typeof e||"number"!=typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new g.Range(e,1,t,1),n,!1)},t.prototype.revealRange=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),this._revealRange(e,t?1:0,n)},t.prototype.revealRangeInCenter=function(e){this._revealRange(e,1,!0)},t.prototype.revealRangeInCenterIfOutsideViewport=function(e){this._revealRange(e,2,!0)},t.prototype._revealRange=function(e,t,n){if(!g.Range.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(g.Range.lift(e),t,n)},t.prototype.setSelections=function(e){if(this.cursor){if(!e||0===e.length)throw new Error("Invalid arguments");for(var t=0,n=e.length;t<n;t++)if(!v.Selection.isISelection(e[t]))throw new Error("Invalid arguments");this.cursor.setSelections("api",e)}},t.prototype.onVisible=function(){},t.prototype.onHide=function(){},t.prototype.getContribution=function(e){return this._contributions[e]||null},t.prototype.addAction=function(e){if("string"!=typeof e.id||"string"!=typeof e.label||"function"!=typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");var t=this.getId()+":"+e.id,n=new m.DynamicEditorAction(e,this);if(I.CommandsRegistry.registerCommand(t,function(){return n.run()}),e.contextMenuGroupId){var i={command:{id:t,title:e.label},when:c.ContextKeyExpr.equals("editorId",this.getId()),group:e.contextMenuGroupId,order:e.contextMenuOrder||0};w.MenuRegistry.appendMenuItem(w.MenuId.EditorContext,i)}this._actions[n.id]=n},t.prototype.getActions=function(){for(var e=[],t=Object.keys(this._actions),n=0,i=t.length;n<i;n++){var r=t[n];e.push(this._actions[r])}return e},t.prototype.getSupportedActions=function(){var e=this.getActions();return e=e.filter(function(e){return e.isSupported()})},t.prototype.getAction=function(e){return this._actions[e]||null},t.prototype.trigger=function(e,t,i){i=i||{};var r=this.getAction(t);if(null!==r)s.TPromise.as(r.run()).done(null,n.onUnexpectedError);else{if(!this.cursor)return;this.cursor.trigger(e,t,i)}},t.prototype.executeCommand=function(e,t){this.cursor&&this.cursor.trigger(e,y.Handler.ExecuteCommand,t)},t.prototype.pushUndoStop=function(){return!!this.cursor&&(!this._configuration.editor.readOnly&&(this.model.pushStackElement(),!0))},t.prototype.executeEdits=function(e,t){var n=this;return!!this.cursor&&(!this._configuration.editor.readOnly&&(this.model.pushEditOperations(this.cursor.getSelections(),t,function(){return n.cursor.getSelections()}),!0))},t.prototype.executeCommands=function(e,t){this.cursor&&this.cursor.trigger(e,y.Handler.ExecuteCommands,t)},t.prototype.changeDecorations=function(e){return this.model?this.model.changeDecorations(e,this.id):null},t.prototype.getLineDecorations=function(e){return this.model?this.model.getLineDecorations(e,this.id,this._configuration.editor.readOnly):null},t.prototype.deltaDecorations=function(e,t){return this.model?0===e.length&&0===t.length?e:this.model.deltaDecorations(e,t,this.id):[]},t.prototype.setDecorations=function(e,t){var n={},i=this._decorationTypeSubtypes[e]||{};this._decorationTypeSubtypes[e]=n;for(var r=[],o=0,s=t;o<s.length;o++){var a=s[o],c=e;if(a.renderOptions){var u=_.hash(a.renderOptions).toString(16);c=e+"-"+u,i[u]||n[u]||this._registerDecorationType(c,a.renderOptions,e),n[u]=!0}var l=this._resolveDecorationOptions(c,!!a.hoverMessage);a.hoverMessage&&(l.hoverMessage=a.hoverMessage),r.push({range:a.range,options:l})}for(var u in i)n[u]||this._removeDecorationType(e+"-"+u);var h=this._decorationTypeKeysToIds[e]||[];this._decorationTypeKeysToIds[e]=this.deltaDecorations(h,r)},t.prototype.removeDecorations=function(e){var t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]},t.prototype.addTypingListener=function(e,t){var n=this;return this.cursor?(this.cursor.addTypingListener(e,t),{dispose:function(){n.cursor&&n.cursor.removeTypingListener(e,t)}}):{dispose:function(){}}},t.prototype.getLayoutInfo=function(){return this._configuration.editor.layoutInfo},t.prototype._attachModel=function(e){var t=this;if(this.model=e?e:null,this.listenersToRemove=[],this.viewModel=null,this.cursor=null,this.model){this.domElement.setAttribute("data-mode-id",this.model.getMode().getId()),this._configuration.setIsDominatedByLongLines(this.model.isDominatedByLongLines()),this.model.onBeforeAttached();var n=new b.CharacterHardWrappingLineMapperFactory(this._configuration.editor.wrappingInfo.wordWrapBreakBeforeCharacters,this._configuration.editor.wrappingInfo.wordWrapBreakAfterCharacters,this._configuration.editor.wrappingInfo.wordWrapBreakObtrusiveCharacters),i=new S.SplitLinesCollection(this.model,n,this.model.getOptions().tabSize,this._configuration.editor.wrappingInfo.wrappingColumn,this._configuration.editor.fontInfo.typicalFullwidthCharacterWidth/this._configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,this._configuration.editor.wrappingInfo.wrappingIndent);this.viewModel=new E.ViewModel(i,this.id,this._configuration,this.model,function(){return t.getCenteredRangeInViewport()});var r={viewModel:this.viewModel,getCurrentCompletelyVisibleViewLinesRangeInViewport:function(){return t.viewModel.convertModelRangeToViewRange(t.getCompletelyVisibleLinesRangeInViewport())},getCurrentCompletelyVisibleModelLinesRangeInViewport:function(){return t.getCompletelyVisibleLinesRangeInViewport()},convertModelPositionToViewPosition:function(e,n){return t.viewModel.convertModelPositionToViewPosition(e,n)},convertModelRangeToViewRange:function(e){return t.viewModel.convertModelRangeToViewRange(e)},convertViewToModelPosition:function(e,n){return t.viewModel.convertViewPositionToModelPosition(e,n)},convertViewSelectionToModelSelection:function(e){return t.viewModel.convertViewSelectionToModelSelection(e)},validateViewPosition:function(e,n){return t.viewModel.validateViewPosition(e.lineNumber,e.column,n)},validateViewRange:function(e,n){return t.viewModel.validateViewRange(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn,n)}};this.cursor=new l.Cursor(this.id,this._configuration,this.model,r,this._enableEmptySelectionClipboard()),this.viewModel.addEventSource(this.cursor),this._createView(),this.listenersToRemove.push(this._getViewInternalEventBus().addBulkListener2(function(e){for(var n=0,i=e.length;n<i;n++){var r=e[n].getType(),o=e[n].getData();switch(r){case y.EventType.ViewFocusGained:t.emit(y.EventType.EditorTextFocus),t.emit(y.EventType.EditorFocus,{});break;case"scroll":t.emit("scroll",o);break;case y.EventType.ViewFocusLost:t.emit(y.EventType.EditorTextBlur);break;case y.EventType.ContextMenu:t.emit(y.EventType.ContextMenu,o);break;case y.EventType.MouseDown:t.emit(y.EventType.MouseDown,o);break;case y.EventType.MouseUp:t.emit(y.EventType.MouseUp,o);break;case y.EventType.KeyUp:t.emit(y.EventType.KeyUp,o);break;case y.EventType.MouseMove:t.emit(y.EventType.MouseMove,o);break;case y.EventType.MouseLeave:t.emit(y.EventType.MouseLeave,o);break;case y.EventType.KeyDown:t.emit(y.EventType.KeyDown,o);break;case y.EventType.ViewLayoutChanged:t.emit(y.EventType.EditorLayout,o)}}})),this.listenersToRemove.push(this.model.addBulkListener(function(e){for(var n=0,i=e.length;n<i;n++){var r=e[n].getType(),o=e[n].getData();switch(r){case y.EventType.ModelDecorationsChanged:t.emit(y.EventType.ModelDecorationsChanged,o);break;case y.EventType.ModelModeChanged:t.domElement.setAttribute("data-mode-id",t.model.getMode().getId()),t.emit(y.EventType.ModelModeChanged,o);break;case y.EventType.ModelRawContentChanged:t.emit(y.EventType.ModelRawContentChanged,o);break;case y.EventType.ModelContentChanged2:t.emit(y.EventType.ModelContentChanged2,o);break;case y.EventType.ModelOptionsChanged:t.emit(y.EventType.ModelOptionsChanged,o);break;case y.EventType.ModelDispose:t.setModel(null)}}})),this.listenersToRemove.push(this.cursor.addBulkListener2(function(e){for(var n=0,i=e.length;n<i;n++){var r=e[n].getType(),o=e[n].getData();switch(r){case y.EventType.CursorPositionChanged:t.emit(y.EventType.CursorPositionChanged,o);break;case y.EventType.CursorSelectionChanged:t.emit(y.EventType.CursorSelectionChanged,o)}}}))}else this.hasView=!1},t.prototype._postDetachModelCleanup=function(e){if(e){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(var t in this._decorationTypeSubtypes){var n=this._decorationTypeSubtypes[t];for(var i in n)this._removeDecorationType(t+"-"+i)}this._decorationTypeSubtypes={}}e.removeAllDecorationsWithOwnerId(this.id)}},t.prototype._detachModel=function(){this.model&&this.model.onBeforeDetached(),this.hasView=!1,this.listenersToRemove=o.dispose(this.listenersToRemove),this.cursor&&(this.cursor.dispose(),this.cursor=null),this.viewModel&&(this.viewModel.dispose(),this.viewModel=null);var e=this.model;return this.model=null,this.domElement.removeAttribute("data-mode-id"),e},t}(r.EventEmitter);t.CommonCodeEditor=A;var D=function(e){function t(t,n){var i=this;e.call(this),this._editor=t,this._editorId=n.createKey("editorId",t.getId()),this._editorFocus=T.Focus.bindTo(n),this._editorTextFocus=T.TextFocus.bindTo(n),this._editorTabMovesFocus=T.TabMovesFocus.bindTo(n),this._editorReadonly=T.ReadOnly.bindTo(n),this._hasMultipleSelections=T.HasMultipleSelections.bindTo(n),this._hasNonEmptySelection=T.HasNonEmptySelection.bindTo(n),this._register(this._editor.onDidChangeConfiguration(function(){return i._updateFromConfig()})),this._register(this._editor.onDidChangeCursorSelection(function(){return i._updateFromSelection()})),this._register(this._editor.onDidFocusEditor(function(){return i._updateFromFocus()})),this._register(this._editor.onDidBlurEditor(function(){return i._updateFromFocus()})),this._register(this._editor.onDidFocusEditorText(function(){return i._updateFromFocus()})),this._register(this._editor.onDidBlurEditorText(function(){return i._updateFromFocus()})),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus()}return d(t,e),t.prototype._updateFromConfig=function(){var e=this._editor.getConfiguration();this._editorTabMovesFocus.set(e.tabFocusMode),this._editorReadonly.set(e.readOnly)},t.prototype._updateFromSelection=function(){var e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(function(e){return!e.isEmpty()}))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())},t.prototype._updateFromFocus=function(){this._editorFocus.set(this._editor.hasWidgetFocus()),this._editorTextFocus.set(this._editor.isFocused())},t}(o.Disposable)}),define(l[736],h([1,0,2,7,21,119,873,87,6,113]),function(e,t,n,i,r,o,s,a,c,u){"use strict";var l=function(){function t(e,t){void 0===e&&(e=new u.ServiceCollection),void 0===t&&(t=!1),this._services=e,this._strict=t,this._services.set(c.IInstantiationService,this)}return t.prototype.createChild=function(e){var n=this;return this._services.forEach(function(t,i){e.has(t)||(i instanceof a.SyncDescriptor&&(i=n._createAndCacheServiceInstance(t,i)),e.set(t,i))}),new t(e,this._strict)},t.prototype.invokeFunction=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o;try{return o={get:function(e,n){var i=t._getOrCreateServiceInstance(e);if(!i&&n!==c.optional)throw new Error("[invokeFunction] unkown service '"+e+"'");return i}},e.apply(void 0,[o].concat(n))}finally{o.get=function(){throw i.illegalState("service accessor is only valid during the invocation of its target method")}}},t.prototype.createInstance=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e instanceof a.AsyncDescriptor?this._createInstanceAsync(e,t):e instanceof a.SyncDescriptor?this._createInstance(e,t):this._createInstance(new a.SyncDescriptor(e),t)},t.prototype._createInstanceAsync=function(t,r){var o,s=this;return new n.TPromise(function(n,c,u){e([t.moduleName],function(e){if(o&&c(o),!e)return c(i.illegalArgument("module not found: "+t.moduleName));var u;if(u=t.ctorName?e[t.ctorName]:e,"function"!=typeof u)return c(i.illegalArgument("not a function: "+t.ctorName||t.moduleName));try{r.unshift.apply(r,t.staticArguments()),n(s._createInstance(new a.SyncDescriptor(u),r))}catch(e){return c(e)}},c)},function(){o=i.canceled()})},t.prototype._createInstance=function(e,t){var n=this,i=e.staticArguments().concat(t),o=c._util.getServiceDependencies(e.ctor).sort(function(e,t){return e.index-t.index}),s=o.map(function(t){var i=n._getOrCreateServiceInstance(t.id);if(!i&&n._strict&&!t.optional)throw new Error("[createInstance] "+e.ctor.name+" depends on UNKNOWN service "+t.id+".");return i}),a=o.length>0?o[0].index:i.length;if(i.length!==a){console.warn("[createInstance] First service dependency of "+e.ctor.name+" at position "+(a+1)+" conflicts with "+i.length+" static arguments");var u=a-i.length;i=u>0?i.concat(new Array(u)):i.slice(0,a)}var l=[e.ctor];l.push.apply(l,i),l.push.apply(l,s);var h=r.create.apply(null,l);return e._validate(h),h},t.prototype._getOrCreateServiceInstance=function(e){var t=this._services.get(e);return t instanceof a.SyncDescriptor?this._createAndCacheServiceInstance(e,t):t},t.prototype._createAndCacheServiceInstance=function(e,t){function n(){var e=new Error("[createInstance] cyclic dependency between services");throw e.message=i.toString(),e}o.ok(this._services.get(e)instanceof a.SyncDescriptor);for(var i=new s.Graph(function(e){return e.id.toString()}),r=0,u=[{id:e,desc:t}];u.length;){var l=u.pop();i.lookupOrInsertNode(l),r++>100&&n();for(var h=c._util.getServiceDependencies(l.desc.ctor),d=0,p=h;d<p.length;d++){var f=p[d],g=this._services.get(f.id);if(g||console.warn("[createInstance] "+e+" depends on "+f.id+" which is NOT registered."),g instanceof a.SyncDescriptor){var v={id:f.id,desc:g};i.insertEdge(l,v),u.push(v)}}}for(;;){var m=i.roots();if(0===m.length){0!==i.length&&n();break}for(var y=0,b=m;y<b.length;y++){var S=b[y],E=this._createInstance(S.data.desc,[]);this._services.set(S.data.id,E),i.removeNode(S.data)}}return this._services.get(e)},t}();t.InstantiationService=l}),define(l[196],h([1,0,6]),function(e,t,n){"use strict";t.IIntegrityService=n.createDecorator("integrityService")}),define(l[738],h([1,0,446,52,152,5,32,35,34,11]),function(e,t,n,i,r,o,s,a,c,u){"use strict";var l=function(){function e(e,t,n,i){this.toDispose=[],this._contextKeyService=e,this._commandService=t,this._statusService=i,this._messageService=n,this._currentChord=0,this._currentChordStatusMessage=null,this._onDidUpdateKeybindings=new u.Emitter,this.toDispose.push(this._onDidUpdateKeybindings)}return e.prototype.dispose=function(){this.toDispose=o.dispose(this.toDispose)},Object.defineProperty(e.prototype,"onDidUpdateKeybindings",{get:function(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:u.default.None},enumerable:!0,configurable:!0}),e.prototype.getLabelFor=function(e){return r.KeybindingLabels._toUSLabel(e)},e.prototype.getHTMLLabelFor=function(e){return r.KeybindingLabels._toUSHTMLLabel(e)},e.prototype.getAriaLabelFor=function(e){return r.KeybindingLabels._toUSAriaLabel(e)},e.prototype.getElectronAcceleratorFor=function(e){return r.KeybindingLabels._toElectronAccelerator(e)},e.prototype.getDefaultKeybindings=function(){return this._getResolver().getDefaultKeybindings()+"\n\n"+this._getAllCommandsAsComment()},e.prototype.customKeybindingsCount=function(){return 0},e.prototype.lookupKeybindings=function(e){return this._getResolver().lookupKeybinding(e)},e.prototype._getAllCommandsAsComment=function(){var e=c.CommandsRegistry.getCommands(),t=[],i=this._getResolver().getDefaultBoundCommands();for(var r in e)"_"!==r[0]&&0!==r.indexOf("vscode.")&&("object"!=typeof e[r].description||a.isFalsyOrEmpty(e[r].description.args))&&(i[r]||t.push(r));var o=t.sort().join("\n// - ");return"// "+n.localize(0,null)+"\n// - "+o},e.prototype.resolve=function(e,t){if(e.isModifierKey())return null;var n=this._contextKeyService.getContextValue(t);return this._getResolver().resolve(n,this._currentChord,e.value)},e.prototype._dispatch=function(e,t){var r=this,o=!1;if(e.isModifierKey())return o;var a=this.resolve(e,t);if(a&&a.enterChord){if(o=!0,this._currentChord=a.enterChord,this._statusService){var c=this.getLabelFor(new i.Keybinding(this._currentChord));this._currentChordStatusMessage=this._statusService.setStatusMessage(n.localize(1,null,c))}return o}if(this._statusService&&this._currentChord&&(!a||!a.commandId)){var c=this.getLabelFor(new i.Keybinding(this._currentChord)),u=this.getLabelFor(e);this._statusService.setStatusMessage(n.localize(2,null,c,u),1e4),o=!0}if(this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChord=0,a&&a.commandId){/^\^/.test(a.commandId)||(o=!0);var l=a.commandId.replace(/^\^/,"");this._commandService.executeCommand(l,a.commandArgs||{}).done(void 0,function(e){r._messageService.show(s.default.Warning,e)})}return o},e}();t.AbstractKeybindingService=l}),define(l[36],h([1,0,6]),function(e,t,n){"use strict";!function(e){e[e.Default=1]="Default",e[e.User=2]="User"}(t.KeybindingSource||(t.KeybindingSource={}));t.KeybindingSource;t.IKeybindingService=n.createDecorator("keybindingService")}),define(l[226],h([1,0,52,152,13,23]),function(e,t,n,i,r,o){"use strict";function s(e,t){return e.length<t?e+new Array(t-e.length).join(" "):e}function a(e,t){return e.weight1!==t.weight1?e.weight1-t.weight1:e.command<t.command?-1:e.command>t.command?1:e.weight2-t.weight2}var c=function(){function e(e,t,n,i,r){this.keybinding=e,this.command=t,this.commandArgs=n,this.actualCommand=this.command?this.command.replace(/^\^/,""):this.command,this.when=i,this.isDefault=r}return e.fromKeybindingItem=function(t,n){var i=null;return t.when&&(i=t.when.normalize()),new e(t.keybinding,t.command,t.commandArgs,i,n)},e}();t.NormalizedKeybindingItem=c;var u=function(){function e(t,i,r){void 0===r&&(r=!0),t=t.slice(0).sort(a),this._defaultKeybindings=t,this._shouldWarnOnConflict=r,this._defaultBoundCommands=Object.create(null);for(var o=0,s=t.length;o<s;o++)this._defaultBoundCommands[t[o].command]=!0;this._map=Object.create(null),this._lookupMap=Object.create(null),this._lookupMapUnreachable=Object.create(null),this._chords=Object.create(null);for(var c=e.combine(t,i),o=0,s=c.length;o<s;o++){var u=c[o];if(0!==u.keybinding){var l={when:u.when,keybinding:u.keybinding,commandId:u.command,commandArgs:u.commandArgs};if(n.BinaryKeybindings.hasChord(u.keybinding)){var h=n.BinaryKeybindings.extractFirstPart(u.keybinding),d=n.BinaryKeybindings.extractChordPart(u.keybinding);this._chords[h]=this._chords[h]||Object.create(null),this._chords[h][d]=this._chords[h][d]||[],this._chords[h][d].push(l),this._addKeyPress(h,l,u)}else this._addKeyPress(u.keybinding,l,u)}}}return e._isTargetedForRemoval=function(e,t,n,i){if(e.actualCommand!==n)return!1;if(t&&e.keybinding!==t)return!1;if(i){if(!e.when)return!1;if(!i.equals(e.when))return!1}return!0},e.combine=function(e,t){for(var n=e.map(function(e){return c.fromKeybindingItem(e,!0)}),i=[],r=0,o=t.length;r<o;r++){var s=c.fromKeybindingItem(t[r],!1);if(s.command&&0!==s.command.length&&"-"===s.command.charAt(0))for(var a=s.command.substr(1),u=s.keybinding,l=s.when,h=n.length-1;h>=0;h--)this._isTargetedForRemoval(n[h],u,a,l)&&n.splice(h,1);else i.push(s);
}return n.concat(i)},e.prototype._addKeyPress=function(t,r,o){if(!this._map[t])return this._map[t]=[r],void this._addToLookupMap(o);for(var s=this._map[t],a=s.length-1;a>=0;a--){var c=s[a];c.commandId!==o.command&&(n.BinaryKeybindings.hasChord(c.keybinding)&&n.BinaryKeybindings.hasChord(r.keybinding)&&c.keybinding!==r.keybinding||e.whenIsEntirelyIncluded(!0,c.when,o.when)&&(this._shouldWarnOnConflict&&o.isDefault&&console.warn("Conflict detected, command `"+c.commandId+"` cannot be triggered by "+i.KeybindingLabels.toUserSettingsLabel(t)+" due to "+o.command),this._lookupMapUnreachable[c.commandId]=this._lookupMapUnreachable[c.commandId]||[],this._lookupMapUnreachable[c.commandId].push(c.keybinding)))}s.push(r),this._addToLookupMap(o)},e.whenIsEntirelyIncluded=function(e,t,n){if(e||(t=t?t.normalize():null,n=n?n.normalize():null),!n)return!0;if(!t)return!1;for(var i=t.serialize().split(" && "),r=n.serialize().split(" && "),o=Object.create(null),s=0,a=i.length;s<a;s++)o[i[s]]=!0;for(var s=0,a=r.length;s<a;s++)if(!o[r[s]])return!1;return!0},e.prototype._addToLookupMap=function(e){e.command&&(this._lookupMap[e.command]=this._lookupMap[e.command]||[],this._lookupMap[e.command].push(e))},e.prototype.getDefaultBoundCommands=function(){return this._defaultBoundCommands},e.prototype.getDefaultKeybindings=function(){var e=new l;e.writeLine("[");var t=this._defaultKeybindings.length-1;return this._defaultKeybindings.forEach(function(n,i){h.writeKeybindingItem(e,n),i!==t?e.writeLine(","):e.writeLine()}),e.writeLine("]"),e.toString()},e.prototype.lookupKeybinding=function(e){var t=this._lookupMap[e];if(!t)return[];var i=t.map(function(e){return e.keybinding}),r=this._lookupMapUnreachable[e];r&&(i=i.filter(function(e){return r.indexOf(e)===-1}));var o=[],s=i.filter(function(e){return!(o.indexOf(e)>=0)&&(o.push(e),!0)});return s.map(function(e){return new n.Keybinding(e)}).reverse()},e.prototype.resolve=function(e,t,i){var r=null;if(0!==t){var o=this._chords[t];if(!o)return null;r=o[i]}else r=this._map[i];var s=this._findCommand(e,r);return s?0===t&&n.BinaryKeybindings.hasChord(s.keybinding)?{enterChord:i,commandId:null,commandArgs:null}:{enterChord:0,commandId:s.commandId,commandArgs:s.commandArgs}:null},e.prototype._findCommand=function(t,n){if(!n)return null;for(var i=n.length-1;i>=0;i--){var r=n[i];if(e.contextMatchesRules(t,r.when))return r}return null},e.contextMatchesRules=function(e,t){return!t||t.evaluate(e)},e}();t.KeybindingResolver=u;var l=function(){function e(){this._lines=[],this._currentLine=""}return e.prototype.write=function(e){this._currentLine+=e},e.prototype.writeLine=function(e){void 0===e&&(e=""),this._lines.push(this._currentLine+e),this._currentLine=""},e.prototype.toString=function(){return this.writeLine(),this._lines.join("\n")},e}();t.OutputBuilder=l;var h=function(){function e(){}return e.writeKeybindingItem=function(t,n){var i=JSON.stringify(e.writeKeybinding(n.keybinding));t.write('{ "key": '+s(i+",",25)+' "command": ');var r=n.when?n.when.serialize():"",o=JSON.stringify(n.command);r.length>0?(t.write(o+","),t.writeLine(),t.write('                                     "when": "'+r+'" ')):t.write(o+" "),t.write("}")},e.readKeybindingItem=function(t,n){var i=0;"string"==typeof t.key&&(i=e.readKeybinding(t.key));var r=null;"string"==typeof t.when&&(r=e.readKeybindingWhen(t.when));var o=null;"string"==typeof t.command&&(o=t.command);var s=null;return"undefined"!=typeof t.args&&(s=t.args),{keybinding:i,command:o,commandArgs:s,when:r,weight1:1e3,weight2:n}},e.writeKeybinding=function(e,t){return void 0===t&&(t=r),i.KeybindingLabels.toUserSettingsLabel(e,t)},e.readKeybinding=function(e,t){return void 0===t&&(t=r),i.KeybindingLabels.fromUserSettingsLabel(e,t)},e.readKeybindingWhen=function(e){return o.ContextKeyExpr.deserialize(e)},e}();t.IOSupport=h}),define(l[741],h([1,0,5,34,226,23,25,11]),function(e,t,n,i,r,o,s,a){"use strict";function c(e){for(;e;){if(e.hasAttribute(u))return parseInt(e.getAttribute(u),10);e=e.parentElement}return 0}var u="data-keybinding-context",l=function(){function e(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}return e.prototype.setValue=function(e,t){if(this._value[e]!==t)return this._value[e]=t,!0},e.prototype.removeValue=function(e){return delete this._value[e]},e.prototype.getValue=function(e){var t=this._value[e];return"undefined"==typeof t&&this._parent?this._parent.getValue(e):t},e.prototype.fillInContext=function(e){this._parent&&this._parent.fillInContext(e);for(var t in this._value)e[t]=this._value[t]},e}();t.ContextValuesContainer=l;var h=function(e){function t(t,n,i){var r=this;e.call(this,t,null),this._emitter=i,this._subscription=n.onDidUpdateConfiguration(function(e){return r._updateConfigurationContext(e.config)}),this._updateConfigurationContext(n.getConfiguration())}return d(t,e),t.prototype.dispose=function(){this._subscription.dispose()},t.prototype._updateConfigurationContext=function(e){var t=this;for(var n in this._value)0===n.indexOf("config.")&&delete this._value[n];var i=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){n.push(r);var o=e[r];if("boolean"==typeof o){var s=n.join(".");t._value[s]=o,t._emitter.fire(s)}else"object"==typeof o&&i(o,n);n.pop()}};i(e,["config"])},t}(l),p=function(){function e(e,t,n){this._parent=e,this._key=t,this._defaultValue=n,this.reset()}return e.prototype.set=function(e){this._parent.setContext(this._key,e)},e.prototype.reset=function(){"undefined"==typeof this._defaultValue?this._parent.removeContext(this._key):this._parent.setContext(this._key,this._defaultValue)},e.prototype.get=function(){return this._parent.getContextKeyValue(this._key)},e}(),f=function(){function e(e){this._myContextId=e,this._onDidChangeContextKey=new a.Emitter}return e.prototype.createKey=function(e,t){return new p(this,e,t)},Object.defineProperty(e.prototype,"onDidChangeContext",{get:function(){return this._onDidChangeContext||(this._onDidChangeContext=a.debounceEvent(this._onDidChangeContextKey.event,function(e,t){return e?e.indexOf(t)<0&&e.push(t):e=[t],e},25)),this._onDidChangeContext},enumerable:!0,configurable:!0}),e.prototype.createScoped=function(e){return new y(this,this._onDidChangeContextKey,e)},e.prototype.contextMatchesRules=function(e){var t=Object.create(null);this.getContextValuesContainer(this._myContextId).fillInContext(t);var n=r.KeybindingResolver.contextMatchesRules(t,e);return n},e.prototype.getContextKeyValue=function(e){return this.getContextValuesContainer(this._myContextId).getValue(e)},e.prototype.setContext=function(e,t){this.getContextValuesContainer(this._myContextId).setValue(e,t)&&this._onDidChangeContextKey.fire(e)},e.prototype.removeContext=function(e){this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContextKey.fire(e)},e.prototype.getContextValue=function(e){var t=Object.create(null);return this.getContextValuesContainer(c(e)).fillInContext(t),t},e}();t.AbstractContextKeyService=f;var m=function(e){function t(t){e.call(this,0),this._toDispose=[],this._lastContextId=0,this._contexts=Object.create(null);var n=new h(this._myContextId,t,this._onDidChangeContextKey);this._contexts[String(this._myContextId)]=n,this._toDispose.push(n)}return d(t,e),t.prototype.dispose=function(){this._toDispose=n.dispose(this._toDispose)},t.prototype.getContextValuesContainer=function(e){return this._contexts[String(e)]},t.prototype.createChildContext=function(e){void 0===e&&(e=this._myContextId);var t=++this._lastContextId;return this._contexts[String(t)]=new l(t,this.getContextValuesContainer(e)),t},t.prototype.disposeContext=function(e){delete this._contexts[String(e)]},t=g([v(0,s.IConfigurationService)],t)}(f);t.ContextKeyService=m;var y=function(e){function t(t,n,i){e.call(this,t.createChildContext()),this._parent=t,this._onDidChangeContextKey=n,this._domNode=i,this._domNode.setAttribute(u,String(this._myContextId))}return d(t,e),t.prototype.dispose=function(){this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(u)},Object.defineProperty(t.prototype,"onDidChangeContext",{get:function(){return this._parent.onDidChangeContext},enumerable:!0,configurable:!0}),t.prototype.getContextValuesContainer=function(e){return this._parent.getContextValuesContainer(e)},t.prototype.createChildContext=function(e){return void 0===e&&(e=this._myContextId),this._parent.createChildContext(e)},t.prototype.disposeContext=function(e){this._parent.disposeContext(e)},t}(f);i.CommandsRegistry.registerCommand(o.SET_CONTEXT_COMMAND_ID,function(e,t,n){e.get(o.IContextKeyService).createKey(String(t),n)})}),define(l[69],h([1,0,6]),function(e,t,n){"use strict";t.ILifecycleService=n.createDecorator("lifecycleService"),function(e){e[e.CLOSE=0]="CLOSE",e[e.QUIT=1]="QUIT",e[e.RELOAD=2]="RELOAD",e[e.LOAD=3]="LOAD"}(t.ShutdownReason||(t.ShutdownReason={}));t.ShutdownReason;t.NullLifecycleService={_serviceBrand:null,willShutdown:!1,onWillShutdown:function(){return{dispose:function(){}}},onShutdown:function(e){return{dispose:function(){}}}}}),define(l[743],h([1,0,35,120,21,11,32]),function(e,t,n,i,r,o,s){"use strict";var a;!function(e){function t(e,t,n){if(e[t])return e[t][n]}function n(e,t,n,i){e[t]||(e[t]=Object.create(null)),e[t][n]=i}function i(e,t,n){return!(!e[t]||!e[t][n])&&(delete e[t][n],r.isEmptyObject(e[t])&&delete e[t],!0)}e.get=t,e.set=n,e.remove=i}(a||(a={}));var c=function(){function e(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=Object.create(null),this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}return e.prototype.dispose=function(){this._subscription.dispose(),this._data=void 0},e.prototype._update=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t],r=i.toString(),o=this._data[r];o&&this._substract(o);var s=this._resourceStats(i);this._add(s),this._data[r]=s}},e.prototype._resourceStats=function(e){var t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===i.Schemas.inMemory)return t;for(var n=0,r=this._service.read({resource:e});n<r.length;n++){var o=r[n].severity;o===s.default.Error?t.errors+=1:o===s.default.Warning?t.warnings+=1:o===s.default.Info?t.infos+=1:t.unknowns+=1}return t},e.prototype._substract=function(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns},e.prototype._add=function(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns},e}(),u=function(){function e(){this._onMarkerChanged=new o.Emitter,this._onMarkerChangedEvent=o.debounceEvent(this._onMarkerChanged.event,e._debouncer,0),this._byResource=Object.create(null),this._byOwner=Object.create(null),this._stats=new c(this)}return e.prototype.dispose=function(){this._stats.dispose()},Object.defineProperty(e.prototype,"onMarkerChanged",{get:function(){return this._onMarkerChangedEvent},enumerable:!0,configurable:!0}),e.prototype.getStatistics=function(){return this._stats},e.prototype.remove=function(e,t){if(!n.isFalsyOrEmpty(t))for(var i=0,r=t;i<r.length;i++){var o=r[i];this.changeOne(e,o,void 0)}},e.prototype.changeOne=function(t,i,r){if(n.isFalsyOrEmpty(r)){var o=a.remove(this._byResource,i.toString(),t),s=a.remove(this._byOwner,t,i.toString());if(o!==s)throw new Error("invalid marker service state");o&&s&&this._onMarkerChanged.fire([i])}else{for(var c=[],u=0,l=r;u<l.length;u++){var h=l[u],d=e._toMarker(t,i,h);d&&c.push(d)}a.set(this._byResource,i.toString(),t,c),a.set(this._byOwner,t,i.toString(),c),this._onMarkerChanged.fire([i])}},e._toMarker=function(e,t,n){var i=n.code,r=n.severity,o=n.message,s=n.source,a=n.startLineNumber,c=n.startColumn,u=n.endLineNumber,l=n.endColumn;if(o)return i=i||null,a=a>0?a:1,c=c>0?c:1,u=u>=a?u:a,l=l>0?l:c,{resource:t,owner:e,code:i,severity:r,message:o,source:s,startLineNumber:a,startColumn:c,endLineNumber:u,endColumn:l}},e.prototype.changeAll=function(t,i){var r=[],o=this._byOwner[t];if(o){delete this._byOwner[t];for(var s in o){var c=a.get(this._byResource,s,t)[0];c&&r.push(c.resource),a.remove(this._byResource,s,t)}}if(!n.isFalsyOrEmpty(i)){for(var u=Object.create(null),l=0,h=i;l<h.length;l++){var d=h[l],s=d.resource,p=d.marker,f=e._toMarker(t,s,p);if(f){var g=u[s.toString()];g?g.push(f):(u[s.toString()]=[f],r.push(s))}}for(var s in u)a.set(this._byResource,s,t,u[s]),a.set(this._byOwner,t,s,u[s])}r.length>0&&this._onMarkerChanged.fire(r)},e.prototype.read=function(e){void 0===e&&(e=Object.create(null));var t=e.owner,n=e.resource,i=e.take;if((!i||i<0)&&(i=-1),t&&n){var r=a.get(this._byResource,n.toString(),t);return r?r.slice(0,i>0?i:void 0):[]}if(t||n){var o=t?this._byOwner[t]:this._byResource[n.toString()];if(!o)return[];var r=[];for(var s in o)for(var c=0,u=o[s];c<u.length;c++){var l=u[c],h=r.push(l);if(i>0&&h===i)return r}return r}var r=[];for(var d in this._byResource)for(var p in this._byResource[d])for(var f=0,g=this._byResource[d][p];f<g.length;f++){var l=g[f],h=r.push(l);if(i>0&&h===i)return r}return r},e._debouncer=function(t,n){t||(e._dedupeMap=Object.create(null),t=[]);for(var i=0,r=n;i<r.length;i++){var o=r[i];void 0===e._dedupeMap[o.toString()]&&(e._dedupeMap[o.toString()]=!0,t.push(o))}return t},e}();t.MarkerService=u}),define(l[128],h([1,0,6]),function(e,t,n){"use strict";t.IMarkerService=n.createDecorator("markerService")}),define(l[400],h([1,0,447,30,12,119,20,21,95,32,16,237]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";function p(e){return!!a.isString(e.name)}function f(e,t){var n,i=t.fileLocation;return i===m.Absolute?n=e:i===m.Relative&&(n=s.join(t.filePrefix,e)),n=n.replace(/\\/g,"/"),"/"!==n[0]&&(n="/"+n),l.default.parse("file://"+n)}function g(e){var t=e.pattern;return a.isArray(t)?new _(e):new E(e)}function v(e){return C[e]}!function(e){e[e.Auto=0]="Auto",e[e.Relative=1]="Relative",e[e.Absolute=2]="Absolute"}(t.FileLocationKind||(t.FileLocationKind={}));var m,m=t.FileLocationKind;!function(e){function t(t){return t=t.toLowerCase(),"absolute"===t?e.Absolute:"relative"===t?e.Relative:void 0}e.fromString=t}(m=t.FileLocationKind||(t.FileLocationKind={})),t.problemPatternProperties=["file","message","location","line","column","endLine","endColumn","code","severity","loop","mostSignifikant"],function(e){e[e.allDocuments=0]="allDocuments",e[e.openDocuments=1]="openDocuments",e[e.closedDocuments=2]="closedDocuments"}(t.ApplyToKind||(t.ApplyToKind={}));var y,y=t.ApplyToKind;!function(e){function t(t){return t=t.toLowerCase(),"alldocuments"===t?e.allDocuments:"opendocuments"===t?e.openDocuments:"closeddocuments"===t?e.closedDocuments:void 0}e.fromString=t}(y=t.ApplyToKind||(t.ApplyToKind={})),t.isNamedProblemMatcher=p;var b={E:"error",W:"warning",I:"info"};t.getResource=f,t.createLineMatcher=g;var S=function(){function e(e){this.matcher=e}return e.prototype.handle=function(e,t){return void 0===t&&(t=0),{match:null,continue:!1}},e.prototype.next=function(e){return null},Object.defineProperty(e.prototype,"matchLength",{get:function(){throw new Error("Subclass reponsibility")},enumerable:!0,configurable:!0}),e.prototype.fillProblemData=function(e,t,n){this.fillProperty(e,"file",t,n,!0),this.fillProperty(e,"message",t,n,!0),this.fillProperty(e,"code",t,n,!0),this.fillProperty(e,"severity",t,n,!0),this.fillProperty(e,"location",t,n,!0),this.fillProperty(e,"line",t,n),this.fillProperty(e,"column",t,n),this.fillProperty(e,"endLine",t,n),this.fillProperty(e,"endColumn",t,n)},e.prototype.fillProperty=function(e,t,n,i,o){if(void 0===o&&(o=!1),a.isUndefined(e[t])&&!a.isUndefined(n[t])&&n[t]<i.length){var s=i[n[t]];o&&(s=r.trim(s)),e[t]=s}},e.prototype.getMarkerMatch=function(e){var t=this.getLocation(e);if(e.file&&t&&e.message){var n={severity:this.getSeverity(e),startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.startLineNumber,endColumn:t.endColumn,message:e.message};return a.isUndefined(e.code)||(n.code=e.code),{description:this.matcher,resource:this.getResource(e.file),marker:n}}},e.prototype.getResource=function(e){return f(e,this.matcher)},e.prototype.getLocation=function(e){if(e.location)return this.parseLocationInfo(e.location);if(!e.line)return null;var t=parseInt(e.line),n=e.column?parseInt(e.column):void 0,i=e.endLine?parseInt(e.endLine):void 0,r=e.endColumn?parseInt(e.endColumn):void 0;return this.createLocation(t,n,i,r)},e.prototype.parseLocationInfo=function(e){if(!e||!e.match(/(\d+|\d+,\d+|\d+,\d+,\d+,\d+)/))return null;var t=e.split(","),n=parseInt(t[0]),i=t.length>1?parseInt(t[1]):void 0;return t.length>3?this.createLocation(n,i,parseInt(t[2]),parseInt(t[3])):this.createLocation(n,i,void 0,void 0)},e.prototype.createLocation=function(e,t,n,i){return e&&t&&i?{startLineNumber:e,startColumn:t,endLineNumber:n||e,endColumn:i}:e&&t?{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}:{startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:Number.MAX_VALUE}},e.prototype.getSeverity=function(e){var t=null;if(e.severity){var n=e.severity;n&&n.length>0&&(1===n.length&&b[n[0]]&&(n=b[n[0]]),t=u.default.fromValue(n))}return null!==t&&t!==u.default.Ignore||(t=this.matcher.severity||u.default.Error),t},e}(),E=function(e){function t(t){e.call(this,t),this.pattern=t.pattern}return d(t,e),Object.defineProperty(t.prototype,"matchLength",{get:function(){return 1},enumerable:!0,configurable:!0}),t.prototype.handle=function(e,t){void 0===t&&(t=0),o.ok(e.length-t===1);var n=Object.create(null),i=this.pattern.regexp.exec(e[t]);if(i){this.fillProblemData(n,this.pattern,i);var r=this.getMarkerMatch(n);if(r)return{match:r,continue:!1}}return{match:null,continue:!1}},t.prototype.next=function(e){return null},t}(S),_=function(e){function t(t){e.call(this,t),this.patterns=t.pattern}return d(t,e),Object.defineProperty(t.prototype,"matchLength",{get:function(){return this.patterns.length},enumerable:!0,configurable:!0}),t.prototype.handle=function(e,t){void 0===t&&(t=0),o.ok(e.length-t===this.patterns.length),this.data=Object.create(null);for(var n=this.data,r=0;r<this.patterns.length;r++){var s=this.patterns[r],a=s.regexp.exec(e[r+t]);if(!a)return{match:null,continue:!1};s.loop&&r===this.patterns.length-1&&(n=i.clone(n)),this.fillProblemData(n,s,a)}var c=this.patterns[this.patterns.length-1].loop;return c||(this.data=null),{match:this.getMarkerMatch(n),continue:c}},t.prototype.next=function(e){var t=this.patterns[this.patterns.length-1];o.ok(t.loop===!0&&null!==this.data);var n=t.regexp.exec(e);if(!n)return this.data=null,null;var r=i.clone(this.data);return this.fillProblemData(r,t,n),this.getMarkerMatch(r)},t}(S),C=Object.create(null);C.msCompile={regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\)\s*:\s+(error|warning|info)\s+(\w{1,2}\d+)\s*:\s*(.*)$/,file:1,location:2,severity:3,code:4,message:5},C["gulp-tsc"]={regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(\d+)\s+(.*)$/,file:1,location:2,code:3,message:4},C.tsc={regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(error|warning|info)\s+(TS\d+)\s*:\s*(.*)$/,file:1,location:2,severity:3,code:4,message:5},C.cpp={regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(error|warning|info)\s+(C\d+)\s*:\s*(.*)$/,file:1,location:2,severity:3,code:4,message:5},C.csc={regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(error|warning|info)\s+(CS\d+)\s*:\s*(.*)$/,file:1,location:2,severity:3,code:4,message:5},C.vb={regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(error|warning|info)\s+(BC\d+)\s*:\s*(.*)$/,file:1,location:2,severity:3,code:4,message:5},C.lessCompile={regexp:/^\s*(.*) in file (.*) line no. (\d+)$/,message:1,file:2,line:3},C.jshint={regexp:/^(.*):\s+line\s+(\d+),\s+col\s+(\d+),\s(.+?)(?:\s+\((\w)(\d+)\))?$/,file:1,line:2,column:3,message:4,severity:5,code:6},C["jshint-stylish"]=[{regexp:/^(.+)$/,file:1},{regexp:/^\s+line\s+(\d+)\s+col\s+(\d+)\s+(.+?)(?:\s+\((\w)(\d+)\))?$/,line:1,column:2,message:3,severity:4,code:5,loop:!0}],C["eslint-compact"]={regexp:/^(.+):\sline\s(\d+),\scol\s(\d+),\s(Error|Warning|Info)\s-\s(.+)\s\((.+)\)$/,file:1,line:2,column:3,severity:4,message:5,code:6},C["eslint-stylish"]=[{regexp:/^([^\s].*)$/,file:1},{regexp:/^\s+(\d+):(\d+)\s+(error|warning|info)\s+(.+?)\s\s+(.*)$/,line:1,column:2,severity:3,message:4,code:5,loop:!0}],C.go={regexp:/^([^:]*: )?((.:)?[^:]*):(\d+)(:(\d+))?: (.*)$/,file:2,line:4,column:6,message:7},t.defaultPattern=v;var w;!function(e){function t(e){return a.isString(e.name)}var n;!function(e){e.Error="error",e.Warning="warning",e.Info="info"}(n=e.ProblemSeverity||(e.ProblemSeverity={})),e.isNamedProblemMatcher=t}(w=t.Config||(t.Config={}));var I=function(e){function r(t,n,i){void 0===i&&(i=new h.ValidationStatus),e.call(this,n,i),this.resolver=t}return d(r,e),r.prototype.parse=function(e){var t=this.createProblemMatcher(e);return this.checkProblemMatcherValid(e,t)?(this.addWatchingMatcher(e,t),t):null},r.prototype.checkProblemMatcherValid=function(e,t){return!(!(t&&t.pattern&&t.owner)||a.isUndefined(t.fileLocation))||(this.status.state=h.ValidationState.Fatal,this.log(n.localize(0,null,JSON.stringify(e,null,4))),!1)},r.prototype.createProblemMatcher=function(e){var t=null,r=e.owner?e.owner:c.generateUuid(),o=a.isString(e.applyTo)?y.fromString(e.applyTo):y.allDocuments;o||(o=y.allDocuments);var s,l=void 0,d=void 0;if(a.isUndefined(e.fileLocation))l=m.Relative,d="${cwd}";else if(a.isString(e.fileLocation))s=m.fromString(e.fileLocation),s&&(l=s,s===m.Relative&&(d="${cwd}"));else if(a.isStringArray(e.fileLocation)){var p=e.fileLocation;p.length>0&&(s=m.fromString(p[0]),1===p.length&&s===m.Absolute?l=s:2===p.length&&s===m.Relative&&p[1]&&(l=s,d=p[1]))}var f=e.pattern?this.createProblemPattern(e.pattern):void 0,g=e.severity?u.default.fromValue(e.severity):void 0;if(g===u.default.Ignore&&(this.status.state=h.ValidationState.Info,this.log(n.localize(1,null,e.severity)),g=u.default.Error),a.isString(e.base)){var v=e.base;if(v.length>1&&"$"===v[0]){var b=this.resolver.get(v.substring(1));b&&(t=i.clone(b),e.owner&&(t.owner=r),l&&(t.fileLocation=l),d&&(t.filePrefix=d),e.pattern&&(t.pattern=f),e.severity&&(t.severity=g))}}else l&&(t={owner:r,applyTo:o,fileLocation:l,pattern:f},d&&(t.filePrefix=d),g&&(t.severity=g));return w.isNamedProblemMatcher(e)&&(t.name=e.name),t},r.prototype.createProblemPattern=function(e){var t;if(!a.isString(e)){if(a.isArray(e)){for(var i=e,r=[],o=0;o<i.length;o++)t=this.createSingleProblemPattern(i[o],!1),o<i.length-1&&!a.isUndefined(t.loop)&&t.loop&&(t.loop=!1,this.status.state=h.ValidationState.Error,this.log(n.localize(2,null))),r.push(t);return this.validateProblemPattern(r),r}return t=this.createSingleProblemPattern(e,!0),!a.isUndefined(t.loop)&&t.loop&&(t.loop=!1,this.status.state=h.ValidationState.Error,this.log(n.localize(3,null))),this.validateProblemPattern([t]),t}var s=e;return s.length>1&&"$"===s[0]?v(s.substring(1)):null},r.prototype.createSingleProblemPattern=function(e,n){var r={regexp:this.createRegularExpression(e.regexp)};return t.problemPatternProperties.forEach(function(t){a.isUndefined(e[t])||(r[t]=e[t])}),n&&(r=r.location?i.mixin(r,{file:1,message:0},!1):i.mixin(r,{file:1,line:2,column:3,message:0},!1)),r},r.prototype.validateProblemPattern=function(e){var t,i,r,o,s=0;e.forEach(function(e){t=t||!a.isUndefined(e.file),i=i||!a.isUndefined(e.message),r=r||!a.isUndefined(e.location),o=o||!a.isUndefined(e.line),e.regexp&&s++}),s!==e.length&&(this.status.state=h.ValidationState.Error,this.log(n.localize(4,null))),t&&i&&(r||o)||(this.status.state=h.ValidationState.Error,this.log(n.localize(5,null)))},r.prototype.addWatchingMatcher=function(e,t){var i=this.createRegularExpression(e.watchedTaskBeginsRegExp),r=this.createRegularExpression(e.watchedTaskEndsRegExp);if(i&&r)return void(t.watching={activeOnStart:!1,beginsPattern:{regexp:i},endsPattern:{regexp:r}});if(!a.isUndefinedOrNull(e.watching)){var o=e.watching,s=this.createWatchingPattern(o.beginsPattern),c=this.createWatchingPattern(o.endsPattern);return s&&c?void(t.watching={activeOnStart:!!a.isBoolean(o.activeOnStart)&&o.activeOnStart,beginsPattern:s,endsPattern:c}):void((s||c)&&(this.status.state=h.ValidationState.Error,this.log(n.localize(6,null))))}},r.prototype.createWatchingPattern=function(e){if(a.isUndefinedOrNull(e))return null;var t,n;return a.isString(e)?t=this.createRegularExpression(e):(t=this.createRegularExpression(e.regexp),a.isNumber(e.file)&&(n=e.file)),t?n?{regexp:t,file:n}:{regexp:t}:null},r.prototype.createRegularExpression=function(e){var t=null;if(!e)return t;try{t=new RegExp(e)}catch(t){this.status.state=h.ValidationState.Fatal,this.log(n.localize(7,null,e))}return t},r}(h.Parser);t.ProblemMatcherParser=I;var T=function(){function e(){this.matchers=Object.create(null)}return e.prototype.add=function(e,t){this.matchers[e]=t},e.prototype.get=function(e){return this.matchers[e]},e.prototype.exists=function(e){return!!this.matchers[e]},e.prototype.remove=function(e){delete this.matchers[e]},e}();t.ProblemMatcherRegistry=T,t.registry=new T,t.registry.add("msCompile",{owner:"msCompile",applyTo:y.allDocuments,fileLocation:m.Absolute,pattern:v("msCompile")}),t.registry.add("lessCompile",{owner:"lessCompile",applyTo:y.allDocuments,fileLocation:m.Absolute,pattern:v("lessCompile"),severity:u.default.Error}),t.registry.add("tsc",{owner:"typescript",applyTo:y.closedDocuments,fileLocation:m.Relative,filePrefix:"${cwd}",pattern:v("tsc")});var x={owner:"typescript",applyTo:y.closedDocuments,fileLocation:m.Relative,filePrefix:"${cwd}",pattern:v("tsc"),watching:{activeOnStart:!0,beginsPattern:{regexp:/^\s*(?:message TS6032:|\d{1,2}:\d{1,2}:\d{1,2}(?: AM| PM)? -) File change detected\. Starting incremental compilation\.\.\./},endsPattern:{regexp:/^\s*(?:message TS6042:|\d{1,2}:\d{1,2}:\d{1,2}(?: AM| PM)? -) Compilation complete\. Watching for file changes\./}}};x.tscWatch=!0,t.registry.add("tsc-watch",x),t.registry.add("gulp-tsc",{owner:"typescript",applyTo:y.closedDocuments,fileLocation:m.Relative,filePrefix:"${cwd}",pattern:v("gulp-tsc")}),t.registry.add("jshint",{owner:"jshint",applyTo:y.allDocuments,fileLocation:m.Absolute,pattern:v("jshint")}),t.registry.add("jshint-stylish",{owner:"jshint",applyTo:y.allDocuments,fileLocation:m.Absolute,pattern:v("jshint-stylish")}),t.registry.add("eslint-compact",{owner:"eslint",applyTo:y.allDocuments,fileLocation:m.Relative,filePrefix:"${cwd}",pattern:v("eslint-compact")}),t.registry.add("eslint-stylish",{owner:"eslint",applyTo:y.allDocuments,fileLocation:m.Absolute,pattern:v("eslint-stylish")}),t.registry.add("go",{owner:"go",applyTo:y.allDocuments,fileLocation:m.Relative,filePrefix:"${cwd}",pattern:v("go")})}),define(l[18],h([1,0,448,2,32,6,24]),function(e,t,n,i,r,o,s){"use strict";t.CloseAction=new s.Action("close.message",n.localize(0,null),null,(!0),function(){return i.TPromise.as(!0)}),t.LaterAction=new s.Action("later.message",n.localize(1,null),null,(!0),function(){return i.TPromise.as(!0)}),t.CancelAction=new s.Action("cancel.message",n.localize(2,null),null,(!0),function(){return i.TPromise.as(!0)}),t.IMessageService=o.createDecorator("messageService"),t.IChoiceService=o.createDecorator("choiceService"),t.Severity=r.default}),define(l[241],h([1,0,435,36,31,18,32,5,43,130,11]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";function h(e,t,n){var i=e.getActions(t);if(0!==i.length){for(var r=0,o=i;r<o.length;r++){var s=o[r],a=s[0],u=s[1];if("navigation"===a){for(var l=Array.isArray(n)?n:n.primary,h=0;h<u.length&&!(u[h].order>=0);h++);l.unshift.apply(l,u.slice(0,h));for(var d=0;d<l.length&&!(l[d]instanceof c.Separator);)d++;l.splice.apply(l,[d,0].concat(u.slice(h)))}else Array.isArray(n)?n.push.apply(n,[new c.Separator].concat(u)):(p=n.secondary).push.apply(p,[new c.Separator].concat(u))}var p}}function p(e,t,n){if(e instanceof r.MenuItemAction)return new m(e,t,n)}t.fillInActions=h,t.createActionItem=p;var f=new(function(e){function t(){var t=this;e.call(this),this._subscriptions=[],this._subscriptions.push(u.domEvent(document.body,"keydown")(function(e){return t.fire(e.altKey)})),this._subscriptions.push(u.domEvent(document.body,"keyup")(function(e){return t.fire(!1)})),this._subscriptions.push(u.domEvent(document.body,"mouseleave")(function(e){return t.fire(!1)})),this._subscriptions.push(u.domEvent(document.body,"blur")(function(e){return t.fire(!1)}))}return d(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._subscriptions=a.dispose(this._subscriptions)},t}(l.Emitter)),m=function(e){function t(t,n,i){e.call(this,void 0,t,{icon:!!t.class,label:!t.class}),this._keybindingService=n,this._messageService=i,this._wantsAltCommand=!1}return d(t,e),Object.defineProperty(t.prototype,"_command",{get:function(){return this._wantsAltCommand&&this._action.alt||this._action},enumerable:!0,configurable:!0}),t.prototype.onClick=function(e){var t=this;e.preventDefault(),e.stopPropagation(),this._command.run().done(void 0,function(e){return t._messageService.show(s.default.Error,e)})},t.prototype.render=function(t){var n=this;e.prototype.render.call(this,t);var i=!1,r=!1,o=function(){var e=i&&r;e!==n._wantsAltCommand&&(n._wantsAltCommand=e,n._updateLabel(),n._updateTooltip(),n._updateClass())};this._callOnDispose.push(f.event(function(e){r=e,o()})),this._callOnDispose.push(u.domEvent(t,"mouseleave")(function(e){i=!1,o()})),this._callOnDispose.push(u.domEvent(t,"mouseenter")(function(e){i=!0,o()}))},t.prototype._updateLabel=function(){this.options.label&&this.$e.text(this._command.label)},t.prototype._updateTooltip=function(){var e=this.$e.getHTMLElement(),t=this._keybindingService.lookupKeybindings(this._command.id)[0],i=t&&this._keybindingService.getLabelFor(t);e.title=i?n.localize(0,null,this._command.label,i):this._command.label},t.prototype._updateClass=function(){if(this.options.icon){var e=this.$e.getHTMLElement();this._command!==this._action?e.classList.remove(this._action.class):this._action.alt&&e.classList.remove(this._action.alt.class),e.classList.add("icon",this._command.class)}},t=g([v(1,i.IKeybindingService),v(2,o.IMessageService)],t)}(c.ActionItem)}),define(l[748],h([1,0,2]),function(e,t,n){"use strict";var i=function(){function e(e){this.service=e}return e.prototype.call=function(e,t){switch(e){case"choose":return this.service.choose(t[0],t[1],t[2],t[3])}return n.TPromise.wrapError("invalid command")},e}();t.ChoiceChannel=i;var r=function(){function e(e){this.channel=e}return e.prototype.choose=function(e,t,n,i){return this.channel.call("choose",[e,t,n,i])},e}();t.ChoiceChannelClient=r}),define(l[749],h([1,0,16,213,120,2,66,20,34]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(){function e(e,t){this._editorService=e,this._commandService=t}return e.prototype.open=function(e,t){var s,u=e.scheme,l=e.path,h=e.query,d=e.fragment;if(u===r.Schemas.http||u===r.Schemas.https)window.open(e.toString(!0));else if("command"===u&&c.CommandsRegistry.getCommand(l)){var p=[];try{p=i.parse(h),Array.isArray(p)||(p=[p])}catch(e){}s=(v=this._commandService).executeCommand.apply(v,[l].concat(p))}else{var f=void 0,g=/^L?(\d+)(?:,(\d+))?/.exec(d);g?(f={startLineNumber:parseInt(g[1]),startColumn:g[2]?parseInt(g[2]):1},e=e.with({fragment:""})):e.scheme===r.Schemas.file&&(e=n.default.file(a.normalize(e.fsPath))),s=this._editorService.openEditor({resource:e,options:{selection:f}},t&&t.openToSide)}return o.TPromise.as(s);var v},e=g([v(0,s.IEditorService),v(1,c.ICommandService)],e)}();t.OpenerService=u}),define(l[131],h([1,0,2,6]),function(e,t,n,i){"use strict";t.IOpenerService=i.createDecorator("openerService"),t.NullOpenerService=Object.freeze({_serviceBrand:void 0,open:function(){return n.TPromise.as(void 0)}})}),define(l[751],h([1,0,361,362,8,163,131,16,7,240]),function(e,t,n,i,r,o,s,a,c,u){"use strict";var l=function(){function e(e){this._editor=e,this._lineNumber=-1}return e.prototype.setLineNumber=function(e){this._lineNumber=e,this._result=[]},e.prototype.clearResult=function(){this._result=[]},e.prototype.computeSync=function(){var e,t,n,i=[],r=this._editor.getLineDecorations(this._lineNumber);for(e=0,t=r.length;e<t;e++)n=r[e],n.options.glyphMarginClassName&&n.options.glyphMarginHoverMessage&&i.push({
value:n.options.glyphMarginHoverMessage});return i},e.prototype.onResult=function(e,t){this._result=this._result.concat(e)},e.prototype.getResult=function(){return this._result},e.prototype.getResultWithLoadingMessage=function(){return this.getResult()},e}(),h=function(e){function t(i,r,o){var a=this;e.call(this,t.ID,i),this.openerService=r,this.modeService=o,this.openerService=r||s.NullOpenerService,this._lastLineNumber=-1,this._computer=new l(this._editor),this._hoverOperation=new n.HoverOperation(this._computer,function(e){return a._withResult(e)},null,function(e){return a._withResult(e)})}return d(t,e),t.prototype.dispose=function(){this._hoverOperation.cancel(),e.prototype.dispose.call(this)},t.prototype.onModelDecorationsChanged=function(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start())},t.prototype.startShowingAt=function(e){this._lastLineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=e,this._computer.setLineNumber(e),this._hoverOperation.start())},t.prototype.hide=function(){this._lastLineNumber=-1,this._hoverOperation.cancel(),e.prototype.hide.call(this)},t.prototype._withResult=function(e){this._messages=e,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()},t.prototype._renderMessages=function(e,t){var n=this,i=document.createDocumentFragment();t.forEach(function(e){var t=o.renderMarkedString(e.value,{actionCallback:function(e){return n.openerService.open(a.default.parse(e)).then(void 0,c.onUnexpectedError)},codeBlockRenderer:function(e,t){var i=n.modeService.getModeIdForLanguageName(e);return n.modeService.getOrCreateMode(i).then(function(e){return'<div class="code">'+u.tokenizeToString(t,i)+"</div>"})}});i.appendChild(r.$("div.hover-row",null,t))}),this.updateContents(i),this.showAt(e)},t.ID="editor.contrib.modesGlyphHoverWidget",t}(i.GlyphHoverWidget);t.ModesGlyphHoverWidget=h}),define(l[752],h([1,0,102,749,131]),function(e,t,n,i,r){"use strict";n.registerSingleton(r.IOpenerService,i.OpenerService)}),define(l[132],h([1,0,70,16]),function(e,t,n,i){"use strict";var r=n.dirname(i.default.parse(e.toUrl("")).fsPath),o=n.join(r,"package.json");Object.defineProperty(t,"__esModule",{value:!0}),t.default=e.__$__nodeRequire(o)}),define(l[754],h([1,0,366,132]),function(e,t,n,i){"use strict";function r(){return n.getMachineId().then(function(e){return{"X-Market-Client-Id":"VSCode "+i.default.version,"User-Agent":"VSCode "+i.default.version,"X-Market-User-Id":e}})}t.getCommonHTTPHeaders=r}),define(l[14],h([1,0,21,119]),function(e,t,n,i){"use strict";var r=function(){function e(){this.data={}}return e.prototype.add=function(e,t){i.ok(n.isString(e)),i.ok(n.isObject(t)),i.ok(!this.data.hasOwnProperty(e),"There is already an extension with this id"),this.data[e]=t},e.prototype.knows=function(e){return this.data.hasOwnProperty(e)},e.prototype.as=function(e){return this.data[e]||null},e}();t.Registry=new r;var o=function(){function e(){this.toBeInstantiated=[],this.instances=[]}return e.prototype.setInstantiationService=function(e){for(this.instantiationService=e;this.toBeInstantiated.length>0;){var t=this.toBeInstantiated.shift();this.instantiate(t)}},e.prototype.instantiate=function(e){var t=this.instantiationService.createInstance(e);this.instances.push(t)},e.prototype._register=function(e){this.instantiationService?this.instantiate(e):this.toBeInstantiated.push(e)},e.prototype._getInstances=function(){return this.instances.slice(0)},e.prototype._setInstances=function(e){this.instances=e},e}();t.BaseRegistry=o}),define(l[58],h([1,0,14]),function(e,t,n){"use strict";function i(e){s.INSTANCE.registerEditorBrowserContribution(e)}t.editorContribution=i;var r;!function(e){function t(){return s.INSTANCE.getEditorBrowserContributions()}e.getEditorContributions=t}(r=t.EditorBrowserRegistry||(t.EditorBrowserRegistry={}));var o={EditorContributions:"editor.contributions"},s=function(){function e(){this.editorContributions=[]}return e.prototype.registerEditorBrowserContribution=function(e){this.editorContributions.push(e)},e.prototype.getEditorBrowserContributions=function(){return this.editorContributions.slice(0)},e.INSTANCE=new e,e}();n.Registry.add(o.EditorContributions,s.INSTANCE)}),define(l[133],h([1,0,1180,11,14,105]),function(e,t,n,i,r,o){"use strict";t.Extensions={ModesRegistry:"editor.modesRegistry"};var s=function(){function e(){this._onDidAddLanguages=new i.Emitter,this.onDidAddLanguages=this._onDidAddLanguages.event,this._languages=[]}return e.prototype.registerLanguage=function(e){this._languages.push(e),this._onDidAddLanguages.fire([e])},e.prototype.registerLanguages=function(e){this._languages=this._languages.concat(e),this._onDidAddLanguages.fire(e)},e.prototype.getLanguages=function(){return this._languages.slice(0)},e}();t.EditorModesRegistry=s,t.ModesRegistry=new s,r.Registry.add(t.Extensions.ModesRegistry,t.ModesRegistry),t.PLAINTEXT_MODE_ID="plaintext",t.ModesRegistry.registerLanguage({id:t.PLAINTEXT_MODE_ID,extensions:[".txt",".gitignore"],aliases:[n.localize(0,null),"text"],mimetypes:["text/plain"]}),o.LanguageConfigurationRegistry.register(t.PLAINTEXT_MODE_ID,{brackets:[["(",")"],["[","]"],["{","}"]]})}),define(l[195],h([1,0,1183,12,14]),function(e,t,n,i,r){"use strict";function o(e,t){for(var n=100,i=e.getLineContent(t.lineNumber).substr(0,t.column-1),r=Math.max(0,i.length-n),o=i.length-1;o>=r;o--){var s=i.charAt(o);if(/\s/.test(s))return i.substr(o+1)}return 0===r?i:""}t.Extensions={Snippets:"base.contributions.snippets"};var s=function(){function e(){this._snippets=Object.create(null)}return e.prototype.registerSnippets=function(e,t,n){void 0===n&&(n="");var i=this._snippets[e];i||(this._snippets[e]=i={}),i[n]=t},e.prototype.visitSnippets=function(e,t){var n=this._snippets[e];if(n)for(var i in n){var r=n[i].every(t);if(!r)return}},e.prototype.getSnippetCompletions=function(t,r){var s=t.getModeIdAtPosition(r.lineNumber,r.column);if(this._snippets[s]){var a=[],c=t.getWordAtPosition(r),u=c?c.word.substring(0,r.column-c.startColumn).toLowerCase():"",l=o(t,r).toLowerCase();this.visitSnippets(s,function(e){var t;if(0===u.length&&0===l.length)t=0;else{var r=e.prefix.toLowerCase();if(u.length>0&&i.startsWith(r,u))t=u.length;else{if(!(l.length>u.length&&i.startsWith(r,l)))return!0;t=l.length}}return a.push({type:"snippet",label:e.prefix,get disambiguateLabel(){return n.localize(0,null,e.prefix,e.name)},detail:e.owner,documentation:e.description,insertText:e.codeSnippet,noAutoAccept:!0,snippetType:"textmate",overwriteBefore:t}),!0});for(var h,d=0,p=a.sort(e._compareSuggestionsByLabel);d<p.length;d++){var f=p[d];h&&h.label===f.label&&(h.label=h.disambiguateLabel,f.label=f.disambiguateLabel),h=f}return a}},e._compareSuggestionsByLabel=function(e,t){return i.compare(e.label,t.label)},e}();t.getNonWhitespacePrefix=o;var a=new s;r.Registry.add(t.Extensions.Snippets,a)}),define(l[759],h([1,0,7,11,98,12,133]),function(e,t,n,i,r,o,s){"use strict";var a=Object.prototype.hasOwnProperty,c=function(){function e(e){var t=this;void 0===e&&(e=!0),this._onDidAddModes=new i.Emitter,this.onDidAddModes=this._onDidAddModes.event,this._languages={},this.mime2LanguageId={},this.name2LanguageId={},this.lowerName2Id={},e&&(this._registerLanguages(s.ModesRegistry.getLanguages()),s.ModesRegistry.onDidAddLanguages(function(e){return t._registerLanguages(e)}))}return e.prototype._registerLanguages=function(e){var t=this;if(0!==e.length){for(var n=[],i=0;i<e.length;i++)this._registerLanguage(e[i]),n.push(e[i].id);this.mime2LanguageId={},this.name2LanguageId={},this.lowerName2Id={},Object.keys(this._languages).forEach(function(e){var n=t._languages[e];n.name&&(t.name2LanguageId[n.name]=e),n.aliases.forEach(function(n){t.lowerName2Id[n.toLowerCase()]=e}),n.mimetypes.forEach(function(n){t.mime2LanguageId[n]=e})}),this._onDidAddModes.fire(n)}},e.prototype._registerLanguage=function(t){var n=t.id,i=null;a.call(this._languages,n)?i=this._languages[n]:(i={name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[n]=i),e._mergeLanguage(i,t)},e._mergeLanguage=function(e,t){var i=t.id,s=null;if("undefined"!=typeof t.mimetypes&&Array.isArray(t.mimetypes))for(var a=0;a<t.mimetypes.length;a++)s||(s=t.mimetypes[a]),e.mimetypes.push(t.mimetypes[a]);if(s||(s="text/x-"+i,e.mimetypes.push(s)),Array.isArray(t.extensions))for(var c=0,u=t.extensions;c<u.length;c++){var l=u[c];r.registerTextMime({id:i,mime:s,extension:l}),e.extensions.push(l)}if(Array.isArray(t.filenames))for(var h=0,d=t.filenames;h<d.length;h++){var p=d[h];r.registerTextMime({id:i,mime:s,filename:p}),e.filenames.push(p)}if(Array.isArray(t.filenamePatterns))for(var f=0,g=t.filenamePatterns;f<g.length;f++){var v=g[f];r.registerTextMime({id:i,mime:s,filepattern:v})}if("string"==typeof t.firstLine&&t.firstLine.length>0){var m=t.firstLine;"^"!==m.charAt(0)&&(m="^"+m);try{var y=new RegExp(m);o.regExpLeadsToEndlessLoop(y)||r.registerTextMime({id:i,mime:s,firstline:y})}catch(e){n.onUnexpectedError(e)}}if(e.aliases.push(i),"undefined"!=typeof t.aliases&&Array.isArray(t.aliases))for(var a=0;a<t.aliases.length;a++)t.aliases[a]&&0!==t.aliases[a].length&&e.aliases.push(t.aliases[a]);var b="undefined"!=typeof t.aliases&&Array.isArray(t.aliases)&&t.aliases.length>0;if(b&&null===t.aliases[0]);else{var S=(b?t.aliases[0]:null)||i;!b&&e.name||(e.name=S)}"string"==typeof t.configuration&&e.configurationFiles.push(t.configuration)},e.prototype.isRegisteredMode=function(e){return!!a.call(this.mime2LanguageId,e)||a.call(this._languages,e)},e.prototype.getRegisteredModes=function(){return Object.keys(this._languages)},e.prototype.getRegisteredLanguageNames=function(){return Object.keys(this.name2LanguageId)},e.prototype.getLanguageName=function(e){return a.call(this._languages,e)?this._languages[e].name:null},e.prototype.getModeIdForLanguageNameLowercase=function(e){return this.lowerName2Id[e]||null},e.prototype.getConfigurationFiles=function(e){return a.call(this._languages,e)?this._languages[e].configurationFiles||[]:[]},e.prototype.getMimeForMode=function(e){for(var t=Object.keys(this.mime2LanguageId),n=0,i=t.length;n<i;n++){var r=t[n],o=this.mime2LanguageId[r];if(o===e)return r}return null},e.prototype.extractModeIds=function(e){var t=this;return e?e.split(",").map(function(e){return e.trim()}).map(function(e){return t.mime2LanguageId[e]||e}).filter(function(e){return a.call(t._languages,e)}):[]},e.prototype.getModeIdsFromLanguageName=function(e){return e&&a.call(this.name2LanguageId,e)?[this.name2LanguageId[e]]:[]},e.prototype.getModeIdsFromFilenameOrFirstLine=function(e,t){if(!e&&!t)return[];var n=r.guessMimeTypes(e,t);return this.extractModeIds(n.join(","))},e.prototype.getExtensions=function(e){var t=this.name2LanguageId[e];return t&&a.call(this._languages,t)?this._languages[t].extensions:[]},e.prototype.getFilenames=function(e){var t=this.name2LanguageId[e];return t&&a.call(this._languages,t)?this._languages[t].filenames:[]},e}();t.LanguagesRegistry=c}),define(l[760],h([1,0,5,48,8,59,58,679]),function(e,t,n,i,r,o,s){"use strict";var a=function(){function e(e){var t=this;this.editor=e,this.toDispose=[],i.isIPad&&(this.toDispose.push(e.onDidChangeConfiguration(function(){return t.update()})),this.update())}return e.prototype.update=function(){var e=!!this.widget,t=!this.editor.getConfiguration().readOnly;!e&&t?this.widget=new c(this.editor):e&&!t&&(this.widget.dispose(),this.widget=null)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.toDispose=n.dispose(this.toDispose),this.widget&&(this.widget.dispose(),this.widget=null)},e.ID="editor.contrib.iPadShowKeyboard",e=g([s.editorContribution],e)}();t.IPadShowKeyboard=a;var c=function(){function e(e){var t=this;this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._toDispose=[],this._toDispose.push(r.addDisposableListener(this._domNode,"touchstart",function(e){t.editor.focus()})),this._toDispose.push(r.addDisposableListener(this._domNode,"focus",function(e){t.editor.focus()})),this.editor.addOverlayWidget(this)}return e.prototype.dispose=function(){this.editor.removeOverlayWidget(this),this._toDispose=n.dispose(this._toDispose)},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{preference:o.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER}},e.ID="editor.contrib.ShowKeyboardWidget",e}()}),define(l[304],h([1,0,5,58]),function(e,t,n,i){"use strict";var r=function(e){function t(t){var n=this;e.call(this),this._editor=t,this._altListeningMouse=!1,this._altMouseTriggered=!1,this._register(this._editor.onMouseDown(function(e){n._altListeningMouse&&(n._altMouseTriggered=!0)})),this._register(this._editor.onKeyDown(function(e){e.equals(8192)&&(n._altListeningMouse||(n._altMouseTriggered=!1),n._altListeningMouse=!0)})),this._register(this._editor.onKeyUp(function(e){e.equals(8192)&&(n._altMouseTriggered&&e.preventDefault(),n._altListeningMouse=!1,n._altMouseTriggered=!1)}))}return d(t,e),t.prototype.getId=function(){return t.ID},t.ID="editor.contrib.menuPreventer",t=g([i.editorContribution],t)}(n.Disposable);t.MenuPreventer=r}),define(l[307],h([1,0,83,13,5,10,58,23,17,15]),function(e,t,n,i,r,o,s,a,c,u){"use strict";var l=function(e){function t(t,r){if(e.call(this),i.isLinux){var s=t.getConfiguration().contribInfo.selectionClipboard;this._register(t.onDidChangeConfiguration(function(e){e.contribInfo&&(s=t.getConfiguration().contribInfo.selectionClipboard)})),this._register(t.onMouseDown(function(e){s&&t.getModel()&&e.event.middleButton&&(e.event.preventDefault(),t.focus(),e.target.position&&t.setPosition(e.target.position),process.nextTick(function(){n.clipboard.readText("selection")}))}));var a=this._register(new c.RunOnceScheduler(function(){var e=t.getModel();if(e){var i=t.getSelections();i=i.slice(0),i.sort(u.Range.compareRangesUsingStarts);for(var r=[],s=0;s<i.length;s++){var a=i[s];if(a.isEmpty())return;r.push(e.getValueInRange(a,o.EndOfLinePreference.TextDefined))}var c=r.join(e.getEOL());n.clipboard.writeText(c,"selection")}},100));this._register(t.onDidChangeCursorSelection(function(e){s&&a.schedule()}))}}return d(t,e),t.prototype.getId=function(){return t.ID},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.ID="editor.contrib.selectionClipboard",t=g([s.editorContribution,v(1,a.IContextKeyService)],t)}(r.Disposable);t.SelectionClipboard=l}),define(l[115],h([1,0,14,42]),function(e,t,n,i){"use strict";function r(e){return e.length>0&&"#"===e.charAt(e.length-1)?e.substring(0,e.length-1):e}t.Extensions={JSONContribution:"base.contributions.json"};var o=function(){function e(){this.schemasById={},this.eventEmitter=new i.EventEmitter}return e.prototype.addRegistryChangedListener=function(e){return this.eventEmitter.addListener2("registryChanged",e)},e.prototype.registerSchema=function(e,t){this.schemasById[r(e)]=t,this.eventEmitter.emit("registryChanged",{})},e.prototype.getSchemaContributions=function(){return{schemas:this.schemasById}},e}(),s=new o;n.Registry.add(t.Extensions.JSONContribution,s)}),define(l[764],h([1,0,432,96,74,54,105,115,14]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(){function e(e,t){var n=this;this._modeService=t,this._done=Object.create(null),this._modeService.onDidCreateMode(function(e){return n._loadConfigurationsForMode(e.getId())}),e.onDidEncounterLanguage(function(e){return n._loadConfigurationsForMode(e)})}return e.prototype._loadConfigurationsForMode=function(e){var t=this;if(!this._done[e]){this._done[e]=!0;var n=this._modeService.getConfigurationFiles(e);n.forEach(function(n){return t._handleConfigFile(e,n)})}},e.prototype._handleConfigFile=function(e,t){var o=this;r.readFile(t).then(function(r){var s=[],a=i.parse(r.toString(),s);s.length&&console.error(n.localize(0,null,t,s.join("\n"))),o._handleConfig(e,a)},function(e){console.error(e)})},e.prototype._handleConfig=function(e,t){var n={};t.comments&&(n.comments=t.comments),t.brackets&&(n.brackets=t.brackets),t.autoClosingPairs&&(n.autoClosingPairs=this._mapCharacterPairs(t.autoClosingPairs)),t.surroundingPairs&&(n.surroundingPairs=this._mapCharacterPairs(t.surroundingPairs)),s.LanguageConfigurationRegistry.register(e,n)},e.prototype._mapCharacterPairs=function(e){return e.map(function(e){return Array.isArray(e)?{open:e[0],close:e[1]}:e})},e=g([v(1,o.IModeService)],e)}();t.LanguageConfigurationFileHandler=u;var l="vscode://schemas/language-configuration",h={default:{comments:{blockComment:["/*","*/"],lineComment:"//"},brackets:[["(",")"],["[","]"],["{","}"]],autoClosingPairs:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[["(",")"],["[","]"],["{","}"]]},definitions:{openBracket:{type:"string",description:n.localize(1,null)},closeBracket:{type:"string",description:n.localize(2,null)},bracketPair:{type:"array",items:[{$ref:"#definitions/openBracket"},{$ref:"#definitions/closeBracket"}]}},properties:{comments:{default:{blockComment:["/*","*/"],lineComment:"//"},description:n.localize(3,null),type:"object",properties:{blockComment:{type:"array",description:n.localize(4,null),items:[{type:"string",description:n.localize(5,null)},{type:"string",description:n.localize(6,null)}]},lineComment:{type:"string",description:n.localize(7,null)}}},brackets:{default:[["(",")"],["[","]"],["{","}"]],description:n.localize(8,null),type:"array",items:{$ref:"#definitions/bracketPair"}},autoClosingPairs:{default:[["(",")"],["[","]"],["{","}"]],description:n.localize(9,null),type:"array",items:{oneOf:[{$ref:"#definitions/bracketPair"},{type:"object",properties:{open:{$ref:"#definitions/openBracket"},close:{$ref:"#definitions/closeBracket"},notIn:{type:"array",description:n.localize(10,null),items:{enum:["string","comment"]}}}}]}},surroundingPairs:{default:[["(",")"],["[","]"],["{","}"]],description:n.localize(11,null),type:"array",items:{oneOf:[{$ref:"#definitions/bracketPair"},{type:"object",properties:{open:{$ref:"#definitions/openBracket"},close:{$ref:"#definitions/closeBracket"}}}]}}}},d=c.Registry.as(a.Extensions.JSONContribution);d.registerSchema(l,h)}),define(l[104],h([1,0,442,7,32,115,14,11]),function(e,t,n,i,r,o,s,a){"use strict";var c=Object.hasOwnProperty,u=s.Registry.as(o.Extensions.JSONContribution);t.onWillActivate=new a.Emitter;var l=function(){function e(e,t){this._messageHandler=e,this._source=t}return e.prototype._msg=function(e,t){this._messageHandler({type:e,message:t,source:this._source})},e.prototype.error=function(e){this._msg(r.default.Error,e)},e.prototype.warn=function(e){this._msg(r.default.Warning,e)},e.prototype.info=function(e){this._msg(r.default.Info,e)},e}();t.ExtensionMessageCollector=l;var h=function(){function e(e){this.name=e,this._handler=null,this._users=null,this._done=!1}return e.prototype.setHandler=function(e){if(null!==this._handler||this._done)throw new Error("Handler already set!");this._handler=e,this._handle()},e.prototype.acceptUsers=function(e){if(null!==this._users||this._done)throw new Error("Users already set!");this._users=e,this._handle()},e.prototype._handle=function(){if(null!==this._handler&&null!==this._users){this._done=!0;var e=this._handler;this._handler=null;var t=this._users;this._users=null;try{e(t)}catch(e){i.onUnexpectedError(e)}}},e}();t.ExtensionPoint=h;var d="vscode://schemas/vscode-extensions",p={properties:{engines:{type:"object",properties:{vscode:{type:"string",description:n.localize(0,null),default:"^0.10.0"}}},publisher:{description:n.localize(1,null),type:"string"},displayName:{description:n.localize(2,null),type:"string"},categories:{description:n.localize(3,null),type:"array",uniqueItems:!0,items:{type:"string",enum:["Languages","Snippets","Linters","Themes","Debuggers","Other","Keymaps","Formatters"]}},galleryBanner:{type:"object",description:n.localize(4,null),properties:{color:{description:n.localize(5,null),type:"string"},theme:{description:n.localize(6,null),type:"string",enum:["dark","light"]}}},contributes:{description:n.localize(7,null),type:"object",properties:{},default:{}},preview:{type:"boolean",description:n.localize(8,null)},activationEvents:{description:n.localize(9,null),type:"array",items:{type:"string",defaultSnippets:[{label:"onLanguage",body:"onLanguage:${1:languageId}"},{label:"onCommand",body:"onCommand:${2:commandId}"},{label:"onDebug",body:"onDebug:${3:type}"},{label:"workspaceContains",body:"workspaceContains:${4:fileName}"}]}},badges:{type:"array",description:n.localize(10,null),items:{type:"object",required:["url","href","description"],properties:{url:{type:"string",description:n.localize(11,null)},href:{type:"string",description:n.localize(12,null)},description:{type:"string",description:n.localize(13,null)}}}},extensionDependencies:{description:n.localize(14,null),type:"array",uniqueItems:!0,items:{type:"string"}},scripts:{type:"object",properties:{"vscode:prepublish":{description:n.localize(15,null),type:"string"}}},icon:{type:"string",description:n.localize(16,null)}}},f=function(){function e(){this._extensionPoints={}}return e.prototype.registerExtensionPoint=function(e,t,n){if(c.call(this._extensionPoints,e))throw new Error("Duplicate extension point: "+e);var i=new h(e);return this._extensionPoints[e]=i,p.properties.contributes.properties[e]=n,u.registerSchema(d,p),i},e.prototype.getExtensionPoints=function(){var e=this;return Object.keys(this._extensionPoints).map(function(t){return e._extensionPoints[t]})},e}();t.ExtensionsRegistryImpl=f;var g={ExtensionsRegistry:"ExtensionsRegistry"};s.Registry.add(g.ExtensionsRegistry,new f),t.ExtensionsRegistry=s.Registry.as(g.ExtensionsRegistry),u.registerSchema(d,p)}),define(l[251],h([1,0,1193,7,11,20,98,75,104,6,889,133,759,25,326,170,153]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b){"use strict";function S(e){return"undefined"==typeof e||!!Array.isArray(e)&&e.every(function(e){return"string"==typeof e})}function E(e,i){return e?"string"!=typeof e.id?(i.error(n.localize(10,null,"id")),!1):S(e.extensions)?S(e.filenames)?"undefined"!=typeof e.firstLine&&"string"!=typeof e.firstLine?(i.error(n.localize(13,null,"firstLine")),!1):"undefined"!=typeof e.configuration&&"string"!=typeof e.configuration?(i.error(n.localize(14,null,"configuration")),!1):S(e.aliases)?!!S(e.mimetypes)||(i.error(n.localize(16,null,"mimetypes")),!1):(i.error(n.localize(15,null,"aliases")),!1):(i.error(n.localize(12,null,"filenames")),!1):(i.error(n.localize(11,null,"extensions")),!1):(i.error(n.localize(9,null,t.languagesExtPoint.name)),!1)}t.languagesExtPoint=c.ExtensionsRegistry.registerExtensionPoint("languages",[],{description:n.localize(0,null),type:"array",items:{type:"object",defaultSnippets:[{body:{id:"${1:languageId}",aliases:["${2:label}"],extensions:["${3:extension}"],configuration:"./language-configuration.json"}}],properties:{id:{description:n.localize(1,null),type:"string"},aliases:{description:n.localize(2,null),type:"array",items:{type:"string"}},extensions:{description:n.localize(3,null),default:[".foo"],type:"array",items:{type:"string"}},filenames:{description:n.localize(4,null),type:"array",items:{type:"string"}},filenamePatterns:{description:n.localize(5,null),type:"array",items:{type:"string"}},mimetypes:{description:n.localize(6,null),type:"array",items:{type:"string"}},firstLine:{description:n.localize(7,null),type:"string"},configuration:{description:n.localize(8,null),type:"string",default:"./language-configuration.json"}}}});var _=function(){function e(e,t){var n=this;this._onDidAddModes=new r.Emitter,this.onDidAddModes=this._onDidAddModes.event,this._onDidCreateMode=new r.Emitter,this.onDidCreateMode=this._onDidCreateMode.event,this._instantiationService=e,this._extensionService=t,this._instantiatedModes={},this._registry=new p.LanguagesRegistry,this._registry.onDidAddModes(function(e){return n._onDidAddModes.fire(e)})}return e.prototype.isRegisteredMode=function(e){return this._registry.isRegisteredMode(e)},e.prototype.getRegisteredModes=function(){return this._registry.getRegisteredModes()},e.prototype.getRegisteredLanguageNames=function(){return this._registry.getRegisteredLanguageNames()},e.prototype.getExtensions=function(e){return this._registry.getExtensions(e)},e.prototype.getFilenames=function(e){return this._registry.getFilenames(e)},e.prototype.getMimeForMode=function(e){return this._registry.getMimeForMode(e)},e.prototype.getLanguageName=function(e){return this._registry.getLanguageName(e)},e.prototype.getModeIdForLanguageName=function(e){return this._registry.getModeIdForLanguageNameLowercase(e)},e.prototype.getModeId=function(e){var t=this._registry.extractModeIds(e);return t.length>0?t[0]:null},e.prototype.getConfigurationFiles=function(e){return this._registry.getConfigurationFiles(e)},e.prototype.lookup=function(e){for(var t=[],n=this._registry.extractModeIds(e),i=0;i<n.length;i++){var r=n[i];t.push({modeId:r,isInstantiated:this._instantiatedModes.hasOwnProperty(r)})}return t},e.prototype.getMode=function(e){for(var t=this._registry.extractModeIds(e),n=!1,r=0;r<t.length;r++){if(this._instantiatedModes.hasOwnProperty(t[r]))return this._instantiatedModes[t[r]];n=n||"plaintext"===t[r]}if(n){var o=null;return this.getOrCreateMode(e).then(function(e){o=e}).done(null,i.onUnexpectedError),o}},e.prototype.getModeIdByLanguageName=function(e){var t=this._registry.getModeIdsFromLanguageName(e);return t.length>0?t[0]:null},e.prototype.getModeIdByFilenameOrFirstLine=function(e,t){var n=this._registry.getModeIdsFromFilenameOrFirstLine(e,t);return n.length>0?n[0]:null},e.prototype.onReady=function(){return this._extensionService.onReady()},e.prototype.getOrCreateMode=function(e){var t=this;return this.onReady().then(function(){var n=t.getModeId(e);return t._getOrCreateMode(n||"plaintext")})},e.prototype.getOrCreateModeByLanguageName=function(e){var t=this;return this.onReady().then(function(){var n=t.getModeIdByLanguageName(e);return t._getOrCreateMode(n||"plaintext")})},e.prototype.getOrCreateModeByFilenameOrFirstLine=function(e,t){var n=this;return this.onReady().then(function(){var i=n.getModeIdByFilenameOrFirstLine(e,t);return n._getOrCreateMode(i||"plaintext")})},e.prototype._getOrCreateMode=function(e){return this._instantiatedModes.hasOwnProperty(e)||(this._instantiatedModes[e]=this._instantiationService.createInstance(l.FrankensteinMode,{id:e}),this._onDidCreateMode.fire(this._instantiatedModes[e]),this._extensionService.activateByEvent("onLanguage:"+e).done(null,i.onUnexpectedError)),this._instantiatedModes[e]},e}();t.ModeServiceImpl=_;var C=function(){function e(e,t,n){this._modeId=e,this._actual=t,this._stateData=n}return Object.defineProperty(e.prototype,"actual",{get:function(){return this._actual},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this._modeId,this._actual.clone(),m.AbstractState.safeClone(this._stateData))},e.prototype.equals=function(t){return t instanceof e&&(!!this._actual.equals(t._actual)&&m.AbstractState.safeEquals(this._stateData,t._stateData))},e.prototype.getModeId=function(){return this._modeId},e.prototype.tokenize=function(e){throw new Error("Unexpected tokenize call!")},e.prototype.getStateData=function(){return this._stateData},e.prototype.setStateData=function(e){this._stateData=e},e}();t.TokenizationState2Adapter=C;var w=function(){function e(e,t){this._modeId=e,this._actual=t}return e.prototype.getInitialState=function(){return new C(this._modeId,this._actual.getInitialState(),null)},e.prototype.tokenize=function(e,t,n,i){if(void 0===n&&(n=0),t instanceof C){var r=this._actual.tokenize(e,t.actual),o=[];return r.tokens.forEach(function(e){if("string"==typeof e.scopes)o.push(new y.Token(e.startIndex+n,e.scopes));else{if(!Array.isArray(e.scopes)||1!==e.scopes.length)throw new Error("Only token scopes as strings or of precisely 1 length are supported at this time!");o.push(new y.Token(e.startIndex+n,e.scopes[0]))}}),{tokens:o,actualStopOffset:n+e.length,endState:new C(t.getModeId(),r.endState,t.getStateData()),modeTransitions:[new b.ModeTransition(n,t.getModeId())]}}throw new Error("Unexpected state to tokenize with!")},e}();t.TokenizationSupport2Adapter=w;var I=function(e){function i(i,r,s){var a=this;e.call(this,i,r),this._configurationService=s,t.languagesExtPoint.setHandler(function(e){for(var i=[],r=0,s=e.length;r<s;r++){var a=e[r];if(Array.isArray(a.value))for(var c=0,u=a.value.length;c<u;c++){var l=a.value[c];if(E(l,a.collector)){var d=l.configuration?o.join(a.description.extensionFolderPath,l.configuration):l.configuration;i.push({id:l.id,extensions:l.extensions,filenames:l.filenames,filenamePatterns:l.filenamePatterns,firstLine:l.firstLine,aliases:l.aliases,mimetypes:l.mimetypes,configuration:d})}}else a.collector.error(n.localize(17,null,t.languagesExtPoint.name))}h.ModesRegistry.registerLanguages(i)}),this._configurationService.onDidUpdateConfiguration(function(e){return a.onConfigurationChange(e.config)})}return d(i,e),i.prototype.onReady=function(){var e=this;if(!this._onReadyPromise){var t=this._configurationService.getConfiguration();this._onReadyPromise=this._extensionService.onReady().then(function(){return e.onConfigurationChange(t),!0})}return this._onReadyPromise},i.prototype.onConfigurationChange=function(e){var t=this;s.clearTextMimes(!0),e.files&&e.files.associations&&Object.keys(e.files.associations).forEach(function(n){var i=e.files.associations[n],r=t.getMimeForMode(i)||"text/x-"+i;s.registerTextMime({id:i,mime:r,filepattern:n,userConfigured:!0})})},i=g([v(0,u.IInstantiationService),v(1,a.IExtensionService),v(2,f.IConfigurationService)],i)}(_);t.MainThreadModeServiceImpl=I}),define(l[313],h([1,0,433,96,20,74,104,195,54,14,251]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";function h(e,t,n){return o.readFile(t).then(function(i){var r=d(i.toString(),n);m.registerSnippets(e,r,t)})}function d(e,t){var n=i.parse(e);if(!n||"object"!=typeof n)return[];var r=Object.keys(n),o=[],s=function(e,n){var i=e.prefix,r=e.body;Array.isArray(r)&&(r=r.join("\n")),"string"==typeof i&&"string"==typeof r&&o.push({name:n,owner:t,prefix:i,description:e.description||n,codeSnippet:r})};return r.forEach(function(e){var t=n[e];if(t.body&&t.prefix)s(t,e);else{var i=Object.keys(t);i.forEach(function(e){s(t[e],e)})}}),o}var p=s.ExtensionsRegistry.registerExtensionPoint("snippets",[l.languagesExtPoint],{description:n.localize(0,null),type:"array",defaultSnippets:[{body:[{language:"",path:""}]}],items:{type:"object",defaultSnippets:[{body:{language:"${1:id}",path:"./snippets/${2:id}.json."}}],properties:{language:{description:n.localize(1,null),type:"string"},path:{description:n.localize(2,null),type:"string"}}}}),f=function(){function e(e){var t=this;this._modeService=e,p.setHandler(function(e){for(var n=0;n<e.length;n++)for(var i=e[n].value,r=0;r<i.length;r++)t._withSnippetContribution(e[n].description.name,e[n].description.extensionFolderPath,i[r],e[n].collector)})}return e.prototype._withSnippetContribution=function(e,t,i,o){if(!i.language||"string"!=typeof i.language||!this._modeService.isRegisteredMode(i.language))return void o.error(n.localize(3,null,p.name,String(i.language)));if(!i.path||"string"!=typeof i.path)return void o.error(n.localize(4,null,p.name,String(i.path)));var s=r.normalize(r.join(t,i.path));0!==s.indexOf(t)&&o.warn(n.localize(5,null,p.name,s,t));var a=i.language,c=this._modeService.onDidCreateMode(function(t){t.getId()===a&&(h(a,s,e),c.dispose())})},e=g([v(0,c.IModeService)],e)}();t.MainProcessTextMateSnippet=f;var m=u.Registry.as(a.Extensions.Snippets);t.readAndRegisterSnippets=h}),define(l[768],h([1,0,8,436,12,20,189,108,104,23,31]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";var h;!function(e){function t(e){switch(e){case"editor/title":return l.MenuId.EditorTitle;case"editor/context":return l.MenuId.EditorContext;case"explorer/context":return l.MenuId.ExplorerContext;case"editor/title/context":return l.MenuId.EditorTitleContext;case"debug/callstack/context":return l.MenuId.DebugCallStackContext;
}}function n(e,t){if(!Array.isArray(e))return t.error(i.localize(0,null)),!1;for(var n=0,r=e;n<r.length;n++){var o=r[n];if("string"!=typeof o.command)return t.error(i.localize(1,null,"command")),!1;if(o.alt&&"string"!=typeof o.alt)return t.error(i.localize(2,null,"alt")),!1;if(o.when&&"string"!=typeof o.when)return t.error(i.localize(3,null,"when")),!1;if(o.group&&"string"!=typeof o.group)return t.error(i.localize(4,null,"group")),!1}return!0}function o(e,t){return e?r.isFalsyOrWhitespace(e.command)?(t.error(i.localize(15,null,"command")),!1):r.isFalsyOrWhitespace(e.title)?(t.error(i.localize(16,null,"title")),!1):e.category&&"string"!=typeof e.category?(t.error(i.localize(17,null,"category")),!1):!!s(e.icon,t):(t.error(i.localize(14,null)),!1)}function s(e,t){return"undefined"==typeof e||("string"==typeof e||("string"==typeof e.dark&&"string"==typeof e.light||(t.error(i.localize(18,null)),!1)))}e.parseMenuId=t,e.isValidMenuItems=n;var a={type:"object",properties:{command:{description:i.localize(5,null),type:"string"},alt:{description:i.localize(6,null),type:"string"},when:{description:i.localize(7,null),type:"string"},group:{description:i.localize(8,null),type:"string"}}};e.menusContribtion={description:i.localize(9,null),type:"object",properties:{"editor/title":{description:i.localize(10,null),type:"array",items:a},"editor/context":{description:i.localize(11,null),type:"array",items:a},"editor/title/context":{description:i.localize(12,null),type:"array",items:a},"explorer/context":{description:i.localize(13,null),type:"array",items:a}}},e.isValidCommand=o;var c={type:"object",properties:{command:{description:i.localize(19,null),type:"string"},title:{description:i.localize(20,null),type:"string"},category:{description:i.localize(21,null),type:"string"},icon:{description:i.localize(22,null),anyOf:["string",{type:"object",properties:{light:{description:i.localize(23,null),type:"string"},dark:{description:i.localize(24,null),type:"string"}}}]}}};e.commandsContribution={description:i.localize(25,null),oneOf:[c,{type:"array",items:c}]}}(h||(h={})),c.ExtensionsRegistry.registerExtensionPoint("commands",[],h.commandsContribution).setHandler(function(e){function t(e,t){if(h.isValidCommand(e,t.collector)){var s,a=e.icon,c=e.category,u=e.title,d=e.command;if(a)if(s=r.nextId(),"string"==typeof a){var p=o.join(t.description.extensionFolderPath,a);n.createCSSRule(".icon."+s,'background-image: url("'+p+'")')}else{var f=o.join(t.description.extensionFolderPath,a.light),g=o.join(t.description.extensionFolderPath,a.dark);n.createCSSRule(".icon."+s,'background-image: url("'+f+'")'),n.createCSSRule(".vs-dark .icon."+s+", hc-black .icon."+s,'background-image: url("'+g+'")')}l.MenuRegistry.addCommand({id:d,title:u,category:c,iconClass:s})&&t.collector.info(i.localize(26,null,e.command))}}for(var r=new s.IdGenerator("contrib-cmd-icon-"),a=0,c=e;a<c.length;a++){var u=c[a],d=u.value;if(Array.isArray(d))for(var p=0,f=d;p<f.length;p++){var g=f[p];t(g,u)}else t(d,u)}}),c.ExtensionsRegistry.registerExtensionPoint("menus",[],h.menusContribtion).setHandler(function(e){for(var t=function(e){var t=e.value,n=e.collector;a.forEach(t,function(e){if(h.isValidMenuItems(e.value,n)){var t=h.parseMenuId(e.key);if(!t)return void n.warn(i.localize(27,null,e.key));for(var r=0,o=e.value;r<o.length;r++){var s=o[r],a=l.MenuRegistry.getCommand(s.command),c=s.alt&&l.MenuRegistry.getCommand(s.alt);a||n.warn(i.localize(28,null,s.command)),s.alt&&!c&&n.warn(i.localize(29,null,s.alt)),s.command===s.alt&&n.info(i.localize(30,null)),s.alt&&t!==l.MenuId.EditorTitle&&"navigation"!==s.group&&n.info(i.localize(31,null));var d=void 0,p=void 0;if(s.group){var f=s.group.lastIndexOf("@");f>0?(d=s.group.substr(0,f),p=Number(s.group.substr(f+1))||void 0):d=s.group}l.MenuRegistry.appendMenuItem(t,{command:a,alt:c,group:d,order:p,when:u.ContextKeyExpr.deserialize(s.when)})}}})},n=0,r=e;n<r.length;n++){var o=r[n];t(o)}})}),define(l[77],h([1,0,437,11,14,30,21,104,115]),function(e,t,n,i,r,o,s,a,c){"use strict";function u(e){var t=Array.isArray(e)?e[0]:e;switch(t){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}t.Extensions={Configuration:"base.contributions.configuration"};var l="vscode://schemas/settings",h=r.Registry.as(c.Extensions.JSONContribution),d=function(){function e(){this.configurationContributors=[],this.configurationSchema={properties:{},additionalProperties:!1,errorMessage:"Unknown configuration setting"},this._onDidRegisterConfiguration=new i.Emitter,this.configurationProperties={},h.registerSchema(l,this.configurationSchema)}return Object.defineProperty(e.prototype,"onDidRegisterConfiguration",{get:function(){return this._onDidRegisterConfiguration.event},enumerable:!0,configurable:!0}),e.prototype.registerConfiguration=function(e){this.registerConfigurations([e])},e.prototype.registerConfigurations=function(e){var t=this;e.forEach(function(e){t.registerProperties(e),t.configurationContributors.push(e),t.registerJSONConfiguration(e)}),this._onDidRegisterConfiguration.fire(this)},e.prototype.registerProperties=function(e){var t=e.properties;if(t)for(var n in t){var i=t[n],r=i.default;s.isUndefined(r)&&(i.default=u(i.type)),this.configurationProperties[n]=t[n]}var o=e.allOf;if(o)for(var a=0,c=o;a<c.length;a++){var l=c[a];this.registerProperties(l)}},e.prototype.getConfigurations=function(){return this.configurationContributors},e.prototype.getConfigurationProperties=function(){return this.configurationProperties},e.prototype.registerJSONConfiguration=function(e){function t(e){var i=e.properties;if(i)for(var r in i)n.properties[r]=i[r];var o=e.allOf;o&&o.forEach(t)}var n=this.configurationSchema;t(e),h.registerSchema(l,n)},e}(),p=new d;r.Registry.add(t.Extensions.Configuration,p);var f=a.ExtensionsRegistry.registerExtensionPoint("configuration",[],{description:n.localize(0,null),type:"object",defaultSnippets:[{body:{title:"",properties:{}}}],properties:{title:{description:n.localize(1,null),type:"string"},properties:{description:n.localize(2,null),type:"object",additionalProperties:{$ref:"http://json-schema.org/draft-04/schema#"}}}});f.setHandler(function(e){for(var t=[],i=0;i<e.length;i++){var r=e[i].value,s=e[i].collector;if(r.type&&"object"!==r.type?s.warn(n.localize(3,null)):r.type="object",r.title&&"string"!=typeof r.title&&s.error(n.localize(4,null)),r.properties&&"object"!=typeof r.properties)return void s.error(n.localize(5,null));var a=o.clone(r);a.id=e[i].description.id,t.push(a)}p.registerConfigurations(t)})}),define(l[139],h([1,0,1160,11,5,30,13,77,14,127,10,694,112]),function(e,t,n,i,r,o,s,a,c,u,l,h,p){"use strict";function f(e){return"false"!==e&&Boolean(e)}function g(e,t){return"undefined"==typeof e?t:f(e)}function v(e,t){var n=parseFloat(e);return isNaN(n)&&(n=t),n}function m(e,t,n){void 0===t&&(t=w),void 0===n&&(n=C);var i=parseInt(e,10);return isNaN(i)&&(i=0),i=Math.max(t,i),i=Math.min(n,i),0|i}function y(e){if(!Array.isArray(e))return[];var t=e,n=t.map(function(e){return m(e)});return n.sort(),n}function b(e){return"indent"===e?l.WrappingIndent.Indent:"same"===e?l.WrappingIndent.Same:l.WrappingIndent.None}function S(e){return"line"===e?l.TextEditorCursorStyle.Line:"block"===e?l.TextEditorCursorStyle.Block:"underline"===e?l.TextEditorCursorStyle.Underline:l.TextEditorCursorStyle.Line}function E(e){switch(e){case"blink":return l.TextEditorCursorBlinkingStyle.Blink;case"smooth":return l.TextEditorCursorBlinkingStyle.Smooth;case"phase":return l.TextEditorCursorBlinkingStyle.Phase;case"expand":return l.TextEditorCursorBlinkingStyle.Expand;case"visible":case"solid":return l.TextEditorCursorBlinkingStyle.Solid}return l.TextEditorCursorBlinkingStyle.Blink}function _(e,t){return"undefined"==typeof e?t:m(e)}var C=2147483647,w=-2147483648;t.EditorZoom=new(function(){function e(){this._zoomLevel=0,this._onDidChangeZoomLevel=new i.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}return e.prototype.getZoomLevel=function(){return this._zoomLevel},e.prototype.setZoomLevel=function(e){e=Math.min(Math.max(-9,e),9),this._zoomLevel!==e&&(this._zoomLevel=e,this._onDidChangeZoomLevel.fire(this._zoomLevel))},e}()),t.TabFocus=new(function(){function e(){this._tabFocus=!1,this._onDidChangeTabFocus=new i.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}return e.prototype.getTabFocusMode=function(){return this._tabFocus},e.prototype.setTabFocusMode=function(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))},e}());var I=function(){function e(){}return e.getValue=function(){return this._value},e.setValue=function(e){this._value!==e&&(this._value=e,this._onChange.fire(this._value))},e._value=!1,e._onChange=new i.Emitter,e.onChange=e._onChange.event,e}();t.GlobalScreenReaderNVDA=I;var T=function(){function e(e){this._editor=o.clone(u.DefaultConfig.editor),this._mergeOptionsIn(e)}return e.prototype.getEditorOptions=function(){return this._editor},e.prototype._mergeOptionsIn=function(e){this._editor=o.mixin(this._editor,e||{})},e.prototype.updateOptions=function(e){this._mergeOptionsIn(e)},e}();t.ConfigurationWithDefaults=T;var x=function(){function e(){}return e.createInternalEditorOptions=function(e,n,i,r,o,s,a,c){var u,d=m(i.wrappingColumn,-1),p=f(i.wordWrap);u="undefined"!=typeof i.stopRenderingLineAfter?m(i.stopRenderingLineAfter,-1):d>=0?-1:1e4;var g,_=v(i.mouseWheelScrollSensitivity,1),C=this._sanitizeScrollbarOpts(i.scrollbar,_),w=f(i.glyphMargin),I=i.lineNumbers,T=m(i.lineNumbersMinChars,1);if("string"==typeof i.lineDecorationsWidth&&/^\d+(\.\d+)?ch$/.test(i.lineDecorationsWidth)){var x=parseFloat(i.lineDecorationsWidth.substr(0,i.lineDecorationsWidth.length-2));g=x*r.typicalHalfwidthCharacterWidth}else g=m(i.lineDecorationsWidth,0);i.folding&&(g+=16);var A,D,L;I===!0?I="on":I===!1&&(I="off"),"function"==typeof I?(A=!0,D=I,L=!1):"relative"===I?(A=!0,D=null,L=!0):"on"===I?(A=!0,D=null,L=!1):(A=!1,D=null,L=!1);var k=h.EditorLayoutProvider.compute({outerWidth:e,outerHeight:n,showGlyphMargin:w,lineHeight:r.lineHeight,showLineNumbers:A,lineNumbersMinChars:T,lineDecorationsWidth:g,maxDigitWidth:r.maxDigitWidth,maxLineNumber:a,verticalScrollbarWidth:C.verticalScrollbarSize,horizontalScrollbarHeight:C.horizontalScrollbarSize,scrollbarArrowSize:C.arrowSize,verticalScrollbarHasArrows:C.verticalHasArrows});s&&d>0&&(d=0);var P;P=0===d?{isViewportWrapping:!0,wrappingColumn:Math.max(1,Math.floor((k.contentWidth-k.verticalScrollbarWidth)/r.typicalHalfwidthCharacterWidth))}:d>0&&p===!0?{isViewportWrapping:!0,wrappingColumn:Math.min(d,Math.floor((k.contentWidth-k.verticalScrollbarWidth)/r.typicalHalfwidthCharacterWidth))}:d>0?{isViewportWrapping:!1,wrappingColumn:d}:{isViewportWrapping:!1,wrappingColumn:-1};var R=new l.EditorWrappingInfo({isViewportWrapping:P.isViewportWrapping,wrappingColumn:P.wrappingColumn,wrappingIndent:b(i.wrappingIndent),wordWrapBreakBeforeCharacters:String(i.wordWrapBreakBeforeCharacters),wordWrapBreakAfterCharacters:String(i.wordWrapBreakAfterCharacters),wordWrapBreakObtrusiveCharacters:String(i.wordWrapBreakObtrusiveCharacters)}),O=f(i.readOnly),M=t.TabFocus.getTabFocusMode();O&&(M=!0);var N=i.renderWhitespace;N===!0?N="boundary":N===!1&&(N="none");var F=i.renderLineHighlight;F===!0?F="line":F===!1&&(F="none");var W=new l.InternalEditorViewOptions({theme:i.theme,canUseTranslate3d:c,experimentalScreenReader:f(i.experimentalScreenReader),rulers:y(i.rulers),ariaLabel:String(i.ariaLabel),renderLineNumbers:A,renderCustomLineNumbers:D,renderRelativeLineNumbers:L,selectOnLineNumbers:f(i.selectOnLineNumbers),glyphMargin:w,revealHorizontalRightPadding:m(i.revealHorizontalRightPadding,0),roundedSelection:f(i.roundedSelection),overviewRulerLanes:m(i.overviewRulerLanes,0,3),cursorBlinking:E(i.cursorBlinking),mouseWheelZoom:f(i.mouseWheelZoom),cursorStyle:S(i.cursorStyle),hideCursorInOverviewRuler:f(i.hideCursorInOverviewRuler),scrollBeyondLastLine:f(i.scrollBeyondLastLine),editorClassName:o,stopRenderingLineAfter:u,renderWhitespace:N,renderControlCharacters:f(i.renderControlCharacters),renderIndentGuides:f(i.renderIndentGuides),renderLineHighlight:F,scrollbar:C,fixedOverflowWidgets:f(i.fixedOverflowWidgets)}),V=new l.EditorContribOptions({selectionClipboard:f(i.selectionClipboard),hover:f(i.hover),contextmenu:f(i.contextmenu),quickSuggestions:f(i.quickSuggestions),quickSuggestionsDelay:m(i.quickSuggestionsDelay),parameterHints:f(i.parameterHints),iconsInSuggestions:f(i.iconsInSuggestions),formatOnType:f(i.formatOnType),suggestOnTriggerCharacters:f(i.suggestOnTriggerCharacters),acceptSuggestionOnEnter:f(i.acceptSuggestionOnEnter),snippetSuggestions:i.snippetSuggestions,emptySelectionClipboard:i.emptySelectionClipboard,tabCompletion:i.tabCompletion,wordBasedSuggestions:i.wordBasedSuggestions,suggestFontSize:i.suggestFontSize,suggestLineHeight:i.suggestLineHeight,selectionHighlight:f(i.selectionHighlight),codeLens:i.referenceInfos&&i.codeLens,folding:f(i.folding)});return new l.InternalEditorOptions({lineHeight:r.lineHeight,readOnly:O,wordSeparators:String(i.wordSeparators),autoClosingBrackets:f(i.autoClosingBrackets),useTabStops:f(i.useTabStops),tabFocusMode:M,layoutInfo:k,fontInfo:r,viewInfo:W,wrappingInfo:R,contribInfo:V})},e._sanitizeScrollbarOpts=function(e,t){var n=function(e){switch(e){case"hidden":return p.ScrollbarVisibility.Hidden;case"visible":return p.ScrollbarVisibility.Visible;default:return p.ScrollbarVisibility.Auto}},i=_(e.horizontalScrollbarSize,10),r=_(e.verticalScrollbarSize,14);return new l.InternalEditorScrollbarOptions({vertical:n(e.vertical),horizontal:n(e.horizontal),arrowSize:_(e.arrowSize,11),useShadows:g(e.useShadows,!0),verticalHasArrows:g(e.verticalHasArrows,!1),horizontalHasArrows:g(e.horizontalHasArrows,!1),horizontalScrollbarSize:i,horizontalSliderSize:_(e.horizontalSliderSize,i),verticalScrollbarSize:r,verticalSliderSize:_(e.verticalSliderSize,r),handleMouseWheel:g(e.handleMouseWheel,!0),mouseWheelScrollSensitivity:t})},e}(),A=function(e){function n(n,r){var o=this;void 0===r&&(r=null),e.call(this),this._onDidChange=this._register(new i.Emitter),this.onDidChange=this._onDidChange.event,this._configWithDefaults=new T(n),this._elementSizeObserver=r,this._isDominatedByLongLines=!1,this._maxLineNumber=1,this.editor=this._computeInternalOptions(),this.editorClone=this.editor.clone(),this._register(t.EditorZoom.onDidChangeZoomLevel(function(e){return o._recomputeOptions()})),this._register(t.TabFocus.onDidChangeTabFocus(function(e){return o._recomputeOptions()}))}return d(n,e),n.prototype.dispose=function(){e.prototype.dispose.call(this)},n.prototype._recomputeOptions=function(){this._setOptions(this._computeInternalOptions())},n.prototype._setOptions=function(e){if(!this.editor||!this.editor.equals(e)){var t=this.editor.createChangeEvent(e);this.editor=e,this.editorClone=this.editor.clone(),this._onDidChange.fire(t)}},n.prototype.getRawOptions=function(){return this._configWithDefaults.getEditorOptions()},n.prototype._computeInternalOptions=function(){var e=this._configWithDefaults.getEditorOptions(),n=this._getEditorClassName(e.theme,f(e.fontLigatures)),i=String(e.fontFamily)||u.DefaultConfig.editor.fontFamily,r=String(e.fontWeight)||u.DefaultConfig.editor.fontWeight,o=v(e.fontSize,u.DefaultConfig.editor.fontSize);o=Math.max(0,o),o=Math.min(100,o),0===o&&(o=u.DefaultConfig.editor.fontSize);var s=m(e.lineHeight,0,150);0===s&&(s=Math.round(u.GOLDEN_LINE_HEIGHT_RATIO*o));var a=1+.1*t.EditorZoom.getZoomLevel();o*=a,s*=a;var c=f(e.disableTranslate3d),h=this._getCanUseTranslate3d();return c&&(h=!1),x.createInternalEditorOptions(this.getOuterWidth(),this.getOuterHeight(),e,this.readConfiguration(new l.BareFontInfo({fontFamily:i,fontWeight:r,fontSize:o,lineHeight:s})),n,this._isDominatedByLongLines,this._maxLineNumber,h)},n.prototype.updateOptions=function(e){this._configWithDefaults.updateOptions(e),this._recomputeOptions()},n.prototype.setIsDominatedByLongLines=function(e){this._isDominatedByLongLines=e,this._recomputeOptions()},n.prototype.setMaxLineNumber=function(e){this._maxLineNumber=e,this._recomputeOptions()},n}(r.Disposable);t.CommonEditorConfiguration=A;var D=function(){function e(){}return e.apply=function(t,n){if(t&&n&&"function"==typeof n.updateOptions){var i=n.getEditorType();if(i!==l.EditorType.ICodeEditor&&i!==l.EditorType.IDiffEditor)return;var r=t[e.EDITOR_SECTION];if(i===l.EditorType.IDiffEditor){var s=t[e.DIFF_EDITOR_SECTION];s&&(r=r?o.mixin(r,s):s)}r&&(delete r.readOnly,n.updateOptions(r))}},e.EDITOR_SECTION="editor",e.DIFF_EDITOR_SECTION="diffEditor",e}();t.EditorConfiguration=D;var L=c.Registry.as(a.Extensions.Configuration),k={id:"editor",order:5,type:"object",title:n.localize(0,null),properties:{"editor.fontFamily":{type:"string",default:u.DefaultConfig.editor.fontFamily,description:n.localize(1,null)},"editor.fontWeight":{type:"string",enum:["normal","bold","100","200","300","400","500","600","700","800","900"],default:u.DefaultConfig.editor.fontWeight,description:n.localize(2,null)},"editor.fontSize":{type:"number",default:u.DefaultConfig.editor.fontSize,description:n.localize(3,null)},"editor.lineHeight":{type:"number",default:u.DefaultConfig.editor.lineHeight,description:n.localize(4,null)},"editor.lineNumbers":{type:"string",enum:["off","on","relative"],default:u.DefaultConfig.editor.lineNumbers,description:n.localize(5,null)},"editor.rulers":{type:"array",items:{type:"number"},default:u.DefaultConfig.editor.rulers,description:n.localize(6,null)},"editor.wordSeparators":{type:"string",default:u.DefaultConfig.editor.wordSeparators,description:n.localize(7,null)},"editor.tabSize":{type:"number",default:u.DEFAULT_INDENTATION.tabSize,minimum:1,description:n.localize(8,null),errorMessage:n.localize(9,null)},"editor.insertSpaces":{type:"boolean",default:u.DEFAULT_INDENTATION.insertSpaces,description:n.localize(10,null),errorMessage:n.localize(11,null)},"editor.detectIndentation":{type:"boolean",default:u.DEFAULT_INDENTATION.detectIndentation,description:n.localize(12,null)},"editor.roundedSelection":{type:"boolean",default:u.DefaultConfig.editor.roundedSelection,description:n.localize(13,null)},"editor.scrollBeyondLastLine":{type:"boolean",default:u.DefaultConfig.editor.scrollBeyondLastLine,description:n.localize(14,null)},"editor.wrappingColumn":{type:"integer",default:u.DefaultConfig.editor.wrappingColumn,minimum:-1,description:n.localize(15,null)},"editor.wordWrap":{type:"boolean",default:u.DefaultConfig.editor.wordWrap,description:n.localize(16,null)},"editor.wrappingIndent":{type:"string",enum:["none","same","indent"],default:u.DefaultConfig.editor.wrappingIndent,description:n.localize(17,null)},"editor.mouseWheelScrollSensitivity":{type:"number",default:u.DefaultConfig.editor.mouseWheelScrollSensitivity,description:n.localize(18,null)},"editor.quickSuggestions":{type:"boolean",default:u.DefaultConfig.editor.quickSuggestions,description:n.localize(19,null)},"editor.quickSuggestionsDelay":{type:"integer",default:u.DefaultConfig.editor.quickSuggestionsDelay,minimum:0,description:n.localize(20,null)},"editor.parameterHints":{type:"boolean",default:u.DefaultConfig.editor.parameterHints,description:n.localize(21,null)},"editor.autoClosingBrackets":{type:"boolean",default:u.DefaultConfig.editor.autoClosingBrackets,description:n.localize(22,null)},"editor.formatOnType":{type:"boolean",default:u.DefaultConfig.editor.formatOnType,description:n.localize(23,null)},"editor.suggestOnTriggerCharacters":{type:"boolean",default:u.DefaultConfig.editor.suggestOnTriggerCharacters,description:n.localize(24,null)},"editor.acceptSuggestionOnEnter":{type:"boolean",default:u.DefaultConfig.editor.acceptSuggestionOnEnter,description:n.localize(25,null)},"editor.snippetSuggestions":{type:"string",enum:["top","bottom","inline","none"],default:u.DefaultConfig.editor.snippetSuggestions,description:n.localize(26,null)},"editor.emptySelectionClipboard":{type:"boolean",default:u.DefaultConfig.editor.emptySelectionClipboard,description:n.localize(27,null)},"editor.wordBasedSuggestions":{type:"boolean",default:u.DefaultConfig.editor.wordBasedSuggestions,description:n.localize(28,null)},"editor.suggestFontSize":{type:"integer",default:0,minimum:0,description:n.localize(29,null)},"editor.suggestLineHeight":{type:"integer",default:0,minimum:0,description:n.localize(30,null)},"editor.tabCompletion":{type:"boolean",default:u.DefaultConfig.editor.tabCompletion,description:n.localize(31,null)},"editor.selectionHighlight":{type:"boolean",default:u.DefaultConfig.editor.selectionHighlight,description:n.localize(32,null)},"editor.overviewRulerLanes":{type:"integer",default:3,description:n.localize(33,null)},"editor.cursorBlinking":{type:"string",enum:["blink","smooth","phase","expand","solid"],default:u.DefaultConfig.editor.cursorBlinking,description:n.localize(34,null)},"editor.mouseWheelZoom":{type:"boolean",default:u.DefaultConfig.editor.mouseWheelZoom,description:n.localize(35,null)},"editor.cursorStyle":{type:"string",enum:["block","line","underline"],default:u.DefaultConfig.editor.cursorStyle,description:n.localize(36,null)},"editor.fontLigatures":{type:"boolean",default:u.DefaultConfig.editor.fontLigatures,description:n.localize(37,null)},"editor.hideCursorInOverviewRuler":{type:"boolean",default:u.DefaultConfig.editor.hideCursorInOverviewRuler,description:n.localize(38,null)},"editor.renderWhitespace":{type:"string",enum:["none","boundary","all"],default:u.DefaultConfig.editor.renderWhitespace,description:n.localize(39,null)},"editor.renderControlCharacters":{type:"boolean",default:u.DefaultConfig.editor.renderControlCharacters,description:n.localize(40,null)},"editor.renderIndentGuides":{type:"boolean",default:u.DefaultConfig.editor.renderIndentGuides,description:n.localize(41,null)},"editor.renderLineHighlight":{type:"string",enum:["none","gutter","line","all"],default:u.DefaultConfig.editor.renderLineHighlight,description:n.localize(42,null)},"editor.codeLens":{type:"boolean",default:u.DefaultConfig.editor.codeLens,description:n.localize(43,null)},"editor.folding":{type:"boolean",default:u.DefaultConfig.editor.folding,description:n.localize(44,null)},"editor.glyphMargin":{type:"boolean",default:u.DefaultConfig.editor.glyphMargin,description:n.localize(45,null)},"editor.useTabStops":{type:"boolean",default:u.DefaultConfig.editor.useTabStops,description:n.localize(46,null)},"editor.trimAutoWhitespace":{type:"boolean",default:u.DEFAULT_TRIM_AUTO_WHITESPACE,description:n.localize(47,null)},"editor.stablePeek":{type:"boolean",default:!1,description:n.localize(48,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:n.localize(49,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:n.localize(50,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:n.localize(51,null)}}};s.isLinux&&(k.properties["editor.selectionClipboard"]={type:"boolean",default:u.DefaultConfig.editor.selectionClipboard,description:n.localize(52,null)}),L.registerConfiguration(k)}),define(l[168],h([1,0,11,5,13,48,139,10,851]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(){function e(){this._keys=Object.create(null),this._values=Object.create(null)}return e.prototype.has=function(e){return!!this._values[e.getId()]},e.prototype.get=function(e){return this._values[e.getId()]},e.prototype.put=function(e,t){this._keys[e.getId()]=e,this._values[e.getId()]=t},e.prototype.getKeys=function(){var e=this;return Object.keys(this._keys).map(function(t){return e._keys[t]})},e}(),l=function(){function e(e){this._chr=e,this._width=0}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),e.prototype.render=function(e){if(" "===this._chr){for(var t="&nbsp;",n=0;n<8;n++)t+=t;e.innerHTML=t}else{for(var i=this._chr,n=0;n<8;n++)i+=i;e.textContent=i}},e.prototype.read=function(e){this._width=e.offsetWidth/256},e}(),h=function(e){function t(){e.call(this),this._changeMonitorTimeout=-1,this._onDidChange=this._register(new n.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new u}return d(t,e),t.prototype.dispose=function(){this._changeMonitorTimeout!==-1&&(clearTimeout(this._changeMonitorTimeout),this._changeMonitorTimeout=-1),e.prototype.dispose.call(this)},t.prototype.readConfiguration=function(e){if(!this._cache.has(e)){var n=t._actualReadConfiguration(e);(n.typicalHalfwidthCharacterWidth<=2||n.typicalFullwidthCharacterWidth<=2||n.spaceWidth<=2||n.maxDigitWidth<=2)&&(n=new a.FontInfo({fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,lineHeight:n.lineHeight,typicalHalfwidthCharacterWidth:Math.max(n.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(n.typicalFullwidthCharacterWidth,5),spaceWidth:Math.max(n.spaceWidth,5),maxDigitWidth:Math.max(n.maxDigitWidth,5)}),this._installChangeMonitor()),this._cache.put(e,n)}return this._cache.get(e)},t.prototype._installChangeMonitor=function(){var e=this;this._changeMonitorTimeout===-1&&(this._changeMonitorTimeout=setTimeout(function(){e._changeMonitorTimeout=-1,e._monitorForChanges()},500))},t.prototype._monitorForChanges=function(){for(var e=!1,n=this._cache.getKeys(),i=0;i<n.length;i++){var r=n[i],o=t._actualReadConfiguration(r);o.typicalHalfwidthCharacterWidth<=2||o.typicalFullwidthCharacterWidth<=2||o.maxDigitWidth<=2?e=!0:(this._cache.put(r,o),this._onDidChange.fire())}e&&this._installChangeMonitor()},t._testElementId=function(e){return"editorSizeProvider"+e},t._createTestElements=function(e,t){var n=document.createElement("div");p.applyFontInfoSlow(n,e),n.style.position="absolute",n.style.top="-50000px",n.style.width="50000px";for(var i=0,r=t.length;i<r;i++){n.appendChild(document.createElement("br"));var o=document.createElement("span");o.id=this._testElementId(i),t[i].render(o),n.appendChild(o)}return n.appendChild(document.createElement("br")),n},t._readFromTestElements=function(e){for(var t=0,n=e.length;t<n;t++)e[t].read(document.getElementById(this._testElementId(t)))},t._runReaders=function(e,t){var n=this._createTestElements(e,t);document.body.appendChild(n),this._readFromTestElements(t),document.body.removeChild(n)},t._actualReadConfiguration=function(e){var t=new l("n"),n=new l(""),i=new l(" "),r=["0","1","2","3","4","5","6","7","8","9"].map(function(e){return new l(e)});this._runReaders(e,r.concat([t,n,i]));for(var o=0,s=0,c=r.length;s<c;s++)o=Math.max(o,r[s].width);return new a.FontInfo({fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,lineHeight:e.lineHeight,typicalHalfwidthCharacterWidth:t.width,typicalFullwidthCharacterWidth:n.width,spaceWidth:i.width,maxDigitWidth:o})},t.INSTANCE=new t,t}(i.Disposable),p=function(e){function t(t,n){var i=this;void 0===n&&(n=null),e.call(this,t,new c.ElementSizeObserver(n,function(){return i._onReferenceDomElementSizeChanged()})),this._register(h.INSTANCE.onDidChange(function(){return function(){return i._onCSSBasedConfigurationChanged()}})),this._configWithDefaults.getEditorOptions().automaticLayout&&this._elementSizeObserver.startObserving(),this._register(o.onDidChangeZoomLevel(function(e){return i._recomputeOptions()}))}return d(t,e),t.applyFontInfoSlow=function(e,t){e.style.fontFamily=t.fontFamily,e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.lineHeight=t.lineHeight+"px"},t.applyFontInfo=function(e,t){e.setFontFamily(t.fontFamily),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setLineHeight(t.lineHeight)},t.prototype._onReferenceDomElementSizeChanged=function(){this._recomputeOptions()},t.prototype._onCSSBasedConfigurationChanged=function(){this._recomputeOptions()},t.prototype.observeReferenceElement=function(e){this._elementSizeObserver.observe(e)},t.prototype.dispose=function(){this._elementSizeObserver.dispose(),e.prototype.dispose.call(this)},t.prototype._getEditorClassName=function(e,t){var n="";return o.isIE11orEarlier?n+="ie ":o.isFirefox?n+="ff ":o.isEdge&&(n+="edge "),o.isIE9&&(n+="ie9 "),r.isMacintosh&&(n+="mac "),t&&(n+="enable-ligatures "),"monaco-editor "+n+e},t.prototype.getOuterWidth=function(){return this._elementSizeObserver.getWidth()},t.prototype.getOuterHeight=function(){return this._elementSizeObserver.getHeight()},t.prototype._getCanUseTranslate3d=function(){return o.canUseTranslate3d&&0===o.getZoomLevel()},t.prototype.readConfiguration=function(e){return h.INSTANCE.readConfiguration(e)},t}(s.CommonEditorConfiguration);t.Configuration=p}),define(l[772],h([1,0,5,48,8,67,139,670,318,15,10,147,168,852]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f){"use strict";var g=function(e){function t(t,n,c){var h=this;e.call(this),this._lastCursorSelectionChanged=null,this._context=t,this.viewController=n,this.textArea=new f.TextAreaWrapper(c.textArea),p.Configuration.applyFontInfoSlow(this.textArea.actual,this._context.configuration.editor.fontInfo),this.viewHelper=c,this.contentLeft=0,this.contentWidth=0,this.scrollLeft=0,this.textAreaHandler=new a.TextAreaHandler(i,this._getStrategy(),this.textArea,this._context.model,function(){return h.viewHelper.flushAnyAccumulatedEvents()}),this._toDispose=[],this._toDispose.push(this.textAreaHandler.onKeyDown(function(e){return h.viewController.emitKeyDown(e._actual)})),this._toDispose.push(this.textAreaHandler.onKeyUp(function(e){return h.viewController.emitKeyUp(e._actual)})),this._toDispose.push(this.textAreaHandler.onPaste(function(e){return h.viewController.paste("keyboard",e.text,e.pasteOnNewLine)})),this._toDispose.push(this.textAreaHandler.onCut(function(e){return h.viewController.cut("keyboard")})),this._toDispose.push(this.textAreaHandler.onType(function(e){e.replaceCharCnt?h.viewController.replacePreviousChar("keyboard",e.text,e.replaceCharCnt):h.viewController.type("keyboard",e.text)})),this._toDispose.push(this.textAreaHandler.onCompositionStart(function(e){var t=e.showAtLineNumber,n=e.showAtColumn,i={range:new u.Range(t,n,t,n),verticalType:0,revealHorizontal:!0,revealCursor:!1};h._context.privateViewEventBus.emit(l.ViewEventNames.RevealRangeEvent,i),h.visibleRange=h.viewHelper.visibleRangeForPositionRelativeToEditor(t,n),h.visibleRange&&(o.StyleMutator.setTop(h.textArea.actual,h.visibleRange.top),o.StyleMutator.setLeft(h.textArea.actual,h.contentLeft+h.visibleRange.left-h.scrollLeft)),o.StyleMutator.setHeight(h.textArea.actual,h._context.configuration.editor.lineHeight),r.addClass(h.viewHelper.viewDomNode,"ime-input"),h.viewController.compositionStart("keyboard")})),this._toDispose.push(this.textAreaHandler.onCompositionUpdate(function(e){if(i.isEdgeOrIE)o.StyleMutator.setWidth(h.textArea.actual,0);else{var t=document.createElement("canvas"),n=t.getContext("2d"),s=r.getComputedStyle(h.textArea.actual);if(i.isFirefox){n.font=s.fontStyle+" "+s.fontVariant+" "+s.fontWeight+" "+s.fontStretch+" "+s.fontSize+" / "+s.lineHeight+" "+s.fontFamily;var a=n.measureText(e.data);o.StyleMutator.setWidth(h.textArea.actual,a.width+2)}else{n.font=s.font;var a=n.measureText(e.data);o.StyleMutator.setWidth(h.textArea.actual,a.width)}}})),this._toDispose.push(this.textAreaHandler.onCompositionEnd(function(e){h.textArea.actual.style.height="",h.textArea.actual.style.width="",o.StyleMutator.setLeft(h.textArea.actual,0),o.StyleMutator.setTop(h.textArea.actual,0),r.removeClass(h.viewHelper.viewDomNode,"ime-input"),h.visibleRange=null,h.viewController.compositionEnd("keyboard")})),this._toDispose.push(s.GlobalScreenReaderNVDA.onChange(function(e){h.textAreaHandler.setStrategy(h._getStrategy())})),this._context.addEventHandler(this)}return d(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this.textAreaHandler.dispose(),this.textArea.dispose(),this._toDispose=n.dispose(this._toDispose)},t.prototype._getStrategy=function(){return s.GlobalScreenReaderNVDA.getValue()?c.TextAreaStrategy.NVDA:this._context.configuration.editor.viewInfo.experimentalScreenReader?c.TextAreaStrategy.NVDA:c.TextAreaStrategy.IENarrator},t.prototype.focusTextArea=function(){
this.textAreaHandler.writePlaceholderAndSelectTextAreaSync()},t.prototype.onConfigurationChanged=function(e){return e.fontInfo&&p.Configuration.applyFontInfoSlow(this.textArea.actual,this._context.configuration.editor.fontInfo),e.viewInfo.experimentalScreenReader&&this.textAreaHandler.setStrategy(this._getStrategy()),!1},t.prototype.onScrollChanged=function(e){return this.scrollLeft=e.scrollLeft,this.visibleRange&&(o.StyleMutator.setTop(this.textArea.actual,this.visibleRange.top),o.StyleMutator.setLeft(this.textArea.actual,this.contentLeft+this.visibleRange.left-this.scrollLeft)),!1},t.prototype.onViewFocusChanged=function(e){return this.textAreaHandler.setHasFocus(e),!1},t.prototype.onCursorSelectionChanged=function(e){return this._lastCursorSelectionChanged=e,!1},t.prototype.onLayoutChanged=function(e){return this.contentLeft=e.contentLeft,this.contentWidth=e.contentWidth,!1},t.prototype.writeToTextArea=function(){if(this._lastCursorSelectionChanged){var e=this._lastCursorSelectionChanged;this._lastCursorSelectionChanged=null,this.textAreaHandler.setCursorSelections(e.selection,e.secondarySelections)}},t}(h.ViewEventHandler);t.KeyboardHandler=g}),define(l[773],h([1,0,5,13,48,8,44,46,10,147,664,17,369,79,139]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,g){"use strict";function v(e){return function(t,n){var i=!1;return e&&(i=e.mouseTargetIsWidget(n)),i||n.preventDefault(),n}}var m=function(e){function t(t,n){var i=this;e.call(this),this._destination=t,this._condition=n,this._retryTimer=this._register(new h.TimeoutTimer),this.handler=function(e){return i._handle(e)}}return d(t,e),t.prototype.dispose=function(){this._retryValue=null,e.prototype.dispose.call(this)},t.prototype._handle=function(e){var t=this;this._condition()?(this._retryTimer.cancel(),this._retryValue=null,this._destination(e)):(this._retryValue=e,this._retryTimer.setIfNotSet(function(){var e=t._retryValue;t._retryValue=null,t._handle(e)},10))},t}(n.Disposable),y=function(){function e(e,t){this.position=e,this.mouseColumn=t}return e}(),b=function(e){function t(n,i,r){var s=this;e.call(this),this._isFocused=!1,this._context=n,this.viewController=i,this.viewHelper=r,this.mouseTargetFactory=new l.MouseTargetFactory(this._context,r),this.listenersToRemove=[],this._mouseDownOperation=new S(this._context,this.viewController,this.viewHelper,function(e,t){return s._createMouseTarget(e,t)},function(e){return s._getMouseColumn(e)}),this.toDispose=[],this._asyncFocus=new h.RunOnceScheduler(function(){return s.viewHelper.focusTextArea()},0),this.toDispose.push(this._asyncFocus),this.lastMouseLeaveTime=-1;var a=new p.EditorMouseEventFactory(this.viewHelper.viewDomNode);this.listenersToRemove.push(a.onContextMenu(this.viewHelper.viewDomNode,function(e){return s._onContextMenu(e,!0)})),this._mouseMoveEventHandler=new m(function(e){return s._onMouseMove(e)},function(){return!s.viewHelper.isDirty()}),this.toDispose.push(this._mouseMoveEventHandler),this.listenersToRemove.push(a.onMouseMoveThrottled(this.viewHelper.viewDomNode,this._mouseMoveEventHandler.handler,v(this.mouseTargetFactory),t.MOUSE_MOVE_MINIMUM_TIME)),this.listenersToRemove.push(a.onMouseUp(this.viewHelper.viewDomNode,function(e){return s._onMouseUp(e)})),this.listenersToRemove.push(a.onMouseLeave(this.viewHelper.viewDomNode,function(e){return s._onMouseLeave(e)})),this.listenersToRemove.push(a.onMouseDown(this.viewHelper.viewDomNode,function(e){return s._onMouseDown(e)}));var c=function(e){if(s._context.configuration.editor.viewInfo.mouseWheelZoom){var t=new f.StandardMouseWheelEvent(e);if(t.browserEvent.ctrlKey||t.browserEvent.metaKey){var n=g.EditorZoom.getZoomLevel(),i=t.deltaY>0?1:-1;g.EditorZoom.setZoomLevel(n+i),t.preventDefault(),t.stopPropagation()}}};this.listenersToRemove.push(o.addDisposableListener(this.viewHelper.viewDomNode,"mousewheel",c,!0)),this.listenersToRemove.push(o.addDisposableListener(this.viewHelper.viewDomNode,"DOMMouseScroll",c,!0)),this._context.addEventHandler(this)}return d(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this.listenersToRemove=n.dispose(this.listenersToRemove),this.toDispose=n.dispose(this.toDispose),this._mouseDownOperation.dispose()},t.prototype.onLayoutChanged=function(e){return this._layoutInfo=e,!1},t.prototype.onScrollChanged=function(e){return this._mouseDownOperation.onScrollChanged(),!1},t.prototype.onCursorSelectionChanged=function(e){return this._mouseDownOperation.onCursorSelectionChanged(e),!1},t.prototype.onViewFocusChanged=function(e){return this._isFocused=e,!1},t.prototype._createMouseTarget=function(e,t){var n=this.viewHelper.getLastViewCursorsRenderData();return this.mouseTargetFactory.createMouseTarget(this._layoutInfo,n,e,t)},t.prototype._getMouseColumn=function(e){return this.mouseTargetFactory.getMouseColumn(this._layoutInfo,e)},t.prototype._onContextMenu=function(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})},t.prototype._onMouseMove=function(e){if(!this._mouseDownOperation.isActive()){var t=e.timestamp;t<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}},t.prototype._onMouseLeave=function(e){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:e,target:null})},t.prototype._onMouseUp=function(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})},t.prototype._onMouseDown=function(e){var t=this,n=this._createMouseTarget(e,!0),o=n.type===c.MouseTargetType.CONTENT_TEXT||n.type===c.MouseTargetType.CONTENT_EMPTY,s=n.type===c.MouseTargetType.GUTTER_GLYPH_MARGIN||n.type===c.MouseTargetType.GUTTER_LINE_NUMBERS||n.type===c.MouseTargetType.GUTTER_LINE_DECORATIONS,a=n.type===c.MouseTargetType.GUTTER_LINE_NUMBERS,u=this._context.configuration.editor.viewInfo.selectOnLineNumbers,l=n.type===c.MouseTargetType.CONTENT_VIEW_ZONE||n.type===c.MouseTargetType.GUTTER_VIEW_ZONE,h=n.type===c.MouseTargetType.CONTENT_WIDGET,d=e.leftButton;i.isMacintosh&&e.ctrlKey&&(d=!1);var p=function(){r.isIE11orEarlier&&!t._isFocused?t._asyncFocus.schedule():(e.preventDefault(),t.viewHelper.focusTextArea())};if(d&&(o||a&&u))p(),this._mouseDownOperation.start(n.type,e);else if(s)e.preventDefault();else if(l){var f=n.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(f.viewZoneId)&&(p(),this._mouseDownOperation.start(n.type,e),e.preventDefault())}else h&&this.viewHelper.shouldSuppressMouseDownOnWidget(n.detail)&&(p(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:n})},t.MOUSE_MOVE_MINIMUM_TIME=100,t}(u.ViewEventHandler);t.MouseHandler=b;var S=function(e){function t(t,n,i,r,o){var s=this;e.call(this),this._context=t,this._viewController=n,this._viewHelper=i,this._createMouseTarget=r,this._getMouseColumn=o,this._currentSelection=new a.Selection(1,1,1,1),this._mouseState=new E,this._onScrollTimeout=this._register(new h.TimeoutTimer),this._isActive=!1,this._lastMouseEvent=null,this._mouseMoveMonitor=this._register(new p.GlobalEditorMouseMoveMonitor(this._viewHelper.viewDomNode)),this._mouseDownThenMoveEventHandler=this._register(new m(function(e){return s._onMouseDownThenMove(e)},function(){return!s._viewHelper.isDirty()}))}return d(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.isActive=function(){return this._isActive},t.prototype._onMouseDownThenMove=function(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);var t=this._findMousePosition(e,!0);t&&this._dispatchMouse(t,!0)},t.prototype.start=function(e,t){var n=this;this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(e===c.MouseTargetType.GUTTER_LINE_NUMBERS),this._mouseState.setModifiers(t);var i=this._findMousePosition(t,!0);i&&(this._mouseState.trySetCount(t.detail,i.position),t.detail=this._mouseState.count,this._dispatchMouse(i,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(v(null),this._mouseDownThenMoveEventHandler.handler,function(){return n._stop()})))},t.prototype._stop=function(){this._isActive=!1,this._onScrollTimeout.cancel()},t.prototype.onScrollChanged=function(){var e=this;this._isActive&&this._onScrollTimeout.setIfNotSet(function(){var t=e._findMousePosition(e._lastMouseEvent,!1);t&&e._dispatchMouse(t,!0)},10)},t.prototype.onCursorSelectionChanged=function(e){this._currentSelection=e.selection},t.prototype._getPositionOutsideEditor=function(e){var t=e.editorPos,n=this._getMouseColumn(e);if(e.posy<t.top){var i=this._viewHelper.getLineNumberAtVerticalOffset(Math.max(this._viewHelper.getScrollTop()-(t.top-e.posy),0));return new y(new s.Position(i,1),n)}if(e.posy>t.top+t.height){var r=this._viewHelper.getLineNumberAtVerticalOffset(this._viewHelper.getScrollTop()+(e.posy-t.top));return new y(new s.Position(r,this._context.model.getLineMaxColumn(r)),n)}var o=this._viewHelper.getLineNumberAtVerticalOffset(this._viewHelper.getScrollTop()+(e.posy-t.top));return e.posx<t.left?new y(new s.Position(o,1),n):e.posx>t.left+t.width?new y(new s.Position(o,this._context.model.getLineMaxColumn(o)),n):null},t.prototype._findMousePosition=function(e,t){var n=this._getPositionOutsideEditor(e);if(n)return n;var i=this._createMouseTarget(e,t),r=i.position;if(!r)return null;if(i.type===c.MouseTargetType.CONTENT_VIEW_ZONE||i.type===c.MouseTargetType.GUTTER_VIEW_ZONE){var o=new s.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),a=i.detail,u=a.positionBefore,l=a.positionAfter;if(u&&l)return u.isBefore(o)?new y(u,i.mouseColumn):new y(l,i.mouseColumn)}return new y(r,i.mouseColumn)},t.prototype._dispatchMouse=function(e,t){this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey})},t}(n.Disposable),E=function(){function e(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0}return Object.defineProperty(e.prototype,"altKey",{get:function(){return this._altKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ctrlKey",{get:function(){return this._ctrlKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metaKey",{get:function(){return this._metaKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shiftKey",{get:function(){return this._shiftKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startedOnLineNumbers",{get:function(){return this._startedOnLineNumbers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._lastMouseDownCount},enumerable:!0,configurable:!0}),e.prototype.setModifiers=function(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey},e.prototype.setStartedOnLineNumbers=function(e){this._startedOnLineNumbers=e},e.prototype.trySetCount=function(t,n){var i=(new Date).getTime();i-this._lastSetMouseDownCountTime>e.CLEAR_MOUSE_DOWN_COUNT_TIME&&(t=1),this._lastSetMouseDownCountTime=i,t>this._lastMouseDownCount+1&&(t=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(n)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=n,this._lastMouseDownCount=Math.min(t,this._lastMouseDownPositionEqualCount)},e.CLEAR_MOUSE_DOWN_COUNT_TIME=400,e}()}),define(l[774],h([1,0,8,143,773,369]),function(e,t,n,i,r,o){"use strict";function s(e,t){var n={translationY:t.translationY,translationX:t.translationX};return e&&(n.translationY+=e.translationY,n.translationX+=e.translationX),n}var a=function(e){function t(t,i,r){var o=this;e.call(this,t,i,r),this.viewHelper.linesContentDomNode.style.msTouchAction="none",this.viewHelper.linesContentDomNode.style.msContentZooming="none",this._installGestureHandlerTimeout=window.setTimeout(function(){if(o._installGestureHandlerTimeout=-1,window.MSGesture){var e=new MSGesture,t=new MSGesture;e.target=o.viewHelper.linesContentDomNode,t.target=o.viewHelper.linesContentDomNode,o.viewHelper.linesContentDomNode.addEventListener("MSPointerDown",function(n){var i=n.pointerType;return i===(n.MSPOINTER_TYPE_MOUSE||"mouse")?void(o._lastPointerType="mouse"):void(i===(n.MSPOINTER_TYPE_TOUCH||"touch")?(o._lastPointerType="touch",e.addPointer(n.pointerId)):(o._lastPointerType="pen",t.addPointer(n.pointerId)))}),o.listenersToRemove.push(n.addDisposableThrottledListener(o.viewHelper.linesContentDomNode,"MSGestureChange",function(e){return o._onGestureChange(e)},s)),o.listenersToRemove.push(n.addDisposableListener(o.viewHelper.linesContentDomNode,"MSGestureTap",function(e){return o._onCaptureGestureTap(e)},!0))}},100),this._lastPointerType="mouse"}return d(t,e),t.prototype._onMouseDown=function(t){"mouse"===this._lastPointerType&&e.prototype._onMouseDown.call(this,t)},t.prototype._onCaptureGestureTap=function(e){var t=this,n=new o.EditorMouseEvent(e,this.viewHelper.viewDomNode),i=this._createMouseTarget(n,!1);i.position&&this.viewController.moveTo("mouse",i.position),n.browserEvent.fromElement?(n.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){t.viewHelper.focusTextArea()})},t.prototype._onGestureChange=function(e){this.viewHelper.setScrollPosition({scrollLeft:this.viewHelper.getScrollLeft()-e.translationX,scrollTop:this.viewHelper.getScrollTop()-e.translationY})},t.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),e.prototype.dispose.call(this)},t}(r.MouseHandler),c=function(e){function t(t,i,r){var o=this;e.call(this,t,i,r),this.viewHelper.linesContentDomNode.style.touchAction="none",this._installGestureHandlerTimeout=window.setTimeout(function(){if(o._installGestureHandlerTimeout=-1,window.MSGesture){var e=new MSGesture,t=new MSGesture;e.target=o.viewHelper.linesContentDomNode,t.target=o.viewHelper.linesContentDomNode,o.viewHelper.linesContentDomNode.addEventListener("pointerdown",function(n){var i=n.pointerType;return"mouse"===i?void(o._lastPointerType="mouse"):void("touch"===i?(o._lastPointerType="touch",e.addPointer(n.pointerId)):(o._lastPointerType="pen",t.addPointer(n.pointerId)))}),o.listenersToRemove.push(n.addDisposableThrottledListener(o.viewHelper.linesContentDomNode,"MSGestureChange",function(e){return o._onGestureChange(e)},s)),o.listenersToRemove.push(n.addDisposableListener(o.viewHelper.linesContentDomNode,"MSGestureTap",function(e){return o._onCaptureGestureTap(e)},!0))}},100),this._lastPointerType="mouse"}return d(t,e),t.prototype._onMouseDown=function(t){"mouse"===this._lastPointerType&&e.prototype._onMouseDown.call(this,t)},t.prototype._onCaptureGestureTap=function(e){var t=this,n=new o.EditorMouseEvent(e,this.viewHelper.viewDomNode),i=this._createMouseTarget(n,!1);i.position&&this.viewController.moveTo("mouse",i.position),n.browserEvent.fromElement?(n.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){t.viewHelper.focusTextArea()})},t.prototype._onGestureChange=function(e){this.viewHelper.setScrollPosition({scrollLeft:this.viewHelper.getScrollLeft()-e.translationX,scrollTop:this.viewHelper.getScrollTop()-e.translationY})},t.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),e.prototype.dispose.call(this)},t}(r.MouseHandler),u=function(e){function t(t,r,s){var a=this;e.call(this,t,r,s),this.gesture=new i.Gesture(this.viewHelper.linesContentDomNode),this.listenersToRemove.push(n.addDisposableListener(this.viewHelper.linesContentDomNode,i.EventType.Tap,function(e){return a.onTap(e)})),this.listenersToRemove.push(n.addDisposableListener(this.viewHelper.linesContentDomNode,i.EventType.Change,function(e){return a.onChange(e)})),this.listenersToRemove.push(n.addDisposableListener(this.viewHelper.linesContentDomNode,i.EventType.Contextmenu,function(e){return a._onContextMenu(new o.EditorMouseEvent(e,a.viewHelper.viewDomNode),!1)}))}return d(t,e),t.prototype.dispose=function(){this.gesture.dispose(),e.prototype.dispose.call(this)},t.prototype.onTap=function(e){e.preventDefault(),this.viewHelper.focusTextArea();var t=this._createMouseTarget(new o.EditorMouseEvent(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.moveTo("mouse",t.position)},t.prototype.onChange=function(e){this.viewHelper.setScrollPosition({scrollLeft:this.viewHelper.getScrollLeft()-e.translationX,scrollTop:this.viewHelper.getScrollTop()-e.translationY})},t}(r.MouseHandler),l=function(){function e(e,t,n){window.navigator.msPointerEnabled?this.handler=new a(e,t,n):window.TouchEvent?this.handler=new u(e,t,n):window.navigator.pointerEnabled?this.handler=new c(e,t,n):this.handler=new r.MouseHandler(e,t,n)}return e.prototype.onScrollChanged=function(e){this.handler.onScrollChanged(e)},e.prototype.dispose=function(){this.handler.dispose()},e}();t.PointerHandler=l}),define(l[775],h([1,0,67,59,360,168]),function(e,t,n,i,r,o){"use strict";var s=function(e){function t(t,n){e.call(this,t),this._dynamicOverlays=[],this._isFocused=!1,this._layoutProvider=n,this.domNode.setClassName("view-overlays")}return d(t,e),t.prototype.shouldRender=function(){if(e.prototype.shouldRender.call(this))return!0;for(var t=0,n=this._dynamicOverlays.length;t<n;t++){var i=this._dynamicOverlays[t];if(i.shouldRender())return!0}return!1},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._layoutProvider=null;for(var t=0,n=this._dynamicOverlays.length;t<n;t++){var i=this._dynamicOverlays[t];i.dispose()}this._dynamicOverlays=null},t.prototype.getDomNode=function(){return this.domNode.domNode},t.prototype.addDynamicOverlay=function(e){this._dynamicOverlays.push(e)},t.prototype.onViewFocusChanged=function(e){return this._isFocused=e,!0},t.prototype._createLine=function(){return new a(this._context,this._dynamicOverlays)},t.prototype.prepareRender=function(e){for(var t=this._dynamicOverlays.filter(function(e){return e.shouldRender()}),n=0,i=t.length;n<i;n++){var r=t[n];r.prepareRender(e),r.onDidRender()}return null},t.prototype.render=function(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)},t.prototype._viewOverlaysRender=function(t){e.prototype._renderLines.call(this,t.linesViewportData)},t}(r.ViewLayer);t.ViewOverlays=s;var a=function(){function e(e,t){this._context=e,this._lineHeight=this._context.configuration.editor.lineHeight,this._dynamicOverlays=t,this._domNode=null,this._renderPieces=null}return e.prototype.getDomNode=function(){return this._domNode?this._domNode.domNode:null},e.prototype.setDomNode=function(e){this._domNode=n.createFastDomNode(e)},e.prototype.onContentChanged=function(){},e.prototype.onTokensChanged=function(){},e.prototype.onConfigurationChanged=function(e){e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight)},e.prototype.shouldUpdateHTML=function(e,t,n){for(var i="",r=0,o=this._dynamicOverlays.length;r<o;r++){var s=this._dynamicOverlays[r];i+=s.render(e,t)}var a=this._renderPieces===i;return a||(this._renderPieces=i),!a},e.prototype.getLineOuterHTML=function(e,t,n){e.push('<div lineNumber="'),e.push(t.toString()),e.push('" style="top:'),e.push(n.toString()),e.push("px;height:"),e.push(this._lineHeight.toString()),e.push('px;" class="'),e.push(i.ClassNames.VIEW_LINE),e.push('">'),e.push(this.getLineInnerHTML(t)),e.push("</div>")},e.prototype.getLineInnerHTML=function(e){return this._renderPieces},e.prototype.layoutLine=function(e,t){this._domNode.setLineNumber(String(e)),this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight)},e}();t.ViewOverlayLine=a;var c=function(e){function t(t,n){e.call(this,t,n),this._scrollWidth=this._layoutProvider.getScrollWidth(),this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this.domNode.setWidth(this._scrollWidth),this.domNode.setHeight(0)}return d(t,e),t.prototype.onConfigurationChanged=function(t){return t.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth),e.prototype.onConfigurationChanged.call(this,t)},t.prototype.onScrollChanged=function(t){return this._scrollWidth=t.scrollWidth,e.prototype.onScrollChanged.call(this,t)||t.scrollWidthChanged},t.prototype._viewOverlaysRender=function(t){e.prototype._viewOverlaysRender.call(this,t),this.domNode.setWidth(Math.max(this._scrollWidth,this._contentWidth))},t}(s);t.ContentViewOverlays=c;var u=function(e){function t(t,n){e.call(this,t,n),this._contentLeft=t.configuration.editor.layoutInfo.contentLeft,this._canUseTranslate3d=t.configuration.editor.viewInfo.canUseTranslate3d,this.domNode.setClassName(i.ClassNames.MARGIN_VIEW_OVERLAYS),this.domNode.setWidth(1),o.Configuration.applyFontInfo(this.domNode,this._context.configuration.editor.fontInfo)}return d(t,e),t.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollHeightChanged},t.prototype.onLayoutChanged=function(t){return this._contentLeft=t.contentLeft,e.prototype.onLayoutChanged.call(this,t)||!0},t.prototype.onConfigurationChanged=function(t){return t.fontInfo&&o.Configuration.applyFontInfo(this.domNode,this._context.configuration.editor.fontInfo),t.viewInfo.canUseTranslate3d&&(this._canUseTranslate3d=this._context.configuration.editor.viewInfo.canUseTranslate3d),e.prototype.onConfigurationChanged.call(this,t)},t.prototype._viewOverlaysRender=function(t){e.prototype._viewOverlaysRender.call(this,t);var n=Math.min(this._layoutProvider.getTotalHeight(),1e6);this.domNode.setHeight(n),this.domNode.setWidth(this._contentLeft)},t}(s);t.MarginViewOverlays=u}),define(l[776],h([1,0,17,67,15,44,10,59,360,956,168,239,647]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";var p=function(){function e(){this._currentVisibleRange=new r.Range(1,1,1,1),this._bigNumbersDelta=0}return e.prototype.getCurrentVisibleRange=function(){return this._currentVisibleRange},e.prototype.setCurrentVisibleRange=function(e){this._currentVisibleRange=e},e.prototype.getBigNumbersDelta=function(){return this._bigNumbersDelta},e.prototype.setBigNumbersDelta=function(e){this._bigNumbersDelta=e},e}(),f=function(e){function t(t,i){var r=this;e.call(this,t),this._lineHeight=this._context.configuration.editor.lineHeight,this._isViewportWrapping=this._context.configuration.editor.wrappingInfo.isViewportWrapping,this._revealHorizontalRightPadding=this._context.configuration.editor.viewInfo.revealHorizontalRightPadding,this._canUseTranslate3d=t.configuration.editor.viewInfo.canUseTranslate3d,this._layoutProvider=i,this.domNode.setClassName(a.ClassNames.VIEW_LINES),l.Configuration.applyFontInfo(this.domNode,this._context.configuration.editor.fontInfo),this._maxLineWidth=0,this._asyncUpdateLineWidths=new n.RunOnceScheduler(function(){r._updateLineWidths()},200),this._lastRenderedData=new p,this._lastCursorRevealRangeHorizontallyEvent=null,this._textRangeRestingSpot=document.createElement("div"),this._textRangeRestingSpot.className="textRangeRestingSpot"}return d(t,e),t.prototype.dispose=function(){this._asyncUpdateLineWidths.dispose(),this._layoutProvider=null,e.prototype.dispose.call(this)},t.prototype.getDomNode=function(){return this.domNode.domNode},t.prototype.onConfigurationChanged=function(t){var n=e.prototype.onConfigurationChanged.call(this,t);return t.wrappingInfo&&(this._maxLineWidth=0),t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.wrappingInfo&&(this._isViewportWrapping=this._context.configuration.editor.wrappingInfo.isViewportWrapping),t.viewInfo.revealHorizontalRightPadding&&(this._revealHorizontalRightPadding=this._context.configuration.editor.viewInfo.revealHorizontalRightPadding),t.viewInfo.canUseTranslate3d&&(this._canUseTranslate3d=this._context.configuration.editor.viewInfo.canUseTranslate3d),t.fontInfo&&l.Configuration.applyFontInfo(this.domNode,this._context.configuration.editor.fontInfo),n},t.prototype.onLayoutChanged=function(t){var n=e.prototype.onLayoutChanged.call(this,t);return this._maxLineWidth=0,n},t.prototype.onModelFlushed=function(){var t=e.prototype.onModelFlushed.call(this);return this._maxLineWidth=0,t},t.prototype.onModelDecorationsChanged=function(t){for(var n=e.prototype.onModelDecorationsChanged.call(this,t),i=this._linesCollection.getStartLineNumber(),r=this._linesCollection.getEndLineNumber(),o=i;o<=r;o++)this._linesCollection.getLine(o).onModelDecorationsChanged();return n||!0},t.prototype.onCursorRevealRange=function(e){var t=this._computeScrollTopToRevealRange(this._layoutProvider.getCurrentViewport(),e.range,e.verticalType);return e.revealHorizontal&&(this._lastCursorRevealRangeHorizontallyEvent=e),this._layoutProvider.setScrollPosition({scrollTop:t}),!0},t.prototype.onCursorScrollRequest=function(e){var t=this._layoutProvider.getScrollTop(),n=t+e.deltaLines*this._lineHeight;return this._layoutProvider.setScrollPosition({scrollTop:n}),!0},t.prototype.onScrollChanged=function(t){return this.domNode.setWidth(t.scrollWidth),e.prototype.onScrollChanged.call(this,t)||!0},t.prototype.getPositionFromDOMInfo=function(e,t){var n=this._getLineNumberFromDOMInfo(e);if(n===-1)return null;if(n<1||n>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(n))return new o.Position(n,1);var i=this._linesCollection.getStartLineNumber(),r=this._linesCollection.getEndLineNumber();if(n<i||n>r)return null;var s=this._linesCollection.getLine(n).getColumnOfNodeOffset(n,e,t),a=this._context.model.getLineMinColumn(n);return s<a&&(s=a),new o.Position(n,s)},t.prototype._getLineNumberFromDOMInfo=function(e){for(;e&&1===e.nodeType;){if(e.className===a.ClassNames.VIEW_LINE)return parseInt(e.getAttribute("lineNumber"),10);e=e.parentElement}return-1},t.prototype.getLineWidth=function(e){var t=this._linesCollection.getStartLineNumber(),n=this._linesCollection.getEndLineNumber();return e<t||e>n?-1:this._linesCollection.getLine(e).getWidth()},t.prototype.linesVisibleRangesForRange=function(e,n){if(this.shouldRender())return null;var i=e.endLineNumber;if(e=r.Range.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange()),!e)return null;var o,s=[],a=this.domNode.domNode.getBoundingClientRect().left;n&&(o=this._context.model.convertViewPositionToModelPosition(e.startLineNumber,1).lineNumber);for(var c=this._linesCollection.getStartLineNumber(),u=this._linesCollection.getEndLineNumber(),l=e.startLineNumber;l<=e.endLineNumber;l++)if(!(l<c||l>u)){var d=l===e.startLineNumber?e.startColumn:1,p=l===e.endLineNumber?e.endColumn:this._context.model.getLineMaxColumn(l),f=this._linesCollection.getLine(l).getVisibleRangesForRange(d,p,a,this._textRangeRestingSpot);if(f&&0!==f.length){if(n&&l<i){var g=o;o=this._context.model.convertViewPositionToModelPosition(l+1,1).lineNumber,g!==o&&(f[f.length-1].width+=t.LINE_FEED_WIDTH)}s.push(new h.LineVisibleRanges(l,f))}}return 0===s.length?null:s},t.prototype.visibleRangesForRange2=function(e,t){if(this.shouldRender())return null;if(e=r.Range.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange()),!e)return null;for(var n=[],i=this.domNode.domNode.getBoundingClientRect().left,o=this._lastRenderedData.getBigNumbersDelta(),s=this._linesCollection.getStartLineNumber(),a=this._linesCollection.getEndLineNumber(),c=e.startLineNumber;c<=e.endLineNumber;c++)if(!(c<s||c>a)){var u=c===e.startLineNumber?e.startColumn:1,l=c===e.endLineNumber?e.endColumn:this._context.model.getLineMaxColumn(c),d=this._linesCollection.getLine(c).getVisibleRangesForRange(u,l,i,this._textRangeRestingSpot);if(d&&0!==d.length)for(var p=this._layoutProvider.getVerticalOffsetForLineNumber(c)-o+t,f=0,g=d.length;f<g;f++)n.push(new h.VisibleRange(p,d[f].left,d[f].width))}return 0===n.length?null:n},t.prototype._createLine=function(){return new u.ViewLine(this._context)},t.prototype._updateLineWidths=function(){for(var e=this._linesCollection.getStartLineNumber(),t=this._linesCollection.getEndLineNumber(),n=1,i=e;i<=t;i++){var r=this._linesCollection.getLine(i).getWidth();n=Math.max(n,r)}this._ensureMaxLineWidth(n)},t.prototype.prepareRender=function(){throw new Error("Not supported")},t.prototype.render=function(){throw new Error("Not supported")},t.prototype.renderText=function(t,n){if(!this.shouldRender())throw new Error("I did not ask to render!");if(e.prototype._renderLines.call(this,t),this._lastRenderedData.setBigNumbersDelta(t.bigNumbersDelta),this._lastRenderedData.setCurrentVisibleRange(t.visibleRange),this.domNode.setWidth(this._layoutProvider.getScrollWidth()),this.domNode.setHeight(Math.min(this._layoutProvider.getTotalHeight(),1e6)),n(),this._lastCursorRevealRangeHorizontallyEvent){var r=this._lastCursorRevealRangeHorizontallyEvent.range;this._lastCursorRevealRangeHorizontallyEvent=null,this.onDidRender();var o=this._computeScrollLeftToRevealRange(r),s=this._isViewportWrapping;s||this._ensureMaxLineWidth(o.maxHorizontalOffset),this._layoutProvider.setScrollPosition({scrollLeft:o.scrollLeft})}if(this._canUseTranslate3d){var a="translate3d("+-this._layoutProvider.getScrollLeft()+"px, "+t.visibleRangesDeltaTop+"px, 0px)";i.StyleMutator.setTransform(this.domNode.domNode.parentNode,a),i.StyleMutator.setTop(this.domNode.domNode.parentNode,0),i.StyleMutator.setLeft(this.domNode.domNode.parentNode,0)}else i.StyleMutator.setTransform(this.domNode.domNode.parentNode,""),i.StyleMutator.setTop(this.domNode.domNode.parentNode,t.visibleRangesDeltaTop),i.StyleMutator.setLeft(this.domNode.domNode.parentNode,-this._layoutProvider.getScrollLeft());this._asyncUpdateLineWidths.schedule()},t.prototype._ensureMaxLineWidth=function(e){var t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._layoutProvider.onMaxLineWidthChanged(this._maxLineWidth))},t.prototype._computeScrollTopToRevealRange=function(e,t,n){var i,r,o=e.top,s=e.height,a=o+s;i=this._layoutProvider.getVerticalOffsetForLineNumber(t.startLineNumber),r=this._layoutProvider.getVerticalOffsetForLineNumber(t.endLineNumber)+this._layoutProvider.heightInPxForLine(t.endLineNumber),0!==n&&4!==n||(r+=this._lineHeight);var c;if(1===n||2===n)if(2===n&&o<=i&&r<=a)c=o;else{var u=(i+r)/2;c=Math.max(0,u-s/2)}else c=this._computeMinimumScrolling(o,a,i,r,3===n,4===n);return c},t.prototype._computeScrollLeftToRevealRange=function(e){var n=0;if(e.startLineNumber!==e.endLineNumber)return{scrollLeft:0,maxHorizontalOffset:n};var i=this._layoutProvider.getCurrentViewport(),r=i.left,o=r+i.width,s=this.visibleRangesForRange2(e,0),a=Number.MAX_VALUE,c=0;if(!s)return{scrollLeft:r,maxHorizontalOffset:n};for(var u=0;u<s.length;u++){var l=s[u];l.left<a&&(a=l.left),l.left+l.width>c&&(c=l.left+l.width)}n=c,a=Math.max(0,a-t.HORIZONTAL_EXTRA_PX),c+=this._revealHorizontalRightPadding;var h=this._computeMinimumScrolling(r,o,a,c);return{scrollLeft:h,maxHorizontalOffset:n}},t.prototype._computeMinimumScrolling=function(e,t,n,i,r,o){e=0|e,t=0|t,n=0|n,i=0|i,r=!!r,o=!!o;var s=t-e,a=i-n;return a<s?r?n:o?Math.max(0,i-s):n<e?n:i>t?Math.max(0,i-s):e:n},t.LINE_FEED_WIDTH=10,t.HORIZONTAL_EXTRA_PX=30,t}(c.ViewLayer);t.ViewLines=f}),define(l[777],h([1,0,67,44,15,10,168]),function(e,t,n,i,r,o,s){"use strict";var a=function(){function e(e,t,n,i){this.top=e,this.left=t,this.width=n,this.textContent=i}return e}();t.ViewCursorRenderData=a;var c=function(){function e(e,t){this._context=e,this._isSecondary=t,this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle,this._lineHeight=this._context.configuration.editor.lineHeight,this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,this._isVisible=!0,this._domNode=n.createFastDomNode(document.createElement("div")),this._isSecondary?this._domNode.setClassName("cursor secondary"):this._domNode.setClassName("cursor"),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),
this._domNode.setLeft(0),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),s.Configuration.applyFontInfo(this._domNode,this._context.configuration.editor.fontInfo),this._domNode.setDisplay("none"),this.updatePosition(new i.Position(1,1)),this._isInEditableRange=!0,this._lastRenderedContent="",this._renderData=null}return e.prototype.getDomNode=function(){return this._domNode.domNode},e.prototype.getIsInEditableRange=function(){return this._isInEditableRange},e.prototype.getPosition=function(){return this._position},e.prototype.show=function(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)},e.prototype.hide=function(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)},e.prototype.onModelFlushed=function(){return this.updatePosition(new i.Position(1,1)),this._isInEditableRange=!0,!0},e.prototype.onCursorPositionChanged=function(e,t){return this.updatePosition(e),this._isInEditableRange=t,!0},e.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo.cursorStyle&&(this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle),e.fontInfo&&(s.Configuration.applyFontInfo(this._domNode,this._context.configuration.editor.fontInfo),this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth),!0},e.prototype._prepareRender=function(e){if(this._cursorStyle===o.TextEditorCursorStyle.Line){var t=e.visibleRangeForPosition(this._position);if(!t)return null;var n=this._isSecondary?1:2;return new a(t.top,t.left,n,"")}var i=e.linesVisibleRangesForRange(new r.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+1),!1);if(!i||0===i.length||0===i[0].ranges.length)return null;var s=i[0].ranges[0],c=e.getViewportVerticalOffsetForLineNumber(this._position.lineNumber),u=s.width<1?this._typicalHalfwidthCharacterWidth:s.width,l="";if(this._cursorStyle===o.TextEditorCursorStyle.Block){var h=this._context.model.getLineContent(this._position.lineNumber);l=h.charAt(this._position.column-1)}return new a(c,s.left,u,l)},e.prototype.prepareRender=function(e){this._renderData=this._prepareRender(e)},e.prototype.render=function(e){if(!this._renderData)return this._domNode.setDisplay("none"),null;this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent);var t=this._renderData.top+e.viewportTop-e.bigNumbersDelta;return this._domNode.setDisplay("block"),this._domNode.setTop(t),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._lineHeight),this._domNode.setHeight(this._lineHeight),{position:this._position,contentTop:t,contentLeft:this._renderData.left,height:this._lineHeight,width:2}},e.prototype.updatePosition=function(e){this._position=e,this._domNode.domNode.setAttribute("lineNumber",this._position.lineNumber.toString()),this._domNode.domNode.setAttribute("column",this._position.column.toString())},e}();t.ViewCursor=c}),define(l[778],h([1,0,10,59,135,777,67,17,48,654]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=!c.isIE9,l=function(e){function t(t){e.call(this,t),this._readOnly=this._context.configuration.editor.readOnly,this._cursorBlinking=this._context.configuration.editor.viewInfo.cursorBlinking,this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle,this._primaryCursor=new o.ViewCursor(this._context,(!1)),this._secondaryCursors=[],this._renderData=[],this._domNode=s.createFastDomNode(document.createElement("div")),this._updateDomClassName(),this._domNode.domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new a.TimeoutTimer,this._compatBlink=new a.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}return d(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._startCursorBlinkAnimation.dispose(),this._compatBlink.dispose()},t.prototype.getDomNode=function(){return this._domNode.domNode},t.prototype.onModelFlushed=function(){this._primaryCursor.onModelFlushed();for(var e=0,t=this._secondaryCursors.length;e<t;e++){var n=this._secondaryCursors[e].getDomNode();n.parentNode.removeChild(n)}return this._secondaryCursors=[],!0},t.prototype.onModelDecorationsChanged=function(e){return!0},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLineChanged=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype.onModelTokensChanged=function(e){var t=function(t){for(var n=0,i=e.ranges.length;n<i;n++)if(e.ranges[n].fromLineNumber<=t.lineNumber&&t.lineNumber<=e.ranges[n].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(var n=0;n<this._secondaryCursors.length;n++)if(t(this._secondaryCursors[n].getPosition()))return!0;return!1},t.prototype.onCursorPositionChanged=function(e){if(this._primaryCursor.onCursorPositionChanged(e.position,e.isInEditableRange),this._updateBlinking(),this._secondaryCursors.length<e.secondaryPositions.length)for(var t=e.secondaryPositions.length-this._secondaryCursors.length,n=0;n<t;n++){var i=new o.ViewCursor(this._context,(!0));this._primaryCursor.getDomNode().parentNode.insertBefore(i.getDomNode(),this._primaryCursor.getDomNode().nextSibling),this._secondaryCursors.push(i)}else if(this._secondaryCursors.length>e.secondaryPositions.length)for(var r=this._secondaryCursors.length-e.secondaryPositions.length,n=0;n<r;n++)this._secondaryCursors[0].getDomNode().parentNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1);for(var n=0;n<e.secondaryPositions.length;n++)this._secondaryCursors[n].onCursorPositionChanged(e.secondaryPositions[n],e.isInEditableRange);return!0},t.prototype.onCursorSelectionChanged=function(e){return!1},t.prototype.onConfigurationChanged=function(e){e.readOnly&&(this._readOnly=this._context.configuration.editor.readOnly),e.viewInfo.cursorBlinking&&(this._cursorBlinking=this._context.configuration.editor.viewInfo.cursorBlinking),e.viewInfo.cursorStyle&&(this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle),this._primaryCursor.onConfigurationChanged(e),this._updateBlinking(),(e.viewInfo.cursorStyle||e.viewInfo.cursorBlinking)&&this._updateDomClassName();for(var t=0,n=this._secondaryCursors.length;t<n;t++)this._secondaryCursors[t].onConfigurationChanged(e);return!0},t.prototype.onLayoutChanged=function(e){return!0},t.prototype.onScrollChanged=function(e){return!0},t.prototype.onZonesChanged=function(){return!0},t.prototype.onViewFocusChanged=function(e){return this._editorHasFocus=e,this._updateBlinking(),!1},t.prototype.getPosition=function(){return this._primaryCursor.getPosition()},t.prototype._getCursorBlinking=function(){return this._editorHasFocus?this._readOnly||!this._primaryCursor.getIsInEditableRange()?n.TextEditorCursorBlinkingStyle.Solid:this._cursorBlinking:n.TextEditorCursorBlinkingStyle.Hidden},t.prototype._updateBlinking=function(){var e=this;this._startCursorBlinkAnimation.cancel(),this._compatBlink.cancel();var i=this._getCursorBlinking(),r=i===n.TextEditorCursorBlinkingStyle.Hidden,o=i===n.TextEditorCursorBlinkingStyle.Solid;r?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),r||o||(u?this._startCursorBlinkAnimation.setIfNotSet(function(){e._blinkingEnabled=!0,e._updateDomClassName()},t.BLINK_INTERVAL):this._compatBlink.cancelAndSet(function(){return e._compatBlinkUpdate()},t.BLINK_INTERVAL))},t.prototype._updateDomClassName=function(){this._domNode.setClassName(this._getClassName())},t.prototype._getClassName=function(){var e=i.ClassNames.VIEW_CURSORS_LAYER;switch(this._cursorStyle){case n.TextEditorCursorStyle.Line:e+=" cursor-line-style";break;case n.TextEditorCursorStyle.Block:e+=" cursor-block-style";break;case n.TextEditorCursorStyle.Underline:e+=" cursor-underline-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case n.TextEditorCursorBlinkingStyle.Blink:e+=" cursor-blink";break;case n.TextEditorCursorBlinkingStyle.Smooth:e+=" cursor-smooth";break;case n.TextEditorCursorBlinkingStyle.Phase:e+=" cursor-phase";break;case n.TextEditorCursorBlinkingStyle.Expand:e+=" cursor-expand";break;case n.TextEditorCursorBlinkingStyle.Solid:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return e},t.prototype._compatBlinkUpdate=function(){this._isVisible?this._hide():this._show()},t.prototype._show=function(){this._primaryCursor.show();for(var e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0},t.prototype._hide=function(){this._primaryCursor.hide();for(var e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!");this._primaryCursor.prepareRender(e);for(var t=0,n=this._secondaryCursors.length;t<n;t++)this._secondaryCursors[t].prepareRender(e)},t.prototype.render=function(e){this._renderData=[],this._renderData.push(this._primaryCursor.render(e));for(var t=0,n=this._secondaryCursors.length;t<n;t++)this._renderData.push(this._secondaryCursors[t].render(e));this._renderData=this._renderData.filter(function(e){return!!e})},t.prototype.getLastRenderData=function(){return this._renderData},t.BLINK_INTERVAL=500,t}(r.ViewPart);t.ViewCursors=l}),define(l[319],h([1,0,14,77]),function(e,t,n,i){"use strict";function r(){var e=Object.create(null),t=n.Registry.as(i.Extensions.Configuration).getConfigurationProperties();for(var r in t){var o=t[r].default;s(e,r,o,function(e){return console.error("Conflict in default settings: "+e)})}return e}function o(e,t){var n=Object.create(null);for(var i in e)s(n,i,e[i],t);return n}function s(e,t,n,i){for(var r=t.split("."),o=r.pop(),s=e,a=0;a<r.length;a++){var c=r[a],u=s[c];switch(typeof u){case"undefined":u=s[c]=Object.create(null);break;case"object":break;default:return void i("Ignoring "+t+" as "+r.slice(0,a+1).join(".")+" is "+JSON.stringify(u))}s=u}"object"==typeof s?s[o]=n:i("Ignoring "+t+" as "+r.join(".")+" is "+JSON.stringify(s))}function a(){var e=n.Registry.as(i.Extensions.Configuration).getConfigurationProperties();return Object.keys(e)}t.getDefaultValues=r,t.toValuesTree=o,t.getConfigurationKeys=a}),define(l[780],h([1,0,2,30,319,325,14,77,5,25,11,51]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";var d=function(){function e(e){var t=this;this.disposables=[],this._onDidUpdateConfiguration=new l.Emitter,this.disposables.push(this._onDidUpdateConfiguration),this.rawConfig=new o.ConfigWatcher(e.appSettingsPath,{changeBufferDelay:300,defaultConfig:Object.create(null)}),this.disposables.push(c.toDisposable(function(){return t.rawConfig.dispose()})),this.disposables.push(this.rawConfig.onDidUpdateConfiguration(function(){return t.onConfigurationChange(u.ConfigurationSource.User)})),this.disposables.push(s.Registry.as(a.Extensions.Configuration).onDidRegisterConfiguration(function(){return t.onConfigurationChange(u.ConfigurationSource.Default)}))}return e.prototype.onConfigurationChange=function(e){this.cache=void 0;var t=this.getCache();this._onDidUpdateConfiguration.fire({config:this.getConfiguration(),source:e,sourceConfig:e===u.ConfigurationSource.Default?t.defaults:t.user})},Object.defineProperty(e.prototype,"onDidUpdateConfiguration",{get:function(){return this._onDidUpdateConfiguration.event},enumerable:!0,configurable:!0}),e.prototype.reloadConfiguration=function(e){var t=this;return new n.TPromise(function(n){t.rawConfig.reload(function(){t.cache=void 0,n(t.getConfiguration(e))})})},e.prototype.getConfiguration=function(e){var t=this.getCache();return e?t.consolidated[e]:t.consolidated},e.prototype.getCache=function(){return this.cache||(this.cache=this.consolidateConfigurations())},e.prototype.lookup=function(e){var t=this.getCache();return{default:i.clone(u.getConfigurationValue(t.defaults,e)),user:i.clone(u.getConfigurationValue(t.user,e)),value:i.clone(u.getConfigurationValue(t.consolidated,e))}},e.prototype.keys=function(){return{default:r.getConfigurationKeys(),user:Object.keys(this.rawConfig.getConfig())}},e.prototype.consolidateConfigurations=function(){var e=r.getDefaultValues(),t=r.toValuesTree(this.rawConfig.getConfig(),function(e){return console.error("Conflict in user settings: "+e)}),n=i.mixin(i.clone(e),t,!0);return{defaults:e,user:t,consolidated:n}},e.prototype.dispose=function(){this.disposables=c.dispose(this.disposables)},e=g([v(0,h.IEnvironmentService)],e)}();t.ConfigurationService=d}),define(l[781],h([1,0,441,32,2,75,104]),function(e,t,n,i,r,o,s){"use strict";var a=Object.hasOwnProperty,c=function(){function e(e){this.activationFailed=e}return e}();t.ActivatedExtension=c;var u=function(){function e(e){var t=this;e?(this._isReady=!0,this._onReady=r.TPromise.as(!0),this._onReadyC=function(e){}):(this._isReady=!1,this._onReady=new r.TPromise(function(e,n,i){t._onReadyC=e},function(){console.warn("You should really not try to cancel this ready promise!")})),this._activatingExtensions={},this._activatedExtensions={},this._registry=new l}return e.prototype._triggerOnReady=function(){this._isReady=!0,this._onReadyC(!0)},e.prototype.onReady=function(){return this._onReady},e.prototype.readExtensionPointContributions=function(e){var t=this;return this.onReady().then(function(){for(var n=t._registry.getAllExtensionDescriptions(),i=[],r=0,s=0,c=n.length;s<c;s++){var u=n[s];u.contributes&&a.call(u.contributes,e.name)&&(i[r++]=new o.ExtensionPointContribution(u,u.contributes[e.name]))}return i})},e.prototype.getExtensions=function(){var e=this;return this.onReady().then(function(){return e._registry.getAllExtensionDescriptions()})},e.prototype.getExtensionsStatus=function(){return null},e.prototype.isActivated=function(e){return a.call(this._activatedExtensions,e)},e.prototype.activateByEvent=function(e){var t=this;return this._isReady?this._activateByEvent(e):this._onReady.then(function(){return t._activateByEvent(e)})},e.prototype._activateByEvent=function(e){s.onWillActivate.fire(e);var t=this._registry.getExtensionDescriptionsForActivationEvent(e);return this._activateExtensions(t,0)},e.prototype.activateById=function(e){var t=this;return this._onReady.then(function(){var n=t._registry.getExtensionDescription(e);if(!n)throw new Error("Extension `"+e+"` is not known");return t._activateExtensions([n],0)})},e.prototype._handleActivateRequest=function(e,t,r){for(var o="undefined"==typeof e.extensionDependencies?[]:e.extensionDependencies,s=!0,c=0,u=o.length;c<u;c++){var l=o[c],h=this._registry.getExtensionDescription(l);if(!h)return this._showMessage(i.default.Error,n.localize(0,null,l,e.id)),void(this._activatedExtensions[e.id]=this._createFailedExtension());if(a.call(this._activatedExtensions,l)){var d=this._activatedExtensions[l];if(d.activationFailed)return this._showMessage(i.default.Error,n.localize(1,null,l,e.id)),void(this._activatedExtensions[e.id]=this._createFailedExtension())}else s=!1,t[l]=h}s?t[e.id]=e:r.push(e)},e.prototype._activateExtensions=function(e,t){var o=this;if(0===e.length)return r.TPromise.as(void 0);if(e=e.filter(function(e){return!a.call(o._activatedExtensions,e.id)}),0===e.length)return r.TPromise.as(void 0);if(t>10){for(var s=0,c=e.length;s<c;s++)this._showMessage(i.default.Error,n.localize(2,null,e[s].id)),this._activatedExtensions[e[s].id]=this._createFailedExtension();return r.TPromise.as(void 0)}for(var u=Object.create(null),l=[],s=0,c=e.length;s<c;s++)this._handleActivateRequest(e[s],u,l);for(var s=0,c=l.length;s<c;s++)u[l[s].id]&&delete u[l[s].id];var h=Object.keys(u).map(function(e){return u[e]});return 0===l.length?r.TPromise.join(h.map(function(e){return o._activateExtension(e)})).then(function(e){}):this._activateExtensions(h,t+1).then(function(e){return o._activateExtensions(l,t+1)})},e.prototype._activateExtension=function(e){var t=this;return a.call(this._activatedExtensions,e.id)?r.TPromise.as(void 0):a.call(this._activatingExtensions,e.id)?this._activatingExtensions[e.id]:(this._activatingExtensions[e.id]=this._actualActivateExtension(e).then(null,function(r){return t._showMessage(i.default.Error,n.localize(3,null,e.id,r.message)),console.error("Activating extension `"+e.id+"` failed: ",r.message),console.log("Here is the error stack: ",r.stack),t._createFailedExtension()}).then(function(n){t._activatedExtensions[e.id]=n,delete t._activatingExtensions[e.id]}),this._activatingExtensions[e.id])},e}();t.AbstractExtensionService=u;var l=function(){function e(){this._extensionsMap={},this._extensionsArr=[],this._activationMap={}}return e.prototype.registerExtensions=function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];if(a.call(this._extensionsMap,i.id))console.error("Extension `"+i.id+"` is already registered");else if(this._extensionsMap[i.id]=i,this._extensionsArr.push(i),Array.isArray(i.activationEvents))for(var r=0,o=i.activationEvents.length;r<o;r++){var s=i.activationEvents[r];this._activationMap[s]=this._activationMap[s]||[],this._activationMap[s].push(i)}}},e.prototype.getExtensionDescriptionsForActivationEvent=function(e){return a.call(this._activationMap,e)?this._activationMap[e].slice(0):[]},e.prototype.getAllExtensionDescriptions=function(){return this._extensionsArr.slice(0)},e.prototype.getExtensionDescription=function(e){return a.call(this._extensionsMap,e)?this._extensionsMap[e]:null},e}();t.ExtensionDescriptionRegistry=l}),define(l[782],h([1,0,445,104,16,12,20]),function(e,t,n,i,r,o,s){"use strict";var a=i.ExtensionsRegistry.registerExtensionPoint("jsonValidation",[],{description:n.localize(0,null),type:"array",defaultSnippets:[{body:[{fileMatch:"${1:file.json}",url:"${2:url}"}]}],items:{type:"object",defaultSnippets:[{body:{fileMatch:"${1:file.json}",url:"${2:url}"}}],properties:{fileMatch:{type:"string",description:n.localize(1,null)},url:{description:n.localize(2,null),type:"string"}}}}),c=function(){function e(){a.setHandler(function(e){for(var t=0;t<e.length;t++){var i=e[t].value,a=e[t].collector,c=e[t].description.extensionFolderPath;if(!i||!Array.isArray(i))return void a.error(n.localize(3,null));i.forEach(function(e){if("string"!=typeof e.fileMatch)return void a.error(n.localize(4,null));var t=e.url;if("string"!=typeof e.url)return void a.error(n.localize(5,null));if(o.startsWith(t,"./"))try{t=r.default.file(s.normalize(s.join(c,t))).toString()}catch(e){a.error(n.localize(6,null,e.message))}else if(!o.startsWith(t,"https:/")&&o.startsWith(t,"https:/"))return void a.error(n.localize(7,null))})}})}return e}();t.JSONValidationExtensionPoint=c}),define(l[84],h([1,0,52,13,34,14]),function(e,t,n,i,r,o){"use strict";var s=function(){function e(){this.WEIGHT={editorCore:function(e){return void 0===e&&(e=0),0+e},editorContrib:function(e){return void 0===e&&(e=0),100+e},workbenchContrib:function(e){return void 0===e&&(e=0),200+e},builtinExtension:function(e){return void 0===e&&(e=0),300+e},externalExtension:function(e){return void 0===e&&(e=0),400+e}},this._keybindings=[]}return e.bindToCurrentPlatform=function(e){if(i.isWindows){if(e&&e.win)return e.win}else if(i.isMacintosh){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e},e.prototype.registerKeybindingRule=function(t){var n=this,i=e.bindToCurrentPlatform(t);i&&i.primary&&this.registerDefaultKeybinding(i.primary,t.id,t.weight,0,t.when),i&&Array.isArray(i.secondary)&&i.secondary.forEach(function(e,i){return n.registerDefaultKeybinding(e,t.id,t.weight,-i-1,t.when)})},e.prototype.registerCommandAndKeybindingRule=function(e){this.registerKeybindingRule(e),r.CommandsRegistry.registerCommand(e.id,e)},e.prototype.registerDefaultKeybinding=function(e,t,r,o,s){i.isWindows&&n.BinaryKeybindings.hasCtrlCmd(e)&&!n.BinaryKeybindings.hasShift(e)&&n.BinaryKeybindings.hasAlt(e)&&!n.BinaryKeybindings.hasWinCtrl(e)&&/^[A-Z0-9\[\]\|\;\'\,\.\/\`]$/.test(n.KeyCodeUtils.toString(n.BinaryKeybindings.extractKeyCode(e)))&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t),this._keybindings.push({keybinding:e,command:t,commandArgs:null,when:s,weight1:r,weight2:o})},e.prototype.getDefaultKeybindings=function(){return this._keybindings},e}();t.KeybindingsRegistry=new s,t.Extensions={EditorModes:"platform.keybindingsRegistry"},o.Registry.add(t.Extensions.EditorModes,t.KeybindingsRegistry)}),define(l[323],h([1,0,66,23,84,10,62,34]),function(e,t,n,i,r,o,s,a){"use strict";function c(e,t,n){var i=t.get(s.ICodeEditorService).getFocusedCodeEditor();return i?i:(n&&console.warn("Cannot execute "+e+" because no code editor is focused."),null)}function u(e,t,n){var i=c(e,t,!0);i&&n(i)}function l(e){var t=e.get(n.IEditorService),i=t.getActiveEditor&&t.getActiveEditor();return s.getCodeEditor(i)}function h(e,t,n){u(e,t,function(t){t.trigger("keyboard",e,n)})}function p(e){r.KeybindingsRegistry.registerCommandAndKeybindingRule(e.toCommandAndKeybindingRule(S))}function f(e,t){a.CommandsRegistry.registerCommand(e,{handler:h.bind(null,e),description:t})}function g(e,t){a.CommandsRegistry.registerCommand(e,t),a.CommandsRegistry.registerCommand("default:"+e,t)}function v(e){g(e,h.bind(null,e))}var m=o.Handler,y=o.CommandDescription,b=o.EditorContextKeys,S=r.KeybindingsRegistry.WEIGHT.editorCore(),E=function(){function e(e){this.id=e.id,this.precondition=e.precondition,this.kbOpts=e.kbOpts,this.description=e.description}return e.prototype.toCommandAndKeybindingRule=function(e){var t=this,n=this.kbOpts||{primary:0},r=n.kbExpr;return this.precondition&&(r=r?i.ContextKeyExpr.and(r,this.precondition):this.precondition),{id:this.id,handler:function(e,n){return t.runCommand(e,n)},weight:n.weight||e,when:r,primary:n.primary,secondary:n.secondary,win:n.win,linux:n.linux,mac:n.mac,description:this.description}},e}();t.Command=E;var _=function(e){function t(t){e.call(this,t)}return d(t,e),t.bindToContribution=function(e){return function(t){function n(e){t.call(this,e),this._callback=e.handler}return d(n,t),n.prototype.runEditorCommand=function(t,n,i){var r=e(n);r&&this._callback(e(n))},n}(t)},t.prototype.runCommand=function(e,t){var n=this,r=c(this.id,e,!1);if(r||(r=l(e)),r)return r.invokeWithinContext(function(e){var o=e.get(i.IContextKeyService);if(o.contextMatchesRules(n.precondition))return n.runEditorCommand(e,r,t)})},t}(E);t.EditorCommand=_,t.findFocusedEditor=c;var C=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.runCommand=function(e,t){h(this.id,e,t)},t}(E),w=function(e){function t(t,n){void 0===n&&(n=null),e.call(this,{id:t,precondition:n})}return d(t,e),t}(C);v(m.Type),v(m.ReplacePreviousChar),v(m.Paste),v(m.Cut),g(m.CompositionStart,function(){}),g(m.CompositionEnd,function(){});var I=function(e){function t(n,i,r,o){void 0===o&&(o=null),e.call(this,{id:n,precondition:o,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:t.getWordNavigationKB(i,r),mac:{primary:t.getMacWordNavigationKB(i,r)}}})}return d(t,e),t.getMacWordNavigationKB=function(e,t){return e?24576|t:8192|t},t.getWordNavigationKB=function(e,t){return e?49152|t:32768|t},t}(C);f(m.CursorMove,y.CursorMove),p(new C({id:m.CursorLeft,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:15,mac:{primary:15,secondary:[4128]}}})),p(new C({id:m.CursorLeftSelect,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:16399}})),p(new C({id:m.CursorRight,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:17,mac:{primary:17,secondary:[4132]}}})),p(new C({id:m.CursorRightSelect,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:16401}})),p(new C({id:m.CursorUp,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:16,mac:{primary:16,secondary:[4142]}}})),p(new C({id:m.CursorUpSelect,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:16400,secondary:[I.getWordNavigationKB(!0,16)],mac:{primary:16400},linux:{primary:16400}}})),p(new C({id:m.CursorDown,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:18,mac:{primary:18,secondary:[4140]}}})),p(new C({id:m.CursorDownSelect,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:16402,secondary:[I.getWordNavigationKB(!0,18)],mac:{primary:16402},linux:{primary:16402}}})),p(new C({id:m.CursorPageUp,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:11}})),p(new C({id:m.CursorPageUpSelect,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:16395}})),p(new C({id:m.CursorPageDown,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:12}})),p(new C({id:m.CursorPageDownSelect,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:16396}})),p(new C({id:m.CursorHome,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:14,mac:{primary:14,secondary:[32783,4127]}}})),p(new C({id:m.CursorHomeSelect,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:16398,mac:{primary:16398,secondary:[49167]}}})),p(new C({id:m.CursorEnd,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:13,mac:{primary:13,secondary:[32785,4131]}}})),p(new C({id:m.CursorEndSelect,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:16397,mac:{primary:16397,secondary:[49169]}}})),p(new C({id:m.ExpandLineSelection,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:32807}})),f(m.EditorScroll,y.EditorScroll),p(new C({id:m.ScrollLineUp,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:32784,mac:{primary:4107}}})),p(new C({id:m.ScrollLineDown,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:32786,mac:{primary:4108}}})),p(new C({id:m.ScrollPageUp,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:32779,win:{primary:8203},linux:{primary:8203}}})),p(new C({id:m.ScrollPageDown,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:32780,win:{primary:8204},linux:{primary:8204}}})),f(m.RevealLine,y.RevealLine),p(new C({id:m.CursorColumnSelectLeft,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:57359,linux:{primary:0}}})),p(new C({id:m.CursorColumnSelectRight,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:57361,linux:{primary:0}}})),p(new C({id:m.CursorColumnSelectUp,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:57360,linux:{primary:0}}})),p(new C({id:m.CursorColumnSelectPageUp,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:57355,linux:{primary:0}}})),p(new C({id:m.CursorColumnSelectDown,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:57362,linux:{primary:0}}})),p(new C({id:m.CursorColumnSelectPageDown,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:57356,linux:{primary:0}}})),p(new C({id:m.Tab,precondition:b.Writable,kbOpts:{weight:S,kbExpr:i.ContextKeyExpr.and(b.TextFocus,b.TabDoesNotMoveFocus),primary:2}})),p(new C({id:m.Outdent,precondition:b.Writable,kbOpts:{weight:S,kbExpr:i.ContextKeyExpr.and(b.TextFocus,b.TabDoesNotMoveFocus),primary:16386}})),p(new C({id:m.DeleteLeft,precondition:b.Writable,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:1,secondary:[16385],mac:{primary:1,secondary:[16385,4134,4097]}}})),p(new C({id:m.DeleteRight,precondition:b.Writable,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:20,mac:{primary:20,secondary:[4130,4116]}}})),p(new C({id:m.DeleteAllRight,precondition:b.Writable,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:null,mac:{primary:4137,secondary:[32788]}}})),p(new I(m.CursorWordStartLeft,(!1),15)),p(new w(m.CursorWordEndLeft)),p(new w(m.CursorWordLeft)),p(new I(m.CursorWordStartLeftSelect,(!0),15)),p(new w(m.CursorWordEndLeftSelect)),p(new w(m.CursorWordLeftSelect)),p(new I(m.CursorWordEndRight,(!1),17)),p(new w(m.CursorWordStartRight)),p(new w(m.CursorWordRight)),p(new I(m.CursorWordEndRightSelect,(!0),17)),p(new w(m.CursorWordStartRightSelect)),p(new w(m.CursorWordRightSelect)),p(new I(m.DeleteWordLeft,(!1),1,b.Writable)),p(new w(m.DeleteWordStartLeft,b.Writable)),p(new w(m.DeleteWordEndLeft,b.Writable)),p(new I(m.DeleteWordRight,(!1),20,b.Writable)),p(new w(m.DeleteWordStartRight,b.Writable)),p(new w(m.DeleteWordEndRight,b.Writable)),p(new C({id:m.CancelSelection,precondition:b.HasNonEmptySelection,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:9,secondary:[16393]}})),p(new C({id:m.RemoveSecondaryCursors,precondition:b.HasMultipleSelections,kbOpts:{weight:S+1,kbExpr:b.TextFocus,primary:9,secondary:[16393]}})),p(new C({id:m.CursorTop,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:32782,mac:{primary:32784}}})),p(new C({id:m.CursorTopSelect,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:49166,mac:{primary:49168}}})),p(new C({id:m.CursorBottom,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:32781,mac:{primary:32786}}})),p(new C({id:m.CursorBottomSelect,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:49165,mac:{primary:49170}}})),p(new C({id:m.LineBreakInsert,precondition:b.Writable,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:null,mac:{primary:4141}}})),p(new C({id:m.Undo,precondition:b.Writable,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:32824}})),p(new C({id:m.CursorUndo,precondition:null,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:32819}})),p(new C({id:m.Redo,precondition:b.Writable,kbOpts:{weight:S,kbExpr:b.TextFocus,primary:32823,secondary:[49208],mac:{primary:49208}}}));var T=function(e){function t(){e.call(this,{id:"editor.action.selectAll",precondition:null,kbOpts:{weight:S,kbExpr:null,primary:32799}})}return d(t,e),t.prototype.runCommand=function(e,t){var n=o.Handler.SelectAll,i=c(n,e,!1);if(i&&i.isFocused())return void i.trigger("keyboard",n,t);var r=document.activeElement;if(r&&["input","textarea"].indexOf(r.tagName.toLowerCase())>=0)return void r.select();var s=l(e);return s?(s.focus(),void s.trigger("keyboard",n,t)):void 0},t}(E);p(new T)}),define(l[61],h([1,0,70,16]),function(e,t,n,i){"use strict";var r=n.dirname(i.default.parse(e.toUrl("")).fsPath),o=n.join(r,"product.json"),s=e.__$__nodeRequire(o);process.env.VSCODE_DEV&&(s.nameShort+=" Dev",s.nameLong+=" Dev",s.dataFolderName+="-dev"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=s}),define(l[786],h([1,0,182,910,107,70,16,375,132,61]),function(e,t,n,i,r,o,s,a,c,u){"use strict";function l(){var e;return e="win32"===process.platform?process.env.USERNAME:process.env.USER,e?n.createHash("sha256").update(e).digest("hex").substr(0,6):""}function h(){var e=c.default.name,t=l();return t&&(e+="-"+t),"win32"===process.platform?"\\\\.\\pipe\\"+e:o.join(r.tmpdir(),e)}function d(){return"win32"===process.platform?"-sock":".sock"}function p(e,t){var n=e.debugBrkPluginHost||e.debugPluginHost,i=Number(n)||(t?null:5870),r=!!i&&Boolean(!!e.debugBrkPluginHost);return{port:i,break:r}}function f(e,t){var n=e["user-data-dir"];if(n){var r=o.resolve(n);return o.normalize(n)===r?r:o.resolve(t.env.VSCODE_CWD||t.cwd(),n)}return o.resolve(i.getDefaultUserDataPath(t.platform))}var v=function(){function t(e,t){this._args=e,this._execPath=t}return Object.defineProperty(t.prototype,"args",{get:function(){return this._args},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appRoot",{get:function(){return o.dirname(s.default.parse(e.toUrl("")).fsPath)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"execPath",{get:function(){return this._execPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userHome",{get:function(){return r.homedir()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userProductHome",{get:function(){return o.join(this.userHome,u.default.dataFolderName)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userDataPath",{get:function(){return f(this._args,process)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appSettingsHome",{get:function(){return o.join(this.userDataPath,"User");
},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appSettingsPath",{get:function(){return o.join(this.appSettingsHome,"settings.json")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appKeybindingsPath",{get:function(){return o.join(this.appSettingsHome,"keybindings.json")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isExtensionDevelopment",{get:function(){return!!this._args.extensionDevelopmentPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backupHome",{get:function(){return o.join(this.userDataPath,"Backups")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backupWorkspacesPath",{get:function(){return o.join(this.backupHome,"workspaces.json")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extensionsPath",{get:function(){return o.normalize(this._args["extensions-dir"]||o.join(this.userProductHome,"extensions"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extensionDevelopmentPath",{get:function(){return this._args.extensionDevelopmentPath?o.normalize(this._args.extensionDevelopmentPath):this._args.extensionDevelopmentPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extensionTestsPath",{get:function(){return this._args.extensionTestsPath?o.normalize(this._args.extensionTestsPath):this._args.extensionTestsPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disableExtensions",{get:function(){return this._args["disable-extensions"]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"debugExtensionHost",{get:function(){return p(this._args,this.isBuilt)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBuilt",{get:function(){return!process.env.VSCODE_DEV},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verbose",{get:function(){return this._args.verbose},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wait",{get:function(){return this._args.wait},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"performance",{get:function(){return this._args.performance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logExtensionHostCommunication",{get:function(){return this._args.logExtensionHostCommunication},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mainIPCHandle",{get:function(){return h()+"-"+c.default.version+d()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sharedIPCHandle",{get:function(){return h()+"-"+c.default.version+"-shared"+d()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodeCachedDataDir",{get:function(){return o.join(this.userDataPath,"CachedData",c.default.version)},enumerable:!0,configurable:!0}),g([a.memoize],t.prototype,"appRoot",null),g([a.memoize],t.prototype,"userHome",null),g([a.memoize],t.prototype,"userProductHome",null),g([a.memoize],t.prototype,"userDataPath",null),g([a.memoize],t.prototype,"appSettingsHome",null),g([a.memoize],t.prototype,"appSettingsPath",null),g([a.memoize],t.prototype,"appKeybindingsPath",null),g([a.memoize],t.prototype,"isExtensionDevelopment",null),g([a.memoize],t.prototype,"backupHome",null),g([a.memoize],t.prototype,"backupWorkspacesPath",null),g([a.memoize],t.prototype,"extensionsPath",null),g([a.memoize],t.prototype,"extensionDevelopmentPath",null),g([a.memoize],t.prototype,"extensionTestsPath",null),g([a.memoize],t.prototype,"debugExtensionHost",null),g([a.memoize],t.prototype,"mainIPCHandle",null),g([a.memoize],t.prototype,"sharedIPCHandle",null),g([a.memoize],t.prototype,"nodeCachedDataDir",null),t}();t.EnvironmentService=v,t.parseExtensionHostPort=p,t.parseUserDataDir=f}),define(l[123],h([1,0,6]),function(e,t,n){"use strict";t.IProgressService=n.createDecorator("progressService")}),define(l[199],h([1,0,449,6,77,14]),function(e,t,n,i,r,o){"use strict";t.IRequestService=i.createDecorator("requestService2"),o.Registry.as(r.Extensions.Configuration).registerConfiguration({id:"http",order:15,title:n.localize(0,null),type:"object",properties:{"http.proxy":{type:"string",pattern:"^https?://([^:]*(:[^@]*)?@)?([^:]+)(:\\d+)?/?$|^$",description:n.localize(1,null)},"http.proxyStrictSSL":{type:"boolean",default:!0,description:n.localize(2,null)},"http.proxyAuthorization":{type:["null","string"],default:null,description:n.localize(3,null)}}})}),define(l[330],h([1,0,12]),function(e,t,n){"use strict";var i=function(){function e(e,t,i){this._hasParameters=!1,this._replacePattern=e;var r,o;"boolean"==typeof t?o=t:(r=t,o=r.isRegExp),o&&this.parseReplaceString(e),this._regExp=i?i:n.createRegExp(r.pattern,r.isRegExp,{matchCase:r.isCaseSensitive,wholeWord:r.isWordMatch,multiline:r.isMultiline,global:!1}),this._regExp.global&&(this._regExp=n.createRegExp(this._regExp.source,!0,{matchCase:!this._regExp.ignoreCase,wholeWord:!1,multiline:this._regExp.multiline,global:!1}))}return Object.defineProperty(e.prototype,"hasParameters",{get:function(){return this._hasParameters},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pattern",{get:function(){return this._replacePattern},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"regExp",{get:function(){return this._regExp},enumerable:!0,configurable:!0}),e.prototype.getReplaceString=function(e){this._regExp.lastIndex=0;var t=this._regExp.exec(e);if(t){if(this.hasParameters){if(t[0]===e)return e.replace(this._regExp,this.pattern);var n=e.replace(this._regExp,this.pattern);return n.substr(t.index,t[0].length-(e.length-n.length))}return this.pattern}return null},e.prototype.parseReplaceString=function(e){if(e&&0!==e.length){for(var t=0,n="",i=0,r=e.length;i<r;i++){var o=e.charCodeAt(i);if(92===o){if(i++,i>=r)break;var s=e.charCodeAt(i),a=null;switch(s){case 92:a="\\";break;case 110:a="\n";break;case 116:a="\t"}a&&(n+=e.substring(t,i-1)+a,t=i+1)}if(36===o){if(i++,i>=r)break;var s=e.charCodeAt(i),a=null;switch(s){case 48:a="$&",this._hasParameters=!0;break;case 96:case 39:this._hasParameters=!0;break;default:if(!this.between(s,49,57))break;if(i===e.length-1){this._hasParameters=!0;break}var c=e.charCodeAt(++i);if(!this.between(c,48,57)){this._hasParameters=!0,--i;break}if(i===e.length-1){this._hasParameters=!0;break}if(c=e.charCodeAt(++i),!this.between(c,48,57)){this._hasParameters=!0,--i;break}}a&&(n+=e.substring(t,i-1)+a,t=i+1)}}0!==t&&(this._replacePattern=n+e.substring(t))}},e.prototype.between=function(e,t,n){return t<=e&&e<=n},e}();t.ReplacePattern=i}),define(l[244],h([1,0,17,5,330,164,44,15,10,166,721,967,46]),function(e,t,n,i,r,o,s,a,c,u,l,h,d){"use strict";t.ToggleCaseSensitiveKeybinding={primary:8225,mac:{primary:40993}},t.ToggleWholeWordKeybinding={primary:8245,mac:{primary:41013}},t.ToggleRegexKeybinding={primary:8240,mac:{primary:41008}},t.ShowPreviousFindTermKeybinding={primary:8208},t.ShowNextFindTermKeybinding={primary:8210},t.FIND_IDS={StartFindAction:"actions.find",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",AddSelectionToNextFindMatchAction:"editor.action.addSelectionToNextFindMatch",AddSelectionToPreviousFindMatchAction:"editor.action.addSelectionToPreviousFindMatch",MoveSelectionToNextFindMatchAction:"editor.action.moveSelectionToNextFindMatch",MoveSelectionToPreviousFindMatchAction:"editor.action.moveSelectionToPreviousFindMatch",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches",ShowPreviousFindTermAction:"find.history.showPrevious",ShowNextFindTermAction:"find.history.showNext"},t.MATCHES_LIMIT=999;var p=function(){function e(e,t){var i=this;this._editor=e,this._state=t,this._toDispose=[],this._isDisposed=!1,this._decorations=new l.FindDecorations(e),this._toDispose.push(this._decorations),this._updateDecorationsScheduler=new n.RunOnceScheduler(function(){return i.research(!1)},100),this._toDispose.push(this._updateDecorationsScheduler),this._toDispose.push(this._editor.onDidChangeCursorPosition(function(e){e.reason!==c.CursorChangeReason.Explicit&&e.reason!==c.CursorChangeReason.Undo&&e.reason!==c.CursorChangeReason.Redo||i._decorations.setStartPosition(i._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.push(this._editor.onDidChangeModelRawContent(function(e){i._ignoreModelContentChanged||(e.changeType===c.EventType.ModelRawContentChangedFlush&&i._decorations.reset(),i._decorations.setStartPosition(i._editor.getPosition()),i._updateDecorationsScheduler.schedule())})),this._toDispose.push(this._state.addChangeListener(function(e){return i._onStateChanged(e)})),this.research(!1,this._state.searchScope)}return e.prototype.dispose=function(){this._isDisposed=!0,this._toDispose=i.dispose(this._toDispose)},e.prototype._onStateChanged=function(e){this._isDisposed||(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))},e._getSearchRange=function(e,t,n){var i;return i=t?e.getEditableRange():e.getFullModelRange(),n&&(i=i.intersectRanges(n)),i},e.prototype.research=function(e,n){var i=null;i="undefined"!=typeof n?n:this._decorations.getFindScope(),null!==i&&(i=new a.Range(i.startLineNumber,1,i.endLineNumber,this._editor.getModel().getLineMaxColumn(i.endLineNumber)));var r=this._findMatches(i,t.MATCHES_LIMIT);this._decorations.set(r,i),this._state.changeMatchInfo(this._decorations.getCurrentMatchesPosition(this._editor.getSelection()),this._decorations.getCount(),void 0),e&&this._moveToNextMatch(this._decorations.getStartPosition())},e.prototype._hasMatches=function(){return this._state.matchesCount>0},e.prototype._cannotFind=function(){if(!this._hasMatches()){var e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e),!0}return!1},e.prototype._setCurrentFindMatch=function(e){var t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e)},e.prototype._moveToPrevMatch=function(t,n){if(void 0===n&&(n=!1),!this._cannotFind()){var i=this._decorations.getFindScope(),r=e._getSearchRange(this._editor.getModel(),this._state.isReplaceRevealed,i);r.getEndPosition().isBefore(t)&&(t=r.getEndPosition()),t.isBefore(r.getStartPosition())&&(t=r.getEndPosition());var o=t.lineNumber,a=t.column,c=this._editor.getModel(),u=new s.Position(o,a),l=c.findPreviousMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord);if(l&&l.isEmpty()&&l.getStartPosition().equals(u)){var h=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);h||1===a?(1===o?o=c.getLineCount():o--,a=c.getLineMaxColumn(o)):a--,u=new s.Position(o,a),l=c.findPreviousMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord)}if(l)return n||r.containsRange(l)?void this._setCurrentFindMatch(l):this._moveToPrevMatch(l.getStartPosition(),!0)}},e.prototype.moveToPrevMatch=function(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())},e.prototype._moveToNextMatch=function(e){var t=a.Range.isIRange(e)?e:s.Position.isIPosition(e)?this._getNextMatch(e):null;t&&this._setCurrentFindMatch(t)},e.prototype._getNextMatch=function(t,n){if(void 0===n&&(n=!1),this._cannotFind())return null;var i=this._decorations.getFindScope(),r=e._getSearchRange(this._editor.getModel(),this._state.isReplaceRevealed,i);r.getEndPosition().isBefore(t)&&(t=r.getStartPosition()),t.isBefore(r.getStartPosition())&&(t=r.getStartPosition());var o=t.lineNumber,a=t.column,c=this._editor.getModel(),u=new s.Position(o,a),l=c.findNextMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord);if(l&&l.isEmpty()&&l.getStartPosition().equals(u)){var h=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);h||a===c.getLineMaxColumn(o)?(o===c.getLineCount()?o=1:o++,a=1):a++,u=new s.Position(o,a),l=c.findNextMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord)}return l?n||r.containsRange(l)?l:this._getNextMatch(l.getEndPosition(),!0):void 0},e.prototype.moveToNextMatch=function(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())},e.prototype.getReplaceString=function(e){if(this._state.isRegex){var t=u.TextModel.parseSearchRequest(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord),n=new r.ReplacePattern(this._state.replaceString,(!0),t),i=this._editor.getModel(),o=i.getValueInRange(e),s=n.getReplaceString(o);return null===s&&(s=n.getReplaceString(this._getTextToMatch(e,t))),s}return this._state.replaceString},e.prototype._getTextToMatch=function(e,t){var n=this._editor.getModel();if(t.multiline){var i=n.getLineCount();return n.getValueInRange(new a.Range(e.startLineNumber,e.startColumn,i,n.getLineMaxColumn(i)))}return n.getValueInRange(new a.Range(e.startLineNumber,e.startColumn,e.endLineNumber,n.getLineMaxColumn(e.endLineNumber)))},e.prototype.replace=function(){if(this._hasMatches()){var e=this._editor.getSelection(),t=this._getNextMatch(e.getStartPosition());if(t)if(e.equalsRange(t)){var n=this.getReplaceString(e),i=new o.ReplaceCommand(e,n);this._executeEditorCommand("replace",i),this._decorations.setStartPosition(new s.Position(e.startLineNumber,e.startColumn+n.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._moveToNextMatch(t)}},e.prototype._findMatches=function(t,n){var i=e._getSearchRange(this._editor.getModel(),this._state.isReplaceRevealed,t);return this._editor.getModel().findMatches(this._state.searchString,i,this._state.isRegex,this._state.matchCase,this._state.wholeWord,n)},e.prototype.replaceAll=function(){if(this._hasMatches()){for(var e=this._decorations.getFindScope(),t=this._findMatches(e,Number.MAX_VALUE),n=[],i=0,r=t.length;i<r;i++)n.push(this.getReplaceString(t[i]));var o=new h.ReplaceAllCommand(this._editor.getSelection(),t,n);this._executeEditorCommand("replaceAll",o),this.research(!1)}},e.prototype.selectAllMatches=function(){if(this._hasMatches()){for(var e=this._decorations.getFindScope(),t=this._findMatches(e,Number.MAX_VALUE),n=t.map(function(e){return new d.Selection(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)}),i=this._editor.getSelection(),r=0,o=n.length;r<o;r++){var s=n[r];if(s.equalsRange(i)){n=[i].concat(n.slice(0,r)).concat(n.slice(r+1));break}}this._editor.setSelections(n)}},e.prototype._executeEditorCommand=function(e,t){try{this._ignoreModelContentChanged=!0,this._editor.executeCommand(e,t)}finally{this._ignoreModelContentChanged=!1}},e}();t.FindModelBoundToEditorModel=p}),define(l[144],h([1,0,6]),function(e,t,n){"use strict";t.ID="searchService",t.ISearchService=n.createDecorator(t.ID),function(e){e[e.File=1]="File",e[e.Text=2]="Text"}(t.QueryType||(t.QueryType={}));var i=(t.QueryType,function(){function e(e){this.resource=e,this.lineMatches=[]}return e}());t.FileMatch=i;var r=function(){function e(e,t,n){this.preview=e,this.lineNumber=t,this.offsetAndLengths=n}return e}();t.LineMatch=r}),define(l[201],h([1,0,6]),function(e,t,n){"use strict";t.IStatusbarService=n.createDecorator("statusbarService"),function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(t.StatusbarAlignment||(t.StatusbarAlignment={}));t.StatusbarAlignment}),define(l[38],h([1,0,6]),function(e,t,n){"use strict";t.ID="storageService",t.IStorageService=n.createDecorator(t.ID),function(e){e[e.GLOBAL=0]="GLOBAL",e[e.WORKSPACE=1]="WORKSPACE"}(t.StorageScope||(t.StorageScope={}));t.StorageScope;t.NullStorageService={_serviceBrand:void 0,store:function(){},swap:function(){},remove:function(){},get:function(e,t,n){return n},getInteger:function(e,t,n){return n},getBoolean:function(e,t,n){return n}}}),define(l[794],h([1,0,444,117,182,2,18,61,16,32,24,38]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";var d=function(){function e(e){this._storageService=e,this._value=this._read()}return e.prototype._read=function(){var t=this._storageService.get(e.KEY,h.StorageScope.GLOBAL);if(!t)return null;try{return JSON.parse(t)}catch(e){return null}},e.prototype.get=function(){return this._value},e.prototype.set=function(t){this._value=t,this._storageService.store(e.KEY,JSON.stringify(this._value),h.StorageScope.GLOBAL)},e.KEY="integrityService",e}(),p=function(){function t(e,t){var n=this;this._messageService=e,this._storage=new d(t),this._isPurePromise=this._isPure(),this.isPure().then(function(e){e.isPure||n._prompt()})}return t.prototype._prompt=function(){var e=this,t=this._storage.get();if(!t||!t.dontShowPrompt||t.commit!==a.default.commit){var i=new l.Action("integrity.ok",n.localize(0,null),null,(!0),function(){return o.TPromise.as(!0)}),r=new l.Action("integrity.dontShowAgain",n.localize(1,null),null,(!0),function(){return e._storage.set({dontShowPrompt:!0,commit:a.default.commit}),o.TPromise.as(!0)}),s=new l.Action("integrity.moreInfo",n.localize(2,null),null,(!0),function(){var e=c.default.parse(a.default.checksumFailMoreInfoUrl);return window.open(e.toString(!0)),o.TPromise.as(!0)});this._messageService.show(u.default.Warning,{message:n.localize(3,null,a.default.nameShort),actions:[i,s,r]})}},t.prototype.isPure=function(){return this._isPurePromise},t.prototype._isPure=function(){var e=this,t=a.default.checksums||{};return o.TPromise.timeout(1e4).then(function(){var n=Object.keys(t).map(function(n){return e._resolve(n,t[n])});return o.TPromise.join(n).then(function(e){for(var t=!0,n=0,i=e.length;t&&n<i;n++)e[n].isPure||(t=!1);return{isPure:t,proof:e}})})},t.prototype._resolve=function(n,r){var s=this,a=c.default.parse(e.toUrl(n));return new o.TPromise(function(e,n,o){i.readFile(a.fsPath,function(i,o){return i?n(i):void e(t._createChecksumPair(a,s._computeChecksum(o),r))})})},t.prototype._computeChecksum=function(e){var t=r.createHash("md5").update(e).digest("base64").replace(/=+$/,"");return t},t._createChecksumPair=function(e,t,n){return{uri:e,actual:t,expected:n,isPure:t===n}},t=g([v(0,s.IMessageService),v(1,h.IStorageService)],t)}();t.IntegrityServiceImpl=p}),define(l[795],h([1,0,35,13,5,7,30]),function(e,t,n,i,r,o,s){"use strict";var a;!function(e){function t(e,t){return e.stack<t.stack?-1:e.stack>t.stack?1:0}e.compare=t}(a||(a={}));var c=function(){function e(t,n){var s=this;void 0===n&&(n=e.ERROR_FLUSH_TIMEOUT),this._flushHandle=-1,this._buffer=[],this._disposables=[],this._telemetryService=t,this._flushDelay=n;var a=o.errorHandler.addListener(function(e){return s._onErrorEvent(e)});this._disposables.push(r.toDisposable(a));var c,u=this;"function"==typeof i.globals.onerror&&(c=i.globals.onerror),i.globals.onerror=function(e,t,n,i,r){u._onUncaughtError(e,t,n,i,r),c&&c.apply(this,arguments)},this._disposables.push(r.toDisposable(function(){c&&(i.globals.onerror=c)}))}return e.prototype.dispose=function(){clearTimeout(this._flushHandle),this._flushBuffer(),this._disposables=r.dispose(this._disposables)},e.prototype._onErrorEvent=function(e){if(e){e.detail&&e.detail.stack&&(e=e.detail);var t=Array.isArray(e.stack)?e.stack.join("\n"):e.stack,n=e.message?e.message:s.safeStringify(e);t&&this._enqueue({message:n,stack:t})}},e.prototype._onUncaughtError=function(e,t,n,i,r){var o={stack:e,message:e,filename:t,line:n,column:i};if(r){var s=r.name,a=r.message,c=r.stack;o.error={name:s,message:a},c&&(o.stack=Array.isArray(r.stack)?r.stack=r.stack.join("\n"):r.stack)}this._enqueue(o)},e.prototype._enqueue=function(e){var t=this,i=n.binarySearch(this._buffer,e,a.compare);i<0?(e.count=1,this._buffer.splice(~i,0,e)):this._buffer[i].count+=1,this._flushHandle===-1&&(this._flushHandle=setTimeout(function(){t._flushBuffer(),t._flushHandle=-1},this._flushDelay))},e.prototype._flushBuffer=function(){for(var e=0,t=this._buffer;e<t.length;e++){var n=t[e];this._telemetryService.publicLog("UnhandledError",n)}this._buffer.length=0},e.ERROR_FLUSH_TIMEOUT=5e3,e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=c}),define(l[796],h([1,0,17,11,5,8]),function(e,t,n,i,r,o){"use strict";!function(e){e[e.Idle=0]="Idle",e[e.Active=1]="Active"}(t.UserStatus||(t.UserStatus={}));var s=t.UserStatus,a=function(e){function t(t){var r=this;e.call(this),this._status=null,this._idleCheckTimeout=this._register(new n.TimeoutTimer),this._lastActiveTime=-1,this._idleTime=t,this._onStatusChange=new i.Emitter,this._register(o.addDisposableListener(document,"mousemove",function(){return r._onUserActive()})),this._register(o.addDisposableListener(document,"keydown",function(){return r._onUserActive()})),this._onUserActive()}return d(t,e),Object.defineProperty(t.prototype,"onStatusChange",{get:function(){return this._onStatusChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),t.prototype._onUserActive=function(){this._lastActiveTime=(new Date).getTime(),this._status!==s.Active&&(this._status=s.Active,this._scheduleIdleCheck(),this._onStatusChange.fire(this._status))},t.prototype._onUserIdle=function(){this._status!==s.Idle&&(this._status=s.Idle,this._onStatusChange.fire(this._status))},t.prototype._scheduleIdleCheck=function(){var e=this,t=this._lastActiveTime+this._idleTime,n=t-(new Date).getTime();this._idleCheckTimeout.setIfNotSet(function(){return e._checkIfUserIsIdle()},n)},t.prototype._checkIfUserIsIdle=function(){var e=(new Date).getTime()-this._lastActiveTime;e>=this._idleTime?this._onUserIdle():this._scheduleIdleCheck()},t}(r.Disposable);t.IdleMonitor=a}),define(l[19],h([1,0,2,98,20,25,6,36,69]),function(e,t,n,i,r,o,s,a,c){"use strict";function u(e,n,i){var r="experiments.randomness",o=n.get(r);o||(o=Math.random().toString(),n.store(r,o));var s=parseFloat(o),a=h(s),c=a[0],u=a[1],d=h(c),p=d[0],f=d[1],g=h(p),v=g[1],m=864e5,y=n.get("telemetry.firstSessionDate"),b=!y||Date.now()-Date.parse(y)<m;b&&!e.getWorkspace()||(u=t.defaultExperiments.showNewUserWatermark,f=t.defaultExperiments.openUntitledFile);var S=!n.get("telemetry.lastSessionDate"),C=Date.now();return S&&C>=E&&C<_||(v=void 0),l(i,{showNewUserWatermark:u,openUntitledFile:f,openGettingStarted:v})}function l(e,t){var n=e.getConfiguration("telemetry"),i=n&&n.experiments||{};return Object.keys(t).forEach(function(e){e in i&&(t[e]=i[e])}),t}function h(e){var t=2*e,n=Math.floor(t);return[t-n,1===n]}function d(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return{log:function(t,n){return e.forEach(function(e){return e.log(t,n)})}}}function p(e){if(!e)return e;for(var t="",n=0;n<e.length;n++){var i=e[n];t+=i>="0"&&i<="9"?"0":i>="a"&&i<="z"?"a":i>="A"&&i<="Z"?"A":i}return t}function f(e){var t=e&&e.fsPath;return t?{mimeType:i.guessMimeTypes(t).join(", "),ext:r.extname(t),path:p(t)}:{}}function g(e,t){return t.onDidUpdateConfiguration(function(t){t.source!==o.ConfigurationSource.Default&&(e.publicLog("updateConfiguration",{configurationSource:o.ConfigurationSource[t.source],configurationKeys:y(t.sourceConfig)}),e.publicLog("updateConfigurationValues",{configurationSource:o.ConfigurationSource[t.source],configurationValues:S(t.sourceConfig,C)}))})}function v(e,t){return t.onShutdown(function(t){e.publicLog("shutdown",{reason:c.ShutdownReason[t]})})}function m(e,t){return t.onDidUpdateKeybindings(function(t){t.source===a.KeybindingSource.User&&t.keybindings&&e.publicLog("updateKeybindings",{bindings:t.keybindings.map(function(e){return{key:e.key,command:e.command,when:e.when,args:!!e.args||void 0}})})})}function y(e){if(!e)return[];var t=[];return b(t,"",e),t}function b(e,t,n){n&&"object"==typeof n&&!Array.isArray(n)?Object.keys(n).forEach(function(i){return b(e,t?t+"."+i:i,n[i])}):e.push(t)}function S(e,t){return e?t.reduce(function(t,n){var i=n.split(".").reduce(function(e,t){return e&&"object"==typeof e?e[t]:void 0},e);return"undefined"!=typeof i&&t.push((r={},r[n]=i,r)),t;var r},[]):[]}t.ITelemetryService=s.createDecorator("telemetryService"),t.defaultExperiments={showNewUserWatermark:!1,openUntitledFile:!0},t.NullTelemetryService={_serviceBrand:void 0,_experiments:t.defaultExperiments,publicLog:function(e,t){return n.TPromise.as(null)},isOptedIn:!0,getTelemetryInfo:function(){return n.TPromise.as({instanceId:"someValue.instanceId",sessionId:"someValue.sessionId",machineId:"someValue.machineId"})},getExperiments:function(){return this._experiments}};var E=Date.UTC(2017,0,9),_=Date.UTC(2017,0,16);t.loadExperiments=u,t.applyOverrides=l,t.combinedAppender=d,t.NullAppender={log:function(){return null}},t.anonymize=p,t.telemetryURIDescriptor=f;var C=["window.zoomLevel","editor.fontSize","editor.fontFamily","editor.tabSize","files.autoSave","files.hotExit","typescript.check.tscVersion","editor.renderWhitespace","editor.cursorBlinking","editor.cursorStyle","files.associations","workbench.statusBar.visible","editor.wrappingColumn","editor.insertSpaces","editor.renderIndentGuides","files.trimTrailingWhitespace","git.confirmSync","editor.rulers","workbench.sideBar.location","editor.fontLigatures","editor.wordWrap","editor.lineHeight","editor.detectIndentation","editor.formatOnType","editor.formatOnSave","window.openFilesInNewWindow","javascript.validate.enable","editor.mouseWheelZoom","typescript.check.workspaceVersion","editor.fontWeight","editor.scrollBeyondLastLine","editor.lineNumbers","editor.wrappingIndent","editor.renderControlCharacters","editor.autoClosingBrackets","window.reopenFolders","extensions.autoUpdate","editor.tabCompletion","files.eol","explorer.openEditors.visible","workbench.editor.enablePreview","files.autoSaveDelay","editor.roundedSelection","editor.quickSuggestions","editor.acceptSuggestionOnEnter","workbench.editor.showTabs","files.encoding","editor.quickSuggestionsDelay","editor.snippetSuggestions","editor.selectionHighlight","editor.glyphMargin","php.validate.run","editor.wordSeparators","editor.mouseWheelScrollSensitivity","editor.suggestOnTriggerCharacters","git.enabled","http.proxyStrictSSL","terminal.integrated.fontFamily","editor.overviewRulerLanes","editor.wordBasedSuggestions","editor.hideCursorInOverviewRuler","editor.trimAutoWhitespace","editor.folding","workbench.editor.enablePreviewFromQuickOpen","php.validate.enable","editor.parameterHints"];t.configurationTelemetry=g,t.lifecycleTelemetry=v,t.keybindingsTelemetry=m}),define(l[27],h([1,0,7,16,34,84,14,19,323,44,40,31]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";function p(e){m.registerEditorAction(new e)}function f(e){b.INSTANCE.registerEditorContribution(e)}t.Command=c.Command,t.EditorCommand=c.EditorCommand;var g=function(e){function t(t){e.call(this,t),this.label=t.label,this.alias=t.alias,this.menuOpts=t.menuOpts}return d(t,e),t.prototype.toMenuItem=function(){return this.menuOpts?{command:{id:this.id,title:this.label},when:this.precondition,group:this.menuOpts.group,order:this.menuOpts.order}:null},t.prototype.runEditorCommand=function(e,t,n){return this.reportTelemetry(e),this.run(e,t)},t.prototype.reportTelemetry=function(e){e.get(a.ITelemetryService).publicLog("editorActionInvoked",{name:this.label,id:this.id})},t}(c.EditorCommand);t.EditorAction=g;var v=function(e){function t(t){e.call(this,t),this._handlerId=t.handlerId}return d(t,e),t.prototype.run=function(e,t){t.trigger(this.id,this._handlerId,null)},t}(g);t.HandlerEditorAction=v,t.editorAction=p,t.commonEditorContribution=f;var m;!function(e){function t(e){b.INSTANCE.registerEditorAction(e)}function s(){return b.INSTANCE.getEditorActions()}function a(){return b.INSTANCE.getEditorContributions()}function c(e){return void 0===e&&(e=0),o.KeybindingsRegistry.WEIGHT.editorContrib(e)}function h(e){o.KeybindingsRegistry.registerCommandAndKeybindingRule(e.toCommandAndKeybindingRule(o.KeybindingsRegistry.WEIGHT.editorContrib()))}function d(e,t){r.CommandsRegistry.registerCommand(e,function(e,n){return t(e,n||{})})}function p(e,t){d(e,function(e,r){var o=r.resource,s=r.position;if(!(o instanceof i.default))throw n.illegalArgument("resource");if(!u.Position.isIPosition(s))throw n.illegalArgument("position");var a=e.get(l.IModelService).getModel(o);if(!a)throw n.illegalArgument("Can not find open model for "+o);var c=u.Position.lift(s);return t(a,c,r)})}e.registerEditorAction=t,e.getEditorActions=s,e.getEditorContributions=a,e.commandWeight=c,e.registerEditorCommand=h,e.registerLanguageCommand=d,e.registerDefaultLanguageCommand=p}(m=t.CommonEditorRegistry||(t.CommonEditorRegistry={}));var y={EditorCommonContributions:"editor.commonContributions"},b=function(){function e(){this.editorContributions=[],this.editorActions=[]}return e.prototype.registerEditorContribution=function(e){this.editorContributions.push(e)},e.prototype.registerEditorAction=function(e){var t=e.toMenuItem();t&&h.MenuRegistry.appendMenuItem(h.MenuId.EditorContext,t),o.KeybindingsRegistry.registerCommandAndKeybindingRule(e.toCommandAndKeybindingRule(o.KeybindingsRegistry.WEIGHT.editorContrib())),this.editorActions.push(e)},e.prototype.getEditorContributions=function(){return this.editorContributions.slice(0)},e.prototype.getEditorActions=function(){return this.editorActions.slice(0)},e.INSTANCE=new e,e}();s.Registry.add(y.EditorCommonContributions,b.INSTANCE)}),define(l[799],h([1,0,1195,120,11,32,2,128,19,15,10,335,13,25,127,18,133]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y){"use strict";function b(e){return e.toString()}var S=function(){function e(e,t){var n=this;this.model=e,this._markerDecorations=[],this._modelEventsListener=e.addBulkListener(function(e){return t(n,e)})}return e.prototype.dispose=function(){this._markerDecorations=this.model.deltaDecorations(this._markerDecorations,[]),this._modelEventsListener.dispose(),this._modelEventsListener=null,this.model=null},e.prototype.getModelId=function(){return b(this.model.uri)},e.prototype.acceptMarkerDecorations=function(e){this._markerDecorations=this.model.deltaDecorations(this._markerDecorations,e)},e}(),E=function(){function e(){}return e.setMarkers=function(e,t){var n=this,i=t.read({resource:e.model.uri,take:500}),r=i.map(function(t){return{range:n._createDecorationRange(e.model,t),options:n._createDecorationOption(t)}});e.acceptMarkerDecorations(r)},e._createDecorationRange=function(e,t){var n=e.validateRange(new u.Range(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn)),i=new u.Range(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn);if(i.isEmpty()){var r=e.getWordAtPosition(i.getStartPosition());if(r)i=new u.Range(i.startLineNumber,r.startColumn,i.endLineNumber,r.endColumn);else{var o=e.getLineLastNonWhitespaceColumn(n.startLineNumber)||e.getLineMaxColumn(n.startLineNumber);1===o||(i=i.endColumn>=o?new u.Range(i.startLineNumber,o-1,i.endLineNumber,o):new u.Range(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn+1))}}else if(t.endColumn===Number.MAX_VALUE&&1===t.startColumn&&i.startLineNumber===i.endLineNumber){var s=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);s<i.endColumn&&(i=new u.Range(i.startLineNumber,s,i.endLineNumber,i.endColumn),t.startColumn=s)}return i},e._createDecorationOption=function(e){var t,i,r;switch(e.severity){case o.default.Ignore:break;case o.default.Warning:case o.default.Info:t=l.ClassName.EditorWarningDecoration,i="rgba(18,136,18,0.7)",r="rgba(18,136,18,0.7)";break;case o.default.Error:default:t=l.ClassName.EditorErrorDecoration,i="rgba(255,18,18,0.7)",r="rgba(255,18,18,0.7)"}var s=null,a=e.message,c=e.source;
return"string"==typeof a&&(a=a.trim(),c&&(a=/\n/g.test(a)?n.localize(0,null,c,a):n.localize(1,null,c,a)),s=[{language:"_",value:a}]),{stickiness:l.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:t,hoverMessage:s,overviewRuler:{color:i,darkColor:r,position:l.OverviewRulerLane.Right}}},e}(),_=function(){function e(e,t,i){var s=this;this._modelCreationOptions={tabSize:f.DEFAULT_INDENTATION.tabSize,insertSpaces:f.DEFAULT_INDENTATION.insertSpaces,detectIndentation:f.DEFAULT_INDENTATION.detectIndentation,defaultEOL:d.isLinux||d.isMacintosh?l.DefaultEndOfLine.LF:l.DefaultEndOfLine.CRLF,trimAutoWhitespace:f.DEFAULT_TRIM_AUTO_WHITESPACE},this._markerService=e,this._configurationService=t,this._messageService=i,this._hasShownMigrationMessage=!1,this._models={},this._onModelAdded=new r.Emitter,this._onModelRemoved=new r.Emitter,this._onModelModeChanged=new r.Emitter,this._markerService&&(this._markerServiceSubscription=this._markerService.onMarkerChanged(this._handleMarkerChange,this));var a=function(e){var t=!1,i=f.DEFAULT_INDENTATION.tabSize;if(e.editor&&"undefined"!=typeof e.editor.tabSize){var r=parseInt(e.editor.tabSize,10);isNaN(r)||(i=r),t=t||"auto"===e.editor.tabSize}var a=f.DEFAULT_INDENTATION.insertSpaces;e.editor&&"undefined"!=typeof e.editor.insertSpaces&&(a="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces),t=t||"auto"===e.editor.insertSpaces);var c=s._modelCreationOptions.defaultEOL,u=e.files&&e.files.eol;"\r\n"===u?c=l.DefaultEndOfLine.CRLF:"\n"===u&&(c=l.DefaultEndOfLine.LF);var h=s._modelCreationOptions.trimAutoWhitespace;e.editor&&"undefined"!=typeof e.editor.trimAutoWhitespace&&(h="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));var d=f.DEFAULT_INDENTATION.detectIndentation;e.editor&&"undefined"!=typeof e.editor.detectIndentation&&(d="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation)),s._setModelOptions({tabSize:i,insertSpaces:a,detectIndentation:d,defaultEOL:c,trimAutoWhitespace:h}),t&&!s._hasShownMigrationMessage&&(s._hasShownMigrationMessage=!0,s._messageService.show(o.default.Info,n.localize(2,null)))};this._configurationServiceSubscription=this._configurationService.onDidUpdateConfiguration(function(e){a(e.config)}),a(this._configurationService.getConfiguration())}return e.prototype.getCreationOptions=function(){return this._modelCreationOptions},e.prototype._setModelOptions=function(e){if(this._modelCreationOptions.detectIndentation===e.detectIndentation&&this._modelCreationOptions.insertSpaces===e.insertSpaces&&this._modelCreationOptions.tabSize===e.tabSize&&this._modelCreationOptions.trimAutoWhitespace===e.trimAutoWhitespace)return void(this._modelCreationOptions=e);this._modelCreationOptions=e;for(var t=Object.keys(this._models),n=0,i=t.length;n<i;n++){var r=t[n],o=this._models[r];this._modelCreationOptions.detectIndentation?(o.model.detectIndentation(this._modelCreationOptions.insertSpaces,this._modelCreationOptions.tabSize),o.model.updateOptions({trimAutoWhitespace:this._modelCreationOptions.trimAutoWhitespace})):o.model.updateOptions({insertSpaces:this._modelCreationOptions.insertSpaces,tabSize:this._modelCreationOptions.tabSize,trimAutoWhitespace:this._modelCreationOptions.trimAutoWhitespace})}},e.prototype.dispose=function(){this._markerServiceSubscription&&this._markerServiceSubscription.dispose(),this._configurationServiceSubscription.dispose()},e.prototype._handleMarkerChange=function(e){var t=this;e.forEach(function(e){var n=b(e),i=t._models[n];i&&E.setMarkers(i,t._markerService)})},e.prototype._cleanUp=function(e){var t=this;e.uri.scheme!==i.Schemas.inMemory&&e.uri.scheme!==i.Schemas.internal&&e.uri.scheme!==i.Schemas.vscode||this._markerService&&this._markerService.read({resource:e.uri}).map(function(e){return e.owner}).forEach(function(n){return t._markerService.remove(n,[e.uri])})},e.prototype._createModelData=function(e,t,n){var i,r=this;i="string"==typeof e?h.Model.createFromString(e,this._modelCreationOptions,t,n):new h.Model(e,t,n);var o=b(i.uri);if(this._models[o])throw new Error("ModelService: Cannot add model "+c.anonymize(o)+" because it already exists!");var s=new S(i,function(e,t){return r._onModelEvents(e,t)});return this._models[o]=s,s},e.prototype.createModel=function(e,t,n){var i;return!t||s.TPromise.is(t)?(i=this._createModelData(e,y.PLAINTEXT_MODE_ID,n),this.setMode(i.model,t)):i=this._createModelData(e,t.getId(),n),this._markerService&&E.setMarkers(i,this._markerService),this._onModelAdded.fire(i.model),i.model},e.prototype.setMode=function(e,t){t&&(s.TPromise.is(t)?t.then(function(t){e.isDisposed()||e.setMode(t.getId())}):e.setMode(t.getId()))},e.prototype.destroyModel=function(e){var t=this._models[b(e)];t&&t.model.dispose()},e.prototype.getModels=function(){for(var e=[],t=Object.keys(this._models),n=0,i=t.length;n<i;n++){var r=t[n];e.push(this._models[r].model)}return e},e.prototype.getModel=function(e){var t=b(e),n=this._models[t];return n?n.model:null},Object.defineProperty(e.prototype,"onModelAdded",{get:function(){return this._onModelAdded?this._onModelAdded.event:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelRemoved",{get:function(){return this._onModelRemoved?this._onModelRemoved.event:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelModeChanged",{get:function(){return this._onModelModeChanged?this._onModelModeChanged.event:null},enumerable:!0,configurable:!0}),e.prototype._onModelDisposing=function(e){var t=b(e.uri),n=this._models[t];delete this._models[t],n.dispose(),this._cleanUp(e),this._onModelRemoved.fire(e)},e.prototype._onModelEvents=function(e,t){for(var n=0,i=t.length;n<i;n++){var r=t[n];if(r.getType()===l.EventType.ModelDispose)return void this._onModelDisposing(e.model)}for(var n=0,i=t.length;n<i;n++){var r=t[n];r.getType()===l.EventType.ModelModeChanged&&this._onModelModeChanged.fire({model:e.model,oldModeId:r.getData().oldMode.getId()})}},e=g([v(0,a.IMarkerService),v(1,p.IConfigurationService),v(2,m.IMessageService)],e)}();t.ModelServiceImpl=_}),define(l[800],h([1,0,1201,10,27,957]),function(e,t,n,i,r,o){"use strict";var s=function(e){function t(t,n){e.call(this,n),this.left=t}return d(t,e),t.prototype.run=function(e,t){for(var n=[],i=t.getSelections(),r=0;r<i.length;r++)n.push(new o.MoveCarretCommand(i[r],this.left));t.executeCommands(this.id,n)},t}(r.EditorAction);(function(e){function t(){e.call(this,!0,{id:"editor.action.moveCarretLeftAction",label:n.localize(0,null),alias:"Move Carret Left",precondition:i.EditorContextKeys.Writable})}return d(t,e),t=g([r.editorAction],t)})(s),function(e){function t(){e.call(this,!1,{id:"editor.action.moveCarretRightAction",label:n.localize(1,null),alias:"Move Carret Right",precondition:i.EditorContextKeys.Writable})}return d(t,e),t=g([r.editorAction],t)}(s)}),define(l[801],h([1,0,1202,48,323,10,27,661]),function(e,t,n,i,r,o,s){"use strict";function a(e){return i.supportsExecCommand(e)?s.editorAction:function(){}}var c=o.EditorContextKeys,u="9_cutcopypaste",l=function(e){function t(t,n){e.call(this,n),this.browserCommand=t}return d(t,e),t.prototype.runCommand=function(e,t){var n=r.findFocusedEditor(this.id,e,!1);return n&&n.isFocused()?void n.trigger("keyboard",this.id,t):void document.execCommand(this.browserCommand)},t.prototype.run=function(e,t){t.focus(),document.execCommand(this.browserCommand)},t}(s.EditorAction);(function(e){function t(){e.call(this,"cut",{id:"editor.action.clipboardCutAction",label:n.localize(0,null),alias:"Cut",precondition:c.Writable,kbOpts:{kbExpr:c.TextFocus,primary:32822,win:{primary:32822,secondary:[16404]}},menuOpts:{group:u,order:1}})}return d(t,e),t.prototype.run=function(t,n){var r=n.getConfiguration().contribInfo.emptySelectionClipboard&&i.enableEmptySelectionClipboard;!r&&n.getSelection().isEmpty()||e.prototype.run.call(this,t,n)},t=g([a("cut")],t)})(l),function(e){function t(){e.call(this,"copy",{id:"editor.action.clipboardCopyAction",label:n.localize(1,null),alias:"Copy",precondition:null,kbOpts:{kbExpr:c.TextFocus,primary:32801,win:{primary:32801,secondary:[32787]}},menuOpts:{group:u,order:2}})}return d(t,e),t.prototype.run=function(t,n){var r=n.getConfiguration().contribInfo.emptySelectionClipboard&&i.enableEmptySelectionClipboard;!r&&n.getSelection().isEmpty()||e.prototype.run.call(this,t,n)},t=g([a("copy")],t)}(l),function(e){function t(){e.call(this,"paste",{id:"editor.action.clipboardPasteAction",label:n.localize(2,null),alias:"Paste",precondition:c.Writable,kbOpts:{kbExpr:c.TextFocus,primary:32820,win:{primary:32820,secondary:[16403]}},menuOpts:{group:u,order:3}})}return d(t,e),t=g([a("paste")],t)}(l)}),define(l[802],h([1,0,7,16,2,27,49,40,17]),function(e,t,n,i,r,o,s,a,c){"use strict";function u(e){var t=[],i=s.CodeLensProviderRegistry.ordered(e),o=i.map(function(i){return c.asWinJsPromise(function(t){return i.provideCodeLenses(e,t)}).then(function(e){if(Array.isArray(e))for(var n=0,r=e;n<r.length;n++){var o=r[n];t.push({symbol:o,provider:i})}},n.onUnexpectedExternalError)});return r.TPromise.join(o).then(function(){return t.sort(function(e,t){return e.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:e.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:i.indexOf(e.provider)<i.indexOf(t.provider)?-1:i.indexOf(e.provider)>i.indexOf(t.provider)?1:e.symbol.range.startColumn<t.symbol.range.startColumn?-1:e.symbol.range.startColumn>t.symbol.range.startColumn?1:0})})}t.getCodeLensData=u,o.CommonEditorRegistry.registerLanguageCommand("_executeCodeLensProvider",function(e,t){var r=t.resource;if(!(r instanceof i.default))throw n.illegalArgument();var o=e.get(a.IModelService).getModel(r);if(!o)throw n.illegalArgument();return u(o)})}),define(l[803],h([1,0,17,7,5,32,12,2,8,34,18,15,10,49,40,59,58,802,662]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b){"use strict";function S(e,t){for(var n=1,i=e.getModels().filter(function(e){return e.getMode().getId()===t}).map(function(e){return{url:e.uri.toString(),versionId:e.getVersionId()}}).sort(function(e,t){return e.url<t.url?-1:e.url>t.url?1:0}),r=0;r<i.length;r++)n=(31*n|0)+i[r].versionId|0;return n}var E=function(){function e(e){this.afterLineNumber=e,this.heightInLines=1,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}return e.prototype.setAfterLineNumber=function(e){this.afterLineNumber=e},e}(),_=function(){function e(t,n,i,r){var s=this;this._commands=Object.create(null),this._id="codeLensWidget"+ ++e.ID,this._editor=t,this.suppressMouseDown=!0,this.setSymbolRange(n),this._domNode=document.createElement("span"),this._domNode.style.height=t.getConfiguration().lineHeight+"px",this._domNode.innerHTML="&nbsp;",c.addClass(this._domNode,"codelens-decoration"),c.addClass(this._domNode,"invisible-cl"),this._subscription=c.addDisposableListener(this._domNode,"click",function(e){var n=e.target;if("A"===n.tagName&&n.id){var a=s._commands[n.id];a&&(t.focus(),i.executeCommand.apply(i,[a.id].concat(a.arguments)).done(void 0,function(e){r.show(o.default.Error,e)}))}}),this.updateVisibility()}return e.prototype.dispose=function(){this._subscription.dispose(),this._symbolRange=null},e.prototype.updateVisibility=function(){this.isVisible()&&(c.removeClass(this._domNode,"invisible-cl"),c.addClass(this._domNode,"fadein"))},e.prototype.withCommands=function(e){if(this._commands=Object.create(null),!e||!e.length)return void(this._domNode.innerHTML="no commands");for(var t=[],n=0;n<e.length;n++){var i=e[n].command,r=s.escape(i.title),o=void 0;i.id?(o=s.format("<a id={0}>{1}</a>",n,r),this._commands[n]=i):o=s.format("<span>{0}</span>",r),t.push(o)}this._domNode.innerHTML=t.join("<span>&nbsp;|&nbsp;</span>"),this._editor.layoutContentWidget(this)},e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.setSymbolRange=function(e){this._symbolRange=e;var t=e.startLineNumber,n=this._editor.getModel().getLineFirstNonWhitespaceColumn(t);this._widgetPosition={position:{lineNumber:t,column:n},preference:[m.ContentWidgetPositionPreference.ABOVE]}},e.prototype.getPosition=function(){return this._widgetPosition},e.prototype.isVisible=function(){return this._domNode.hasAttribute("monaco-visible-content-widget")},e.ID=0,e}(),C=function(){function e(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}return e.prototype.addDecoration=function(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)},e.prototype.removeDecoration=function(e){this._removeDecorations.push(e)},e.prototype.commit=function(e){for(var t=e.deltaDecorations(this._removeDecorations,this._addDecorations),n=0,i=t.length;n<i;n++)this._addDecorationsCallbacks[n](t[n])},e}(),w=function(){function e(e,t,n,i,r,o){var s=this;this._editor=t,this._data=e,this._decorationIds=new Array(this._data.length);var a;this._data.forEach(function(e,t){n.addDecoration({range:e.symbol.range,options:{}},function(e){return s._decorationIds[t]=e}),a=a?h.Range.plusRange(a,e.symbol.range):e.symbol.range}),this._viewZone=new E(a.startLineNumber-1),this._contentWidget=new _(t,h.Range.lift(a),r,o),this._viewZoneId=i.addZone(this._viewZone),this._editor.addContentWidget(this._contentWidget),this._lastUpdateModelsVersionId=-1}return e.prototype.dispose=function(e,t){for(;this._decorationIds.length;)e.removeDecoration(this._decorationIds.pop());t&&t.removeZone(this._viewZoneId),this._editor.removeContentWidget(this._contentWidget),this._contentWidget.dispose()},e.prototype.isValid=function(){var e=this;return this._decorationIds.some(function(t,n){var i=e._editor.getModel().getDecorationRange(t),r=e._data[n].symbol;return i&&h.Range.isEmpty(r.range)===i.isEmpty()})},e.prototype.updateCodeLensSymbols=function(e,t){for(var n=this;this._decorationIds.length;)t.removeDecoration(this._decorationIds.pop());this._data=e,this._decorationIds=new Array(this._data.length),this._data.forEach(function(e,i){t.addDecoration({range:e.symbol.range,options:{}},function(e){return n._decorationIds[i]=e})})},e.prototype.computeIfNecessary=function(e,t){if(this._contentWidget.updateVisibility(),!this._contentWidget.isVisible())return null;if(this._lastUpdateModelsVersionId===e)return null;for(var n=0;n<this._decorationIds.length;n++)this._data[n].symbol.range=t.getDecorationRange(this._decorationIds[n]);return this._data},e.prototype.updateCommands=function(e,t){this._contentWidget.withCommands(e),this._lastUpdateModelsVersionId=t},e.prototype.getLineNumber=function(){var e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1},e.prototype.update=function(e){if(this.isValid()){var t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);this._viewZone.setAfterLineNumber(t.startLineNumber-1),e.layoutZone(this._viewZoneId),this._contentWidget.setSymbolRange(t),this._editor.layoutContentWidget(this._contentWidget)}},e}(),I=function(){function e(e,t,n,i){var r=this;this._editor=e,this._modelService=t,this._commandService=n,this._messageService=i,this._isEnabled=this._editor.getConfiguration().contribInfo.codeLens,this._globalToDispose=[],this._localToDispose=[],this._lenses=[],this._currentFindCodeLensSymbolsPromise=null,this._modelChangeCounter=0,this._globalToDispose.push(this._editor.onDidChangeModel(function(){return r.onModelChange()})),this._globalToDispose.push(this._editor.onDidChangeModelMode(function(){return r.onModelChange()})),this._globalToDispose.push(this._editor.onDidChangeConfiguration(function(e){var t=r._isEnabled;r._isEnabled=r._editor.getConfiguration().contribInfo.codeLens,t!==r._isEnabled&&r.onModelChange()})),this._globalToDispose.push(p.CodeLensProviderRegistry.onDidChange(this.onModelChange,this)),this.onModelChange()}return e.prototype.dispose=function(){this.localDispose(),this._globalToDispose=r.dispose(this._globalToDispose)},e.prototype.localDispose=function(){this._currentFindCodeLensSymbolsPromise&&(this._currentFindCodeLensSymbolsPromise.cancel(),this._currentFindCodeLensSymbolsPromise=null,this._modelChangeCounter++),this._currentFindOccPromise&&(this._currentFindOccPromise.cancel(),this._currentFindOccPromise=null),this._localToDispose=r.dispose(this._localToDispose)},e.prototype.getId=function(){return e.ID},e.prototype.onModelChange=function(){var e=this;this.localDispose();var t=this._editor.getModel();if(t&&this._isEnabled&&p.CodeLensProviderRegistry.has(t)){var r=new n.RunOnceScheduler(function(){e._onViewportChanged(t.getMode().getId())},500),o=new n.RunOnceScheduler(function(){e._currentFindCodeLensSymbolsPromise&&e._currentFindCodeLensSymbolsPromise.cancel(),e._currentFindCodeLensSymbolsPromise=b.getCodeLensData(t);var n=++e._modelChangeCounter;e._currentFindCodeLensSymbolsPromise.then(function(t){n===e._modelChangeCounter&&(e.renderCodeLensSymbols(t),r.schedule())},function(e){i.onUnexpectedError(e)})},250);this._localToDispose.push(o),this._localToDispose.push(r),this._localToDispose.push(t.addBulkListener(function(t){for(var n=!1,i=0;i<t.length;i++){var s=t[i].getType();if(s===d.EventType.ModelRawContentChanged){n=!0;break}}n&&(e._editor.changeDecorations(function(t){e._editor.changeViewZones(function(n){var i=[];e._lenses.forEach(function(e){e.isValid()?e.update(n):i.push(e)});var r=new C;i.forEach(function(t){t.dispose(r,n),e._lenses.splice(e._lenses.indexOf(t),1)}),r.commit(t)})}),r.schedule(),o.schedule())})),this._localToDispose.push(this._editor.onDidScrollChange(function(e){e.scrollTopChanged&&r.schedule()})),this._localToDispose.push({dispose:function(){e._editor.getModel()?e._editor.changeDecorations(function(t){e._editor.changeViewZones(function(n){e._disposeAllLenses(t,n)})}):e._disposeAllLenses(null,null)}}),o.schedule()}},e.prototype._disposeAllLenses=function(e,t){var n=new C;this._lenses.forEach(function(e){return e.dispose(n,t)}),e&&n.commit(e),this._lenses=[]},e.prototype.renderCodeLensSymbols=function(e){var t=this;if(this._editor.getModel()){for(var n,i=this._editor.getModel().getLineCount(),r=[],o=0,s=e;o<s.length;o++){var a=s[o],c=a.symbol.range.startLineNumber;c<1||c>i||(n&&n[n.length-1].symbol.range.startLineNumber===c?n.push(a):(n=[a],r.push(n)))}var u=this._editor.getCenteredRangeInViewport(),l=r.length!==this._lenses.length&&0!==this._editor.getScrollTop();this._editor.changeDecorations(function(e){t._editor.changeViewZones(function(n){for(var i=0,o=0,s=new C;o<r.length&&i<t._lenses.length;){var a=r[o][0].symbol.range.startLineNumber,c=t._lenses[i].getLineNumber();c<a?(t._lenses[i].dispose(s,n),t._lenses.splice(i,1)):c===a?(t._lenses[i].updateCodeLensSymbols(r[o],s),o++,i++):(t._lenses.splice(i,0,new w(r[o],t._editor,s,n,t._commandService,t._messageService)),i++,o++)}for(;i<t._lenses.length;)t._lenses[i].dispose(s,n),t._lenses.splice(i,1);for(;o<r.length;)t._lenses.push(new w(r[o],t._editor,s,n,t._commandService,t._messageService)),o++;s.commit(e)})}),l&&this._editor.revealRangeInCenter(u)}},e.prototype._onViewportChanged=function(e){var t=this;this._currentFindOccPromise&&(this._currentFindOccPromise.cancel(),this._currentFindOccPromise=null);var i=this._editor.getModel();if(i){var r=S(this._modelService,e),o=[],s=[];if(this._lenses.forEach(function(e){var t=e.computeIfNecessary(r,i);t&&(o.push(t),s.push(e))}),0!==o.length){var c=o.map(function(e,t){var o=new Array(e.length),c=e.map(function(e,t){return n.asWinJsPromise(function(t){return e.provider.resolveCodeLens(i,e.symbol,t)}).then(function(e){o[t]=e})});return a.TPromise.join(c).then(function(){s[t].updateCommands(o,r)})});this._currentFindOccPromise=a.TPromise.join(c).then(function(){t._currentFindOccPromise=null})}}},e.ID="css.editor.codeLens",e=g([y.editorContribution,v(1,f.IModelService),v(2,u.ICommandService),v(3,l.IMessageService)],e)}();t.CodeLensContribution=I}),define(l[804],h([1,0,1207,52,10,27,353,961]),function(e,t,n,i,r,o,s,a){"use strict";var c=function(e){function t(t,n){e.call(this,n),this._type=t}return d(t,e),t.prototype.run=function(e,t){var n=t.getModel();if(n){for(var i=[],r=t.getSelections(),o=n.getOptions(),s=0;s<r.length;s++)i.push(new a.LineCommentCommand(r[s],o.tabSize,this._type));t.executeCommands(this.id,i)}},t}(o.EditorAction);(function(e){function t(){e.call(this,0,{id:"editor.action.commentLine",label:n.localize(0,null),alias:"Toggle Line Comment",precondition:r.EditorContextKeys.Writable,kbOpts:{kbExpr:r.EditorContextKeys.TextFocus,primary:32853}})}return d(t,e),t=g([o.editorAction],t)})(c),function(e){function t(){e.call(this,1,{id:"editor.action.addCommentLine",label:n.localize(1,null),alias:"Add Line Comment",precondition:r.EditorContextKeys.Writable,kbOpts:{kbExpr:r.EditorContextKeys.TextFocus,primary:i.KeyChord(32809,32801)}})}return d(t,e),t=g([o.editorAction],t)}(c),function(e){function t(){e.call(this,2,{id:"editor.action.removeCommentLine",label:n.localize(2,null),alias:"Remove Line Comment",precondition:r.EditorContextKeys.Writable,kbOpts:{kbExpr:r.EditorContextKeys.TextFocus,primary:i.KeyChord(32809,32819)}})}return d(t,e),t=g([o.editorAction],t)}(c),function(e){function t(){e.call(this,{id:"editor.action.blockComment",label:n.localize(3,null),alias:"Toggle Block Comment",precondition:r.EditorContextKeys.Writable,kbOpts:{kbExpr:r.EditorContextKeys.TextFocus,primary:24607,linux:{primary:49183}}})}return d(t,e),t.prototype.run=function(e,t){for(var n=[],i=t.getSelections(),r=0;r<i.length;r++)n.push(new s.BlockCommentCommand(i[r]));t.executeCommands(this.id,n)},t=g([o.editorAction],t)}(o.EditorAction)}),define(l[338],h([1,0,1208,5,2,8,43,39,36,23,31,10,27,58]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f){"use strict";var m=function(){function e(e,t,n,i,r,o){var s=this;this._contextMenuService=t,this._contextViewService=n,this._contextKeyService=i,this._keybindingService=r,this._menuService=o,this._toDispose=[],this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.push(this._editor.onContextMenu(function(e){return s._onContextMenu(e)})),this._toDispose.push(this._editor.onDidScrollChange(function(e){s._contextMenuIsBeingShownCount>0&&s._contextViewService.hideContextView()})),this._toDispose.push(this._editor.onKeyDown(function(e){58===e.keyCode&&(e.preventDefault(),e.stopPropagation(),s.showContextMenu())}))}return e.get=function(t){return t.getContribution(e.ID)},e.prototype._onContextMenu=function(e){if(!this._editor.getConfiguration().contribInfo.contextmenu)return this._editor.focus(),void(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position));if(e.target.type!==h.MouseTargetType.OVERLAY_WIDGET&&(e.event.preventDefault(),e.target.type===h.MouseTargetType.CONTENT_TEXT||e.target.type===h.MouseTargetType.CONTENT_EMPTY||e.target.type===h.MouseTargetType.TEXTAREA)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);var t;e.target.type!==h.MouseTargetType.TEXTAREA&&(t={x:e.event.posx,y:e.event.posy+1}),this.showContextMenu(t)}},e.prototype.showContextMenu=function(e){if(this._editor.getConfiguration().contribInfo.contextmenu){if(!this._contextMenuService)return void this._editor.focus();var t=this._getMenuActions();t.length>0&&this._doShowContextMenu(t,e)}},e.prototype._getMenuActions=function(){var e=[],t=this._menuService.createMenu(l.MenuId.EditorContext,this._contextKeyService),n=t.getActions(this._editor.getModel().uri);t.dispose();for(var i=0,r=n;i<r.length;i++){var o=r[i],a=o[1];e.push.apply(e,a),e.push(new s.Separator)}return e.pop(),e},e.prototype._doShowContextMenu=function(e,t){var n=this;void 0===t&&(t=null);var i=this._editor.getConfiguration().contribInfo.hover;this._editor.updateOptions({hover:!1});var a=t;if(!a){this._editor.revealPosition(this._editor.getPosition()),this._editor.render();var c=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),u=o.getDomNodePagePosition(this._editor.getDomNode()),l=u.left+c.left,h=u.top+c.top+c.height;a={x:l,y:h}}this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({getAnchor:function(){return a},getActions:function(){return r.TPromise.as(e)},getActionItem:function(e){var t=n._keybindingFor(e);if(t)return new s.ActionItem(e,e,{label:!0,keybinding:n._keybindingService.getLabelFor(t)});var i=e;return"function"==typeof i.getActionItem?i.getActionItem():null},getKeyBinding:function(e){return n._keybindingFor(e)},onHide:function(e){n._contextMenuIsBeingShownCount--,n._editor.focus(),n._editor.updateOptions({hover:i})}})},e.prototype._keybindingFor=function(e){var t=this._keybindingService.lookupKeybindings(e.id);return t.length>0?t[0]:null},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose=i.dispose(this._toDispose)},e.ID="editor.contrib.contextmenu",e=g([f.editorContribution,v(1,a.IContextMenuService),v(2,a.IContextViewService),v(3,u.IContextKeyService),v(4,c.IKeybindingService),v(5,l.IMenuService)],e)}();t.ContextMenuController=m;(function(e){function t(){e.call(this,{id:"editor.action.showContextMenu",label:n.localize(0,null),alias:"Show Editor Context Menu",precondition:null,kbOpts:{kbExpr:h.EditorContextKeys.TextFocus,primary:16452}})}return d(t,e),t.prototype.run=function(e,t){var n=m.get(t);n.showContextMenu()},t=g([p.editorAction],t)})(p.EditorAction)}),define(l[215],h([1,0,1214,321,52,5,23,15,46,12,10,27,244,965,49,17]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y){"use strict";function b(e,t,n){var i=E.get(e);if(!i)return null;var r,o,s=i.getState(),a=s.wholeWord,u=s.matchCase;if(!e.isFocused()&&s.isRevealed&&s.searchString.length>0)r=s.searchString;else{var l=e.getSelection();if(l.startLineNumber!==l.endLineNumber&&!n)return null;if(l.isEmpty()){var h=e.getModel().getWordAtPosition(l.getStartPosition());if(!h)return null;r=h.word,o=new c.Selection(l.startLineNumber,h.startColumn,l.startLineNumber,h.endColumn)}else r=e.getModel().getValueInRange(l);t&&i.setSearchString(r)}return{searchText:r,matchCase:u,wholeWord:a,currentMatch:o}}var S=l.EditorContextKeys;!function(e){e[e.NoFocusChange=0]="NoFocusChange",e[e.FocusFindInput=1]="FocusFindInput",e[e.FocusReplaceInput=2]="FocusReplaceInput"}(t.FindStartFocusAction||(t.FindStartFocusAction={}));t.FindStartFocusAction;t.CONTEXT_FIND_WIDGET_VISIBLE=new s.RawContextKey("findWidgetVisible",(!1)),t.CONTEXT_FIND_WIDGET_NOT_VISIBLE=t.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),t.CONTEXT_FIND_INPUT_FOCUSSED=new s.RawContextKey("findInputFocussed",(!1));var E=function(e){function n(n,r){var o=this;e.call(this),this._editor=n,this._findWidgetVisible=t.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(r),this._updateHistoryDelayer=new y.Delayer(500),this._currentHistoryNavigator=new i.HistoryNavigator,this._state=this._register(new f.FindReplaceState),this._register(this._state.addChangeListener(function(e){return o._onStateChanged(e)})),this._model=null,this._register(this._editor.onDidChangeModel(function(){var e=o._editor.getModel()&&o._state.isRevealed;o.disposeModel(),o._state.change({searchScope:null},!1),e&&o._start({forceRevealReplace:!1,seedSearchStringFromSelection:!1,shouldFocus:0,shouldAnimate:!1})}))}return d(n,e),n.get=function(e){return e.getContribution(n.ID)},n.prototype.dispose=function(){this.disposeModel(),e.prototype.dispose.call(this)},n.prototype.disposeModel=function(){this._model&&(this._model.dispose(),this._model=null)},n.prototype.getId=function(){return n.ID},n.prototype._onStateChanged=function(e){e.updateHistory&&e.searchString&&this._delayedUpdateHistory(),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel()))},n.prototype._delayedUpdateHistory=function(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this))},n.prototype._updateHistory=function(){this._state.searchString&&this._currentHistoryNavigator.add(this._state.searchString)},n.prototype.getState=function(){return this._state},n.prototype.getHistory=function(){return this._currentHistoryNavigator},n.prototype.closeFindWidget=function(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()},n.prototype.toggleCaseSensitive=function(){this._state.change({matchCase:!this._state.matchCase},!1)},n.prototype.toggleWholeWords=function(){this._state.change({wholeWord:!this._state.wholeWord},!1)},n.prototype.toggleRegex=function(){this._state.change({isRegex:!this._state.isRegex},!1)},n.prototype.setSearchString=function(e){this._state.change({searchString:e},!1)},n.prototype.getSelectionSearchString=function(){var e=this._editor.getSelection();if(e.startLineNumber===e.endLineNumber){if(!e.isEmpty())return this._editor.getModel().getValueInRange(e);var t=this._editor.getModel().getWordAtPosition(e.getStartPosition());if(t)return t.word}return null},n.prototype._start=function(e){if(this.disposeModel(),this._editor.getModel()){var t={isRevealed:!0};if(e.seedSearchStringFromSelection){var n=this.getSelectionSearchString();n&&(this._state.isRegex?t.searchString=u.escapeRegExpCharacters(n):t.searchString=n)}e.forceRevealReplace&&(t.isReplaceRevealed=!0),this._state.change(t,!1),this._model||(this._model=new p.FindModelBoundToEditorModel(this._editor,this._state))}},n.prototype.start=function(e){this._start(e)},n.prototype.moveToNextMatch=function(){return!!this._model&&(this._model.moveToNextMatch(),!0)},n.prototype.moveToPrevMatch=function(){return!!this._model&&(this._model.moveToPrevMatch(),!0)},n.prototype.replace=function(){return!!this._model&&(this._model.replace(),!0)},n.prototype.replaceAll=function(){return!!this._model&&(this._model.replaceAll(),!0)},n.prototype.selectAllMatches=function(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)},n.prototype.showPreviousFindTerm=function(){var e=this._currentHistoryNavigator.previous();return e&&this._state.change({searchString:e},!1,!1),!0},n.prototype.showNextFindTerm=function(){var e=this._currentHistoryNavigator.next();return e&&this._state.change({searchString:e},!1,!1),!0},n.ID="editor.contrib.findController",n=g([v(1,s.IContextKeyService)],n)}(o.Disposable);t.CommonFindController=E;var _=function(e){function t(){e.call(this,{id:p.FIND_IDS.StartFindAction,label:n.localize(0,null),alias:"Find",precondition:null,kbOpts:{kbExpr:null,primary:32804,mac:{primary:32804,secondary:[32803]}}})}return d(t,e),t.prototype.run=function(e,t){var n=E.get(t);n&&n.start({forceRevealReplace:!1,seedSearchStringFromSelection:!0,shouldFocus:1,shouldAnimate:!0})},t=g([h.editorAction],t)}(h.EditorAction);t.StartFindAction=_;var C=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.run=function(e,t){var n=E.get(t);n&&!this._run(n)&&(n.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===n.getState().searchString.length,shouldFocus:0,shouldAnimate:!0}),this._run(n))},t}(h.EditorAction);t.MatchFindAction=C;var w=function(e){function t(){e.call(this,{id:p.FIND_IDS.NextMatchFindAction,label:n.localize(1,null),alias:"Find Next",precondition:null,kbOpts:{kbExpr:S.Focus,primary:61,mac:{primary:32805,secondary:[61]}}})}return d(t,e),t.prototype._run=function(e){return e.moveToNextMatch()},t=g([h.editorAction],t)}(C);t.NextMatchFindAction=w;var I=function(e){function t(){e.call(this,{id:p.FIND_IDS.PreviousMatchFindAction,label:n.localize(2,null),alias:"Find Previous",precondition:null,kbOpts:{kbExpr:S.Focus,primary:16445,mac:{primary:49189,secondary:[16445]}}})}return d(t,e),t.prototype._run=function(e){return e.moveToPrevMatch()},t=g([h.editorAction],t)}(C);t.PreviousMatchFindAction=I;var T=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.run=function(e,t){var n=E.get(t);if(n){var i=n.getSelectionSearchString();i&&n.setSearchString(i),this._run(n)||(n.start({forceRevealReplace:!1,seedSearchStringFromSelection:!1,shouldFocus:0,shouldAnimate:!0}),this._run(n))}},t}(h.EditorAction);t.SelectionMatchFindAction=T;var x=function(e){
function t(){e.call(this,{id:p.FIND_IDS.NextSelectionMatchFindAction,label:n.localize(3,null),alias:"Find Next Selection",precondition:null,kbOpts:{kbExpr:S.Focus,primary:32829}})}return d(t,e),t.prototype._run=function(e){return e.moveToNextMatch()},t=g([h.editorAction],t)}(T);t.NextSelectionMatchFindAction=x;var A=function(e){function t(){e.call(this,{id:p.FIND_IDS.PreviousSelectionMatchFindAction,label:n.localize(4,null),alias:"Find Previous Selection",precondition:null,kbOpts:{kbExpr:S.Focus,primary:49213}})}return d(t,e),t.prototype._run=function(e){return e.moveToPrevMatch()},t=g([h.editorAction],t)}(T);t.PreviousSelectionMatchFindAction=A;var D=function(e){function t(){e.call(this,{id:p.FIND_IDS.StartFindReplaceAction,label:n.localize(5,null),alias:"Replace",precondition:null,kbOpts:{kbExpr:null,primary:32806,mac:{primary:40996}}})}return d(t,e),t.prototype.run=function(e,t){if(!t.getConfiguration().readOnly){var n=E.get(t);n&&n.start({forceRevealReplace:!0,seedSearchStringFromSelection:!0,shouldFocus:2,shouldAnimate:!0})}},t=g([h.editorAction],t)}(h.EditorAction);t.StartFindReplaceAction=D;var L=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype._getNextMatch=function(e){var t=b(e,!0,!0);if(!t)return null;if(t.currentMatch)return t.currentMatch;var n=e.getSelections(),i=n[n.length-1],r=e.getModel().findNextMatch(t.searchText,i.getEndPosition(),!1,t.matchCase,t.wholeWord);return r?new c.Selection(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn):null},t}(h.EditorAction);t.SelectNextFindMatchAction=L;var k=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype._getPreviousMatch=function(e){var t=b(e,!0,!0);if(!t)return null;if(t.currentMatch)return t.currentMatch;var n=e.getSelections(),i=n[n.length-1],r=e.getModel().findPreviousMatch(t.searchText,i.getStartPosition(),!1,t.matchCase,t.wholeWord);return r?new c.Selection(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn):null},t}(h.EditorAction);t.SelectPreviousFindMatchAction=k;var P=function(e){function t(){e.call(this,{id:p.FIND_IDS.AddSelectionToNextFindMatchAction,label:n.localize(6,null),alias:"Add Selection To Next Find Match",precondition:null,kbOpts:{kbExpr:S.Focus,primary:32802}})}return d(t,e),t.prototype.run=function(e,t){var n=this._getNextMatch(t);if(n){var i=t.getSelections();t.setSelections(i.concat(n)),t.revealRangeInCenterIfOutsideViewport(n)}},t=g([h.editorAction],t)}(L);t.AddSelectionToNextFindMatchAction=P;var R=function(e){function t(){e.call(this,{id:p.FIND_IDS.AddSelectionToPreviousFindMatchAction,label:n.localize(7,null),alias:"Add Selection To Previous Find Match",precondition:null})}return d(t,e),t.prototype.run=function(e,t){var n=this._getPreviousMatch(t);if(n){var i=t.getSelections();t.setSelections(i.concat(n)),t.revealRangeInCenterIfOutsideViewport(n)}},t=g([h.editorAction],t)}(k);t.AddSelectionToPreviousFindMatchAction=R;var O=function(e){function t(){e.call(this,{id:p.FIND_IDS.MoveSelectionToNextFindMatchAction,label:n.localize(8,null),alias:"Move Last Selection To Next Find Match",precondition:null,kbOpts:{kbExpr:S.Focus,primary:r.KeyChord(32809,32802)}})}return d(t,e),t.prototype.run=function(e,t){var n=this._getNextMatch(t);if(n){var i=t.getSelections();t.setSelections(i.slice(0,i.length-1).concat(n)),t.revealRangeInCenterIfOutsideViewport(n)}},t=g([h.editorAction],t)}(L);t.MoveSelectionToNextFindMatchAction=O;var M=function(e){function t(){e.call(this,{id:p.FIND_IDS.MoveSelectionToPreviousFindMatchAction,label:n.localize(9,null),alias:"Move Last Selection To Previous Find Match",precondition:null})}return d(t,e),t.prototype.run=function(e,t){var n=this._getPreviousMatch(t);if(n){var i=t.getSelections();t.setSelections(i.slice(0,i.length-1).concat(n)),t.revealRangeInCenterIfOutsideViewport(n)}},t=g([h.editorAction],t)}(k);t.MoveSelectionToPreviousFindMatchAction=M;var N=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.run=function(e,t){var n=b(t,!0,!0);if(n){var i=t.getModel().findMatches(n.searchText,!0,!1,n.matchCase,n.wholeWord);if(i.length>0){for(var r=t.getSelection(),o=0,s=i.length;o<s;o++){var a=i[o],u=a.intersectRanges(r);if(u){i.splice(o,1),i.unshift(a);break}}t.setSelections(i.map(function(e){return new c.Selection(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)}))}}},t}(h.EditorAction);t.AbstractSelectHighlightsAction=N;var F=function(e){function t(){e.call(this,{id:"editor.action.selectHighlights",label:n.localize(10,null),alias:"Select All Occurrences of Find Match",precondition:null,kbOpts:{kbExpr:S.Focus,primary:49194}})}return d(t,e),t=g([h.editorAction],t)}(N);t.SelectHighlightsAction=F;var W=function(e){function t(){e.call(this,{id:"editor.action.changeAll",label:n.localize(11,null),alias:"Change All Occurrences",precondition:S.Writable,kbOpts:{kbExpr:S.TextFocus,primary:32828},menuOpts:{group:"1_modification",order:1.2}})}return d(t,e),t=g([h.editorAction],t)}(N);t.CompatChangeAll=W;var V=function(e){function t(t){var n=this;e.call(this),this.editor=t,this.decorations=[],this.updateSoon=this._register(new y.RunOnceScheduler(function(){return n._update()},300)),this.lastWordUnderCursor=null,this._register(t.onDidChangeCursorSelection(function(e){e.selection.isEmpty()?e.reason===l.CursorChangeReason.Explicit?(n.lastWordUnderCursor&&n.lastWordUnderCursor.containsPosition(e.selection.getStartPosition())||n.removeDecorations(),n.updateSoon.schedule()):n.removeDecorations():n._update()})),this._register(t.onDidChangeModel(function(e){n.removeDecorations()})),this._register(E.get(t).getState().addChangeListener(function(e){n._update()}))}return d(t,e),t.prototype.getId=function(){return t.ID},t.prototype.removeDecorations=function(){this.lastWordUnderCursor=null,this.decorations.length>0&&(this.decorations=this.editor.deltaDecorations(this.decorations,[]))},t.prototype._update=function(){var e=this.editor.getModel();if(e&&(this.lastWordUnderCursor=null,this.editor.getConfiguration().contribInfo.selectionHighlight)){var t=b(this.editor,!1,!1);if(!t)return void this.removeDecorations();var n=m.DocumentHighlightProviderRegistry.has(e);if(t.currentMatch){if(n)return void this.removeDecorations();this.lastWordUnderCursor=t.currentMatch}if(/^[ \t]+$/.test(t.searchText))return void this.removeDecorations();if(t.searchText.length>200)return void this.removeDecorations();for(var i=this.editor.getSelections(),r=e.getValueInRange(i[0]),o=1;o<i.length;o++){var s=e.getValueInRange(i[o]);if(r!==s)return void this.removeDecorations()}var c=e.findMatches(t.searchText,!0,!1,t.matchCase,t.wholeWord);c.sort(a.Range.compareRangesUsingStarts),i.sort(a.Range.compareRangesUsingStarts);for(var u=[],o=0,h=0,d=c.length,p=i.length;o<d;){var f=c[o];if(h>=p)u.push(f),o++;else{var g=a.Range.compareRangesUsingStarts(f,i[h]);g<0?(u.push(f),o++):g>0?h++:(o++,h++)}}var v=u.map(function(e){return{range:e,options:{stickiness:l.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"selectionHighlight",overviewRuler:n?void 0:{color:"#A0A0A0",darkColor:"#A0A0A0",position:l.OverviewRulerLane.Center}}}});this.decorations=this.editor.deltaDecorations(this.decorations,v)}},t.prototype.dispose=function(){this.removeDecorations(),e.prototype.dispose.call(this)},t.ID="editor.contrib.selectionHighlighter",t=g([h.commonEditorContribution],t)}(o.Disposable);t.SelectionHighlighter=V;var B=h.EditorCommand.bindToContribution(E.get);h.CommonEditorRegistry.registerEditorCommand(new B({id:p.FIND_IDS.CloseFindWidgetCommand,precondition:t.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.closeFindWidget()},kbOpts:{weight:h.CommonEditorRegistry.commandWeight(5),kbExpr:S.Focus,primary:9,secondary:[16393]}})),h.CommonEditorRegistry.registerEditorCommand(new B({id:p.FIND_IDS.ToggleCaseSensitiveCommand,precondition:null,handler:function(e){return e.toggleCaseSensitive()},kbOpts:{weight:h.CommonEditorRegistry.commandWeight(5),kbExpr:S.Focus,primary:p.ToggleCaseSensitiveKeybinding.primary,mac:p.ToggleCaseSensitiveKeybinding.mac,win:p.ToggleCaseSensitiveKeybinding.win,linux:p.ToggleCaseSensitiveKeybinding.linux}})),h.CommonEditorRegistry.registerEditorCommand(new B({id:p.FIND_IDS.ToggleWholeWordCommand,precondition:null,handler:function(e){return e.toggleWholeWords()},kbOpts:{weight:h.CommonEditorRegistry.commandWeight(5),kbExpr:S.Focus,primary:p.ToggleWholeWordKeybinding.primary,mac:p.ToggleWholeWordKeybinding.mac,win:p.ToggleWholeWordKeybinding.win,linux:p.ToggleWholeWordKeybinding.linux}})),h.CommonEditorRegistry.registerEditorCommand(new B({id:p.FIND_IDS.ToggleRegexCommand,precondition:null,handler:function(e){return e.toggleRegex()},kbOpts:{weight:h.CommonEditorRegistry.commandWeight(5),kbExpr:S.Focus,primary:p.ToggleRegexKeybinding.primary,mac:p.ToggleRegexKeybinding.mac,win:p.ToggleRegexKeybinding.win,linux:p.ToggleRegexKeybinding.linux}})),h.CommonEditorRegistry.registerEditorCommand(new B({id:p.FIND_IDS.ReplaceOneAction,precondition:t.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.replace()},kbOpts:{weight:h.CommonEditorRegistry.commandWeight(5),kbExpr:S.Focus,primary:49174}})),h.CommonEditorRegistry.registerEditorCommand(new B({id:p.FIND_IDS.ReplaceAllAction,precondition:t.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.replaceAll()},kbOpts:{weight:h.CommonEditorRegistry.commandWeight(5),kbExpr:S.Focus,primary:40963}})),h.CommonEditorRegistry.registerEditorCommand(new B({id:p.FIND_IDS.SelectAllMatchesAction,precondition:t.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.selectAllMatches()},kbOpts:{weight:h.CommonEditorRegistry.commandWeight(5),kbExpr:S.Focus,primary:8195}})),h.CommonEditorRegistry.registerEditorCommand(new B({id:p.FIND_IDS.ShowPreviousFindTermAction,precondition:t.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.showPreviousFindTerm()},kbOpts:{weight:h.CommonEditorRegistry.commandWeight(5),kbExpr:s.ContextKeyExpr.and(t.CONTEXT_FIND_INPUT_FOCUSSED,S.Focus),primary:p.ShowPreviousFindTermKeybinding.primary,mac:p.ShowPreviousFindTermKeybinding.mac,win:p.ShowPreviousFindTermKeybinding.win,linux:p.ShowPreviousFindTermKeybinding.linux}})),h.CommonEditorRegistry.registerEditorCommand(new B({id:p.FIND_IDS.ShowNextFindTermAction,precondition:t.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.showNextFindTerm()},kbOpts:{weight:h.CommonEditorRegistry.commandWeight(5),kbExpr:s.ContextKeyExpr.and(t.CONTEXT_FIND_INPUT_FOCUSSED,S.Focus),primary:p.ShowNextFindTermKeybinding.primary,mac:p.ShowNextFindTermKeybinding.mac,win:p.ShowNextFindTermKeybinding.win,linux:p.ShowNextFindTermKeybinding.linux}}))}),define(l[807],h([1,0,1213,7,12,8,263,101,94,59,244,15,215,669]),function(e,t,n,i,r,o,s,a,c,u,l,h,p){"use strict";var f=n.localize(0,null),g=n.localize(1,null),v=n.localize(2,null),m=n.localize(3,null),y=n.localize(4,null),b=n.localize(5,null),S=n.localize(6,null),E=n.localize(7,null),_=n.localize(8,null),C=n.localize(9,null),w=n.localize(10,null),I=n.localize(11,null),T=n.localize(12,null),x=n.localize(13,null),A=69,D=342,L=function(e){function t(t,n,i,r,s,a){var c=this;e.call(this),this._codeEditor=t,this._controller=n,this._state=i,this._contextViewProvider=r,this._keybindingService=s,this._isVisible=!1,this._isReplaceVisible=!1,this._register(this._state.addChangeListener(function(e){return c._onStateChanged(e)})),this._buildDomNode(),this._updateButtons();var u=function(){var e=c._codeEditor.getConfiguration().layoutInfo.width,t=!1,n=!1,i=!1;D+28>=e+50&&(t=!0),D+28>=e&&(i=!0),D+A+28>=e&&(n=!0),o.toggleClass(c._domNode,"collapsed-find-widget",t),o.toggleClass(c._domNode,"reduced-find-widget",n),o.toggleClass(c._domNode,"narrow-find-widget",i)};u(),this._register(this._codeEditor.onDidChangeConfiguration(function(e){e.readOnly&&(c._codeEditor.getConfiguration().readOnly&&c._state.change({isReplaceRevealed:!1},!1),c._updateButtons()),e.layoutInfo&&u()})),this._register(this._codeEditor.onDidChangeCursorSelection(function(){c._isVisible&&c._updateToggleSelectionFindButton()})),this._findInputFocussed=p.CONTEXT_FIND_INPUT_FOCUSSED.bindTo(a),this._focusTracker=this._register(o.trackFocus(this._findInput.inputBox.inputElement)),this._focusTracker.addFocusListener(function(){if(c._findInputFocussed.set(!0),c._toggleSelectionFind.checked){var e=c._codeEditor.getSelection();1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,1));var t=c._state.currentMatch;e.startLineNumber!==e.endLineNumber&&(h.Range.equalsRange(e,t)||c._state.change({searchScope:e},!0))}}),this._focusTracker.addBlurListener(function(){c._findInputFocussed.set(!1)}),this._codeEditor.addOverlayWidget(this)}return d(t,e),t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return this._isVisible?{preference:u.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER}:null},t.prototype._onStateChanged=function(e){if(e.searchString&&(this._findInput.setValue(this._state.searchString),this._updateButtons()),e.replaceString&&(this._replaceInputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal(!0):this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getConfiguration().readOnly||this._isReplaceVisible||(this._isReplaceVisible=!0,this._updateButtons()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){var t=this._state.searchString.length>0&&0===this._state.matchesCount;o.toggleClass(this._domNode,"no-results",t),this._updateMatchesCount()}},t.prototype._updateMatchesCount=function(){this._matchesCount.style.minWidth=A+"px",this._state.matchesCount>=l.MATCHES_LIMIT?this._matchesCount.title=I:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);var e;if(this._state.matchesCount>0){var t=String(this._state.matchesCount);this._state.matchesCount>=l.MATCHES_LIMIT&&(t+="+");var n=String(this._state.matchesPosition);"0"===n&&(n="?"),e=r.format(T,n,t)}else e=x;this._matchesCount.appendChild(document.createTextNode(e)),A=Math.max(A,this._matchesCount.clientWidth)},t.prototype._updateToggleSelectionFindButton=function(){var e=this._codeEditor.getSelection(),t=!!e&&e.startLineNumber!==e.endLineNumber,n=this._toggleSelectionFind.checked;this._toggleSelectionFind.setEnabled(this._isVisible&&(n||t))},t.prototype._updateButtons=function(){this._findInput.setEnabled(this._isVisible),this._replaceInputBox.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);var e=this._state.searchString.length>0;this._prevBtn.setEnabled(this._isVisible&&e),this._nextBtn.setEnabled(this._isVisible&&e),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),o.toggleClass(this._domNode,"replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("collapse",!this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("expand",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var t=!this._codeEditor.getConfiguration().readOnly;this._toggleReplaceBtn.setEnabled(this._isVisible&&t)},t.prototype._reveal=function(e){var t=this;this._isVisible||(this._isVisible=!0,this._updateButtons(),setTimeout(function(){o.addClass(t._domNode,"visible"),e||(o.addClass(t._domNode,"noanimation"),setTimeout(function(){o.removeClass(t._domNode,"noanimation")},200))},0),this._codeEditor.layoutOverlayWidget(this))},t.prototype._hide=function(e){this._isVisible&&(this._isVisible=!1,this._updateButtons(),o.removeClass(this._domNode,"visible"),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this))},t.prototype.focusFindInput=function(){this._findInput.select(),this._findInput.focus()},t.prototype.focusReplaceInput=function(){this._replaceInputBox.select(),this._replaceInputBox.focus()},t.prototype._onFindInputKeyDown=function(e){switch(e.toKeybinding().value){case 3:return this._codeEditor.getAction(l.FIND_IDS.NextMatchFindAction).run().done(null,i.onUnexpectedError),void e.preventDefault();case 16387:return this._codeEditor.getAction(l.FIND_IDS.PreviousMatchFindAction).run().done(null,i.onUnexpectedError),void e.preventDefault();case 2:return this._isReplaceVisible?this._replaceInputBox.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault();case 32786:return this._codeEditor.focus(),void e.preventDefault()}},t.prototype._onReplaceInputKeyDown=function(e){switch(e.toKeybinding().value){case 3:return this._controller.replace(),void e.preventDefault();case 32771:return this._controller.replaceAll(),void e.preventDefault();case 2:return this._findInput.focusOnCaseSensitive(),void e.preventDefault();case 16386:return this._findInput.focus(),void e.preventDefault();case 32786:return this._codeEditor.focus(),void e.preventDefault()}},t.prototype._keybindingLabelFor=function(e){var t=this._keybindingService.lookupKeybindings(e);return 0===t.length?"":" ("+this._keybindingService.getLabelFor(t[0])+")"},t.prototype._buildFindPart=function(){var e=this;this._findInput=this._register(new s.FindInput(null,this._contextViewProvider,{width:t.FIND_INPUT_AREA_WIDTH,label:f,placeholder:g,appendCaseSensitiveLabel:this._keybindingLabelFor(l.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(l.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(l.FIND_IDS.ToggleRegexCommand),validation:function(t){if(0===t.length)return null;if(!e._findInput.getRegex())return null;try{return new RegExp(t),null}catch(e){return{content:e.message}}}})),this._register(this._findInput.onKeyDown(function(t){return e._onFindInputKeyDown(t)})),this._register(this._findInput.onInput(function(){e._state.change({searchString:e._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(function(){e._state.change({isRegex:e._findInput.getRegex(),wholeWord:e._findInput.getWholeWords(),matchCase:e._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(function(t){t.equals(16386)&&e._isReplaceVisible&&(e._replaceInputBox.focus(),t.preventDefault())})),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new P({label:v+this._keybindingLabelFor(l.FIND_IDS.PreviousMatchFindAction),className:"previous",onTrigger:function(){e._codeEditor.getAction(l.FIND_IDS.PreviousMatchFindAction).run().done(null,i.onUnexpectedError)},onKeyDown:function(e){}})),this._nextBtn=this._register(new P({label:m+this._keybindingLabelFor(l.FIND_IDS.NextMatchFindAction),className:"next",onTrigger:function(){e._codeEditor.getAction(l.FIND_IDS.NextMatchFindAction).run().done(null,i.onUnexpectedError)},onKeyDown:function(e){}}));var n=document.createElement("div");return n.className="find-part",n.appendChild(this._findInput.domNode),n.appendChild(this._matchesCount),n.appendChild(this._prevBtn.domNode),n.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new k({parent:n,title:y,onChange:function(){if(e._toggleSelectionFind.checked){var t=e._codeEditor.getSelection();1===t.endColumn&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,1)),t.isEmpty()||e._state.change({searchScope:t},!0)}else e._state.change({searchScope:null},!0)}})),this._closeBtn=this._register(new P({label:b+this._keybindingLabelFor(l.FIND_IDS.CloseFindWidgetCommand),className:"close-fw",onTrigger:function(){e._state.change({isRevealed:!1},!1)},onKeyDown:function(t){t.equals(2)&&e._isReplaceVisible&&(e._replaceBtn.isEnabled()?e._replaceBtn.focus():e._codeEditor.focus(),t.preventDefault())}})),n.appendChild(this._closeBtn.domNode),n},t.prototype._buildReplacePart=function(){var e=this,n=document.createElement("div");n.className="replace-input",n.style.width=t.REPLACE_INPUT_AREA_WIDTH+"px",this._replaceInputBox=this._register(new a.InputBox(n,null,{ariaLabel:S,placeholder:E})),this._register(o.addStandardDisposableListener(this._replaceInputBox.inputElement,"keydown",function(t){return e._onReplaceInputKeyDown(t)})),this._register(o.addStandardDisposableListener(this._replaceInputBox.inputElement,"input",function(t){e._state.change({replaceString:e._replaceInputBox.value},!1)})),this._replaceBtn=this._register(new P({label:_+this._keybindingLabelFor(l.FIND_IDS.ReplaceOneAction),className:"replace",onTrigger:function(){e._controller.replace()},onKeyDown:function(t){t.equals(16386)&&(e._closeBtn.focus(),t.preventDefault())}})),this._replaceAllBtn=this._register(new P({label:C+this._keybindingLabelFor(l.FIND_IDS.ReplaceAllAction),className:"replace-all",onTrigger:function(){e._controller.replaceAll()},onKeyDown:function(e){}}));var i=document.createElement("div");return i.className="replace-part",i.appendChild(n),i.appendChild(this._replaceBtn.domNode),i.appendChild(this._replaceAllBtn.domNode),i},t.prototype._buildDomNode=function(){var e=this,t=this._buildFindPart(),n=this._buildReplacePart();this._toggleReplaceBtn=this._register(new P({label:w,className:"toggle left",onTrigger:function(){e._state.change({isReplaceRevealed:!e._isReplaceVisible},!1)},onKeyDown:function(e){}})),this._toggleReplaceBtn.toggleClass("expand",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("collapse",!this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","false"),this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(t),this._domNode.appendChild(n)},t.ID="editor.contrib.findWidget",t.PART_WIDTH=275,t.FIND_INPUT_AREA_WIDTH=t.PART_WIDTH-54,t.REPLACE_INPUT_AREA_WIDTH=t.FIND_INPUT_AREA_WIDTH,t}(c.Widget);t.FindWidget=L;var k=function(e){function t(n){var i=this;e.call(this),this._opts=n,this._domNode=document.createElement("div"),this._domNode.className="monaco-checkbox",this._domNode.title=this._opts.title,this._checkbox=document.createElement("input"),this._checkbox.type="checkbox",this._checkbox.className="checkbox",this._checkbox.id="checkbox-"+t._COUNTER++,this._label=document.createElement("label"),this._label.className="label",this._label.htmlFor=this._checkbox.id,this._domNode.appendChild(this._checkbox),this._domNode.appendChild(this._label),this._opts.parent.appendChild(this._domNode),this.onchange(this._checkbox,function(e){i._opts.onChange()})}return d(t,e),Object.defineProperty(t.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this._checkbox.checked},set:function(e){this._checkbox.checked=e},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this._checkbox.focus()},t.prototype.enable=function(){this._checkbox.removeAttribute("disabled")},t.prototype.disable=function(){this._checkbox.disabled=!0},t.prototype.setEnabled=function(e){e?this.enable():this.disable()},t._COUNTER=0,t}(c.Widget),P=function(e){function t(t){var n=this;e.call(this),this._opts=t,this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className="button "+this._opts.className,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,function(e){n._opts.onTrigger(),e.preventDefault()}),this.onkeydown(this._domNode,function(e){return e.equals(10)||e.equals(3)?(n._opts.onTrigger(),void e.preventDefault()):void n._opts.onKeyDown(e)})}return d(t,e),Object.defineProperty(t.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),t.prototype.isEnabled=function(){return this._domNode.tabIndex>=0},t.prototype.focus=function(){this._domNode.focus()},t.prototype.setEnabled=function(e){o.toggleClass(this._domNode,"disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1},t.prototype.setExpanded=function(e){this._domNode.setAttribute("aria-expanded",String(e))},t.prototype.toggleClass=function(e,t){o.toggleClass(this._domNode,e,t)},t}(c.Widget)}),define(l[341],h([1,0,39,36,23,58,807,215]),function(e,t,n,i,r,o,s,a){"use strict";var c=function(e){function t(t,n,i,r){e.call(this,t,i),this._widget=this._register(new s.FindWidget(t,this,this._state,n,r,i))}return d(t,e),t.prototype._start=function(t){e.prototype._start.call(this,t),2===t.shouldFocus?this._widget.focusReplaceInput():1===t.shouldFocus&&this._widget.focusFindInput()},t=g([o.editorContribution,v(1,n.IContextViewService),v(2,r.IContextKeyService),v(3,i.IKeybindingService)],t)}(a.CommonFindController);t.FindController=c}),define(l[342],h([1,0,1219,21,17,52,5,10,15,27,58,722,970,969,672]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f){"use strict";function v(e){if(!i.isUndefined(e)){if(!i.isObject(e))return!1;var t=e;if(!i.isUndefined(t.levels)&&!i.isNumber(t.levels))return!1;if(!i.isUndefined(t.direction)&&!i.isString(t.direction))return!1}return!0}var m=a.EditorContextKeys,y=function(){function e(e){var t=this;this.editor=e,this._isEnabled=this.editor.getConfiguration().contribInfo.folding,this.globalToDispose=[],this.localToDispose=[],this.decorations=[],this.computeToken=0,this.globalToDispose.push(this.editor.onDidChangeModel(function(){return t.onModelChanged()})),this.globalToDispose.push(this.editor.onDidChangeConfiguration(function(e){var n=t._isEnabled;t._isEnabled=t.editor.getConfiguration().contribInfo.folding,n!==t._isEnabled&&t.onModelChanged()})),this.onModelChanged()}return e.get=function(e){return e.getContribution(f.ID)},e.prototype.getId=function(){return f.ID},e.prototype.dispose=function(){this.cleanState(),this.globalToDispose=s.dispose(this.globalToDispose)},e.prototype.saveViewState=function(){var e=this.editor.getModel();if(!e)return{};var t=[];return this.decorations.forEach(function(n){if(n.isCollapsed){var i=n.getDecorationRange(e);i&&t.push({startLineNumber:i.startLineNumber,endLineNumber:i.endLineNumber,indent:n.indent,isCollapsed:!0})}}),{collapsedRegions:t,lineCount:e.getLineCount()}},e.prototype.restoreViewState=function(e){var t=this.editor.getModel();t&&this._isEnabled&&e&&Array.isArray(e.collapsedRegions)&&0!==e.collapsedRegions.length&&e.lineCount===t.getLineCount()&&(this.cleanState(),this.applyRegions(e.collapsedRegions),this.onModelChanged())},e.prototype.cleanState=function(){this.localToDispose=s.dispose(this.localToDispose)},e.prototype.applyRegions=function(t){var n=this,i=this.editor.getModel();if(i){var r=!1;t=p.limitByIndent(t,e.MAX_FOLDING_REGIONS).sort(function(e,t){return e.startLineNumber-t.startLineNumber}),this.editor.changeDecorations(function(e){for(var o=[],s=0,a=0;a<n.decorations.length&&s<t.length;){var c=n.decorations[a],u=c.getDecorationRange(i);if(u){for(;s<t.length&&u.startLineNumber>t[s].startLineNumber;){var l=t[s];r=r||l.isCollapsed,o.push(new h.CollapsibleRegion(l,i,e)),s++}if(s<t.length){var d=t[s];u.startLineNumber<d.startLineNumber?(r=r||c.isCollapsed,c.dispose(e),a++):u.startLineNumber===d.startLineNumber&&(!c.isCollapsed||c.startLineNumber===d.startLineNumber&&c.endLineNumber===d.endLineNumber||(r=!0),d.isCollapsed=c.isCollapsed,c.update(d,i,e),o.push(c),a++,s++)}}else r=r||c.isCollapsed,c.dispose(e),a++}for(;a<n.decorations.length;){var c=n.decorations[a];r=r||c.isCollapsed,c.dispose(e),a++}for(;s<t.length;){var l=t[s];r=r||l.isCollapsed,o.push(new h.CollapsibleRegion(l,i,e)),s++}n.decorations=o}),r&&this.updateHiddenAreas()}},e.prototype.onModelChanged=function(){var e=this;this.cleanState();var t=this.editor.getModel();this._isEnabled&&t&&(this.computeAndApplyCollapsibleRegions(),this.contentChangedScheduler=new r.RunOnceScheduler(function(){return e.computeAndApplyCollapsibleRegions()},200),this.cursorChangedScheduler=new r.RunOnceScheduler(function(){return e.revealCursor()},200),this.localToDispose.push(this.contentChangedScheduler),this.localToDispose.push(this.cursorChangedScheduler),this.localToDispose.push(this.editor.onDidChangeModelContent(function(t){return e.contentChangedScheduler.schedule()})),this.localToDispose.push(this.editor.onDidChangeCursorPosition(function(t){return e.cursorChangedScheduler.schedule()})),this.localToDispose.push(this.editor.onMouseDown(function(t){return e.onEditorMouseDown(t)})),this.localToDispose.push(this.editor.onMouseUp(function(t){return e.onEditorMouseUp(t)})),this.localToDispose.push({dispose:function(){return e.disposeDecorations()}}))},e.prototype.computeAndApplyCollapsibleRegions=function(){var e=this.editor.getModel();this.applyRegions(e?p.computeRanges(e):[])},e.prototype.disposeDecorations=function(){var e=this;this.editor.changeDecorations(function(t){e.decorations.forEach(function(e){return e.dispose(t)})}),this.decorations=[],this.editor.setHiddenAreas([])},e.prototype.revealCursor=function(){var e=this,t=this.editor.getModel();if(t){var n=!1,i=this.editor.getSelections();this.editor.changeDecorations(function(r){return e.decorations.forEach(function(e){if(e.isCollapsed){var o=e.getDecorationRange(t);if(o)for(var s=0,a=i;s<a.length;s++){var c=a[s];if(o.startLineNumber<c.selectionStartLineNumber&&c.selectionStartLineNumber<=o.endLineNumber){e.setCollapsed(!1,r),n=!0;break}}}})}),n&&this.updateHiddenAreas(this.editor.getPosition().lineNumber)}},e.prototype.onEditorMouseDown=function(e){if(this.mouseDownInfo=null,0!==this.decorations.length){var t=e.target.range;if(t&&t.isEmpty&&e.event.leftButton){var n=this.editor.getModel(),i=!1;switch(e.target.type){case a.MouseTargetType.GUTTER_LINE_DECORATIONS:i=!0;break;case a.MouseTargetType.CONTENT_TEXT:if(t.isEmpty&&t.startColumn===n.getLineMaxColumn(t.startLineNumber))break;return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:i}}}},e.prototype.onEditorMouseUp=function(e){var t=this;if(this.mouseDownInfo){var n=this.mouseDownInfo.lineNumber,i=this.mouseDownInfo.iconClicked,r=e.target.range;if(r&&r.isEmpty&&r.startLineNumber===n){var o=this.editor.getModel();if(i){if(e.target.type!==a.MouseTargetType.GUTTER_LINE_DECORATIONS)return}else if(r.startColumn!==o.getLineMaxColumn(n))return;this.editor.changeDecorations(function(e){for(var r=0;r<t.decorations.length;r++){var s=t.decorations[r],a=s.getDecorationRange(o);if(a&&a.startLineNumber===n)return void((i||s.isCollapsed)&&(s.setCollapsed(!s.isCollapsed,e),t.updateHiddenAreas(n)))}})}}},e.prototype.updateHiddenAreas=function(e){var t=this.editor.getModel(),n=this.editor.getSelections(),i=!1,r=[];this.decorations.filter(function(e){return e.isCollapsed}).forEach(function(e){var o=e.getDecorationRange(t);o&&(r.push({startLineNumber:o.startLineNumber+1,startColumn:1,endLineNumber:o.endLineNumber,endColumn:1}),n.forEach(function(e,r){c.Range.containsPosition(o,e.getStartPosition())&&(n[r]=e=e.setStartPosition(o.startLineNumber,t.getLineMaxColumn(o.startLineNumber)),i=!0),c.Range.containsPosition(o,e.getEndPosition())&&(n[r]=e.setEndPosition(o.startLineNumber,t.getLineMaxColumn(o.startLineNumber)),i=!0)}))}),i&&this.editor.setSelections(n),this.editor.setHiddenAreas(r),e&&this.editor.revealPositionInCenterIfOutsideViewport({lineNumber:e,column:1})},e.prototype.unfold=function(e){var t=this,n=this.editor.getModel(),i=!1,r=this.editor.getSelections(),o=!1;r.forEach(function(s,a){var c=h.getCollapsibleRegionsToUnfoldAtLine(t.decorations,n,s.startLineNumber,e);if(c.length>0&&(c.forEach(function(e,n){t.editor.changeDecorations(function(t){
e.setCollapsed(!1,t),i=!0})}),!h.doesLineBelongsToCollapsibleRegion(c[0].foldingRange,s.startLineNumber))){var u=c[0].startLineNumber,l=n.getLineMaxColumn(c[0].startLineNumber);r[a]=s.setEndPosition(u,l).setStartPosition(u,l),o=!0}}),o&&this.editor.setSelections(r),i&&this.updateHiddenAreas(r[0].startLineNumber)},e.prototype.fold=function(e,t){var n=this,i=!1,r=this.editor.getSelections();r.forEach(function(r){var o=r.startLineNumber,s=h.getCollapsibleRegionsToFoldAtLine(n.decorations,n.editor.getModel(),o,e,t);s.forEach(function(e){return n.editor.changeDecorations(function(t){e.setCollapsed(!0,t),i=!0})})}),i&&this.updateHiddenAreas(r[0].startLineNumber)},e.prototype.foldUnfoldRecursively=function(e){var t=this,n=!1,i=this.editor.getModel(),r=this.editor.getSelections();r.forEach(function(r){for(var o,s=r.startLineNumber,a=[],c=0,u=t.decorations.length;c<u;c++){var l=t.decorations[c],h=l.getDecorationRange(i);if(h&&h.startLineNumber>=s&&(h.endLineNumber<=o||"undefined"==typeof o)){if(h.startLineNumber!==s&&"undefined"==typeof o)return;o=o||h.endLineNumber,a.push(l)}}a.length>0&&a.forEach(function(i){t.editor.changeDecorations(function(t){i.setCollapsed(e,t),n=!0})})}),n&&this.updateHiddenAreas(r[0].startLineNumber)},e.prototype.foldAll=function(){this.changeAll(!0)},e.prototype.unfoldAll=function(){this.changeAll(!1)},e.prototype.changeAll=function(e){var t=this;if(this.decorations.length>0){var n=!0;this.editor.changeDecorations(function(i){t.decorations.forEach(function(t){e!==t.isCollapsed&&(t.setCollapsed(e,i),n=!0)})}),n&&this.updateHiddenAreas(this.editor.getPosition().lineNumber)}},e.prototype.foldLevel=function(e,t){var n=this,i=this.editor.getModel(),r=[i.getFullModelRange()],o=!1;this.editor.changeDecorations(function(s){n.decorations.forEach(function(n){var a=n.getDecorationRange(i);if(a){for(;!c.Range.containsRange(r[r.length-1],a);)r.pop();r.push(a),r.length!==e+1||n.isCollapsed||t.some(function(e){return a.startLineNumber<e&&e<=a.endLineNumber})||(n.setCollapsed(!0,s),o=!0)}})}),o&&this.updateHiddenAreas(t[0])},e.MAX_FOLDING_REGIONS=5e3,e=g([l.editorContribution],e)}();t.FoldingController=y;var b=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.runEditorCommand=function(e,t,n){var i=y.get(t);i&&(this.reportTelemetry(e),this.invoke(i,t,n))},t.prototype.run=function(e,t){},t}(u.EditorAction),S=(function(e){function t(){e.call(this,{id:"editor.unfold",label:n.localize(0,null),alias:"Unfold",precondition:null,kbOpts:{kbExpr:m.TextFocus,primary:49241},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'level': Number of levels to unfold\n\t\t\t\t\t\t",constraint:v}]}})}return d(t,e),t.prototype.invoke=function(e,t,n){e.unfold(n?n.levels||1:1)},t=g([u.editorAction],t)}(b),function(e){function t(){e.call(this,{id:"editor.unfoldRecursively",label:n.localize(1,null),alias:"Unfold Recursively",precondition:null,kbOpts:{kbExpr:m.TextFocus,primary:o.KeyChord(32809,32857)}})}return d(t,e),t.prototype.invoke=function(e,t,n){e.foldUnfoldRecursively(!1)},t=g([u.editorAction],t)}(b),function(e){function t(){e.call(this,{id:"editor.fold",label:n.localize(2,null),alias:"Fold",precondition:null,kbOpts:{kbExpr:m.TextFocus,primary:49239},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold\n\t\t\t\t\t\t\t* 'up': If 'true' folds given number of levels up otherwise folds down\n\t\t\t\t\t\t",constraint:v}]}})}return d(t,e),t.prototype.invoke=function(e,t,n){n=n?n:{levels:1,direction:"up"},e.fold(n.levels||1,"up"===n.direction)},t=g([u.editorAction],t)}(b),function(e){function t(){e.call(this,{id:"editor.foldRecursively",label:n.localize(3,null),alias:"Fold Recursively",precondition:null,kbOpts:{kbExpr:m.TextFocus,primary:o.KeyChord(32809,32855)}})}return d(t,e),t.prototype.invoke=function(e,t){e.foldUnfoldRecursively(!0)},t=g([u.editorAction],t)}(b),function(e){function t(){e.call(this,{id:"editor.foldAll",label:n.localize(4,null),alias:"Fold All",precondition:null,kbOpts:{kbExpr:m.TextFocus,primary:o.KeyChord(32809,32789)}})}return d(t,e),t.prototype.invoke=function(e,t){e.foldAll()},t=g([u.editorAction],t)}(b),function(e){function t(){e.call(this,{id:"editor.unfoldAll",label:n.localize(5,null),alias:"Unfold All",precondition:null,kbOpts:{kbExpr:m.TextFocus,primary:o.KeyChord(32809,32808)}})}return d(t,e),t.prototype.invoke=function(e,t){e.unfoldAll()},t=g([u.editorAction],t)}(b),function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getFoldingLevel=function(){return parseInt(this.id.substr(t.ID_PREFIX.length))},t.prototype.getSelectedLines=function(e){return e.getSelections().map(function(e){return e.startLineNumber})},t.prototype.invoke=function(e,t){e.foldLevel(this.getFoldingLevel(),this.getSelectedLines(t))},t.ID_PREFIX="editor.foldLevel",t.ID=function(e){return t.ID_PREFIX+e},t}(b));u.CommonEditorRegistry.registerEditorAction(new S({id:S.ID(1),label:n.localize(6,null),alias:"Fold Level 1",precondition:null,kbOpts:{kbExpr:m.TextFocus,primary:o.KeyChord(32809,32790)}})),u.CommonEditorRegistry.registerEditorAction(new S({id:S.ID(2),label:n.localize(7,null),alias:"Fold Level 2",precondition:null,kbOpts:{kbExpr:m.TextFocus,primary:o.KeyChord(32809,32791)}})),u.CommonEditorRegistry.registerEditorAction(new S({id:S.ID(3),label:n.localize(8,null),alias:"Fold Level 3",precondition:null,kbOpts:{kbExpr:m.TextFocus,primary:o.KeyChord(32809,32792)}})),u.CommonEditorRegistry.registerEditorAction(new S({id:S.ID(4),label:n.localize(9,null),alias:"Fold Level 4",precondition:null,kbOpts:{kbExpr:m.TextFocus,primary:o.KeyChord(32809,32793)}})),u.CommonEditorRegistry.registerEditorAction(new S({id:S.ID(5),label:n.localize(10,null),alias:"Fold Level 5",precondition:null,kbOpts:{kbExpr:m.TextFocus,primary:o.KeyChord(32809,32794)}}))}),define(l[343],h([1,0,7,16,35,2,15,27,49,40,17]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";function h(e,t,i){var s=c.DocumentRangeFormattingEditProviderRegistry.ordered(e);if(0===s.length)return o.TPromise.as(void 0);var a;return l.sequence(s.map(function(o){if(r.isFalsyOrEmpty(a))return function(){return l.asWinJsPromise(function(n){return o.provideDocumentRangeFormattingEdits(e,t,i,n)}).then(function(e){a=e},n.onUnexpectedExternalError)}})).then(function(){return a})}function d(e,t){var i=c.DocumentFormattingEditProviderRegistry.ordered(e);if(0===i.length)return h(e,e.getFullModelRange(),t);var o;return l.sequence(i.map(function(i){if(r.isFalsyOrEmpty(o))return function(){return l.asWinJsPromise(function(n){return i.provideDocumentFormattingEdits(e,t,n)}).then(function(e){o=e},n.onUnexpectedExternalError)}})).then(function(){return o})}function p(e,t,i,r){var s=c.OnTypeFormattingEditProviderRegistry.ordered(e)[0];return s?s.autoFormatTriggerCharacters.indexOf(i)<0?o.TPromise.as(void 0):l.asWinJsPromise(function(n){return s.provideOnTypeFormattingEdits(e,t,i,r,n)}).then(function(e){return e},n.onUnexpectedExternalError):o.TPromise.as(void 0)}t.getDocumentRangeFormattingEdits=h,t.getDocumentFormattingEdits=d,t.getOnTypeFormattingEdits=p,a.CommonEditorRegistry.registerLanguageCommand("_executeFormatRangeProvider",function(e,t){var r=t.resource,o=t.range,a=t.options;if(!(r instanceof i.default&&s.Range.isIRange(o)))throw n.illegalArgument();var c=e.get(u.IModelService).getModel(r);if(!c)throw n.illegalArgument("resource");return h(c,s.Range.lift(o),a)}),a.CommonEditorRegistry.registerLanguageCommand("_executeFormatDocumentProvider",function(e,t){var r=t.resource,o=t.options;if(!(r instanceof i.default))throw n.illegalArgument("resource");var s=e.get(u.IModelService).getModel(r);if(!s)throw n.illegalArgument("resource");return d(s,o)}),a.CommonEditorRegistry.registerDefaultLanguageCommand("_executeFormatOnTypeProvider",function(e,t,i){var r=i.ch,o=i.options;if("string"!=typeof r)throw n.illegalArgument("ch");return p(e,t,r,o)})}),define(l[811],h([1,0,1223,35,52,5,2,10,23,27,49,343,357,34,62,159]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y){"use strict";var b=a.ModeContextKeys,S=a.EditorContextKeys,E=(function(){function e(e,t){var n=this;this.editor=e,this.workerService=t,this.callOnDispose=[],this.callOnModel=[],this.callOnDispose.push(e.onDidChangeConfiguration(function(){return n.update()})),this.callOnDispose.push(e.onDidChangeModel(function(){return n.update()})),this.callOnDispose.push(e.onDidChangeModelMode(function(){return n.update()})),this.callOnDispose.push(l.OnTypeFormattingEditProviderRegistry.onDidChange(this.update,this))}return e.prototype.update=function(){var e=this;if(this.callOnModel=o.dispose(this.callOnModel),this.editor.getConfiguration().contribInfo.formatOnType&&this.editor.getModel()){var t=this.editor.getModel(),n=l.OnTypeFormattingEditProviderRegistry.ordered(t)[0];n&&n.autoFormatTriggerCharacters&&n.autoFormatTriggerCharacters.forEach(function(t){e.callOnModel.push(e.editor.addTypingListener(t,e.trigger.bind(e,t)))})}},e.prototype.trigger=function(e){var t=this;if(!(this.editor.getSelections().length>1)){var n=this.editor.getModel(),r=this.editor.getPosition(),o=!1,s=this.editor.onDidChangeModelRawContent(function(e){if(e.changeType===a.EventType.ModelRawContentChangedFlush)o=!0;else if(e.changeType===a.EventType.ModelRawContentChangedLineChanged){var t=e.lineNumber;o=t<=r.lineNumber}else if(e.changeType===a.EventType.ModelRawContentChangedLinesInserted){var n=e.fromLineNumber;o=n<=r.lineNumber}else if(e.changeType===a.EventType.ModelRawContentChangedLinesDeleted){var i=e.toLineNumber;o=i<=r.lineNumber}o&&s.dispose()}),c=n.getOptions();h.getOnTypeFormattingEdits(n,r,e,{tabSize:c.tabSize,insertSpaces:c.insertSpaces}).then(function(e){return t.workerService.computeMoreMinimalEdits(n.uri,e,[])}).then(function(e){s.dispose(),o||i.isFalsyOrEmpty(e)||t.editor.executeCommand(t.getId(),new p.EditOperationsCommand(e,t.editor.getSelection()))},function(e){throw s.dispose(),e})}},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.callOnDispose=o.dispose(this.callOnDispose),this.callOnModel=o.dispose(this.callOnModel)},e.ID="editor.contrib.autoFormat",e=g([u.commonEditorContribution,v(1,y.IEditorWorkerService)],e)}(),function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.run=function(e,t){var n=this,r=e.get(y.IEditorWorkerService),o=this._getFormattingEdits(t);if(!o)return s.TPromise.as(void 0);var c=t.captureState(a.CodeEditorStateFlag.Value,a.CodeEditorStateFlag.Position);return o.then(function(e){return r.computeMoreMinimalEdits(t.getModel().uri,e,t.getSelections())}).then(function(e){if(c.validate(t)&&!i.isFalsyOrEmpty(e)){var r=new p.EditOperationsCommand(e,t.getSelection());t.executeCommand(n.id,r),t.focus()}})},t}(u.EditorAction));t.AbstractFormatAction=E;var _=function(e){function t(){e.call(this,{id:"editor.action.formatDocument",label:n.localize(0,null),alias:"Format Document",precondition:c.ContextKeyExpr.and(S.Writable,b.hasDocumentFormattingProvider),kbOpts:{kbExpr:S.TextFocus,primary:24612,linux:{primary:49191}},menuOpts:{group:"1_modification",order:1.3}})}return d(t,e),t.prototype._getFormattingEdits=function(e){var t=e.getModel(),n=t.getOptions(),i=n.tabSize,r=n.insertSpaces;return h.getDocumentFormattingEdits(t,{tabSize:i,insertSpaces:r})},t=g([u.editorAction],t)}(E);t.FormatDocumentAction=_;var C=function(e){function t(){e.call(this,{id:"editor.action.formatSelection",label:n.localize(1,null),alias:"Format Code",precondition:c.ContextKeyExpr.and(S.Writable,b.hasDocumentFormattingProvider,S.HasNonEmptySelection),kbOpts:{kbExpr:S.TextFocus,primary:r.KeyChord(32809,32804)},menuOpts:{group:"1_modification",order:1.31}})}return d(t,e),t.prototype._getFormattingEdits=function(e){var t=e.getModel(),n=t.getOptions(),i=n.tabSize,r=n.insertSpaces;return h.getDocumentRangeFormattingEdits(t,e.getSelection(),{tabSize:i,insertSpaces:r})},t=g([u.editorAction],t)}(E);t.FormatSelectionAction=C,f.CommandsRegistry.registerCommand("editor.action.format",function(e){var t=e.get(m.ICodeEditorService).getFocusedCodeEditor();if(t)return(new(function(e){function t(){e.call(this,{})}return d(t,e),t.prototype._getFormattingEdits=function(e){var t=e.getModel(),n=e.getSelection(),i=t.getOptions(),r=i.tabSize,o=i.insertSpaces;return n.isEmpty()?h.getDocumentFormattingEdits(t,{tabSize:r,insertSpaces:o}):h.getDocumentRangeFormattingEdits(t,n,{tabSize:r,insertSpaces:o})},t}(E))).run(e,t)})}),define(l[812],h([1,0,7,2,27,49,17]),function(e,t,n,i,r,o,s){"use strict";function a(e,t){var r=o.DefinitionProviderRegistry.ordered(e),a=r.map(function(i,r){return s.asWinJsPromise(function(n){return i.provideDefinition(e,t,n)}).then(function(e){return e},function(e){n.onUnexpectedExternalError(e)})});return i.TPromise.join(a).then(function(e){for(var t=[],n=0,i=e;n<i.length;n++){var r=i[n];Array.isArray(r)?t.push.apply(t,r):r&&t.push(r)}return t})}t.getDeclarationsAtPosition=a,r.CommonEditorRegistry.registerDefaultLanguageCommand("_executeDefinitionProvider",a)}),define(l[813],h([1,0,407,11,5,32,8,34,23,128,19,44,15,10,27,58,267,676]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b){"use strict";var S=f.EditorContextKeys,E=function(){function e(e,t){var n=this;this._editor=e,this._markers=null,this._nextIdx=-1,this._toUnbind=[],this._ignoreSelectionChange=!1,this._onCurrentMarkerChanged=new i.Emitter,this._onMarkerSetChanged=new i.Emitter,this.setMarkers(t),this._toUnbind.push(this._editor.onDidDispose(function(){return n.dispose()})),this._toUnbind.push(this._editor.onDidChangeCursorPosition(function(){n._ignoreSelectionChange||(n._nextIdx=-1)}))}return Object.defineProperty(e.prototype,"onCurrentMarkerChanged",{get:function(){return this._onCurrentMarkerChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMarkerSetChanged",{get:function(){return this._onMarkerSetChanged.event},enumerable:!0,configurable:!0}),e.prototype.setMarkers=function(e){this._markers=e||[],this._markers.sort(function(e,t){return o.default.compare(e.severity,t.severity)||p.Range.compareRangesUsingStarts(e,t)}),this._nextIdx=-1,this._onMarkerSetChanged.fire(this)},e.prototype.withoutWatchingEditorPosition=function(e){this._ignoreSelectionChange=!0;try{e()}finally{this._ignoreSelectionChange=!1}},e.prototype._initIdx=function(e){for(var t=!1,n=this._editor.getPosition(),i=0;i<this._markers.length;i++)if(p.Range.containsPosition(this._markers[i],n)){this._nextIdx=i+(e?0:-1),t=!0;break}t||(this._nextIdx=e?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)},e.prototype.move=function(e){if(!this.canNavigate())return void this._onCurrentMarkerChanged.fire(void 0);this._nextIdx===-1?this._initIdx(e):e?(this._nextIdx+=1,this._nextIdx>=this._markers.length&&(this._nextIdx=0)):(this._nextIdx-=1,this._nextIdx<0&&(this._nextIdx=this._markers.length-1));var t=this._markers[this._nextIdx];this._onCurrentMarkerChanged.fire(t)},e.prototype.canNavigate=function(){return this._markers.length>0},e.prototype.next=function(){this.move(!0)},e.prototype.previous=function(){this.move(!1)},e.prototype.findMarkerAtPosition=function(e){for(var t=0,n=this._markers;t<n.length;t++){var i=n[t];if(p.Range.containsPosition(i,e))return i}},Object.defineProperty(e.prototype,"total",{get:function(){return this._markers.length},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return 1+this._markers.indexOf(e)},e.prototype.reveal=function(){var e=this;this._nextIdx!==-1&&this.withoutWatchingEditorPosition(function(){var t=new h.Position(e._markers[e._nextIdx].startLineNumber,e._markers[e._nextIdx].startColumn);e._editor.setPosition(t),e._editor.revealPositionInCenter(t)})},e.prototype.dispose=function(){this._toUnbind=r.dispose(this._toUnbind)},e}(),_=function(){function e(e){this.lines=0,this.domNode=document.createElement("div"),this.domNode.className="block descriptioncontainer",this.domNode.setAttribute("aria-live","assertive"),this.domNode.setAttribute("role","alert"),e.appendChild(this.domNode)}return e.prototype.update=function(e){var t=this,n=e.source,i=e.message;if(this.lines=1,n){var r=new Array(n.length+3+1).join(" ");i="["+n+"] "+i.replace(/\r\n|\r|\n/g,function(){return t.lines+=1,"\n"+r})}this.domNode.innerText=i},e}(),C=function(e){function t(t,n,i){e.call(this,t,{showArrow:!0,showFrame:!0,isAccessible:!0}),this._model=n,this._commandService=i,this._callOnDispose=[],this.create(),this._wireModelAndView()}return d(t,e),t.prototype.dispose=function(){this._callOnDispose=r.dispose(this._callOnDispose),e.prototype.dispose.call(this)},t.prototype.focus=function(){this._parentContainer.focus()},t.prototype._fillContainer=function(e){this._parentContainer=e,s.addClass(e,"marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._title=document.createElement("div"),this._title.className="block title",this._container.appendChild(this._title),this._message=new _(this._container),this.editor.applyFontInfo(this._message.domNode)},t.prototype.show=function(t,n){e.prototype.show.call(this,t,n),this.focus()},t.prototype._wireModelAndView=function(){this._model.onCurrentMarkerChanged(this.showAtMarker,this,this._callOnDispose),this._model.onMarkerSetChanged(this._onMarkersChanged,this,this._callOnDispose)},t.prototype.showAtMarker=function(e){var t=this;e&&(this._container.classList.remove("stale"),this._title.innerHTML=n.localize(0,null,this._model.indexOf(e),this._model.total),this._message.update(e),this._model.withoutWatchingEditorPosition(function(){switch(e.severity){case o.default.Error:t.options.frameColor="#ff5a5a";break;case o.default.Warning:case o.default.Info:t.options.frameColor="#5aac5a"}t.show({lineNumber:e.startLineNumber,column:e.startColumn},t.computeRequiredHeight())}))},t.prototype._onMarkersChanged=function(){var e=this._model.findMarkerAtPosition(this.position);e?(this._container.classList.remove("stale"),this._message.update(e)):this._container.classList.add("stale"),this._relayout()},t.prototype._relayout=function(){e.prototype._relayout.call(this,this.computeRequiredHeight())},t.prototype.computeRequiredHeight=function(){return 1+this._message.lines},t}(b.ZoneWidget),w=function(e){function t(t,n){e.call(this,n),this._isNext=t}return d(t,e),t.prototype.run=function(e,t){var n=e.get(l.ITelemetryService),i=I.get(t);if(i){var r=i.getOrCreateModel();n.publicLog("zoneWidgetShown",{mode:"go to error"}),r&&(this._isNext?r.next():r.previous(),r.reveal())}},t}(m.EditorAction),I=function(){function e(e,t,n,i){this._markerService=t,this._contextKeyService=n,this._commandService=i,this._callOnClose=[],this._editor=e,this._markersNavigationVisible=T.bindTo(this._contextKeyService)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._cleanUp()},e.prototype._cleanUp=function(){this._markersNavigationVisible.reset(),this._callOnClose=r.dispose(this._callOnClose),this._zone=null,this._model=null},e.prototype.getOrCreateModel=function(){var e=this;if(this._model)return this._model;var t=this._getMarkers();return this._model=new E(this._editor,t),this._zone=new C(this._editor,this._model,this._commandService),this._markersNavigationVisible.set(!0),this._callOnClose.push(this._model),this._callOnClose.push(this._zone),this._callOnClose.push(this._editor.onDidChangeModel(function(){return e._cleanUp()})),this._model.onCurrentMarkerChanged(function(t){return!t&&e._cleanUp()},void 0,this._callOnClose),this._markerService.onMarkerChanged(this._onMarkerChanged,this,this._callOnClose),this._model},e.prototype.closeMarkersNavigation=function(){this._cleanUp(),this._editor.focus()},e.prototype._onMarkerChanged=function(e){var t=this;e.some(function(e){return t._editor.getModel().uri.toString()===e.toString()})&&this._model.setMarkers(this._getMarkers())},e.prototype._getMarkers=function(){return this._markerService.read({resource:this._editor.getModel().uri})},e.ID="editor.contrib.markerController",e=g([y.editorContribution,v(1,u.IMarkerService),v(2,c.IContextKeyService),v(3,a.ICommandService)],e)}(),T=(function(e){function t(){e.call(this,!0,{id:"editor.action.marker.next",label:n.localize(1,null),alias:"Go to Next Error or Warning",precondition:S.Writable,kbOpts:{kbExpr:S.Focus,primary:66}})}return d(t,e),t=g([m.editorAction],t)}(w),function(e){function t(){e.call(this,!1,{id:"editor.action.marker.prev",label:n.localize(2,null),alias:"Go to Previous Error or Warning",precondition:S.Writable,kbOpts:{kbExpr:S.Focus,primary:16450}})}return d(t,e),t=g([m.editorAction],t)}(w),new c.RawContextKey("markersNavigationVisible",(!1))),x=m.EditorCommand.bindToContribution(I.get);m.CommonEditorRegistry.registerEditorCommand(new x({id:"closeMarkersNavigation",precondition:T,handler:function(e){return e.closeMarkersNavigation()},kbOpts:{weight:m.CommonEditorRegistry.commandWeight(50),kbExpr:S.Focus,primary:9,secondary:[16393]}}))}),define(l[814],h([1,0,35,7,2,27,49,17]),function(e,t,n,i,r,o,s,a){"use strict";function c(e,t){var o=s.HoverProviderRegistry.ordered(e),c=[],u=o.map(function(n,r){return a.asWinJsPromise(function(i){return n.provideHover(e,t,i)}).then(function(e){if(e){var t="undefined"!=typeof e.range,n="undefined"!=typeof e.contents&&e.contents&&e.contents.length>0;t&&n&&(c[r]=e)}},function(e){i.onUnexpectedExternalError(e)})});return r.TPromise.join(u).then(function(){return n.coalesce(c)})}t.getHover=c,o.CommonEditorRegistry.registerDefaultLanguageCommand("_executeHoverProvider",c)}),define(l[815],h([1,0,409,16,7,8,2,163,131,15,44,49,240,814,361,362,262,301]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,g,v,m){"use strict";var y=function(){function e(e){this._editor=e,this._range=null}return e.prototype.setRange=function(e){this._range=e,this._result=[]},e.prototype.clearResult=function(){this._result=[]},e.prototype.computeAsync=function(){var e=this._editor.getModel();return h.HoverProviderRegistry.has(e)?f.getHover(e,new l.Position(this._range.startLineNumber,this._range.startColumn)):s.TPromise.as(null)},e.prototype.computeSync=function(){var e=this,t=this._range.startLineNumber;if(t>this._editor.getModel().getLineCount())return[];var n=function(e){return e&&(!Array.isArray(e)||e.length>0)},i=this._editor.getModel().getLineMaxColumn(t),r=this._editor.getLineDecorations(t),o=r.map(function(r){var o=r.range.startLineNumber===t?r.range.startColumn:1,s=r.range.endLineNumber===t?r.range.endColumn:i;if(o>e._range.startColumn||e._range.endColumn>s||!n(r.options.hoverMessage))return null;var a,c=new u.Range(e._range.startLineNumber,o,e._range.startLineNumber,s);return r.options.hoverMessage&&(a=Array.isArray(r.options.hoverMessage)?r.options.hoverMessage.slice():[r.options.hoverMessage]),{contents:a,range:c}});return o.filter(function(e){return!!e})},e.prototype.onResult=function(e,t){t?this._result=e.concat(this._result):this._result=this._result.concat(e)},e.prototype.getResult=function(){return this._result.slice(0)},e.prototype.getResultWithLoadingMessage=function(){return this._result.slice(0).concat([this._getLoadingMessage()])},e.prototype._getLoadingMessage=function(){return{range:this._range,contents:[m.textToMarkedString(n.localize(0,null))]}},e}(),b=function(e){function t(n,i,r){var o=this;e.call(this,t.ID,n),this._computer=new y(this._editor),this._highlightDecorations=[],this._isChangingDecorations=!1,this._openerService=i||c.NullOpenerService,this._modeService=r,this._hoverOperation=new g.HoverOperation(this._computer,function(e){return o._withResult(e,!0)},null,function(e){return o._withResult(e,!1)})}return d(t,e),t.prototype.dispose=function(){this._hoverOperation.cancel(),e.prototype.dispose.call(this)},t.prototype.onModelDecorationsChanged=function(){this._isChangingDecorations||this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start())},t.prototype.startShowingAt=function(e,t){if(!this._lastRange||!this._lastRange.equalsRange(e)){if(this._hoverOperation.cancel(),this.isVisible)if(this._showAtPosition.lineNumber!==e.startLineNumber)this.hide();else{for(var n=[],i=0,r=this._messages.length;i<r;i++){var o=this._messages[i],s=o.range;s.startColumn<=e.startColumn&&s.endColumn>=e.endColumn&&n.push(o)}n.length>0?this._renderMessages(e,n):this.hide()}this._lastRange=e,this._computer.setRange(e),this._shouldFocus=t,this._hoverOperation.start()}},t.prototype.hide=function(){this._lastRange=null,this._hoverOperation.cancel(),e.prototype.hide.call(this),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1},t.prototype._withResult=function(e,t){this._messages=e,this._lastRange&&this._messages.length>0?this._renderMessages(this._lastRange,this._messages):t&&this.hide()},t.prototype._renderMessages=function(e,t){var n=this,s=Number.MAX_VALUE,c=t[0].range,l=document.createDocumentFragment();t.forEach(function(e){e.range&&(s=Math.min(s,e.range.startColumn),c=u.Range.plusRange(c,e.range),e.contents.filter(function(e){return!!e}).forEach(function(e){var t=a.renderMarkedString(e,{actionCallback:function(e){n._openerService.open(i.default.parse(e)).then(void 0,r.onUnexpectedError)},codeBlockRenderer:function(e,t){var i=e?n._modeService.getModeIdForLanguageName(e):n._editor.getModel().getModeId();return n._modeService.getOrCreateMode(i).then(function(e){return'<div class="code">'+p.tokenizeToString(t,i)+"</div>"})}});l.appendChild(o.$("div.hover-row",null,t))}))}),this.showAt({lineNumber:e.startLineNumber,column:s},this._shouldFocus),this.updateContents(l),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[{range:c,options:{className:"hoverHighlight"}}]),this._isChangingDecorations=!1},t.ID="editor.contrib.modesContentHoverWidget",t}(v.ContentHoverWidget);t.ModesContentHoverWidget=b}),define(l[816],h([1,0,408,52,13,131,54,15,10,27,58,815,751,5,677]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f){"use strict";var m=c.EditorContextKeys,y=function(){function e(e,t,n){var i=this;this._editor=e,this._toUnhook=[],e.getConfiguration().contribInfo.hover&&(this._toUnhook.push(this._editor.onMouseDown(function(e){return i._onEditorMouseDown(e)})),this._toUnhook.push(this._editor.onMouseMove(function(e){return i._onEditorMouseMove(e)})),this._toUnhook.push(this._editor.onMouseLeave(function(e){return i._hideWidgets()})),this._toUnhook.push(this._editor.onKeyDown(function(e){return i._onKeyDown(e)})),this._toUnhook.push(this._editor.onDidChangeModel(function(){return i._hideWidgets()})),this._toUnhook.push(this._editor.onDidChangeModelDecorations(function(){return i._onModelDecorationsChanged()})),this._toUnhook.push(this._editor.onDidScrollChange(function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&i._hideWidgets()})),this._contentWidget=new h.ModesContentHoverWidget(e,t,n),this._glyphWidget=new p.ModesGlyphHoverWidget(e,t,n))}return e.get=function(t){return t.getContribution(e.ID)},e.prototype._onModelDecorationsChanged=function(){this._contentWidget.onModelDecorationsChanged(),this._glyphWidget.onModelDecorationsChanged()},e.prototype._onEditorMouseDown=function(e){var t=e.target.type;t===c.MouseTargetType.CONTENT_WIDGET&&e.target.detail===h.ModesContentHoverWidget.ID||t===c.MouseTargetType.OVERLAY_WIDGET&&e.target.detail===p.ModesGlyphHoverWidget.ID||this._hideWidgets()},e.prototype._onEditorMouseMove=function(e){var t=e.target.type,n=r.isMacintosh?"metaKey":"ctrlKey";(t!==c.MouseTargetType.CONTENT_WIDGET||e.target.detail!==h.ModesContentHoverWidget.ID||e.event[n])&&(t!==c.MouseTargetType.OVERLAY_WIDGET||e.target.detail!==p.ModesGlyphHoverWidget.ID||e.event[n])&&(this._editor.getConfiguration().contribInfo.hover&&t===c.MouseTargetType.CONTENT_TEXT?(this._glyphWidget.hide(),this._contentWidget.startShowingAt(e.target.range,!1)):t===c.MouseTargetType.GUTTER_GLYPH_MARGIN?(this._contentWidget.hide(),this._glyphWidget.startShowingAt(e.target.position.lineNumber)):this._hideWidgets())},e.prototype._onKeyDown=function(e){var t=r.isMacintosh?57:5;e.keyCode!==t&&this._hideWidgets()},e.prototype._hideWidgets=function(){this._glyphWidget.hide(),this._contentWidget.hide()},e.prototype.showContentHover=function(e,t){this._contentWidget.startShowingAt(e,t)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._toUnhook=f.dispose(this._toUnhook),this._glyphWidget&&(this._glyphWidget.dispose(),this._glyphWidget=null),this._contentWidget&&(this._contentWidget.dispose(),this._contentWidget=null)},e.ID="editor.contrib.hover",e=g([l.editorContribution,v(1,o.IOpenerService),v(2,s.IModeService)],e)}();(function(e){function t(){e.call(this,{id:"editor.action.showHover",label:n.localize(0,null),alias:"Show Hover",precondition:null,kbOpts:{kbExpr:m.TextFocus,primary:i.KeyChord(32809,32807)}})}return d(t,e),t.prototype.run=function(e,t){var n=y.get(t);if(n){var i=t.getPosition(),r=new a.Range(i.lineNumber,i.column,i.lineNumber,i.column);n.showContentHover(r,!0)}},t=g([u.editorAction],t)})(u.EditorAction)}),define(l[817],h([1,0,410,2,15,46,10,27,159,977]),function(e,t,n,i,r,o,s,a,c,u){"use strict";var l=function(){function e(e,t){this.editor=e,this.editorWorkerService=t,this.requestIdPool=0,this.currentRequest=i.TPromise.as(null),this.decorationRemover=i.TPromise.as(null),this.decorationIds=[]}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){},e.prototype.getId=function(){return e.ID},e.prototype.run=function(t,n){var a=this;this.currentRequest.cancel();var c=this.editor.getSelection(),l=this.editor.getModel(),h=l.uri;if(c.startLineNumber!==c.endLineNumber)return null;var d=this.editor.captureState(s.CodeEditorStateFlag.Value,s.CodeEditorStateFlag.Position);return this.currentRequest=this.editorWorkerService.navigateValueSet(h,c,n),this.currentRequest=this.currentRequest.then(function(e){return e&&e.range&&e.value?e:null}),this.currentRequest.then(function(n){if(n&&n.range&&n.value&&d.validate(a.editor)){var s=r.Range.lift(n.range),l=n.range,h=n.value.length-(c.endColumn-c.startColumn);l={startLineNumber:l.startLineNumber,startColumn:l.startColumn,endLineNumber:l.endLineNumber,endColumn:l.startColumn+n.value.length},h>1&&(c=new o.Selection(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn+h-1));var p=new u.InPlaceReplaceCommand(s,c,n.value);a.editor.executeCommand(t,p),a.decorationIds=a.editor.deltaDecorations(a.decorationIds,[{range:l,options:e.DECORATION}]),a.decorationRemover.cancel(),a.decorationRemover=i.TPromise.timeout(350),a.decorationRemover.then(function(){a.editor.changeDecorations(function(e){a.decorationIds=e.deltaDecorations(a.decorationIds,[])})})}})},e.ID="editor.contrib.inPlaceReplaceController",e.DECORATION={className:"valueSetReplacement"},e=g([a.commonEditorContribution,v(1,c.IEditorWorkerService)],e)}();(function(e){function t(){e.call(this,{id:"editor.action.inPlaceReplace.up",label:n.localize(0,null),alias:"Replace with Previous Value",precondition:s.EditorContextKeys.Writable,kbOpts:{kbExpr:s.EditorContextKeys.TextFocus,primary:49234}})}return d(t,e),t.prototype.run=function(e,t){var n=l.get(t);if(n)return n.run(this.id,!0)},t=g([a.editorAction],t)})(a.EditorAction),function(e){function t(){e.call(this,{id:"editor.action.inPlaceReplace.down",label:n.localize(1,null),alias:"Replace with Next Value",precondition:s.EditorContextKeys.Writable,kbOpts:{kbExpr:s.EditorContextKeys.TextFocus,primary:49236}})}return d(t,e),t.prototype.run=function(e,t){var n=l.get(t);if(n)return n.run(this.id,!1)},t=g([a.editorAction],t)}(a.EditorAction)}),define(l[345],h([1,0,411,52,990,118,310,10,164,15,46,27,982,985,989]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,v){
"use strict";var m=function(e){function t(t,n){e.call(this,n),this.down=t}return d(t,e),t.prototype.run=function(e,t){for(var n=[],i=t.getSelections(),r=0;r<i.length;r++)n.push(new p.CopyLinesCommand(i[r],this.down));t.executeCommands(this.id,n)},t}(h.EditorAction),y=(function(e){function t(){e.call(this,!1,{id:"editor.action.copyLinesUpAction",label:n.localize(0,null),alias:"Copy Line Up",precondition:a.EditorContextKeys.Writable,kbOpts:{kbExpr:a.EditorContextKeys.TextFocus,primary:24592,linux:{primary:57360}}})}return d(t,e),t=g([h.editorAction],t)}(m),function(e){function t(){e.call(this,!0,{id:"editor.action.copyLinesDownAction",label:n.localize(1,null),alias:"Copy Line Down",precondition:a.EditorContextKeys.Writable,kbOpts:{kbExpr:a.EditorContextKeys.TextFocus,primary:24594,linux:{primary:57362}}})}return d(t,e),t=g([h.editorAction],t)}(m),function(e){function t(t,n){e.call(this,n),this.down=t}return d(t,e),t.prototype.run=function(e,t){for(var n=[],i=t.getSelections(),r=0;r<i.length;r++)n.push(new v.MoveLinesCommand(i[r],this.down));t.executeCommands(this.id,n)},t}(h.EditorAction)),b=(function(e){function t(){e.call(this,!1,{id:"editor.action.moveLinesUpAction",label:n.localize(2,null),alias:"Move Line Up",precondition:a.EditorContextKeys.Writable,kbOpts:{kbExpr:a.EditorContextKeys.TextFocus,primary:8208,linux:{primary:8208}}})}return d(t,e),t=g([h.editorAction],t)}(y),function(e){function t(){e.call(this,!0,{id:"editor.action.moveLinesDownAction",label:n.localize(3,null),alias:"Move Line Down",precondition:a.EditorContextKeys.Writable,kbOpts:{kbExpr:a.EditorContextKeys.TextFocus,primary:8210,linux:{primary:8210}}})}return d(t,e),t=g([h.editorAction],t)}(y),function(e){function t(t,n){e.call(this,n),this.descending=t}return d(t,e),t.prototype.run=function(e,t){if(r.SortLinesCommand.canRun(t.getModel(),t.getSelection(),this.descending)){var n=new r.SortLinesCommand(t.getSelection(),this.descending);t.executeCommands(this.id,[n])}},t}(h.EditorAction)),S=(function(e){function t(){e.call(this,!1,{id:"editor.action.sortLinesAscending",label:n.localize(4,null),alias:"Sort Lines Ascending",precondition:a.EditorContextKeys.Writable})}return d(t,e),t=g([h.editorAction],t)}(b),function(e){function t(){e.call(this,!0,{id:"editor.action.sortLinesDescending",label:n.localize(5,null),alias:"Sort Lines Descending",precondition:a.EditorContextKeys.Writable})}return d(t,e),t=g([h.editorAction],t)}(b),function(e){function t(){e.call(this,{id:t.ID,label:n.localize(6,null),alias:"Trim Trailing Whitespace",precondition:a.EditorContextKeys.Writable,kbOpts:{kbExpr:a.EditorContextKeys.TextFocus,primary:i.KeyChord(32809,32822)}})}return d(t,e),t.prototype.run=function(e,t){var n=new s.TrimTrailingWhitespaceCommand(t.getSelection());t.executeCommands(this.id,[n])},t.ID="editor.action.trimTrailingWhitespace",t=g([h.editorAction],t)}(h.EditorAction));t.TrimTrailingWhitespaceAction=S;var E=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype._getLinesToRemove=function(e){var t=e.getSelections().map(function(e){var t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,endLineNumber:t,positionColumn:e.positionColumn}});t.sort(function(e,t){return e.startLineNumber-t.startLineNumber});for(var n=[],i=t[0],r=1;r<t.length;r++)i.endLineNumber+1===t[r].startLineNumber?i.endLineNumber=t[r].endLineNumber:(n.push(i),i=t[r]);return n.push(i),n},t}(h.EditorAction),_=(function(e){function t(){e.call(this,{id:"editor.action.deleteLines",label:n.localize(7,null),alias:"Delete Line",precondition:a.EditorContextKeys.Writable,kbOpts:{kbExpr:a.EditorContextKeys.TextFocus,primary:49193}})}return d(t,e),t.prototype.run=function(e,t){var n=this._getLinesToRemove(t),i=n.map(function(e){return new f.DeleteLinesCommand(e.startLineNumber,e.endLineNumber,e.positionColumn)});t.executeCommands(this.id,i)},t=g([h.editorAction],t)}(E),function(e){function t(){e.call(this,{id:"editor.action.indentLines",label:n.localize(8,null),alias:"Indent Line",precondition:a.EditorContextKeys.Writable,handlerId:a.Handler.Indent,kbOpts:{kbExpr:a.EditorContextKeys.TextFocus,primary:32857}})}return d(t,e),t=g([h.editorAction],t)}(h.HandlerEditorAction),function(e){function t(){e.call(this,{id:"editor.action.outdentLines",label:n.localize(9,null),alias:"Outdent Line",precondition:a.EditorContextKeys.Writable,handlerId:a.Handler.Outdent,kbOpts:{kbExpr:a.EditorContextKeys.TextFocus,primary:32855}})}return d(t,e),t=g([h.editorAction],t)}(h.HandlerEditorAction),function(e){function t(){e.call(this,{id:"editor.action.insertLineBefore",label:n.localize(10,null),alias:"Insert Line Above",precondition:a.EditorContextKeys.Writable,handlerId:a.Handler.LineInsertBefore,kbOpts:{kbExpr:a.EditorContextKeys.TextFocus,primary:49155}})}return d(t,e),t=g([h.editorAction],t)}(h.HandlerEditorAction),function(e){function t(){e.call(this,{id:"editor.action.insertLineAfter",label:n.localize(11,null),alias:"Insert Line Below",precondition:a.EditorContextKeys.Writable,handlerId:a.Handler.LineInsertAfter,kbOpts:{kbExpr:a.EditorContextKeys.TextFocus,primary:32771}})}return d(t,e),t=g([h.editorAction],t)}(h.HandlerEditorAction),function(e){function t(){e.call(this,{id:"deleteAllLeft",label:n.localize(12,null),alias:"Delete All Left",precondition:a.EditorContextKeys.Writable,kbOpts:{kbExpr:a.EditorContextKeys.TextFocus,primary:null,mac:{primary:32769}}})}return d(t,e),t.prototype.run=function(e,t){var n=t.getSelections();n.sort(u.Range.compareRangesUsingStarts),n=n.map(function(e){return e.isEmpty()?new l.Selection(e.startLineNumber,1,e.startLineNumber,e.startColumn):e});for(var i=[],r=0,s=n.length-1;r<s;r++){var a=n[r],c=n[r+1];null===u.Range.intersectRanges(a,c)?i.push(a):n[r+1]=u.Range.plusRange(a,c)}i.push(n[n.length-1]);var h=i.map(function(e){return o.EditOperation.replace(e,"")});t.executeEdits(this.id,h)},t=g([h.editorAction],t)}(h.EditorAction));t.DeleteAllLeftAction=_;var C=function(e){function t(){e.call(this,{id:"editor.action.joinLines",label:n.localize(13,null),alias:"Join Lines",precondition:a.EditorContextKeys.Writable,kbOpts:{kbExpr:a.EditorContextKeys.TextFocus,primary:0,mac:{primary:4136}}})}return d(t,e),t.prototype.run=function(e,t){var n=t.getSelections(),i=t.getSelection();n.sort(u.Range.compareRangesUsingStarts);var r=[],s=n.reduce(function(e,t){return e.isEmpty()?e.endLineNumber===t.startLineNumber?(i.equalsSelection(e)&&(i=t),t):t.startLineNumber>e.endLineNumber+1?(r.push(e),t):new l.Selection(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(r.push(e),t):new l.Selection(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn)});r.push(s);for(var a=t.getModel(),c=[],h=[],d=i,p=0,f=0,g=r.length;f<g;f++){var v=r[f],m=v.startLineNumber,y=1,b=void 0,S=void 0,E=void 0,_=a.getLineContent(v.endLineNumber).length-v.endColumn;if(v.isEmpty()||v.startLineNumber===v.endLineNumber){var C=v.getStartPosition();C.lineNumber<a.getLineCount()?(b=m+1,S=a.getLineMaxColumn(b)):(b=C.lineNumber,S=a.getLineMaxColumn(C.lineNumber))}else b=v.endLineNumber,S=a.getLineMaxColumn(b);for(var w=a.getLineContent(m),I=m+1;I<=b;I++){var T=a.getLineContent(I),x=a.getLineFirstNonWhitespaceColumn(I);if(x>=1){var A=!0;""===w&&(A=!1),!A||" "!==w.charAt(w.length-1)&&"\t"!==w.charAt(w.length-1)||(A=!1,w=w.replace(/[\s\uFEFF\xA0]+$/g," "));var D=T.substr(x-1);w+=(A?" ":"")+D,E=A?D.length+1:D.length}else E=0}var L=new u.Range(m,y,b,S);if(!L.isEmpty()){var k=void 0;v.isEmpty()?(c.push(o.EditOperation.replace(L,w)),k=new l.Selection(L.startLineNumber-p,w.length-E+1,m-p,w.length-E+1)):v.startLineNumber===v.endLineNumber?(c.push(o.EditOperation.replace(L,w)),k=new l.Selection(v.startLineNumber-p,v.startColumn,v.endLineNumber-p,v.endColumn)):(c.push(o.EditOperation.replace(L,w)),k=new l.Selection(v.startLineNumber-p,v.startColumn,v.startLineNumber-p,w.length-_)),null!==u.Range.intersectRanges(L,i)?d=k:h.push(k)}p+=L.endLineNumber-L.startLineNumber}t.executeEdits(this.id,c),h.unshift(d),t.setSelections(h)},t=g([h.editorAction],t)}(h.EditorAction);t.JoinLinesAction=C;var w=function(e){function t(){e.call(this,{id:"editor.action.transpose",label:n.localize(14,null),alias:"Transpose characters around the cursor",precondition:a.EditorContextKeys.Writable})}return d(t,e),t.prototype.run=function(e,t){for(var n=t.getSelections(),i=t.getModel(),r=[],o=0,s=n.length;o<s;o++){var a=n[o];if(a.isEmpty()){var h=a.getStartPosition(),d=i.getLineMaxColumn(h.lineNumber);if(h.column>=d){if(h.lineNumber===i.getLineCount())continue;var p=new u.Range(h.lineNumber,Math.max(1,h.column-1),h.lineNumber+1,1),f=i.getValueInRange(p).split("").reverse().join("");r.push(new c.ReplaceCommand(new l.Selection(h.lineNumber,Math.max(1,h.column-1),h.lineNumber+1,1),f))}else{var p=new u.Range(h.lineNumber,Math.max(1,h.column-1),h.lineNumber,h.column+1),f=i.getValueInRange(p).split("").reverse().join("");r.push(new c.ReplaceCommandThatPreservesSelection(p,f,new l.Selection(h.lineNumber,h.column+1,h.lineNumber,h.column+1)))}}}t.executeCommands(this.id,r)},t=g([h.editorAction],t)}(h.EditorAction);t.TransposeAction=w;var I=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.run=function(e,t){for(var n=t.getSelections(),i=t.getModel(),r=[],o=0,s=n.length;o<s;o++){var a=n[o];if(a.isEmpty()){var h=a.getStartPosition(),d=i.getWordAtPosition(h);if(!d)continue;var p=new u.Range(h.lineNumber,d.startColumn,h.lineNumber,d.endColumn),f=i.getValueInRange(p);r.push(new c.ReplaceCommandThatPreservesSelection(p,this._modifyText(f),new l.Selection(h.lineNumber,h.column,h.lineNumber,h.column)))}else{var f=i.getValueInRange(a);r.push(new c.ReplaceCommandThatPreservesSelection(a,this._modifyText(f),a))}}t.executeCommands(this.id,r)},t}(h.EditorAction);t.AbstractCaseAction=I;var T=function(e){function t(){e.call(this,{id:"editor.action.transformToUppercase",label:n.localize(15,null),alias:"Transform to Uppercase",precondition:a.EditorContextKeys.Writable})}return d(t,e),t.prototype._modifyText=function(e){return e.toLocaleUpperCase()},t=g([h.editorAction],t)}(I);t.UpperCaseAction=T;var x=function(e){function t(){e.call(this,{id:"editor.action.transformToLowercase",label:n.localize(16,null),alias:"Transform to Lowercase",precondition:a.EditorContextKeys.Writable})}return d(t,e),t.prototype._modifyText=function(e){return e.toLocaleLowerCase()},t=g([h.editorAction],t)}(I);t.LowerCaseAction=x}),define(l[819],h([1,0,412,7,13,32,2,18,131,10,27,49,159,658,5,58,683]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y){"use strict";var b=function(){function e(e,t){this.link=e,this.decorationId=t}return e.decoration=function(t){return{range:{startLineNumber:t.range.startLineNumber,startColumn:t.range.startColumn,endLineNumber:t.range.endLineNumber,endColumn:t.range.endColumn},options:e._getOptions(t,!1)}},e._getOptions=function(e,t){var n="";return n+=t?S.CLASS_NAME_ACTIVE:S.CLASS_NAME,{stickiness:u.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:n,hoverMessage:S.HOVER_MESSAGE_GENERAL}},e.prototype.activate=function(t){t.changeDecorationOptions(this.decorationId,e._getOptions(this.link,!0))},e.prototype.deactivate=function(t){t.changeDecorationOptions(this.decorationId,e._getOptions(this.link,!1))},e}(),S=function(){function e(e,t,n,i){var r=this;this.editor=e,this.openerService=t,this.messageService=n,this.editorWorkerService=i,this.listenersToRemove=[],this.listenersToRemove.push(e.onDidChangeModelContent(function(e){return r.onChange()})),this.listenersToRemove.push(e.onDidChangeModel(function(e){return r.onModelChanged()})),this.listenersToRemove.push(e.onDidChangeModelMode(function(e){return r.onModelModeChanged()})),this.listenersToRemove.push(h.LinkProviderRegistry.onDidChange(function(e){return r.onModelModeChanged()})),this.listenersToRemove.push(this.editor.onMouseUp(function(e){return r.onEditorMouseUp(e)})),this.listenersToRemove.push(this.editor.onMouseMove(function(e){return r.onEditorMouseMove(e)})),this.listenersToRemove.push(this.editor.onKeyDown(function(e){return r.onEditorKeyDown(e)})),this.listenersToRemove.push(this.editor.onKeyUp(function(e){return r.onEditorKeyUp(e)})),this.timeoutPromise=null,this.computePromise=null,this.currentOccurences={},this.activeLinkDecorationId=null,this.beginCompute()}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.isComputing=function(){return s.TPromise.is(this.computePromise)},e.prototype.onModelChanged=function(){this.lastMouseEvent=null,this.currentOccurences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()},e.prototype.onModelModeChanged=function(){this.stop(),this.beginCompute()},e.prototype.onChange=function(){var t=this;this.timeoutPromise||(this.timeoutPromise=s.TPromise.timeout(e.RECOMPUTE_TIME),this.timeoutPromise.then(function(){t.timeoutPromise=null,t.beginCompute()}))},e.prototype.beginCompute=function(){var e=this;this.editor.getModel()&&h.LinkProviderRegistry.has(this.editor.getModel())&&(this.computePromise=f.getLinks(this.editor.getModel()).then(function(t){e.updateDecorations(t),e.computePromise=null}))},e.prototype.updateDecorations=function(e){var t=this;this.editor.changeDecorations(function(n){for(var i=[],r=Object.keys(t.currentOccurences),o=0,s=r.length;o<s;o++){var a=r[o],c=t.currentOccurences[a];i.push(c.decorationId)}var u=[];if(e)for(var l=0;l<e.length;l++)u.push(b.decoration(e[l]));var h=n.deltaDecorations(i,u);t.currentOccurences={},t.activeLinkDecorationId=null;for(var d=0,s=h.length;d<s;d++){var p=new b(e[d],h[d]);t.currentOccurences[p.decorationId]=p}})},e.prototype.onEditorKeyDown=function(t){t.keyCode===e.TRIGGER_KEY_VALUE&&this.lastMouseEvent&&this.onEditorMouseMove(this.lastMouseEvent,t)},e.prototype.onEditorKeyUp=function(t){t.keyCode===e.TRIGGER_KEY_VALUE&&this.cleanUpActiveLinkDecoration()},e.prototype.onEditorMouseMove=function(e,t){var n=this;if(this.lastMouseEvent=e,this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();var i=this.getLinkOccurence(e.target.position);i&&this.editor.changeDecorations(function(e){i.activate(e),n.activeLinkDecorationId=i.decorationId})}else this.cleanUpActiveLinkDecoration()},e.prototype.cleanUpActiveLinkDecoration=function(){if(this.activeLinkDecorationId){var e=this.currentOccurences[this.activeLinkDecorationId];e&&this.editor.changeDecorations(function(t){e.deactivate(t)}),this.activeLinkDecorationId=null}},e.prototype.onEditorMouseUp=function(e){if(this.isEnabled(e)){var t=this.getLinkOccurence(e.target.position);t&&this.openLinkOccurence(t,e.event.altKey)}},e.prototype.openLinkOccurence=function(e,t){var r=this;if(this.openerService){var s=e.link;s.resolve().then(function(e){return r.openerService.open(e,{openToSide:t})},function(e){"invalid"===e?r.messageService.show(o.default.Warning,n.localize(2,null,s.url)):"missing"===e?r.messageService.show(o.default.Warning,n.localize(3,null)):i.onUnexpectedError(e)}).done(null,i.onUnexpectedError)}},e.prototype.getLinkOccurence=function(e){for(var t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0),n=0;n<t.length;n++){var i=t[n],r=this.currentOccurences[i.id];if(r)return r}return null},e.prototype.isEnabled=function(t,n){return t.target.type===u.MouseTargetType.CONTENT_TEXT&&(t.event[e.TRIGGER_MODIFIER]||n&&n.keyCode===e.TRIGGER_KEY_VALUE)},e.prototype.stop=function(){this.timeoutPromise&&(this.timeoutPromise.cancel(),this.timeoutPromise=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)},e.prototype.dispose=function(){this.listenersToRemove=m.dispose(this.listenersToRemove),this.stop()},e.ID="editor.linkDetector",e.RECOMPUTE_TIME=1e3,e.TRIGGER_KEY_VALUE=r.isMacintosh?57:5,e.TRIGGER_MODIFIER=r.isMacintosh?"metaKey":"ctrlKey",e.HOVER_MESSAGE_GENERAL=r.isMacintosh?n.localize(0,null):n.localize(1,null),e.CLASS_NAME="detected-link",e.CLASS_NAME_ACTIVE="detected-link-active",e=g([y.editorContribution,v(1,c.IOpenerService),v(2,a.IMessageService),v(3,p.IEditorWorkerService)],e)}();(function(e){function t(){e.call(this,{id:"editor.action.openLink",label:n.localize(4,null),alias:"Open Link",precondition:null})}return d(t,e),t.prototype.run=function(e,t){var n=S.get(t);if(n){var i=n.getLinkOccurence(t.getPosition());i&&n.openLinkOccurence(i,!1)}},t=g([l.editorAction],t)})(l.EditorAction)}),define(l[820],h([1,0,413,10,27]),function(e,t,n,i,r){"use strict";(function(e){function t(){e.call(this,{id:"editor.action.insertCursorAbove",label:n.localize(0,null),alias:"Add Cursor Above",precondition:null,handlerId:i.Handler.AddCursorUp,kbOpts:{kbExpr:i.EditorContextKeys.TextFocus,primary:40976,linux:{primary:24592,secondary:[49168]}}})}return d(t,e),t=g([r.editorAction],t)})(r.HandlerEditorAction),function(e){function t(){e.call(this,{id:"editor.action.insertCursorBelow",label:n.localize(1,null),alias:"Add Cursor Below",precondition:null,handlerId:i.Handler.AddCursorDown,kbOpts:{kbExpr:i.EditorContextKeys.TextFocus,primary:40978,linux:{primary:24594,secondary:[49170]}}})}return d(t,e),t=g([r.editorAction],t)}(r.HandlerEditorAction),function(e){function t(){e.call(this,{id:"editor.action.insertCursorAtEndOfEachLineSelected",label:n.localize(2,null),alias:"Create Multiple Cursors from Selected Lines",precondition:null,kbOpts:{kbExpr:i.EditorContextKeys.TextFocus,primary:24615}})}return d(t,e),t.prototype.run=function(e,t){var n=t.getSelection();if(!n.isEmpty()){for(var i=t.getModel(),r=new Array,o=n.getStartPosition(),s=n.getEndPosition(),a=o.lineNumber;a<=s.lineNumber;a++)if(a!==s.lineNumber){var c=i.getLineMaxColumn(a);r.push({selectionStartLineNumber:a,selectionStartColumn:c,positionLineNumber:a,positionColumn:c})}else s.column>0&&r.push({selectionStartLineNumber:s.lineNumber,selectionStartColumn:s.column,positionLineNumber:s.lineNumber,positionColumn:s.column});t.setSelections(r)}},t=g([r.editorAction],t)}(r.EditorAction)}),define(l[348],h([1,0,7,27,49,17,23]),function(e,t,n,i,r,o,s){"use strict";function a(e,t){var i,s=r.SignatureHelpProviderRegistry.ordered(e);return o.sequence(s.map(function(r){return function(){if(!i)return o.asWinJsPromise(function(n){return r.provideSignatureHelp(e,t,n)}).then(function(e){i=e},n.onUnexpectedExternalError)}})).then(function(){return i})}t.Context={Visible:new s.RawContextKey("parameterHintsVisible",(!1)),MultipleSignatures:new s.RawContextKey("parameterHintsMultipleSignatures",(!1))},t.provideSignatureHelp=a,i.CommonEditorRegistry.registerDefaultLanguageCommand("_executeSignatureHelpProvider",a)}),define(l[822],h([1,0,415,5,2,8,148,49,59,17,7,11,130,23,348,124,687]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y){"use strict";var b=o.$,S=function(e){function t(n){var i=this;e.call(this),this._onHint=this._register(new h.Emitter),this.onHint=this._onHint.event,this._onCancel=this._register(new h.Emitter),this.onCancel=this._onCancel.event,this.editor=n,this.enabled=!1,this.triggerCharactersListeners=[],this.throttledDelayer=new u.RunOnceScheduler(function(){return i.doTrigger()},t.DELAY),this.active=!1,this._register(this.editor.onDidChangeConfiguration(function(){return i.onEditorConfigurationChange()})),this._register(this.editor.onDidChangeModel(function(e){return i.onModelChanged()})),this._register(this.editor.onDidChangeModelMode(function(e){return i.onModelChanged()})),this._register(this.editor.onDidChangeCursorSelection(function(e){return i.onCursorChange(e)})),this._register(a.SignatureHelpProviderRegistry.onDidChange(this.onModelChanged,this)),this.onEditorConfigurationChange(),this.onModelChanged()}return d(t,e),t.prototype.cancel=function(e){void 0===e&&(e=!1),this.active=!1,this.throttledDelayer.cancel(),e||this._onCancel.fire(void 0)},t.prototype.trigger=function(e){if(void 0===e&&(e=t.DELAY),this.enabled&&a.SignatureHelpProviderRegistry.has(this.editor.getModel()))return this.cancel(!0),this.throttledDelayer.schedule(e)},t.prototype.doTrigger=function(){var e=this;m.provideSignatureHelp(this.editor.getModel(),this.editor.getPosition()).then(null,l.onUnexpectedError).then(function(t){if(!t||0===t.signatures.length)return e.cancel(),e._onCancel.fire(void 0),!1;e.active=!0;var n={hints:t};return e._onHint.fire(n),!0})},t.prototype.isTriggered=function(){return this.active||this.throttledDelayer.isScheduled()},t.prototype.onModelChanged=function(){var e=this;this.active&&this.cancel(),this.triggerCharactersListeners=i.dispose(this.triggerCharactersListeners);var t=this.editor.getModel();if(t){for(var n=[],r=0,o=a.SignatureHelpProviderRegistry.ordered(t);r<o.length;r++){var s=o[r];Array.isArray(s.signatureHelpTriggerCharacters)&&n.push.apply(n,s.signatureHelpTriggerCharacters)}n.sort(),this.triggerCharactersListeners.length=0;for(var c,u=0,l=n;u<l.length;u++){var h=l[u];h!==c&&(c=h,this.triggerCharactersListeners.push(this.editor.addTypingListener(h,function(){return e.trigger()})))}}},t.prototype.onCursorChange=function(e){"mouse"===e.source?this.cancel():this.isTriggered()&&this.trigger()},t.prototype.onEditorConfigurationChange=function(){this.enabled=this.editor.getConfiguration().contribInfo.parameterHints,this.enabled||this.cancel()},t.prototype.dispose=function(){this.cancel(!0),this.triggerCharactersListeners=i.dispose(this.triggerCharactersListeners),e.prototype.dispose.call(this)},t.DELAY=120,t}(i.Disposable);t.ParameterHintsModel=S;var E=function(){function e(e,t){var n=this;this.editor=e,this.allowEditorOverflow=!0,this.model=new S(e),this.keyVisible=m.Context.Visible.bindTo(t),this.keyMultipleSignatures=m.Context.MultipleSignatures.bindTo(t),this.visible=!1,this.disposables=[],this.disposables.push(this.model.onHint(function(e){n.show(),n.hints=e.hints,n.currentSignature=e.hints.activeSignature,n.render()})),this.disposables.push(this.model.onCancel(function(){n.hide()})),this.element=b(".editor-widget.parameter-hints-widget");var i=o.append(this.element,b(".wrapper")),r=p.stop(p.domEvent(this.element,"click"));r(this.next,this,this.disposables);var s=o.append(i,b(".buttons")),a=o.append(s,b(".button.previous")),c=o.append(s,b(".button.next")),u=p.stop(p.domEvent(a,"click"));u(this.previous,this,this.disposables);var l=p.stop(p.domEvent(c,"click"));l(this.next,this,this.disposables),this.overloads=o.append(i,b(".overloads"));var d=b(".body");this.scrollbar=new y.DomScrollableElement(d,{canUseTranslate3d:!1}),this.disposables.push(this.scrollbar),i.appendChild(this.scrollbar.getDomNode()),this.signature=o.append(d,b(".signature")),this.docs=o.append(d,b(".docs")),this.currentSignature=0,this.editor.addContentWidget(this),this.hide(),this.disposables.push(this.editor.onDidChangeCursorSelection(function(e){n.visible&&n.editor.layoutContentWidget(n)}));var f=function(){var e=n.editor.getConfiguration().fontInfo;n.element.style.fontSize=e.fontSize+"px"};f(),h.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(e){return e.fontInfo}).on(f,null,this.disposables),this.disposables.push(this.editor.onDidLayoutChange(function(e){return n.updateMaxHeight()})),this.updateMaxHeight()}return e.prototype.show=function(){var e=this;this.model&&!this.visible&&(this.keyVisible.set(!0),this.visible=!0,r.TPromise.timeout(100).done(function(){return o.addClass(e.element,"visible")}),this.editor.layoutContentWidget(this))},e.prototype.hide=function(){this.model&&this.visible&&(this.keyVisible.reset(),this.visible=!1,this.hints=null,this.announcedLabel=null,o.removeClass(this.element,"visible"),this.editor.layoutContentWidget(this))},e.prototype.getPosition=function(){return this.visible?{position:this.editor.getPosition(),preference:[c.ContentWidgetPositionPreference.ABOVE,c.ContentWidgetPositionPreference.BELOW]}:null},e.prototype.render=function(){var e=this.hints.signatures.length>1;o.toggleClass(this.element,"multiple",e),this.keyMultipleSignatures.set(e),this.signature.innerHTML="",this.docs.innerHTML="";var t=this.hints.signatures[this.currentSignature];if(t){var i=o.append(this.signature,b(".code")),r=t.parameters.length>0,a=this.editor.getConfiguration().fontInfo;if(i.style.fontSize=a.fontSize+"px",i.style.fontFamily=a.fontFamily,r)this.renderParameters(i,t,this.hints.activeParameter);else{var c=o.append(i,b("span"));c.textContent=t.label}var u=t.parameters[this.hints.activeParameter];if(u&&u.documentation){var l=b("span.documentation");l.textContent=u.documentation,o.append(this.docs,b("p",null,l))}o.toggleClass(this.signature,"has-docs",!!t.documentation),t.documentation&&o.append(this.docs,b("p",null,t.documentation));var h=String(this.currentSignature+1);if(this.hints.signatures.length<10&&(h+="/"+this.hints.signatures.length),this.overloads.textContent=h,u){var d=u.label;this.announcedLabel!==d&&(s.alert(n.localize(0,null,d)),this.announcedLabel=d)}this.editor.layoutContentWidget(this),this.scrollbar.scanDomNode()}},e.prototype.renderParameters=function(e,t,n){for(var i,r=t.label.length,s=0,a=t.parameters.length-1;a>=0;a--){var c=t.parameters[a];s=t.label.lastIndexOf(c.label,r);var u=0,l=0;s>=0&&(u=s,l=s+c.label.length),i=document.createElement("span"),i.textContent=t.label.substring(l,r),o.prepend(e,i),i=document.createElement("span"),i.className="parameter "+(a===n?"active":""),i.textContent=t.label.substring(u,l),o.prepend(e,i),r=u}i=document.createElement("span"),i.textContent=t.label.substring(0,r),o.prepend(e,i)},e.prototype.next=function(){var e=this.hints.signatures.length;return e<2?(this.cancel(),!1):(this.currentSignature=(this.currentSignature+1)%e,this.render(),!0)},e.prototype.previous=function(){var e=this.hints.signatures.length;return e<2?(this.cancel(),!1):(this.currentSignature=(this.currentSignature-1+e)%e,this.render(),!0)},e.prototype.cancel=function(){this.model.cancel()},e.prototype.getDomNode=function(){return this.element},e.prototype.getId=function(){return e.ID},e.prototype.trigger=function(){this.model.trigger(0)},e.prototype.updateMaxHeight=function(){var e=Math.max(this.editor.getLayoutInfo().height/4,250);this.element.style.maxHeight=e+"px"},e.prototype.dispose=function(){this.disposables=i.dispose(this.disposables),this.model=null},e.ID="editor.widget.parameterHintsWidget",e=g([v(1,f.IContextKeyService)],e)}();t.ParameterHintsWidget=E}),define(l[823],h([1,0,414,5,6,10,23,27,58,822,348]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";var h=function(){function e(e,t){this.editor=e,this.widget=t.createInstance(u.ParameterHintsWidget,this.editor)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.cancel=function(){this.widget.cancel()},e.prototype.previous=function(){this.widget.previous()},e.prototype.next=function(){this.widget.next()},e.prototype.trigger=function(){this.widget.trigger()},e.prototype.dispose=function(){this.widget=i.dispose(this.widget)},e.ID="editor.controller.parameterHints",e=g([c.editorContribution,v(1,r.IInstantiationService)],e)}(),p=function(e){function t(){e.call(this,{id:"editor.action.triggerParameterHints",label:n.localize(0,null),alias:"Trigger Parameter Hints",precondition:o.ModeContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:o.EditorContextKeys.TextFocus,primary:49162}})}return d(t,e),t.prototype.run=function(e,t){var n=h.get(t);n&&n.trigger()},t=g([a.editorAction],t)}(a.EditorAction);t.TriggerParameterHintsAction=p;var f=a.CommonEditorRegistry.commandWeight(75),m=a.EditorCommand.bindToContribution(h.get);a.CommonEditorRegistry.registerEditorCommand(new m({id:"closeParameterHints",precondition:l.Context.Visible,handler:function(e){return e.cancel()},kbOpts:{weight:f,kbExpr:o.EditorContextKeys.TextFocus,primary:9,secondary:[16393]}})),a.CommonEditorRegistry.registerEditorCommand(new m({id:"showPrevParameterHint",precondition:s.ContextKeyExpr.and(l.Context.Visible,l.Context.MultipleSignatures),handler:function(e){return e.previous()},kbOpts:{weight:f,kbExpr:o.EditorContextKeys.TextFocus,primary:16,secondary:[8208],mac:{primary:16,secondary:[8208,4142]}}})),a.CommonEditorRegistry.registerEditorCommand(new m({id:"showNextParameterHint",precondition:s.ContextKeyExpr.and(l.Context.Visible,l.Context.MultipleSignatures),handler:function(e){return e.next()},kbOpts:{weight:f,kbExpr:o.EditorContextKeys.TextFocus,primary:18,secondary:[8210],mac:{primary:18,secondary:[8210,4140]}}}))}),define(l[824],h([1,0,7,16,2,15,27,49,40,17]),function(e,t,n,i,r,o,s,a,c,u){"use strict";function l(e,t){var i=[],o=a.CodeActionProviderRegistry.all(e).map(function(r){return u.asWinJsPromise(function(n){return r.provideCodeActions(e,t,n)}).then(function(e){Array.isArray(e)&&i.push.apply(i,e)},function(e){n.onUnexpectedExternalError(e)})});return r.TPromise.join(o).then(function(){return i})}t.getCodeActions=l,s.CommonEditorRegistry.registerLanguageCommand("_executeCodeActionProvider",function(e,t){var r=t.resource,s=t.range;if(!(r instanceof i.default&&o.Range.isIRange(s)))throw n.illegalArgument();var a=e.get(c.IModelService).getModel(r);if(!a)throw n.illegalArgument();return l(a,a.validateRange(s))})}),define(l[825],h([1,0,35,11,5,15,49,824]),function(e,t,n,i,r,o,s,a){"use strict";var c=function(){function e(e,t,n){var i=this;this._editor=e,this._markerService=t,this._signalChange=n,this._disposables=[],this._disposables.push(this._markerService.onMarkerChanged(function(e){return i._onMarkerChanges(e)}),this._editor.onDidChangeCursorPosition(function(e){return i._onCursorChange()}))}return e.prototype.dispose=function(){this._disposables=r.dispose(this._disposables)},e.prototype._onMarkerChanges=function(e){for(var t=this._editor.getModel().uri,n=!1,i=0,r=e;i<r.length;i++){var o=r[i];if(o.toString()===t.toString()){n=!0;break}}n&&this._onCursorChange()},e.prototype._onCursorChange=function(){var e=this._markerAtPosition()||this._wordAtPosition();this._signalChange({type:"auto",range:e,position:this._editor.getPosition(),fixes:e&&a.getCodeActions(this._editor.getModel(),this._editor.getModel().validateRange(e))})},e.prototype._markerAtPosition=function(){for(var e=this._editor.getPosition(),t=this._editor.getModel().uri,i=this._markerService.read({resource:t}).sort(o.Range.compareRangesUsingStarts),r=n.findFirst(i,function(t){return t.endLineNumber>=e.lineNumber});r<i.length&&i[r].endLineNumber>=e.lineNumber;){var s=i[r];if(o.Range.containsPosition(s,e))return s;r++}},e.prototype._wordAtPosition=function(){},e}(),u=function(){function e(e,t){var n=this;this._onDidChangeFixes=new i.Emitter,this._disposables=[],this._editor=e,this._markerService=t,this._disposables.push(this._editor.onDidChangeModel(function(){return n._update()})),this._disposables.push(this._editor.onDidChangeModelMode(function(){return n._update()})),this._disposables.push(s.CodeActionProviderRegistry.onDidChange(this._update,this)),this._update()}return e.prototype.dispose=function(){this._disposables=r.dispose(this._disposables),r.dispose(this._quickFixOracle)},Object.defineProperty(e.prototype,"onDidChangeFixes",{get:function(){return this._onDidChangeFixes.event},enumerable:!0,configurable:!0}),e.prototype._update=function(){var e=this;this._quickFixOracle&&(r.dispose(this._quickFixOracle),this._onDidChangeFixes.fire(void 0)),this._editor.getModel()&&s.CodeActionProviderRegistry.has(this._editor.getModel())&&!this._editor.getConfiguration().readOnly&&(this._quickFixOracle=new c(this._editor,this._markerService,function(t){return e._onDidChangeFixes.fire(t)}))},e.prototype.triggerManual=function(e){var t=this._editor.getModel();if(t){var n=a.getCodeActions(t,e);this._onDidChangeFixes.fire({type:"manual",range:e,position:{lineNumber:e.positionLineNumber,column:e.positionColumn},fixes:n})}},e}();t.QuickFixModel=u}),define(l[826],h([1,0,416,5,34,39,23,36,128,10,27,58,993,992,825]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m){"use strict";var y=function(){function e(e,t,n,i,r,o){var s=this;this._keybindingService=o,this._disposables=[],this._editor=e,this._model=new m.QuickFixModel(this._editor,t),this._quickFixContextMenu=new p.QuickFixContextMenu(e,r,i),
this._lightBulbWidget=new f.LightBulbWidget(e),this._updateLightBulbTitle(),this._disposables.push(this._lightBulbWidget.onClick(this._handleLightBulbSelect,this),this._model.onDidChangeFixes(function(e){return s._onQuickFixEvent(e)}),this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitle,this))}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._model.dispose(),i.dispose(this._disposables)},e.prototype._onQuickFixEvent=function(e){e&&"manual"===e.type?this._quickFixContextMenu.show(e.fixes,e.position):e&&e.fixes?this._quickFixContextMenu.isVisible?this._quickFixContextMenu.show(e.fixes,e.position):this._lightBulbWidget.model=e:this._lightBulbWidget.hide()},e.prototype.getId=function(){return e.ID},e.prototype._handleLightBulbSelect=function(e){this._quickFixContextMenu.show(this._lightBulbWidget.model.fixes,e)},e.prototype.triggerFromEditorSelection=function(){this._model.triggerManual(this._editor.getSelection())},e.prototype._updateLightBulbTitle=function(){var e,t=this._keybindingService.lookupKeybindings(b.Id)[0];e=t?n.localize(0,null,this._keybindingService.getLabelFor(t)):n.localize(1,null),this._lightBulbWidget.getDomNode().title=e},e.ID="editor.contrib.quickFixController",e=g([h.editorContribution,v(1,c.IMarkerService),v(2,s.IContextKeyService),v(3,r.ICommandService),v(4,o.IContextMenuService),v(5,a.IKeybindingService)],e)}();t.QuickFixController=y;var b=function(e){function t(){e.call(this,{id:t.Id,label:n.localize(2,null),alias:"Quick Fix",precondition:s.ContextKeyExpr.and(u.EditorContextKeys.Writable,u.ModeContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:u.EditorContextKeys.TextFocus,primary:32852}})}return d(t,e),t.prototype.run=function(e,t){var n=y.get(t);n&&n.triggerFromEditorSelection()},t.Id="editor.action.quickFix",t=g([l.editorAction],t)}(l.EditorAction);t.QuickFixAction=b}),define(l[827],h([1,0,7,16,2,15,27,49,40,17]),function(e,t,n,i,r,o,s,a,c,u){"use strict";function l(e){var t=[],i=a.DocumentSymbolProviderRegistry.all(e).map(function(i){return u.asWinJsPromise(function(t){return i.provideDocumentSymbols(e,t)}).then(function(e){Array.isArray(e)&&t.push.apply(t,e)},function(e){n.onUnexpectedExternalError(e)})});return r.TPromise.join(i).then(function(){var e=[];return d(e,t,""),e.sort(h),{entries:e}})}function h(e,t){return o.Range.compareRangesUsingStarts(o.Range.lift(e.location.range),o.Range.lift(t.location.range))}function d(e,t,n){for(var i=0,r=t;i<r.length;i++){var o=r[i];e.push({kind:o.kind,location:o.location,name:o.name,containerName:o.containerName||n})}}t.getDocumentSymbols=l,s.CommonEditorRegistry.registerLanguageCommand("_executeDocumentSymbolProvider",function(e,t){var r=t.resource;if(!(r instanceof i.default))throw n.illegalArgument("resource");var o=e.get(c.IModelService).getModel(r);if(!o)throw n.illegalArgument("resource");return l(o)})}),define(l[828],h([1,0,7,2,27,49,17]),function(e,t,n,i,r,o,s){"use strict";function a(e,t){var r=o.ReferenceProviderRegistry.ordered(e).map(function(i){return s.asWinJsPromise(function(n){return i.provideReferences(e,t,{includeDeclaration:!0},n)}).then(function(e){if(Array.isArray(e))return e},function(e){n.onUnexpectedExternalError(e)})});return i.TPromise.join(r).then(function(e){for(var t=[],n=0,i=e;n<i.length;n++){var r=i[n];r&&t.push.apply(t,r)}return t})}t.provideReferences=a,r.CommonEditorRegistry.registerDefaultLanguageCommand("_executeReferenceProvider",a)}),define(l[829],h([1,0,423,17,7,2,27,49]),function(e,t,n,i,r,o,s,a){"use strict";function c(e,t,s){var c=a.RenameProviderRegistry.ordered(e),u=[],l=!1,h=c.map(function(n){return function(){if(!l)return i.asWinJsPromise(function(i){return n.provideRenameEdits(e,t,s,i)}).then(function(e){if(e){if(!e.rejectReason)return l=!0,e;u.push(e.rejectReason)}else;},function(e){return r.onUnexpectedExternalError(e),o.TPromise.wrapError("provider failed")})}});return i.sequence(h).then(function(e){var t=e[0];return u.length>0?{edits:void 0,rejectReason:u.join("\n")}:t?t:{edits:void 0,rejectReason:n.localize(0,null)}})}t.rename=c,s.CommonEditorRegistry.registerDefaultLanguageCommand("_executeDocumentRenameProvider",function(e,t,n){var i=n.newName;if("string"!=typeof i)throw r.illegalArgument("newName");return c(e,t,i)})}),define(l[830],h([1,0,420,7,32,2,47,23,18,123,27,58,10,234,829,422,73]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b){"use strict";var S=new a.RawContextKey("renameInputVisible",(!1)),E=function(){function e(e,t,n,i,r,o){this.editor=e,this._messageService=t,this._eventService=n,this._textModelResolverService=i,this._progressService=r,this._renameInputField=new y.default(e),this._renameInputVisible=S.bindTo(o)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._renameInputField.dispose()},e.prototype.getId=function(){return e.ID},e.prototype.run=function(){var e=this,t=this.editor.getSelection(),s=this.editor.getModel().getWordAtPosition(t.getStartPosition());if(s){var a,c=t.startLineNumber,u=0,l=s.word.length;return a={startLineNumber:c,startColumn:s.startColumn,endLineNumber:c,endColumn:s.endColumn},t.isEmpty()||t.startLineNumber!==t.endLineNumber||(u=Math.max(0,t.startColumn-s.startColumn),l=Math.min(s.endColumn,t.endColumn)-s.startColumn),this._renameInputVisible.set(!0),this._renameInputField.getInput(a,s.word,u,l).then(function(t){e._renameInputVisible.reset(),e.editor.focus();var i=e._prepareRename(t).then(function(t){return t.finish().then(function(t){t&&e.editor.setSelection(t)})},function(t){return"string"!=typeof t?(e._messageService.show(r.default.Error,n.localize(0,null)),o.TPromise.wrapError(t)):void e._messageService.show(r.default.Info,t)});return e._progressService.showWhile(i,250),i},function(t){if(e._renameInputVisible.reset(),e.editor.focus(),!i.isPromiseCanceledError(t))return o.TPromise.wrapError(t)})}},e.prototype.acceptRenameInput=function(){this._renameInputField.acceptInput()},e.prototype.cancelRenameInput=function(){this._renameInputField.cancelInput()},e.prototype._prepareRename=function(e){var t=f.createBulkEdit(this._eventService,this._textModelResolverService,this.editor);return m.rename(this.editor.getModel(),this.editor.getPosition(),e).then(function(e){return e.rejectReason?o.TPromise.wrapError(e.rejectReason):(t.add(e.edits),t)})},e.ID="editor.contrib.renameController",e=g([h.editorContribution,v(1,c.IMessageService),v(2,s.IEventService),v(3,b.ITextModelResolverService),v(4,u.IProgressService),v(5,a.IContextKeyService)],e)}(),_=function(e){function t(){e.call(this,{id:"editor.action.rename",label:n.localize(1,null),alias:"Rename Symbol",precondition:a.ContextKeyExpr.and(p.EditorContextKeys.Writable,p.ModeContextKeys.hasRenameProvider),kbOpts:{kbExpr:p.EditorContextKeys.TextFocus,primary:60},menuOpts:{group:"1_modification",order:1.1}})}return d(t,e),t.prototype.run=function(e,t){var n=E.get(t);if(n)return n.run()},t=g([l.editorAction],t)}(l.EditorAction);t.RenameAction=_;var C=l.EditorCommand.bindToContribution(E.get);l.CommonEditorRegistry.registerEditorCommand(new C({id:"acceptRenameInput",precondition:S,handler:function(e){return e.acceptRenameInput()},kbOpts:{weight:l.CommonEditorRegistry.commandWeight(99),kbExpr:p.EditorContextKeys.Focus,primary:3}})),l.CommonEditorRegistry.registerEditorCommand(new C({id:"cancelRenameInput",precondition:S,handler:function(e){return e.cancelRenameInput()},kbOpts:{weight:l.CommonEditorRegistry.commandWeight(99),kbExpr:p.EditorContextKeys.Focus,primary:9,secondary:[16393]}}))}),define(l[831],h([1,0,424,10,27]),function(e,t,n,i,r){"use strict";(function(e){function t(){e.call(this,{id:"editor.action.jumpToBracket",label:n.localize(0,null),alias:"Go to Bracket",precondition:null,handlerId:i.Handler.JumpToBracket,kbOpts:{kbExpr:i.EditorContextKeys.TextFocus,primary:49240}})}return d(t,e),t=g([r.editorAction],t)})(r.HandlerEditorAction)}),define(l[832],h([1,0,425,35,2,6,15,10,27,655]),function(e,t,n,i,r,o,s,a,c,u){"use strict";var l=function(){function e(e){this.editor=e,this.next=null,this.previous=null,this.selection=e.getSelection()}return e}(),h=null,p=!1,f=function(){function e(e,t){this.editor=e,this._tokenSelectionSupport=t.createInstance(u.TokenSelectionSupport)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){},e.prototype.getId=function(){return e.ID},e.prototype.run=function(e){var t=this,n=this.editor.getSelection(),o=this.editor.getModel();h&&h.editor!==this.editor&&(h=null);var a=r.TPromise.as(null);return h||(a=this._tokenSelectionSupport.getRangesToPosition(o.uri,n.getStartPosition()).then(function(e){if(!i.isFalsyOrEmpty(e)){var n;e.filter(function(e){var n=t.editor.getSelection(),i=new s.Range(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn);return i.containsPosition(n.getStartPosition())&&i.containsPosition(n.getEndPosition())}).forEach(function(e){var i=e.range,r=new l(t.editor);r.selection=new s.Range(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn),n&&(r.next=n,n.previous=r),n=r});var r=new l(t.editor);r.next=n,n&&(n.previous=r),h=r;var o=t.editor.onDidChangeCursorPosition(function(e){p||(h=null,o.dispose())})}})),a.then(function(){if(h&&(h=e?h.next:h.previous)){p=!0;try{t.editor.setSelection(h.selection)}finally{p=!1}}})},e.ID="editor.contrib.smartSelectController",e=g([c.commonEditorContribution,v(1,o.IInstantiationService)],e)}(),m=function(e){function t(t,n){e.call(this,n),this._forward=t}return d(t,e),t.prototype.run=function(e,t){var n=f.get(t);if(n)return n.run(this._forward)},t}(c.EditorAction);(function(e){function t(){e.call(this,!0,{id:"editor.action.smartSelect.grow",label:n.localize(0,null),alias:"Expand Select",precondition:null,kbOpts:{kbExpr:a.EditorContextKeys.TextFocus,primary:24593,mac:{primary:53265}}})}return d(t,e),t=g([c.editorAction],t)})(m),function(e){function t(){e.call(this,!1,{id:"editor.action.smartSelect.shrink",label:n.localize(1,null),alias:"Shrink Select",precondition:null,kbOpts:{kbExpr:a.EditorContextKeys.TextFocus,primary:24591,mac:{primary:53263}}})}return d(t,e),t=g([c.editorAction],t)}(m)}),define(l[160],h([1,0,12,35,23,118,15,46,10,27,5,180,1008]),function(e,t,n,i,r,o,s,a,c,u,l,h,d){"use strict";var p=c.EditorContextKeys,f=function(){function e(e,t,n,i,r){this.editor=e,this._onStop=r,this.model=e.getModel(),this.finishPlaceHolderIndex=t.finishPlaceHolderIndex,this.trackedPlaceHolders=[],this.placeHolderDecorations=[],this.currentPlaceHolderIndex=0,this.highlightDecorationId=null,this.isFinished=!1,this._initialAlternativeVersionId=i,this.initialize(t,n)}return e.prototype.dispose=function(){this.stopAll()},e.prototype.initialize=function(e,t){for(var n=this,r=[],o=0,a=e.placeHolders;o<a.length;o++)for(var u=a[o].occurences,l=0,h=u;l<h.length;l++){var d=h[l];r.push(d)}r.sort(s.Range.compareRangesUsingStarts),this.model.changeDecorations(function(t){for(var o=0;o<e.placeHolders.length;o++){for(var a=e.placeHolders[o].occurences,u=[],l=0,h=a;l<h.length;l++){var d=h[l],p=c.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges;if(o===e.finishPlaceHolderIndex)p=c.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges;else{var f=i.binarySearch(r,d,s.Range.compareRangesUsingStarts);f>0&&r[f-1].endLineNumber===d.startLineNumber&&r[f-1].endColumn===d.startColumn&&(p=c.TrackedRangeStickiness.GrowsOnlyWhenTypingAfter)}u.push(t.addDecoration(d,{stickiness:p}))}n.trackedPlaceHolders.push({ranges:u})}}),this.editor.changeDecorations(function(i){var r=[],o=t+e.lines.length-1,a=n.model.getLineMaxColumn(o);r.push({range:new s.Range(t,1,o,a),options:{className:"new-snippet",isWholeLine:!0}});for(var c=0,u=n.trackedPlaceHolders.length;c<u;c++){var l=c===n.finishPlaceHolderIndex?"finish-snippet-placeholder":"snippet-placeholder";r.push({range:n.model.getDecorationRange(n.trackedPlaceHolders[c].ranges[0]),options:{stickiness:n.model.getDecorationOptions(n.trackedPlaceHolders[c].ranges[0]).stickiness,className:l}})}var h=i.deltaDecorations([],r);n.highlightDecorationId=h[0],n.placeHolderDecorations=h.slice(1)}),this.listenersToRemove=[],this.listenersToRemove.push(this.editor.onDidChangeModelRawContent(function(e){if(!n.isFinished){if(e.changeType===c.EventType.ModelRawContentChangedFlush)n.stopAll();else if(e.changeType===c.EventType.ModelRawContentChangedLineChanged){var t=e.lineNumber,i=n.model.getDecorationRange(n.highlightDecorationId);(t<i.startLineNumber||t>i.endLineNumber)&&n.stopAll()}else if(e.changeType===c.EventType.ModelRawContentChangedLinesInserted){var r=e.fromLineNumber,i=n.model.getDecorationRange(n.highlightDecorationId);(r<i.startLineNumber||r>i.endLineNumber)&&n.stopAll()}else if(e.changeType===c.EventType.ModelRawContentChangedLinesDeleted){var o=e.fromLineNumber,s=e.toLineNumber,i=n.model.getDecorationRange(n.highlightDecorationId),a=s<i.startLineNumber,u=o>i.endLineNumber;(a||u)&&n.stopAll()}var l=n.editor.getModel().getAlternativeVersionId();n._initialAlternativeVersionId===l&&n.stopAll()}})),this.listenersToRemove.push(this.editor.onDidChangeCursorPosition(function(e){if(!n.isFinished){var t=n.model.getDecorationRange(n.highlightDecorationId),i=e.position.lineNumber;(i<t.startLineNumber||i>t.endLineNumber)&&n.stopAll()}})),this.listenersToRemove.push(this.editor.onDidChangeModel(function(){n.stopAll()}));var p=-1;this.listenersToRemove.push(this.editor.onDidBlurEditor(function(){p=setTimeout(function(){n.stopAll()},100)})),this.listenersToRemove.push(this.editor.onDidFocusEditor(function(){p!==-1&&(clearTimeout(p),p=-1)})),this.listenersToRemove.push(this.model.onDidChangeDecorations(function(e){if(!n.isFinished){for(var t=n.model.getEditableRange(),i=null,r=!0,o=!0,s=0;(r||o)&&s<n.trackedPlaceHolders.length;s++)for(var a=n.trackedPlaceHolders[s].ranges,c=0;(r||o)&&c<a.length;c++){var u=n.model.getDecorationRange(a[c]);r&&(u.isEmpty()?null===i?i=u:i.equalsRange(u)||(r=!1):r=!1),o&&!t.equalsRange(u)&&(o=!1)}if(r||o)n.stopAll();else if(n.finishPlaceHolderIndex!==-1){var l=n.placeHolderDecorations[n.finishPlaceHolderIndex],h=n.model.getDecorationRange(l),d=n.model.getDecorationOptions(l),p=h.isEmpty(),f="finish-snippet-placeholder"===d.className,g=Number(p)^Number(f);g&&n.editor.changeDecorations(function(e){var t=p?"finish-snippet-placeholder":"snippet-placeholder";e.changeDecorationOptions(l,{className:t})})}}})),this.doLinkEditing()},e.prototype.onNextPlaceHolder=function(){return this.changePlaceHolder(!0)},e.prototype.onPrevPlaceHolder=function(){return this.changePlaceHolder(!1)},e.prototype.changePlaceHolder=function(e){if(this.isFinished)return!1;var t=this.currentPlaceHolderIndex,n=this.model.getDecorationRange(this.trackedPlaceHolders[t].ranges[0]),i=!0;do{e?this.currentPlaceHolderIndex=(this.currentPlaceHolderIndex+1)%this.trackedPlaceHolders.length:this.currentPlaceHolderIndex=(this.trackedPlaceHolders.length+this.currentPlaceHolderIndex-1)%this.trackedPlaceHolders.length;var r=this.model.getDecorationRange(this.trackedPlaceHolders[this.currentPlaceHolderIndex].ranges[0]);i=n.equalsRange(r)}while(this.currentPlaceHolderIndex!==t&&i);return this.doLinkEditing(),!0},e.prototype.onAccept=function(){if(this.isFinished)return!1;if(this.finishPlaceHolderIndex!==-1){var e=this.model.getDecorationRange(this.trackedPlaceHolders[this.finishPlaceHolderIndex].ranges[0]);this.editor.setPosition({lineNumber:e.endLineNumber,column:e.endColumn})}return this.stopAll(),!0},e.prototype.onEscape=function(){return!this.isFinished&&(this.stopAll(),this.editor.setSelections([this.editor.getSelections()[0]]),!0)},e.prototype.doLinkEditing=function(){for(var e=[],t=0,n=this.trackedPlaceHolders[this.currentPlaceHolderIndex].ranges.length;t<n;t++){var i=this.model.getDecorationRange(this.trackedPlaceHolders[this.currentPlaceHolderIndex].ranges[t]);e.push({selectionStartLineNumber:i.startLineNumber,selectionStartColumn:i.startColumn,positionLineNumber:i.endLineNumber,positionColumn:i.endColumn})}this.editor.setSelections(e)},e.prototype.stopAll=function(){var e=this;this.isFinished||(this.isFinished=!0,this._onStop(),this.listenersToRemove=l.dispose(this.listenersToRemove),this.model.changeDecorations(function(t){for(var n=0;n<e.trackedPlaceHolders.length;n++)for(var i=e.trackedPlaceHolders[n].ranges,r=0;r<i.length;r++)t.removeDecoration(i[r])}),this.trackedPlaceHolders=[],this.editor.changeDecorations(function(t){var n=[];n.push(e.highlightDecorationId);for(var i=0;i<e.placeHolderDecorations.length;i++)n.push(e.placeHolderDecorations[i]);t.deltaDecorations(n,[]),e.placeHolderDecorations=[],e.highlightDecorationId=null}))},e}();t.InsertSnippetController=f;var m=function(){function e(e,t,n,i,r){this._model=e,this._contentBefore=t,this._contentAfter=n,this.overwriteBefore=i,this.overwriteAfter=r}return e.create=function(t,n,i,r){var o="";i>0&&(o=t.getLineContent(n.startLineNumber).substring(n.startColumn-1-i,n.startColumn-1));var s="";return r>0&&(s=t.getLineContent(n.endLineNumber).substring(n.endColumn-1,n.endColumn-1+r)),new e(t,o,s,i,r)},e.prototype.next=function(t){var n=e.create(this._model,t,this.overwriteBefore,this.overwriteAfter),i=n.overwriteBefore,r=n.overwriteAfter;return n._contentBefore!==this._contentBefore&&(i=0),n._contentAfter!==this._contentAfter&&(r=0),new e(this._model,null,null,i,r)},e}(),y=function(){function e(e,n){this._editor=e,this._variableResolver=new d.SnippetVariablesResolver(e),this._currentController=null,this._inSnippetMode=t.CONTEXT_SNIPPET_MODE.bindTo(n)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._currentController&&(this._currentController.dispose(),this._currentController=null)},e.prototype.getId=function(){return e.ID},e.prototype.insertSnippet=function(e,t,n){var i=h.CodeSnippet.fromTextmate(e,this._variableResolver);this.run(i,t,n)},e.prototype.run=function(t,n,i,r){var o=this;this._runAndRestoreController(function(){if(t.isInsertOnly||t.isSingleTabstopOnly)o._runForAllSelections(t,n,i,r);else{var s=e._prepareSnippet(o._editor,o._editor.getSelection(),t,n,i,r);o._runPreparedSnippetForPrimarySelection(s,!0)}})},e.prototype.runWithReplaceRange=function(t,n){var i=this;this._runAndRestoreController(function(){i._runPreparedSnippetForPrimarySelection({typeRange:n,adaptedSnippet:e._getAdaptedSnippet(i._editor.getModel(),t,n)},!1)})},e.prototype._runAndRestoreController=function(e){var t=this._currentController;this._currentController=null,e(),this._currentController?t&&t.dispose():this._currentController=t},e._addCommandForSnippet=function(e,t,n,i){var r=t.lines.join("\n"),s=e.getValueInRange(n,c.EndOfLinePreference.LF);r!==s&&i.push(o.EditOperation.replaceMove(n,r))},e.prototype._runPreparedSnippetForPrimarySelection=function(t,n){var i=this,r=this._editor.getModel().getAlternativeVersionId(),o=[];e._addCommandForSnippet(this._editor.getModel(),t.adaptedSnippet,t.typeRange,o),o.length>0&&(n&&this._editor.pushUndoStop(),this._editor.executeEdits("editor.contrib.insertSnippetHelper",o),n&&this._editor.pushUndoStop());var s=e._getSnippetCursorOnly(t.adaptedSnippet);s?this._editor.setSelection(new a.Selection(s.lineNumber,s.column,s.lineNumber,s.column)):t.adaptedSnippet.placeHolders.length>0&&(this._inSnippetMode.set(!0),this._currentController=new f(this._editor,t.adaptedSnippet,t.typeRange.startLineNumber,r,function(){i._inSnippetMode.reset(),i._currentController&&(i._currentController.dispose(),i._currentController=null)}))},e.prototype._runForAllSelections=function(t,n,i,r){for(var o=[],c=this._editor.getSelections(),u=this._editor.getModel(),l=m.create(u,c[0],n,i),h=0,d=[],p=c.map(function(e,t){return{selection:e,i:t}}).sort(function(e,t){return s.Range.compareRangesUsingStarts(e.selection,t.selection)}),f=0,g=p;f<g.length;f++){var v=g[f],y=v.selection,b=v.i,S=0!==b?l.next(y):l,E=e._prepareSnippet(this._editor,y,t,S.overwriteBefore,S.overwriteAfter,r),_=E.adaptedSnippet,C=E.typeRange;e._addCommandForSnippet(this._editor.getModel(),_,C,o);var w=u.getOffsetAt(C.getStartPosition());w+=h;for(var I=(_.lines.length-1)*u.getEOL().length,T=0,x=_.lines;T<x.length;T++){var A=x[T];I+=A.length}var D=e._getSnippetCursorOnly(_);if(D){var L=void 0;if(D.lineNumber===C.startLineNumber)L=D.column-C.startColumn;else{L=D.column-1;for(var k=0,P=C.startLineNumber;P<D.lineNumber;k++,P++)L+=_.lines[k].length+u.getEOL().length}w+=L}else w+=I;d.push({offset:w,i:b}),h+=I-u.getValueLengthInRange(C)}if(0!==o.length){var R=function(){for(var e=[],t=0,n=d;t<n.length;t++){var i=n[t],r=i.offset,o=i.i,s=u.getPositionAt(r);e[o]=new a.Selection(s.lineNumber,s.column,s.lineNumber,s.column)}return e};u.pushStackElement(),this._editor.setSelections(u.pushEditOperations(c,o,R)),u.pushStackElement()}},e._prepareSnippet=function(t,i,r,o,s,a){void 0===a&&(a=!0);var c=t.getModel(),u=e._getTypeRangeForSelection(c,i,o,s);if(1===r.lines.length){var l=c.getLineContent(u.endLineNumber).substr(u.endColumn-1),h=r.lines[0].substr(o),d=n.commonPrefixLength(l,h);d>0&&a&&(u=u.setEndPosition(u.endLineNumber,u.endColumn+d))}var p=e._getAdaptedSnippet(c,r,u);return{typeRange:u,adaptedSnippet:p}},e._getTypeRangeForSelection=function(e,t,n,i){var r;return r=n||i?e.validateRange(s.Range.plusRange(t,{startLineNumber:t.positionLineNumber,startColumn:t.positionColumn-n,endLineNumber:t.positionLineNumber,endColumn:t.positionColumn+i})):t},e._getAdaptedSnippet=function(e,t,n){return t.bind(e.getLineContent(n.startLineNumber),n.startLineNumber-1,n.startColumn-1,e)},e._getSnippetCursorOnly=function(e){if(1!==e.placeHolders.length)return null;var t=e.placeHolders[0];if(""!==t.value||1!==t.occurences.length)return null;var n=t.occurences[0];return s.Range.isEmpty(n)?{lineNumber:n.startLineNumber,column:n.startColumn}:null},e.prototype.jumpToNextPlaceholder=function(){this._currentController&&this._currentController.onNextPlaceHolder()},e.prototype.jumpToPrevPlaceholder=function(){this._currentController&&this._currentController.onPrevPlaceHolder()},e.prototype.acceptSnippet=function(){this._currentController&&this._currentController.onAccept()},e.prototype.leaveSnippet=function(){this._currentController&&this._currentController.onEscape()},e.ID="editor.contrib.snippetController",e=g([u.commonEditorContribution,v(1,r.IContextKeyService)],e)}();t.SnippetController=y,t.CONTEXT_SNIPPET_MODE=new r.RawContextKey("inSnippetMode",(!1));var b=u.EditorCommand.bindToContribution(y.get);u.CommonEditorRegistry.registerEditorCommand(new b({id:"jumpToNextSnippetPlaceholder",precondition:t.CONTEXT_SNIPPET_MODE,handler:function(e){return e.jumpToNextPlaceholder()},kbOpts:{weight:u.CommonEditorRegistry.commandWeight(30),kbExpr:p.TextFocus,primary:2}})),u.CommonEditorRegistry.registerEditorCommand(new b({id:"jumpToPrevSnippetPlaceholder",precondition:t.CONTEXT_SNIPPET_MODE,handler:function(e){return e.jumpToPrevPlaceholder()},kbOpts:{weight:u.CommonEditorRegistry.commandWeight(30),kbExpr:p.TextFocus,primary:16386}})),u.CommonEditorRegistry.registerEditorCommand(new b({id:"acceptSnippet",precondition:t.CONTEXT_SNIPPET_MODE,handler:function(e){return e.acceptSnippet()},kbOpts:{weight:u.CommonEditorRegistry.commandWeight(30),kbExpr:p.TextFocus,primary:3}})),u.CommonEditorRegistry.registerEditorCommand(new b({id:"leaveSnippet",precondition:t.CONTEXT_SNIPPET_MODE,handler:function(e){return e.leaveSnippet()},kbOpts:{weight:u.CommonEditorRegistry.commandWeight(30),kbExpr:p.TextFocus,primary:9,secondary:[16393]}}))}),define(l[834],h([1,0,1209,17,52,152,5,8,163,78,67,226,36,23,15,10,27,59,58,180,160,1089,663]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w){"use strict";function I(e){if(e.getConfiguration().readOnly)return!1;var t=e.getModel();if(!t)return!1;var n=t.uri.toString();return k.test(n)}var T=y.EditorContextKeys,x=n.localize(0,null),A=n.localize(1,null),D=n.localize(2,null),L=n.localize(3,null),k=/keybindings\.json$/,P=function(){function e(e,t){var n=this;this._dec=[],this._editor=e,this._keybindingService=t,this._toDispose=[],this._launchWidget=new R(this._editor,t,function(){return n.launch()}),this._defineWidget=new O(this._editor,t,function(e){return n._onAccepted(e)}),this._toDispose.push(this._editor.onDidChangeConfiguration(function(e){I(n._editor)?n._launchWidget.show():n._launchWidget.hide()})),this._toDispose.push(this._editor.onDidChangeModel(function(e){I(n._editor)?n._launchWidget.show():n._launchWidget.hide(),n._onModel()})),this._updateDecorations=new i.RunOnceScheduler(function(){return n._updateDecorationsNow()},500),this._toDispose.push(this._updateDecorations),this._modelToDispose=[],this._onModel()}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._modelToDispose=s.dispose(this._modelToDispose),this._toDispose=s.dispose(this._toDispose),this._launchWidget.dispose(),this._launchWidget=null,this._defineWidget.dispose(),this._defineWidget=null},e.prototype.launch=function(){I(this._editor)&&this._defineWidget.start()},e.prototype._onAccepted=function(e){var t=["{",'\t"key": '+JSON.stringify(e)+",",'\t"command": "${1:commandId}",','\t"when": "${2:editorTextFocus}"',"}$0"].join("\n"),n=w.SmartSnippetInserter.insertSnippet(this._editor.getModel(),this._editor.getPosition());t=n.prepend+t+n.append,this._editor.setPosition(n.position),C.SnippetController.get(this._editor).run(_.CodeSnippet.fromTextmate(t),0,0)},e.prototype._onModel=function(){var e=this;this._modelToDispose=s.dispose(this._modelToDispose);var t=this._editor.getModel();if(t){var n=t.uri.toString();k.test(n)&&(this._modelToDispose.push(t.onDidChangeContent(function(t){return e._updateDecorations.schedule()})),this._modelToDispose.push({dispose:function(){e._dec=e._editor.deltaDecorations(e._dec,[]),e._updateDecorations.cancel()}}),this._updateDecorations.schedule())}},e.prototype._updateDecorationsNow=function(){var e=this,t=this._editor.getModel(),n=o.KeybindingLabels.getUserSettingsKeybindingRegex(),i=t.findMatches(n,!1,!0,!1,!1),s=i.map(function(n){var i=t.getValueInRange(n),s=i.substring(1,i.length-1);s=s.replace(/\\\\/g,"\\");var a=h.IOSupport.readKeybinding(s),c=new r.Keybinding(a);return{strKeybinding:s,keybinding:c,usLabel:o.KeybindingLabels._toUSLabel(c),label:e._keybindingService.getLabelFor(c),range:n}});s=s.filter(function(e){return e.usLabel!==e.label});var a=[];s.forEach(function(t){var n,i,r,o;t.label?(n=[D],n=n.concat(e._keybindingService.getLabelFor(t.keybinding)),i="keybindingInfo",r="inlineKeybindingInfo",o="rgba(100, 100, 250, 0.6)"):(n=[L],i="keybindingError",r="inlineKeybindingError",o="rgba(250, 100, 100, 0.6)"),a.push({range:new m.Range(t.range.startLineNumber,t.range.startColumn,t.range.startLineNumber,t.range.startColumn+1),options:{stickiness:y.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:r}}),a.push({range:t.range,options:{stickiness:y.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:i,hoverMessage:n,overviewRuler:{color:o,darkColor:o,position:y.OverviewRulerLane.Right}}})}),this._dec=this._editor.deltaDecorations(this._dec,a)},e.ID="editor.contrib.defineKeybinding",e=g([E.editorContribution,v(1,p.IKeybindingService)],e)}();t.DefineKeybindingController=P;var R=function(){function e(e,t,n){this._editor=e,this._domNode=document.createElement("div"),this._domNode.className="defineKeybindingLauncher",this._domNode.style.display="none",this._isVisible=!1;var i=t.lookupKeybindings(M.ID),r="";i.length>0&&(r+=" ("+t.getLabelFor(i[0])+")"),this._domNode.appendChild(document.createTextNode(x+r)),this._toDispose=[],this._toDispose.push(a.addDisposableListener(this._domNode,"click",function(e){n()})),this._editor.addOverlayWidget(this)}return e.prototype.dispose=function(){this._editor.removeOverlayWidget(this),this._toDispose=s.dispose(this._toDispose)},e.prototype.show=function(){this._isVisible||(this._domNode.style.display="block",this._isVisible=!0,this._editor.layoutOverlayWidget(this))},e.prototype.hide=function(){this._isVisible&&(this._domNode.style.display="none",this._isVisible=!1,this._editor.layoutOverlayWidget(this))},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{preference:this._isVisible?S.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER:null}},e.ID="editor.contrib.defineKeybindingLauncherWidget",e}(),O=function(){function e(t,n,i){var r=this;this._editor=t,this._keybindingService=n,this._onAccepted=i,this._toDispose=[],this._lastKeybinding=null,this._domNode=document.createElement("div"),this._domNode.className="defineKeybindingWidget",l.StyleMutator.setWidth(this._domNode,e.WIDTH),l.StyleMutator.setHeight(this._domNode,e.HEIGHT),this._domNode.style.display="none",this._isVisible=!1,this._messageNode=document.createElement("div"),this._messageNode.className="message",this._messageNode.innerText=A,this._domNode.appendChild(this._messageNode),this._inputNode=document.createElement("input"),this._inputNode.className="input",this._inputNode.type="text",this._domNode.appendChild(this._inputNode),this._outputNode=document.createElement("div"),this._outputNode.className="output",this._domNode.appendChild(this._outputNode),this._toDispose.push(a.addDisposableListener(this._inputNode,"keydown",function(e){var t=new u.StandardKeyboardEvent(e);t.preventDefault(),t.stopPropagation();var n=t.toKeybinding();switch(n.value){case 3:return r._lastKeybinding&&r._onAccepted(o.KeybindingLabels.toUserSettingsLabel(r._lastKeybinding.value)),void r._stop();case 9:return void r._stop()}r._lastKeybinding=n,r._inputNode.value=o.KeybindingLabels.toUserSettingsLabel(r._lastKeybinding.value).toLowerCase(),r._inputNode.title="keyCode: "+t.browserEvent.keyCode,a.clearNode(r._outputNode);var i=r._keybindingService.getHTMLLabelFor(r._lastKeybinding);i.forEach(function(e){return r._outputNode.appendChild(c.renderHtml(e))})})),this._toDispose.push(this._editor.onDidChangeConfiguration(function(e){r._isVisible&&r._layout()})),this._toDispose.push(a.addDisposableListener(this._inputNode,"blur",function(e){return r._stop()})),this._editor.addOverlayWidget(this)}return e.prototype.dispose=function(){this._editor.removeOverlayWidget(this),this._toDispose=s.dispose(this._toDispose)},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{preference:null}},e.prototype._show=function(){this._isVisible||(this._isVisible=!0,this._layout(),this._domNode.style.display="block")},e.prototype._hide=function(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")},e.prototype._layout=function(){var t=this._editor.getLayoutInfo(),n=Math.round((t.height-e.HEIGHT)/2);l.StyleMutator.setTop(this._domNode,n);var i=Math.round((t.width-e.WIDTH)/2);l.StyleMutator.setLeft(this._domNode,i)},e.prototype.start=function(){this._editor.revealPositionInCenterIfOutsideViewport(this._editor.getPosition()),this._show(),this._lastKeybinding=null,this._inputNode.value="",a.clearNode(this._outputNode),this._inputNode.focus()},e.prototype._stop=function(){this._editor.focus(),this._hide()},e.ID="editor.contrib.defineKeybindingWidget",e.WIDTH=340,e.HEIGHT=90,e}(),M=function(e){function t(){e.call(this,{id:t.ID,label:n.localize(4,null),alias:"Define Keybinding",precondition:f.ContextKeyExpr.and(T.Writable,T.LanguageId.isEqualTo("json")),kbOpts:{kbExpr:T.TextFocus,primary:r.KeyChord(32809,32809)}})}return d(t,e),t.prototype.run=function(e,t){if(I(t)){var n=P.get(t);n&&n.launch()}},t.ID="editor.action.defineKeybinding",t=g([b.editorAction],t)}(b.EditorAction);t.DefineKeybindingAction=M}),define(l[352],h([1,0,23,84,195,14,12,10,27,160]),function(e,t,n,i,r,o,s,a,c,u){"use strict";var l=a.EditorContextKeys,h=o.Registry.as(r.Extensions.Snippets),d=function(){function e(t,n){var i=this;this._currentSnippets=[],this._snippetController=u.SnippetController.get(t);var o=e.ContextKey.bindTo(n);this._cursorChangeSubscription=t.onDidChangeCursorSelection(function(e){i._currentSnippets.length=0;var n;if(e.selection.isEmpty()){
var a=r.getNonWhitespacePrefix(t.getModel(),t.getPosition());n=a&&function(e){return s.endsWith(a,e.prefix)}}else{var c=t.getModel().getValueInRange(e.selection);n=function(e){return c===e.prefix}}n&&h.visitSnippets(t.getModel().getModeId(),function(e){return n(e)&&i._currentSnippets.push(e),!0}),o.set(1===i._currentSnippets.length)})}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._cursorChangeSubscription.dispose()},e.prototype.performSnippetCompletions=function(){if(1===this._currentSnippets.length){var e=this._currentSnippets[0];this._snippetController.insertSnippet(e.codeSnippet,e.prefix.length,0)}},e.prototype.getId=function(){return e.ID},e.ID="editor.tabCompletionController",e.ContextKey=new n.RawContextKey("hasSnippetCompletions",(void 0)),e=g([c.commonEditorContribution,v(1,n.IContextKeyService)],e)}();t.TabCompletionController=d;var p=c.EditorCommand.bindToContribution(d.get);c.CommonEditorRegistry.registerEditorCommand(new p({id:"insertSnippet",precondition:d.ContextKey,handler:function(e){return e.performSnippetCompletions()},kbOpts:{weight:i.KeybindingsRegistry.WEIGHT.editorContrib(),kbExpr:n.ContextKeyExpr.and(l.TextFocus,l.TabDoesNotMoveFocus,u.CONTEXT_SNIPPET_MODE.toNegated(),n.ContextKeyExpr.has("config.editor.tabCompletion")),primary:2}}))}),define(l[216],h([1,0,17,35,12,30,7,2,27,49,195,14,23,127]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p){"use strict";function f(e,r,o,c){void 0===o&&(o="bottom");var l=[],h=m(o);r=r.clone();var d=u.SuggestRegistry.orderedGroups(e);"none"!==o&&d.unshift([t.snippetSuggestSupport]);var p=!1,f=d.map(function(o){return function(){if(!p)return a.TPromise.join(o.map(function(o){if(i.isFalsyOrEmpty(c)||!(c.indexOf(o)<0))return n.asWinJsPromise(function(t){return o.provideCompletionItems(e,r,t)}).then(function(n){var s=l.length;if(n&&!i.isFalsyOrEmpty(n.suggestions))for(var a=0,c=n.suggestions;a<c.length;a++){var u=c[a];h(u)&&(g(u,n),l.push({position:r,container:n,suggestion:u,support:o,resolve:v(o,u,e,r)}))}s!==l.length&&o!==t.snippetSuggestSupport&&(p=!0)},s.onUnexpectedExternalError)}))}}),b=n.sequence(f).then(function(){return l.sort(y(o))});return b}function g(e,t){"number"!=typeof e.overwriteBefore&&(e.overwriteBefore=0),("number"!=typeof e.overwriteAfter||e.overwriteAfter<0)&&(e.overwriteAfter=0)}function v(e,t,i,r){return function(){return"function"==typeof e.resolveCompletionItem?n.asWinJsPromise(function(n){return e.resolveCompletionItem(i,r,t,n)}).then(function(e){o.assign(t,e)}):a.TPromise.as(void 0)}}function m(e){return"none"===e?function(e){return"snippet"!==e.type}:function(){return!0}}function y(e){function t(e,t){var n=0;return"string"==typeof e.suggestion.sortText&&"string"==typeof t.suggestion.sortText&&(n=r.compare(e.suggestion.sortText.toLowerCase(),t.suggestion.sortText.toLowerCase())),n||(n=r.compare(e.suggestion.label.toLowerCase(),t.suggestion.label.toLowerCase())),n||e.suggestion.type===t.suggestion.type||("snippet"===e.suggestion.type?n=1:"snippet"===t.suggestion.type&&(n=-1)),n}function n(e,n){if(e.suggestion.type!==n.suggestion.type){if("snippet"===e.suggestion.type)return-1;if("snippet"===n.suggestion.type)return 1}return t(e,n)}function i(e,n){if(e.suggestion.type!==n.suggestion.type){if("snippet"===e.suggestion.type)return 1;if("snippet"===n.suggestion.type)return-1}return t(e,n)}return"top"===e?n:"bottom"===e?i:t}t.Context={Visible:new d.RawContextKey("suggestWidgetVisible",(!1)),MultipleSuggestions:new d.RawContextKey("suggestWidgetMultipleSuggestions",(!1)),AcceptOnKey:new d.RawContextKey("suggestionSupportsAcceptOnKey",(!0)),AcceptSuggestionsOnEnter:new d.RawContextKey("acceptSuggestionOnEnter",p.DefaultConfig.editor.acceptSuggestionOnEnter)},t.snippetSuggestSupport={triggerCharacters:[],provideCompletionItems:function(e,t){var n=h.Registry.as(l.Extensions.Snippets).getSnippetCompletions(e,t);if(n)return{suggestions:n}}},t.provideSuggestionItems=f,t.getSuggestionComparator=y,c.CommonEditorRegistry.registerDefaultLanguageCommand("_executeCompletionItemProvider",function(e,t,n){var i={incomplete:!1,suggestions:[]};return f(e,t).then(function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t],o=r.container,s=r.suggestion;i.incomplete=i.incomplete||o.incomplete,i.suggestions.push(s)}return i})})}),define(l[837],h([1,0,427,12,11,2,7,5,8,221,382,124,6,36,23,59,216,148,19,697]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S){"use strict";function E(e){return e&&e.match(w)?e:null}var _,C=!1,w=/^(#([\da-f]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))$/i,I=function(){function e(e,t,n){this.widget=e,this.editor=t;var i=n.lookupKeybindings("editor.action.triggerSuggest");this.triggerKeybindingLabel=0===i.length?"":" ("+n.getLabelFor(i[0])+")"}return Object.defineProperty(e.prototype,"templateId",{get:function(){return"suggestion"},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){var t=this,i=Object.create(null);i.disposables=[],i.root=e,i.icon=c.append(e,c.$(".icon")),i.colorspan=c.append(i.icon,c.$("span.colorspan"));var o=c.append(e,c.$(".contents")),s=c.append(o,c.$(".main"));i.highlightedLabel=new u.HighlightedLabel(s),i.disposables.push(i.highlightedLabel),i.typeLabel=c.append(s,c.$("span.type-label"));var a=c.append(o,c.$(".docs"));i.documentation=c.append(a,c.$("span.docs-text")),i.documentationDetails=c.append(a,c.$("span.docs-details")),i.documentationDetails.title=n.localize(0,null,this.triggerKeybindingLabel);var l=function(){var e=t.editor.getConfiguration(),n=e.fontInfo.fontFamily,r=e.contribInfo.suggestFontSize||e.fontInfo.fontSize,o=e.contribInfo.suggestLineHeight||e.fontInfo.lineHeight,a=r+"px",c=o+"px";i.root.style.fontSize=a,s.style.fontFamily=n,s.style.lineHeight=c,i.icon.style.height=c,i.icon.style.width=c,i.documentationDetails.style.height=c,i.documentationDetails.style.width=c};return l(),r.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(e){return e.fontInfo||e.contribInfo}).on(l,null,i.disposables),i},e.prototype.renderElement=function(e,t,i){var r=this,o=i,s=e.suggestion;if(s.documentation?o.root.setAttribute("aria-label",n.localize(1,null,s.label)):o.root.setAttribute("aria-label",n.localize(2,null,s.label)),o.icon.className="icon "+s.type,o.colorspan.style.backgroundColor="","color"===s.type){var a=E(s.label)||E(s.documentation);a&&(o.icon.className="icon customcolor",o.colorspan.style.backgroundColor=a)}o.highlightedLabel.set(s.label,e.highlights),o.typeLabel.textContent=(s.detail||"").replace(/\n.*$/m,""),o.documentation.textContent=s.documentation||"",s.documentation?(c.show(o.documentationDetails),o.documentationDetails.onmousedown=function(e){e.stopPropagation(),e.preventDefault()},o.documentationDetails.onclick=function(e){e.stopPropagation(),e.preventDefault(),r.widget.toggleDetails()}):(c.hide(o.documentationDetails),o.documentationDetails.onmousedown=null,o.documentationDetails.onclick=null)},e.prototype.disposeTemplate=function(e){e.highlightedLabel.dispose(),e.disposables=a.dispose(e.disposables)},e=g([v(2,p.IKeybindingService)],e)}();!function(e){e[e.Hidden=0]="Hidden",e[e.Loading=1]="Loading",e[e.Empty=2]="Empty",e[e.Open=3]="Open",e[e.Frozen=4]="Frozen",e[e.Details=5]="Details"}(_||(_={}));var T=function(){function e(e,t,i){var o=this;this.widget=t,this.editor=i,this.disposables=[],this.el=c.append(e,c.$(".details")),this.disposables.push(a.toDisposable(function(){return e.removeChild(o.el)}));var s=c.append(this.el,c.$(".header"));this.title=c.append(s,c.$("span.title")),this.titleLabel=new u.HighlightedLabel(this.title),this.disposables.push(this.titleLabel),this.back=c.append(s,c.$("span.go-back")),this.back.title=n.localize(3,null),this.body=c.$(".body"),this.scrollbar=new h.DomScrollableElement(this.body,{canUseTranslate3d:!1}),c.append(this.el,this.scrollbar.getDomNode()),this.disposables.push(this.scrollbar),this.type=c.append(this.body,c.$("p.type")),this.docs=c.append(this.body,c.$("p.docs")),this.ariaLabel=null,this.configureFont(),r.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(e){return e.fontInfo}).on(this.configureFont,this,this.disposables)}return Object.defineProperty(e.prototype,"element",{get:function(){return this.el},enumerable:!0,configurable:!0}),e.prototype.render=function(e){var t=this;return e?(this.titleLabel.set(e.suggestion.label,e.highlights),this.type.innerText=e.suggestion.detail||"",this.docs.textContent=e.suggestion.documentation,this.back.onmousedown=function(e){e.preventDefault(),e.stopPropagation()},this.back.onclick=function(e){e.preventDefault(),e.stopPropagation(),t.widget.toggleDetails()},this.body.scrollTop=0,this.scrollbar.scanDomNode(),void(this.ariaLabel=i.format("{0}\n{1}\n{2}",e.suggestion.label||"",e.suggestion.detail||"",e.suggestion.documentation||""))):(this.titleLabel.set(""),this.type.textContent="",this.docs.textContent="",void(this.ariaLabel=null))},e.prototype.getAriaLabel=function(){return this.ariaLabel},e.prototype.scrollDown=function(e){void 0===e&&(e=8),this.body.scrollTop+=e},e.prototype.scrollUp=function(e){void 0===e&&(e=8),this.body.scrollTop-=e},e.prototype.pageDown=function(){this.scrollDown(80)},e.prototype.pageUp=function(){this.scrollUp(80)},e.prototype.configureFont=function(){var e=this.editor.getConfiguration(),t=e.fontInfo.fontFamily,n=e.contribInfo.suggestFontSize||e.fontInfo.fontSize,i=e.contribInfo.suggestLineHeight||e.fontInfo.lineHeight,r=n+"px",o=i+"px";this.el.style.fontSize=r,this.title.style.fontFamily=t,this.type.style.fontFamily=t,this.back.style.height=o,this.back.style.width=o},e.prototype.dispose=function(){this.disposables=a.dispose(this.disposables)},e}(),x=function(){function e(e,t,n,i){var o=this;this.editor=e,this.telemetryService=t,this.allowEditorOverflow=!0,this.onDidSelectEmitter=new r.Emitter,this.isAuto=!1,this.focusedItem=null,this.element=c.$(".editor-widget.suggest-widget"),this.editor.getConfiguration().contribInfo.iconsInSuggestions||c.addClass(this.element,"no-icons"),this.messageElement=c.append(this.element,c.$(".message")),this.listElement=c.append(this.element,c.$(".tree")),this.details=new T(this.element,this,this.editor);var s=i.createInstance(I,this,this.editor);this.list=new l.List(this.listElement,this,[s],{useShadows:!1}),this.toDispose=[e.onDidBlurEditorText(function(){return o.onEditorBlur()}),this.list.onSelectionChange(function(e){return o.onListSelection(e)}),this.list.onFocusChange(function(e){return o.onListFocus(e)}),this.editor.onDidChangeCursorSelection(function(){return o.onCursorSelectionChanged()})],this.suggestWidgetVisible=y.Context.Visible.bindTo(n),this.suggestWidgetMultipleSuggestions=y.Context.MultipleSuggestions.bindTo(n),this.suggestionSupportsAutoAccept=y.Context.AcceptOnKey.bindTo(n),this.editor.addContentWidget(this),this.setState(0)}return e.prototype.onCursorSelectionChanged=function(){0!==this.state&&this.editor.layoutContentWidget(this)},e.prototype.onEditorBlur=function(){var e=this;C||(this.editorBlurTimeout=o.TPromise.timeout(150).then(function(){e.editor.isFocused()||e.setState(0)}))},e.prototype.onListSelection=function(e){if(e.elements.length){var t=e.elements[0];this.onDidSelectEmitter.fire(t),b.alert(n.localize(6,null,t.suggestion.label)),this.editor.focus()}},e.prototype._getSuggestionAriaAlertLabel=function(e){return e.suggestion.documentation?n.localize(7,null,e.suggestion.label):n.localize(8,null,e.suggestion.label)},e.prototype._ariaAlert=function(e){this._lastAriaAlertLabel!==e&&(this._lastAriaAlertLabel=e,this._lastAriaAlertLabel&&b.alert(this._lastAriaAlertLabel))},e.prototype.onListFocus=function(e){var t=this;if(!e.elements.length)return this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null,this.focusedItem=null),void this._ariaAlert(null);var n=e.elements[0];if(this._ariaAlert(this._getSuggestionAriaAlertLabel(n)),n!==this.focusedItem){this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null);var i=e.indexes[0];this.suggestionSupportsAutoAccept.set(!n.suggestion.noAutoAccept),this.focusedItem=n,this.updateWidgetHeight(),this.list.reveal(i),this.currentSuggestionDetails=n.resolve().then(function(){t.list.setFocus(i),t.updateWidgetHeight(),t.list.reveal(i),t._ariaAlert(t._getSuggestionAriaAlertLabel(n))}).then(null,function(e){return!s.isPromiseCanceledError(e)&&s.onUnexpectedError(e)}).then(function(){return t.currentSuggestionDetails=null})}},e.prototype.setState=function(t){if(this.element){var n=this.state!==t;switch(this.state=t,c.toggleClass(this.element,"frozen",4===t),t){case 0:c.hide(this.messageElement,this.details.element),c.show(this.listElement),this.hide(),n&&this.list.splice(0,this.list.length);break;case 1:this.messageElement.textContent=e.LOADING_MESSAGE,c.hide(this.listElement,this.details.element),c.show(this.messageElement),this.show();break;case 2:this.messageElement.textContent=e.NO_SUGGESTIONS_MESSAGE,c.hide(this.listElement,this.details.element),c.show(this.messageElement),this.show();break;case 3:c.hide(this.messageElement,this.details.element),c.show(this.listElement),this.show();break;case 4:c.hide(this.messageElement,this.details.element),c.show(this.listElement),this.show();break;case 5:c.hide(this.messageElement,this.listElement),c.show(this.details.element),this.show(),this._ariaAlert(this.details.getAriaLabel())}n&&this.editor.layoutContentWidget(this)}},Object.defineProperty(e.prototype,"onDidSelect",{get:function(){return this.onDidSelectEmitter.event},enumerable:!0,configurable:!0}),e.prototype.showTriggered=function(e){var t=this;0===this.state&&(this.isAuto=!!e,this.isAuto||(this.loadingTimeout=setTimeout(function(){t.loadingTimeout=null,t.setState(1)},50)))},e.prototype.showSuggestions=function(e,t,n){if(this.loadingTimeout&&(clearTimeout(this.loadingTimeout),this.loadingTimeout=null),this.completionModel=e,t&&2!==this.state)return void this.setState(4);var i=this.completionModel.items.length,r=0===i;if(this.suggestWidgetMultipleSuggestions.set(i>1),r)n?this.setState(0):this.setState(2),this.completionModel=null;else{var o=this.completionModel.stats;o.wasAutomaticallyTriggered=!!n,this.telemetryService.publicLog("suggestWidget",o),(s=this.list).splice.apply(s,[0,this.list.length].concat(this.completionModel.items)),this.list.setFocus(this.completionModel.topScoreIdx),this.list.reveal(this.completionModel.topScoreIdx,0),this.setState(3)}var s},e.prototype.selectNextPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageDown(),!0;case 1:return!this.isAuto;default:return this.list.focusNextPage(),!0}},e.prototype.selectNext=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollDown(),!0;case 1:return!this.isAuto;default:return this.list.focusNext(1,!0),!0}},e.prototype.selectPreviousPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageUp(),!0;case 1:return!this.isAuto;default:return this.list.focusPreviousPage(),!0}},e.prototype.selectPrevious=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollUp(),!0;case 1:return!this.isAuto;default:return this.list.focusPrevious(1,!0),!1}},e.prototype.getFocusedItem=function(){if(0!==this.state&&2!==this.state&&1!==this.state)return this.list.getFocusedElements()[0]},e.prototype.toggleDetails=function(){if(5===this.state)return this.setState(3),void this.editor.focus();if(3===this.state){var e=this.list.getFocusedElements()[0];e&&e.suggestion.documentation&&(this.setState(5),this.editor.focus(),this.telemetryService.publicLog("suggestWidget:toggleDetails"))}},e.prototype.show=function(){var e=this;this.updateWidgetHeight(),this.suggestWidgetVisible.set(!0),this.renderDetails(),this.showTimeout=o.TPromise.timeout(100).then(function(){c.addClass(e.element,"visible")})},e.prototype.hide=function(){this.suggestWidgetVisible.reset(),this.suggestWidgetMultipleSuggestions.reset(),c.removeClass(this.element,"visible")},e.prototype.hideWidget=function(){clearTimeout(this.loadingTimeout),this.setState(0)},e.prototype.hideDetailsOrHideWidget=function(){5===this.state?this.toggleDetails():this.hideWidget()},e.prototype.getPosition=function(){return 0===this.state?null:{position:this.editor.getPosition(),preference:[m.ContentWidgetPositionPreference.BELOW,m.ContentWidgetPositionPreference.ABOVE]}},e.prototype.getDomNode=function(){return this.element},e.prototype.getId=function(){return e.ID},e.prototype.updateWidgetHeight=function(){var e=0;if(2===this.state||1===this.state)e=this.unfocusedHeight;else if(5===this.state)e=12*this.unfocusedHeight;else{var t=this.list.getFocusedElements()[0],n=t?this.getHeight(t):this.unfocusedHeight;e=n;var i=(this.list.contentHeight-n)/this.unfocusedHeight;e+=Math.min(i,11)*this.unfocusedHeight}return this.element.style.lineHeight=this.unfocusedHeight+"px",this.element.style.height=e+"px",this.list.layout(e),this.editor.layoutContentWidget(this),e},e.prototype.renderDetails=function(){5!==this.state?this.details.render(null):this.details.render(this.list.getFocusedElements()[0])},Object.defineProperty(e.prototype,"focusHeight",{get:function(){return 2*this.unfocusedHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unfocusedHeight",{get:function(){var e=this.editor.getConfiguration();return e.contribInfo.suggestLineHeight||e.fontInfo.lineHeight},enumerable:!0,configurable:!0}),e.prototype.getHeight=function(e){var t=this.list.getFocusedElements()[0];return e.suggestion.documentation&&e===t?this.focusHeight:this.unfocusedHeight},e.prototype.getTemplateId=function(e){return"suggestion"},e.prototype.dispose=function(){this.state=null,this.suggestionSupportsAutoAccept=null,this.currentSuggestionDetails=null,this.focusedItem=null,this.element=null,this.messageElement=null,this.listElement=null,this.details.dispose(),this.details=null,this.list.dispose(),this.list=null,this.toDispose=a.dispose(this.toDispose),this.loadingTimeout&&(clearTimeout(this.loadingTimeout),this.loadingTimeout=null),this.editorBlurTimeout&&(this.editorBlurTimeout.cancel(),this.editorBlurTimeout=null),this.showTimeout&&(this.showTimeout.cancel(),this.showTimeout=null)},e.ID="editor.widget.suggestWidget",e.LOADING_MESSAGE=n.localize(4,null),e.NO_SUGGESTIONS_MESSAGE=n.localize(5,null),e=g([v(1,S.ITelemetryService),v(2,f.IContextKeyService),v(3,d.IInstantiationService)],e)}();t.SuggestWidget=x}),define(l[838],h([1,0,7,35,108,11,5,12,2,10,49,216,1014]),function(e,t,n,i,r,o,s,a,c,u,l,h,d){"use strict";var p=function(){function e(e,t,n){this.auto=n;var i=e.getLineContent(t.lineNumber),r=e.getWordAtPosition(t);if(r?(this.wordBefore=i.substring(r.startColumn-1,t.column-1),this.wordAfter=i.substring(t.column-1,r.endColumn-1)):(this.wordBefore="",this.wordAfter=""),this.lineNumber=t.lineNumber,this.column=t.column,this.lineContentBefore=i.substr(0,t.column-1),this.lineContentAfter=i.substr(t.column-1),this.isInEditableRange=!0,e.hasEditableRange()){var o=e.getEditableRange();o.containsPosition(t)||(this.isInEditableRange=!1)}}return e.prototype.shouldAutoTrigger=function(){return 0!==this.wordBefore.length&&(!!isNaN(Number(this.wordBefore))&&!(this.wordAfter.length>0))},e.prototype.isDifferentContext=function(e){return this.lineNumber!==e.lineNumber||(e.column<this.column-this.wordBefore.length||(!a.startsWith(e.lineContentBefore,this.lineContentBefore)||this.lineContentAfter!==e.lineContentAfter||""===e.wordBefore&&e.lineContentBefore!==this.lineContentBefore))},e.prototype.shouldRetrigger=function(e){return!(!a.startsWith(this.lineContentBefore,e.lineContentBefore)||this.lineContentAfter!==e.lineContentAfter)&&(!(this.lineContentBefore.length>e.lineContentBefore.length&&0===this.wordBefore.length)&&(!this.auto||0!==e.wordBefore.length))},e}();t.Context=p;var f;!function(e){e[e.Idle=0]="Idle",e[e.Manual=1]="Manual",e[e.Auto=2]="Auto"}(f||(f={}));var g=function(){function e(e){var t=this;this.editor=e,this.toDispose=[],this.triggerCharacterListeners=[],this._onDidCancel=new o.Emitter,this._onDidTrigger=new o.Emitter,this._onDidSuggest=new o.Emitter,this.state=0,this.triggerAutoSuggestPromise=null,this.requestPromise=null,this.completionModel=null,this.context=null,this.toDispose.push(this.editor.onDidChangeModel(function(){t.updateTriggerCharacters(),t.cancel()})),this.toDispose.push(e.onDidChangeModelMode(function(){t.updateTriggerCharacters(),t.cancel()})),this.toDispose.push(this.editor.onDidChangeConfiguration(function(){t.updateTriggerCharacters(),t.updateQuickSuggest()})),this.toDispose.push(l.SuggestRegistry.onDidChange(function(){t.updateTriggerCharacters(),t.updateActiveSuggestSession()})),this.toDispose.push(this.editor.onDidChangeCursorSelection(function(e){t.onCursorChange(e)})),this.updateTriggerCharacters(),this.updateQuickSuggest()}return Object.defineProperty(e.prototype,"onDidCancel",{get:function(){return this._onDidCancel.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidTrigger",{get:function(){return this._onDidTrigger.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidSuggest",{get:function(){return this._onDidSuggest.event},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){s.dispose([this._onDidCancel,this._onDidSuggest,this._onDidTrigger]),this.toDispose=s.dispose(this.toDispose),this.triggerCharacterListeners=s.dispose(this.triggerCharacterListeners),this.cancel()},e.prototype.updateQuickSuggest=function(){this.quickSuggestDelay=this.editor.getConfiguration().contribInfo.quickSuggestionsDelay,(isNaN(this.quickSuggestDelay)||!this.quickSuggestDelay&&0!==this.quickSuggestDelay||this.quickSuggestDelay<0)&&(this.quickSuggestDelay=10)},e.prototype.updateTriggerCharacters=function(){var e=this;if(this.triggerCharacterListeners=s.dispose(this.triggerCharacterListeners),!this.editor.getConfiguration().readOnly&&this.editor.getModel()&&this.editor.getConfiguration().contribInfo.suggestOnTriggerCharacters){for(var t=Object.create(null),n=0,o=l.SuggestRegistry.all(this.editor.getModel());n<o.length;n++){var a=o[n];if(!i.isFalsyOrEmpty(a.triggerCharacters))for(var c=0,u=a.triggerCharacters;c<u.length;c++){var h=u[c],d=t[h];d?d.push(a):t[h]=[a]}}r.forEach(t,function(t){e.triggerCharacterListeners.push(e.editor.addTypingListener(t.key,function(){e.trigger(!0,!1,t.value)}))})}},e.prototype.cancel=function(e){void 0===e&&(e=!1),this.triggerAutoSuggestPromise&&(this.triggerAutoSuggestPromise.cancel(),this.triggerAutoSuggestPromise=null),this.requestPromise&&(this.requestPromise.cancel(),this.requestPromise=null),this.state=0,this.completionModel=null,this.context=null,this._onDidCancel.fire({retrigger:e})},e.prototype.updateActiveSuggestSession=function(){0!==this.state&&(l.SuggestRegistry.has(this.editor.getModel())?this.trigger(2===this.state,!0):this.cancel())},e.prototype.onCursorChange=function(e){var t=this;if(!e.selection.isEmpty())return void this.cancel();if("keyboard"!==e.source||e.reason!==u.CursorChangeReason.NotSet)return void this.cancel();if(l.SuggestRegistry.has(this.editor.getModel())){var n=0===this.state;if(!n||this.editor.getConfiguration().contribInfo.quickSuggestions){var i=this.editor.getModel();if(i){var r=new p(i,this.editor.getPosition(),(!1));n?(this.cancel(),r.shouldAutoTrigger()&&(this.triggerAutoSuggestPromise=c.TPromise.timeout(this.quickSuggestDelay),this.triggerAutoSuggestPromise.then(function(){t.triggerAutoSuggestPromise=null,t.trigger(!0)}))):this.onNewContext(r)}}}},e.prototype.trigger=function(e,t,r,o){var s=this;void 0===t&&(t=!1);var a=this.editor.getModel();if(a){var c=new p(a,this.editor.getPosition(),e);c.isInEditableRange&&(this.cancel(t),this.state=e?2:1,this._onDidTrigger.fire({auto:e}),this.context=c,this.requestPromise=h.provideSuggestionItems(a,this.editor.getPosition(),this.editor.getConfiguration().contribInfo.snippetSuggestions,r).then(function(t){if(s.requestPromise=null,0!==s.state){var n=s.editor.getModel();if(n){if(!i.isFalsyOrEmpty(o)){var r=h.getSuggestionComparator(s.editor.getConfiguration().contribInfo.snippetSuggestions);t=t.concat(o).sort(r)}var a=new p(n,s.editor.getPosition(),e);s.completionModel=new d.CompletionModel(t,s.context.column,{leadingLineContent:a.lineContentBefore,characterCountDelta:s.context?a.column-s.context.column:0}),s.onNewContext(a)}}}).then(null,n.onUnexpectedError))}},e.prototype.onNewContext=function(e){if(this.context&&this.context.isDifferentContext(e))this.context.shouldRetrigger(e)?this.trigger(2===this.state,!0):this.cancel();else if(this.completionModel){if(this.completionModel.incomplete&&e.column>this.context.column){var t=this.completionModel.resolveIncompleteInfo(),n=t.complete,i=t.incomplete;return void this.trigger(2===this.state,!0,i,n)}var r=2===this.state,o=this.completionModel.lineContext,s=!1;this.completionModel.lineContext={leadingLineContent:e.lineContentBefore,characterCountDelta:this.context?e.column-this.context.column:0},r||0!==this.completionModel.items.length||(this.completionModel.lineContext=o,s=this.completionModel.items.length>0),this._onDidSuggest.fire({completionModel:this.completionModel,isFrozen:s,auto:r})}},e}();t.SuggestModel=g}),define(l[278],h([1,0,426,7,5,6,19,23,34,10,27,58,118,15,180,160,216,838,837]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E){"use strict";var _=function(){function e(e,t,n,i,r){var o=this;this.editor=e,this.commandService=t,this.telemetryService=n,this.toDispose=[],this.model=new S.SuggestModel(this.editor),this.toDispose.push(this.model.onDidTrigger(function(e){return o.widget.showTriggered(e.auto)})),this.toDispose.push(this.model.onDidSuggest(function(e){return o.widget.showSuggestions(e.completionModel,e.isFrozen,e.auto)})),this.toDispose.push(this.model.onDidCancel(function(e){return!e.retrigger&&o.widget.hideWidget()}));var s=b.Context.AcceptSuggestionsOnEnter.bindTo(i),a=function(){s.set(o.editor.getConfiguration().contribInfo.acceptSuggestionOnEnter)};this.toDispose.push(this.editor.onDidChangeConfiguration(function(e){return a()})),a(),this.widget=r.createInstance(E.SuggestWidget,this.editor),this.toDispose.push(this.widget.onDidSelect(this.onDidSelectItem,this))}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.toDispose=r.dispose(this.toDispose),this.widget&&(this.widget.dispose(),this.widget=null),this.model&&(this.model.dispose(),this.model=null)},e.prototype.onDidSelectItem=function(e){if(e){var t=e.suggestion,n=e.position,r=this.editor.getPosition().column-n.column;Array.isArray(t.additionalTextEdits)&&(this.editor.pushUndoStop(),this.editor.executeEdits("suggestController.additionalTextEdits",t.additionalTextEdits.map(function(e){return p.EditOperation.replace(f.Range.lift(e.range),e.text)})),this.editor.pushUndoStop()),"textmate"===t.snippetType?y.SnippetController.get(this.editor).insertSnippet(t.insertText,t.overwriteBefore+r,t.overwriteAfter):y.SnippetController.get(this.editor).run(m.CodeSnippet.fromInternal(t.insertText),t.overwriteBefore+r,t.overwriteAfter),t.command&&(o=this.commandService).executeCommand.apply(o,[t.command.id].concat(t.command.arguments)).done(void 0,i.onUnexpectedError)}this.model.cancel();var o},e.prototype.triggerSuggest=function(){this.model.trigger(!1,!1),this.editor.revealLine(this.editor.getPosition().lineNumber),this.editor.focus()},e.prototype.acceptSelectedSuggestion=function(){if(this.widget){var e=this.widget.getFocusedItem();this.onDidSelectItem(e)}},e.prototype.cancelSuggestWidget=function(){this.widget&&(this.model.cancel(),this.widget.hideDetailsOrHideWidget())},e.prototype.selectNextSuggestion=function(){this.widget&&this.widget.selectNext()},e.prototype.selectNextPageSuggestion=function(){this.widget&&this.widget.selectNextPage()},e.prototype.selectPrevSuggestion=function(){this.widget&&this.widget.selectPrevious()},e.prototype.selectPrevPageSuggestion=function(){this.widget&&this.widget.selectPreviousPage()},e.prototype.toggleSuggestionDetails=function(){this.widget&&this.widget.toggleDetails()},e.ID="editor.contrib.suggestController",e=g([h.editorContribution,v(1,c.ICommandService),v(2,s.ITelemetryService),v(3,a.IContextKeyService),v(4,o.IInstantiationService)],e)}();t.SuggestController=_;var C=function(e){function t(){e.call(this,{id:"editor.action.triggerSuggest",label:n.localize(0,null),alias:"Trigger Suggest",precondition:a.ContextKeyExpr.and(u.EditorContextKeys.Writable,u.ModeContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:u.EditorContextKeys.TextFocus,primary:32778,mac:{primary:4106}}})}return d(t,e),t.prototype.run=function(e,t){_.get(t).triggerSuggest()},t=g([l.editorAction],t)}(l.EditorAction);t.TriggerSuggestAction=C;var w=l.CommonEditorRegistry.commandWeight(90),I=l.EditorCommand.bindToContribution(_.get);l.CommonEditorRegistry.registerEditorCommand(new I({id:"acceptSelectedSuggestion",precondition:b.Context.Visible,handler:function(e){return e.acceptSelectedSuggestion()},kbOpts:{weight:w,kbExpr:u.EditorContextKeys.TextFocus,primary:2}})),l.CommonEditorRegistry.registerEditorCommand(new I({id:"acceptSelectedSuggestionOnEnter",precondition:b.Context.Visible,handler:function(e){return e.acceptSelectedSuggestion()},kbOpts:{weight:w,kbExpr:a.ContextKeyExpr.and(u.EditorContextKeys.TextFocus,b.Context.AcceptSuggestionsOnEnter),primary:3}})),l.CommonEditorRegistry.registerEditorCommand(new I({id:"hideSuggestWidget",precondition:b.Context.Visible,handler:function(e){return e.cancelSuggestWidget()},kbOpts:{weight:w,kbExpr:u.EditorContextKeys.TextFocus,primary:9,secondary:[16393]}})),l.CommonEditorRegistry.registerEditorCommand(new I({id:"selectNextSuggestion",precondition:a.ContextKeyExpr.and(b.Context.Visible,b.Context.MultipleSuggestions),handler:function(e){return e.selectNextSuggestion()},kbOpts:{weight:w,kbExpr:u.EditorContextKeys.TextFocus,primary:18,secondary:[8210],mac:{primary:18,secondary:[8210,4140]}}})),l.CommonEditorRegistry.registerEditorCommand(new I({id:"selectNextPageSuggestion",precondition:a.ContextKeyExpr.and(b.Context.Visible,b.Context.MultipleSuggestions),handler:function(e){return e.selectNextPageSuggestion()},kbOpts:{weight:w,kbExpr:u.EditorContextKeys.TextFocus,primary:12,secondary:[8204]}})),l.CommonEditorRegistry.registerEditorCommand(new I({id:"selectPrevSuggestion",precondition:a.ContextKeyExpr.and(b.Context.Visible,b.Context.MultipleSuggestions),handler:function(e){return e.selectPrevSuggestion()},kbOpts:{weight:w,kbExpr:u.EditorContextKeys.TextFocus,primary:16,secondary:[8208],mac:{primary:16,secondary:[8208,4142]}}})),l.CommonEditorRegistry.registerEditorCommand(new I({id:"selectPrevPageSuggestion",precondition:a.ContextKeyExpr.and(b.Context.Visible,b.Context.MultipleSuggestions),handler:function(e){return e.selectPrevPageSuggestion()},kbOpts:{weight:w,kbExpr:u.EditorContextKeys.TextFocus,primary:11,secondary:[8203]}})),l.CommonEditorRegistry.registerEditorCommand(new I({id:"toggleSuggestionDetails",precondition:b.Context.Visible,handler:function(e){return e.toggleSuggestionDetails()},kbOpts:{weight:w,kbExpr:u.EditorContextKeys.TextFocus,primary:32778,mac:{primary:4106}}}))}),define(l[224],h([1,0,429,27,139]),function(e,t,n,i,r){"use strict";var o=function(e){function t(){e.call(this,{id:t.ID,label:n.localize(0,null),alias:"Toggle Use of Tab Key for Setting Focus",precondition:null,kbOpts:{kbExpr:null,primary:32811,mac:{primary:20523}}})}return d(t,e),t.prototype.run=function(e,t){var n=r.TabFocus.getTabFocusMode();r.TabFocus.setTabFocusMode(!n)},t.ID="editor.action.toggleTabFocusMode",t=g([i.editorAction],t)}(i.EditorAction);t.ToggleTabFocusModeAction=o}),define(l[841],h([1,0,1198,5,12,8,163,67,94,36,23,84,139,10,27,58,224,660]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b){"use strict";var S=new l.RawContextKey("accessibilityHelpWidgetVisible",(!1)),E="toggleExperimentalScreenReaderSupport",_=function(e){function t(t,n,i){e.call(this),this._editor=t,
this._widget=this._register(new C(this._editor,n,i))}return d(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.getId=function(){return t.ID},t.prototype.show=function(){this._widget.show()},t.prototype.hide=function(){this._widget.hide()},t.ID="editor.contrib.accessibilityHelpController",t=g([y.editorContribution,v(1,l.IContextKeyService),v(2,u.IKeybindingService)],t)}(i.Disposable),C=function(e){function t(n,i,r){var o=this;e.call(this),this._editor=n,this._keybindingService=r,this._isVisibleKey=S.bindTo(i),this._domNode=document.createElement("div"),this._domNode.className="accessibilityHelpWidget",a.StyleMutator.setWidth(this._domNode,t.WIDTH),a.StyleMutator.setHeight(this._domNode,t.HEIGHT),this._domNode.style.display="none",this._domNode.setAttribute("role","tooltip"),this._domNode.setAttribute("aria-hidden","true"),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(function(){o._isVisible&&o._layout()})),this.onblur(this._domNode,function(){o.hide()}),this._editor.addOverlayWidget(this)}return d(t,e),t.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return{preference:null}},t.prototype.show=function(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.style.display="block",this._domNode.setAttribute("aria-hidden","false"),this._domNode.tabIndex=0,this._buildContent(),this._domNode.focus())},t.prototype._descriptionForCommand=function(e,t,n){var i=this._keybindingService.lookupKeybindings(e);return i.length>0?r.format(t,this._keybindingService.getAriaLabelFor(i[0])):r.format(n,e)},t.prototype._buildContent=function(){var e=this._editor.getConfiguration(),t=n.localize(0,null);t+="\n\n"+n.localize(1,null);var i=n.localize(2,null),r=n.localize(3,null),o=n.localize(4,null),a=n.localize(5,null);t+=e.tabFocusMode?"\n\n - "+this._descriptionForCommand(b.ToggleTabFocusModeAction.ID,i,r):"\n\n - "+this._descriptionForCommand(b.ToggleTabFocusModeAction.ID,o,a),t+="\n\n"+n.localize(6,null),this._domNode.appendChild(s.renderHtml({formattedText:t}))},t.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.style.display="none",this._domNode.setAttribute("aria-hidden","true"),this._domNode.tabIndex=-1,o.clearNode(this._domNode),this._editor.focus())},t.prototype._layout=function(){var e=this._editor.getLayoutInfo(),n=Math.round((e.height-t.HEIGHT)/2);a.StyleMutator.setTop(this._domNode,n);var i=Math.round((e.width-t.WIDTH)/2);a.StyleMutator.setLeft(this._domNode,i)},t.ID="editor.contrib.accessibilityHelpWidget",t.WIDTH=500,t.HEIGHT=300,t}(c.Widget),w=(function(e){function t(){e.call(this,{id:"editor.action.showAccessibilityHelp",label:n.localize(7,null),alias:"Show Accessibility Help",precondition:null,kbOpts:{kbExpr:f.EditorContextKeys.Focus,primary:8251}})}return d(t,e),t.prototype.run=function(e,t){var n=_.get(t);n&&n.show()},t=g([m.editorAction],t)}(m.EditorAction),m.EditorCommand.bindToContribution(_.get));m.CommonEditorRegistry.registerEditorCommand(new w({id:"closeAccessibilityHelp",precondition:S,handler:function(e){return e.hide()},kbOpts:{weight:m.CommonEditorRegistry.commandWeight(100),kbExpr:f.EditorContextKeys.Focus,primary:9,secondary:[16393]}}));var I=function(e){function t(){e.call(this,{id:E,precondition:null,kbOpts:{weight:h.KeybindingsRegistry.WEIGHT.workbenchContrib(),kbExpr:null,primary:49200}})}return d(t,e),t.prototype.runCommand=function(e,t){var n=p.GlobalScreenReaderNVDA.getValue();p.GlobalScreenReaderNVDA.setValue(!n)},t}(m.Command);m.CommonEditorRegistry.registerEditorCommand(new I)}),define(l[842],h([1,0,430,10,27]),function(e,t,n,i,r){"use strict";(function(e){function t(){e.call(this,{id:"editor.action.toggleWordWrap",label:n.localize(0,null),alias:"View: Toggle Word Wrap",precondition:null,kbOpts:{kbExpr:i.EditorContextKeys.TextFocus,primary:8248}})}return d(t,e),t.prototype.run=function(e,t){var n,i=t.getConfiguration().wrappingInfo;n=i.isViewportWrapping?-1:0,t.updateOptions({wrappingColumn:n})},t=g([r.editorAction],t)})(r.EditorAction)}),define(l[843],h([1,0,17,7,15,10,27,49,5]),function(e,t,n,i,r,o,s,a,c){"use strict";function u(e,t){var r=a.DocumentHighlightProviderRegistry.ordered(e),o=!1;return n.sequence(r.map(function(r){return function(){if(!o)return n.asWinJsPromise(function(n){return r.provideDocumentHighlights(e,t,n)}).then(function(e){if(Array.isArray(e)&&e.length>0)return o=!0,e},function(e){i.onUnexpectedExternalError(e)})}})).then(function(e){return e[0]})}t.getOccurrencesAtPosition=u,s.CommonEditorRegistry.registerDefaultLanguageCommand("_executeDocumentHighlights",u);var l=function(){function e(e){var t=this;this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this.model=this.editor.getModel(),this.toUnhook=[],this.toUnhook.push(e.onDidChangeCursorPosition(function(e){t._onPositionChanged(e)})),this.toUnhook.push(e.onDidChangeModel(function(e){t._stopAll(),t.model=t.editor.getModel()})),this.toUnhook.push(e.onDidChangeModelContent(function(e){t._stopAll()})),this._lastWordRange=null,this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}return e.prototype._removeDecorations=function(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]))},e.prototype._stopAll=function(){this._lastWordRange=null,this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)},e.prototype._onPositionChanged=function(e){var t=this;if(e.reason!==o.CursorChangeReason.Explicit)return void this._stopAll();if(!a.DocumentHighlightProviderRegistry.has(this.model))return void this._stopAll();var n=this.editor.getSelection();if(n.startLineNumber!==n.endLineNumber)return void this._stopAll();var i=n.startLineNumber,s=n.startColumn,c=n.endColumn,l=this.model.getWordAtPosition({lineNumber:i,column:s});if(!l||l.startColumn>s||l.endColumn<c)return void this._stopAll();for(var h=new r.Range(i,l.startColumn,i,l.endColumn),d=this._lastWordRange&&this._lastWordRange.equalsRange(h),p=0,f=this._decorationIds.length;!d&&p<f;p++){var g=this.model.getDecorationRange(this._decorationIds[p]);g&&g.startLineNumber===i&&g.startColumn<=s&&g.endColumn>=c&&(d=!0)}if(this.lastCursorPositionChangeTime=(new Date).getTime(),d)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();var v=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=u(this.model,this.editor.getPosition()),this.workerRequest.then(function(e){v===t.workerRequestTokenId&&(t.workerRequestCompleted=!0,t.workerRequestValue=e||[],t._beginRenderDecorations())}).done()}this._lastWordRange=h},e.prototype._beginRenderDecorations=function(){var e=this,t=(new Date).getTime(),n=this.lastCursorPositionChangeTime+250;t>=n?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(function(){e.renderDecorations()},n-t)},e.prototype.renderDecorations=function(){this.renderDecorationsTimer=-1;for(var e=[],t=0,n=this.workerRequestValue.length;t<n;t++){var i=this.workerRequestValue[t],r="#A0A0A0",s=void 0;s=i.kind===a.DocumentHighlightKind.Write?"wordHighlightStrong":i.kind===a.DocumentHighlightKind.Text?"selectionHighlight":"wordHighlight",e.push({range:i.range,options:{stickiness:o.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:s,overviewRuler:{color:r,darkColor:r,position:o.OverviewRulerLane.Center}}})}this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e)},e.prototype.dispose=function(){this._stopAll(),this.toUnhook=c.dispose(this.toUnhook)},e}();(function(){function e(e){this.wordHighligher=new l(e)}return e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.wordHighligher.dispose()},e.ID="editor.contrib.wordHighlighter",e=g([s.commonEditorContribution],e)})()}),define(l[844],h([1,0,389,19,18]),function(e,t,n,i,r){"use strict";var o=function(){function e(e,t,i){this.contextView=new n.ContextView(e)}return e.prototype.dispose=function(){this.contextView.dispose()},e.prototype.setContainer=function(e){this.contextView.setContainer(e)},e.prototype.showContextView=function(e){this.contextView.show(e)},e.prototype.layout=function(){this.contextView.layout()},e.prototype.hideContextView=function(e){this.contextView.hide(e)},e=g([v(1,i.ITelemetryService),v(2,r.IMessageService)],e)}();t.ContextViewService=o}),define(l[358],h([1,0,2]),function(e,t,n){"use strict";var i=function(){function e(e){this.appender=e}return e.prototype.call=function(e,t){var i=t.eventName,r=t.data;return this.appender.log(i,r),n.TPromise.as(null)},e}();t.TelemetryAppenderChannel=i;var r=function(){function e(e){this.channel=e}return e.prototype.log=function(e,t){return this.channel.call("log",{eventName:e,data:t})},e.prototype.dispose=function(){},e}();t.TelemetryAppenderClient=r}),define(l[359],h([1,0,450,12,19,6,25,77,2,5,30,14]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";var d=function(){function e(e,t){this._configurationService=t,this._disposables=[],this._cleanupPatterns=[],this._appender=e.appender,this._commonProperties=e.commonProperties||c.TPromise.as({}),this._piiPaths=e.piiPaths||[],this._userOptIn="undefined"==typeof e.userOptIn||e.userOptIn,this._experiments=e.experiments||r.defaultExperiments,this._cleanupPatterns.push([/file:\/\/\/.*?\/resources\/app\//gi,""],[/file:\/\/\/.*/gi,""],[/ENOENT: no such file or directory.*?\'([^\']+)\'/gi,"ENOENT: no such file or directory"]);for(var n=0,o=this._piiPaths;n<o.length;n++){var s=o[n];this._cleanupPatterns.push([new RegExp(i.escapeRegExpCharacters(s),"gi"),""])}this._configurationService&&(this._updateUserOptIn(),this._configurationService.onDidUpdateConfiguration(this._updateUserOptIn,this,this._disposables),this.publicLog("optInStatus",{optIn:this._userOptIn}))}return e.prototype._updateUserOptIn=function(){var e=this._configurationService.getConfiguration(p);this._userOptIn=e?e.enableTelemetry:this._userOptIn},Object.defineProperty(e.prototype,"isOptedIn",{get:function(){return this._userOptIn},enumerable:!0,configurable:!0}),e.prototype.getExperiments=function(){return this._experiments},e.prototype.getTelemetryInfo=function(){return this._commonProperties.then(function(e){var t=e.sessionID,n=e["common.instanceId"],i=e["common.machineId"];return{sessionId:t,instanceId:n,machineId:i}})},e.prototype.dispose=function(){this._disposables=u.dispose(this._disposables)},e.prototype.publicLog=function(e,t){var n=this;return this._userOptIn?this._commonProperties.then(function(i){t=l.mixin(t,i),t=l.cloneAndChange(t,function(e){if("string"==typeof e)return n._cleanupInfo(e)}),n._appender.log(e,t)},function(e){console.error(e)}):c.TPromise.as(void 0)},e.prototype._cleanupInfo=function(e){for(var t=0,n=this._cleanupPatterns;t<n.length;t++){var i=n[t],r=i[0],o=i[1];e=e.replace(r,o)}return e},e.IDLE_START_EVENT_NAME="UserIdleStart",e.IDLE_STOP_EVENT_NAME="UserIdleStop",e=g([v(1,o.optional(s.IConfigurationService))],e)}();t.TelemetryService=d;var p="telemetry";h.Registry.as(a.Extensions.Configuration).registerConfiguration({id:p,order:110,type:"object",title:n.localize(0,null),properties:{"telemetry.enableTelemetry":{type:"boolean",description:n.localize(1,null),default:!0}}})}),define(l[847],h([1,0,13,107,2,95]),function(e,t,n,i,r,o){"use strict";function s(e,t){var s=Object.create(null);s.sessionID=o.generateUuid()+Date.now(),s.commitHash=e,s.version=t,s["common.osVersion"]=i.release(),s["common.platform"]=n.Platform[n.platform];var a=0,c=Date.now();return Object.defineProperties(s,{timestamp:{get:function(){return new Date},enumerable:!0},"common.timesincesessionstart":{get:function(){return Date.now()-c},enumerable:!0},"common.sequence":{get:function(){return a++},enumerable:!0}}),r.TPromise.as(s)}t.resolveCommonProperties=s}),define(l[172],h([1,0]),function(e,t){"use strict";function n(e){return/vs($| )/.test(e)}function i(e){return/vs-dark($| )/.test(e)}function r(e){return e.split(" ")[1]}function o(e){return e.split(" ")[0]}t.isLightTheme=n,t.isDarkTheme=i,t.getSyntaxThemeId=r,t.getBaseThemeId=o}),define(l[849],h([1,0,172,10,135,340]),function(e,t,n,i,r,o){"use strict";var s=function(e){function t(i,r,s){e.call(this,i),this._overviewRuler=new o.OverviewRulerImpl(1,"decorationsOverviewRuler",r,this._context.configuration.editor.lineHeight,this._context.configuration.editor.viewInfo.canUseTranslate3d,t.MIN_DECORATION_HEIGHT,t.MAX_DECORATION_HEIGHT,s),this._overviewRuler.setLanesCount(this._context.configuration.editor.viewInfo.overviewRulerLanes,!1);var a=this._context.configuration.editor.viewInfo.theme;this._overviewRuler.setUseDarkColor(!n.isLightTheme(a),!1),this._shouldUpdateDecorations=!0,this._zonesFromDecorations=[],this._shouldUpdateCursorPosition=!0,this._hideCursor=this._context.configuration.editor.viewInfo.hideCursorInOverviewRuler,this._zonesFromCursors=[],this._cursorPositions=[]}return d(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._overviewRuler.dispose()},t.prototype.onCursorPositionChanged=function(e){return this._shouldUpdateCursorPosition=!0,this._cursorPositions=[e.position],this._cursorPositions=this._cursorPositions.concat(e.secondaryPositions),!0},t.prototype.onConfigurationChanged=function(e){var t=this._overviewRuler.getLanesCount(),i=this._context.configuration.editor.viewInfo.overviewRulerLanes,r=!1;if(e.lineHeight&&(this._overviewRuler.setLineHeight(this._context.configuration.editor.lineHeight,!1),r=!0),e.viewInfo.canUseTranslate3d&&(this._overviewRuler.setCanUseTranslate3d(this._context.configuration.editor.viewInfo.canUseTranslate3d,!1),r=!0),t!==i&&(this._overviewRuler.setLanesCount(i,!1),r=!0),e.viewInfo.hideCursorInOverviewRuler&&(this._hideCursor=this._context.configuration.editor.viewInfo.hideCursorInOverviewRuler,this._shouldUpdateCursorPosition=!0,r=!0),e.viewInfo.theme){var o=this._context.configuration.editor.viewInfo.theme;this._overviewRuler.setUseDarkColor(!n.isLightTheme(o),!1),r=!0}return r},t.prototype.onLayoutChanged=function(e){return this._overviewRuler.setLayout(e.overviewRuler,!1),!0},t.prototype.onZonesChanged=function(){return!0},t.prototype.onModelFlushed=function(){return this._shouldUpdateCursorPosition=!0,this._shouldUpdateDecorations=!0,!0},t.prototype.onModelDecorationsChanged=function(e){return this._shouldUpdateDecorations=!0,!0},t.prototype.onScrollChanged=function(t){return this._overviewRuler.setScrollHeight(t.scrollHeight,!1),e.prototype.onScrollChanged.call(this,t)||t.scrollHeightChanged},t.prototype.getDomNode=function(){return this._overviewRuler.getDomNode()},t.prototype._createZonesFromDecorations=function(){for(var e=this._context.model.getAllOverviewRulerDecorations(),t=[],n=0,r=e.length;n<r;n++){var o=e[n],s=o.source.options.overviewRuler;t.push(new i.OverviewRulerZone(o.range.startLineNumber,o.range.endLineNumber,s.position,0,s.color,s.darkColor))}return t},t.prototype._createZonesFromCursors=function(){for(var e=[],n=0,r=this._cursorPositions.length;n<r;n++){var o=this._cursorPositions[n];e.push(new i.OverviewRulerZone(o.lineNumber,o.lineNumber,i.OverviewRulerLane.Full,2,t._CURSOR_COLOR,t._CURSOR_COLOR_DARK))}return e},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!")},t.prototype.render=function(e){if(this._shouldUpdateDecorations||this._shouldUpdateCursorPosition){this._shouldUpdateDecorations&&(this._shouldUpdateDecorations=!1,this._zonesFromDecorations=this._createZonesFromDecorations()),this._shouldUpdateCursorPosition&&(this._shouldUpdateCursorPosition=!1,this._hideCursor?this._zonesFromCursors=[]:this._zonesFromCursors=this._createZonesFromCursors());var t=[];t=t.concat(this._zonesFromCursors),t=t.concat(this._zonesFromDecorations),this._overviewRuler.setZones(t,!1)}var n=this._overviewRuler.render(!1);if(n&&o.OverviewRulerImpl.hasCanvas&&this._overviewRuler.getLanesCount()>0&&(this._zonesFromDecorations.length>0||this._zonesFromCursors.length>0)){var i=this._overviewRuler.getDomNode().getContext("2d");i.beginPath(),i.lineWidth=1,i.strokeStyle="rgba(197,197,197,0.8)",i.moveTo(0,0),i.lineTo(0,this._overviewRuler.getPixelHeight()),i.stroke(),i.moveTo(0,0),i.lineTo(this._overviewRuler.getPixelWidth(),0),i.stroke()}},t.MIN_DECORATION_HEIGHT=6,t.MAX_DECORATION_HEIGHT=60,t._CURSOR_COLOR="rgba(0, 0, 102, 0.8)",t._CURSOR_COLOR_DARK="rgba(152, 152, 152, 0.8)",t}(r.ViewPart);t.DecorationsOverviewRuler=s}),define(l[850],h([1,0,7,5,129,48,8,67,15,10,147,772,774,59,666,855,775,701,702,703,704,705,276,708,707,776,710,709,711,712,849,713,714,715,716,778,717,925,667]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,g,v,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P,R,O,M,N,F,W,V){"use strict";function B(e){try{return e()}catch(e){n.onUnexpectedError(e)}}function H(e,t){try{return e(t)}catch(e){n.onUnexpectedError(e)}}var z=function(e){function t(t,n,i,r){var o=this;e.call(this),this.triggerCursorHandler=r,this._isDisposed=!1,this._renderAnimationFrame=null,this.outgoingEvents=new V.ViewOutgoingEvents(i);var s=new g.ViewController(i,r,this.outgoingEvents,t);this.listenersToRemove=[],this.listenersToDispose=[],this.eventDispatcher=new v.ViewEventDispatcher(function(e){return o._renderOnce(e)}),this.linesContent=document.createElement("div"),this.linesContent.className=f.ClassNames.LINES_CONTENT+" monaco-editor-background",this.domNode=document.createElement("div"),this.domNode.className=n.editor.viewInfo.editorClassName,this.overflowGuardContainer=document.createElement("div"),this.overflowGuardContainer.className=f.ClassNames.OVERFLOW_GUARD,this.layoutProvider=new y.LayoutProvider(n,i,this.eventDispatcher,this.linesContent,this.domNode,this.overflowGuardContainer),this.eventDispatcher.addEventHandler(this.layoutProvider),this._context=new W.ViewContext(n,i,this.eventDispatcher,function(e){return o.eventDispatcher.addEventHandler(e)},function(e){return o.eventDispatcher.removeEventHandler(e)}),this.createTextArea(),this.createViewParts(),this.keyboardHandler=new h.KeyboardHandler(this._context,s,this.createKeyboardHandlerHelper()),this.pointerHandler=new p.PointerHandler(this._context,s,this.createPointerHandlerHelper()),this.hasFocus=!1,this.codeEditorHelper=null,this.eventDispatcher.addEventHandler(this),this.handleAccumulatedModelEventsTimeout=-1,this.accumulatedModelEvents=[],this.listenersToRemove.push(i.addBulkListener2(function(e){o.accumulatedModelEvents=o.accumulatedModelEvents.concat(e),o.handleAccumulatedModelEventsTimeout===-1&&(o.handleAccumulatedModelEventsTimeout=setTimeout(function(){o.handleAccumulatedModelEventsTimeout=-1,o._flushAnyAccumulatedEvents()}))}))}return d(t,e),t.prototype._flushAnyAccumulatedEvents=function(){var e=this.accumulatedModelEvents;this.accumulatedModelEvents=[],e.length>0&&this.eventDispatcher.emitMany(e)},t.prototype.createTextArea=function(){var e=this;this.textArea=document.createElement("textarea"),this.textArea.className=f.ClassNames.TEXTAREA,this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._context.configuration.editor.viewInfo.ariaLabel),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),a.StyleMutator.setTop(this.textArea,0),a.StyleMutator.setLeft(this.textArea,0),this.listenersToDispose.push(s.addDisposableListener(this.textArea,"focus",function(){return e._setHasFocus(!0)})),this.listenersToDispose.push(s.addDisposableListener(this.textArea,"blur",function(){return e._setHasFocus(!1)})),this.textAreaCover=document.createElement("div"),this._context.configuration.editor.viewInfo.glyphMargin?this.textAreaCover.className="monaco-editor-background "+f.ClassNames.GLYPH_MARGIN+" "+f.ClassNames.TEXTAREA_COVER:this._context.configuration.editor.viewInfo.renderLineNumbers?this.textAreaCover.className="monaco-editor-background "+f.ClassNames.LINE_NUMBERS+" "+f.ClassNames.TEXTAREA_COVER:this.textAreaCover.className="monaco-editor-background "+f.ClassNames.TEXTAREA_COVER,this.textAreaCover.style.position="absolute",a.StyleMutator.setWidth(this.textAreaCover,1),a.StyleMutator.setHeight(this.textAreaCover,1),a.StyleMutator.setTop(this.textAreaCover,0),a.StyleMutator.setLeft(this.textAreaCover,0)},t.prototype.createViewParts=function(){var e=this;this.viewParts=[],this.viewLines=new T.ViewLines(this._context,this.layoutProvider),this.viewZones=new F.ViewZones(this._context,this.layoutProvider),this.viewParts.push(this.viewZones);var t=new k.DecorationsOverviewRuler(this._context,this.layoutProvider.getScrollHeight(),function(t){return e.layoutProvider.getVerticalOffsetForLineNumber(t)});this.viewParts.push(t);var n=new O.ScrollDecorationViewPart(this._context);this.viewParts.push(n);var i=new m.ContentViewOverlays(this._context,this.layoutProvider);this.viewParts.push(i),i.addDynamicOverlay(new S.CurrentLineHighlightOverlay(this._context,this.layoutProvider)),i.addDynamicOverlay(new M.SelectionsOverlay(this._context)),i.addDynamicOverlay(new _.DecorationsOverlay(this._context)),i.addDynamicOverlay(new I.IndentGuidesOverlay(this._context));var r=new m.MarginViewOverlays(this._context,this.layoutProvider);this.viewParts.push(r),r.addDynamicOverlay(new E.CurrentLineMarginHighlightOverlay(this._context,this.layoutProvider)),r.addDynamicOverlay(new C.GlyphMarginOverlay(this._context)),r.addDynamicOverlay(new D.MarginViewLineDecorationsOverlay(this._context)),r.addDynamicOverlay(new A.LinesDecorationsOverlay(this._context)),r.addDynamicOverlay(new w.LineNumbersOverlay(this._context));var o=new x.Margin(this._context,this.layoutProvider);o.domNode.appendChild(this.viewZones.marginDomNode),o.domNode.appendChild(r.getDomNode()),this.viewParts.push(o),this.contentWidgets=new b.ViewContentWidgets(this._context,this.domNode),this.viewParts.push(this.contentWidgets),this.viewCursors=new N.ViewCursors(this._context),this.viewParts.push(this.viewCursors),this.overlayWidgets=new L.ViewOverlayWidgets(this._context),this.viewParts.push(this.overlayWidgets);var s=new R.Rulers(this._context,this.layoutProvider);if(this.viewParts.push(s),this.linesContentContainer=this.layoutProvider.getScrollbarContainerDomNode(),this.linesContentContainer.style.position="absolute",t){var a=this.layoutProvider.getOverviewRulerInsertData();a.parent.insertBefore(t.getDomNode(),a.insertBefore)}this.linesContent.appendChild(i.getDomNode()),this.linesContent.appendChild(s.domNode),this.linesContent.appendChild(this.viewZones.domNode),this.linesContent.appendChild(this.viewLines.getDomNode()),this.linesContent.appendChild(this.contentWidgets.domNode),this.linesContent.appendChild(this.viewCursors.getDomNode()),this.overflowGuardContainer.appendChild(o.domNode),this.overflowGuardContainer.appendChild(this.linesContentContainer),this.overflowGuardContainer.appendChild(n.getDomNode()),this.overflowGuardContainer.appendChild(this.overlayWidgets.domNode),this.overflowGuardContainer.appendChild(this.textArea),this.overflowGuardContainer.appendChild(this.textAreaCover),this.domNode.appendChild(this.overflowGuardContainer),this.domNode.appendChild(this.contentWidgets.overflowingContentWidgetsDomNode)},t.prototype._flushAccumulatedAndRenderNow=function(){this._flushAnyAccumulatedEvents(),this._renderNow()},t.prototype.createPointerHandlerHelper=function(){var e=this;return{viewDomNode:this.domNode,linesContentDomNode:this.linesContent,focusTextArea:function(){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.focusTextArea: View is disposed");e.focus()},isDirty:function(){return e.accumulatedModelEvents.length>0},getScrollLeft:function(){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getScrollLeft: View is disposed");return e.layoutProvider.getScrollLeft()},getScrollTop:function(){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getScrollTop: View is disposed");return e.layoutProvider.getScrollTop()},setScrollPosition:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.setScrollPosition: View is disposed");e.layoutProvider.setScrollPosition(t)},isAfterLines:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.isAfterLines: View is disposed");return e.layoutProvider.isAfterLines(t)},getLineNumberAtVerticalOffset:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getLineNumberAtVerticalOffset: View is disposed");return e.layoutProvider.getLineNumberAtVerticalOffset(t)},getVerticalOffsetForLineNumber:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getVerticalOffsetForLineNumber: View is disposed");return e.layoutProvider.getVerticalOffsetForLineNumber(t)},getWhitespaceAtVerticalOffset:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getWhitespaceAtVerticalOffset: View is disposed");return e.layoutProvider.getWhitespaceAtVerticalOffset(t)},getLastViewCursorsRenderData:function(){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getLastViewCursorsRenderData: View is disposed");return e.viewCursors.getLastRenderData()||[]},shouldSuppressMouseDownOnViewZone:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.shouldSuppressMouseDownOnViewZone: View is disposed");return e.viewZones.shouldSuppressMouseDownOnViewZone(t)},shouldSuppressMouseDownOnWidget:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.shouldSuppressMouseDownOnWidget: View is disposed");return e.contentWidgets.shouldSuppressMouseDownOnWidget(t)},getPositionFromDOMInfo:function(t,n){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getPositionFromDOMInfo: View is disposed");return e._flushAccumulatedAndRenderNow(),e.viewLines.getPositionFromDOMInfo(t,n)},visibleRangeForPosition2:function(t,n){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.visibleRangeForPosition2: View is disposed");e._flushAccumulatedAndRenderNow();var i=e.viewLines.visibleRangesForRange2(new c.Range(t,n,t,n),0);return i?i[0]:null},getLineWidth:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getLineWidth: View is disposed");return e._flushAccumulatedAndRenderNow(),e.viewLines.getLineWidth(t)}}},t.prototype.createKeyboardHandlerHelper=function(){var e=this;return{viewDomNode:this.domNode,textArea:this.textArea,visibleRangeForPositionRelativeToEditor:function(t,n){if(e._isDisposed)throw new Error("ViewImpl.keyboardHandler.visibleRangeForPositionRelativeToEditor: View is disposed");e._flushAccumulatedAndRenderNow();var i=e.layoutProvider.getLinesViewportData(),r=e.viewLines.visibleRangesForRange2(new c.Range(t,n,t,n),i.visibleRangesDeltaTop);return r?r[0]:null},flushAnyAccumulatedEvents:function(){e._flushAnyAccumulatedEvents()}}},t.prototype.setAriaActiveDescendant=function(e){e?(this.textArea.setAttribute("role","combobox"),this.textArea.getAttribute("aria-activedescendant")!==e&&(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-activedescendant",e))):(this.textArea.setAttribute("role","textbox"),this.textArea.removeAttribute("aria-activedescendant"),this.textArea.removeAttribute("aria-haspopup"))},t.prototype.onLayoutChanged=function(e){if(o.isChrome){this.overflowGuardContainer.clientWidth+"px"}return a.StyleMutator.setWidth(this.domNode,e.width),a.StyleMutator.setHeight(this.domNode,e.height),a.StyleMutator.setWidth(this.overflowGuardContainer,e.width),a.StyleMutator.setHeight(this.overflowGuardContainer,e.height),a.StyleMutator.setWidth(this.linesContent,1e6),a.StyleMutator.setHeight(this.linesContent,1e6),a.StyleMutator.setLeft(this.linesContentContainer,e.contentLeft),a.StyleMutator.setWidth(this.linesContentContainer,e.contentWidth),a.StyleMutator.setHeight(this.linesContentContainer,e.contentHeight),this.outgoingEvents.emitViewLayoutChanged(e),!1},t.prototype.onConfigurationChanged=function(e){return e.viewInfo.editorClassName&&(this.domNode.className=this._context.configuration.editor.viewInfo.editorClassName),e.viewInfo.ariaLabel&&this.textArea.setAttribute("aria-label",this._context.configuration.editor.viewInfo.ariaLabel),!1},t.prototype.onScrollChanged=function(e){return this.outgoingEvents.emitScrollChanged(e),!1},t.prototype.onViewFocusChanged=function(e){return s.toggleClass(this.domNode,"focused",e),e?this.outgoingEvents.emitViewFocusGained():this.outgoingEvents.emitViewFocusLost(),!1},t.prototype.onCursorRevealRange=function(e){return!!e.revealCursor&&this.revealCursor()},t.prototype.onCursorScrollRequest=function(e){return!!e.revealCursor&&this.revealCursor()},t.prototype.revealCursor=function(){return this.triggerCursorHandler("revealCursor",u.Handler.CursorMove,{to:u.CursorMovePosition.ViewPortIfOutside}),!1},t.prototype.dispose=function(){this._isDisposed=!0,this.handleAccumulatedModelEventsTimeout!==-1&&(clearTimeout(this.handleAccumulatedModelEventsTimeout),this.handleAccumulatedModelEventsTimeout=-1),null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this.accumulatedModelEvents=[],this.eventDispatcher.removeEventHandler(this),this.outgoingEvents.dispose(),this.listenersToRemove=i.dispose(this.listenersToRemove),this.listenersToDispose=i.dispose(this.listenersToDispose),this.keyboardHandler.dispose(),this.pointerHandler.dispose(),this.viewLines.dispose();for(var e=0,t=this.viewParts.length;e<t;e++)this.viewParts[e].dispose();this.viewParts=[],this.layoutProvider.dispose()},t.prototype.getCodeEditorHelper=function(){var e=this;return this.codeEditorHelper||(this.codeEditorHelper={getScrollWidth:function(){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getScrollWidth: View is disposed");return e.layoutProvider.getScrollWidth()},getScrollLeft:function(){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getScrollLeft: View is disposed");return e.layoutProvider.getScrollLeft()},getScrollHeight:function(){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getScrollHeight: View is disposed");return e.layoutProvider.getScrollHeight()},getScrollTop:function(){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getScrollTop: View is disposed");return e.layoutProvider.getScrollTop()},setScrollPosition:function(t){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.setScrollPosition: View is disposed");e.layoutProvider.setScrollPosition(t)},getVerticalOffsetForPosition:function(t,n){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getVerticalOffsetForPosition: View is disposed");var i=e._context.model.validateModelPosition({lineNumber:t,column:n}),r=e._context.model.convertModelPositionToViewPosition(i.lineNumber,i.column);return e.layoutProvider.getVerticalOffsetForLineNumber(r.lineNumber)},delegateVerticalScrollbarMouseDown:function(t){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.delegateVerticalScrollbarMouseDown: View is disposed");e.layoutProvider.delegateVerticalScrollbarMouseDown(t)},getOffsetForColumn:function(t,n){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getOffsetForColumn: View is disposed");var i=e._context.model.validateModelPosition({lineNumber:t,column:n
}),r=e._context.model.convertModelPositionToViewPosition(i.lineNumber,i.column);e._flushAccumulatedAndRenderNow();var o=e.viewLines.visibleRangesForRange2(new c.Range(r.lineNumber,r.column,r.lineNumber,r.column),0);return o?o[0].left:-1}}),this.codeEditorHelper},t.prototype.getCenteredRangeInViewport=function(){if(this._isDisposed)throw new Error("ViewImpl.getCenteredRangeInViewport: View is disposed");var e=this.layoutProvider.getCenteredViewLineNumberInViewport(),t=this._context.model,n=new c.Range(e,1,e,t.getLineMaxColumn(e));return t.convertViewRangeToModelRange(n)},t.prototype.getCompletelyVisibleLinesRangeInViewport=function(){if(this._isDisposed)throw new Error("ViewImpl.getVisibleRangeInViewportExcludingPartialRenderedLines: View is disposed");var e=this.layoutProvider.getLinesViewportData().completelyVisibleLinesRange;return this._context.model.convertViewRangeToModelRange(e)},t.prototype.getInternalEventBus=function(){if(this._isDisposed)throw new Error("ViewImpl.getInternalEventBus: View is disposed");return this.outgoingEvents.getInternalEventBus()},t.prototype.saveState=function(){if(this._isDisposed)throw new Error("ViewImpl.saveState: View is disposed");return this.layoutProvider.saveState()},t.prototype.restoreState=function(e){if(this._isDisposed)throw new Error("ViewImpl.restoreState: View is disposed");return this._flushAnyAccumulatedEvents(),this.layoutProvider.restoreState(e)},t.prototype.focus=function(){if(this._isDisposed)throw new Error("ViewImpl.focus: View is disposed");this.keyboardHandler.focusTextArea(),this._setHasFocus(!0)},t.prototype.isFocused=function(){if(this._isDisposed)throw new Error("ViewImpl.isFocused: View is disposed");return this.hasFocus},t.prototype.createOverviewRuler=function(e,t,n){var i=this;if(this._isDisposed)throw new Error("ViewImpl.createOverviewRuler: View is disposed");return new P.OverviewRuler(this._context,e,this.layoutProvider.getScrollHeight(),t,n,function(e){return i.layoutProvider.getVerticalOffsetForLineNumber(e)})},t.prototype.change=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl.change: View is disposed");var n=!1;return this._renderOnce(function(){t._flushAnyAccumulatedEvents();var i={addZone:function(e){return n=!0,t.viewZones.addZone(e)},removeZone:function(e){e&&(n=t.viewZones.removeZone(e)||n)},layoutZone:function(e){e&&(n=t.viewZones.layoutZone(e)||n)}},r=H(e,i);return i.addZone=null,i.removeZone=null,n&&t._context.privateViewEventBus.emit(u.EventType.ViewZonesChanged,null),r}),n},t.prototype.getWhitespaces=function(){if(this._isDisposed)throw new Error("ViewImpl.getWhitespaces: View is disposed");return this.layoutProvider.getWhitespaces()},t.prototype.addContentWidget=function(e){if(this._isDisposed)throw new Error("ViewImpl.addContentWidget: View is disposed");this.contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()},t.prototype.layoutContentWidget=function(e){if(this._isDisposed)throw new Error("ViewImpl.layoutContentWidget: View is disposed");var t=e.position?e.position.position:null,n=e.position?e.position.preference:null;this.contentWidgets.setWidgetPosition(e.widget,t,n),this._scheduleRender()},t.prototype.removeContentWidget=function(e){if(this._isDisposed)throw new Error("ViewImpl.removeContentWidget: View is disposed");this.contentWidgets.removeWidget(e.widget),this._scheduleRender()},t.prototype.addOverlayWidget=function(e){if(this._isDisposed)throw new Error("ViewImpl.addOverlayWidget: View is disposed");this.overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()},t.prototype.layoutOverlayWidget=function(e){if(this._isDisposed)throw new Error("ViewImpl.layoutOverlayWidget: View is disposed");var t=e.position?e.position.preference:null,n=this.overlayWidgets.setWidgetPosition(e.widget,t);n&&this._scheduleRender()},t.prototype.removeOverlayWidget=function(e){if(this._isDisposed)throw new Error("ViewImpl.removeOverlayWidget: View is disposed");this.overlayWidgets.removeWidget(e.widget),this._scheduleRender()},t.prototype.render=function(e,t){if(this._isDisposed)throw new Error("ViewImpl.render: View is disposed");t&&this.layoutProvider.emitLayoutChangedEvent(),e&&this._flushAccumulatedAndRenderNow()},t.prototype._renderOnce=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl._renderOnce: View is disposed");return this.outgoingEvents.deferredEmit(function(){var n=B(e);return t._scheduleRender(),n})},t.prototype._scheduleRender=function(){if(this._isDisposed)throw new Error("ViewImpl._scheduleRender: View is disposed");null===this._renderAnimationFrame&&(this._renderAnimationFrame=s.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))},t.prototype._onRenderScheduled=function(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()},t.prototype._renderNow=function(){var e=this;B(function(){return e._actualRender()})},t.prototype.createRenderingContext=function(e){var t=this,n=this.layoutProvider.getCurrentViewport(),i=e.visibleRangesDeltaTop,r={linesViewportData:e,scrollWidth:this.layoutProvider.getScrollWidth(),scrollHeight:this.layoutProvider.getScrollHeight(),visibleRange:e.visibleRange,bigNumbersDelta:e.bigNumbersDelta,viewportWidth:n.width,viewportHeight:n.height,viewportLeft:n.left,viewportTop:n.top,getScrolledTopFromAbsoluteTop:function(e){return t.layoutProvider.getScrolledTopFromAbsoluteTop(e)},getViewportVerticalOffsetForLineNumber:function(e){var n=t.layoutProvider.getVerticalOffsetForLineNumber(e),i=t.layoutProvider.getScrolledTopFromAbsoluteTop(n);return i},getDecorationsInViewport:function(){return e.getDecorationsInViewport()},linesVisibleRangesForRange:function(e,n){return t.viewLines.linesVisibleRangesForRange(e,n)},visibleRangeForPosition:function(e){var n=t.viewLines.visibleRangesForRange2(new c.Range(e.lineNumber,e.column,e.lineNumber,e.column),i);return n?n[0]:null},lineIsVisible:function(t){return e.visibleRange.startLineNumber<=t&&t<=e.visibleRange.endLineNumber}};return r},t.prototype._getViewPartsToRender=function(){for(var e=[],t=0,n=this.viewParts.length;t<n;t++){var i=this.viewParts[t];i.shouldRender()&&e.push(i)}return e},t.prototype._actualRender=function(){var e=this;if(s.isInDOM(this.domNode)){var t=r.start(r.Topic.EDITOR,"View.render"),n=this._getViewPartsToRender();if(!this.viewLines.shouldRender()&&0===n.length)return this.keyboardHandler.writeToTextArea(),void t.stop();var i=this.layoutProvider.getLinesViewportData();this.viewLines.shouldRender()?(this.viewLines.renderText(i,function(){e.keyboardHandler.writeToTextArea()}),this.viewLines.onDidRender(),n=this._getViewPartsToRender()):this.keyboardHandler.writeToTextArea();for(var o=this.createRenderingContext(i),a=0,c=n.length;a<c;a++){var u=n[a];u.prepareRender(o)}for(var a=0,c=n.length;a<c;a++){var u=n[a];u.render(o),u.onDidRender()}this.layoutProvider.renderScrollbar(),t.stop()}},t.prototype._setHasFocus=function(e){this.hasFocus!==e&&(this.hasFocus=e,this._context.privateViewEventBus.emit(u.EventType.ViewFocusChanged,this.hasFocus))},t}(l.ViewEventHandler);t.View=z}),define(l[228],h([1,0,7,48,8,6,34,23,735,15,46,10,62,168,927,850,5,11,314,657,659]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E){"use strict";var _=function(e){function t(t,i,r,o,s,a){var c=this;e.call(this,t,i,r,a),this.onMouseUp=S.fromEventEmitter(this,h.EventType.MouseUp),this.onMouseDown=S.fromEventEmitter(this,h.EventType.MouseDown),this.onContextMenu=S.fromEventEmitter(this,h.EventType.ContextMenu),this.onMouseMove=S.fromEventEmitter(this,h.EventType.MouseMove),this.onMouseLeave=S.fromEventEmitter(this,h.EventType.MouseLeave),this.onKeyUp=S.fromEventEmitter(this,h.EventType.KeyUp),this.onKeyDown=S.fromEventEmitter(this,h.EventType.KeyDown),this.onDidLayoutChange=S.fromEventEmitter(this,h.EventType.EditorLayout),this.onDidScrollChange=S.fromEventEmitter(this,"scroll"),this._codeEditorService=o,this._commandService=s,this._focusTracker=new C(t),this._focusTracker.onChage(function(){var e=c._focusTracker.hasFocus();e?c.emit(h.EventType.EditorFocus,{}):c.emit(h.EventType.EditorBlur,{})}),this.contentWidgets={},this.overlayWidgets={};for(var u=this._getContributions(),l=0,d=u.length;l<d;l++){var p=u[l];try{var f=this._instantiationService.createInstance(p,this);this._contributions[f.getId()]=f}catch(e){n.onUnexpectedError(e)}}this._getActions().forEach(function(e){var t=new E.InternalEditorAction(e,c,c._instantiationService,c._contextKeyService);c._actions[t.id]=t}),this._codeEditorService.addCodeEditor(this)}return d(t,e),t.prototype._createConfiguration=function(e){return new f.Configuration(e,this.domElement)},t.prototype.dispose=function(){this._codeEditorService.removeCodeEditor(this),this.contentWidgets={},this.overlayWidgets={},this._focusTracker.dispose(),e.prototype.dispose.call(this)},t.prototype.updateOptions=function(t){var n=this._configuration.editor.viewInfo.theme;e.prototype.updateOptions.call(this,t);var i=this._configuration.editor.viewInfo.theme;n!==i&&this.render()},t.prototype.colorizeModelLine=function(e,t){if(void 0===t&&(t=this.model),!t)return"";var n=t.getLineContent(e),i=t.getLineTokens(e,!1),r=i.inflate(),o=t.getOptions().tabSize;return m.Colorizer.colorizeLine(n,r,o)},t.prototype.getView=function(){return this._view},t.prototype.getDomNode=function(){return this.hasView?this._view.domNode:null},t.prototype.getCenteredRangeInViewport=function(){return this.hasView?this._view.getCenteredRangeInViewport():null},t.prototype.getCompletelyVisibleLinesRangeInViewport=function(){return this.hasView?this._view.getCompletelyVisibleLinesRangeInViewport():null},t.prototype.getScrollWidth=function(){return this.hasView?this._view.getCodeEditorHelper().getScrollWidth():-1},t.prototype.getScrollLeft=function(){return this.hasView?this._view.getCodeEditorHelper().getScrollLeft():-1},t.prototype.getScrollHeight=function(){return this.hasView?this._view.getCodeEditorHelper().getScrollHeight():-1},t.prototype.getScrollTop=function(){return this.hasView?this._view.getCodeEditorHelper().getScrollTop():-1},t.prototype.setScrollLeft=function(e){if(this.hasView){if("number"!=typeof e)throw new Error("Invalid arguments");this._view.getCodeEditorHelper().setScrollPosition({scrollLeft:e})}},t.prototype.setScrollTop=function(e){if(this.hasView){if("number"!=typeof e)throw new Error("Invalid arguments");this._view.getCodeEditorHelper().setScrollPosition({scrollTop:e})}},t.prototype.setScrollPosition=function(e){this.hasView&&this._view.getCodeEditorHelper().setScrollPosition(e)},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this.hasView&&this._view.getCodeEditorHelper().delegateVerticalScrollbarMouseDown(e)},t.prototype.saveViewState=function(){if(!this.cursor||!this.hasView)return null;for(var e={},t=Object.keys(this._contributions),n=0,i=t.length;n<i;n++){var r=t[n],o=this._contributions[r];"function"==typeof o.saveViewState&&(e[r]=o.saveViewState())}var s=this.cursor.saveState(),a=this._view.saveState();return{cursorState:s,viewState:a,contributionsState:e}},t.prototype.restoreViewState=function(e){if(this.cursor&&this.hasView&&e&&e.cursorState&&e.viewState){var t=e,n=t.cursorState;Array.isArray(n)?this.cursor.restoreState(n):this.cursor.restoreState([n]),this._view.restoreState(t.viewState);for(var i=e.contributionsState||{},r=Object.keys(this._contributions),o=0,s=r.length;o<s;o++){var a=r[o],c=this._contributions[a];"function"==typeof c.restoreViewState&&c.restoreViewState(i[a])}}},t.prototype.layout=function(e){this._configuration.observeReferenceElement(e),this.render()},t.prototype.focus=function(){this.hasView&&this._view.focus()},t.prototype.isFocused=function(){return this.hasView&&this._view.isFocused()},t.prototype.hasWidgetFocus=function(){return this._focusTracker&&this._focusTracker.hasFocus()},t.prototype.addContentWidget=function(e){var t={widget:e,position:e.getPosition()};this.contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this.contentWidgets[e.getId()]=t,this.hasView&&this._view.addContentWidget(t)},t.prototype.layoutContentWidget=function(e){var t=e.getId();if(this.contentWidgets.hasOwnProperty(t)){var n=this.contentWidgets[t];n.position=e.getPosition(),this.hasView&&this._view.layoutContentWidget(n)}},t.prototype.removeContentWidget=function(e){var t=e.getId();if(this.contentWidgets.hasOwnProperty(t)){var n=this.contentWidgets[t];delete this.contentWidgets[t],this.hasView&&this._view.removeContentWidget(n)}},t.prototype.addOverlayWidget=function(e){var t={widget:e,position:e.getPosition()};this.overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this.overlayWidgets[e.getId()]=t,this.hasView&&this._view.addOverlayWidget(t)},t.prototype.layoutOverlayWidget=function(e){var t=e.getId();if(this.overlayWidgets.hasOwnProperty(t)){var n=this.overlayWidgets[t];n.position=e.getPosition(),this.hasView&&this._view.layoutOverlayWidget(n)}},t.prototype.removeOverlayWidget=function(e){var t=e.getId();if(this.overlayWidgets.hasOwnProperty(t)){var n=this.overlayWidgets[t];delete this.overlayWidgets[t],this.hasView&&this._view.removeOverlayWidget(n)}},t.prototype.changeViewZones=function(e){if(this.hasView){var t=this._view.change(e);t&&this.emit(h.EventType.ViewZonesChanged)}},t.prototype.getWhitespaces=function(){return this.hasView?this._view.getWhitespaces():[]},t.prototype.getTopForLineNumber=function(e){return this.hasView?this._view.getCodeEditorHelper().getVerticalOffsetForPosition(e,1):-1},t.prototype.getTopForPosition=function(e,t){return this.hasView?this._view.getCodeEditorHelper().getVerticalOffsetForPosition(e,t):-1},t.prototype.getScrolledVisiblePosition=function(e){if(!this.hasView)return null;var t=this.model.validatePosition(e),n=this._view.getCodeEditorHelper(),i=this._configuration.editor.layoutInfo,r=n.getVerticalOffsetForPosition(t.lineNumber,t.column)-n.getScrollTop(),o=n.getOffsetForColumn(t.lineNumber,t.column)+i.glyphMarginWidth+i.lineNumbersWidth+i.decorationsWidth-n.getScrollLeft();return{top:r,left:o,height:this._configuration.editor.lineHeight}},t.prototype.getOffsetForColumn=function(e,t){return this.hasView?this._view.getCodeEditorHelper().getOffsetForColumn(e,t):-1},t.prototype.render=function(){this.hasView&&this._view.render(!0,!1)},t.prototype.setHiddenAreas=function(e){this.viewModel&&this.viewModel.setHiddenAreas(e)},t.prototype.setAriaActiveDescendant=function(e){this.hasView&&this._view.setAriaActiveDescendant(e)},t.prototype.applyFontInfo=function(e){f.Configuration.applyFontInfoSlow(e,this._configuration.editor.fontInfo)},t.prototype._attachModel=function(t){if(this._view=null,e.prototype._attachModel.call(this,t),this._view){this.domElement.appendChild(this._view.domNode);for(var n=Object.keys(this.contentWidgets),i=0,r=n.length;i<r;i++){var o=n[i];this._view.addContentWidget(this.contentWidgets[o])}n=Object.keys(this.overlayWidgets);for(var i=0,r=n.length;i<r;i++){var o=n[i];this._view.addOverlayWidget(this.overlayWidgets[o])}this._view.render(!1,!0),this.hasView=!0}},t.prototype._enableEmptySelectionClipboard=function(){return i.enableEmptySelectionClipboard},t.prototype._createView=function(){var e=this;this._view=new y.View(this._commandService,this._configuration,this.viewModel,function(t,n,i){e.cursor&&e.cursor.trigger(t,n,i)})},t.prototype._getViewInternalEventBus=function(){return this._view.getInternalEventBus()},t.prototype._detachModel=function(){var t=null;this._view&&(this._view.dispose(),t=this._view.domNode,this._view=null);var n=e.prototype._detachModel.call(this);return t&&this.domElement.removeChild(t),n},t.prototype._registerDecorationType=function(e,t,n){this._codeEditorService.registerDecorationType(e,t,n)},t.prototype._removeDecorationType=function(e){this._codeEditorService.removeDecorationType(e)},t.prototype._resolveDecorationOptions=function(e,t){return this._codeEditorService.resolveDecorationOptions(e,t)},t=g([v(2,o.IInstantiationService),v(3,p.ICodeEditorService),v(4,s.ICommandService),v(5,a.IContextKeyService)],t)}(c.CommonCodeEditor);t.CodeEditorWidget=_;var C=function(e){function t(t){var n=this;e.call(this),this._onChange=this._register(new S.Emitter),this.onChage=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(r.trackFocus(t)),this._domFocusTracker.addFocusListener(function(){n._hasFocus=!0,n._onChange.fire(void 0)}),this._domFocusTracker.addBlurListener(function(){n._hasFocus=!1,n._onChange.fire(void 0)})}return d(t,e),t.prototype.hasFocus=function(){return this._hasFocus},t}(b.Disposable);(function(){function e(e,t){this._id=e,this._position=t,this._domNode=document.createElement("div"),this._domNode.className=this._id.replace(/\./g,"-").replace(/[^a-z0-9\-]/,"")}return e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return this._position},e})();!function(e){e[e.EndOfLastEditOperation=0]="EndOfLastEditOperation"}(t.EditCursorState||(t.EditCursorState={}));var w=(t.EditCursorState,function(){function e(e){this.range=new u.Range(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn),this.text=e.text,this.forceMoveMarkers=e.forceMoveMarkers||!1}return e}()),I=function(){function e(e,t){this._ops=e.map(function(e){return new w(e)}),this._editCursorState=t}return e.prototype.getEditOperations=function(e,t){if(0!==this._ops.length){this._ops.sort(function(e,t){return u.Range.compareRangesUsingStarts(e.range,t.range)});for(var n=[],i=this._ops[0],r=1;r<this._ops.length;r++)i.range.endLineNumber===this._ops[r].range.startLineNumber&&i.range.endColumn===this._ops[r].range.startColumn?(i.range=u.Range.plusRange(i.range,this._ops[r].range),i.text=i.text+this._ops[r].text):(n.push(i),i=this._ops[r]);n.push(i);for(var r=0;r<n.length;r++)t.addEditOperation(u.Range.lift(n[r].range),n[r].text)}},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),i=n[n.length-1].range;return new l.Selection(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn)},e}();t.CommandRunner=I}),define(l[173],h([1,0,6,34,23,62,228,27,58]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(e){function t(t,n,i,r,o,s){e.call(this,t,n,i,r,o,s)}return d(t,e),t.prototype._getContributions=function(){return[].concat(c.EditorBrowserRegistry.getEditorContributions()).concat(a.CommonEditorRegistry.getEditorContributions())},t.prototype._getActions=function(){return a.CommonEditorRegistry.getEditorActions()},t=g([v(2,n.IInstantiationService),v(3,o.ICodeEditorService),v(4,i.ICommandService),v(5,r.IContextKeyService)],t)}(s.CodeEditorWidget);t.CodeEditor=u}),define(l[364],h([1,0,17,42,5,30,8,67,141,6,23,127,15,10,159,336,238,173,157,168,235,656]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C){"use strict";function w(e){return e.modifiedEndLineNumber>0}function I(e){return e.originalEndLineNumber>0}function T(e,t,n,i,r,o){return{range:new p.Range(e,t,n,i),options:{className:r,isWholeLine:o}}}function x(){var e=document.createElement("div");return e.className="diagonal-fill",e}var A=function(){function e(){this._zones=[],this._zonesMap={},this._decorations=[]}return e.prototype.getForeignViewZones=function(e){var t=this;return e.filter(function(e){return!t._zonesMap[String(e.id)]})},e.prototype.clean=function(e){var t=this;this._zones.length>0&&e.changeViewZones(function(e){for(var n=0,i=t._zones.length;n<i;n++)e.removeZone(t._zones[n])}),this._zones=[],this._zonesMap={},this._decorations.length>0&&e.changeDecorations(function(e){e.deltaDecorations(t._decorations,[])}),this._decorations=[]},e.prototype.apply=function(e,t,n){var i=this;e.changeViewZones(function(e){for(var t=0,r=i._zones.length;t<r;t++)e.removeZone(i._zones[t]);i._zones=[],i._zonesMap={};for(var t=0,o=n.zones.length;t<o;t++){n.zones[t].suppressMouseDown=!0;var s=e.addZone(n.zones[t]);i._zones.push(s),i._zonesMap[String(s)]=!0}}),this._decorations=e.deltaDecorations(this._decorations,n.decorations),t&&t.setZones(n.overviewZones)},e}(),D=0,L=function(e){function t(i,r,o,a,c){var u=this;e.call(this),this._editorWorkerService=o,this._contextKeyService=a,this.id=++D,this._domElement=i,r=r||{},this._theme=r.theme||h.DefaultConfig.editor.theme,this._renderSideBySide=!0,"undefined"!=typeof r.renderSideBySide&&(this._renderSideBySide=r.renderSideBySide),this._ignoreTrimWhitespace=!0,"undefined"!=typeof r.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=r.ignoreTrimWhitespace),this._renderIndicators=!0,"undefined"!=typeof r.renderIndicators&&(this._renderIndicators=r.renderIndicators),this._originalIsEditable=!1,"undefined"!=typeof r.originalEditable&&(this._originalIsEditable=Boolean(r.originalEditable)),this._updateDecorationsRunner=new n.RunOnceScheduler(function(){return u._updateDecorations()},0),this._toDispose=[],this._toDispose.push(this._updateDecorationsRunner),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=t._getClassName(this._theme,this._renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=document.createElement("div"),this._overviewViewportDomElement.className="diffViewport",this._overviewViewportDomElement.style.position="absolute",this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.style.height="100%",this._overviewDomElement.appendChild(this._overviewViewportDomElement),this._toDispose.push(s.addDisposableListener(this._overviewDomElement,"mousedown",function(e){u.modifiedEditor.delegateVerticalScrollbarMouseDown(e)})),this._containerDomElement.appendChild(this._overviewDomElement),this._createLeftHandSide(),this._createRightHandSide(),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new A,this._modifiedEditorState=new A,this._isVisible=!0,this._isHandlingScrollEvent=!1,this._width=0,this._height=0,this._lineChanges=null,this._createLeftHandSideEditor(r,c),this._createRightHandSideEditor(r,c),r.automaticLayout&&(this._measureDomElementToken=window.setInterval(function(){return u._measureDomElement(!1)},100)),this._enableSplitViewResizing=!0,"undefined"!=typeof r.enableSplitViewResizing&&(this._enableSplitViewResizing=r.enableSplitViewResizing),this._renderSideBySide?this._setStrategy(new O(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new N(this._createDataSource(),this._enableSplitViewResizing))}return d(t,e),t.prototype.onDidChangeModelRawContent=function(e){return this.addListener2(f.EventType.ModelRawContentChanged,e)},t.prototype.onDidChangeModelContent=function(e){return this.addListener2(f.EventType.ModelContentChanged2,e)},t.prototype.onDidChangeModelMode=function(e){return this.addListener2(f.EventType.ModelModeChanged,e)},t.prototype.onDidChangeModelOptions=function(e){return this.addListener2(f.EventType.ModelOptionsChanged,e)},t.prototype.onDidChangeConfiguration=function(e){return this.addListener2(f.EventType.ConfigurationChanged,e)},t.prototype.onDidChangeCursorPosition=function(e){return this.addListener2(f.EventType.CursorPositionChanged,e)},t.prototype.onDidChangeCursorSelection=function(e){return this.addListener2(f.EventType.CursorSelectionChanged,e)},t.prototype.onDidDispose=function(e){return this.addListener2(f.EventType.Disposed,e)},t.prototype.onDidUpdateDiff=function(e){return this.addListener2(f.EventType.DiffUpdated,e)},Object.defineProperty(t.prototype,"ignoreTrimWhitespace",{get:function(){return this._ignoreTrimWhitespace},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderSideBySide",{get:function(){return this._renderSideBySide},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderIndicators",{get:function(){return this._renderIndicators},enumerable:!0,configurable:!0}),t._getClassName=function(e,t){var n="monaco-diff-editor monaco-editor-background ";return t&&(n+="side-by-side "),n+=e},t.prototype._recreateOverviewRulers=function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalOverviewRuler=this.originalEditor.getView().createOverviewRuler("original diffOverviewRuler",4,Number.MAX_VALUE),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedOverviewRuler=this.modifiedEditor.getView().createOverviewRuler("modified diffOverviewRuler",4,Number.MAX_VALUE),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode()),this._layoutOverviewRulers()},t.prototype._createLeftHandSide=function(){this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode)},t.prototype._createRightHandSide=function(){this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode)},t.prototype._createLeftHandSideEditor=function(e,t){var n=this;this.originalEditor=t.createInstance(S.CodeEditor,this._originalDomNode,this._adjustOptionsForLeftHandSide(e,this._originalIsEditable)),this._toDispose.push(this.originalEditor.addBulkListener2(function(e){return n._onOriginalEditorEvents(e)})),this._toDispose.push(this.addEmitter2(this.originalEditor))},t.prototype._createRightHandSideEditor=function(e,t){var n=this;this.modifiedEditor=t.createInstance(S.CodeEditor,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e)),this._toDispose.push(this.modifiedEditor.addBulkListener2(function(e){return n._onModifiedEditorEvents(e)})),this._toDispose.push(this.addEmitter2(this.modifiedEditor))},t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){this._toDispose=r.dispose(this._toDispose),window.clearInterval(this._measureDomElementToken),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler.dispose(),this._modifiedOverviewRuler.dispose(),this.originalEditor.dispose(),this.modifiedEditor.dispose(),this._strategy.dispose(),this.emit(f.EventType.Disposed),e.prototype.dispose.call(this)},t.prototype.getId=function(){return this.getEditorType()+":"+this.id},t.prototype.getEditorType=function(){return f.EditorType.IDiffEditor},t.prototype.getLineChanges=function(){return this._lineChanges},t.prototype.getOriginalEditor=function(){return this.originalEditor},t.prototype.getModifiedEditor=function(){return this.modifiedEditor},t.prototype.updateOptions=function(e){this._theme=e&&e.theme?e.theme:this._theme;var n=!1;"undefined"!=typeof e.renderSideBySide&&this._renderSideBySide!==e.renderSideBySide&&(this._renderSideBySide=e.renderSideBySide,n=!0);var i=!1;"undefined"!=typeof e.ignoreTrimWhitespace&&this._ignoreTrimWhitespace!==e.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=e.ignoreTrimWhitespace,i=!0),"undefined"!=typeof e.renderIndicators&&this._renderIndicators!==e.renderIndicators&&(this._renderIndicators=e.renderIndicators,i=!0),i&&this._beginUpdateDecorations(),"undefined"!=typeof e.originalEditable&&(this._originalIsEditable=Boolean(e.originalEditable)),this._containerDomElement.className=t._getClassName(this._theme,this._renderSideBySide),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e,this._originalIsEditable)),"undefined"!=typeof e.enableSplitViewResizing&&(this._enableSplitViewResizing=e.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),n&&(this._renderSideBySide?this._setStrategy(new O(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new N(this._createDataSource(),this._enableSplitViewResizing)))},t.prototype.getValue=function(e){return void 0===e&&(e=null),this.modifiedEditor.getValue(e)},t.prototype.getModel=function(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}},t.prototype.setModel=function(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(e?e.original:null),this.modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._lineChanges=null,this._diffComputationToken++,e?(this._recreateOverviewRulers(),this._beginUpdateDecorations()):this._lineChanges=null,this._layoutOverviewViewport()},t.prototype.getDomNode=function(){return this._domElement},t.prototype.getVisibleColumnFromPosition=function(e){return this.modifiedEditor.getVisibleColumnFromPosition(e)},t.prototype.getPosition=function(){return this.modifiedEditor.getPosition()},t.prototype.setPosition=function(e,t,n,i){this.modifiedEditor.setPosition(e,t,n,i)},t.prototype.revealLine=function(e){this.modifiedEditor.revealLine(e)},t.prototype.revealLineInCenter=function(e){this.modifiedEditor.revealLineInCenter(e)},t.prototype.revealLineInCenterIfOutsideViewport=function(e){this.modifiedEditor.revealLineInCenterIfOutsideViewport(e)},t.prototype.revealPosition=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),this.modifiedEditor.revealPosition(e,t,n)},t.prototype.revealPositionInCenter=function(e){this.modifiedEditor.revealPositionInCenter(e)},t.prototype.revealPositionInCenterIfOutsideViewport=function(e){this.modifiedEditor.revealPositionInCenterIfOutsideViewport(e)},t.prototype.getSelection=function(){return this.modifiedEditor.getSelection()},t.prototype.getSelections=function(){return this.modifiedEditor.getSelections()},t.prototype.setSelection=function(e,t,n,i){this.modifiedEditor.setSelection(e,t,n,i)},t.prototype.setSelections=function(e){this.modifiedEditor.setSelections(e)},t.prototype.revealLines=function(e,t){this.modifiedEditor.revealLines(e,t)},t.prototype.revealLinesInCenter=function(e,t){this.modifiedEditor.revealLinesInCenter(e,t)},t.prototype.revealLinesInCenterIfOutsideViewport=function(e,t){this.modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t)},t.prototype.revealRange=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),this.modifiedEditor.revealRange(e,t,n)},t.prototype.revealRangeInCenter=function(e){this.modifiedEditor.revealRangeInCenter(e)},t.prototype.revealRangeInCenterIfOutsideViewport=function(e){this.modifiedEditor.revealRangeInCenterIfOutsideViewport(e)},t.prototype.addAction=function(e){this.modifiedEditor.addAction(e)},t.prototype.getActions=function(){return this.modifiedEditor.getActions()},t.prototype.getSupportedActions=function(){return this.modifiedEditor.getSupportedActions()},t.prototype.getAction=function(e){return this.modifiedEditor.getAction(e)},t.prototype.saveViewState=function(){var e=this.originalEditor.saveViewState(),t=this.modifiedEditor.saveViewState();return{original:e,modified:t}},t.prototype.restoreViewState=function(e){if(e.original&&e.original){var t=e;this.originalEditor.restoreViewState(t.original),this.modifiedEditor.restoreViewState(t.modified)}},t.prototype.layout=function(e){this._measureDomElement(!1,e)},t.prototype.focus=function(){this.modifiedEditor.focus()},t.prototype.isFocused=function(){return this.originalEditor.isFocused()||this.modifiedEditor.isFocused()},t.prototype.onVisible=function(){
this._isVisible=!0,this.originalEditor.onVisible(),this.modifiedEditor.onVisible(),this._beginUpdateDecorations()},t.prototype.onHide=function(){this._isVisible=!1,this.originalEditor.onHide(),this.modifiedEditor.onHide(),this._cleanViewZonesAndDecorations()},t.prototype.trigger=function(e,t,n){this.modifiedEditor.trigger(e,t,n)},t.prototype.changeDecorations=function(e){return this.modifiedEditor.changeDecorations(e)},t.prototype._measureDomElement=function(e,t){return t=t||{width:this._containerDomElement.clientWidth,height:this._containerDomElement.clientHeight},t.width<=0?(this._width=0,void(this._height=0)):void((e||t.width!==this._width||t.height!==this._height)&&(this._width=t.width,this._height=t.height,this._doLayout()))},t.prototype._layoutOverviewRulers=function(){var e=t.ENTIRE_DIFF_OVERVIEW_WIDTH-2*t.ONE_OVERVIEW_WIDTH,n=this.modifiedEditor.getLayoutInfo();n&&(this._originalOverviewRuler.setLayout(new f.OverviewRulerPosition({top:0,width:t.ONE_OVERVIEW_WIDTH,right:e+t.ONE_OVERVIEW_WIDTH,height:this._height})),this._modifiedOverviewRuler.setLayout(new f.OverviewRulerPosition({top:0,right:0,width:t.ONE_OVERVIEW_WIDTH,height:this._height})))},t.prototype._recomputeIfNecessary=function(e){for(var n=this,i=!1,r=0;!i&&r<e.length;r++){var o=e[r].getType();i=i||o===f.EventType.ModelRawContentChanged||o===f.EventType.ModelModeChanged}i&&this._isVisible&&(this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(function(){return n._beginUpdateDecorations()},t.UPDATE_DIFF_DECORATIONS_DELAY))},t.prototype._onOriginalEditorEvents=function(e){for(var t=0;t<e.length;t++){var n=e[t].getType(),i=e[t].getData();if("scroll"===n&&this._onOriginalEditorScroll(i),n===f.EventType.ViewZonesChanged&&this._onViewZonesChanged(),n===f.EventType.ConfigurationChanged){var r=this.originalEditor.getConfiguration().wrappingInfo.isViewportWrapping;r&&this.originalEditor.updateOptions({wrappingColumn:-1})}}this._recomputeIfNecessary(e)},t.prototype._onModifiedEditorEvents=function(e){for(var t=0;t<e.length;t++){var n=e[t].getType(),i=e[t].getData();if("scroll"===n&&(this._onModifiedEditorScroll(i),this._layoutOverviewViewport()),"viewLayoutChanged"===n&&this._layoutOverviewViewport(),n===f.EventType.ViewZonesChanged&&this._onViewZonesChanged(),n===f.EventType.ConfigurationChanged){var r=i,o=this.modifiedEditor.getConfiguration().wrappingInfo.isViewportWrapping;o&&this.modifiedEditor.updateOptions({wrappingColumn:-1}),r.fontInfo&&this.modifiedEditor.getModel()&&this._onViewZonesChanged()}}this._recomputeIfNecessary(e)},t.prototype._onViewZonesChanged=function(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()},t.prototype._beginUpdateDecorations=function(){var e=this;if(this._beginUpdateDecorationsTimeout=-1,this.modifiedEditor.getModel()){this._diffComputationToken++;var t=this._diffComputationToken,n=this.originalEditor.getModel(),i=this.modifiedEditor.getModel();this._editorWorkerService.computeDiff(n.uri,i.uri,this._ignoreTrimWhitespace).then(function(r){t===e._diffComputationToken&&n===e.originalEditor.getModel()&&i===e.modifiedEditor.getModel()&&(e._lineChanges=r,e._updateDecorationsRunner.schedule(),e.emit(f.EventType.DiffUpdated,{}))},function(r){t===e._diffComputationToken&&n===e.originalEditor.getModel()&&i===e.modifiedEditor.getModel()&&(e._lineChanges=null,e._updateDecorationsRunner.schedule())})}},t.prototype._cleanViewZonesAndDecorations=function(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)},t.prototype._updateDecorations=function(){if(this.originalEditor.getModel()&&this.modifiedEditor.getModel()){var e=this._lineChanges||[],t=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces()),n=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces()),i=this._strategy.getEditorsDiffDecorations(e,this._ignoreTrimWhitespace,this._renderIndicators,t,n,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,i.original),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,i.modified)}finally{this._currentlyChangingViewZones=!1}}},t.prototype._adjustOptionsForSubEditor=function(e){var t=o.clone(e||{});return t.wrappingColumn=-1,t.automaticLayout=!1,t.scrollbar=t.scrollbar||{},t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=!1,t.fixedOverflowWidgets=!0,t.lineDecorationsWidth="2ch",t},t.prototype._adjustOptionsForLeftHandSide=function(e,t){var n=this._adjustOptionsForSubEditor(e);return n.readOnly=!t,n.overviewRulerLanes=1,n.theme=this._theme+" original-in-monaco-diff-editor",n},t.prototype._adjustOptionsForRightHandSide=function(e){var n=this._adjustOptionsForSubEditor(e);return n.revealHorizontalRightPadding=h.DefaultConfig.editor.revealHorizontalRightPadding+t.ENTIRE_DIFF_OVERVIEW_WIDTH,n.scrollbar.verticalHasArrows=!1,n.theme=this._theme+" modified-in-monaco-diff-editor",n},t.prototype._onOriginalEditorScroll=function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&(this._isHandlingScrollEvent||(this._isHandlingScrollEvent=!0,this.modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1))},t.prototype._onModifiedEditorScroll=function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&(this._isHandlingScrollEvent||(this._isHandlingScrollEvent=!0,this.originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1))},t.prototype._doLayout=function(){var e=this._strategy.layout();this._originalDomNode.style.width=e+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=this._width-e+"px",this._modifiedDomNode.style.left=e+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.width=t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=this._width-t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.style.width=t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.style.height="30px",this.originalEditor.layout({width:e,height:this._height}),this.modifiedEditor.layout({width:this._width-e-t.ENTIRE_DIFF_OVERVIEW_WIDTH,height:this._height}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._layoutOverviewViewport()},t.prototype._layoutOverviewViewport=function(){var e=this._computeOverviewViewport();e?(a.StyleMutator.setTop(this._overviewViewportDomElement,e.top),a.StyleMutator.setHeight(this._overviewViewportDomElement,e.height)):(a.StyleMutator.setTop(this._overviewViewportDomElement,0),a.StyleMutator.setHeight(this._overviewViewportDomElement,0))},t.prototype._computeOverviewViewport=function(){var e=this.modifiedEditor.getLayoutInfo();if(!e)return null;var t=this.modifiedEditor.getScrollTop(),n=this.modifiedEditor.getScrollHeight(),i=Math.max(0,e.contentHeight),r=Math.max(0,i-0),o=n>0?r/n:0,s=Math.max(1,Math.floor(e.contentHeight*o)),a=Math.floor(t*o);return{height:s,top:a}},t.prototype._createDataSource=function(){var e=this;return{getWidth:function(){return e._width},getHeight:function(){return e._height},getContainerDomNode:function(){return e._containerDomElement},relayoutEditors:function(){e._doLayout()},getOriginalEditor:function(){return e.originalEditor},getModifiedEditor:function(){return e.modifiedEditor}}},t.prototype._setStrategy=function(e){this._strategy&&this._strategy.dispose(),this._strategy=e,this._lineChanges&&this._updateDecorations(),this._measureDomElement(!0)},t.prototype._getLineChangeAtOrBeforeLineNumber=function(e,t){if(0===this._lineChanges.length||e<t(this._lineChanges[0]))return null;for(var n=0,i=this._lineChanges.length-1;n<i;){var r=Math.floor((n+i)/2),o=t(this._lineChanges[r]),s=r+1<=i?t(this._lineChanges[r+1]):Number.MAX_VALUE;e<o?i=r-1:e>=s?n=r+1:(n=r,i=r)}return this._lineChanges[n]},t.prototype._getEquivalentLineForOriginalLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,function(e){return e.originalStartLineNumber});if(!t)return e;var n=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),i=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),r=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,o=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-n;return s<=r?i+Math.min(s,o):i+o-r+s},t.prototype._getEquivalentLineForModifiedLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,function(e){return e.modifiedStartLineNumber});if(!t)return e;var n=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),i=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),r=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,o=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-i;return s<=o?n+Math.min(s,r):n+r-o+s},t.prototype.getDiffLineInformationForOriginal=function(e){return this._lineChanges?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null},t.prototype.getDiffLineInformationForModified=function(e){return this._lineChanges?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null},t.ONE_OVERVIEW_WIDTH=15,t.ENTIRE_DIFF_OVERVIEW_WIDTH=30,t.UPDATE_DIFF_DECORATIONS_DELAY=200,t=g([v(2,m.IEditorWorkerService),v(3,l.IContextKeyService),v(4,u.IInstantiationService)],t)}(i.EventEmitter);t.DiffEditorWidget=L;var k=function(){function e(e){this._dataSource=e}return e.prototype.getEditorsDiffDecorations=function(e,t,n,i,r,o,s){r=r.sort(function(e,t){return e.afterLineNumber-t.afterLineNumber}),i=i.sort(function(e,t){return e.afterLineNumber-t.afterLineNumber});var a=this._getViewZones(e,i,r,o,s,n),c=this._getOriginalEditorDecorations(e,t,n,o,s),u=this._getModifiedEditorDecorations(e,t,n,o,s);return{original:{decorations:c.decorations,overviewZones:c.overviewZones,zones:a.original},modified:{decorations:u.decorations,overviewZones:u.overviewZones,zones:a.modified}}},e.prototype._getViewZones=function(e,t,n,i,r,o){return null},e.prototype._getOriginalEditorDecorations=function(e,t,n,i,r){return null},e.prototype._getModifiedEditorDecorations=function(e,t,n,i,r){return null},e}(),P=function(){function e(e){this._source=e,this._index=-1,this.advance()}return e.prototype.advance=function(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null},e}(),R=function(){function e(e,t,n){this.lineChanges=e,this.originalForeignVZ=t,this.modifiedForeignVZ=n}return e.prototype.getViewZones=function(){for(var e={original:[],modified:[]},t=0,n=0,i=0,r=0,o=0,s=0,a=function(e,t){return e.afterLineNumber-t.afterLineNumber},c=function(e,t){if(null===t.domNode&&e.length>0){var n=e[e.length-1];if(n.afterLineNumber===t.afterLineNumber&&null===n.domNode)return void(n.heightInLines+=t.heightInLines)}e.push(t)},u=new P(this.modifiedForeignVZ),l=new P(this.originalForeignVZ),h=0,d=this.lineChanges.length;h<=d;h++){var p=h<d?this.lineChanges[h]:null;null!==p?(i=p.originalStartLineNumber+(p.originalEndLineNumber>0?-1:0),r=p.modifiedStartLineNumber+(p.modifiedEndLineNumber>0?-1:0),n=p.originalEndLineNumber>0?p.originalEndLineNumber-p.originalStartLineNumber+1:0,t=p.modifiedEndLineNumber>0?p.modifiedEndLineNumber-p.modifiedStartLineNumber+1:0,o=Math.max(p.originalStartLineNumber,p.originalEndLineNumber),s=Math.max(p.modifiedStartLineNumber,p.modifiedEndLineNumber)):(i+=1e7+n,r+=1e7+t,o=i,s=r);for(var f=[],g=[];u.current&&u.current.afterLineNumber<=s;){var v=void 0;v=u.current.afterLineNumber<=r?i-r+u.current.afterLineNumber:o,f.push({afterLineNumber:v,heightInLines:u.current.heightInLines,domNode:null}),u.advance()}for(;l.current&&l.current.afterLineNumber<=o;){var v=void 0;v=l.current.afterLineNumber<=i?r-i+l.current.afterLineNumber:s,g.push({afterLineNumber:v,heightInLines:l.current.heightInLines,domNode:null}),l.advance()}if(null!==p&&w(p)){var m=this._produceOriginalFromDiff(p,n,t);m&&f.push(m)}if(null!==p&&I(p)){var m=this._produceModifiedFromDiff(p,n,t);m&&g.push(m)}var y=0,b=0;for(f=f.sort(a),g=g.sort(a);y<f.length&&b<g.length;){var S=f[y],E=g[b],_=S.afterLineNumber-i,C=E.afterLineNumber-r;_<C?(c(e.original,S),y++):C<_?(c(e.modified,E),b++):S.shouldNotShrink?(c(e.original,S),y++):E.shouldNotShrink?(c(e.modified,E),b++):S.heightInLines>=E.heightInLines?(S.heightInLines-=E.heightInLines,b++):(E.heightInLines-=S.heightInLines,y++)}for(;y<f.length;)c(e.original,f[y]),y++;for(;b<g.length;)c(e.modified,g[b]),b++}var T=function(e){e.domNode||(e.domNode=x())};return e.original.forEach(T),e.modified.forEach(T),e},e}(),O=function(e){function t(t,n){var i=this;e.call(this,t),this._disableSash=n===!1,this._sashRatio=null,this._sashPosition=null,this._sash=new c.Sash(this._dataSource.getContainerDomNode(),this),this._disableSash&&this._sash.disable(),this._sash.addListener2("start",function(){return i.onSashDragStart()}),this._sash.addListener2("change",function(e){return i.onSashDrag(e)}),this._sash.addListener2("end",function(){return i.onSashDragEnd()}),this._sash.addListener2("reset",function(){return i.onSashReset()})}return d(t,e),t.prototype.dispose=function(){this._sash.dispose()},t.prototype.setEnableSplitViewResizing=function(e){var t=e===!1;this._disableSash!==t&&(this._disableSash=t,this._disableSash?this._sash.disable():this._sash.enable())},t.prototype.layout=function(e){void 0===e&&(e=this._sashRatio);var n=this._dataSource.getWidth(),i=n-L.ENTIRE_DIFF_OVERVIEW_WIDTH,r=Math.floor((e||.5)*i),o=Math.floor(.5*i);return r=this._disableSash?o:r||o,i>2*t.MINIMUM_EDITOR_WIDTH?(r<t.MINIMUM_EDITOR_WIDTH&&(r=t.MINIMUM_EDITOR_WIDTH),r>i-t.MINIMUM_EDITOR_WIDTH&&(r=i-t.MINIMUM_EDITOR_WIDTH)):r=o,this._sashPosition!==r&&(this._sashPosition=r,this._sash.layout()),this._sashPosition},t.prototype.onSashDragStart=function(){this._startSashPosition=this._sashPosition},t.prototype.onSashDrag=function(e){var t=this._dataSource.getWidth(),n=t-L.ENTIRE_DIFF_OVERVIEW_WIDTH,i=this.layout((this._startSashPosition+(e.currentX-e.startX))/n);this._sashRatio=i/n,this._dataSource.relayoutEditors()},t.prototype.onSashDragEnd=function(){this._sash.layout()},t.prototype.onSashReset=function(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()},t.prototype.getVerticalSashTop=function(e){return 0},t.prototype.getVerticalSashLeft=function(e){return this._sashPosition},t.prototype.getVerticalSashHeight=function(e){return this._dataSource.getHeight()},t.prototype._getViewZones=function(e,t,n,i,r){var o=new M(e,t,n);return o.getViewZones()},t.prototype._getOriginalEditorDecorations=function(e,t,n,i,r){for(var o={decorations:[],overviewZones:[]},s=i.getModel(),a=0,c=e.length;a<c;a++){var u=e[a];if(I(u)&&(o.decorations.push({range:new p.Range(u.originalStartLineNumber,1,u.originalEndLineNumber,Number.MAX_VALUE),options:{className:"line-delete",linesDecorationsClassName:n?"delete-sign":void 0,marginClassName:"line-delete",isWholeLine:!0}}),w(u)&&u.charChanges||o.decorations.push(T(u.originalStartLineNumber,1,u.originalEndLineNumber,Number.MAX_VALUE,"char-delete",!0)),o.overviewZones.push(new f.OverviewRulerZone(u.originalStartLineNumber,u.originalEndLineNumber,f.OverviewRulerLane.Full,0,"rgba(255, 0, 0, 0.4)","rgba(255, 0, 0, 0.4)")),u.charChanges))for(var l=0,h=u.charChanges.length;l<h;l++){var d=u.charChanges[l];if(I(d))if(t)for(var g=d.originalStartLineNumber;g<=d.originalEndLineNumber;g++){var v=void 0,m=void 0;v=g===d.originalStartLineNumber?d.originalStartColumn:s.getLineFirstNonWhitespaceColumn(g),m=g===d.originalEndLineNumber?d.originalEndColumn:s.getLineLastNonWhitespaceColumn(g),o.decorations.push(T(g,v,g,m,"char-delete",!1))}else o.decorations.push(T(d.originalStartLineNumber,d.originalStartColumn,d.originalEndLineNumber,d.originalEndColumn,"char-delete",!1))}}return o},t.prototype._getModifiedEditorDecorations=function(e,t,n,i,r){for(var o={decorations:[],overviewZones:[]},s=r.getModel(),a=0,c=e.length;a<c;a++){var u=e[a];if(w(u)&&(o.decorations.push({range:new p.Range(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,Number.MAX_VALUE),options:{className:"line-insert",linesDecorationsClassName:n?"insert-sign":void 0,marginClassName:"line-insert",isWholeLine:!0}}),I(u)&&u.charChanges||o.decorations.push(T(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,Number.MAX_VALUE,"char-insert",!0)),o.overviewZones.push(new f.OverviewRulerZone(u.modifiedStartLineNumber,u.modifiedEndLineNumber,f.OverviewRulerLane.Full,0,"rgba(155, 185, 85, 0.4)","rgba(155, 185, 85, 0.4)")),u.charChanges))for(var l=0,h=u.charChanges.length;l<h;l++){var d=u.charChanges[l];if(w(d))if(t)for(var g=d.modifiedStartLineNumber;g<=d.modifiedEndLineNumber;g++){var v=void 0,m=void 0;v=g===d.modifiedStartLineNumber?d.modifiedStartColumn:s.getLineFirstNonWhitespaceColumn(g),m=g===d.modifiedEndLineNumber?d.modifiedEndColumn:s.getLineLastNonWhitespaceColumn(g),o.decorations.push(T(g,v,g,m,"char-insert",!1))}else o.decorations.push(T(d.modifiedStartLineNumber,d.modifiedStartColumn,d.modifiedEndLineNumber,d.modifiedEndColumn,"char-insert",!1))}}return o},t.MINIMUM_EDITOR_WIDTH=100,t}(k),M=function(e){function t(t,n,i){e.call(this,t,n,i)}return d(t,e),t.prototype._produceOriginalFromDiff=function(e,t,n){return n>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:n-t,domNode:null}:null},t.prototype._produceModifiedFromDiff=function(e,t,n){return t>n?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-n,domNode:null}:null},t}(R),N=function(e){function t(t,n){var i=this;e.call(this,t),this.decorationsLeft=t.getOriginalEditor().getLayoutInfo().decorationsLeft,this.toDispose=[],this.toDispose.push(t.getOriginalEditor().onDidLayoutChange(function(e){i.decorationsLeft!==e.decorationsLeft&&(i.decorationsLeft=e.decorationsLeft,t.relayoutEditors())}))}return d(t,e),t.prototype.dispose=function(){this.toDispose=r.dispose(this.toDispose)},t.prototype.setEnableSplitViewResizing=function(e){},t.prototype._getViewZones=function(e,t,n,i,r,o){var s=new F(e,t,n,i,r,o);return s.getViewZones()},t.prototype._getOriginalEditorDecorations=function(e,t,n,i,r){for(var o={decorations:[],overviewZones:[]},s=0,a=e.length;s<a;s++){var c=e[s];I(c)&&(o.decorations.push({range:new p.Range(c.originalStartLineNumber,1,c.originalEndLineNumber,Number.MAX_VALUE),options:{marginClassName:"line-delete"}}),o.overviewZones.push(new f.OverviewRulerZone(c.originalStartLineNumber,c.originalEndLineNumber,f.OverviewRulerLane.Full,0,"rgba(255, 0, 0, 0.4)","rgba(255, 0, 0, 0.4)")))}return o},t.prototype._getModifiedEditorDecorations=function(e,t,n,i,r){for(var o={decorations:[],overviewZones:[]},s=r.getModel(),a=0,c=e.length;a<c;a++){var u=e[a];if(w(u))if(o.decorations.push({range:new p.Range(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,Number.MAX_VALUE),options:{className:"line-insert",linesDecorationsClassName:n?"insert-sign":void 0,marginClassName:"line-insert",isWholeLine:!0}}),o.overviewZones.push(new f.OverviewRulerZone(u.modifiedStartLineNumber,u.modifiedEndLineNumber,f.OverviewRulerLane.Full,0,"rgba(155, 185, 85, 0.4)","rgba(155, 185, 85, 0.4)")),u.charChanges)for(var l=0,h=u.charChanges.length;l<h;l++){var d=u.charChanges[l];if(w(d))if(t)for(var g=d.modifiedStartLineNumber;g<=d.modifiedEndLineNumber;g++){var v=void 0,m=void 0;v=g===d.modifiedStartLineNumber?d.modifiedStartColumn:s.getLineFirstNonWhitespaceColumn(g),m=g===d.modifiedEndLineNumber?d.modifiedEndColumn:s.getLineLastNonWhitespaceColumn(g),o.decorations.push(T(g,v,g,m,"char-insert",!1))}else o.decorations.push(T(d.modifiedStartLineNumber,d.modifiedStartColumn,d.modifiedEndLineNumber,d.modifiedEndColumn,"char-insert",!1))}else o.decorations.push(T(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,Number.MAX_VALUE,"char-insert",!0))}return o},t.prototype.layout=function(){return Math.max(5,this.decorationsLeft)},t}(k),F=function(e){function t(t,n,i,r,o,s){e.call(this,t,n,i),this.originalModel=r.getModel(),this.modifiedEditorConfiguration=o.getConfiguration(),this.modifiedEditorTabSize=o.getModel().getOptions().tabSize,this.renderIndicators=s}return d(t,e),t.prototype._produceOriginalFromDiff=function(e,t,n){var i=document.createElement("div");return i.className="inline-added-margin-view-zone",_.Configuration.applyFontInfoSlow(i,this.modifiedEditorConfiguration.fontInfo),{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:n,domNode:document.createElement("div"),marginDomNode:i}},t.prototype._produceModifiedFromDiff=function(e,t,n){var i=[];if(e.charChanges)for(var r=0,o=e.charChanges.length;r<o;r++){var s=e.charChanges[r];I(s)&&i.push(new C.InlineDecoration(new p.Range(s.originalStartLineNumber,s.originalStartColumn,s.originalEndLineNumber,s.originalEndColumn),"char-delete"))}for(var a=[],c=[],u=this.modifiedEditorConfiguration.layoutInfo.decorationsWidth,l=this.modifiedEditorConfiguration.lineHeight,h=e.originalStartLineNumber;h<=e.originalEndLineNumber;h++)if(a=a.concat(this.renderOriginalLine(h-e.originalStartLineNumber,this.originalModel,this.modifiedEditorConfiguration,this.modifiedEditorTabSize,h,i)),this.renderIndicators){var d=h-e.originalStartLineNumber;c=c.concat(['<div class="delete-sign" style="position:absolute;top:'+d*l+"px;width:"+u+"px;height:"+l+'px;right:0;"></div>'])}var f=document.createElement("div");f.className="view-lines line-delete",f.innerHTML=a.join(""),_.Configuration.applyFontInfoSlow(f,this.modifiedEditorConfiguration.fontInfo);var g=document.createElement("div");return g.className="inline-deleted-margin-view-zone",g.innerHTML=c.join(""),_.Configuration.applyFontInfoSlow(g,this.modifiedEditorConfiguration.fontInfo),{shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,domNode:f,marginDomNode:g}},t.prototype.renderOriginalLine=function(e,t,n,i,r,o){var s=t.getLineContent(r),a=new E.ViewLineTokens([new E.ViewLineToken(0,"")],0,s.length),c=y.createLineParts(r,1,s,i,a,o,n.viewInfo.renderWhitespace),u=b.renderLine(new b.RenderLineInput(s,i,n.fontInfo.spaceWidth,n.viewInfo.stopRenderingLineAfter,n.viewInfo.renderWhitespace,n.viewInfo.renderControlCharacters,c)),l=[];return l.push('<div class="view-line'),0===o.length&&l.push(" char-delete"),l.push('" style="top:'),l.push(String(e*n.lineHeight)),l.push('px;width:1000000px;">'),l=l.concat(u.output),l.push("</div>"),l},t}(R)}),define(l[365],h([1,0,30,6,34,23,62,173]),function(e,t,n,i,r,o,s,a){"use strict";var c=function(e){function t(t,n,i,r,o,s,a){var c=this;e.call(this,t,i.getRawConfiguration(),r,o,s,a),this._parentEditor=i,this._overwriteOptions=n,e.prototype.updateOptions.call(this,this._overwriteOptions),this._lifetimeDispose.push(i.onDidChangeConfiguration(function(e){return c._onParentConfigurationChanged(e)}))}return d(t,e),t.prototype.getParentEditor=function(){return this._parentEditor},t.prototype._onParentConfigurationChanged=function(t){e.prototype.updateOptions.call(this,this._parentEditor.getRawConfiguration()),e.prototype.updateOptions.call(this,this._overwriteOptions)},t.prototype.updateOptions=function(t){n.mixin(this._overwriteOptions,t,!0),e.prototype.updateOptions.call(this,this._overwriteOptions)},t=g([v(3,i.IInstantiationService),v(4,s.ICodeEditorService),v(5,r.ICommandService),v(6,o.IContextKeyService)],t)}(a.CodeEditor);t.EmbeddedCodeEditorWidget=c});define(l[198],h([1,0,894,24,12,29,11,8,43,6,62,267,365,23,699]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f){"use strict";function g(e,t){var n=e.get(l.ICodeEditorService).getFocusedCodeEditor();return n instanceof p.EmbeddedCodeEditorWidget?n.getParentEditor():n}t.IPeekViewService=u.createDecorator("peekViewService");var v;!function(e){e.inPeekEditor=new f.RawContextKey("inReferenceSearchEditor",(!0)),e.notInPeekEditor=e.inPeekEditor.toNegated()}(v=t.PeekContext||(t.PeekContext={})),t.NOT_INNER_EDITOR_CONTEXT_KEY=new f.RawContextKey("inReferenceSearchEditor",(!0)),t.getOuterEditor=g;var m=function(e){function t(t,n){void 0===n&&(n={}),e.call(this,t,n),this._onDidClose=new s.Emitter,this._isActive=!1}return d(t,e),t.prototype.dispose=function(){this._isActive=!1,e.prototype.dispose.call(this),this._onDidClose.fire(this)},Object.defineProperty(t.prototype,"onDidClose",{get:function(){return this._onDidClose.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!0,configurable:!0}),t.prototype.show=function(t,n){this._isActive=!0,this._headElement.style.borderTopColor=this.options.frameColor,this._bodyElement.style.borderTopColor=this.options.frameColor,this._bodyElement.style.borderBottomColor=this.options.frameColor,e.prototype.show.call(this,t,n)},t.prototype._fillContainer=function(e){o.$(e).addClass("peekview-widget"),this._headElement=o.$(".head").getHTMLElement(),this._bodyElement=o.$(".body").getHTMLElement(),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)},t.prototype._fillHead=function(e){var t=this,r=o.$(".peekview-title").on(a.EventType.CLICK,function(e){return t._onTitleClick(e)}).appendTo(this._headElement).getHTMLElement();this._primaryHeading=o.$("span.filename").appendTo(r).getHTMLElement(),this._secondaryHeading=o.$("span.dirname").appendTo(r).getHTMLElement(),this._metaHeading=o.$("span.meta").appendTo(r).getHTMLElement(),this._actionbarWidget=new c.ActionBar(o.$(".peekview-actions").appendTo(this._headElement)),this._actionbarWidget.push(new i.Action("peekview.close",n.localize(0,null),"close-peekview-action",(!0),function(){return t.dispose(),null}),{label:!1,icon:!0})},t.prototype._onTitleClick=function(e){},t.prototype.setTitle=function(e,t){o.$(this._primaryHeading).safeInnerHtml(e),t?o.$(this._secondaryHeading).safeInnerHtml(t):a.clearNode(this._secondaryHeading)},t.prototype.setMetaTitle=function(e){e?o.$(this._metaHeading).safeInnerHtml(e):a.clearNode(this._metaHeading)},t.prototype._fillBody=function(e){},t.prototype._doLayout=function(e,t){if(e<0)return this.dispose(),void this._onDidClose.fire(this);var n=Math.ceil(1.2*this.editor.getConfiguration().lineHeight),i=e-(n+2);this._doLayoutHead(n,t),this._doLayoutBody(i,t)},t.prototype._doLayoutHead=function(e,t){this._headElement.style.height=r.format("{0}px",e),this._headElement.style.lineHeight=this._headElement.style.height},t.prototype._doLayoutBody=function(e,t){this._bodyElement.style.height=r.format("{0}px",e)},t}(h.ZoneWidget);t.PeekViewWidget=m});define(l[231],h([1,0,6]),function(e,t,n){"use strict";!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Idle=1]="Idle",e[e.CheckingForUpdate=2]="CheckingForUpdate",e[e.UpdateAvailable=3]="UpdateAvailable",e[e.UpdateDownloaded=4]="UpdateDownloaded"}(t.State||(t.State={}));t.State;!function(e){e[e.Implicit=0]="Implicit",e[e.Explicit=1]="Explicit"}(t.ExplicitState||(t.ExplicitState={}));t.ExplicitState;t.IUpdateService=n.createDecorator("updateService")}),define(l[857],h([1,0,110,231]),function(e,t,n,i){"use strict";var r=function(){function e(e){this.service=e}return e.prototype.call=function(e,t){switch(e){case"event:onError":return n.eventToCall(this.service.onError);case"event:onUpdateAvailable":return n.eventToCall(this.service.onUpdateAvailable);case"event:onUpdateNotAvailable":return n.eventToCall(this.service.onUpdateNotAvailable);case"event:onUpdateReady":return n.eventToCall(this.service.onUpdateReady);case"event:onStateChange":return n.eventToCall(this.service.onStateChange);case"checkForUpdates":return this.service.checkForUpdates(t);case"quitAndInstall":return this.service.quitAndInstall()}},e}();t.UpdateChannel=r;var o=function(){function e(e){var t=this;this.channel=e,this._onError=n.eventFromCall(this.channel,"event:onError"),this._onUpdateAvailable=n.eventFromCall(this.channel,"event:onUpdateAvailable"),this._onUpdateNotAvailable=n.eventFromCall(this.channel,"event:onUpdateNotAvailable"),this._onUpdateReady=n.eventFromCall(this.channel,"event:onUpdateReady"),this._onStateChange=n.eventFromCall(this.channel,"event:onStateChange"),this._state=i.State.Uninitialized,this.onStateChange(function(e){return t._state=e})}return Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onUpdateAvailable",{get:function(){return this._onUpdateAvailable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onUpdateNotAvailable",{get:function(){return this._onUpdateNotAvailable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onUpdateReady",{get:function(){return this._onUpdateReady},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onStateChange",{get:function(){return this._onStateChange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.checkForUpdates=function(e){return this.channel.call("checkForUpdates",e)},e.prototype.quitAndInstall=function(){return this.channel.call("quitAndInstall")},e}();t.UpdateChannelClient=o}),define(l[370],h([1,0,6]),function(e,t,n){"use strict";t.ID="urlService",t.IURLService=n.createDecorator(t.ID)}),define(l[63],h([1,0,6]),function(e,t,n){"use strict";t.IWindowsService=n.createDecorator("windowsService"),t.IWindowService=n.createDecorator("windowService")}),define(l[860],h([1,0,110,11,63,16]),function(e,t,n,i,r,o){"use strict";var s=function(e){return e.toJSON()},a=function(e){return o.default.revive(e)},c=function(){function e(e,t){var n=this;this.service=e,t.onWindowFocus(function(e){return n.focusedWindowId=e})}return e.prototype.call=function(e,t){var r=this;switch(e){case"event:onOpenURL":return n.eventToCall(i.filterEvent(this.service.onOpenURL,function(){return r.isWindowFocused(t)}),s)}},e.prototype.isWindowFocused=function(e){return this.focusedWindowId===e},e=g([v(1,r.IWindowsService)],e)}();t.URLChannel=c;var u=function(){function e(e,t){this.channel=e,this.windowID=t,this._onOpenURL=n.eventFromCall(this.channel,"event:onOpenURL",this.windowID,a)}return Object.defineProperty(e.prototype,"onOpenURL",{get:function(){return this._onOpenURL},enumerable:!0,configurable:!0}),e.prototype.open=function(e){},e}();t.URLChannelClient=u}),define(l[861],h([1,0,11,110]),function(e,t,n,i){"use strict";var r=function(){function e(e){this.service=e,this.onWindowOpen=n.buffer(e.onWindowOpen,!0),this.onWindowFocus=n.buffer(e.onWindowFocus,!0)}return e.prototype.call=function(e,t){switch(e){case"event:onWindowOpen":return i.eventToCall(this.onWindowOpen);case"event:onWindowFocus":return i.eventToCall(this.onWindowFocus);case"openFileFolderPicker":return this.service.openFileFolderPicker(t[0],t[1]);case"openFilePicker":return this.service.openFilePicker(t[0],t[1],t[2]);case"openFolderPicker":return this.service.openFolderPicker(t[0],t[1]);case"reloadWindow":return this.service.reloadWindow(t);case"openDevTools":return this.service.openDevTools(t);case"toggleDevTools":return this.service.toggleDevTools(t);case"closeFolder":return this.service.closeFolder(t);case"toggleFullScreen":return this.service.toggleFullScreen(t);case"setRepresentedFilename":return this.service.setRepresentedFilename(t[0],t[1]);case"addToRecentlyOpen":return this.service.addToRecentlyOpen(t);case"removeFromRecentlyOpen":return this.service.removeFromRecentlyOpen(t);case"getRecentlyOpen":return this.service.getRecentlyOpen(t);case"focusWindow":return this.service.focusWindow(t);case"isMaximized":return this.service.isMaximized(t);case"maximizeWindow":return this.service.maximizeWindow(t);case"unmaximizeWindow":return this.service.unmaximizeWindow(t);case"setDocumentEdited":return this.service.setDocumentEdited(t[0],t[1]);
case"toggleMenuBar":return this.service.toggleMenuBar(t);case"windowOpen":return this.service.windowOpen(t[0],t[1]);case"openNewWindow":return this.service.openNewWindow();case"showWindow":return this.service.showWindow(t);case"getWindows":return this.service.getWindows();case"getWindowCount":return this.service.getWindowCount();case"quit":return this.service.quit();case"log":return this.service.log(t[0],t[1]);case"closeExtensionHostWindow":return this.service.closeExtensionHostWindow(t);case"showItemInFolder":return this.service.showItemInFolder(t);case"openExternal":return this.service.openExternal(t);case"startCrashReporter":return this.service.startCrashReporter(t)}},e}();t.WindowsChannel=r;var o=function(){function e(e){this.channel=e,this._onWindowOpen=i.eventFromCall(this.channel,"event:onWindowOpen"),this._onWindowFocus=i.eventFromCall(this.channel,"event:onWindowFocus")}return Object.defineProperty(e.prototype,"onWindowOpen",{get:function(){return this._onWindowOpen},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onWindowFocus",{get:function(){return this._onWindowFocus},enumerable:!0,configurable:!0}),e.prototype.openFileFolderPicker=function(e,t){return this.channel.call("openFileFolderPicker",[e,t])},e.prototype.openFilePicker=function(e,t,n){return this.channel.call("openFilePicker",[e,t,n])},e.prototype.openFolderPicker=function(e,t){return this.channel.call("openFolderPicker",[e,t])},e.prototype.reloadWindow=function(e){return this.channel.call("reloadWindow",e)},e.prototype.openDevTools=function(e){return this.channel.call("openDevTools",e)},e.prototype.toggleDevTools=function(e){return this.channel.call("toggleDevTools",e)},e.prototype.closeFolder=function(e){return this.channel.call("closeFolder",e)},e.prototype.toggleFullScreen=function(e){return this.channel.call("toggleFullScreen",e)},e.prototype.setRepresentedFilename=function(e,t){return this.channel.call("setRepresentedFilename",[e,t])},e.prototype.addToRecentlyOpen=function(e){return this.channel.call("addToRecentlyOpen",e)},e.prototype.removeFromRecentlyOpen=function(e){return this.channel.call("removeFromRecentlyOpen",e)},e.prototype.getRecentlyOpen=function(e){return this.channel.call("getRecentlyOpen",e)},e.prototype.focusWindow=function(e){return this.channel.call("focusWindow",e)},e.prototype.isMaximized=function(e){return this.channel.call("isMaximized",e)},e.prototype.maximizeWindow=function(e){return this.channel.call("maximizeWindow",e)},e.prototype.unmaximizeWindow=function(e){return this.channel.call("unmaximizeWindow",e)},e.prototype.setDocumentEdited=function(e,t){return this.channel.call("setDocumentEdited",[e,t])},e.prototype.toggleMenuBar=function(e){return this.channel.call("toggleMenuBar",e)},e.prototype.quit=function(){return this.channel.call("quit")},e.prototype.windowOpen=function(e,t){return this.channel.call("windowOpen",[e,t])},e.prototype.openNewWindow=function(){return this.channel.call("openNewWindow")},e.prototype.showWindow=function(e){return this.channel.call("showWindow",e)},e.prototype.getWindows=function(){return this.channel.call("getWindows")},e.prototype.getWindowCount=function(){return this.channel.call("getWindowCount")},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.channel.call("log",[e,t])},e.prototype.closeExtensionHostWindow=function(e){return this.channel.call("closeExtensionHostWindow",e)},e.prototype.showItemInFolder=function(e){return this.channel.call("showItemInFolder",e)},e.prototype.openExternal=function(e){return this.channel.call("openExternal",e)},e.prototype.startCrashReporter=function(e){return this.channel.call("startCrashReporter",e)},e}();t.WindowsChannelClient=o}),define(l[862],h([1,0,63]),function(e,t,n){"use strict";var i=function(){function e(e,t){this.windowId=e,this.windowsService=t}return e.prototype.getCurrentWindowId=function(){return this.windowId},e.prototype.openFileFolderPicker=function(e){return this.windowsService.openFileFolderPicker(this.windowId,e)},e.prototype.openFilePicker=function(e,t){return this.windowsService.openFilePicker(this.windowId,e,t)},e.prototype.openFolderPicker=function(e){return this.windowsService.openFolderPicker(this.windowId,e)},e.prototype.reloadWindow=function(){return this.windowsService.reloadWindow(this.windowId)},e.prototype.openDevTools=function(){return this.windowsService.openDevTools(this.windowId)},e.prototype.toggleDevTools=function(){return this.windowsService.toggleDevTools(this.windowId)},e.prototype.closeFolder=function(){return this.windowsService.closeFolder(this.windowId)},e.prototype.toggleFullScreen=function(){return this.windowsService.toggleFullScreen(this.windowId)},e.prototype.setRepresentedFilename=function(e){return this.windowsService.setRepresentedFilename(this.windowId,e)},e.prototype.addToRecentlyOpen=function(e){return this.windowsService.addToRecentlyOpen(e)},e.prototype.removeFromRecentlyOpen=function(e){return this.windowsService.removeFromRecentlyOpen(e)},e.prototype.getRecentlyOpen=function(){return this.windowsService.getRecentlyOpen(this.windowId)},e.prototype.focusWindow=function(){return this.windowsService.focusWindow(this.windowId)},e.prototype.isMaximized=function(){return this.windowsService.isMaximized(this.windowId)},e.prototype.maximizeWindow=function(){return this.windowsService.maximizeWindow(this.windowId)},e.prototype.unmaximizeWindow=function(){return this.windowsService.unmaximizeWindow(this.windowId)},e.prototype.setDocumentEdited=function(e){return this.windowsService.setDocumentEdited(this.windowId,e)},e.prototype.toggleMenuBar=function(){return this.windowsService.toggleMenuBar(this.windowId)},e=g([v(1,n.IWindowsService)],e)}();t.WindowService=i}),define(l[26],h([1,0,16,6,20]),function(e,t,n,i,r){"use strict";t.IWorkspaceContextService=i.createDecorator("contextService");var o=function(){function e(e){this.workspace=e}return e.prototype.getWorkspace=function(){return this.workspace},e.prototype.isInsideWorkspace=function(e){return!(!e||!this.workspace)&&r.isEqualOrParent(e.fsPath,this.workspace.resource.fsPath)},e.prototype.toWorkspaceRelativePath=function(e){return this.isInsideWorkspace(e)?r.normalize(r.relative(this.workspace.resource.fsPath,e.fsPath)):null},e.prototype.toResource=function(e){return"string"==typeof e&&this.workspace?n.default.file(r.join(this.workspace.resource.fsPath,e)):null},e}();t.WorkspaceContextService=o}),define(l[864],h([1,0,419,108,7,81,11,5,120,12,2,29,8,141,218,281,371,85,111,113,26,127,15,10,335,365,198,232,73,690]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k){"use strict";var P=function(){function e(e,t){var n=this;this.editor=e,this.model=t,this._decorationSet=i.createStringDictionary(),this._decorationIgnoreSet=i.createStringDictionary(),this._callOnDispose=[],this._callOnModelChange=[],this._callOnDispose.push(this.editor.onDidChangeModel(function(){return n._onModelChanged()})),this._onModelChanged()}return e.prototype.dispose=function(){this._callOnModelChange=a.dispose(this._callOnModelChange),this._callOnDispose=a.dispose(this._callOnDispose),this.removeDecorations()},e.prototype._onModelChanged=function(){this.removeDecorations(),this._callOnModelChange=a.dispose(this._callOnModelChange);var e=this.editor.getModel();if(e)for(var t=0,n=this.model.groups.length;t<n;t++)if(this.model.groups[t].uri.toString()===e.uri.toString())return void this._addDecorations(this.model.groups[t])},e.prototype._addDecorations=function(t){var n=this;this._callOnModelChange.push(this.editor.getModel().onDidChangeDecorations(function(e){return n._onDecorationChanged(e)})),this.editor.getModel().changeDecorations(function(i){for(var r=[],o=[],s=0,a=t.children.length;s<a;s++){var c=t.children[s];n._decorationIgnoreSet[c.id]||(r.push({range:c.range,options:e.DecorationOptions}),o.push(s))}for(var u=i.deltaDecorations([],r),l=0;l<u.length;l++)n._decorationSet[u[l]]=t.children[o[l]]})},e.prototype._onDecorationChanged=function(e){for(var t=this,n=e.changedDecorations,r=[],o=0,s=n.length;o<s;o++){var a=i.lookup(this._decorationSet,n[o]);if(a){var c=this.editor.getModel().getDecorationRange(n[o]),u=!1;if(!I.Range.equalsRange(c,a.range)){if(I.Range.spansMultipleLines(c))u=!0;else{var l=a.range.endColumn-a.range.startColumn,h=c.endColumn-c.startColumn;l!==h&&(u=!0)}u?(this._decorationIgnoreSet[a.id]=a,r.push(n[o])):a.range=c}}}this.editor.changeDecorations(function(e){for(var n=0,i=r.length;n<i;n++)delete t._decorationSet[r[n]];e.deltaDecorations(r,[])})},e.prototype.removeDecorations=function(){var e=Object.keys(this._decorationSet);e.length>0&&this.editor.changeDecorations(function(t){t.deltaDecorations(e,[])}),this._decorationSet={}},e.DecorationOptions={stickiness:T.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"reference-decoration"},e}(),R=function(){function e(e){this._textModelResolverService=e}return e.prototype.getId=function(e,t){return t instanceof L.ReferencesModel?"root":t instanceof L.FileReferences?t.id:t instanceof L.OneReference?t.id:void 0},e.prototype.hasChildren=function(e,t){return t instanceof L.ReferencesModel||(t instanceof L.FileReferences&&!t.failure||void 0)},e.prototype.getChildren=function(e,t){return t instanceof L.ReferencesModel?l.TPromise.as(t.groups):t instanceof L.FileReferences?t.resolve(this._textModelResolverService).then(function(n){return t.failure?e.refresh(t).then(function(){return n.children}):n.children}):l.TPromise.as([])},e.prototype.getParent=function(e,t){var n=null;return t instanceof L.FileReferences?n=t.parent:t instanceof L.OneReference&&(n=t.parent),l.TPromise.as(n)},e=g([v(0,k.ITextModelResolverService)],e)}(),O=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.onTap=function(n,i,r){if(i instanceof L.FileReferences)return r.preventDefault(),r.stopPropagation(),this._expandCollapse(n,i);var o=e.prototype.onTap.call(this,n,i,r);return n.emit(t.Events.FOCUSED,i),o},t.prototype.onMouseDown=function(n,i,r){if(r.leftButton){if(i instanceof L.FileReferences)return r.preventDefault(),r.stopPropagation(),this._expandCollapse(n,i);var o=e.prototype.onClick.call(this,n,i,r);return r.ctrlKey||r.metaKey?n.emit(t.Events.OPEN_TO_SIDE,i):2===r.detail?n.emit(t.Events.SELECTED,i):n.emit(t.Events.FOCUSED,i),o}return!1},t.prototype.onClick=function(t,n,i){return!i.leftButton&&e.prototype.onClick.call(this,t,n,i)},t.prototype._expandCollapse=function(e,t){return e.isExpanded(t)?e.collapse(t).done(null,r.onUnexpectedError):e.expand(t).done(null,r.onUnexpectedError),!0},t.prototype.onEscape=function(e,t){return!1},t.prototype.onEnter=function(n,i){var r=n.getFocus();if(r instanceof L.FileReferences)return this._expandCollapse(n,r);var o=e.prototype.onEnter.call(this,n,i);return i.ctrlKey||i.metaKey?n.emit(t.Events.OPEN_TO_SIDE,r):n.emit(t.Events.SELECTED,r),o},t.prototype.onUp=function(t,n){return e.prototype.onUp.call(this,t,n),this._fakeFocus(t,n),!0},t.prototype.onPageUp=function(t,n){return e.prototype.onPageUp.call(this,t,n),this._fakeFocus(t,n),!0},t.prototype.onLeft=function(t,n){return e.prototype.onLeft.call(this,t,n),this._fakeFocus(t,n),!0},t.prototype.onDown=function(t,n){return e.prototype.onDown.call(this,t,n),this._fakeFocus(t,n),!0},t.prototype.onPageDown=function(t,n){return e.prototype.onPageDown.call(this,t,n),this._fakeFocus(t,n),!0},t.prototype.onRight=function(t,n){return e.prototype.onRight.call(this,t,n),this._fakeFocus(t,n),!0},t.prototype._fakeFocus=function(e,n){var i=e.getFocus();e.setSelection([i]),e.emit(t.Events.FOCUSED,i)},t.Events={FOCUSED:"events/custom/focused",SELECTED:"events/custom/selected",OPEN_TO_SIDE:"events/custom/opentoside"},t}(S.DefaultController),M=function(e){function t(t){e.call(this),this._contextService=t}return d(t,e),t.prototype.getHeight=function(e,t){return 22},t.prototype.render=function(e,t,i){var r=this;if(p.clearNode(i),t instanceof L.FileReferences){var o=h.$(".reference-file");new b.LeftRightWidget(o,function(e){return new y.FileLabel(e,t.uri,r._contextService),null},function(e){var i=t.children.length,r=new m.CountBadge(e,i);return t.failure?r.setTitleFormat(n.localize(0,null)):i>1?r.setTitleFormat(n.localize(1,null,i)):r.setTitleFormat(n.localize(2,null,i)),r}),o.appendTo(i)}else if(t instanceof L.OneReference){var s=t.parent.preview.preview(t.range);h.$(".reference").innerHtml(u.format('<span>{0}</span><span class="referenceMatch">{1}</span><span>{2}</span>',u.escape(s.before),u.escape(s.inside),u.escape(s.after))).appendTo(i)}return null},t=g([v(0,C.IWorkspaceContextService)],t)}(S.LegacyRenderer),N=function(){function e(e,t){var n=this;this._disposables=new a.Disposables,this._onDidChangePercentages=new s.Emitter,this._ratio=t,this._sash=new f.Sash(e,{getVerticalSashLeft:function(){return n._width*n._ratio},getVerticalSashHeight:function(){return n._height}});var i;this._disposables.add(this._sash.addListener2("start",function(e){i=e.startX-n._width*n.ratio})),this._disposables.add(this._sash.addListener2("change",function(e){var t=e.currentX-i;t>20&&t+20<n._width&&(n._ratio=t/n._width,n._sash.layout(),n._onDidChangePercentages.fire(n))}))}return e.prototype.dispose=function(){this._sash.dispose(),this._onDidChangePercentages.dispose(),this._disposables.dispose()},Object.defineProperty(e.prototype,"onDidChangePercentages",{get:function(){return this._onDidChangePercentages.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{set:function(e){this._width=e,this._sash.layout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{set:function(e){this._height=e,this._sash.layout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"percentages",{get:function(){var e=100*this._ratio,t=100-e;return[e+"%",t+"%"]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ratio",{get:function(){return this._ratio},enumerable:!0,configurable:!0}),e}(),F=function(e){function t(t,n,i,r,o){e.call(this,t,{frameColor:"#007ACC",showFrame:!1,showArrow:!0,isResizeable:!0}),this.layoutData=n,this._textModelResolverService=i,this._contextService=r,this._instantiationService=o,this._disposeOnNewModel=[],this._onDidSelectReference=new s.Emitter,this._previewModelReference=a.empty,this._instantiationService=this._instantiationService.createChild(new _.ServiceCollection([D.IPeekViewService,this])),this.create()}return d(t,e),t.prototype.dispose=function(){this.setModel(null),a.dispose(this._preview,this._previewNotAvailableMessage,this._tree,this._sash),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"onDidSelectReference",{get:function(){return this._onDidSelectReference.event},enumerable:!0,configurable:!0}),t.prototype.show=function(t){this.editor.revealRangeInCenterIfOutsideViewport(t),e.prototype.show.call(this,t,this.layoutData.heightInLines||18)},t.prototype.focus=function(){this._tree.DOMFocus()},t.prototype._onTitleClick=function(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey?"side":"open",source:"title"})},t.prototype._fillBody=function(e){var t=this,i=h.$(e);i.addClass("reference-zone-widget"),i.div({class:"messages"},function(e){t._messageContainer=e.hide()}),i.div({class:"preview inline"},function(e){var i={scrollBeyondLastLine:!1,scrollbar:w.DefaultConfig.editor.scrollbar,overviewRulerLanes:2,fixedOverflowWidgets:!0};t._preview=t._instantiationService.createInstance(A.EmbeddedCodeEditorWidget,e.getHTMLElement(),i,t.editor),t._previewContainer=e.hide(),t._previewNotAvailableMessage=x.Model.createFromString(n.localize(3,null))}),this._sash=new N(e,this.layoutData.ratio||.8),this._sash.onDidChangePercentages(function(){var e=t._sash.percentages,n=e[0],i=e[1];t._previewContainer.style({width:n}),t._treeContainer.style({width:i}),t._preview.layout(),t._tree.layout(),t.layoutData.ratio=t._sash.ratio}),i.div({class:"ref-tree inline"},function(e){var i={dataSource:t._instantiationService.createInstance(R),renderer:t._instantiationService.createInstance(M),controller:new O},r={allowHorizontalScroll:!1,twistiePixels:20,ariaLabel:n.localize(4,null)};t._tree=new E.Tree(e.getHTMLElement(),i,r),t._treeContainer=e.hide()})},t.prototype._doLayoutBody=function(t,n){e.prototype._doLayoutBody.call(this,t,n);var i=t+"px";this._sash.height=t,this._sash.width=n;var r=this._sash.percentages,o=r[0],s=r[1];this._previewContainer.style({height:i,width:o}),this._treeContainer.style({height:i,width:s}),this._tree.layout(t),this._preview.layout(),this.layoutData={heightInLines:this._viewZone.heightInLines,ratio:this._sash.ratio}},t.prototype._onWidth=function(e){this._sash.width=e,this._preview.layout()},t.prototype.setSelection=function(e){return this._revealReference(e)},t.prototype.setModel=function(e){if(this._disposeOnNewModel=a.dispose(this._disposeOnNewModel),this._model=e,this._model)return this._onNewModel()},t.prototype._onNewModel=function(){var e=this;if(this._model.empty)return this.setTitle(""),this._messageContainer.innerHtml(n.localize(5,null)).show(),l.TPromise.as(void 0);this._messageContainer.hide(),this._decorationsManager=new P(this._preview,this._model),this._disposeOnNewModel.push(this._decorationsManager),this._disposeOnNewModel.push(this._model.onDidChangeReferenceRange(function(t){return e._tree.refresh(t)})),this._disposeOnNewModel.push(this._tree.addListener2(O.Events.FOCUSED,function(t){t instanceof L.OneReference&&(e._revealReference(t),e._onDidSelectReference.fire({element:t,kind:"show",source:"tree"}))})),this._disposeOnNewModel.push(this._tree.addListener2(O.Events.SELECTED,function(t){t instanceof L.OneReference&&e._onDidSelectReference.fire({element:t,kind:"goto",source:"tree"})})),this._disposeOnNewModel.push(this._tree.addListener2(O.Events.OPEN_TO_SIDE,function(t){t instanceof L.OneReference&&e._onDidSelectReference.fire({element:t,kind:"side",source:"tree"})})),this._disposeOnNewModel.push(this._preview.onMouseDown(function(t){2===t.event.detail&&e._onDidSelectReference.fire({element:e._getFocusedReference(),kind:t.event.ctrlKey||t.event.metaKey?"side":"open",source:"editor"})})),p.addClass(this.container,"results-loaded"),this._treeContainer.show(),this._previewContainer.show(),this._preview.layout(),this._tree.layout(),this.focus();var t=1===this._model.groups.length?this._model.groups[0]:this._model;return this._tree.setInput(t)},t.prototype._getFocusedReference=function(){var e=this._tree.getFocus();return e instanceof L.OneReference?e:e instanceof L.FileReferences&&e.children.length>0?e.children[0]:void 0},t.prototype._revealReference=function(e){var t=this;e.uri.scheme!==c.Schemas.inMemory?this.setTitle(e.name,o.getPathLabel(e.directory,this._contextService)):this.setTitle(n.localize(6,null));var i=this._textModelResolverService.createModelReference(e.uri);return l.TPromise.join([i,this._tree.reveal(e)]).then(function(n){var i=n[0];if(!t._model)return void i.dispose();t._previewModelReference.dispose(),t._previewModelReference=a.empty;var r=i.object;if(r){t._previewModelReference=i,t._preview.setModel(r.textEditorModel);var o=I.Range.lift(e.range).collapseToStart();t._preview.setSelection(o),t._preview.revealRangeInCenter(o)}else t._preview.setModel(t._previewNotAvailableMessage),i.dispose();t._tree.setSelection([e]),t._tree.setFocus(e)},r.onUnexpectedError)},t}(D.PeekViewWidget);t.ReferenceWidget=F}),define(l[373],h([1,0,418,7,5,32,66,11,6,23,18,19,25,26,38,58,198,864,73]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S){"use strict";t.ctxReferenceSearchVisible=new u.RawContextKey("referenceSearchVisible",(!1));var E=function(){function e(e,n,i,r,o,s,a,c,u,l,h){this._editorService=i,this._textModelResolverService=r,this._telemetryService=o,this._messageService=s,this._instantiationService=a,this._contextService=c,this._storageService=u,this._configurationService=l,this._peekViewService=h,this._requestIdPool=0,this._disposables=[],this._ignoreModelChangeEvent=!1,this._editor=e,this._referenceSearchVisible=t.ctxReferenceSearchVisible.bindTo(n)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._widget&&(this._widget.dispose(),this._widget=null),this._editor=null},e.prototype.toggleWidget=function(e,t,i){var r,s=this;if(this._widget&&(r=this._widget.position),this.closeWidget(),r&&e.containsPosition(r))return null;this._referenceSearchVisible.set(!0),this._disposables.push(this._editor.onDidChangeModelMode(function(){s.closeWidget()})),this._disposables.push(this._editor.onDidChangeModel(function(){s._ignoreModelChangeEvent||s.closeWidget()}));var c="peekViewLayout",u=JSON.parse(this._storageService.get(c,void 0,"{}"));this._widget=new b.ReferenceWidget(this._editor,u,this._textModelResolverService,this._contextService,this._instantiationService),this._widget.setTitle(n.localize(0,null)),this._widget.show(e),this._disposables.push(this._widget.onDidClose(function(){t.cancel(),s._storageService.store(c,JSON.stringify(s._widget.layoutData)),s._widget=null,s.closeWidget()})),this._disposables.push(this._widget.onDidSelectReference(function(e){var t=e.element,n=e.kind;switch(n){case"open":if("editor"===e.source&&s._configurationService.lookup("editor.stablePeek").value)break;case"side":s._openReference(t,"side"===n);break;case"goto":i.onGoto?i.onGoto(t):s._gotoReference(t)}}));var l=++this._requestIdPool,h=t.then(function(t){if(l===s._requestIdPool&&s._widget){s._model&&s._model.dispose(),s._model=t;var n=Date.now();return s._disposables.push({dispose:function(){s._telemetryService.publicLog("zoneWidgetShown",{mode:"reference search",elapsedTime:Date.now()-n})}}),s._widget.setModel(s._model).then(function(){s._widget.setMetaTitle(i.getMetaTitle(s._model));var t=s._editor.getModel().uri,n={lineNumber:e.startLineNumber,column:e.startColumn},r=s._model.nearestReference(t,n);if(r)return s._widget.setSelection(r)})}},function(e){s._messageService.show(o.default.Error,e)}),d=a.stopwatch(a.fromPromise(h));d(function(e){return s._telemetryService.publicLog("findReferences",{duration:e,mode:s._editor.getModel().getMode().getId()})})},e.prototype.closeWidget=function(){this._widget&&(this._widget.dispose(),this._widget=null),this._referenceSearchVisible.reset(),this._disposables=r.dispose(this._disposables),this._model&&(this._model.dispose(),this._model=null),this._editor.focus(),this._requestIdPool+=1},e.prototype._gotoReference=function(e){var t=this;this._widget.hide(),this._ignoreModelChangeEvent=!0;var n=e.uri,r=e.range;this._editorService.openEditor({resource:n,options:{selection:r}}).done(function(e){return t._ignoreModelChangeEvent=!1,e&&e.getControl()===t._editor?(t._widget.show(r),void t._widget.focus()):void t.closeWidget()},function(e){t._ignoreModelChangeEvent=!1,i.onUnexpectedError(e)})},e.prototype._openReference=function(e,t){var n=e.uri,i=e.range;this._editorService.openEditor({resource:n,options:{selection:i}},t),t||this.closeWidget()},e.ID="editor.contrib.referencesController",e=g([m.editorContribution,v(1,u.IContextKeyService),v(2,s.IEditorService),v(3,S.ITextModelResolverService),v(4,h.ITelemetryService),v(5,l.IMessageService),v(6,c.IInstantiationService),v(7,p.IWorkspaceContextService),v(8,f.IStorageService),v(9,d.IConfigurationService),v(10,c.optional(y.IPeekViewService))],e)}();t.ReferencesController=E}),define(l[866],h([1,0,1226,17,7,52,13,32,12,2,48,66,54,18,15,10,27,49,58,812,373,232,5,198,23,73,673]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A){"use strict";var D=y.ModeContextKeys,L=y.EditorContextKeys,k=function(){function e(e,t,n){void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===n&&(n=!0),this.openToSide=e,this.openInPeek=t,this.filterCurrent=n}return e}();t.DefinitionActionConfig=k;var P=function(e){function t(t,n){e.call(this,n),this._configuration=t}return d(t,e),t.prototype.run=function(e,t){var n=this,i=e.get(f.IMessageService),r=e.get(h.IEditorService),o=t.getModel(),s=t.getPosition();return _.getDeclarationsAtPosition(o,s).then(function(e){if(e){for(var i=[],a=0;a<e.length;a++){var c=e[a];if(c){var u=c.uri,l=c.range;n._configuration.filterCurrent&&u.toString()===o.uri.toString()&&m.Range.containsPosition(l,s)||i.push({uri:u,range:m.Range.collapseToStart(l)})}}if(0!==i.length)return n._onResult(r,t,new w.ReferencesModel(i))}},function(e){return i.show(a.default.Error,e),!1})},t.prototype._onResult=function(e,t,n){var i=this;if(this._configuration.openInPeek)this._openInPeek(e,t,n);else{var r=n.nearestReference(t.getModel().uri,t.getPosition());this._openReference(e,r,this._configuration.openToSide).then(function(t){n.references.length>1?i._openInPeek(e,t,n):n.dispose()})}},t.prototype._openReference=function(e,t,n){var i=t.uri,r=t.range;return e.openEditor({resource:i,options:{selection:r,revealIfVisible:!n}},n).then(function(e){return e.getControl()})},t.prototype._openInPeek=function(e,t,i){var r=this,o=C.ReferencesController.get(t);o?o.toggleWidget(t.getSelection(),u.TPromise.as(i),{getMetaTitle:function(e){return e.references.length>1&&n.localize(0,null,e.references.length)},onGoto:function(t){return o.closeWidget(),r._openReference(e,t,!1)}}):i.dispose()},t}(b.EditorAction);t.DefinitionAction=P;var R=s.isWeb?32838:70,O=function(e){function t(){e.call(this,new k,{id:t.ID,label:n.localize(1,null),alias:"Go to Definition",precondition:D.hasDefinitionProvider,kbOpts:{kbExpr:L.TextFocus,primary:R},menuOpts:{group:"navigation",order:1.1}})}return d(t,e),t.ID="editor.action.goToDeclaration",t=g([b.editorAction],t)}(P);t.GoToDefinitionAction=O;var M=function(e){function t(){e.call(this,new k((!0)),{id:t.ID,label:n.localize(2,null),alias:"Open Definition to the Side",precondition:D.hasDefinitionProvider,kbOpts:{kbExpr:L.TextFocus,primary:o.KeyChord(32809,R)}})}return d(t,e),t.ID="editor.action.openDeclarationToTheSide",t=g([b.editorAction],t)}(P);t.OpenDefinitionToSideAction=M;var N=function(e){function t(){e.call(this,new k((void 0),(!0),(!1)),{id:"editor.action.previewDeclaration",label:n.localize(3,null),alias:"Peek Definition",precondition:x.ContextKeyExpr.and(D.hasDefinitionProvider,T.PeekContext.notInPeekEditor),kbOpts:{kbExpr:L.TextFocus,primary:8262,linux:{primary:49220}},menuOpts:{group:"navigation",order:1.2}})}return d(t,e),t=g([b.editorAction],t)}(P);t.PeekDefinitionAction=N;(function(){function e(e,t,n){var r=this;this.textModelResolverService=t,this.modeService=n,this.toUnhook=[],this.decorations=[],this.editor=e,this.throttler=new i.Throttler,this.toUnhook.push(this.editor.onMouseDown(function(e){return r.onEditorMouseDown(e)})),this.toUnhook.push(this.editor.onMouseUp(function(e){return r.onEditorMouseUp(e)})),this.toUnhook.push(this.editor.onMouseMove(function(e){return r.onEditorMouseMove(e)})),this.toUnhook.push(this.editor.onKeyDown(function(e){return r.onEditorKeyDown(e)})),this.toUnhook.push(this.editor.onKeyUp(function(e){return r.onEditorKeyUp(e)})),this.toUnhook.push(this.editor.onDidChangeCursorSelection(function(e){return r.onDidChangeCursorSelection(e)})),this.toUnhook.push(this.editor.onDidChangeModel(function(e){return r.resetHandler()})),this.toUnhook.push(this.editor.onDidChangeModelContent(function(){return r.resetHandler()})),this.toUnhook.push(this.editor.onDidScrollChange(function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&r.resetHandler()}))}return e.prototype.onDidChangeCursorSelection=function(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this.resetHandler()},e.prototype.onEditorMouseMove=function(e,t){this.lastMouseMoveEvent=e,this.startFindDefinition(e,t)},e.prototype.startFindDefinition=function(t,i){var o=this;if(!this.isEnabled(t,i))return this.currentWordUnderMouse=null,void this.removeDecorations();var s=t.target.position,a=s?this.editor.getModel().getWordAtPosition(s):null;if(!a)return this.currentWordUnderMouse=null,void this.removeDecorations();if(!this.currentWordUnderMouse||this.currentWordUnderMouse.startColumn!==a.startColumn||this.currentWordUnderMouse.endColumn!==a.endColumn||this.currentWordUnderMouse.word!==a.word){this.currentWordUnderMouse=a;var l=this.editor.captureState(y.CodeEditorStateFlag.Position,y.CodeEditorStateFlag.Value,y.CodeEditorStateFlag.Selection,y.CodeEditorStateFlag.Scroll);this.throttler.queue(function(){return l.validate(o.editor)?o.findDefinition(t.target):u.TPromise.as(null)}).then(function(t){if(!t||!t.length||!l.validate(o.editor))return void o.removeDecorations();if(t.length>1)o.addDecoration({startLineNumber:s.lineNumber,startColumn:a.startColumn,endLineNumber:s.lineNumber,endColumn:a.endColumn},n.localize(4,null,t.length));else{var i=t[0];o.textModelResolverService.createModelReference(i.uri).then(function(t){var n,r=t.object;if(r&&r.textEditorModel){var u=r.textEditorModel,l=Math.max(1,i.range.startLineNumber),h=void 0;h=m.Range.isEmpty(i.range)?Math.min(l+e.MAX_SOURCE_PREVIEW_LINES,u.getLineCount()):Math.min(i.range.endLineNumber,i.range.startLineNumber+e.MAX_SOURCE_PREVIEW_LINES,u.getLineCount());for(var d=u.getValueInRange({startLineNumber:l,startColumn:1,endLineNumber:h,endColumn:u.getLineMaxColumn(h)}).trim(),p=Number.MAX_VALUE,f=/^[ \t]*/,g=void 0,v=void 0;l<=h&&p>0;)v=u.getLineContent(l++),0!==v.trim().length&&(g=f.exec(v),p=Math.min(p,g[0].length));d=d.replace(new RegExp("^([ \\t]{"+p+"})","gm"),c.empty),h<u.getLineCount()&&(d+="\n");var y=o.modeService.getModeIdByFilenameOrFirstLine(u.uri.fsPath);n={language:y,value:d}}t.dispose(),o.addDecoration({startLineNumber:s.lineNumber,startColumn:a.startColumn,endLineNumber:s.lineNumber,endColumn:a.endColumn},n)})}}).done(void 0,r.onUnexpectedError)}},e.prototype.addDecoration=function(e,t){var n={range:e,options:{inlineClassName:"goto-definition-link",hoverMessage:t}};this.decorations=this.editor.deltaDecorations(this.decorations,[n])},e.prototype.removeDecorations=function(){this.decorations.length>0&&(this.decorations=this.editor.deltaDecorations(this.decorations,[]))},e.prototype.onEditorKeyDown=function(t){this.lastMouseMoveEvent&&(t.keyCode===e.TRIGGER_KEY_VALUE||t.keyCode===e.TRIGGER_SIDEBYSIDE_KEY_VALUE&&t[e.TRIGGER_MODIFIER])?this.startFindDefinition(this.lastMouseMoveEvent,t):t[e.TRIGGER_MODIFIER]&&this.removeDecorations()},e.prototype.resetHandler=function(){this.lastMouseMoveEvent=null,this.hasTriggerKeyOnMouseDown=!1,this.removeDecorations()},e.prototype.onEditorMouseDown=function(t){this.hasTriggerKeyOnMouseDown=!!t.event[e.TRIGGER_MODIFIER]},e.prototype.onEditorMouseUp=function(e){var t=this;this.isEnabled(e)&&this.hasTriggerKeyOnMouseDown&&this.gotoDefinition(e.target,e.event.altKey).done(function(){t.removeDecorations()},function(e){t.removeDecorations(),r.onUnexpectedError(e)})},e.prototype.onEditorKeyUp=function(t){t.keyCode===e.TRIGGER_KEY_VALUE&&(this.removeDecorations(),this.currentWordUnderMouse=null)},e.prototype.isEnabled=function(t,n){return this.editor.getModel()&&(l.isIE11orEarlier||t.event.detail<=1)&&t.target.type===y.MouseTargetType.CONTENT_TEXT&&(t.event[e.TRIGGER_MODIFIER]||n&&n.keyCode===e.TRIGGER_KEY_VALUE)&&S.DefinitionProviderRegistry.has(this.editor.getModel())},e.prototype.findDefinition=function(e){var t=this.editor.getModel();return t?_.getDeclarationsAtPosition(this.editor.getModel(),e.position):u.TPromise.as(null)},e.prototype.gotoDefinition=function(e,t){var n=t?M.ID:O.ID;return this.editor.setPosition(e.position),this.editor.getAction(n).run()},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.toUnhook=I.dispose(this.toUnhook)},e.ID="editor.contrib.gotodefinitionwithmouse",e.TRIGGER_MODIFIER=s.isMacintosh?"metaKey":"ctrlKey",e.TRIGGER_SIDEBYSIDE_KEY_VALUE=6,e.TRIGGER_KEY_VALUE=s.isMacintosh?57:5,e.MAX_SOURCE_PREVIEW_LINES=7,e=g([E.editorContribution,v(1,A.ITextModelResolverService),v(2,p.IModeService)],e)})()}),define(l[867],h([1,0,417,16,2,66,6,34,23,84,44,15,10,27,198,828,373,232]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S){"use strict";function E(e,t){var n=m.getOuterEditor(e,t);
if(n){var i=b.ReferencesController.get(n);i&&i.closeWidget()}}var _=p.ModeContextKeys,C=p.EditorContextKeys,w={getMetaTitle:function(e){return e.references.length>1&&n.localize(0,null,e.references.length)}},I=function(){function e(e,t,n){n&&m.PeekContext.inPeekEditor.bindTo(t)}return e.prototype.dispose=function(){},e.prototype.getId=function(){return e.ID},e.ID="editor.contrib.referenceController",e=g([f.commonEditorContribution,v(1,c.IContextKeyService),v(2,s.optional(m.IPeekViewService))],e)}();t.ReferenceController=I;var T=function(e){function t(){e.call(this,{id:"editor.action.referenceSearch.trigger",label:n.localize(1,null),alias:"Find All References",precondition:c.ContextKeyExpr.and(_.hasReferenceProvider,m.PeekContext.notInPeekEditor),kbOpts:{kbExpr:C.TextFocus,primary:16454},menuOpts:{group:"navigation",order:1.3}})}return d(t,e),t.prototype.run=function(e,t){var n=b.ReferencesController.get(t);if(n){var i=t.getSelection(),r=t.getModel(),o=y.provideReferences(r,i.getStartPosition()).then(function(e){return new S.ReferencesModel(e)});n.toggleWidget(i,o,w)}},t=g([f.editorAction],t)}(f.EditorAction);t.ReferenceAction=T;var x=function(e,t,n){if(!(t instanceof i.default))throw new Error("illegal argument, uri");if(!n)throw new Error("illegal argument, position");return e.get(o.IEditorService).openEditor({resource:t}).then(function(e){var t=e.getControl();if(t&&"function"==typeof t.getEditorType){var i=b.ReferencesController.get(t);if(i){var o=y.provideReferences(t.getModel(),l.Position.lift(n)).then(function(e){return new S.ReferencesModel(e)}),s=new h.Range(n.lineNumber,n.column,n.lineNumber,n.column);return r.TPromise.as(i.toggleWidget(s,o,w))}}})},A=function(e,t,n,s){if(!(t instanceof i.default))throw new Error("illegal argument, uri expected");return e.get(o.IEditorService).openEditor({resource:t}).then(function(e){var t=e.getControl();if(t&&"function"==typeof t.getEditorType){var i=b.ReferencesController.get(t);if(i)return r.TPromise.as(i.toggleWidget(new h.Range(n.lineNumber,n.column,n.lineNumber,n.column),r.TPromise.as(new S.ReferencesModel(s)),w)).then(function(){return!0})}})};a.CommandsRegistry.registerCommand("editor.action.findReferences",x),a.CommandsRegistry.registerCommand("editor.action.showReferences",{handler:A,description:{description:"Show references at a position in a file",args:[{name:"uri",description:"The text document in which to show references",constraint:i.default},{name:"position",description:"The position at which to show",constraint:l.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array}]}}),u.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"closeReferenceSearch",weight:f.CommonEditorRegistry.commandWeight(50),primary:9,secondary:[16393],when:c.ContextKeyExpr.and(b.ctxReferenceSearchVisible,c.ContextKeyExpr.not("config.editor.stablePeek")),handler:E}),u.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"closeReferenceSearchEditor",weight:f.CommonEditorRegistry.commandWeight(-101),primary:9,secondary:[16393],when:c.ContextKeyExpr.and(m.PeekContext.inPeekEditor,c.ContextKeyExpr.not("config.editor.stablePeek")),handler:E})}),define(l[868],h([1,0,228,364,801,803,804,338,354,341,811,866,813,816,680,817,760,345,800,819,820,304,823,826,867,830,832,831,180,1e3,278,352,224,842,698,843,342]),function(e,t){"use strict"}),define(l[869],h([1,0,438,2,35,11,5,88,26,38,51]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";function h(e){return e.replace(/-\d+\.\d+\.\d+$/,"")}var d="extensions/disabled",p=function(){function e(e,t,n,i){this.storageService=e,this.contextService=t,this.environmentService=n,this.extensionManagementService=i,this.disposables=[],this._onEnablementChanged=new o.Emitter,this.onEnablementChanged=this._onEnablementChanged.event,i.onDidUninstallExtension(this.onDidUninstallExtension,this,this.disposables)}return Object.defineProperty(e.prototype,"workspace",{get:function(){return this.contextService.getWorkspace()},enumerable:!0,configurable:!0}),e.prototype.getGloballyDisabledExtensions=function(){return this.getDisabledExtensions(u.StorageScope.GLOBAL)},e.prototype.getWorkspaceDisabledExtensions=function(){return this.getDisabledExtensions(u.StorageScope.WORKSPACE)},e.prototype.canEnable=function(e){return!this.environmentService.disableExtensions&&(this.getGloballyDisabledExtensions().indexOf(e)!==-1||this.getWorkspaceDisabledExtensions().indexOf(e)!==-1)},e.prototype.setEnablement=function(e,t,r){return void 0===r&&(r=!1),r&&!this.workspace?i.TPromise.wrapError(n.localize(0,null)):this.environmentService.disableExtensions?i.TPromise.wrap(!1):t?r?this.enableExtension(e,u.StorageScope.WORKSPACE):this.enableExtension(e,u.StorageScope.GLOBAL):r?this.disableExtension(e,u.StorageScope.WORKSPACE):this.disableExtension(e,u.StorageScope.GLOBAL)},e.prototype.disableExtension=function(e,t){var n=this.getDisabledExtensions(t),r=n.indexOf(e);return r===-1?(n.push(e),this.setDisabledExtensions(n,t,e),i.TPromise.wrap(!0)):i.TPromise.wrap(!1)},e.prototype.enableExtension=function(e,t,n){void 0===n&&(n=!0);var r=this.getDisabledExtensions(t),o=r.indexOf(e);return o!==-1?(r.splice(o,1),this.setDisabledExtensions(r,t,e,n),i.TPromise.wrap(!0)):i.TPromise.wrap(!1)},e.prototype.getDisabledExtensions=function(e){if(e===u.StorageScope.WORKSPACE&&!this.workspace)return[];var t=this.storageService.get(d,e,"");return t?r.distinct(t.split(",")):[]},e.prototype.setDisabledExtensions=function(e,t,n,i){void 0===i&&(i=!0),e.length?this.storageService.store(d,e.join(","),t):this.storageService.remove(d,t),i&&this._onEnablementChanged.fire(n)},e.prototype.onDidUninstallExtension=function(e){var t=e.id,n=e.error;n||(t=h(t),this.enableExtension(t,u.StorageScope.WORKSPACE,!1),this.enableExtension(t,u.StorageScope.GLOBAL,!1))},e.prototype.dispose=function(){this.disposables=s.dispose(this.disposables)},e=g([v(0,u.IStorageService),v(1,c.IWorkspaceContextService),v(2,l.IEnvironmentService),v(3,a.IExtensionManagementService)],e)}();t.ExtensionEnablementService=p}),define(l[870],h([1,0,16,7]),function(e,t,n,i){"use strict";var r=function(){function e(e){this._callOnDispose=e}return e.from=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];return new e(function(){if(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];i&&"function"==typeof i.dispose&&i.dispose()}t=void 0}})},e.prototype.dispose=function(){"function"==typeof this._callOnDispose&&(this._callOnDispose(),this._callOnDispose=void 0)},e}();t.Disposable=r;var o=function(){function e(e,t){if(e<0)throw i.illegalArgument("line must be positive");if(t<0)throw i.illegalArgument("character must be positive");this._line=e,this._character=t}return e.Min=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var n=e.pop(),i=0,r=e;i<r.length;i++){var o=r[i];o.isBefore(n)&&(n=o)}return n},e.Max=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var n=e.pop(),i=0,r=e;i<r.length;i++){var o=r[i];o.isAfter(n)&&(n=o)}return n},e.isPosition=function(t){if(!t)return!1;if(t instanceof e)return!0;var n=t,i=n.line,r=n.character;return"number"==typeof i&&"number"==typeof r},Object.defineProperty(e.prototype,"line",{get:function(){return this._line},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"character",{get:function(){return this._character},enumerable:!0,configurable:!0}),e.prototype.isBefore=function(e){return this._line<e._line||!(e._line<this._line)&&this._character<e._character},e.prototype.isBeforeOrEqual=function(e){return this._line<e._line||!(e._line<this._line)&&this._character<=e._character},e.prototype.isAfter=function(e){return!this.isBeforeOrEqual(e)},e.prototype.isAfterOrEqual=function(e){return!this.isBefore(e)},e.prototype.isEqual=function(e){return this._line===e._line&&this._character===e._character},e.prototype.compareTo=function(e){return this._line<e._line?-1:this._line>e.line?1:this._character<e._character?-1:this._character>e._character?1:0},e.prototype.translate=function(t,n){if(void 0===n&&(n=0),null===t||null===n)throw i.illegalArgument();var r;return"undefined"==typeof t?r=0:"number"==typeof t?r=t:(r="number"==typeof t.lineDelta?t.lineDelta:0,n="number"==typeof t.characterDelta?t.characterDelta:0),0===r&&0===n?this:new e(this.line+r,this.character+n)},e.prototype.with=function(t,n){if(void 0===n&&(n=this.character),null===t||null===n)throw i.illegalArgument();var r;return"undefined"==typeof t?r=this.line:"number"==typeof t?r=t:(r="number"==typeof t.line?t.line:this.line,n="number"==typeof t.character?t.character:this.character),r===this.line&&n===this.character?this:new e(r,n)},e.prototype.toJSON=function(){return{line:this.line,character:this.character}},e}();t.Position=o;var s=function(){function e(e,t,n,i){var r,s;if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof i?(r=new o(e,t),s=new o(n,i)):e instanceof o&&t instanceof o&&(r=e,s=t),!r||!s)throw new Error("Invalid arguments");r.isBefore(s)?(this._start=r,this._end=s):(this._start=s,this._end=r)}return e.isRange=function(t){return t instanceof e||!!t&&(o.isPosition(t.start)&&o.isPosition(t.end))},Object.defineProperty(e.prototype,"start",{get:function(){return this._start},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!0,configurable:!0}),e.prototype.contains=function(t){return t instanceof e?this.contains(t._start)&&this.contains(t._end):t instanceof o&&(!t.isBefore(this._start)&&!this._end.isBefore(t))},e.prototype.isEqual=function(e){return this._start.isEqual(e._start)&&this._end.isEqual(e._end)},e.prototype.intersection=function(t){var n=o.Max(t.start,this._start),i=o.Min(t.end,this._end);if(!n.isAfter(i))return new e(n,i)},e.prototype.union=function(t){if(this.contains(t))return this;if(t.contains(this))return t;var n=o.Min(t.start,this._start),i=o.Max(t.end,this.end);return new e(n,i)},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this._start.isEqual(this._end)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSingleLine",{get:function(){return this._start.line===this._end.line},enumerable:!0,configurable:!0}),e.prototype.with=function(t,n){if(void 0===n&&(n=this.end),null===t||null===n)throw i.illegalArgument();var r;return t?o.isPosition(t)?r=t:(r=t.start||this.start,n=t.end||this.end):r=this.start,r.isEqual(this._start)&&n.isEqual(this.end)?this:new e(r,n)},e.prototype.toJSON=function(){return[this.start,this.end]},e}();t.Range=s;var a=function(e){function t(t,n,i,r){var s,a;if("number"==typeof t&&"number"==typeof n&&"number"==typeof i&&"number"==typeof r?(s=new o(t,n),a=new o(i,r)):t instanceof o&&n instanceof o&&(s=t,a=n),!s||!a)throw new Error("Invalid arguments");e.call(this,s,a),this._anchor=s,this._active=a}return d(t,e),t.isSelection=function(e){return e instanceof t||!!e&&(s.isRange(e)&&o.isPosition(e.anchor)&&o.isPosition(e.active)&&"boolean"==typeof e.isReversed)},Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._active},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReversed",{get:function(){return this._anchor===this._end},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){return{start:this.start,end:this.end,active:this.active,anchor:this.anchor}},t}(s);t.Selection=a;var c=function(){function e(e,t){this.range=e,this.newText=t}return e.isTextEdit=function(t){return t instanceof e||!!t&&(s.isRange(t)&&"string"==typeof t.newText)},e.replace=function(t,n){return new e(t,n)},e.insert=function(t,n){return e.replace(new s(t,t),n)},e.delete=function(t){return e.replace(t,"")},Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){if(!e)throw i.illegalArgument("range");this._range=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"newText",{get:function(){return this._newText||""},set:function(e){this._newText=e},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{range:this.range,newText:this.newText}},e}();t.TextEdit=c;var u=function(e){function t(){e.apply(this,arguments)}return d(t,e),t}(n.default);t.Uri=u;var l=function(){function e(){this._values=[],this._index=Object.create(null)}return e.prototype.replace=function(e,t,n){var i=new c(t,n),r=this.get(e);r?r.push(i):this.set(e,[i])},e.prototype.insert=function(e,t,n){this.replace(e,new s(t,t),n)},e.prototype.delete=function(e,t){this.replace(e,t,"")},e.prototype.has=function(e){return"undefined"!=typeof this._index[e.toString()]},e.prototype.set=function(e,t){var n=this._index[e.toString()];if("undefined"==typeof n){var i=this._values.push([e,t]);this._index[e.toString()]=i-1}else this._values[n][1]=t},e.prototype.get=function(e){var t=this._index[e.toString()];return"undefined"!=typeof t&&this._values[t][1]},e.prototype.entries=function(){return this._values},Object.defineProperty(e.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return this._values},e}();t.WorkspaceEdit=l;var h=function(){function e(e){this._tabstop=1,this.value=e||""}return e._escape=function(e){return e.replace(/\$|}|\\/g,"\\$&")},e.prototype.appendText=function(t){return this.value+=e._escape(t),this},e.prototype.appendTabstop=function(e){return void 0===e&&(e=this._tabstop++),this.value+="$",this.value+=e,this},e.prototype.appendPlaceholder=function(t,n){if(void 0===n&&(n=this._tabstop++),"function"==typeof t){var i=new e;i._tabstop=this._tabstop,t(i),this._tabstop=i._tabstop,t=i.value}else t=e._escape(t);return this.value+="${",this.value+=n,this.value+=":",this.value+=t,this.value+="}",this},e.prototype.appendVariable=function(t,n){if("function"==typeof n){var i=new e;i._tabstop=this._tabstop,n(i),this._tabstop=i._tabstop,n=i.value}else"string"==typeof n&&(n=n.replace(/\$|}/g,"\\$&"));return this.value+="${",this.value+=t,n&&(this.value+=":",this.value+=n),this.value+="}",this},e}();t.SnippetString=h,function(e){e[e.Hint=3]="Hint",e[e.Information=2]="Information",e[e.Warning=1]="Warning",e[e.Error=0]="Error"}(t.DiagnosticSeverity||(t.DiagnosticSeverity={}));var p=t.DiagnosticSeverity,f=function(){function e(e,t){if(this.uri=e,t)if(t instanceof s)this.range=t;else{if(!(t instanceof o))throw new Error("Illegal argument");this.range=new s(t,t)}else;}return e.isLocation=function(t){return t instanceof e||!!t&&(s.isRange(t.range)&&n.default.isUri(t.uri))},e.prototype.toJSON=function(){return{uri:this.uri,range:this.range}},e}();t.Location=f;var g=function(){function e(e,t,n){void 0===n&&(n=p.Error),this.range=e,this.message=t,this.severity=n}return e.prototype.toJSON=function(){return{severity:p[this.severity],message:this.message,range:this.range,source:this.source,code:this.code}},e}();t.Diagnostic=g;var v=function(){function e(e,t){if(!e)throw new Error("Illegal argument, contents must be defined");Array.isArray(e)?this.contents=e:this.contents=[e],this.range=t}return e}();t.Hover=v,function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(t.DocumentHighlightKind||(t.DocumentHighlightKind={}));var m=t.DocumentHighlightKind,y=function(){function e(e,t){void 0===t&&(t=m.Text),this.range=e,this.kind=t}return e.prototype.toJSON=function(){return{range:this.range,kind:m[this.kind]}},e}();t.DocumentHighlight=y,function(e){e[e.File=0]="File",e[e.Module=1]="Module",e[e.Namespace=2]="Namespace",e[e.Package=3]="Package",e[e.Class=4]="Class",e[e.Method=5]="Method",e[e.Property=6]="Property",e[e.Field=7]="Field",e[e.Constructor=8]="Constructor",e[e.Enum=9]="Enum",e[e.Interface=10]="Interface",e[e.Function=11]="Function",e[e.Variable=12]="Variable",e[e.Constant=13]="Constant",e[e.String=14]="String",e[e.Number=15]="Number",e[e.Boolean=16]="Boolean",e[e.Array=17]="Array",e[e.Object=18]="Object",e[e.Key=19]="Key",e[e.Null=20]="Null"}(t.SymbolKind||(t.SymbolKind={}));var b=t.SymbolKind,S=function(){function e(e,t,n,i,r){this.name=e,this.kind=t,this.containerName=r,"string"==typeof n&&(this.containerName=n),i instanceof f?this.location=i:n instanceof s&&(this.location=new f(i,n))}return e.prototype.toJSON=function(){return{name:this.name,kind:b[this.kind],location:this.location,containerName:this.containerName}},e}();t.SymbolInformation=S;var E=function(){function e(e,t){this.range=e,this.command=t}return Object.defineProperty(e.prototype,"isResolved",{get:function(){return!!this.command},enumerable:!0,configurable:!0}),e}();t.CodeLens=E;var _=function(){function e(e,t){this.label=e,this.documentation=t}return e}();t.ParameterInformation=_;var C=function(){function e(e,t){this.label=e,this.documentation=t,this.parameters=[]}return e}();t.SignatureInformation=C;var w=function(){function e(){this.signatures=[]}return e}();t.SignatureHelp=w,function(e){e[e.Text=0]="Text",e[e.Method=1]="Method",e[e.Function=2]="Function",e[e.Constructor=3]="Constructor",e[e.Field=4]="Field",e[e.Variable=5]="Variable",e[e.Class=6]="Class",e[e.Interface=7]="Interface",e[e.Module=8]="Module",e[e.Property=9]="Property",e[e.Unit=10]="Unit",e[e.Value=11]="Value",e[e.Enum=12]="Enum",e[e.Keyword=13]="Keyword",e[e.Snippet=14]="Snippet",e[e.Color=15]="Color",e[e.File=16]="File",e[e.Reference=17]="Reference"}(t.CompletionItemKind||(t.CompletionItemKind={}));var I=t.CompletionItemKind,T=function(){function e(e,t){this.label=e,this.kind=t}return e.prototype.toJSON=function(){return{label:this.label,kind:I[this.kind],detail:this.detail,documentation:this.documentation,sortText:this.sortText,filterText:this.filterText,insertText:this.insertText,textEdit:this.textEdit}},e}();t.CompletionItem=T;var x=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=!1),this.items=e,this.isIncomplete=t}return e}();t.CompletionList=x,function(e){e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three"}(t.ViewColumn||(t.ViewColumn={}));t.ViewColumn;!function(e){e[e.Left=1]="Left",e[e.Right=2]="Right"}(t.StatusBarAlignment||(t.StatusBarAlignment={}));t.StatusBarAlignment;!function(e){e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(t.EndOfLine||(t.EndOfLine={}));t.EndOfLine;!function(e){e[e.Off=0]="Off",e[e.On=1]="On",e[e.Relative=2]="Relative"}(t.TextEditorLineNumbersStyle||(t.TextEditorLineNumbersStyle={}));t.TextEditorLineNumbersStyle;!function(e){e[e.Manual=1]="Manual",e[e.AfterDelay=2]="AfterDelay",e[e.FocusOut=3]="FocusOut"}(t.TextDocumentSaveReason||(t.TextDocumentSaveReason={}));t.TextDocumentSaveReason;!function(e){e[e.Default=0]="Default",e[e.InCenter=1]="InCenter",e[e.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport"}(t.TextEditorRevealType||(t.TextEditorRevealType={}));t.TextEditorRevealType;!function(e){e[e.Keyboard=1]="Keyboard",e[e.Mouse=2]="Mouse",e[e.Command=3]="Command"}(t.TextEditorSelectionChangeKind||(t.TextEditorSelectionChangeKind={}));var A,A=t.TextEditorSelectionChangeKind;!function(e){function t(t){switch(t){case"keyboard":return e.Keyboard;case"mouse":return e.Mouse;case"api":return e.Command}}e.fromValue=t}(A=t.TextEditorSelectionChangeKind||(t.TextEditorSelectionChangeKind={}));var D=function(){function e(e,t){if(t&&!(t instanceof n.default))throw i.illegalArgument("target");if(!s.isRange(e)||e.isEmpty)throw i.illegalArgument("range");this.range=e,this.target=t}return e}();t.DocumentLink=D}),define(l[871],h([1,0,10,11,5,17,189,15,46,870]),function(e,t,n,i,r,o,s,a,c,u){"use strict";function l(e,t){return!(e&&!t||!e&&t)&&(!e&&!t||e.tabSize===t.tabSize&&e.insertSpaces===t.insertSpaces)}function h(e,t){return e<t?-1:e>t?1:0}!function(e){e[e.Default=0]="Default",e[e.InCenter=1]="InCenter",e[e.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport"}(t.TextEditorRevealType||(t.TextEditorRevealType={}));var d=t.TextEditorRevealType,p=function(){function e(e,t,n,r,o){var s=this;this._id=e,this._model=t,this._codeEditor=null,this._focusTracker=r,this._modelService=o,this._codeEditorListeners=[],this._onSelectionChanged=new i.Emitter,this._onConfigurationChanged=new i.Emitter,this._lastSelection=[new c.Selection(1,1,1,1)],this._modelListeners=[],this._modelListeners.push(this._model.onDidChangeOptions(function(e){s._setConfiguration(s._readConfiguration(s._model,s._codeEditor))})),this.setCodeEditor(n),this._setConfiguration(this._readConfiguration(this._model,this._codeEditor))}return e.prototype.dispose=function(){this._model=null,this._modelListeners=r.dispose(this._modelListeners),this._codeEditor=null,this._codeEditorListeners=r.dispose(this._codeEditorListeners)},e.prototype.getId=function(){return this._id},e.prototype.getModel=function(){return this._model},e.prototype.hasCodeEditor=function(e){return this._codeEditor===e},e.prototype.setCodeEditor=function(e){var t=this;if(!this.hasCodeEditor(e)&&(this._codeEditorListeners=r.dispose(this._codeEditorListeners),this._codeEditor=e,this._codeEditor)){this._codeEditorListeners.push(this._codeEditor.onDidChangeModel(function(){t.setCodeEditor(null)}));var n=function(e){t._lastSelection=t._codeEditor.getSelections(),t._onSelectionChanged.fire({selections:t._lastSelection,source:e&&e.source})};this._codeEditorListeners.push(this._codeEditor.onDidChangeCursorSelection(n)),c.Selection.selectionsArrEqual(this._lastSelection,this._codeEditor.getSelections())||n(),this._codeEditorListeners.push(this._codeEditor.onDidFocusEditor(function(){t._focusTracker.onGainedFocus()})),this._codeEditorListeners.push(this._codeEditor.onDidBlurEditor(function(){t._focusTracker.onLostFocus()})),this._codeEditorListeners.push(this._codeEditor.onDidChangeConfiguration(function(){t._setConfiguration(t._readConfiguration(t._model,t._codeEditor))})),this._setConfiguration(this._readConfiguration(this._model,this._codeEditor))}},e.prototype.isVisible=function(){return!!this._codeEditor},Object.defineProperty(e.prototype,"onSelectionChanged",{get:function(){return this._onSelectionChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onConfigurationChanged",{get:function(){return this._onConfigurationChanged.event},enumerable:!0,configurable:!0}),e.prototype.getSelections=function(){return this._codeEditor?this._codeEditor.getSelections():this._lastSelection},e.prototype.setSelections=function(e){return this._codeEditor?void this._codeEditor.setSelections(e):(this._lastSelection=e.map(c.Selection.liftSelection),void console.warn("setSelections on invisble editor"))},e.prototype.getConfiguration=function(){return this._configuration},e.prototype._setIndentConfiguration=function(e){if("auto"===e.tabSize||"auto"===e.insertSpaces){var t=this._modelService.getCreationOptions(),n=t.insertSpaces,i=t.tabSize;return"auto"!==e.insertSpaces&&"undefined"!=typeof e.insertSpaces&&(n=e.insertSpaces),"auto"!==e.tabSize&&"undefined"!=typeof e.tabSize&&(i=e.tabSize),void this._model.detectIndentation(n,i)}var r={};"undefined"!=typeof e.insertSpaces&&(r.insertSpaces=e.insertSpaces),"undefined"!=typeof e.tabSize&&(r.tabSize=e.tabSize),this._model.updateOptions(r)},e.prototype.setConfiguration=function(e){if(this._setIndentConfiguration(e),e.cursorStyle){var t=n.cursorStyleToString(e.cursorStyle);if(!this._codeEditor)return void console.warn("setConfiguration on invisible editor");this._codeEditor.updateOptions({cursorStyle:t})}if("undefined"!=typeof e.lineNumbers){if(!this._codeEditor)return void console.warn("setConfiguration on invisible editor");var i=void 0;switch(e.lineNumbers){case u.TextEditorLineNumbersStyle.On:i="on";break;case u.TextEditorLineNumbersStyle.Relative:i="relative";break;default:i="off"}this._codeEditor.updateOptions({lineNumbers:i})}},e.prototype.setDecorations=function(e,t){return this._codeEditor?void this._codeEditor.setDecorations(e,t):void console.warn("setDecorations on invisible editor")},e.prototype.revealRange=function(e,t){return this._codeEditor?void(t===d.Default?this._codeEditor.revealRange(e):t===d.InCenter?this._codeEditor.revealRangeInCenter(e):t===d.InCenterIfOutsideViewport?this._codeEditor.revealRangeInCenterIfOutsideViewport(e):console.warn("Unknown revealType")):void console.warn("revealRange on invisible editor")},e.prototype._readConfiguration=function(e,t){if(e.isDisposed())return this._configuration;var i=this._configuration?this._configuration.cursorStyle:n.TextEditorCursorStyle.Line,r=this._configuration?this._configuration.lineNumbers:u.TextEditorLineNumbersStyle.On;if(t){var o=t.getConfiguration();i=o.viewInfo.cursorStyle,r=o.viewInfo.renderRelativeLineNumbers?u.TextEditorLineNumbersStyle.Relative:o.viewInfo.renderLineNumbers?u.TextEditorLineNumbersStyle.On:u.TextEditorLineNumbersStyle.Off}var s=e.getOptions();return{insertSpaces:s.insertSpaces,tabSize:s.tabSize,cursorStyle:i,lineNumbers:r}},e.prototype._setConfiguration=function(e){l(this._configuration,e)||(this._configuration=e,this._onConfigurationChanged.fire(this._configuration))},e.prototype.isFocused=function(){return!!this._codeEditor&&this._codeEditor.isFocused()},e.prototype.matches=function(e){return!!e&&e.getControl()===this._codeEditor},e.prototype.applyEdits=function(e,t,i){if(this._model.getVersionId()!==e)return console.warn("Model has changed in the meantime!"),!1;if(this._codeEditor){i.setEndOfLine===u.EndOfLine.CRLF?this._model.setEOL(n.EndOfLineSequence.CRLF):i.setEndOfLine===u.EndOfLine.LF&&this._model.setEOL(n.EndOfLineSequence.LF);var r=t.map(function(e){return{identifier:null,range:a.Range.lift(e.range),text:e.text,forceMoveMarkers:e.forceMoveMarkers}});return i.undoStopBefore&&this._codeEditor.pushUndoStop(),this._codeEditor.executeEdits("MainThreadTextEditor",r),i.undoStopAfter&&this._codeEditor.pushUndoStop(),!0}return console.warn("applyEdits on invisible editor"),!1},e}();t.MainThreadTextEditor=p;var f=function(){function e(e,t){var n=this;this._codeEditorService=e,this._modelService=t,this._toDispose=[],this._focusedTextEditorId=null,this._visibleTextEditorIds=[],this._editorModelChangeListeners=Object.create(null),this._model2TextEditors=Object.create(null),this._onTextEditorAdd=new i.Emitter,this._onTextEditorRemove=new i.Emitter,this._onDidUpdateTextEditors=new i.Emitter,this._onDidChangeFocusedTextEditor=new i.Emitter,this._focusTracker={onGainedFocus:function(){return n._updateFocusedTextEditor()},onLostFocus:function(){return n._updateFocusedTextEditor()}},this._modelService.onModelAdded(this._onModelAdded,this,this._toDispose),this._modelService.onModelRemoved(this._onModelRemoved,this,this._toDispose),this._codeEditorService.onCodeEditorAdd(this._onCodeEditorAdd,this,this._toDispose),this._codeEditorService.onCodeEditorRemove(this._onCodeEditorRemove,this,this._toDispose),this._updateMapping=new o.RunOnceScheduler(function(){return n._doUpdateMapping()},0),this._toDispose.push(this._updateMapping)}return e.prototype.dispose=function(){this._toDispose=r.dispose(this._toDispose)},e.prototype._onModelAdded=function(e){this._updateMapping.schedule()},e.prototype._onModelRemoved=function(e){this._updateMapping.schedule()},e.prototype._onCodeEditorAdd=function(e){var t=this;this._editorModelChangeListeners[e.getId()]=e.onDidChangeModel(function(e){return t._updateMapping.schedule()}),this._updateMapping.schedule()},e.prototype._onCodeEditorRemove=function(e){this._editorModelChangeListeners[e.getId()].dispose(),delete this._editorModelChangeListeners[e.getId()],this._updateMapping.schedule()},e.prototype._doUpdateMapping=function(){var t=this,n=this._modelService.getModels();n=n.filter(function(e){return!e.isTooLargeForHavingARichMode()});var i=Object.create(null);n.forEach(function(e){i[e.uri.toString()]=e}),Object.keys(this._model2TextEditors).forEach(function(e){if(!i[e]){var n=t._model2TextEditors[e];delete t._model2TextEditors[e];for(var r=0;r<n.length;r++)t._onTextEditorRemove.fire(n[r]),n[r].dispose()}});var r=this._getVisibleModels();Object.keys(r).forEach(function(n){var i=r[n].model,o=r[n].codeEditors;t._model2TextEditors[n]||(t._model2TextEditors[n]=[]);for(var s=t._model2TextEditors[n];s.length>o.length;){var a=s.pop();t._onTextEditorRemove.fire(a),a.dispose()}for(var c=0;c<s.length;c++)s[c].setCodeEditor(o[c]);for(var c=s.length;c<o.length;c++){var u=new p(e._Ids.nextId(),i,o[c],t._focusTracker,t._modelService);s.push(u),t._onTextEditorAdd.fire(u)}}),n.forEach(function(n){var i=n.uri.toString();if(!r[i]){t._model2TextEditors[i]||(t._model2TextEditors[i]=[]);for(var o=t._model2TextEditors[i];o.length>1;){var s=o.pop();t._onTextEditorRemove.fire(s),s.dispose()}if(0===o.length){var a=new p(e._Ids.nextId(),n,null,t._focusTracker,t._modelService);o.push(a),t._onTextEditorAdd.fire(a)}else o[0].setCodeEditor(null)}}),this._printState(),this._visibleTextEditorIds=this._findVisibleTextEditorIds(),this._updateFocusedTextEditor(),this._onDidUpdateTextEditors.fire(void 0)},e.prototype._updateFocusedTextEditor=function(){this._setFocusedTextEditorId(this._findFocusedTextEditorId())},e.prototype._findFocusedTextEditorId=function(){for(var e=Object.keys(this._model2TextEditors),t=0,n=e.length;t<n;t++)for(var i=this._model2TextEditors[e[t]],r=0,o=i.length;r<o;r++)if(i[r].isFocused())return i[r].getId();return null},e.prototype._findVisibleTextEditorIds=function(){for(var e=[],t=Object.keys(this._model2TextEditors),n=0,i=t.length;n<i;n++)for(var r=this._model2TextEditors[t[n]],o=0,s=r.length;o<s;o++)r[o].isVisible()&&e.push(r[o].getId());return e.sort(),e},e.prototype._setFocusedTextEditorId=function(e){this._focusedTextEditorId!==e&&(this._focusedTextEditorId=e,this._printState(),this._onDidChangeFocusedTextEditor.fire(this._focusedTextEditorId))},e.prototype._printState=function(){},e.prototype._getVisibleModels=function(){var e=this,t={},n=this._codeEditorService.listCodeEditors();return n.sort(function(e,t){return h(e.getId(),t.getId())}),n.forEach(function(n){var i=n.getModel();if(i&&!i.isTooLargeForHavingARichMode()&&e._modelService.getModel(i.uri)){var r=i.uri.toString();t[r]=t[r]||{model:i,codeEditors:[]},t[r].codeEditors.push(n)}}),t},e.prototype.getFocusedTextEditorId=function(){return this._focusedTextEditorId},e.prototype.getVisibleTextEditorIds=function(){return this._visibleTextEditorIds},Object.defineProperty(e.prototype,"onTextEditorAdd",{get:function(){return this._onTextEditorAdd.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTextEditorRemove",{get:function(){return this._onTextEditorRemove.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidUpdateTextEditors",{get:function(){return this._onDidUpdateTextEditors.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onChangedFocusedTextEditor",{get:function(){return this._onDidChangeFocusedTextEditor.event},enumerable:!0,configurable:!0}),e.prototype.findTextEditorIdFor=function(e){for(var t=Object.keys(this._model2TextEditors),n=0,i=t.length;n<i;n++)for(var r=this._model2TextEditors[t[n]],o=0,s=r.length;o<s;o++)if(r[o].hasCodeEditor(e))return r[o].getId();return null},e.prototype.registerTextEditorDecorationType=function(e,t){this._codeEditorService.registerDecorationType(e,t)},e.prototype.removeTextEditorDecorationType=function(e){this._codeEditorService.removeDecorationType(e)},e._Ids=new s.IdGenerator(""),e}();t.MainThreadEditorsTracker=f}),define(l[68],h([1,0,2,14,21,108,43]),function(e,t,n,i,r,o,s){"use strict";function a(e){if(!e.length)return e;for(var t=0;t<e.length;t++){var n=e[t];r.isUndefinedOrNull(n.order)&&(n.order=t)}e=e.sort(function(e,t){var n=e.order,i=t.order;return n<i?-1:n>i?1:0});for(var i=-1,o=0;o<e.length;o++)if(e[o].id!==s.Separator.ID){i=o;break}if(i===-1)return[];e=e.slice(i);for(var a=e.length-1;a>=0;a--){var c=e[a].id===s.Separator.ID;if(!c)break;e.splice(a,1)}for(var u=!1,l=e.length-1;l>=0;l--){var c=e[l].id===s.Separator.ID;c&&!u?e.splice(l,1):c?c&&(u=!1):u=!0}return e}var c=function(){function e(){}return e.prototype.hasActions=function(e){return!1},e.prototype.getActions=function(e){return[]},e.prototype.hasSecondaryActions=function(e){return!1;
},e.prototype.getSecondaryActions=function(e){return[]},e.prototype.getActionItem=function(e,t){return null},e}();t.ActionBarContributor=c,t.Scope={GLOBAL:"global",VIEWLET:"viewlet",PANEL:"panel",EDITOR:"editor",VIEWER:"viewer"};var u=function(){function e(){this.registry=i.Registry.as(t.Extensions.Actionbar)}return e.prototype.toContext=function(e,t){return{viewer:e,element:t}},e.prototype.hasActions=function(e,n){for(var i=this.toContext(e,n),r=this.registry.getActionBarContributors(t.Scope.VIEWER),o=0;o<r.length;o++){var s=r[o];if(s.hasActions(i))return!0}return!1},e.prototype.getActions=function(e,i){for(var r=[],o=this.toContext(e,i),s=this.registry.getActionBarContributors(t.Scope.VIEWER),c=0;c<s.length;c++){var u=s[c];u.hasActions(o)&&r.push.apply(r,u.getActions(o))}return n.TPromise.as(a(r))},e.prototype.hasSecondaryActions=function(e,n){for(var i=this.toContext(e,n),r=this.registry.getActionBarContributors(t.Scope.VIEWER),o=0;o<r.length;o++){var s=r[o];if(s.hasSecondaryActions(i))return!0}return!1},e.prototype.getSecondaryActions=function(e,i){for(var r=[],o=this.toContext(e,i),s=this.registry.getActionBarContributors(t.Scope.VIEWER),c=0;c<s.length;c++){var u=s[c];u.hasSecondaryActions(o)&&r.push.apply(r,u.getSecondaryActions(o))}return n.TPromise.as(a(r))},e.prototype.getActionItem=function(e,n,i){for(var r=this.registry.getActionBarContributors(t.Scope.VIEWER),o=this.toContext(e,n),s=r.length-1;s>=0;s--){var a=r[s],c=a.getActionItem(o,i);if(c)return c}return null},e}();t.ContributableActionProvider=u,t.prepareActions=a,t.Extensions={Actionbar:"workbench.contributions.actionbar"};var l=function(){function e(){this.actionBarContributorConstructors=[],this.actionBarContributorInstances={}}return e.prototype.setInstantiationService=function(e){for(this.instantiationService=e;this.actionBarContributorConstructors.length>0;){var t=this.actionBarContributorConstructors.shift();this.createActionBarContributor(t.scope,t.ctor)}},e.prototype.createActionBarContributor=function(e,t){var n=this.instantiationService.createInstance(t),i=o.lookupOrInsert(this.actionBarContributorInstances,e,[]);i.push(n)},e.prototype.getContributors=function(e){return o.lookup(this.actionBarContributorInstances,e,[])},e.prototype.getActionBarActionsForContext=function(e,t){var n=[];return this.getContributors(e).forEach(function(e){e.hasActions(t)&&n.push.apply(n,e.getActions(t))}),n},e.prototype.getSecondaryActionBarActionsForContext=function(e,t){var n=[];return this.getContributors(e).forEach(function(e){e.hasSecondaryActions(t)&&n.push.apply(n,e.getSecondaryActions(t))}),n},e.prototype.getActionItemForContext=function(e,t,n){for(var i=this.getContributors(e),r=0;r<i.length;r++){var o=i[r],s=o.getActionItem(t,n);if(s)return s}return null},e.prototype.registerActionBarContributor=function(e,t){this.instantiationService?this.createActionBarContributor(e,t):this.actionBarContributorConstructors.push({scope:e,ctor:t})},e.prototype.getActionBarContributors=function(e){return this.getContributors(e).slice(0)},e}();i.Registry.add(t.Extensions.Actionbar,new l)}),define(l[175],h([1,0,14,201,87]),function(e,t,n,i,r){"use strict";t.StatusbarAlignment=i.StatusbarAlignment;var o=function(){function e(e,n,i){this.syncDescriptor=r.createSyncDescriptor(e),this.alignment=n||t.StatusbarAlignment.LEFT,this.priority=i||0}return e}();t.StatusbarItemDescriptor=o;var s=function(){function e(){this._items=[]}return Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),e.prototype.registerStatusbarItem=function(e){this._items.push(e)},e}();t.Extensions={Statusbar:"workbench.contributions.statusbar"},n.Registry.add(t.Extensions.Statusbar,new s)}),define(l[71],h([1,0,14]),function(e,t,n){"use strict";var i;!function(e){e.Workbench="workbench.contributions.kind"}(i=t.Extensions||(t.Extensions={}));var r=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.registerWorkbenchContribution=function(t){e.prototype._register.call(this,t)},t.prototype.getWorkbenchContributions=function(){return e.prototype._getInstances.call(this)},t.prototype.setWorkbenchContributions=function(t){e.prototype._setInstances.call(this,t)},t}(n.BaseRegistry);n.Registry.add(i.Workbench,new r)}),define(l[28],h([1,0,2,11,30,21,16,5,19]),function(e,t,n,i,r,o,s,a,c){"use strict";function u(e,t){if(!e)return null;if(e instanceof v)return e.getResource();var n=p(e,t);return n&&n.getResource()}function l(e){if(e instanceof g&&"function"==typeof e.getResource){var t=e.getResource();if(t instanceof s.default)return t}return u(e,!0)}function h(e,t){var n=[];return e.getStacksModel().groups.forEach(function(e){var i=e.getEditors();i.forEach(function(e){var i=p(e,!0);i&&!t.isInsideWorkspace(i.getResource())&&n.push(i.getResource())})}),n}function p(e,t){if(!e)return null;t&&e instanceof m&&(e=e.master);var n=e;return n instanceof g&&o.areFunctions(n.setResource,n.setEncoding,n.getEncoding,n.getResource,n.setPreferredEncoding)?n:null}!function(e){e[e.SAVE=0]="SAVE",e[e.DONT_SAVE=1]="DONT_SAVE",e[e.CANCEL=2]="CANCEL"}(t.ConfirmResult||(t.ConfirmResult={}));var f=t.ConfirmResult;t.Extensions={Editors:"workbench.contributions.editors"},t.TEXT_DIFF_EDITOR_ID="workbench.editors.textDiffEditor",t.BINARY_DIFF_EDITOR_ID="workbench.editors.binaryResourceDiffEditor";var g=function(){function e(){this._onDidChangeDirty=new i.Emitter,this._onDidChangeLabel=new i.Emitter,this._onDispose=new i.Emitter,this.disposed=!1}return Object.defineProperty(e.prototype,"onDidChangeDirty",{get:function(){return this._onDidChangeDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeLabel",{get:function(){return this._onDidChangeLabel.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!0,configurable:!0}),e.prototype.getName=function(){return null},e.prototype.getDescription=function(e){return null},e.prototype.getPreferredEditorId=function(e){return e&&e.length>0?e[0]:null},e.prototype.getTelemetryDescriptor=function(){return{typeId:this.getTypeId()}},e.prototype.isDirty=function(){return!1},e.prototype.confirmSave=function(){return f.DONT_SAVE},e.prototype.save=function(){return n.TPromise.as(!0)},e.prototype.revert=function(){return n.TPromise.as(!0)},e.prototype.close=function(){this.dispose()},e.prototype.supportsSplitEditor=function(){return!0},e.prototype.matches=function(e){return this===e},e.prototype.dispose=function(){this.disposed=!0,this._onDispose.fire(),this._onDidChangeDirty.dispose(),this._onDidChangeLabel.dispose(),this._onDispose.dispose()},e.prototype.isDisposed=function(){return this.disposed},e}();t.EditorInput=g,function(e){e[e.Encode=0]="Encode",e[e.Decode=1]="Decode"}(t.EncodingMode||(t.EncodingMode={}));var v=(t.EncodingMode,function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getTelemetryDescriptor=function(){var t=e.prototype.getTelemetryDescriptor.call(this);return t.resource=c.telemetryURIDescriptor(this.getResource()),t},t}(g));t.UntitledEditorInput=v;var m=function(e){function t(t,n,i,r){e.call(this),this.name=t,this.description=n,this._details=i,this._master=r,this._toUnbind=[],this.registerListeners()}return d(t,e),Object.defineProperty(t.prototype,"master",{get:function(){return this._master},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"details",{get:function(){return this._details},enumerable:!0,configurable:!0}),t.prototype.isDirty=function(){return this.master.isDirty()},t.prototype.confirmSave=function(){return this.master.confirmSave()},t.prototype.save=function(){return this.master.save()},t.prototype.revert=function(){return this.master.revert()},t.prototype.getTelemetryDescriptor=function(){var t=this.master.getTelemetryDescriptor();return r.assign(t,e.prototype.getTelemetryDescriptor.call(this))},t.prototype.registerListeners=function(){var e=this,t=i.once(this.details.onDispose);this._toUnbind.push(t(function(){e.isDisposed()||e.dispose()}));var n=i.once(this.master.onDispose);this._toUnbind.push(n(function(){e.isDisposed()||e.dispose()})),this._toUnbind.push(this.master.onDidChangeDirty(function(){return e._onDidChangeDirty.fire()})),this._toUnbind.push(this.master.onDidChangeLabel(function(){return e._onDidChangeLabel.fire()}))},Object.defineProperty(t.prototype,"toUnbind",{get:function(){return this._toUnbind},enumerable:!0,configurable:!0}),t.prototype.resolve=function(e){return n.TPromise.as(null)},t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return this.name},t.prototype.getDescription=function(){return this.description},t.prototype.supportsSplitEditor=function(){return!1},t.prototype.matches=function(n){if(e.prototype.matches.call(this,n)===!0)return!0;if(n){if(!(n instanceof t))return!1;var i=n;return this.details.matches(i.details)&&this.master.matches(i.master)}return!1},t.prototype.dispose=function(){this._toUnbind=a.dispose(this._toUnbind),e.prototype.dispose.call(this)},t.ID="workbench.editorinputs.sidebysideEditorInput",t}(g);t.SideBySideEditorInput=m;var y=function(){function e(){this._onDispose=new i.Emitter}return Object.defineProperty(e.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!0,configurable:!0}),e.prototype.load=function(){return n.TPromise.as(this)},e.prototype.isResolved=function(){return!0},e.prototype.dispose=function(){this._onDispose.fire(),this._onDispose.dispose()},e}();t.EditorModel=y;var b=function(){function e(){}return e.create=function(t){var n=new e;return n.preserveFocus=t.preserveFocus,n.forceOpen=t.forceOpen,n.revealIfVisible=t.revealIfVisible,n.pinned=t.pinned,n.index=t.index,n.inactive=t.inactive,n},e.prototype.mixin=function(e){e&&(this.preserveFocus=e.preserveFocus,this.forceOpen=e.forceOpen,this.revealIfVisible=e.revealIfVisible,this.pinned=e.pinned,this.index=e.index,this.inactive=e.inactive)},e}();t.EditorOptions=b;var S=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.from=function(e){var n=null;if(e&&e.options){if((e.options.selection||e.options.forceOpen||e.options.revealIfVisible||e.options.preserveFocus||e.options.pinned||e.options.inactive||"number"==typeof e.options.index)&&(n=new t),e.options.selection){var i=e.options.selection;n.selection(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)}e.options.forceOpen&&(n.forceOpen=!0),e.options.revealIfVisible&&(n.revealIfVisible=!0),e.options.preserveFocus&&(n.preserveFocus=!0),e.options.pinned&&(n.pinned=!0),e.options.inactive&&(n.inactive=!0),"number"==typeof e.options.index&&(n.index=e.options.index)}return n},t.create=function(e){var n=new t;return n.preserveFocus=e.preserveFocus,n.forceOpen=e.forceOpen,n.revealIfVisible=e.revealIfVisible,n.pinned=e.pinned,n.index=e.index,e.selection&&(n.startLineNumber=e.selection.startLineNumber,n.startColumn=e.selection.startColumn,n.endLineNumber=e.selection.endLineNumber||e.selection.startLineNumber,n.endColumn=e.selection.endColumn||e.selection.startColumn),n},t.prototype.hasOptionsDefined=function(){return!!this.editorViewState||!o.isUndefinedOrNull(this.startLineNumber)&&!o.isUndefinedOrNull(this.startColumn)},t.prototype.selection=function(e,t,n,i){return void 0===n&&(n=e),void 0===i&&(i=t),this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=i,this},t.prototype.fromEditor=function(e){this.editorViewState=e.saveViewState();var t=e;if("function"==typeof t.getConfiguration){var n=t.getConfiguration();n&&n.viewInfo&&n.wrappingInfo&&(this.editorOptions=Object.create(null),this.editorOptions.renderWhitespace=n.viewInfo.renderWhitespace,this.editorOptions.renderControlCharacters=n.viewInfo.renderControlCharacters,this.editorOptions.wrappingColumn=n.wrappingInfo.isViewportWrapping?0:-1)}},t.prototype.apply=function(e){return this.editorOptions&&e.updateOptions(this.editorOptions),this.applyViewState(e)},t.prototype.applyViewState=function(e){var t=!1;if(this.editorViewState)e.restoreViewState(this.editorViewState),t=!0;else if(!o.isUndefinedOrNull(this.startLineNumber)&&!o.isUndefinedOrNull(this.startColumn)){if(o.isUndefinedOrNull(this.endLineNumber)||o.isUndefinedOrNull(this.endColumn)){var n={lineNumber:this.startLineNumber,column:this.startColumn};e.setPosition(n),e.revealPositionInCenter(n)}else{var i={startLineNumber:this.startLineNumber,startColumn:this.startColumn,endLineNumber:this.endLineNumber,endColumn:this.endColumn};e.setSelection(i),e.revealRangeInCenter(i)}t=!0}return t},t}(b);t.TextEditorOptions=S;var E=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.create=function(e){var n=new t;return n.autoRevealFirstChange=e.autoRevealFirstChange,n.preserveFocus=e.preserveFocus,n.forceOpen=e.forceOpen,n.revealIfVisible=e.revealIfVisible,n.pinned=e.pinned,n.index=e.index,e.selection&&(n.startLineNumber=e.selection.startLineNumber,n.startColumn=e.selection.startColumn,n.endLineNumber=e.selection.endLineNumber||e.selection.startLineNumber,n.endColumn=e.selection.endColumn||e.selection.startColumn),n},t}(S);t.TextDiffEditorOptions=E,t.getUntitledOrFileResource=u,t.getResource=l,t.getOutOfWorkspaceEditorResources=h,t.asFileEditorInput=p,t.EditorOpenPositioning={LEFT:"left",RIGHT:"right",FIRST:"first",LAST:"last"},t.ActiveEditorMovePositioning={FIRST:"first",LAST:"last",LEFT:"left",RIGHT:"right",CENTER:"center",POSITION:"position"},t.ActiveEditorMovePositioningBy={TAB:"tab",GROUP:"group"},t.EditorCommands={MoveActiveEditor:"moveActiveEditor"}}),define(l[138],h([1,0,20,281,75,54,28,81,133,26,25,5,40]),function(e,t,n,i,r,o,s,a,c,u,l,h,p){"use strict";function f(e,t,i,r){var o,s;if(i){o=i.fsPath;var a=e.getModel(i);if(a){var u=a.getModeId();u&&u!==c.PLAINTEXT_MODE_ID&&(s=u)}}var l=r?["folder-icon"]:["file-icon"];if(o){var h=n.basename(o),d=h.split(".");if(r)h&&l.push(h.toLowerCase()+"-name-folder-icon");else{var p=d[0];p&&l.push(m(p.toLowerCase())+"-name-file-icon");var f=d.splice(1);if(f.length>0)for(var g=0;g<f.length;g++)l.push(m(f.slice(g).join(".").toLowerCase())+"-ext-file-icon");s=s||t.getModeIdByFilenameOrFirstLine(o),s&&l.push(m(s)+"-lang-file-icon")}}return l}function m(e){return e.replace(/\s/g,"\\$&")}var y=function(e){function t(t,n,i,r,o,s,a){e.call(this,t,n),this.extensionService=i,this.contextService=r,this.configurationService=o,this.modeService=s,this.modelService=a,this.toDispose=[],this.registerListeners()}return d(t,e),t.prototype.registerListeners=function(){var e=this;this.extensionService.onReady().then(function(){return e.render()}),this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(){return e.render()}))},t.prototype.setLabel=function(e,t){this.label=e,this.options=t,this.render()},t.prototype.clear=function(){this.label=void 0,this.options=void 0,this.setValue()},t.prototype.render=function(){if(this.label){var e=this.label.resource,t="";this.options&&this.options.title?t=this.options.title:e&&(t=a.getPathLabel(e.fsPath));var n=f(this.modelService,this.modeService,e,this.options&&this.options.isFolder);this.options&&this.options.extraClasses&&n.push.apply(n,this.options.extraClasses);var i=this.options&&this.options.italic,r=this.options&&this.options.matches;this.setValue(this.label.name,this.label.description,{title:t,extraClasses:n,italic:i,matches:r})}},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.toDispose=h.dispose(this.toDispose),this.label=void 0,this.options=void 0},t=g([v(2,r.IExtensionService),v(3,u.IWorkspaceContextService),v(4,l.IConfigurationService),v(5,o.IModeService),v(6,p.IModelService)],t)}(i.IconLabel);t.ResourceLabel=y;var b=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.setEditor=function(e,t){this.setLabel({resource:s.getResource(e),name:e.getName(),description:e.getDescription()},t)},t}(y);t.EditorLabel=b;var S=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.setFile=function(e,t){void 0===t&&(t=Object.create(null)),this.setLabel({resource:e,name:t.hideLabel?void 0:n.basename(e.fsPath),description:t.hidePath?void 0:a.getPathLabel(n.dirname(e.fsPath),this.contextService)},t)},t}(y);t.FileLabel=S,t.getIconClasses=f}),define(l[210],h([1,0,28,33]),function(e,t,n,i){"use strict";var r=function(e){function t(t,n,i){e.call(this),this.fileService=i,this.name=n,this.resource=t}return d(t,e),t.prototype.getName=function(){return this.name},t.prototype.getResource=function(){return this.resource},t.prototype.getSize=function(){return this.size},t.prototype.getETag=function(){return this.etag},t.prototype.load=function(){var e=this;return this.fileService.resolveFile(this.resource).then(function(t){return e.etag=t.etag,e.size=t.size,e})},t=g([v(2,i.IFileService)],t)}(n.EditorModel);t.BinaryEditorModel=r}),define(l[384],h([1,0,2,28]),function(e,t,n,i){"use strict";var r=function(e){function t(t,n){e.call(this),this._originalModel=t,this._modifiedModel=n}return d(t,e),Object.defineProperty(t.prototype,"originalModel",{get:function(){return this._originalModel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modifiedModel",{get:function(){return this._modifiedModel},enumerable:!0,configurable:!0}),t.prototype.load=function(){var e=this;return n.TPromise.join([this._originalModel.load(),this._modifiedModel.load()]).then(function(){return e})},t.prototype.isResolved=function(){return this._originalModel.isResolved()&&this._modifiedModel.isResolved()},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(i.EditorModel);t.DiffEditorModel=r}),define(l[385],h([1,0,11,28,38,6,25,69,5,14,66]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";var h=function(){function e(t,i,r){this.instantiationService=i,this.configurationService=r,this._id=e.IDS++,this.editors=[],this.mru=[],this.toDispose=[],this.mapResourceToEditorCount=Object.create(null),this.onConfigurationUpdated(r.getConfiguration()),this._onEditorActivated=new n.Emitter,this._onEditorOpened=new n.Emitter,this._onEditorClosed=new n.Emitter,this._onEditorDisposed=new n.Emitter,this._onEditorDirty=new n.Emitter,this._onEditorLabelChange=new n.Emitter,this._onEditorMoved=new n.Emitter,this._onEditorPinned=new n.Emitter,this._onEditorUnpinned=new n.Emitter,this._onEditorStateChanged=new n.Emitter,this._onEditorsStructureChanged=new n.Emitter,this.toDispose.push(this._onEditorActivated,this._onEditorOpened,this._onEditorClosed,this._onEditorDisposed,this._onEditorDirty,this._onEditorLabelChange,this._onEditorMoved,this._onEditorPinned,this._onEditorUnpinned,this._onEditorStateChanged,this._onEditorsStructureChanged),"object"==typeof t?this.deserialize(t):this._label=t,this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationUpdated(t.config)}))},e.prototype.onConfigurationUpdated=function(e){e&&e.workbench&&e.workbench.editor&&(this.editorOpenPositioning=e.workbench.editor.openPositioning)},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){this._label=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this.editors.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorActivated",{get:function(){return this._onEditorActivated.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorOpened",{get:function(){return this._onEditorOpened.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorClosed",{get:function(){return this._onEditorClosed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorDisposed",{get:function(){return this._onEditorDisposed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorDirty",{get:function(){return this._onEditorDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorLabelChange",{get:function(){return this._onEditorLabelChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorMoved",{get:function(){return this._onEditorMoved.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorPinned",{get:function(){return this._onEditorPinned.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorUnpinned",{get:function(){return this._onEditorUnpinned.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorStateChanged",{get:function(){return this._onEditorStateChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorsStructureChanged",{get:function(){return this._onEditorsStructureChanged.event},enumerable:!0,configurable:!0}),e.prototype.getEditors=function(e){return e?this.mru.slice(0):this.editors.slice(0)},e.prototype.getEditor=function(e){if("number"==typeof e)return this.editors[e];var t=e;if(!this.contains(t))return null;for(var n=0;n<this.editors.length;n++){var r=this.editors[n],o=i.getResource(r);if(o&&o.toString()===t.toString())return r}return null},Object.defineProperty(e.prototype,"activeEditor",{get:function(){return this.active},enumerable:!0,configurable:!0}),e.prototype.isActive=function(e){return this.matches(this.active,e)},Object.defineProperty(e.prototype,"previewEditor",{get:function(){return this.preview},enumerable:!0,configurable:!0}),e.prototype.isPreview=function(e){return this.matches(this.preview,e)},e.prototype.openEditor=function(e,t){var n=this.indexOf(e),r=t&&t.pinned,o=t&&t.active||!this.activeEditor||!r&&this.matches(this.preview,this.activeEditor);if(n===-1){var s=void 0,a=this.indexOf(this.active);if(s=t&&"number"==typeof t.index?t.index:this.editorOpenPositioning===i.EditorOpenPositioning.FIRST?0:this.editorOpenPositioning===i.EditorOpenPositioning.LAST?this.editors.length:this.editorOpenPositioning===i.EditorOpenPositioning.LEFT?0!==a&&this.editors.length?a:0:a+1,!r&&this.preview||this.splice(s,!1,e),!r){if(this.preview){var c=this.indexOf(this.preview);s>c&&s--,this.closeEditor(this.preview,!o),this.splice(s,!1,e)}this.preview=e}this.hookEditorListeners(e),this.fireEvent(this._onEditorOpened,e,!0),o&&this.setActive(e)}else r&&this.pin(e),o&&this.setActive(e),t&&"number"==typeof t.index&&this.moveEditor(e,t.index)},e.prototype.hookEditorListeners=function(e){var t=this,i=[],r=n.once(e.onDispose);i.push(r(function(){t.indexOf(e)>=0&&t._onEditorDisposed.fire(e)})),i.push(e.onDidChangeDirty(function(){t.fireEvent(t._onEditorDirty,e,!1)})),i.push(e.onDidChangeLabel(function(){t.fireEvent(t._onEditorLabelChange,e,!1)})),i.push(this.onEditorClosed(function(t){t.editor.matches(e)&&c.dispose(i)}))},e.prototype.closeEditor=function(e,t){void 0===t&&(t=!0);var n=this.indexOf(e);if(n!==-1){t&&this.matches(this.active,e)&&(this.mru.length>1?this.setActive(this.mru[1]):this.active=null);var i=!0;this.matches(this.preview,e)&&(this.preview=null,i=!1),this.splice(n,!0),this.fireEvent(this._onEditorClosed,{editor:e,pinned:i,index:n},!0)}},e.prototype.closeEditors=function(e,t){var n=this,i=this.indexOf(e);if(i!==-1)if(t===l.Direction.LEFT)for(var r=i-1;r>=0;r--)this.closeEditor(this.editors[r]);else if(t===l.Direction.RIGHT)for(var r=this.editors.length-1;r>i;r--)this.closeEditor(this.editors[r]);else this.mru.filter(function(t){return!n.matches(t,e)}).forEach(function(e){return n.closeEditor(e)})},e.prototype.closeAllEditors=function(){var e=this;this.mru.filter(function(t){return!e.matches(t,e.active)}).forEach(function(t){return e.closeEditor(t)}),this.closeEditor(this.active)},e.prototype.moveEditor=function(e,t){var n=this.indexOf(e);n<0||(this.editors.splice(n,1),this.editors.splice(t,0,e),this.fireEvent(this._onEditorMoved,e,!0))},e.prototype.setActive=function(e){var t=this.indexOf(e);t!==-1&&(this.matches(this.active,e)||(this.active=e,this.setMostRecentlyUsed(e),this.fireEvent(this._onEditorActivated,e,!1)))},e.prototype.pin=function(e){var t=this.indexOf(e);t!==-1&&this.isPreview(e)&&(this.preview=null,this.fireEvent(this._onEditorPinned,e,!1))},e.prototype.unpin=function(e){var t=this.indexOf(e);if(t!==-1&&this.isPinned(e)){var n=this.preview;this.preview=e,this.fireEvent(this._onEditorUnpinned,e,!1),this.closeEditor(n)}},e.prototype.isPinned=function(e){var t=this.indexOf(e);return t!==-1&&(!this.preview||!this.matches(this.preview,e))},e.prototype.fireEvent=function(e,t,n){e.fire(t),n?this._onEditorsStructureChanged.fire(t instanceof i.EditorInput?t:t.editor):this._onEditorStateChanged.fire(t instanceof i.EditorInput?t:t.editor)},e.prototype.splice=function(e,t,n){var i=this.editors[e],r=[e,t?1:0];if(n&&r.push(n),this.editors.splice.apply(this.editors,r),!t&&n)this.mru.push(n),this.updateResourceMap(n,!1);else{var o=this.indexOf(i,this.mru);t&&!n?(this.mru.splice(o,1),this.updateResourceMap(i,!0)):(this.mru.splice(o,1,n),this.updateResourceMap(n,!1),this.updateResourceMap(i,!0))}},e.prototype.updateResourceMap=function(e,t){var n=i.getResource(e);if(n){var r=this.mapResourceToEditorCount[n.toString()]||0,o=void 0;t?r>1&&(o=r-1):o=r+1,this.mapResourceToEditorCount[n.toString()]=o}},e.prototype.indexOf=function(e,t){if(void 0===t&&(t=this.editors),!e)return-1;for(var n=0;n<t.length;n++)if(this.matches(t[n],e))return n;return-1},e.prototype.contains=function(e){if(e instanceof i.EditorInput)return this.indexOf(e)>=0;var t=this.mapResourceToEditorCount[e.toString()];return"number"==typeof t&&t>0},e.prototype.setMostRecentlyUsed=function(e){var t=this.indexOf(e);if(t!==-1){var n=this.indexOf(e,this.mru);this.mru.splice(n,1),this.mru.unshift(e)}},e.prototype.matches=function(e,t){return!!e&&!!t&&e.matches(t)},e.prototype.serialize=function(){var e,t=this,n=u.Registry.as(i.Extensions.Editors),r=[],o=[];this.editors.forEach(function(i){var s=n.getEditorInputFactory(i.getTypeId());if(s){var a=s.serialize(i);"string"==typeof a&&(o.push({id:i.getTypeId(),value:a}),r.push(i),t.preview===i&&(e=r.length-1))}});var s=this.mru.map(function(e){return t.indexOf(e,r)}).filter(function(e){return e>=0});return{label:this.label,editors:o,mru:s,preview:e}},e.prototype.deserialize=function(e){var t=this,n=u.Registry.as(i.Extensions.Editors);this._label=e.label,this.editors=e.editors.map(function(e){var i=n.getEditorInputFactory(e.id);if(i){var r=i.deserialize(t.instantiationService,e.value);return t.hookEditorListeners(r),t.updateResourceMap(r,!1),r}return null}).filter(function(e){return!!e}),this.mru=e.mru.map(function(e){return t.editors[e]}),this.active=this.mru[0],this.preview=this.editors[e.preview]},e.prototype.dispose=function(){c.dispose(this.toDispose)},e.IDS=0,e=g([v(1,o.IInstantiationService),v(2,s.IConfigurationService)],e)}();t.EditorGroup=h;var d=function(){function e(e,t,i,r){this.restoreFromStorage=e,this.storageService=t,this.lifecycleService=i,this.instantiationService=r,this.toDispose=[],this._groups=[],this.groupToIdentifier=Object.create(null),this._onGroupOpened=new n.Emitter,this._onGroupClosed=new n.Emitter,this._onGroupActivated=new n.Emitter,this._onGroupDeactivated=new n.Emitter,this._onGroupMoved=new n.Emitter,this._onGroupRenamed=new n.Emitter,this._onModelChanged=new n.Emitter,this._onEditorDisposed=new n.Emitter,this._onEditorDirty=new n.Emitter,this._onEditorLabelChange=new n.Emitter,this._onEditorOpened=new n.Emitter,this._onEditorClosed=new n.Emitter,this.toDispose.push(this._onGroupOpened,this._onGroupClosed,this._onGroupActivated,this._onGroupDeactivated,this._onGroupMoved,this._onGroupRenamed,this._onModelChanged,this._onEditorDisposed,this._onEditorDirty,this._onEditorLabelChange,this._onEditorClosed),this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.lifecycleService.onShutdown(function(t){return e.onShutdown()}))},Object.defineProperty(e.prototype,"onGroupOpened",{get:function(){return this._onGroupOpened.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onGroupClosed",{get:function(){return this._onGroupClosed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onGroupActivated",{get:function(){return this._onGroupActivated.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onGroupDeactivated",{get:function(){return this._onGroupDeactivated.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onGroupMoved",{get:function(){return this._onGroupMoved.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onGroupRenamed",{get:function(){return this._onGroupRenamed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelChanged",{get:function(){return this._onModelChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorDisposed",{get:function(){return this._onEditorDisposed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorDirty",{get:function(){return this._onEditorDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorLabelChange",{get:function(){return this._onEditorLabelChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorOpened",{get:function(){return this._onEditorOpened.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorClosed",{get:function(){return this._onEditorClosed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this.ensureLoaded(),this._groups.slice(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeGroup",{get:function(){return this.ensureLoaded(),this._activeGroup},enumerable:!0,configurable:!0}),e.prototype.isActive=function(e){return this.activeGroup===e},e.prototype.getGroup=function(e){return this.ensureLoaded(),this.groupToIdentifier[e]},e.prototype.openGroup=function(e,t,n){void 0===t&&(t=!0),this.ensureLoaded();var i=this.doCreateGroup(e);return"number"==typeof n?this._groups[n]=i:this._activeGroup?this._groups.splice(this.indexOf(this._activeGroup)+1,0,i):this._groups.push(i),this.fireEvent(this._onGroupOpened,i,!0),this._activeGroup&&!t||this.setActive(i),i},e.prototype.renameGroup=function(e,t){this.ensureLoaded(),e.label!==t&&(e.label=t,this.fireEvent(this._onGroupRenamed,e,!1))},e.prototype.closeGroup=function(e){this.ensureLoaded();var t=this.indexOf(e);if(!(t<0)){if(e===this._activeGroup)if(this._groups.length>1){var n=void 0;n=this._groups.length>t+1?this._groups[t+1]:this._groups[t-1],this.setActive(n)}else this._activeGroup=null;e.closeAllEditors(),e.dispose(),this._groups.splice(t,1),this.groupToIdentifier[e.id]=void 0,this.fireEvent(this._onGroupClosed,e,!0);for(var i=t;i<this._groups.length;i++)this.fireEvent(this._onGroupMoved,this._groups[i],!0)}},e.prototype.closeGroups=function(e){var t=this;this.ensureLoaded(),this.groups.filter(function(n){return n!==t._activeGroup&&n!==e}).forEach(function(e){return t.closeGroup(e)}),this._activeGroup!==e&&this.closeGroup(this._activeGroup)},e.prototype.setActive=function(e){if(this.ensureLoaded(),this._activeGroup!==e){var t=this._activeGroup;this._activeGroup=e,this.fireEvent(this._onGroupActivated,e,!1),t&&this.fireEvent(this._onGroupDeactivated,t,!1)}},e.prototype.moveGroup=function(e,t){this.ensureLoaded();var n=this.indexOf(e);if(!(n<0)){this._groups.splice(n,1),this._groups.splice(t,0,e);for(var i=Math.min(n,t);i<=Math.max(n,t)&&i<this._groups.length;i++)this.fireEvent(this._onGroupMoved,this._groups[i],!0)}},e.prototype.indexOf=function(e){return this._groups.indexOf(e)},e.prototype.positionOfGroup=function(e){return this.indexOf(e)},e.prototype.groupAt=function(e){return this.ensureLoaded(),this._groups[e]},e.prototype.next=function(e){if(this.ensureLoaded(),!this.activeGroup)return null;var t=this.activeGroup.indexOf(this.activeGroup.activeEditor);
if(t+1<this.activeGroup.count)return{group:this.activeGroup,editor:this.activeGroup.getEditor(t+1)};if(!e)return{group:this.activeGroup,editor:this.activeGroup.getEditor(0)};var n=this.indexOf(this.activeGroup),i=this.groups[n+1];if(i)return{group:i,editor:i.getEditor(0)};var r=this.groups[0];return{group:r,editor:r.getEditor(0)}},e.prototype.previous=function(e){if(this.ensureLoaded(),!this.activeGroup)return null;var t=this.activeGroup.indexOf(this.activeGroup.activeEditor);if(t>0)return{group:this.activeGroup,editor:this.activeGroup.getEditor(t-1)};if(!e)return{group:this.activeGroup,editor:this.activeGroup.getEditor(this.activeGroup.count-1)};var n=this.indexOf(this.activeGroup),i=this.groups[n-1];if(i)return{group:i,editor:i.getEditor(i.count-1)};var r=this.groups[this.groups.length-1];return{group:r,editor:r.getEditor(r.count-1)}},e.prototype.save=function(){var t=this.serialize();this.storageService.store(e.STORAGE_KEY,JSON.stringify(t),r.StorageScope.WORKSPACE)},e.prototype.serialize=function(){var e,t=this._groups.map(function(e){return e.serialize()}).filter(function(e){return e.editors.length>0});return t.length>0&&(e=t.length===this._groups.length?this.indexOf(this._activeGroup):0),{groups:t,active:e}},e.prototype.fireEvent=function(e,t,n){e.fire(t),this._onModelChanged.fire({group:t,structural:n})},e.prototype.ensureLoaded=function(){this.loaded||(this.loaded=!0,this.load())},e.prototype.load=function(){var t=this;if(this.restoreFromStorage){var n=this.storageService.get(e.STORAGE_KEY,r.StorageScope.WORKSPACE);if(n){var i=JSON.parse(n),o=this.doValidate(i);if(o)return console.warn("Ignoring invalid stacks model (Error code: "+o+"): "+JSON.stringify(i)),void console.warn(i);this._groups=i.groups.map(function(e){return t.doCreateGroup(e)}),this._activeGroup=this._groups[i.active]}}},e.prototype.doValidate=function(e){return e.groups.length||"number"!=typeof e.active?e.groups.length&&!e.groups[e.active]?2:e.groups.length>3?3:e.groups.some(function(e){return!e.editors.length})?4:e.groups.some(function(e){return e.editors.length!==e.mru.length})?5:e.groups.some(function(e){return"number"==typeof e.preview&&!e.editors[e.preview]})?6:e.groups.some(function(e){return!e.label})?7:0:1},e.prototype.doCreateGroup=function(e){var t=this,n=this.instantiationService.createInstance(h,e);this.groupToIdentifier[n.id]=n;var i=[];return i.push(n.onEditorsStructureChanged(function(e){return t._onModelChanged.fire({group:n,editor:e,structural:!0})})),i.push(n.onEditorStateChanged(function(e){return t._onModelChanged.fire({group:n,editor:e})})),i.push(n.onEditorOpened(function(e){return t._onEditorOpened.fire({editor:e,group:n})})),i.push(n.onEditorClosed(function(e){t.handleOnEditorClosed(e),t._onEditorClosed.fire(e)})),i.push(n.onEditorDisposed(function(e){return t._onEditorDisposed.fire({editor:e,group:n})})),i.push(n.onEditorDirty(function(e){return t._onEditorDirty.fire({editor:e,group:n})})),i.push(n.onEditorLabelChange(function(e){return t._onEditorLabelChange.fire({editor:e,group:n})})),i.push(this.onGroupClosed(function(e){e===n&&c.dispose(i)})),n},e.prototype.handleOnEditorClosed=function(e){var t=this,n=e.editor;this.isOpen(n)||(n.close(),n instanceof i.SideBySideEditorInput&&[n.master,n.details].forEach(function(e){t.isOpen(e)||e.close()}))},e.prototype.isOpen=function(e){return this._groups.some(function(t){return t.contains(e)})},e.prototype.count=function(e){return this._groups.filter(function(t){return t.contains(e)}).length},e.prototype.onShutdown=function(){this.save(),c.dispose(this.toDispose)},e.prototype.validate=function(){var e=this.serialize(),t=this.doValidate(e);t?(console.warn("Ignoring invalid stacks model (Error code: "+t+"): "+JSON.stringify(e)),console.warn(e)):console.log("Stacks Model OK!")},e.prototype.toString=function(){var e=this;this.ensureLoaded();var t=[];return this.groups.length?(this.groups.forEach(function(n){var i="Group: "+n.label;e._activeGroup===n&&(i+=" [active]"),t.push(i),n.getEditors().forEach(function(e){var i="\t"+e.getName();n.previewEditor===e&&(i+=" [preview]"),n.activeEditor===e&&(i+=" [active]"),t.push(i)})}),t.join("\n")):"<No Groups>"},e.STORAGE_KEY="editorStacks.model",e=g([v(1,r.IStorageService),v(2,a.ILifecycleService),v(3,o.IInstantiationService)],e)}();t.EditorStacksModel=d}),define(l[386],h([1,0,384]),function(e,t,n){"use strict";var i=function(e){function t(t,n){e.call(this,t,n),this.updateTextDiffEditorModel()}return d(t,e),Object.defineProperty(t.prototype,"originalModel",{get:function(){return this._originalModel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modifiedModel",{get:function(){return this._modifiedModel},enumerable:!0,configurable:!0}),t.prototype.load=function(){var t=this;return e.prototype.load.call(this).then(function(){return t.updateTextDiffEditorModel(),t})},t.prototype.updateTextDiffEditorModel=function(){this.originalModel.isResolved()&&this.modifiedModel.isResolved()&&(this._textDiffEditorModel?(this._textDiffEditorModel.original=this.originalModel.textEditorModel,this._textDiffEditorModel.modified=this.modifiedModel.textEditorModel):this._textDiffEditorModel={original:this.originalModel.textEditorModel,modified:this.modifiedModel.textEditorModel})},Object.defineProperty(t.prototype,"textDiffEditorModel",{get:function(){return this._textDiffEditorModel},enumerable:!0,configurable:!0}),t.prototype.isResolved=function(){return!!this._textDiffEditorModel},t.prototype.dispose=function(){this._textDiffEditorModel=null,e.prototype.dispose.call(this)},t}(n.DiffEditorModel);t.TextDiffEditorModel=i}),define(l[161],h([1,0,2,10,28,54,40,166]),function(e,t,n,i,r,o,s,a){"use strict";var c=function(e){function t(t,n,i){e.call(this),this.modelService=t,this.modeService=n,i&&this.handleExistingModel(i)}return d(t,e),t.prototype.handleExistingModel=function(e){var t=this.modelService.getModel(e);if(!t)throw new Error("Document with resource "+e.toString()+" does not exist");this.textEditorModelHandle=e,this.registerModelDisposeListener(t)},t.prototype.registerModelDisposeListener=function(e){var t=this;this.modelDisposeListener&&this.modelDisposeListener.dispose(),this.modelDisposeListener=e.onWillDispose(function(){t.textEditorModelHandle=null,t.dispose()})},Object.defineProperty(t.prototype,"textEditorModel",{get:function(){return this.textEditorModelHandle?this.modelService.getModel(this.textEditorModelHandle):null},enumerable:!0,configurable:!0}),t.prototype.createTextEditorModel=function(e,t,i){var r=this,o=this.getFirstLineText(e),s=this.getOrCreateMode(this.modeService,i,o);return n.TPromise.any([n.TPromise.timeout(50),s]).then(function(){return r.doCreateTextEditorModel(e,s,t)})},t.prototype.doCreateTextEditorModel=function(e,t,n){var i=n&&this.modelService.getModel(n);return i?("string"==typeof e?i.setValue(e):i.setValueFromRawText(e),this.modelService.setMode(i,t)):(i=this.modelService.createModel(e,t,n),this.createdEditorModel=!0,this.registerModelDisposeListener(i)),this.textEditorModelHandle=i.uri,this},t.prototype.getFirstLineText=function(e){if("string"==typeof e){var t=e.substr(0,100),n=t.indexOf("\r");n<0&&(n=t.length);var i=t.indexOf("\n");return i<0&&(i=t.length),t.substr(0,Math.min(n,i))}return e.lines[0].substr(0,100)},t.prototype.getOrCreateMode=function(e,t,n){return e.getOrCreateMode(t)},t.prototype.updateTextEditorModel=function(e){if(this.textEditorModel){var t;t="string"==typeof e?a.RawText.fromStringWithModelOptions(e,this.textEditorModel):e,this.textEditorModel.equals(t)||this.textEditorModel.setValueFromRawText(t)}},t.prototype.updateTextEditorModelMode=function(e){if(this.textEditorModel){var t=this.getFirstLineText(this.textEditorModel.getValue()),n=this.getOrCreateMode(this.modeService,e,t);this.modelService.setMode(this.textEditorModel,n)}},t.prototype.getValue=function(){var e=this.textEditorModel;return e?e.getValue(i.EndOfLinePreference.TextDefined,!0):null},t.prototype.dispose=function(){this.modelDisposeListener&&(this.modelDisposeListener.dispose(),this.modelDisposeListener=null),this.textEditorModelHandle&&this.createdEditorModel&&this.modelService.destroyModel(this.textEditorModelHandle),this.textEditorModelHandle=null,this.createdEditorModel=!1,e.prototype.dispose.call(this)},t.prototype.isResolved=function(){return!!this.textEditorModelHandle},t=g([v(0,s.IModelService),v(1,o.IModeService)],t)}(r.EditorModel);t.BaseTextEditorModel=c}),define(l[126],h([1,0,482,2,81,28,161,384,386]),function(e,t,n,i,r,o,s,a,c){"use strict";function u(e,t,i){var o=r.getPathLabel(e.fsPath,i),s=r.getPathLabel(t.fsPath,i);return n.localize(0,null,o,s)}var l=function(e){function t(t,n,i,r,o){e.call(this,t,n,i,r),this.forceOpenAsBinary=o}return d(t,e),t.prototype.getTypeId=function(){return t.ID},Object.defineProperty(t.prototype,"originalInput",{get:function(){return this.details},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modifiedInput",{get:function(){return this.master},enumerable:!0,configurable:!0}),t.prototype.resolve=function(e){var t,n=this;return t=this.cachedModel&&!e?i.TPromise.as(this.cachedModel):this.createModel(e),t.then(function(e){return n.cachedModel&&n.cachedModel.dispose(),n.cachedModel=e,n.cachedModel})},t.prototype.getPreferredEditorId=function(e){return this.forceOpenAsBinary?o.BINARY_DIFF_EDITOR_ID:o.TEXT_DIFF_EDITOR_ID},t.prototype.createModel=function(e){return i.TPromise.join([this.originalInput.resolve(e),this.modifiedInput.resolve(e)]).then(function(e){var t=e[0],n=e[1];return n instanceof s.BaseTextEditorModel&&t instanceof s.BaseTextEditorModel?new c.TextDiffEditorModel(t,n):new a.DiffEditorModel(t,n)})},t.prototype.dispose=function(){this.cachedModel&&(this.cachedModel.dispose(),this.cachedModel=null),e.prototype.dispose.call(this)},t.ID="workbench.editors.diffEditorInput",t}(o.SideBySideEditorInput);t.DiffEditorInput=l,t.toDiffLabel=u}),define(l[393],h([1,0,161,54,40]),function(e,t,n,i,r){"use strict";var o=function(e){function t(t,n,i){e.call(this,i,n,t),this.createdEditorModel=!0}return d(t,e),t=g([v(1,i.IModeService),v(2,r.IModelService)],t)}(n.BaseTextEditorModel);t.ResourceEditorModel=o}),define(l[158],h([1,0,2,28,19,73,393]),function(e,t,n,i,r,o,s){"use strict";var a=function(e){function t(t,n,i,r){e.call(this),this.textModelResolverService=r,this.name=t,this.description=n,this.resource=i}return d(t,e),t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return this.name},t.prototype.setName=function(e){this.name!==e&&(this.name=e,this._onDidChangeLabel.fire())},t.prototype.getDescription=function(){return this.description},t.prototype.setDescription=function(e){this.description!==e&&(this.description=e,this._onDidChangeLabel.fire())},t.prototype.getTelemetryDescriptor=function(){var t=e.prototype.getTelemetryDescriptor.call(this);return t.resource=r.telemetryURIDescriptor(this.resource),t},t.prototype.resolve=function(e){var t=this;return this.promise||(this.promise=this.textModelResolverService.createModelReference(this.resource)),this.promise.then(function(e){var i=e.object;return i instanceof s.ResourceEditorModel?(i.onDispose(function(){return t.dispose()}),i):(e.dispose(),t.promise=null,n.TPromise.wrapError("Unexpected model for ResourceInput: "+t.resource))})},t.prototype.matches=function(n){if(e.prototype.matches.call(this,n)===!0)return!0;if(n instanceof t){var i=n;return i.resource.toString()===this.resource.toString()}return!1},t.prototype.dispose=function(){this.promise&&(this.promise.done(function(e){return e.dispose()}),this.promise=null),e.prototype.dispose.call(this)},t.ID="workbench.editors.resourceEditorInput",t=g([v(3,o.ITextModelResolverService)],t)}(i.EditorInput);t.ResourceEditorInput=a}),define(l[399],h([1,0,2,161,44,15,54,40,118]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(e){function t(t,n,i,r,o){e.call(this,o,r),this.value=t,this.modeId=n,this.resource=i}return d(t,e),t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e){this.value=e,this.textEditorModel&&this.textEditorModel.setValue(e)},t.prototype.append=function(e){if(this.value+=e,this.textEditorModel){var t=this.textEditorModel,n=t.getLineCount(),i=t.getLineMaxColumn(n);t.applyEdits([c.EditOperation.insert(new r.Position(n,i),e)])}},t.prototype.clearValue=function(){if(this.value="",this.textEditorModel){var e=this.textEditorModel,t=e.getLineCount();e.applyEdits([c.EditOperation.delete(new o.Range(1,1,t,e.getLineMaxColumn(t)))])}},t.prototype.trim=function(e){if(this.textEditorModel){var t=this.textEditorModel,n=t.getLineCount();if(n>e){t.applyEdits([c.EditOperation.delete(new o.Range(1,1,n-e+1,1))]);var i=t.getValue();return this.value=i,this.value}}return null},t.prototype.load=function(){return this.textEditorModel?(this.updateTextEditorModel(this.value),n.TPromise.as(this)):this.createTextEditorModel(this.value,this.resource,this.modeId)},t=g([v(3,s.IModeService),v(4,a.IModelService)],t)}(i.BaseTextEditorModel);t.StringEditorModel=u}),define(l[178],h([1,0,2,133,28,399,6]),function(e,t,n,i,r,o,s){"use strict";var a=function(e){function t(t,n,r,o,s,a){e.call(this),this.instantiationService=a,this.name=t,this.description=n,this.value=r,this.modeId=o||i.PLAINTEXT_MODE_ID,this.singleton=s}return d(t,e),t.prototype.getResource=function(){return null},t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return this.name},t.prototype.getDescription=function(){return this.description},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e){this.value=e,this.cachedModel&&this.cachedModel.setValue(e)},t.prototype.clearValue=function(){this.value="",this.cachedModel&&this.cachedModel.clearValue()},t.prototype.append=function(e){this.value+=e,this.cachedModel&&this.cachedModel.append(e)},t.prototype.trim=function(e){if(this.cachedModel){var t=this.cachedModel.trim(e);if(null!==t)return this.value=t,this.value}return null},t.prototype.resolve=function(e){var t=this;if(this.cachedModel)return n.TPromise.as(this.cachedModel);var i=this.instantiationService.createInstance(o.StringEditorModel,this.value,this.modeId,this.getResource());return i.load().then(function(e){return t.cachedModel=e,t.cachedModel})},t.prototype.matches=function(n){if(e.prototype.matches.call(this,n)===!0)return!0;if(n instanceof t){var i=n;if(i.singleton&&this.singleton&&i.modeId===this.modeId)return!0;var r=this.getResource(),o=i.getResource();return r&&o?r.toString()===o.toString():i.value===this.value&&i.modeId===this.modeId&&i.description===this.description&&i.name===this.name}return!1},t.prototype.dispose=function(){this.cachedModel&&(this.cachedModel.dispose(),this.cachedModel=null),e.prototype.dispose.call(this)},t.ID="workbench.editors.stringEditorInput",t=g([v(5,s.IInstantiationService)],t)}(r.EditorInput);t.StringEditorInput=a}),define(l[146],h([1,0,21,38]),function(e,t,n,i){"use strict";!function(e){e[e.GLOBAL=0]="GLOBAL",e[e.WORKSPACE=1]="WORKSPACE"}(t.Scope||(t.Scope={}));var r=t.Scope,o=function(){function e(t){this.id=e.COMMON_PREFIX+t.toLowerCase()}return e.prototype.getMemento=function(t,n){if(void 0===n&&(n=r.GLOBAL),n===r.WORKSPACE){var i=e.workspaceMementos[this.id];return i||(i=new s(this.id,n,t),e.workspaceMementos[this.id]=i),i.getMemento()}var o=e.globalMementos[this.id];return o||(o=new s(this.id,n,t),e.globalMementos[this.id]=o),o.getMemento()},e.prototype.saveMemento=function(){e.globalMementos[this.id]&&e.globalMementos[this.id].save(),e.workspaceMementos[this.id]&&e.workspaceMementos[this.id].save()},e.globalMementos={},e.workspaceMementos={},e.COMMON_PREFIX="memento/",e}();t.Memento=o;var s=function(){function e(e,t,n){this.storageService=n,this.id=e,this.scope=t,this.mementoObj=this.loadMemento()}return e.prototype.getMemento=function(){return this.mementoObj},e.prototype.loadMemento=function(){var e=this.scope===r.GLOBAL?i.StorageScope.GLOBAL:i.StorageScope.WORKSPACE,t=this.storageService.get(this.id,e);return t?JSON.parse(t):{}},e.prototype.save=function(){var e=this.scope===r.GLOBAL?i.StorageScope.GLOBAL:i.StorageScope.WORKSPACE;n.isEmptyObject(this.mementoObj)?this.storageService.remove(this.id,e):this.storageService.store(this.id,JSON.stringify(this.mementoObj),e)},e}()}),define(l[256],h([1,0,5,146]),function(e,t,n,i){"use strict";var r=function(e){function t(t){e.call(this),this._toUnbind=[],this.id=t,this.componentMemento=new i.Memento(this.id)}return d(t,e),Object.defineProperty(t.prototype,"toUnbind",{get:function(){return this._toUnbind},enumerable:!0,configurable:!0}),t.prototype.getId=function(){return this.id},t.prototype.getMemento=function(e,t){return void 0===t&&(t=i.Scope.GLOBAL),this.componentMemento.getMemento(e,t)},t.prototype.saveMemento=function(){this.componentMemento.saveMemento()},t.prototype.shutdown=function(){this.saveMemento()},t.prototype.dispose=function(){this._toUnbind=n.dispose(this._toUnbind),e.prototype.dispose.call(this)},t}(n.Disposable);t.WorkbenchComponent=r}),define(l[285],h([1,0,2,24,256,19,87,11]),function(e,t,n,i,r,o,s,a){"use strict";var c=function(e){function t(t,n){e.call(this,t),this._telemetryService=n,this._telemetryData={},this.visible=!1,this._onTitleAreaUpdate=new a.Emitter}return d(t,e),t.prototype.getTitle=function(){return null},Object.defineProperty(t.prototype,"telemetryService",{get:function(){return this._telemetryService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"telemetryData",{get:function(){return this._telemetryData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onTitleAreaUpdate",{get:function(){return this._onTitleAreaUpdate.event},enumerable:!0,configurable:!0}),t.prototype.create=function(e){return this.parent=e,n.TPromise.as(null)},t.prototype.getContainer=function(){return this.parent},t.prototype.setVisible=function(e){if(this.visible=e,e){if(this._telemetryData={},this._telemetryData.startTime=new Date,this._telemetryService&&this._telemetryService.publicLog){var t="compositeOpen";this._telemetryService.publicLog(t,{composite:this.getId()})}}else if(this._telemetryData.timeSpent=(Date.now()-this._telemetryData.startTime)/1e3,delete this._telemetryData.startTime,this._telemetryService&&this._telemetryService.publicLog){var t="compositeShown";this._telemetryData.composite=this.getId(),this._telemetryService.publicLog(t,this._telemetryData)}return n.TPromise.as(null)},t.prototype.focus=function(){},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.getActionItem=function(e){return null},t.prototype.getActionRunner=function(){return this.actionRunner||(this.actionRunner=new i.ActionRunner),this.actionRunner},t.prototype.updateTitleArea=function(){this._onTitleAreaUpdate.fire()},t.prototype.isVisible=function(){return this.visible},t.prototype.getControl=function(){return null},t.prototype.dispose=function(){this._onTitleAreaUpdate.dispose(),e.prototype.dispose.call(this)},t=g([v(1,o.ITelemetryService)],t)}(r.WorkbenchComponent);t.Composite=c;var u=function(e){function t(t,n,i,r,o,s){e.call(this,t,n),this.id=i,this.name=r,this.cssClass=o,this.order=s}return d(t,e),t}(s.AsyncDescriptor);t.CompositeDescriptor=u;var l=function(){function e(){this.composits=[]}return e.prototype.registerComposite=function(e){null===this.compositeById(e.id)&&this.composits.push(e)},e.prototype.getComposite=function(e){return this.compositeById(e)},e.prototype.getComposits=function(){return this.composits.slice(0)},e.prototype.setComposits=function(e){this.composits=e},e.prototype.compositeById=function(e){for(var t=0;t<this.composits.length;t++)if(this.composits[t].id===e)return this.composits[t];return null},e}();t.CompositeRegistry=l}),define(l[89],h([1,0,8,14,2,285,24]),function(e,t,n,i,r,o,s){"use strict";var a=function(e){function t(){e.apply(this,arguments)}return d(t,e),t}(o.Composite);t.Panel=a;var c=function(e){function t(t,n,i,r,o,s){e.call(this,t,n,i,r,o,s)}return d(t,e),t}(o.CompositeDescriptor);t.PanelDescriptor=c;var u=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.registerPanel=function(t){e.prototype.registerComposite.call(this,t)},t.prototype.getPanel=function(e){return this.getComposite(e)},t.prototype.getPanels=function(){return this.getComposits()},t.prototype.setDefaultPanelId=function(e){this.defaultPanelId=e},t.prototype.getDefaultPanelId=function(){return this.defaultPanelId},t}(o.CompositeRegistry);t.PanelRegistry=u;var l=function(e){function t(t,n,i,r,o,s){e.call(this,t,n,s),this.panelService=r,this.partService=o,this.panelId=i}return d(t,e),t.prototype.run=function(){return this.isPanelShowing()?(this.partService.setPanelHidden(!0),r.TPromise.as(!0)):this.panelService.openPanel(this.panelId,!0)},t.prototype.isPanelShowing=function(){var e=this.panelService.getActivePanel();return e&&e.getId()===this.panelId},t.prototype.isPanelFocussed=function(){var e=this.panelService.getActivePanel(),t=document.activeElement;return e&&t&&n.isAncestor(t,e.getContainer().getHTMLElement())},t}(s.Action);t.TogglePanelAction=l,t.Extensions={Panels:"workbench.contributions.panels"},i.Registry.add(t.Extensions.Panels,new u)}),define(l[179],h([1,0,29,256,724]),function(e,t,n,i){"use strict";var r=function(e){function t(t){e.call(this,t)}return d(t,e),t.prototype.create=function(e){this.parent=e,this.titleArea=this.createTitleArea(e),this.contentArea=this.createContentArea(e),this.statusArea=this.createStatusArea(e),this.partLayout=new s(this.parent,this.titleArea,this.contentArea,this.statusArea)},t.prototype.getContainer=function(){return this.parent},t.prototype.createTitleArea=function(e){return null},t.prototype.getTitleArea=function(){return this.titleArea},t.prototype.createContentArea=function(e){return null},t.prototype.getContentArea=function(){return this.contentArea},t.prototype.createStatusArea=function(e){return null},t.prototype.getStatusArea=function(){return this.statusArea},t.prototype.layout=function(e){return this.partLayout.layout(e)},t.prototype.getLayout=function(){return this.partLayout},t}(i.WorkbenchComponent);t.Part=r;var o=function(e){function t(t){e.call(this,t)}return d(t,e),t}(r);t.EmptyPart=o;var s=function(){function e(e,t,n,i){this.container=e,this.titleArea=t,this.contentArea=n,this.statusArea=i}return e.prototype.computeStyle=function(){var e=this.container.getComputedStyle();if(this.containerStyle={borderLeftWidth:parseInt(e.getPropertyValue("border-left-width"),10),borderRightWidth:parseInt(e.getPropertyValue("border-right-width"),10),borderTopWidth:parseInt(e.getPropertyValue("border-top-width"),10),borderBottomWidth:parseInt(e.getPropertyValue("border-bottom-width"),10)},this.titleArea){var t=this.titleArea.getComputedStyle();this.titleStyle={display:t.getPropertyValue("display"),height:this.titleArea.getTotalSize().height}}if(this.statusArea){var n=this.statusArea.getComputedStyle();this.statusStyle={display:n.getPropertyValue("display"),height:this.statusArea.getTotalSize().height}}},e.prototype.layout=function(e){this.containerStyle||this.computeStyle();var t,i=e.width-(this.containerStyle.borderLeftWidth+this.containerStyle.borderRightWidth),r=e.height-(this.containerStyle.borderTopWidth+this.containerStyle.borderBottomWidth),o=[];t=this.titleArea&&"none"!==this.titleStyle.display?new n.Dimension(i,Math.min(r,this.titleStyle.height)):new n.Dimension(0,0);var s;this.statusArea&&"none"!==this.statusStyle.display?(this.statusArea.getHTMLElement().style.height=this.statusArea.getHTMLElement().style.width="",s=new n.Dimension(i,Math.min(r-t.height,this.statusStyle.height))):s=new n.Dimension(0,0);var a=new n.Dimension(i,r-t.height-s.height);return o.push(t),o.push(a),o.push(s),this.contentArea&&this.contentArea.size(a.width,a.height),o},e}();t.PartLayout=s}),define(l[72],h([1,0,2,24,68,21,14,89,28,66,87]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";var h=function(e){function t(t,n){e.call(this,t,n)}return d(t,e),Object.defineProperty(t.prototype,"input",{get:function(){return this._input},enumerable:!0,configurable:!0}),t.prototype.getInput=function(){return this._input||null},Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),t.prototype.getOptions=function(){return this._options||null},t.prototype.setInput=function(e,t){return this._input=e,this._options=t,n.TPromise.as(null)},t.prototype.clearInput=function(){this._input=null,this._options=null},t.prototype.create=function(t){var n=e.prototype.create.call(this,t);return this.createEditor(t),n},t.prototype.setVisible=function(t,n){void 0===n&&(n=null);var i=e.prototype.setVisible.call(this,t);return this.setEditorVisible(t,n),i},t.prototype.setEditorVisible=function(e,t){void 0===t&&(t=null),this._position=t},t.prototype.changePosition=function(e){this._position=e},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._input=null,this._options=null,e.prototype.dispose.call(this)},t}(a.Panel);t.BaseEditor=h;var p=function(e){function t(t,n,i,r){e.call(this,i,r),this.id=t,this.name=n}return d(t,e),t.prototype.getId=function(){return this.id},t.prototype.getName=function(){return this.name},t.prototype.describes=function(e){return e instanceof h&&e.getId()===this.id},t}(l.AsyncDescriptor);t.EditorDescriptor=p;var f="__$inputDescriptors",g=function(){function e(){this.editorInputFactoryConstructors=Object.create(null),this.editorInputFactoryInstances=Object.create(null),this.editors=[]}return e.prototype.setInstantiationService=function(e){this.instantiationService=e;for(var t in this.editorInputFactoryConstructors){var n=this.editorInputFactoryConstructors[t];this.createEditorInputFactory(t,n)}this.editorInputFactoryConstructors={}},e.prototype.createEditorInputFactory=function(e,t){var n=this.instantiationService.createInstance(t);this.editorInputFactoryInstances[e]=n},e.prototype.registerEditor=function(e,t){var n=[];o.isArray(t)?n=t:n.push(t),e[f]=n,this.editors.push(e)},e.prototype.getEditor=function(e){var t=this,n=function(e,i){for(var r=[],o=0;o<t.editors.length;o++)for(var s=t.editors[o],a=s[f],c=0;c<a.length;c++){var u=a[c].ctor;if(!i&&e.constructor===u){r.push(s);break}if(i&&e instanceof u){r.push(s);break}}return i||0!==r.length?i?r:r:n(e,!0)},i=n(e);if(i&&i.length>0){var r=e.getPreferredEditorId(i.map(function(e){return e.getId()}));return r?this.getEditorById(r):i[0]}return null},e.prototype.getEditorById=function(e){for(var t=0;t<this.editors.length;t++){var n=this.editors[t];if(n.getId()===e)return n}return null},e.prototype.getEditors=function(){return this.editors.slice(0)},e.prototype.setEditors=function(e){this.editors=e},e.prototype.getEditorInputs=function(){for(var e=[],t=0;t<this.editors.length;t++){var n=this.editors[t],i=n[f];e.push.apply(e,i.map(function(e){return e.ctor}))}return e},e.prototype.registerDefaultFileInput=function(e){this.defaultFileInputDescriptor=e},e.prototype.getDefaultFileInput=function(){return this.defaultFileInputDescriptor},e.prototype.registerEditorInputFactory=function(e,t){this.instantiationService?this.createEditorInputFactory(e,t):this.editorInputFactoryConstructors[e]=t},e.prototype.getEditorInputFactory=function(e){return this.editorInputFactoryInstances[e]},e}();s.Registry.add(c.Extensions.Editors,new g);var v=function(e){function t(){e.call(this),this.mapEditorInputActionContextToPrimaryActions=this.createPositionArray(),this.mapEditorInputActionContextToSecondaryActions=this.createPositionArray()}return d(t,e),t.prototype.createPositionArray=function(){for(var e=[],t=0;t<u.POSITIONS.length;t++)e[t]={};return e},t.prototype.toId=function(e){return e.editor.getId()+e.input.getTypeId()},t.prototype.clearInputsFromCache=function(e,t){t?this.doClearInputsFromCache(this.mapEditorInputActionContextToPrimaryActions[e]):this.doClearInputsFromCache(this.mapEditorInputActionContextToSecondaryActions[e])},t.prototype.doClearInputsFromCache=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];n.forEach(function(e){e.input=null,e.position=null})}},t.prototype.hasActions=function(e){return!!this.checkEditorContext(e)&&(!!this.mapEditorInputActionContextToPrimaryActions[e.position][this.toId(e)]||this.hasActionsForEditorInput(e))},t.prototype.getActions=function(e){if(!this.checkEditorContext(e))return[];this.clearInputsFromCache(e.position,!0);var t=e.input,n=e.position,i=this.mapEditorInputActionContextToPrimaryActions[e.position][this.toId(e)];if(i)return i.forEach(function(e){e.input=t,e.position=n}),i;var r=this.getActionsForEditorInput(e);return r.forEach(function(e){e.input=t,e.position=n}),this.mapEditorInputActionContextToPrimaryActions[e.position][this.toId(e)]=r,r},t.prototype.hasSecondaryActions=function(e){return!!this.checkEditorContext(e)&&(!!this.mapEditorInputActionContextToSecondaryActions[e.position][this.toId(e)]||this.hasSecondaryActionsForEditorInput(e))},t.prototype.getSecondaryActions=function(e){if(!this.checkEditorContext(e))return[];this.clearInputsFromCache(e.position,!1);var t=e.input,n=e.position,i=this.mapEditorInputActionContextToSecondaryActions[e.position][this.toId(e)];if(i)return i.forEach(function(e){e.input=t,e.position=n}),i;var r=this.getSecondaryActionsForEditorInput(e);return r.forEach(function(e){e.input=t,e.position=n}),this.mapEditorInputActionContextToSecondaryActions[e.position][this.toId(e)]=r,r},t.prototype.checkEditorContext=function(e){return e&&e.input instanceof c.EditorInput&&e.editor instanceof h&&!o.isUndefinedOrNull(e.position)},t.prototype.hasActionsForEditorInput=function(e){return!1},t.prototype.getActionsForEditorInput=function(e){return[]},t.prototype.hasSecondaryActionsForEditorInput=function(e){return!1},t.prototype.getSecondaryActionsForEditorInput=function(e){return[]},t}(r.ActionBarContributor);t.EditorInputActionContributor=v;var m=function(e){function t(){e.apply(this,arguments)}return d(t,e),Object.defineProperty(t.prototype,"input",{get:function(){return this._input},set:function(e){this._input=e,this.enabled=this.isEnabled()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=e},enumerable:!0,configurable:!0}),t.prototype.isEnabled=function(){return!!this._input},t}(i.Action);t.EditorInputAction=m}),define(l[289],h([1,0,11,2,463,141,29,295,124,72,28,210,19,112,727]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f){"use strict";var m=function(e){function t(i){e.call(this,t.ID,i),this._onMetadataChanged=new n.Emitter}return d(t,e),Object.defineProperty(t.prototype,"onMetadataChanged",{get:function(){return this._onMetadataChanged.event},enumerable:!0,configurable:!0}),t.prototype.getTitle=function(){return this.getInput()?this.getInput().getName():r.localize(0,null)},t.prototype.createEditor=function(e){var t=this,n=document.createElement("div");n.className="binary-container",this.leftBinaryContainer=s.$(n),this.leftBinaryContainer.tabindex(0),this.leftScrollbar=new c.DomScrollableElement(n,{canUseTranslate3d:!1,horizontal:f.ScrollbarVisibility.Auto,vertical:f.ScrollbarVisibility.Auto}),e.getHTMLElement().appendChild(this.leftScrollbar.getDomNode()),s.$(this.leftScrollbar.getDomNode()).addClass("binarydiff-left"),this.sash=new o.Sash(e.getHTMLElement(),this),this.sash.addListener2("start",function(){return t.onSashDragStart()}),this.sash.addListener2("change",function(e){return t.onSashDrag(e)}),this.sash.addListener2("end",function(){return t.onSashDragEnd()}),this.sash.addListener2("reset",function(){return t.onSashReset()});var i=document.createElement("div");i.className="binary-container",this.rightBinaryContainer=s.$(i),this.rightBinaryContainer.tabindex(0),this.rightScrollbar=new c.DomScrollableElement(i,{canUseTranslate3d:!1,horizontal:f.ScrollbarVisibility.Auto,vertical:f.ScrollbarVisibility.Auto}),e.getHTMLElement().appendChild(this.rightScrollbar.getDomNode()),s.$(this.rightScrollbar.getDomNode()).addClass("binarydiff-right");
},t.prototype.setInput=function(t,n){var o=this,s=this.getInput();e.prototype.setInput.call(this,t,n);var a=n&&n.forceOpen;return!a&&t.matches(s)?i.TPromise.as(null):t.resolve(!0).then(function(e){if(!(e.originalModel instanceof h.BinaryEditorModel&&e.modifiedModel instanceof h.BinaryEditorModel))return i.TPromise.wrapError(r.localize(1,null));if(!o.getInput()||o.getInput()!==t)return null;var n=e.originalModel;o.renderInput(n.getName(),n.getResource(),n.getSize(),n.getETag(),!0);var s=e.modifiedModel;o.renderInput(s.getName(),s.getResource(),s.getSize(),s.getETag(),!1)})},t.prototype.renderInput=function(e,t,n,i,r){var o=this;this.leftContainerWidth&&this.dimension&&this.leftContainerWidth!==this.dimension.width/2&&(this.leftContainerWidth=this.dimension.width/2,this.layoutContainers(),this.sash.layout());var s=r?this.leftBinaryContainer:this.rightBinaryContainer,c=r?this.leftScrollbar:this.rightScrollbar;a.ResourceViewer.show({name:e,resource:t,size:n,etag:i},s,c,function(e){return o.handleMetadataChanged(e,r)})},t.prototype.handleMetadataChanged=function(e,t){t?this.originalMetadata=e:this.modifiedMetadata=e,this._onMetadataChanged.fire()},t.prototype.getMetadata=function(){return r.localize(2,null,this.originalMetadata,this.modifiedMetadata)},t.prototype.clearInput=function(){this.handleMetadataChanged(null,!0),this.handleMetadataChanged(null,!1),s.$(this.leftBinaryContainer).empty(),s.$(this.rightBinaryContainer).empty(),e.prototype.clearInput.call(this)},t.prototype.layout=function(e){var t=this.dimension;if(this.dimension=e,this.leftContainerWidth&&t){var n=this.leftContainerWidth/t.width;this.leftContainerWidth=this.dimension.width*n}else this.leftContainerWidth=this.dimension.width/2;this.sash.layout(),this.layoutContainers()},t.prototype.layoutContainers=function(){this.leftBinaryContainer.size(this.leftContainerWidth,this.dimension.height),this.leftScrollbar.scanDomNode(),this.rightBinaryContainer.size(this.dimension.width-this.leftContainerWidth,this.dimension.height),this.rightScrollbar.scanDomNode()},t.prototype.onSashDragStart=function(){this.startLeftContainerWidth=this.leftContainerWidth},t.prototype.onSashDrag=function(e){var n=this.startLeftContainerWidth+e.currentX-e.startX;this.leftContainerWidth=Math.max(t.MIN_CONTAINER_WIDTH,n),this.dimension.width-this.leftContainerWidth<t.MIN_CONTAINER_WIDTH&&(this.leftContainerWidth=this.dimension.width-t.MIN_CONTAINER_WIDTH),this.layoutContainers()},t.prototype.onSashDragEnd=function(){this.sash.layout()},t.prototype.onSashReset=function(){this.leftContainerWidth=this.dimension.width/2,this.layoutContainers(),this.sash.layout()},t.prototype.getVerticalSashTop=function(e){return 0},t.prototype.getVerticalSashLeft=function(e){return this.leftContainerWidth},t.prototype.getVerticalSashHeight=function(e){return this.dimension.height},t.prototype.focus=function(){this.rightBinaryContainer.domFocus()},t.prototype.dispose=function(){this.sash.dispose(),this.leftScrollbar.dispose(),this.rightScrollbar.dispose(),this.leftBinaryContainer.destroy(),this.rightBinaryContainer.destroy(),e.prototype.dispose.call(this)},t.ID=l.BINARY_DIFF_EDITOR_ID,t.MIN_CONTAINER_WIDTH=100,t=g([v(0,p.ITelemetryService)],t)}(u.BaseEditor);t.BinaryResourceDiffEditor=m}),define(l[290],h([1,0,464,11,2,29,295,72,210,19,124,112]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";var p=function(e){function t(t,n){e.call(this,t,n),this._onMetadataChanged=new i.Emitter}return d(t,e),Object.defineProperty(t.prototype,"onMetadataChanged",{get:function(){return this._onMetadataChanged.event},enumerable:!0,configurable:!0}),t.prototype.getTitle=function(){return this.getInput()?this.getInput().getName():n.localize(0,null)},t.prototype.createEditor=function(e){var t=document.createElement("div");t.className="binary-container",this.binaryContainer=o.$(t),this.binaryContainer.tabindex(0),this.scrollbar=new l.DomScrollableElement(t,{canUseTranslate3d:!1,horizontal:h.ScrollbarVisibility.Auto,vertical:h.ScrollbarVisibility.Auto}),e.getHTMLElement().appendChild(this.scrollbar.getDomNode())},t.prototype.setInput=function(t,n){var i=this,o=this.getInput();e.prototype.setInput.call(this,t,n);var a=n&&n.forceOpen;return!a&&t.matches(o)?r.TPromise.as(null):t.resolve(!0).then(function(e){if(!(e instanceof c.BinaryEditorModel))return r.TPromise.wrapError("Invalid editor input. Binary resource editor requires a model instance of BinaryEditorModel.");if(!i.getInput()||i.getInput()!==t)return null;var n=e;return s.ResourceViewer.show({name:n.getName(),resource:n.getResource(),size:n.getSize(),etag:n.getETag()},i.binaryContainer,i.scrollbar,function(e){return i.handleMetadataChanged(e)}),r.TPromise.as(null)})},t.prototype.handleMetadataChanged=function(e){this.metadata=e,this._onMetadataChanged.fire()},t.prototype.getMetadata=function(){return this.metadata},t.prototype.clearInput=function(){this.handleMetadataChanged(null),o.$(this.binaryContainer).empty(),e.prototype.clearInput.call(this)},t.prototype.layout=function(e){this.binaryContainer.size(e.width,e.height),this.scrollbar.scanDomNode()},t.prototype.focus=function(){this.binaryContainer.domFocus()},t.prototype.dispose=function(){this.binaryContainer.destroy(),this.scrollbar.dispose(),e.prototype.dispose.call(this)},t}(a.BaseEditor);t.BaseBinaryResourceEditor=p;var f=function(e){function t(n){e.call(this,t.ID,n)}return d(t,e),t.ID="workbench.editors.binaryResourceEditor",t=g([v(0,u.ITelemetryService)],t)}(p);t.BinaryResourceEditor=f}),define(l[291],h([1,0,2,12,8,29,14,28,72,141,19,6,737]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";var p=function(e){function t(n,i){e.call(this,t.ID,n),this.instantiationService=i}return d(t,e),t.prototype.createEditor=function(e){var t=e.getHTMLElement();r.addClass(t,"side-by-side-editor"),this.createSash(t)},t.prototype.setInput=function(t,n){var i=this,r=this.getInput();return e.prototype.setInput.call(this,t,n).then(function(){return i.updateInput(r,t,n)})},t.prototype.setEditorVisible=function(t,n){this.masterEditor&&this.masterEditor.setVisible(t,n),this.detailsEditor&&this.detailsEditor.setVisible(t,n),e.prototype.setEditorVisible.call(this,t,n)},t.prototype.changePosition=function(t){this.masterEditor&&this.masterEditor.changePosition(t),this.detailsEditor&&this.detailsEditor.changePosition(t),e.prototype.changePosition.call(this,t)},t.prototype.clearInput=function(){this.masterEditor&&this.masterEditor.clearInput(),this.detailsEditor&&this.detailsEditor.clearInput(),this.disposeEditors(),e.prototype.clearInput.call(this)},t.prototype.focus=function(){this.masterEditor&&this.masterEditor.focus()},t.prototype.layout=function(e){this.dimension=e,this.sash.setDimenesion(this.dimension)},t.prototype.getControl=function(){return this.masterEditor?this.masterEditor.getControl():null},t.prototype.getMasterEditor=function(){return this.masterEditor},t.prototype.getDetailsEditor=function(){return this.detailsEditor},t.prototype.updateInput=function(e,t,n){return t.matches(e)?(this.detailsEditor.setInput(t.details),void this.masterEditor.setInput(t.master,n)):(e&&this.disposeEditors(),this.createEditorContainers(),this.setNewInput(t,n))},t.prototype.setNewInput=function(e,t){var i=this;return n.TPromise.join([this._createEditor(e.details,this.detailsEditorContainer),this._createEditor(e.master,this.masterEditorContainer)]).then(function(n){return i.onEditorsCreated(n[0],n[1],e.details,e.master,t)})},t.prototype._createEditor=function(e,t){var r=this,c=s.Registry.as(a.Extensions.Editors).getEditor(e);return c?this.instantiationService.createInstance(c).then(function(e){return e.create(new o.Builder(t)),e.setVisible(r.isVisible(),r.position),e}):n.TPromise.wrapError(new Error(i.format("Can not find a registered editor for the input {0}",e)))},t.prototype.onEditorsCreated=function(e,t,i,r,o){var s=this;return this.detailsEditor=e,this.masterEditor=t,this.dolayout(this.sash.getVerticalSashLeft()),n.TPromise.join([this.detailsEditor.setInput(i),this.masterEditor.setInput(r,o)]).then(function(){return s.focus()})},t.prototype.createEditorContainers=function(){var e=this.getContainer().getHTMLElement();this.detailsEditorContainer=r.append(e,r.$(".details-editor-container")),this.detailsEditorContainer.style.position="absolute",this.masterEditorContainer=r.append(e,r.$(".master-editor-container")),this.masterEditorContainer.style.position="absolute"},t.prototype.createSash=function(e){var t=this;this.sash=this._register(new u.VSash(e,220)),this._register(this.sash.onPositionChange(function(e){return t.dolayout(e)}))},t.prototype.dolayout=function(e){if(this.detailsEditor&&this.masterEditor&&this.dimension){var t=this.dimension.width-e,n=this.dimension.width-t;this.detailsEditorContainer.style.width=n+"px",this.detailsEditorContainer.style.height=this.dimension.height+"px",this.detailsEditorContainer.style.left="0px",this.masterEditorContainer.style.width=t+"px",this.masterEditorContainer.style.height=this.dimension.height+"px",this.masterEditorContainer.style.left=e+"px",this.detailsEditor.layout(new o.Dimension(n,this.dimension.height)),this.masterEditor.layout(new o.Dimension(t,this.dimension.height))}},t.prototype.disposeEditors=function(){var e=this.getContainer().getHTMLElement();this.detailsEditor&&(this.detailsEditor.dispose(),this.detailsEditor=null),this.masterEditor&&(this.masterEditor.dispose(),this.masterEditor=null),this.detailsEditorContainer&&(e.removeChild(this.detailsEditorContainer),this.detailsEditorContainer=null),this.masterEditorContainer&&(e.removeChild(this.masterEditorContainer),this.masterEditorContainer=null)},t.prototype.dispose=function(){this.disposeEditors(),e.prototype.dispose.call(this)},t.ID="workbench.editor.sidebysideEditor",t=g([v(0,l.ITelemetryService),v(1,h.IInstantiationService)],t)}(c.BaseEditor);t.SideBySideEditor=p}),define(l[896],h([1,0,2,29,8,20,179,48,63,7,39,79,24,753]),function(e,t,n,i,r,o,s,a,c,u,l,h,p){"use strict";var f=function(e){function t(t,n,i,r){e.call(this,t),this.contextMenuService=n,this.windowService=i,this.windowsService=r,this.registerListeners()}return d(t,e),t.prototype.registerListeners=function(){var e=this;this.toUnbind.push(r.addDisposableListener(window,r.EventType.BLUR,function(){e.titleContainer&&e.titleContainer.addClass("blurred")})),this.toUnbind.push(r.addDisposableListener(window,r.EventType.FOCUS,function(){e.titleContainer&&e.titleContainer.removeClass("blurred")}))},t.prototype.createContentArea=function(e){var t=this;return this.titleContainer=i.$(e),this.title=i.$(this.titleContainer).div({class:"window-title"}),this.pendingTitle&&this.title.text(this.pendingTitle),this.titleContainer.on(r.EventType.DBLCLICK,function(e){r.EventHelper.stop(e),t.onTitleDoubleclick()}),this.title.on([r.EventType.CONTEXT_MENU,r.EventType.MOUSE_DOWN],function(e){(e.type===r.EventType.CONTEXT_MENU||e.metaKey)&&(r.EventHelper.stop(e),t.onContextMenu(e))}),this.titleContainer},t.prototype.onTitleDoubleclick=function(){var e=this;this.windowService.isMaximized().then(function(t){t?e.windowService.unmaximizeWindow().done(null,u.onUnexpectedError):e.windowService.maximizeWindow().done(null,u.onUnexpectedError)},u.onUnexpectedError)},t.prototype.onContextMenu=function(e){var t=new h.StandardMouseEvent(e),i={x:t.posx,y:t.posy},r=this.getContextMenuActions();r.length&&this.contextMenuService.showContextMenu({getAnchor:function(){return i},getActions:function(){return n.TPromise.as(r)},onHide:function(){return r.forEach(function(e){return e.dispose()})}})},t.prototype.getContextMenuActions=function(){var e=[];if(this.representedFileName)for(var t=this.representedFileName.split(o.sep),n=t.length;n>0;n--){var i=n===t.length,r=n;i||r++;var s=t.slice(0,r).join(o.sep),a=o.basename(s);i||(a=o.basename(o.dirname(s))),e.push(new m(s,a||o.sep,this.windowsService))}return e},t.prototype.updateTitle=function(e){window.document.title=e,this.title?this.title.text(e):this.pendingTitle=e},t.prototype.setRepresentedFilename=function(e){this.windowService.setRepresentedFilename(e),this.representedFileName=e},t.prototype.layout=function(t){return"number"!=typeof this.initialTitleFontSize&&(this.initialTitleFontSize=parseInt(this.titleContainer.getComputedStyle().fontSize,10)),this.titleContainer.style({fontSize:this.initialTitleFontSize/a.getZoomFactor()+"px"}),e.prototype.layout.call(this,t)},t=g([v(1,l.IContextMenuService),v(2,c.IWindowService),v(3,c.IWindowsService)],t)}(s.Part);t.TitlebarPart=f;var m=function(e){function t(t,n,i){e.call(this,"showItemInFolder.action.id",n),this.path=t,this.windowsService=i}return d(t,e),t.prototype.run=function(){return this.windowsService.showItemInFolder(this.path)},t}(p.Action)}),define(l[292],h([1,0,20,23,54]),function(e,t,n,i,r){"use strict";var o=function(){function e(t,n){this._modeService=n,this._schemeKey=e.Scheme.bindTo(t),this._filenameKey=e.Filename.bindTo(t),this._langIdKey=e.LangId.bindTo(t),this._resourceKey=e.Resource.bindTo(t)}return e.prototype.set=function(e){this._resourceKey.set(e),this._schemeKey.set(e&&e.scheme),this._filenameKey.set(e&&n.basename(e.fsPath)),this._langIdKey.set(e&&this._modeService.getModeIdByFilenameOrFirstLine(e.fsPath))},e.prototype.reset=function(){this._schemeKey.reset(),this._langIdKey.reset(),this._resourceKey.reset()},e.prototype.get=function(){return this._resourceKey.get()},e.Scheme=new i.RawContextKey("resourceScheme",(void 0)),e.Filename=new i.RawContextKey("resourceFilename",(void 0)),e.LangId=new i.RawContextKey("resourceLangId",(void 0)),e.Resource=new i.RawContextKey("resource",(void 0)),e=g([v(0,i.IContextKeyService),v(1,r.IModeService)],e)}();t.ResourceContextKey=o}),define(l[898],h([1,0,484,7,30,77,25,63,19,14,83,61,132]),function(e,t,n,i,r,o,s,a,c,u,l,h,d){"use strict";var p="telemetry",f=u.Registry.as(o.Extensions.Configuration);f.registerConfiguration({id:p,order:110,title:n.localize(0,null),type:"object",properties:{"telemetry.enableCrashReporter":{type:"boolean",description:n.localize(1,null),default:!0}}});var m=function(){function e(e,t,n,o){var s=o.getConfiguration(p);s.enableCrashReporter&&t.getTelemetryInfo().then(function(e){return{vscode_sessionId:e.sessionId,vscode_version:d.default.version,vscode_commit:h.default.commit}}).then(function(t){return r.assign(e,{extra:t})}).then(function(e){return l.crashReporter.start(r.clone(e)),n.startCrashReporter(e)}).done(null,i.onUnexpectedError)}return e=g([v(1,c.ITelemetryService),v(2,a.IWindowsService),v(3,s.IConfigurationService)],e)}();t.CrashReporter=m}),define(l[899],h([1,0,5,7,2,20,74,51,19]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(){function e(e,t){this._disposables=[],this._telemetryService=e,this._environmentService=t,this._handleCachedDataErrors(),this._manageCachedDataSoon()}return e.prototype.dispose=function(){this._disposables=n.dispose(this._disposables)},e.prototype._handleCachedDataErrors=function(){var e=this,t=function(t){e._telemetryService.publicLog("nodeCachedData",{errorCode:t.errorCode,path:t.path})};self.require.config({onNodeCachedDataError:t}),window.MonacoEnvironment.nodeCachedDataErrors.forEach(t),delete window.MonacoEnvironment.nodeCachedDataErrors,this._disposables.push({dispose:function(){self.require.config({onNodeCachedDataError:void 0},!0)}})},e.prototype._manageCachedDataSoon=function(){var e=this._environmentService.nodeCachedDataDir;if(e){var t=setTimeout(function(){t=void 0;var n=o.dirname(e),a=o.basename(e);s.readdir(n).then(function(e){var t=e.map(function(e){if(e!==a)return s.rimraf(o.join(n,e))});return r.TPromise.join(t)}).done(void 0,i.onUnexpectedError)},3e4);this._disposables.push({dispose:function(){clearTimeout(t)}})}},e=g([v(0,c.ITelemetryService),v(1,a.IEnvironmentService)],e)}();t.NodeCachedDataManager=u}),define(l[900],h([1,0,490,13,74,32,2,108,20,96,21,380,233]),function(e,t,n,i,r,o,s,a,c,u,l,h,p){"use strict";var f="package.json",g=!!process.env.VSCODE_DEV,v={locale:i.locale,pseudo:"pseudo"===i.locale},m=function(){function e(){this._messages=[]}return e.prototype.getMessages=function(){return this._messages},e.prototype._msg=function(e,t,n){this._messages.push({type:t,message:n,source:e})},e.prototype.error=function(e,t){this._msg(e,o.default.Error,t)},e.prototype.warn=function(e,t){this._msg(e,o.default.Warning,t)},e.prototype.info=function(e,t){this._msg(e,o.default.Info,t)},e}();t.MessagesCollector=m;var y=function(){function e(e,t,n,i){this._ourVersion=e,this._collector=t,this._absoluteFolderPath=n,this._isBuiltin=i,this._absoluteManifestPath=c.join(n,f)}return e}(),b=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.parse=function(){var e=this;return r.readFile(this._absoluteManifestPath).then(function(t){var i=[],r=u.parse(t.toString(),i);return i.length>0?(i.forEach(function(t){e._collector.error(e._absoluteFolderPath,n.localize(0,null,e._absoluteManifestPath,u.getParseErrorMessage(t.error)))}),null):r},function(t){return"ENOENT"===t.code?null:(e._collector.error(e._absoluteFolderPath,n.localize(1,null,e._absoluteManifestPath,t.message)),null)})},t}(y),S=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.replaceNLS=function(e){var i=this,o=c.extname(this._absoluteManifestPath),s=this._absoluteManifestPath.substr(0,this._absoluteManifestPath.length-o.length);return r.fileExists(s+".nls"+o).then(function(o){return o?t.findMessageBundle(s).then(function(o){return o?r.readFile(o).then(function(r){var s=[],a=u.parse(r.toString(),s);return s.length>0?(s.forEach(function(e){i._collector.error(i._absoluteFolderPath,n.localize(2,null,o,u.getParseErrorMessage(e.error)))}),e):(t._replaceNLStrings(e,a,i._collector,i._absoluteFolderPath),e)},function(e){return i._collector.error(i._absoluteFolderPath,n.localize(3,null,o,e.message)),null}):e}):e})},t.findMessageBundle=function(e){return new s.TPromise(function(t,n,i){function o(e,n){var i=e+".nls."+n+".json";r.fileExists(i).then(function(r){r&&t(i);var s=n.lastIndexOf("-");s===-1?t(e+".nls.json"):(n=n.substring(0,s),o(e,n))})}return g||v.pseudo||!v.locale?t(e+".nls.json"):void o(e,v.locale)})},t._replaceNLStrings=function(e,i,r,o){Object.keys(e).forEach(function(s){if(e.hasOwnProperty(s)){var a=e[s];if(l.isString(a)){var c=a,u=c.length;if(u>1&&"%"===c[0]&&"%"===c[u-1]){var h=c.substr(1,u-2),d=i[h];d?(v.pseudo&&(d=""+d.replace(/[aouei]/g,"$&$&")+""),e[s]=d):r.warn(o,n.localize(4,null,h))}}else l.isObject(a)?t._replaceNLStrings(a,i,r,o):l.isArray(a)&&a.forEach(function(e){l.isObject(e)&&t._replaceNLStrings(e,i,r,o)})}})},t}(y),E=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.validate=function(e){var t=this,n=e;n.isBuiltin=this._isBuiltin;var i=[];return h.isValidExtensionDescription(this._ourVersion,this._absoluteFolderPath,n,i)?(i.forEach(function(e){t._collector.warn(t._absoluteFolderPath,e)}),n.id=n.publisher+"."+n.name,n.main&&(n.main=c.normalize(c.join(this._absoluteFolderPath,n.main))),n.extensionFolderPath=this._absoluteFolderPath,n):(i.forEach(function(e){t._collector.error(t._absoluteFolderPath,e)}),null)},t}(y),_=function(){function e(){}return e.scanExtension=function(e,t,n,i){n=c.normalize(n);var r=new b(e,t,n,i);return r.parse().then(function(r){if(null===r)return null;var o=new S(e,t,n,i);return o.replaceNLS(r)}).then(function(r){if(null===r)return null;var o=new E(e,t,n,i);return o.validate(r)})},e.scanExtensions=function(e,t,n,i){var o=this,u=s.TPromise.as({});return i||(u=r.readFile(c.join(n,".obsolete"),"utf8").then(function(e){return JSON.parse(e)}).then(null,function(e){return{}})),u.then(function(u){return r.readDirsInDir(n).then(function(e){if(i)return e;var t=[],n=[];e.forEach(function(e){if(!u[e]){var i=/^([^.]+\..+)-(\d+\.\d+\.\d+)$/.exec(e);if(!i)return void t.push(e);var r=i[1],o=i[2];n.push({folder:e,id:r,version:o})}});var r=a.values(a.groupBy(n,function(e){return e.id})),o=r.map(function(e){return e.sort(function(e,t){return p.rcompare(e.version,t.version)})[0]}).map(function(e){return e.folder});return t.concat(o)}).then(function(r){return s.TPromise.join(r.map(function(r){return o.scanExtension(e,t,c.join(n,r),i)}))}).then(function(e){return e.filter(function(e){return null!==e})}).then(null,function(e){return t.error(n,e),[]})})},e.scanOneOrMultipleExtensions=function(e,t,n,i){var o=this;return r.fileExists(c.join(n,f)).then(function(r){return r?o.scanExtension(e,t,n,i).then(function(e){return null===e?[]:[e]}):o.scanExtensions(e,t,n,i)},function(e){return t.error(n,e),[]})},e}();t.ExtensionScanner=_}),define(l[293],h([1,0,2,133,178,28,6]),function(e,t,n,i,r,o,s){"use strict";var a=function(e){function t(t,n,r,o,s,a,c){e.call(this,t,r,o,s||i.PLAINTEXT_MODE_ID,a,c),this.resourceUrl=n}return d(t,e),t.prototype.getResource=function(){return this.resourceUrl},t=g([v(6,s.IInstantiationService)],t)}(r.StringEditorInput);t.DebugStringEditorInput=a;var c=function(e){function t(t,n){e.call(this),this.name=t,this.value=n}return d(t,e),t.prototype.getTypeId=function(){return t.ID},t.prototype.resolve=function(e){return n.TPromise.as(null)},t.prototype.getName=function(){return this.name},t.ID="workbench.editors.debugErrorEditorInput",t}(o.EditorInput);t.DebugErrorEditorInput=c}),define(l[902],h([1,0,8,19,72]),function(e,t,n,i,r){"use strict";var o=n.$,s=function(e){function t(n){e.call(this,t.ID,n)}return d(t,e),t.prototype.createEditor=function(e){this.container=n.append(e.getHTMLElement(),o(".debug-error-editor"))},t.prototype.layout=function(e){this.container.style.width=e.width+"px",this.container.style.height=e.height+"px"},t.prototype.setInput=function(t,n){return this.container.textContent=t.value,e.prototype.setInput.call(this,t,n)},t.ID="workbench.editor.debugError",t=g([v(0,i.ITelemetryService)],t)}(r.BaseEditor);t.DebugErrorEditor=s}),define(l[294],h([1,0]),function(e,t){"use strict";var n=function(){function e(){this.debugViews=[]}return e.prototype.registerDebugView=function(e,t){this.debugViews.push({view:e,order:t})},e.prototype.getDebugViews=function(){return this.debugViews.sort(function(e,t){return e.order-t.order}).map(function(e){return e.view})},e}();t.DebugViewRegistry=new n}),define(l[82],h([1,0,497,6,23]),function(e,t,n,i,r){"use strict";function o(e,t,n){return e.replace(s,function(e,i){return t&&i.length>0&&"_"!==i[0]?e:n&&n.hasOwnProperty(i)?n[i]:e})}t.VIEWLET_ID="workbench.view.debug",t.REPL_ID="workbench.panel.repl",t.DEBUG_SERVICE_ID="debugService",t.CONTEXT_IN_DEBUG_MODE=new r.RawContextKey("inDebugMode",(!1)),t.CONTEXT_NOT_IN_DEBUG_MODE=t.CONTEXT_IN_DEBUG_MODE.toNegated(),t.CONTEXT_IN_DEBUG_REPL=new r.RawContextKey("inDebugRepl",(!1)),t.CONTEXT_NOT_IN_DEBUG_REPL=t.CONTEXT_IN_DEBUG_REPL.toNegated(),t.CONTEXT_ON_FIRST_DEBUG_REPL_LINE=new r.RawContextKey("onFirsteDebugReplLine",(!1)),t.CONTEXT_ON_LAST_DEBUG_REPL_LINE=new r.RawContextKey("onLastDebugReplLine",(!1)),t.CONTEXT_BREAKPOINT_WIDGET_VISIBLE=new r.RawContextKey("breakpointWidgetVisible",(!1)),t.EDITOR_CONTRIBUTION_ID="editor.contrib.debug",t.DEBUG_SCHEME="debug",t.NO_CONFIGURATIONS_LABEL=n.localize(0,null),function(e){e[e.LAUNCH=0]="LAUNCH",e[e.ATTACH=1]="ATTACH",e[e.LAUNCH_NO_DEBUG=2]="LAUNCH_NO_DEBUG"}(t.SessionRequestType||(t.SessionRequestType={}));t.SessionRequestType;!function(e){e[e.Disabled=0]="Disabled",e[e.Inactive=1]="Inactive",e[e.Initializing=2]="Initializing",e[e.Stopped=3]="Stopped",e[e.Running=4]="Running",e[e.RunningNoDebug=5]="RunningNoDebug"}(t.State||(t.State={}));t.State;t.IDebugService=i.createDecorator(t.DEBUG_SERVICE_ID);var s=/{([^}]+)}/g;t.formatPII=o}),define(l[905],h([1,0,492,17,7,13,282,5,8,101,267,39,82,757]),function(e,t,n,i,r,o,s,a,c,u,l,h,p){"use strict";var f=c.$,m=n.localize(0,null),y=n.localize(1,null),b=n.localize(2,null),S=n.localize(3,null),E=function(e){function t(t,n,i,r){e.call(this,t,{showFrame:!0,showArrow:!1,frameColor:"#007ACC",frameWidth:1}),this.lineNumber=n,this.contextViewService=i,this.debugService=r,this.toDispose=[],this.hitCountInput="",this.conditionInput="",this.create()}return d(t,e),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.hitCountContext?b:m},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this.hitCountContext?S:y},enumerable:!0,configurable:!0}),t.prototype.getInputBoxValue=function(e){return this.hitCountContext?e&&e.hitCondition?e.hitCondition:this.hitCountInput:e&&e.condition?e.condition:this.conditionInput},t.prototype._fillContainer=function(e){var t=this;c.addClass(e,"breakpoint-widget monaco-editor-background");var a=this.editor.getModel().uri,l=this.debugService.getModel().getBreakpoints().filter(function(e){return e.lineNumber===t.lineNumber&&e.uri.toString()===a.toString()}).pop();this.hitCountContext=l&&l.hitCondition&&!l.condition;var h=this.hitCountContext?1:0,d=new s.SelectBox([n.localize(4,null),n.localize(5,null)],h);d.render(c.append(e,f(".breakpoint-select-container"))),d.onDidSelect(function(e){t.hitCountContext="Hit Count"===e,t.hitCountContext?t.conditionInput=t.inputBox.value:t.hitCountInput=t.inputBox.value,t.inputBox.setAriaLabel(t.ariaLabel),t.inputBox.setPlaceHolder(t.placeholder),t.inputBox.value=t.getInputBoxValue(l)});var p=c.append(e,f(".inputBoxContainer"));this.inputBox=new u.InputBox(p,this.contextViewService,{placeholder:this.placeholder,ariaLabel:this.ariaLabel}),this.toDispose.push(this.inputBox),c.addClass(this.inputBox.inputElement,o.isWindows?"windows":o.isMacintosh?"mac":"linux"),this.inputBox.value=this.getInputBoxValue(l),setTimeout(function(){return t.inputBox.focus()},0);var g=!1,v=i.once(function(e){if(!g){if(g=!0,e){var n=t.debugService.getModel().getBreakpoints().filter(function(e){return e.lineNumber===t.lineNumber&&e.uri.toString()===a.toString()}).pop(),i={lineNumber:t.lineNumber,enabled:!0,condition:n&&n.condition,hitCondition:n&&n.hitCondition};t.hitCountContext?(i.hitCondition=t.inputBox.value,t.conditionInput&&(i.condition=t.conditionInput)):(i.condition=t.inputBox.value,t.hitCountInput&&(i.hitCondition=t.hitCountInput)),n&&t.debugService.removeBreakpoints(n.getId()).done(null,r.onUnexpectedError),t.debugService.addBreakpoints(a,[i]).done(null,r.onUnexpectedError)}t.dispose()}});this.toDispose.push(c.addStandardDisposableListener(this.inputBox.inputElement,"keydown",function(e){var t=e.equals(9),n=e.equals(3);(t||n)&&(e.stopPropagation(),v(n))}))},t.prototype.dispose=function(){var t=this;e.prototype.dispose.call(this),a.dispose(this.toDispose),setTimeout(function(){return t.editor.focus()},0)},t=g([v(2,h.IContextViewService),v(3,p.IDebugService)],t)}(l.ZoneWidget);t.BreakpointWidget=E}),define(l[296],h([1,0,5,7,8,78,282,43,42,25,82]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";var h=r.$,p=function(e){function t(t,n,i,r){e.call(this),this.context=t,this.action=n,this.debugService=i,this.configurationService=r,this.toDispose=[],this.selectBox=new s.SelectBox([],(-1)),this.registerListeners()}return d(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(t){e.updateOptions()})),this.toDispose.push(this.selectBox.onDidSelect(function(t){e.debugService.getViewModel().setSelectedConfigurationName(t)}))},t.prototype.render=function(e){var t=this;this.container=e,r.addClass(e,"start-debug-action-item");var n=r.append(e,h(".icon"));n.title=this.action.label,n.tabIndex=0,this.toDispose.push(r.addDisposableListener(n,"click",function(){n.blur(),t.actionRunner.run(t.action,t.context).done(null,i.onUnexpectedError)})),this.toDispose.push(r.addDisposableListener(n,"keyup",function(e){var n=new o.StandardKeyboardEvent(e);n.equals(3)&&t.actionRunner.run(t.action,t.context).done(null,i.onUnexpectedError)})),this.selectBox.render(r.append(e,h(".configuration"))),this.updateOptions()},t.prototype.setActionContext=function(e){this.context=e},t.prototype.isEnabled=function(){return this.debugService.state!==l.State.Inactive},t.prototype.focus=function(){this.container.focus()},t.prototype.blur=function(){this.container.blur()},t.prototype.dispose=function(){this.toDispose=n.dispose(this.toDispose)},t.prototype.updateOptions=function(){var e=this.configurationService.getConfiguration("launch");if(e&&e.configurations&&0!==e.configurations.length){var t=e.configurations.filter(function(e){return"string"==typeof e.name}).map(function(e){return e.name});e.compounds&&t.push.apply(t,e.compounds.filter(function(e){return"string"==typeof e.name&&e.configurations&&e.configurations.length}).map(function(e){return e.name}));var n=t.indexOf(this.debugService.getViewModel().selectedConfigurationName);this.selectBox.setOptions(t,n),this.selectBox.enabled=!0}else this.selectBox.setOptions([l.NO_CONFIGURATIONS_LABEL],0),this.selectBox.enabled=!1;this.debugService.getViewModel().setSelectedConfigurationName(this.selectBox.getSelected())},t=g([v(2,l.IDebugService),v(3,u.IConfigurationService)],t)}(c.EventEmitter);t.StartDebugActionItem=p;var f=function(e){function t(t,n){var i=this;e.call(this,null,t,[],-1),this.debugService=n,this.debugService.getViewModel().onDidFocusProcess(function(e){var t=i.debugService.getModel().getProcesses().map(function(e){return e.name});i.setOptions(t,e?t.indexOf(e.name):0)})}return d(t,e),t=g([v(1,l.IDebugService)],t)}(a.SelectActionItem);t.FocusProcessActionItem=f}),define(l[907],h([1,0,495,2,30,5,10,82,40]),function(e,t,n,i,r,o,s,a,c){"use strict";function u(e){for(var t={},n=0,i=e.length;n<i;n++)t[e[n]]=!0;return t}function l(e,t,n,i){return{startLineNumber:e,startColumn:t,endLineNumber:n,endColumn:i}}var h=function(){function e(e,t){this.modelService=e,this.debugService=t,this.modelData={},this.toDispose=[],this.registerListeners()}return e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){for(var e in this.modelData)if(this.modelData.hasOwnProperty(e)){var t=this.modelData[e];o.dispose(t.toDispose),t.model.deltaDecorations(t.breakpointDecorationIds,[]),t.model.deltaDecorations(t.currentStackDecorations,[])}this.toDispose=o.dispose(this.toDispose),this.modelData=null},e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.modelService.onModelAdded(this.onModelAdded,this)),this.modelService.getModels().forEach(function(t){return e.onModelAdded(t)}),this.toDispose.push(this.modelService.onModelRemoved(this.onModelRemoved,this)),this.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(function(){return e.onBreakpointsChange()})),this.toDispose.push(this.debugService.getViewModel().onDidFocusStackFrame(function(){return e.onFocusStackFrame()})),this.toDispose.push(this.debugService.onDidChangeState(function(){e.debugService.state===a.State.Inactive&&Object.keys(e.modelData).forEach(function(t){return e.modelData[t].dirty=!1})}))},e.prototype.onModelAdded=function(e){var t=this,n=e.uri.toString(),i=this.debugService.getModel().getBreakpoints().filter(function(e){return e.uri.toString()===n}),r=e.deltaDecorations([],this.createCallStackDecorations(n)),o=e.deltaDecorations([],this.createBreakpointDecorations(i)),s=[e.onDidChangeDecorations(function(e){return t.onModelDecorationsChanged(n,e)})];this.modelData[n]={model:e,toDispose:s,breakpointDecorationIds:o,breakpointLines:i.map(function(e){return e.lineNumber}),breakpointDecorationsAsMap:u(o),currentStackDecorations:r,topStackFrameRange:null,dirty:!1}},e.prototype.onModelRemoved=function(e){var t=e.uri.toString();if(this.modelData.hasOwnProperty(t)){var n=this.modelData[t];delete this.modelData[t],o.dispose(n.toDispose)}},e.prototype.onFocusStackFrame=function(){var e=this;Object.keys(this.modelData).forEach(function(t){var n=e.modelData[t];n.currentStackDecorations=n.model.deltaDecorations(n.currentStackDecorations,e.createCallStackDecorations(t))})},e.prototype.createCallStackDecorations=function(t){var n=this,i=[],r=this.debugService.getViewModel().focusedStackFrame;return r&&r.thread.getCallStack()?(r.thread.getCallStack().filter(function(e){return e.source.uri.toString()===t}).forEach(function(o){var s=l(o.lineNumber,o.column,o.lineNumber,Number.MAX_VALUE);
o===r.thread.getCallStack()[0]?(i.push({options:e.TOP_STACK_FRAME_MARGIN,range:l(o.lineNumber,o.column,o.lineNumber,o.column+1)}),"exception"===r.thread.stoppedDetails.reason?i.push({options:e.TOP_STACK_FRAME_EXCEPTION_DECORATION,range:s}):(i.push({options:e.TOP_STACK_FRAME_DECORATION,range:s}),n.modelData[t]&&(n.modelData[t].topStackFrameRange&&n.modelData[t].topStackFrameRange.startLineNumber===s.startLineNumber&&n.modelData[t].topStackFrameRange.startColumn!==s.startColumn&&i.push({options:e.TOP_STACK_FRAME_COLUMN_DECORATION,range:s}),n.modelData[t].topStackFrameRange=s))):o===r&&(i.push({options:e.FOCUSED_STACK_FRAME_MARGIN,range:l(o.lineNumber,o.column,o.lineNumber,o.column+1)}),i.push({options:e.FOCUSED_STACK_FRAME_DECORATION,range:s}))}),i):i},e.prototype.onModelDecorationsChanged=function(e,t){var n=this,r=this.modelData[e],o=Object.keys(r.breakpointDecorationsAsMap).length;if(0!==o&&t.changedDecorations.some(function(e){return r.breakpointDecorationsAsMap.hasOwnProperty(e)})){var s=[],c={};this.debugService.getModel().getBreakpoints().filter(function(t){return t.uri.toString()===e}).forEach(function(e){c[e.lineNumber]={enabled:e.enabled,condition:e.condition,hitCondition:e.hitCondition}});for(var u=r.model.uri,l=0,h=r.breakpointDecorationIds.length;l<h;l++){var d=r.model.getDecorationRange(r.breakpointDecorationIds[l]);d.endColumn-d.startColumn>0&&s.push({lineNumber:d.startLineNumber,enabled:c[r.breakpointLines[l]].enabled,condition:c[r.breakpointLines[l]].condition,hitCondition:c[r.breakpointLines[l]].hitCondition})}r.dirty=this.debugService.state!==a.State.Inactive&&this.debugService.state!==a.State.Disabled;var p=this.debugService.getModel().getBreakpoints().filter(function(e){return e.uri.toString()===u.toString()});i.TPromise.join(p.map(function(e){return n.debugService.removeBreakpoints(e.getId())})).then(function(){n.debugService.addBreakpoints(u,s)})}},e.prototype.onBreakpointsChange=function(){var e=this,t={};this.debugService.getModel().getBreakpoints().forEach(function(e){var n=e.uri.toString();t[n]?t[n].push(e):t[n]=[e]}),Object.keys(t).forEach(function(n){e.modelData.hasOwnProperty(n)&&e.updateBreakpoints(e.modelData[n],t[n])}),Object.keys(this.modelData).forEach(function(n){t.hasOwnProperty(n)||e.updateBreakpoints(e.modelData[n],[])})},e.prototype.updateBreakpoints=function(e,t){e.breakpointDecorationIds=e.model.deltaDecorations(e.breakpointDecorationIds,this.createBreakpointDecorations(t)),e.breakpointDecorationsAsMap=u(e.breakpointDecorationIds),e.breakpointLines=t.map(function(e){return e.lineNumber})},e.prototype.createBreakpointDecorations=function(e){var t=this;return e.map(function(e){return{options:t.getBreakpointDecorationOptions(e),range:l(e.lineNumber,1,e.lineNumber,Number.MAX_VALUE)}})},e.prototype.getBreakpointDecorationOptions=function(t){var n=this.debugService.getModel().areBreakpointsActivated(),i=this.debugService.state,o=i===a.State.Running||i===a.State.Stopped||i===a.State.Initializing,c=this.modelData[t.uri.toString()],u=t.enabled&&n?o&&c&&c.dirty&&!t.verified?e.BREAKPOINT_DIRTY_DECORATION:o&&!t.verified?e.BREAKPOINT_UNVERIFIED_DECORATION:t.condition||t.hitCondition?null:e.BREAKPOINT_DECORATION:e.BREAKPOINT_DISABLED_DECORATION;if(u&&t.message&&(u=r.clone(u),u.glyphMarginHoverMessage=t.message),u)return u;var l=this.debugService.getViewModel().focusedProcess;if(l&&!l.session.configuration.capabilities.supportsConditionalBreakpoints)return e.BREAKPOINT_UNSUPPORTED_DECORATION;var h,d=c?c.model.getMode():null,p=d?d.getId():"";h=t.condition&&t.hitCondition?"Expression: "+t.condition+"\nHitCount: "+t.hitCondition:t.condition?t.condition:t.hitCondition;var f="```"+p+"\n"+h+"```";return{glyphMarginClassName:"debug-breakpoint-conditional-glyph",glyphMarginHoverMessage:f,stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}},e.ID="breakpointManager",e.BREAKPOINT_DECORATION={glyphMarginClassName:"debug-breakpoint-glyph",glyphMarginHoverMessage:n.localize(0,null),stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.BREAKPOINT_DISABLED_DECORATION={glyphMarginClassName:"debug-breakpoint-disabled-glyph",glyphMarginHoverMessage:n.localize(1,null),stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.BREAKPOINT_UNVERIFIED_DECORATION={glyphMarginClassName:"debug-breakpoint-unverified-glyph",glyphMarginHoverMessage:n.localize(2,null),stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.BREAKPOINT_DIRTY_DECORATION={glyphMarginClassName:"debug-breakpoint-unverified-glyph",glyphMarginHoverMessage:n.localize(3,null),stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.BREAKPOINT_UNSUPPORTED_DECORATION={glyphMarginClassName:"debug-breakpoint-unsupported-glyph",glyphMarginHoverMessage:n.localize(4,null),stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.TOP_STACK_FRAME_MARGIN={glyphMarginClassName:"debug-top-stack-frame-glyph",stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.FOCUSED_STACK_FRAME_MARGIN={glyphMarginClassName:"debug-focused-stack-frame-glyph",stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.TOP_STACK_FRAME_DECORATION={isWholeLine:!0,className:"debug-top-stack-frame-line",stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.TOP_STACK_FRAME_EXCEPTION_DECORATION={isWholeLine:!0,className:"debug-top-stack-frame-exception-line",stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.TOP_STACK_FRAME_COLUMN_DECORATION={isWholeLine:!1,className:"debug-top-stack-frame-column",stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.FOCUSED_STACK_FRAME_DECORATION={isWholeLine:!0,className:"debug-focused-stack-frame-line",stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e=g([v(0,c.IModelService),v(1,a.IDebugService)],e)}();t.DebugEditorModelManager=h}),define(l[297],h([1,0,16,20,82]),function(e,t,n,i,r){"use strict";var o=function(){function e(t,r){void 0===r&&(r=!0),this.raw=t,this.uri=t.path?n.default.file(i.normalize(t.path)):n.default.parse(e.INTERNAL_URI_PREFIX+t.sourceReference+"/"+t.name),this.available=r}return Object.defineProperty(e.prototype,"name",{get:function(){return this.raw.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return this.raw.origin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reference",{get:function(){return this.raw.sourceReference},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inMemory",{get:function(){return e.isInMemory(this.uri)},enumerable:!0,configurable:!0}),e.isInMemory=function(t){return 0===t.toString().indexOf(e.INTERNAL_URI_PREFIX)},e.INTERNAL_URI_PREFIX=r.DEBUG_SCHEME+"://internal/",e}();t.Source=o}),define(l[151],h([1,0,498,2,5,11,95,30,21,35,15,297]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";var p=1e4,f=n.localize(0,null),g=function(){function e(t){void 0===t&&(t=e.ID_COUNTER++),this.id=t}return e.prototype.getId=function(){return"outputelement:"+this.id},e.ID_COUNTER=0,e}();t.AbstractOutputElement=g;var v=function(e){function t(t,n){e.call(this),this.value=t,this.severity=n,this.counter=1}return d(t,e),t}(g);t.OutputElement=v;var m=function(e){function t(t,n,i){e.call(this),this.name=t,this.valueObj=n,this.annotation=i}return d(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return null===this.valueObj?"null":Array.isArray(this.valueObj)?"Array["+this.valueObj.length+"]":c.isObject(this.valueObj)?"Object":c.isString(this.valueObj)?'"'+this.valueObj+'"':String(this.valueObj)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){return c.isObject(this.valueObj)&&Object.getOwnPropertyNames(this.valueObj).length>0},enumerable:!0,configurable:!0}),t.prototype.getChildren=function(){var e=this,n=[];return Array.isArray(this.valueObj)?n=this.valueObj.slice(0,t.MAX_CHILDREN).map(function(e,n){return new t(String(n),e)}):c.isObject(this.valueObj)&&(n=Object.getOwnPropertyNames(this.valueObj).slice(0,t.MAX_CHILDREN).map(function(n){return new t(n,e.valueObj[n])})),i.TPromise.as(n)},t.MAX_CHILDREN=1e3,t}(g);t.OutputNameValueElement=m;var y=function(){function e(e,t,n,i,r,o){void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),this.process=e,this.reference=t,this.id=n,this.namedVariables=i,this.indexedVariables=r,this.startOfVariables=o}return e.prototype.getChildren=function(){var t=this;return this.hasChildren?this.getChildrenInChunks?(this.namedVariables?this.fetchVariables(void 0,void 0,"named"):i.TPromise.as([])).then(function(n){for(var i=e.BASE_CHUNK_SIZE;t.indexedVariables>i*e.BASE_CHUNK_SIZE;)i*=e.BASE_CHUNK_SIZE;if(t.indexedVariables>i){for(var r=Math.ceil(t.indexedVariables/i),o=0;o<r;o++){var s=t.startOfVariables+o*i,a=Math.min(i,t.indexedVariables-o*i);n.push(new S(t.process,t,t.reference,"["+s+".."+(s+a-1)+"]","","",null,a,null,(!0),s))}return n}return t.fetchVariables(t.startOfVariables,t.indexedVariables,"indexed").then(function(e){return n.concat(e)})}):this.fetchVariables(void 0,void 0,void 0):i.TPromise.as([])},e.prototype.getId=function(){return this.id},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this.valueChanged=e.allValues[this.getId()]&&e.allValues[this.getId()]!==b.DEFAULT_VALUE&&e.allValues[this.getId()]!==t,e.allValues[this.getId()]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasChildren",{get:function(){return this.reference>0},enumerable:!0,configurable:!0}),e.prototype.fetchVariables=function(e,t,n){var i=this;return this.process.session.variables({variablesReference:this.reference,start:e,count:t,filter:n}).then(function(e){return e&&e.body&&e.body.variables?u.distinct(e.body.variables.filter(function(e){return!!e}),function(e){return e.name}).map(function(e){return new S(i.process,i,e.variablesReference,e.name,e.evaluateName,e.value,e.namedVariables,e.indexedVariables,e.type)}):[]},function(e){return[new S(i.process,i,0,null,e.message,"",0,0,null,(!1))]})},Object.defineProperty(e.prototype,"getChildrenInChunks",{get:function(){return!!this.indexedVariables},enumerable:!0,configurable:!0}),e.allValues={},e.BASE_CHUNK_SIZE=100,e}();t.ExpressionContainer=y;var b=function(e){function t(n,i){void 0===i&&(i=s.generateUuid()),e.call(this,null,0,i),this.name=n,this.available=!1,n&&(this.value=t.DEFAULT_VALUE)}return d(t,e),t.prototype.evaluate=function(e,r,o){var s=this;return e?(this.process=e,e.session.evaluate({expression:this.name,frameId:r?r.frameId:void 0,context:o}).then(function(e){s.available=!(!e||!e.body),e&&e.body&&(s.value=e.body.result,s.reference=e.body.variablesReference,s.namedVariables=e.body.namedVariables,s.indexedVariables=e.body.indexedVariables,s.type=e.body.type)},function(e){s.value=e.message,s.available=!1,s.reference=0})):(this.value="repl"===o?n.localize(2,null):t.DEFAULT_VALUE,this.available=!1,this.reference=0,i.TPromise.as(null))},t.DEFAULT_VALUE=n.localize(1,null),t}(y);t.Expression=b;var S=function(e){function t(t,n,i,r,o,s,a,c,u,l,h){void 0===u&&(u=null),void 0===l&&(l=!0),void 0===h&&(h=0),e.call(this,t,i,"variable:"+n.getId()+":"+r+":"+i,a,c,h),this.parent=n,this.name=r,this._evaluateName=o,this.type=u,this.available=l,this.value=s}return d(t,e),Object.defineProperty(t.prototype,"evaluateName",{get:function(){var e=this;if(this._evaluateName)return this._evaluateName;for(var n=[this.name],i=this.parent;i instanceof t||i instanceof b;)n.push(i.name),i=i.parent;n=n.reverse();var r=null;return n.forEach(function(n){r=r?t.ARRAY_ELEMENT_SYNTAX.test(n)||"node"===e.process.session.configuration.type&&!t.NOT_PROPERTY_SYNTAX.test(n)?n&&0===n.indexOf("[")?""+r+n:r+"['"+n+"']":r+"."+n:n}),r},enumerable:!0,configurable:!0}),t.prototype.setVariable=function(e){var t=this;return this.process.session.setVariable({name:this.name,value:e,variablesReference:this.parent.reference}).then(function(e){e&&e.body&&(t.value=e.body.value,t.type=e.body.type||t.type,t.reference=e.body.variablesReference,t.namedVariables=e.body.namedVariables,t.indexedVariables=e.body.indexedVariables)},function(e){t.errorMessage=e.message})},t.NOT_PROPERTY_SYNTAX=/^[a-zA-Z_][a-zA-Z0-9_]*$/,t.ARRAY_ELEMENT_SYNTAX=/\[.*\]$/,t}(y);t.Variable=S;var E=function(e){function t(t,n,i,r,o,s,a){e.call(this,t.thread.process,i,"scope:"+t.getId()+":"+n+":"+i,o,s),this.name=n,this.expensive=r,this.range=a}return d(t,e),t}(y);t.Scope=E;var _=function(){function e(e,t,n,i,r,o){this.thread=e,this.frameId=t,this.source=n,this.name=i,this.lineNumber=r,this.column=o,this.scopes=null}return e.prototype.getId=function(){return"stackframe:"+this.thread.getId()+":"+this.frameId},e.prototype.getScopes=function(){var e=this;return this.scopes||(this.scopes=this.thread.process.session.scopes({frameId:this.frameId}).then(function(t){return t&&t.body&&t.body.scopes?t.body.scopes.map(function(t){return new E(e,t.name,t.variablesReference,t.expensive,t.namedVariables,t.indexedVariables,t.line&&t.column&&t.endLine&&t.endColumn?new l.Range(t.line,t.column,t.endLine,t.endColumn):null)}):[]},function(e){return[]})),this.scopes},e.prototype.restart=function(){return this.thread.process.session.restartFrame({frameId:this.frameId})},e}();t.StackFrame=_;var C=function(){function e(e,t,n){this.process=e,this.name=t,this.threadId=n,this.promisedCallStack=null,this.stoppedDetails=null,this.cachedCallStack=null,this.stopped=!1}return e.prototype.getId=function(){return"thread:"+this.process.getId()+":"+this.name+":"+this.threadId},e.prototype.clearCallStack=function(){this.promisedCallStack=null,this.cachedCallStack=null},e.prototype.getCallStack=function(){return this.cachedCallStack},e.prototype.fetchCallStack=function(e){var t=this;return void 0===e&&(e=!1),this.stopped?(this.promisedCallStack?e&&(this.promisedCallStack=this.promisedCallStack.then(function(e){return t.getCallStackImpl(e.length).then(function(n){return t.cachedCallStack=e.concat(n),t.cachedCallStack})})):this.promisedCallStack=this.getCallStackImpl(0).then(function(e){return t.cachedCallStack=e,e}),this.promisedCallStack):i.TPromise.as([])},e.prototype.getCallStackImpl=function(e){var t=this;return this.process.session.stackTrace({threadId:this.threadId,startFrame:e,levels:20}).then(function(e){return e&&e.body?(t.stoppedDetails&&(t.stoppedDetails.totalFrames=e.body.totalFrames),e.body.stackFrames.map(function(e,i){return e?new _(t,e.id,e.source?new h.Source(e.source):new h.Source({name:f},(!1)),e.name,e.line,e.column):new _(t,0,new h.Source({name:f},(!1)),n.localize(3,null),null,null)})):[]},function(e){return t.stoppedDetails&&(t.stoppedDetails.framesErrorMessage=e.message),[]})},e.prototype.next=function(){return this.process.session.next({threadId:this.threadId})},e.prototype.stepIn=function(){return this.process.session.stepIn({threadId:this.threadId})},e.prototype.stepOut=function(){return this.process.session.stepOut({threadId:this.threadId})},e.prototype.stepBack=function(){return this.process.session.stepBack({threadId:this.threadId})},e.prototype.continue=function(){return this.process.session.continue({threadId:this.threadId})},e.prototype.pause=function(){return this.process.session.pause({threadId:this.threadId})},e.prototype.reverseContinue=function(){return this.process.session.reverseContinue({threadId:this.threadId})},e}();t.Thread=C;var w=function(){function e(e,t){this.name=e,this._session=t,this.threads={}}return Object.defineProperty(e.prototype,"session",{get:function(){return this._session},enumerable:!0,configurable:!0}),e.prototype.getThread=function(e){return this.threads[e]},e.prototype.getAllThreads=function(){var e=this;return Object.keys(this.threads).map(function(t){return e.threads[t]})},e.prototype.getId=function(){return this._session.getId()},e.prototype.rawUpdate=function(e){var t=this;e.thread&&!this.threads[e.threadId]&&(this.threads[e.threadId]=new C(this,e.thread.name,e.thread.id)),e.stoppedDetails&&(e.allThreadsStopped?Object.keys(this.threads).forEach(function(n){t.threads[n].stoppedDetails=a.clone(e.stoppedDetails),t.threads[n].stopped=!0,t.threads[n].clearCallStack()}):(this.threads[e.threadId].stoppedDetails=e.stoppedDetails,this.threads[e.threadId].clearCallStack(),this.threads[e.threadId].stopped=!0))},e.prototype.clearThreads=function(e,t){var n=this;void 0===t&&(t=void 0),t?this.threads[t]&&(this.threads[t].clearCallStack(),this.threads[t].stoppedDetails=void 0,this.threads[t].stopped=!1,e&&delete this.threads[t]):(Object.keys(this.threads).forEach(function(e){n.threads[e].clearCallStack(),n.threads[e].stoppedDetails=void 0,n.threads[e].stopped=!1}),e&&(this.threads={},y.allValues={}))},e.prototype.sourceIsUnavailable=function(e){var t=this;Object.keys(this.threads).forEach(function(n){t.threads[n].getCachedCallStack()&&t.threads[n].getCachedCallStack().forEach(function(t){t.source.uri.toString()===e.uri.toString()&&(t.source.available=!1)})})},e.prototype.completions=function(e,t,n,r){return this.session.configuration.capabilities.supportsCompletionsRequest?this.session.completions({frameId:e,text:t,column:n.column,line:n.lineNumber}).then(function(e){return e&&e.body&&e.body.targets?e.body.targets.map(function(e){return{label:e.label,insertText:e.text||e.label,type:e.type,overwriteBefore:e.length||r}}):[]},function(e){return[]}):i.TPromise.as([])},e}();t.Process=w;var I=function(){function e(e,t,n,i,r){this.uri=e,this.lineNumber=t,this.enabled=n,this.condition=i,this.hitCondition=r,void 0===n&&(this.enabled=!0),this.verified=!1,this.id=s.generateUuid()}return e.prototype.getId=function(){return this.id},e}();t.Breakpoint=I;var T=function(){function e(e,t,n){this.name=e,this.enabled=t,this.hitCondition=n,this.verified=!1,this.id=s.generateUuid()}return e.prototype.getId=function(){return this.id},e}();t.FunctionBreakpoint=T;var x=function(){function e(e,t,n){this.filter=e,this.label=t,this.enabled=n,this.id=s.generateUuid()}return e.prototype.getId=function(){return this.id},e}();t.ExceptionBreakpoint=x;var A=function(){function e(e,t,n,i,r){this.breakpoints=e,this.breakpointsActivated=t,this.functionBreakpoints=n,this.exceptionBreakpoints=i,this.watchExpressions=r,this.processes=[],this.replElements=[],this.toDispose=[],this._onDidChangeBreakpoints=new o.Emitter,this._onDidChangeCallStack=new o.Emitter,this._onDidChangeWatchExpressions=new o.Emitter,this._onDidChangeREPLElements=new o.Emitter}return e.prototype.getId=function(){return"root"},e.prototype.getProcesses=function(){return this.processes},e.prototype.addProcess=function(e,t){var n=new w(e,t);return this.processes.push(n),n},e.prototype.removeProcess=function(e){this.processes=this.processes.filter(function(t){return t.getId()!==e}),this._onDidChangeCallStack.fire()},Object.defineProperty(e.prototype,"onDidChangeBreakpoints",{get:function(){return this._onDidChangeBreakpoints.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeCallStack",{get:function(){return this._onDidChangeCallStack.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeWatchExpressions",{get:function(){return this._onDidChangeWatchExpressions.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeReplElements",{get:function(){return this._onDidChangeREPLElements.event},enumerable:!0,configurable:!0}),e.prototype.rawUpdate=function(e){var t=this.processes.filter(function(t){return t.getId()===e.sessionId}).pop();t&&(t.rawUpdate(e),this._onDidChangeCallStack.fire())},e.prototype.clearThreads=function(e,t,n){void 0===n&&(n=void 0);var i=this.processes.filter(function(t){return t.getId()===e}).pop();i&&(i.clearThreads(t,n),this._onDidChangeCallStack.fire())},e.prototype.getBreakpoints=function(){return this.breakpoints},e.prototype.getFunctionBreakpoints=function(){return this.functionBreakpoints},e.prototype.getExceptionBreakpoints=function(){return this.exceptionBreakpoints},e.prototype.setExceptionBreakpoints=function(e){var t=this;e&&(this.exceptionBreakpoints=e.map(function(e){var n=t.exceptionBreakpoints.filter(function(t){return t.filter===e.filter}).pop();return new x(e.filter,e.label,n?n.enabled:e.default)}))},e.prototype.areBreakpointsActivated=function(){return this.breakpointsActivated},e.prototype.setBreakpointsActivated=function(e){this.breakpointsActivated=e,this._onDidChangeBreakpoints.fire()},e.prototype.addBreakpoints=function(e,t){this.breakpoints=this.breakpoints.concat(t.map(function(t){return new I(e,t.lineNumber,t.enabled,t.condition,t.hitCondition)})),this.breakpointsActivated=!0,this._onDidChangeBreakpoints.fire()},e.prototype.removeBreakpoints=function(e){this.breakpoints=this.breakpoints.filter(function(t){return!e.some(function(e){return e.getId()===t.getId()})}),this._onDidChangeBreakpoints.fire()},e.prototype.updateBreakpoints=function(e){this.breakpoints.forEach(function(t){var n=e[t.getId()];n&&(t.lineNumber=n.line?n.line:t.lineNumber,t.verified=n.verified,t.idFromAdapter=n.id,t.message=n.message)}),this.breakpoints=u.distinct(this.breakpoints,function(e){return e.uri.toString()+e.lineNumber}),this._onDidChangeBreakpoints.fire()},e.prototype.setEnablement=function(e,t){if(e.enabled=t,e instanceof I&&!e.enabled){var n=e;n.verified=!1}this._onDidChangeBreakpoints.fire()},e.prototype.enableOrDisableAllBreakpoints=function(e){this.breakpoints.forEach(function(t){t.enabled=e,e||(t.verified=!1)}),this.exceptionBreakpoints.forEach(function(t){return t.enabled=e}),this.functionBreakpoints.forEach(function(t){return t.enabled=e}),this._onDidChangeBreakpoints.fire()},e.prototype.addFunctionBreakpoint=function(e){this.functionBreakpoints.push(new T(e,(!0),null)),this._onDidChangeBreakpoints.fire()},e.prototype.updateFunctionBreakpoints=function(e){this.functionBreakpoints.forEach(function(t){var n=e[t.getId()];n&&(t.name=n.name||t.name,t.verified=n.verified,t.idFromAdapter=n.id,t.hitCondition=n.hitCondition)}),this._onDidChangeBreakpoints.fire()},e.prototype.removeFunctionBreakpoints=function(e){this.functionBreakpoints=e?this.functionBreakpoints.filter(function(t){return t.getId()!==e}):[],this._onDidChangeBreakpoints.fire()},e.prototype.getReplElements=function(){return this.replElements},e.prototype.addReplExpression=function(e,t,n){var i=this,r=new b(n);return this.addReplElements([r]),r.evaluate(e,t,"repl").then(function(){return i._onDidChangeREPLElements.fire()})},e.prototype.appendToRepl=function(e,t){var n=this.replElements.length&&this.replElements[this.replElements.length-1];if(n instanceof v&&t===n.severity&&n.value===e&&e.trim())n.counter++;else{n&&""===n.value&&this.replElements.pop();var i="string"==typeof e?e.split("\n").map(function(e){return new v(e,t)}):[e];this.addReplElements(i)}this._onDidChangeREPLElements.fire()},e.prototype.addReplElements=function(e){(t=this.replElements).push.apply(t,e),this.replElements.length>p&&this.replElements.splice(0,this.replElements.length-p);var t},e.prototype.removeReplExpressions=function(){this.replElements.length>0&&(this.replElements=[],this._onDidChangeREPLElements.fire())},e.prototype.getWatchExpressions=function(){return this.watchExpressions},e.prototype.addWatchExpression=function(e,t,n){var r=new b(n);return this.watchExpressions.push(r),n?this.evaluateWatchExpressions(e,t,r.getId()):(this._onDidChangeWatchExpressions.fire(r),i.TPromise.as(null))},e.prototype.renameWatchExpression=function(e,t,n,r){var o=this,s=this.watchExpressions.filter(function(e){return e.getId()===n});return 1===s.length?(s[0].name=r,s[0].evaluate(e,t,"watch").then(function(){o._onDidChangeWatchExpressions.fire(s[0])})):i.TPromise.as(null)},e.prototype.evaluateWatchExpressions=function(e,t,n){var r=this;if(void 0===n&&(n=null),n){var o=this.watchExpressions.filter(function(e){return e.getId()===n});return 1!==o.length?i.TPromise.as(null):o[0].evaluate(e,t,"watch").then(function(){r._onDidChangeWatchExpressions.fire(o[0])})}return i.TPromise.join(this.watchExpressions.map(function(n){return n.evaluate(e,t,"watch")})).then(function(){r._onDidChangeWatchExpressions.fire()})},e.prototype.removeWatchExpressions=function(e){void 0===e&&(e=null),this.watchExpressions=e?this.watchExpressions.filter(function(t){return t.getId()!==e}):[],this._onDidChangeWatchExpressions.fire()},e.prototype.moveWatchExpression=function(e,t){var n=this.watchExpressions.filter(function(t){return t.getId()===e}).pop();this.watchExpressions=this.watchExpressions.filter(function(t){return t.getId()!==e}),this.watchExpressions=this.watchExpressions.slice(0,t).concat(n,this.watchExpressions.slice(t)),this._onDidChangeWatchExpressions.fire()},e.prototype.sourceIsUnavailable=function(e){this.processes.forEach(function(t){return t.sourceIsUnavailable(e)}),this._onDidChangeCallStack.fire()},e.prototype.dispose=function(){this.toDispose=r.dispose(this.toDispose)},e}();t.Model=A}),define(l[299],h([1,0,11]),function(e,t,n){"use strict";var i=function(){function e(e){this._selectedConfigurationName=e,this._onDidFocusStackFrame=new n.Emitter,this._onDidFocusProcess=new n.Emitter,this._onDidSelectExpression=new n.Emitter,this._onDidSelectFunctionBreakpoint=new n.Emitter,this._onDidSelectConfigurationName=new n.Emitter,this.changedWorkbenchViewState=!1,this.multiProcessView=!1}return e.prototype.getId=function(){return"root"},Object.defineProperty(e.prototype,"focusedProcess",{get:function(){return this._focusedProcess},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusedThread",{get:function(){return this._focusedStackFrame?this._focusedStackFrame.thread:this._focusedProcess?this._focusedProcess.getAllThreads().pop():null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusedStackFrame",{get:function(){if(this._focusedStackFrame)return this._focusedStackFrame;var e=this.focusedThread?this.focusedThread.getCallStack():null;return e&&e.length?e[0]:null},enumerable:!0,configurable:!0}),e.prototype.setFocusedStackFrame=function(e,t){this._focusedStackFrame=e,this._focusedProcess=t,this._onDidFocusStackFrame.fire(e),this._onDidFocusProcess.fire(t)},Object.defineProperty(e.prototype,"onDidFocusStackFrame",{get:function(){return this._onDidFocusStackFrame.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidFocusProcess",{get:function(){return this._onDidFocusProcess.event},enumerable:!0,configurable:!0}),e.prototype.getSelectedExpression=function(){return this.selectedExpression},e.prototype.setSelectedExpression=function(e){this.selectedExpression=e,this._onDidSelectExpression.fire(e)},Object.defineProperty(e.prototype,"onDidSelectExpression",{get:function(){return this._onDidSelectExpression.event},enumerable:!0,configurable:!0}),e.prototype.getSelectedFunctionBreakpoint=function(){return this.selectedFunctionBreakpoint},e.prototype.setSelectedFunctionBreakpoint=function(e){this.selectedFunctionBreakpoint=e,this._onDidSelectFunctionBreakpoint.fire(e)},Object.defineProperty(e.prototype,"onDidSelectFunctionBreakpoint",{get:function(){return this._onDidSelectFunctionBreakpoint.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedConfigurationName",{get:function(){return this._selectedConfigurationName},enumerable:!0,configurable:!0}),e.prototype.setSelectedConfigurationName=function(e){this._selectedConfigurationName=e,this._onDidSelectConfigurationName.fire(e)},e.prototype.isMultiProcessView=function(){return this.multiProcessView},e.prototype.setMultiProcessView=function(e){this.multiProcessView=e},Object.defineProperty(e.prototype,"onDidSelectConfiguration",{get:function(){return this._onDidSelectConfigurationName.event},enumerable:!0,configurable:!0}),e}();t.ViewModel=i}),define(l[911],h([1,0]),function(e,t){"use strict";var n=50,i=function(){function e(e){this.history=e,this.historyPointer=this.history.length,this.currentExpressionStoredMarkers=!1,this.historyOverwrites={}}return e.prototype.next=function(){return this.navigate(!1)},e.prototype.previous=function(){return this.navigate(!0)},e.prototype.navigate=function(e){var t=-1;return e&&this.historyPointer>0&&this.history.length>this.historyPointer-1?t=this.historyPointer-1:!e&&this.history.length>this.historyPointer+1&&(t=this.historyPointer+1),t>=0?(this.historyPointer=t,this.historyOverwrites&&this.historyOverwrites[t.toString()]?this.historyOverwrites[t.toString()]:this.history[t]):null},e.prototype.remember=function(e,t){var n;n=t?this.historyPointer+1:this.historyPointer-1,n!==this.history.length||this.currentExpressionStoredMarkers?(this.historyOverwrites||(this.historyOverwrites={}),this.historyOverwrites[n.toString()]=e):(this.history.push(e),this.currentExpressionStoredMarkers=!0)},e.prototype.evaluated=function(e){this.currentExpressionStoredMarkers&&this.history.pop(),!e||0!==this.history.length&&this.history[this.history.length-1]===e||this.history.push(e),this.historyPointer=this.history.length,this.currentExpressionStoredMarkers=!1,this.historyOverwrites=null},e.prototype.save=function(){return this.currentExpressionStoredMarkers&&this.history.pop(),this.history.length>n&&(this.history=this.history.splice(this.history.length-n,n)),this.history},e}();t.ReplHistory=i}),define(l[300],h([1,0,505,24,2,83,151,82]),function(e,t,n,i,r,o,s,a){"use strict";var c=function(e){function t(t,n,i,r){e.call(this,t,n,"debug-action copy-value"),this.value=i,this.debugService=r}return d(t,e),t.prototype.run=function(){var e=this;if(this.value instanceof s.Variable){var t=this.debugService.getViewModel().focusedStackFrame.frameId,n=this.debugService.getViewModel().focusedProcess;return n.session.evaluate({expression:this.value.evaluateName,frameId:t}).then(function(e){o.clipboard.writeText(e.body.result)},function(t){return o.clipboard.writeText(e.value.value)})}return o.clipboard.writeText(this.value),r.TPromise.as(null)},t.ID="workbench.debug.viewlet.action.copyValue",t.LABEL=n.localize(0,null),t=g([v(3,a.IDebugService)],t)}(i.Action);t.CopyValueAction=c;var u=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.run=function(){return o.clipboard.writeText(window.getSelection().toString()),r.TPromise.as(null)},t.ID="workbench.debug.action.copy",t.LABEL=n.localize(1,null),t}(i.Action);t.CopyAction=u}),define(l[913],h([1,0,27,62,228,23,6,34,304,307,338,278,160,352]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f){"use strict";var m=function(e){function t(t,n,i,r,o,s){e.call(this,t,n,i,r,o,s)}return d(t,e),t.prototype._getContributions=function(){return[c.MenuPreventer,u.SelectionClipboard,l.ContextMenuController,h.SuggestController,p.SnippetController,f.TabCompletionController]},t.prototype._getActions=function(){return n.CommonEditorRegistry.getEditorActions()},t=g([v(2,s.IInstantiationService),v(3,i.ICodeEditorService),v(4,a.ICommandService),v(5,o.IContextKeyService)],t)}(r.CodeEditorWidget);t.ReplEditor=m}),define(l[914],h([1,0,509,13,2]),function(e,t,n,i,r){"use strict";var o=function(){function e(){}return e.runInTerminal=function(t,i,o,s,a){var c=this;if("external"===s.kind)return i.runInTerminal(s.title,s.cwd,s.args,s.env);var u=0;return e.integratedTerminalInstance||(e.integratedTerminalInstance=t.createInstance(s.title||n.localize(0,null)),u=2e3),e.terminalDisposedListener||(e.terminalDisposedListener=t.onInstanceDisposed(function(t){e.integratedTerminalInstance&&e.integratedTerminalInstance.id===t.id&&(e.integratedTerminalInstance=null)})),t.setActiveInstance(e.integratedTerminalInstance),t.showPanel(!0),new r.TPromise(function(t,n){setTimeout(function(){var n=c.prepareCommand(s,o);e.integratedTerminalInstance.sendText(n,!0),t(void 0)},u)})},e.prepareCommand=function(e,t){var n,r=t.getConfiguration().terminal.integrated.shell;i.isWindows?n=r.windows:i.isLinux?n=r.linux:i.isMacintosh&&(n=r.osx),n=n.toLowerCase();var o="";if(n.indexOf("powershell")>=0){var s=function(e){return e=e.replace(/\'/g,"''"),e.indexOf(" ")>=0||e.indexOf("'")>=0||e.indexOf('"')>=0?"'"+e+"'":e};if(e.cwd&&(o+="cd '"+e.cwd+"'; "),e.env)for(var a in e.env)o+="$env:"+a+"='"+e.env[a]+"'; ";
for(var c=0,u=e.args;c<u.length;c++){var l=u[c];o+=s(l)+" "}}else if(n.indexOf("cmd.exe")>=0){var s=function(e){return e=e.replace(/\"/g,'""'),e.indexOf(" ")>=0||e.indexOf('"')>=0?'"'+e+'"':e};if(e.cwd&&(o+="cd "+s(e.cwd)+" && "),e.env){o+='cmd /C "';for(var a in e.env)o+='set "'+a+"="+e.env[a]+'" && '}for(var h=0,d=e.args;h<d.length;h++){var l=d[h];o+=s(l)+" "}e.env&&(o+='"')}else{var s=function(e){return e=e.replace(/\"/g,'\\"'),e.indexOf(" ")>=0?'"'+e+'"':e};if(e.cwd&&(o+="cd "+s(e.cwd)+" ; "),e.env){o+="env";for(var a in e.env)o+=" "+s(a+"="+e.env[a]);o+=" "}for(var p=0,f=e.args;p<f.length;p++){var l=f[p];o+=s(l)+" "}}return o},e}();t.TerminalSupport=o}),define(l[915],h([1,0,2,7]),function(e,t,n,i){"use strict";var r=function(){function e(e){this.id=e,this.sequence=1,this.contentLength=-1,this.pendingRequests={},this.rawData=new Buffer(0)}return e.prototype.getId=function(){return this.id},e.prototype.connect=function(e,t){var n=this;this.outputStream=t,e.on("data",function(e){n.rawData=Buffer.concat([n.rawData,e]),n.handleData()})},e.prototype.send=function(e,t){var r,o=this;return new n.TPromise(function(n,i){r=i,o.doSend(e,t,function(e){e.success?n(e):i(e)})},function(){return r(i.canceled())})},e.prototype.sendResponse=function(e){e.seq>0?console.error("attempt to send more than one response for command "+e.command):this.sendMessage("response",e)},e.prototype.doSend=function(e,t,n){var i={command:e};t&&Object.keys(t).length>0&&(i.arguments=t),this.sendMessage("request",i),n&&(this.pendingRequests[i.seq]=n)},e.prototype.sendMessage=function(t,n){n.type=t,n.seq=this.sequence++;var i=JSON.stringify(n),r=Buffer.byteLength(i,"utf8");this.outputStream.write("Content-Length: "+r.toString()+e.TWO_CRLF,"utf8"),this.outputStream.write(i,"utf8")},e.prototype.handleData=function(){for(;;){if(this.contentLength>=0){if(this.rawData.length>=this.contentLength){var t=this.rawData.toString("utf8",0,this.contentLength);this.rawData=this.rawData.slice(this.contentLength),this.contentLength=-1,t.length>0&&this.dispatch(t);continue}}else{var n=this.rawData.toString("utf8",0,this.rawData.length),i=n.indexOf(e.TWO_CRLF);if(i!==-1){var r=/Content-Length: (\d+)/.exec(n);if(r&&r[1]){this.contentLength=Number(r[1]),this.rawData=this.rawData.slice(i+e.TWO_CRLF.length);continue}}}break}},e.prototype.dispatch=function(e){try{var t=JSON.parse(e);switch(t.type){case"event":this.onEvent(t);break;case"response":var n=t,i=this.pendingRequests[n.request_seq];i&&(delete this.pendingRequests[n.request_seq],i(n));break;case"request":var r=t,o={type:"response",seq:0,command:r.command,request_seq:r.seq,success:!0};this.dispatchRequest(r,o)}}catch(e){this.onServerError(new Error(e.message||e))}},e.TWO_CRLF="\r\n\r\n",e}();t.V8Protocol=r}),define(l[916],h([1,0,12,180,15,160]),function(e,t,n,i,r,o){"use strict";var s=function(){function e(e,t,n,i){this.emmetSupportedModes=["html","xhtml","css","xml","xsl","haml","jade","jsx","slim","scss","sass","less","stylus","styl"],this._editor=e,this._syntaxProfiles=t,this._excludedLanguages=n,this._hasMadeEdits=!1,this._grammars=i}return e.prototype.isEmmetEnabledMode=function(){return this.emmetSupportedModes.indexOf(this.getSyntax())!==-1},e.prototype.getSelectionRange=function(){var e=this._editor.getSelection();return{start:this.getOffsetFromPosition(e.getStartPosition()),end:this.getOffsetFromPosition(e.getEndPosition())}},e.prototype.getCurrentLineRange=function(){var e=this._editor.getSelection().startLineNumber;return{start:this.getOffsetFromPosition({lineNumber:e,column:1}),end:this.getOffsetFromPosition({lineNumber:e+1,column:1})}},e.prototype.getCaretPos=function(){var e=this._editor.getSelection().getStartPosition();return this.getOffsetFromPosition(e)},e.prototype.setCaretPos=function(e){this.createSelection(e)},e.prototype.getCurrentLine=function(){var e=this._editor.getSelection().getStartPosition();return this._editor.getModel().getLineContent(e.lineNumber)},e.prototype.onBeforeEmmetAction=function(){this._hasMadeEdits=!1},e.prototype.replaceContent=function(e,t,s,a){var c=this.getPositionFromOffset(t),u=this.getPositionFromOffset(s),l=this._editor.getModel().getLineContent(c.lineNumber).substr(0,c.column-1),h=l.match(/<[\/]?$/);if(h){if(!n.startsWith(e,h[0]))return;c={lineNumber:c.lineNumber,column:c.column-h[0].length}}if(">"===this._editor.getModel().getLineContent(u.lineNumber).substr(u.column-1,u.column)){if(!n.endsWith(e,">"))return;u={lineNumber:u.lineNumber,column:u.column+1}}this._hasMadeEdits||(this._hasMadeEdits=!0,this._editor.pushUndoStop());var d=new r.Range(c.lineNumber,c.column,u.lineNumber,u.column),p=i.CodeSnippet.fromEmmet(e);o.SnippetController.get(this._editor).runWithReplaceRange(p,d)},e.prototype.onAfterEmmetAction=function(){this._hasMadeEdits&&this._editor.pushUndoStop()},e.prototype.getContent=function(){return this._editor.getModel().getValue()},e.prototype.createSelection=function(e,t){var n=this.getPositionFromOffset(e),i=null;i=t?this.getPositionFromOffset(t):n;var o=new r.Range(n.lineNumber,n.column,i.lineNumber,i.column);this._editor.setSelection(o),this._editor.revealRange(o)},e.prototype.getSyntax=function(){var e=this._editor.getSelection().getStartPosition(),t=this._editor.getModel().getModeIdAtPosition(e.lineNumber,e.column),n=t.split(".").pop();if(this._excludedLanguages.indexOf(n)!==-1)return"";var i=this.getSyntaxProfile(n);return i?i:this.emmetSupportedModes.indexOf(n)!==-1?n:/\b(typescriptreact|javascriptreact)\b/.test(n)?"jsx":"sass-indented"===n?"sass":n=this.checkParentMode(n)},e.prototype.getSyntaxProfile=function(e){var t=this._syntaxProfiles[e];if(t&&"string"==typeof t)return t},e.prototype.checkParentMode=function(e){var t=this._grammars.getGrammar(e);if(!t)return e;var n=t.split(".");if(n.length<2)return e;for(var i=1;i<n.length;i++){var r=n[n.length-i];if(this.emmetSupportedModes.indexOf(r)!==-1)return r}return e},e.prototype.getProfileName=function(){return null},e.prototype.prompt=function(e){},e.prototype.getSelection=function(){var e=this._editor.getSelection(),t=this._editor.getModel(),n=e.getStartPosition(),i=e.getEndPosition(),o=new r.Range(n.lineNumber,n.column,i.lineNumber,i.column);return t.getValueInRange(o)},e.prototype.getFilePath=function(){return this._editor.getModel().uri.fsPath},e.prototype.getPositionFromOffset=function(e){return this._editor.getModel().getPositionAt(e)},e.prototype.getOffsetFromPosition=function(e){return this._editor.getModel().getOffsetAt(e)},e}();t.EditorAccessor=s}),define(l[271],h([1,0,6]),function(e,t,n){"use strict";t.ITerminalService=n.createDecorator("nativeTerminalService")}),define(l[302],h([1,0,13,74,2]),function(e,t,n,i,r){"use strict";t.DEFAULT_TERMINAL_LINUX_READY=new r.TPromise(function(e){return n.isLinux?void i.exists("/etc/debian_version").then(function(t){e(t?"x-terminal-emulator":"gnome"===process.env.DESKTOP_SESSION||"gnome-classic"===process.env.DESKTOP_SESSION?"gnome-terminal":"kde-plasma"===process.env.DESKTOP_SESSION?"konsole":process.env.COLORTERM?process.env.COLORTERM:process.env.TERM?process.env.TERM:"xterm")}):void e("xterm")}),t.DEFAULT_TERMINAL_OSX="Terminal.app",t.DEFAULT_TERMINAL_WINDOWS="%COMSPEC%"}),define(l[919],h([1,0,121,70,177,530,7,2,25,302,16]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";function h(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function d(e){for(var t="",n=0,i=e;n<i.length;n++){var r=i[n];t+=r.indexOf(" ")>=0?'"'+r+'"':r,t+=" "}return t}var p,f=o.localize(0,null);!function(e){e[e.CMD=0]="CMD",e[e.CMDER=1]="CMDER"}(p||(p={}));var m=function(){function e(e){this._configurationService=e}return e.prototype.openTerminal=function(e){var t=this._configurationService.getConfiguration();this.spawnTerminal(n,t,r.getWindowsShell(),e).done(null,s.onUnexpectedError)},e.prototype.runInTerminal=function(t,i,r,o){var s=this._configurationService.getConfiguration(),c=s.terminal.external,l=c.windowsExec||u.DEFAULT_TERMINAL_WINDOWS;return new a.TPromise(function(t,s){var a='"'+i+" - "+f+'"',c='""'+r.join('" "')+'" & pause"',u=["/c","start",a,"/wait",l,"/c",c],d=h(h({},process.env),o),p={cwd:i,env:d,windowsVerbatimArguments:!0},g=n.spawn(e.CMD,u,p);g.on("error",s),t(null)})},e.prototype.spawnTerminal=function(e,t,n,i){var r=t.terminal.external,o=r.windowsExec||u.DEFAULT_TERMINAL_WINDOWS,s=this.getSpawnType(o);if(i&&":"===i[1]&&(i=i[0].toUpperCase()+i.substr(1)),s===p.CMDER)return e.spawn(o,[i]),a.TPromise.as(void 0);var c=["/c","start","/wait",'""',o];return new a.TPromise(function(t,r){var o=i?{cwd:i}:void 0,s=e.spawn(n,c,o);s.on("error",r),s.on("exit",function(){return t(null)})})},e.prototype.getSpawnType=function(e){var t=i.basename(e).toLowerCase();return"cmder"===t||"cmder.exe"===t?p.CMDER:p.CMD},e.CMD="cmd.exe",e=g([v(0,c.IConfigurationService)],e)}();t.WinTerminalService=m;var y=function(){function t(e){this._configurationService=e}return t.prototype.openTerminal=function(e){var t=this._configurationService.getConfiguration();this.spawnTerminal(n,t,e).done(null,s.onUnexpectedError)},t.prototype.runInTerminal=function(i,r,s,c){var h=this._configurationService.getConfiguration(),d=h.terminal.external,p=d.osxExec||u.DEFAULT_TERMINAL_OSX;return new a.TPromise(function(a,h){if(p===u.DEFAULT_TERMINAL_OSX||"iTerm.app"===p){for(var d=p===u.DEFAULT_TERMINAL_OSX?"TerminalHelper":"iTermHelper",g=l.default.parse(e.toUrl("vs/workbench/parts/execution/electron-browser/"+d+".scpt")).fsPath,v=[g,"-t",i||f,"-w",r],m=0,y=s;m<y.length;m++){var b=y[m];v.push("-a"),v.push(b)}if(c)for(var S in c)v.push("-e"),v.push(S+"="+c[S]);var E="",_=n.spawn(t.OSASCRIPT,v);_.on("error",h),_.stderr.on("data",function(e){E+=e.toString()}),_.on("exit",function(e){if(0===e)a(null);else if(E){var t=E.split("\n",1);h(new Error(t[0]))}else h(new Error(o.localize(1,null,d,e)))})}else h(new Error(o.localize(2,null,p)))})},t.prototype.spawnTerminal=function(e,t,n){var i=t.terminal.external,r=i.osxExec||u.DEFAULT_TERMINAL_OSX;return new a.TPromise(function(t,i){var o=e.spawn("/usr/bin/open",["-a",r,n]);o.on("error",i),o.on("exit",function(){return t(null)})})},t.OSASCRIPT="/usr/bin/osascript",t=g([v(0,c.IConfigurationService)],t)}();t.MacTerminalService=y;var b=function(){function e(e){this._configurationService=e}return e.prototype.openTerminal=function(e){var t=this._configurationService.getConfiguration();this.spawnTerminal(n,t,e).done(null,s.onUnexpectedError)},e.prototype.runInTerminal=function(t,i,r,s){var c=this._configurationService.getConfiguration(),l=c.terminal.external,p=l.linuxExec?a.TPromise.as(l.linuxExec):u.DEFAULT_TERMINAL_LINUX_READY;return new a.TPromise(function(t,a){var c=[];p.then(function(u){u.indexOf("gnome-terminal")>=0?c.push("-x"):c.push("-e"),c.push("bash"),c.push("-c");var l=d(r)+'; echo; read -p "'+e.WAIT_MESSAGE+'" -n1;';c.push("''"+l+"''");var p=h(h({},process.env),s),f={cwd:i,env:p},g="",v=n.spawn(u,c,f);v.on("error",a),v.stderr.on("data",function(e){g+=e.toString()}),v.on("exit",function(e){if(0===e)t(null);else if(g){var n=g.split("\n",1);a(new Error(n[0]))}else a(new Error(o.localize(4,null,u,e)))})})})},e.prototype.spawnTerminal=function(e,t,n){var i=t.terminal.external,r=i.linuxExec?a.TPromise.as(i.linuxExec):u.DEFAULT_TERMINAL_LINUX_READY,o=n?{cwd:n}:void 0;return new a.TPromise(function(t,n){r.then(function(i){var r=e.spawn(i,[],o);r.on("error",n),r.on("exit",function(){return t(null)})})})},e.WAIT_MESSAGE=o.localize(3,null),e=g([v(0,c.IConfigurationService)],e)}();t.LinuxTerminalService=b}),define(l[920],h([1,0,13,919,102,271]),function(e,t,n,i,r,o){"use strict";n.isWindows?r.registerSingleton(o.ITerminalService,i.WinTerminalService):n.isMacintosh?r.registerSingleton(o.ITerminalService,i.MacTerminalService):n.isLinux&&r.registerSingleton(o.ITerminalService,i.LinuxTerminalService)}),define(l[921],h([1,0,11,533,2,18]),function(e,t,n,i,r,o){"use strict";var s=function(){function e(e){this.messageService=e,this._onTreeExplorerNodeProviderRegistered=new n.Emitter,this._treeExplorerNodeProviders=Object.create(null)}return Object.defineProperty(e.prototype,"onTreeExplorerNodeProviderRegistered",{get:function(){return this._onTreeExplorerNodeProviderRegistered.event},enumerable:!0,configurable:!0}),e.prototype.registerTreeExplorerNodeProvider=function(e,t){this._treeExplorerNodeProviders[e]=t,this._onTreeExplorerNodeProviderRegistered.fire(e)},e.prototype.hasProvider=function(e){return!!this._treeExplorerNodeProviders[e]},e.prototype.provideRootNode=function(e){var t=this.getProvider(e);return r.TPromise.wrap(t.provideRootNode())},e.prototype.resolveChildren=function(e,t){var n=this.getProvider(e);return r.TPromise.wrap(n.resolveChildren(t))},e.prototype.executeCommand=function(e,t){var n=this.getProvider(e);return r.TPromise.wrap(n.executeCommand(t))},e.prototype.getProvider=function(e){var t=this._treeExplorerNodeProviders[e];return t||this.messageService.show(o.Severity.Error,i.localize(0,null)),t},e=g([v(0,o.IMessageService)],e)}();t.TreeExplorerService=s}),define(l[303],h([1,0]),function(e,t){"use strict";function n(e){return"workbench.view.extension."+e}function i(e){return"workbench.action.extension."+e}function r(e){return"extensionViewlet-"+e}function o(e){return/^[a-z0-9_-]+$/i.test(e)}t.toViewletId=n,t.toViewletActionId=i,t.toViewletCSSClass=r,t.isValidViewletId=o}),define(l[923],h([1,0,2,532,24,303]),function(e,t,n,i,r,o){"use strict";var s=function(e){function t(t){e.call(this,o.toViewletActionId("refresh"),i.localize(0,null),"extensionViewlet-action toggle",!0,function(){return t.updateInput(),n.TPromise.as(null)})}return d(t,e),t}(r.Action);t.RefreshViewExplorerAction=s}),define(l[219],h([1,0,6]),function(e,t,n){"use strict";t.ITreeExplorerService=n.createDecorator("treeExplorerService")}),define(l[305],h([1,0,2,29,85,242,68,219,123]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(){function e(e,t,n){this.treeNodeProviderId=e,this.treeExplorerService=t,this.progressService=n}return e.prototype.getId=function(e,t){return t.id.toString()},e.prototype.hasChildren=function(e,t){return t.hasChildren},e.prototype.getChildren=function(e,t){var n=this.treeExplorerService.resolveChildren(this.treeNodeProviderId,t);return this.progressService.showWhile(n,800),n},e.prototype.getParent=function(e,t){return n.TPromise.as(null)},e=g([v(1,a.ITreeExplorerService),v(2,c.IProgressService)],e)}();t.TreeDataSource=u;var l=function(e){function t(t,n){e.call(this,{actionProvider:t.actionProvider,actionRunner:n})}return d(t,e),t.prototype.getContentHeight=function(e,t){return 22},t.prototype.renderContents=function(e,t,n,r){var o=i.$(n).clearChildren(),s=i.$(".custom-viewlet-tree-node-item");return s.appendTo(o),this.renderFileFolderLabel(s,t)},t.prototype.renderFileFolderLabel=function(e,t){var n=i.$(".custom-viewlet-tree-node-item-label").appendTo(e);return i.$("a.plain").text(t.label).title(t.label).appendTo(n),null},t}(o.ActionsRenderer);t.TreeRenderer=l;var h=function(e){function t(t,n){e.call(this,{clickBehavior:r.ClickBehavior.ON_MOUSE_UP}),this.treeNodeProviderId=t,this.treeExplorerService=n}return d(t,e),t.prototype.onLeftClick=function(t,n,i,r){return void 0===r&&(r="mouse"),e.prototype.onLeftClick.call(this,t,n,i,r),n.clickCommand&&this.treeExplorerService.executeCommand(this.treeNodeProviderId,n),!0},t=g([v(1,a.ITreeExplorerService)],t)}(r.DefaultController);t.TreeController=h;var p=function(e){function t(t){e.call(this),this.state=t}return d(t,e),t}(s.ContributableActionProvider);t.TreeExplorerActionProvider=p;var f=function(){function e(){this._actionProvider=new p(this)}return Object.defineProperty(e.prototype,"actionProvider",{get:function(){return this._actionProvider},enumerable:!0,configurable:!0}),e}();t.TreeExplorerViewletState=f}),define(l[306],h([1,0]),function(e,t){"use strict";var n=function(){function e(e,t,n){this.value=e,this.sortBy=t,this.sortOrder=n,this.value=e.trim()}return e.parse=function(t){var n="",i="";return t=t.replace(/@sort:(\w+)(-\w*)?/g,function(e,t,r){return"-asc"!==r&&"-desc"!==r||(i=r.substr(1)),n=t,""}),new e(t,n,i)},e.prototype.toString=function(){var e=this.value;return this.sortBy&&(e=""+e+(e?" ":"")+"@sort:"+this.sortBy,this.sortOrder&&(e=e+"-"+this.sortOrder)),e},e.prototype.isValid=function(){return!(/@outdated/.test(this.value)||!this.sortBy&&this.sortOrder)},e.prototype.equals=function(e){return this.value===e.value&&this.sortBy===e.sortBy&&this.sortOrder===e.sortOrder},e}();t.Query=n}),define(l[106],h([1,0,6]),function(e,t,n){"use strict";t.VIEWLET_ID="workbench.view.extensions",function(e){e[e.Installing=0]="Installing",e[e.Installed=1]="Installed",e[e.Uninstalling=2]="Uninstalling",e[e.Uninstalled=3]="Uninstalled"}(t.ExtensionState||(t.ExtensionState={}));t.ExtensionState;t.SERVICE_ID="extensionsWorkbenchService",t.IExtensionsWorkbenchService=n.createDecorator(t.SERVICE_ID),t.ConfigurationKey="extensions"}),define(l[928],h([1,0,8,535,5,2,85,24,106,11,130,6]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";var p=function(){function e(){}return e.prototype.getId=function(e,t){var n=this,i=t.identifier;return this.getParent(e,t).then(function(t){i=t?n.getId(e,t)+"/"+i:i}),i},e.prototype.hasChildren=function(e,t){return t.hasDependencies},e.prototype.getChildren=function(e,t){return o.TPromise.as(t.dependencies)},e.prototype.getParent=function(e,t){return o.TPromise.as(t.dependent)},e}();t.DataSource=p;var f=function(){function e(e){this.instantiationService=e}return e.prototype.getHeight=function(e,t){return 62},e.prototype.getTemplateId=function(t,n){return n.extension?e.EXTENSION_TEMPLATE_ID:e.UNKNOWN_EXTENSION_TEMPLATE_ID},e.prototype.renderTemplate=function(t,n,i){return e.EXTENSION_TEMPLATE_ID===n?this.renderExtensionTemplate(t,i):this.renderUnknownExtensionTemplate(t,i)},e.prototype.renderExtensionTemplate=function(e,t){n.addClass(t,"dependency");var i=n.append(t,n.$("img.icon")),r=n.append(t,n.$(".details")),o=n.append(r,n.$(".header")),s=n.append(o,n.$("span.name")),a=this.instantiationService.createInstance(y),c=[n.addDisposableListener(s,"click",function(t){e.setFocus(a.extensionDependencies),e.setSelection([a.extensionDependencies]),a.run(t.ctrlKey||t.metaKey),t.stopPropagation(),t.preventDefault()})],u=n.append(o,n.$("span.identifier")),l=n.append(r,n.$(".footer")),h=n.append(l,n.$(".author"));return{icon:i,name:s,identifier:u,author:h,extensionDisposables:c,set extensionDependencies(e){a.extensionDependencies=e}}},e.prototype.renderUnknownExtensionTemplate=function(e,t){var r=n.append(t,n.$("div.unknown-dependency"));n.append(r,n.$("span.error-marker")).textContent=i.localize(0,null),n.append(r,n.$("span.message")).textContent=i.localize(1,null);var o=n.append(r,n.$("span.message"));return{identifier:o}},e.prototype.renderElement=function(t,n,i,r){return i===e.EXTENSION_TEMPLATE_ID?void this.renderExtension(t,n,r):void this.renderUnknownExtension(t,n,r)},e.prototype.renderExtension=function(e,t,n){var i=t.extension,r=u.once(l.domEvent(n.icon,"error"));r(function(){return n.icon.src=i.iconUrlFallback},null,n.extensionDisposables),n.icon.src=i.iconUrl,n.icon.complete?n.icon.style.visibility="inherit":(n.icon.style.visibility="hidden",n.icon.onload=function(){return n.icon.style.visibility="inherit"}),n.name.textContent=i.displayName,n.identifier.textContent=i.identifier,n.author.textContent=i.publisherDisplayName,n.extensionDependencies=t},e.prototype.renderUnknownExtension=function(e,t,n){n.identifier.textContent=t.identifier},e.prototype.disposeTemplate=function(t,n,i){n===e.EXTENSION_TEMPLATE_ID&&(i.extensionDisposables=r.dispose(i.extensionDisposables))},e.EXTENSION_TEMPLATE_ID="extension-template",e.UNKNOWN_EXTENSION_TEMPLATE_ID="unknown-extension-template",e=g([v(0,h.IInstantiationService)],e)}();t.Renderer=f;var m=function(e){function t(t){var n=this;e.call(this),this.extensionsWorkdbenchService=t,this.downKeyBindingDispatcher.set(32771,function(e,t){return n.openExtension(e,!0)})}return d(t,e),t.prototype.onLeftClick=function(t,n,i){var r=t.getFocus();return!(!e.prototype.onLeftClick.call(this,t,n,i)||null!==n.dependent)&&(r?t.setFocus(r):t.focusFirst(),!0)},t.prototype.onEnter=function(t,n){return!!e.prototype.onEnter.call(this,t,n)&&this.openExtension(t,!1)},t.prototype.openExtension=function(e,t){var n=e.getFocus();return!!n.extension&&(this.extensionsWorkdbenchService.open(n.extension,t),!0)},t=g([v(0,c.IExtensionsWorkbenchService)],t)}(s.DefaultController);t.Controller=m;var y=function(e){function t(t){e.call(this,"extensions.action.openDependency",""),this.extensionsWorkdbenchService=t}return d(t,e),Object.defineProperty(t.prototype,"extensionDependencies",{get:function(){return this._extensionDependencies},set:function(e){this._extensionDependencies=e},enumerable:!0,configurable:!0}),t.prototype.run=function(e){return this.extensionsWorkdbenchService.open(this._extensionDependencies.extension,e)},t=g([v(0,c.IExtensionsWorkbenchService)],t)}(a.Action)}),define(l[308],h([1,0,5,106,8,770]),function(e,t,n,i,r){"use strict";var o=function(){function e(e,t,n){this.element=e,this.fn=t,this.render(),this.listener=n.onChange(this.render,this)}return Object.defineProperty(e.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.render()},enumerable:!0,configurable:!0}),e.prototype.render=function(){this.element.textContent=this.extension?this.fn(this.extension):""},e.prototype.dispose=function(){this.listener=n.dispose(this.listener)},e=g([v(2,i.IExtensionsWorkbenchService)],e)}();t.Label=o;var s=function(){function e(e,t,n){var i=this;this.container=e,this.options=t,this.disposables=[],this._extension=t.extension,this.disposables.push(n.onChange(function(){return i.render()})),r.addClass(e,"extension-install-count"),this.render()}return Object.defineProperty(e.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.render()},enumerable:!0,configurable:!0}),e.prototype.render=function(){if(this.container.innerHTML="",this.extension){var e=this.extension.installCount;if(null!==e){var t;this.options.small&&(e>1e6?t=Math.floor(e/1e6)+"M":e>1e3&&(t=Math.floor(e/1e3)+"K")),r.append(this.container,r.$("span.octicon.octicon-cloud-download"));var n=r.append(this.container,r.$("span.count"));n.textContent=t||String(e)}}},e.prototype.dispose=function(){this.disposables=n.dispose(this.disposables)},e=g([v(2,i.IExtensionsWorkbenchService)],e)}();t.InstallWidget=s;var a=function(){function e(e,t,n){var i=this;this.container=e,this.options=t,this.disposables=[],this._extension=t.extension,this.disposables.push(n.onChange(function(){return i.render()})),r.addClass(e,"extension-ratings"),t.small&&r.addClass(e,"small"),this.render()}return Object.defineProperty(e.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.render()},enumerable:!0,configurable:!0}),e.prototype.render=function(){if(this.container.innerHTML="",this.extension){var e=Math.round(2*this.extension.rating)/2;if(null!==this.extension.rating&&(!this.options.small||0!==this.extension.ratingCount))if(this.options.small){r.append(this.container,r.$("span.full.star"));var t=r.append(this.container,r.$("span.count"));t.textContent=String(e)}else for(var n=1;n<=5;n++)e>=n?r.append(this.container,r.$("span.full.star")):e>=n-.5?r.append(this.container,r.$("span.half.star")):r.append(this.container,r.$("span.empty.star"))}},e.prototype.dispose=function(){this.disposables=n.dispose(this.disposables)},e=g([v(2,i.IExtensionsWorkbenchService)],e)}();t.RatingsWidget=a}),define(l[309],h([1,0,540,88]),function(e,t,n,i){"use strict";t.ExtensionsConfigurationSchemaId="vscode://schemas/extensions",t.ExtensionsConfigurationSchema={id:t.ExtensionsConfigurationSchemaId,type:"object",title:n.localize(0,null),properties:{recommendations:{type:"array",description:n.localize(1,null),items:{type:"string",defaultSnippets:[{label:"Example",body:"vscode.csharp"}],pattern:i.EXTENSION_IDENTIFIER_PATTERN,errorMessage:n.localize(2,null)}}}},t.ExtensionsConfigurationInitialContent=["{","\t// See http://go.microsoft.com/fwlink/?LinkId=827846","\t// for the documentation about the extensions.json format",'\t"recommendations": [',"\t\t// Extension identifier format: ${publisher}.${name}. Example: vscode.csharp","\t\t","\t]","}"].join("\n")}),define(l[280],h([1,0,541,2,28]),function(e,t,n,i,r){"use strict";var o=function(e){function t(t){e.call(this),this._extension=t}return d(t,e),Object.defineProperty(t,"ID",{get:function(){return"workbench.extensions.input2"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},enumerable:!0,configurable:!0}),t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return n.localize(0,null,this.extension.displayName)},t.prototype.matches=function(e){if(!(e instanceof t))return!1;var n=e;return this.extension===n.extension},t.prototype.resolve=function(e){return i.TPromise.as(null)},t.prototype.supportsSplitEditor=function(){return!1},t}(r.EditorInput);t.ExtensionsInput=o}),define(l[932],h([1,0,546,29,404,19,61,8,34,7,196,783]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";var h;!function(e){e[e.SENDING=0]="SENDING",e[e.SENT=1]="SENT",e[e.SEND_ERROR=2]="SEND_ERROR"}(h||(h={}));var p=function(e){function t(t,r,o,a,c){var u=this;e.call(this,t,{contextViewProvider:r.contextViewProvider,labelRenderer:function(e){return i.$(e).addClass("send-feedback"),null}}),this.telemetryService=o,this.commandService=a,this.integrityService=c,this._isPure=!0,this.integrityService.isPure().then(function(e){e.isPure||(u._isPure=!1)}),this.$el.addClass("send-feedback"),this.$el.title(n.localize(0,null)),this.feedbackService=r.feedbackService,this.feedback="",this.sentiment=1,this.maxFeedbackCharacters=this.feedbackService.getCharacterLimit(this.sentiment),this.feedbackForm=null,this.feedbackDescriptionInput=null,this.smileyInput=null,this.frownyInput=null,this.sendButton=null,this.reportIssueLink=s.default.reportIssueUrl,this.requestFeatureLink=s.default.requestFeatureUrl}return d(t,e),t.prototype.renderContents=function(e){var t=this,r=i.$("form.feedback-form").attr({action:"javascript:void(0);",tabIndex:"-1"}).appendTo(e);i.$(e).addClass("monaco-menu-container"),this.feedbackForm=r.getHTMLElement(),i.$("h2.title").text(n.localize(1,null)).appendTo(r),this.invoke(i.$("div.cancel").attr("tabindex","0"),function(){t.hide()}).appendTo(r);var o=i.$("div.content").appendTo(r),s=i.$("div").appendTo(o);this._isPure||(i.$("span").text(n.localize(2,null)).appendTo(s),i.$("br").appendTo(s),i.$("span").text(n.localize(3,null)).appendTo(s),i.$("br").appendTo(s)),i.$("span").text(n.localize(4,null)).appendTo(s);var c=i.$("div.feedback-sentiment").appendTo(s);this.smileyInput=i.$("div").addClass("sentiment smile").attr({"aria-checked":"false","aria-label":n.localize(5,null),tabindex:0,role:"checkbox"}),this.invoke(this.smileyInput,function(){t.setSentiment(!0)}).appendTo(c),this.frownyInput=i.$("div").addClass("sentiment frown").attr({"aria-checked":"false","aria-label":n.localize(6,null),tabindex:0,role:"checkbox"}),this.invoke(this.frownyInput,function(){t.setSentiment(!1)}).appendTo(c),1===this.sentiment?this.smileyInput.addClass("checked").attr("aria-checked","true"):this.frownyInput.addClass("checked").attr("aria-checked","true");var l=i.$("div.contactus").appendTo(o);i.$("span").text(n.localize(7,null)).appendTo(l);var h=i.$("div.channels").appendTo(l);i.$("div").append(i.$("a").attr("target","_blank").attr("href","#").text(n.localize(8,null)).attr("tabindex","0")).on("click",function(e){a.EventHelper.stop(e),t.commandService.executeCommand("workbench.action.reportIssues").done(null,u.onUnexpectedError)}).appendTo(h),i.$("div").append(i.$("a").attr("target","_blank").attr("href",this.requestFeatureLink).text(n.localize(9,null)).attr("tabindex","0")).appendTo(h),this.remainingCharacterCount=i.$("span.char-counter").text(this.getCharCountText(0)),i.$("h3").text(n.localize(10,null)).append(this.remainingCharacterCount).appendTo(r),this.feedbackDescriptionInput=i.$("textarea.feedback-description").attr({rows:3,maxlength:this.maxFeedbackCharacters,"aria-label":n.localize(11,null)}).text(this.feedback).attr("required","required").on("keyup",function(){t.updateCharCountText()}).appendTo(r).domFocus().getHTMLElement();var d=i.$("div.form-buttons").appendTo(r);return this.sendButton=this.invoke(i.$("input.send").type("submit").attr("disabled","").value(n.localize(12,null)).appendTo(d),function(){t.isSendingFeedback||t.onSubmit()}),{dispose:function(){t.feedbackForm=null,t.feedbackDescriptionInput=null,t.smileyInput=null,t.frownyInput=null}}},t.prototype.getCharCountText=function(e){var t=this.maxFeedbackCharacters-e,i=1===t?n.localize(13,null):n.localize(14,null);return"("+t+" "+i+")"},t.prototype.updateCharCountText=function(){this.remainingCharacterCount.text(this.getCharCountText(this.feedbackDescriptionInput.value.length)),this.feedbackDescriptionInput.value?this.sendButton.removeAttribute("disabled"):this.sendButton.attr("disabled","")},t.prototype.setSentiment=function(e){e?(this.smileyInput.addClass("checked"),this.smileyInput.attr("aria-checked","true"),this.frownyInput.removeClass("checked"),this.frownyInput.attr("aria-checked","false")):(this.frownyInput.addClass("checked"),this.frownyInput.attr("aria-checked","true"),this.smileyInput.removeClass("checked"),this.smileyInput.attr("aria-checked","false")),this.sentiment=e?1:0,this.maxFeedbackCharacters=this.feedbackService.getCharacterLimit(this.sentiment),this.updateCharCountText(),i.$(this.feedbackDescriptionInput).attr({maxlength:this.maxFeedbackCharacters})},t.prototype.invoke=function(e,t){return e.on("click",t),e.on("keypress",function(e){if(e instanceof KeyboardEvent){var n=e;13!==n.keyCode&&32!==n.keyCode||t()}}),e},t.prototype.hide=function(){this.feedbackDescriptionInput&&(this.feedback=this.feedbackDescriptionInput.value),this.autoHideTimeout&&(clearTimeout(this.autoHideTimeout),this.autoHideTimeout=null),e.prototype.hide.call(this)},t.prototype.onEvent=function(e,t){if(e instanceof KeyboardEvent){var n=e;27===n.keyCode&&this.hide()}},t.prototype.onSubmit=function(){this.feedbackForm.checkValidity&&!this.feedbackForm.checkValidity()||(this.changeFormStatus(h.SENDING),this.feedbackService.submitFeedback({feedback:this.feedbackDescriptionInput.value,sentiment:this.sentiment}),this.changeFormStatus(h.SENT))},t.prototype.changeFormStatus=function(e){var t=this;switch(e){case h.SENDING:this.isSendingFeedback=!0,this.sendButton.setClass("send in-progress"),this.sendButton.value(n.localize(15,null));break;case h.SENT:this.isSendingFeedback=!1,this.sendButton.setClass("send success").value(n.localize(16,null)),this.resetForm(),this.autoHideTimeout=setTimeout(function(){t.hide()},1e3),this.sendButton.off(["click","keypress"]),this.invoke(this.sendButton,function(){t.hide(),t.sendButton.off(["click","keypress"])});break;case h.SEND_ERROR:this.isSendingFeedback=!1,this.sendButton.setClass("send error").value(n.localize(17,null))}},t.prototype.resetForm=function(){this.feedbackDescriptionInput&&(this.feedbackDescriptionInput.value=""),this.sentiment=1,this.maxFeedbackCharacters=this.feedbackService.getCharacterLimit(this.sentiment),this.aliasEnabled=!1},t=g([v(2,o.ITelemetryService),v(3,c.ICommandService),v(4,l.IIntegrityService)],t)}(r.Dropdown);t.FeedbackDropdown=p}),define(l[933],h([1,0,932,39,6,61]),function(e,t,n,i,r,o){"use strict";var s=function(){function e(){}return e.prototype.combineHashTagsAsString=function(){return e.HASHTAGS.join(",")},e.prototype.submitFeedback=function(t){var n="?"+(1===t.sentiment?"hashtags="+this.combineHashTagsAsString()+"&":null)+"ref_src=twsrc%5Etfw&related=twitterapi%2Ctwitter&text="+t.feedback+"&tw_p=tweetbutton&via="+e.VIA_NAME,i=e.TWITTER_URL+n;window.open(i)},e.prototype.getCharacterLimit=function(t){var n=0;return 1===t&&e.HASHTAGS.forEach(function(e){n+=e.length+2}),e.VIA_NAME&&(n+=(" via @"+e.VIA_NAME).length),140-n},e.TWITTER_URL="https://twitter.com/intent/tweet",
e.VIA_NAME="code",e.HASHTAGS=["HappyCoding"],e}(),a=function(){function e(e,t){this.instantiationService=e,this.contextViewService=t}return e.prototype.render=function(e){return o.default.sendASmile?this.instantiationService.createInstance(n.FeedbackDropdown,e,{contextViewProvider:this.contextViewService,feedbackService:this.instantiationService.createInstance(s)}):null},e=g([v(0,r.IInstantiationService),v(1,i.IContextViewService)],e)}();t.FeedbackStatusbarItem=a}),define(l[934],h([1,0,14,175,933]),function(e,t,n,i,r){"use strict";n.Registry.as(i.Extensions.Statusbar).registerStatusbarItem(new i.StatusbarItemDescriptor(r.FeedbackStatusbarItem,i.StatusbarAlignment.RIGHT,(-100)))}),define(l[181],h([1,0,119,16,20,33]),function(e,t,n,i,r,o){"use strict";!function(e){e[e.FILE=0]="FILE",e[e.FOLDER=1]="FOLDER",e[e.ANY=2]="ANY"}(t.StatType||(t.StatType={}));var s=t.StatType,a=function(){function e(e,t,n,i,o,s){void 0===i&&(i=r.basename(e.fsPath)),this.resource=e,this.name=i,this.isDirectory=!!t,this.hasChildren=t&&n,this.etag=s,this.mtime=o,this.isDirectory&&(this.children=[]),this.isDirectoryResolved=!1}return e.prototype.getId=function(){return this.resource.toString()},e.create=function(t,n){var i=new e(t.resource,t.isDirectory,t.hasChildren,t.name,t.mtime,t.etag);if(i.isDirectory&&(i.isDirectoryResolved=!!t.children||!!n&&n.some(function(e){return r.isEqualOrParent(e.fsPath,i.resource.fsPath)}),t.children))for(var o=0,s=t.children.length;o<s;o++){var a=e.create(t.children[o],n);a.parent=i,i.children.push(a),i.hasChildren=i.children.length>0}return i},e.mergeLocalWithDisk=function(t,i){n.ok(t.resource.toString()===i.resource.toString(),"Merging only supported for stats with the same resource");var r=t.isDirectory||i.isDirectory;if((!r||!i.isDirectoryResolved||t.isDirectoryResolved)&&(i.resource=t.resource,i.name=t.name,i.isDirectory=t.isDirectory,i.hasChildren=t.isDirectory&&t.hasChildren,i.mtime=t.mtime,i.isDirectoryResolved=t.isDirectoryResolved,r&&t.isDirectoryResolved)){var o=Object.create(null);i.children.forEach(function(e){o[e.resource.toString()]=e}),i.children=[],t.children.forEach(function(t){var n=o[t.resource.toString()];n?(e.mergeLocalWithDisk(t,n),n.parent=i,i.children.push(n)):(t.parent=i,i.children.push(t))})}},e.prototype.clone=function(){var t=new e(i.default.parse(this.resource.toString()),this.isDirectory,this.hasChildren,this.name,this.mtime,this.etag);return t.isDirectoryResolved=this.isDirectoryResolved,this.parent&&(t.parent=this.parent),this.isDirectory&&this.children.forEach(function(e){t.addChild(e.clone())}),t},e.prototype.addChild=function(e){e.parent=this,e.updateResource(!1),this.children.push(e),this.hasChildren=this.children.length>0},e.prototype.hasChild=function(e,t,n){void 0===n&&(n=s.ANY);for(var i=0;i<this.children.length;i++){var r=this.children[i];if(!(n===s.FILE&&r.isDirectory||n===s.FOLDER&&!r.isDirectory)){if(r.name===e)return!0;if(t&&r.name.toLowerCase()===e.toLowerCase())return!0}}return!1},e.prototype.removeChild=function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].resource.toString()===e.resource.toString()){this.children.splice(t,1);break}this.hasChildren=this.children.length>0},e.prototype.move=function(e,t,n){var i=this;t||(t=function(e){e()}),this.parent.removeChild(this),t(function(){e.removeChild(i),e.addChild(i),i.updateResource(!0),n&&n()})},e.prototype.updateResource=function(e){this.resource=i.default.file(r.join(this.parent.resource.fsPath,this.name)),e&&this.isDirectory&&this.hasChildren&&this.children&&this.children.forEach(function(e){e.updateResource(!0)})},e.prototype.rename=function(e){this.name=e.name,this.mtime=e.mtime,this.updateResource(!0)},e.prototype.find=function(e){if(o.isEqual(e.toString(),this.resource.toString()))return this;if(!this.hasChildren)return null;for(var t=0;t<this.children.length;t++){var n=this.children[t];if(o.isEqual(e.toString(),n.resource.toString()))return n;if(n.isDirectory&&o.isParent(e.fsPath,n.resource.fsPath))return n.find(e)}return null},e}();t.FileStat=a;var c=function(e){function t(n){e.call(this,i.default.file("")),this.id=t.ID++,this.isDirectoryResolved=n,this.directoryPlaceholder=n}return d(t,e),t.prototype.destroy=function(){this.parent.removeChild(this),this.isDirectoryResolved=void 0,this.name=void 0,this.isDirectory=void 0,this.hasChildren=void 0,this.mtime=void 0},t.prototype.getId=function(){return"new-stat-placeholder:"+this.id+":"+this.parent.resource.toString()},t.prototype.isDirectoryPlaceholder=function(){return this.directoryPlaceholder},t.prototype.clone=function(){var e=new t(this.isDirectory);return e.parent=this.parent,e},t.prototype.addChild=function(e){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.hasChild=function(e,t){return!1},t.prototype.removeChild=function(e){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.move=function(e){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.rename=function(e){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.find=function(e){return null},t.addNewStatPlaceholder=function(e,n){var i=new t(n);return i.parent=e,e.children.push(i),e.hasChildren=e.children.length>0,i},t.ID=0,t}(a);t.NewStatPlaceholder=c}),define(l[92],h([1,0,28,181,23,19]),function(e,t,n,i,r,o){"use strict";function s(e){if(e instanceof i.FileStat){var t=e;return{resource:t.resource,isDirectory:t.isDirectory}}return null}t.VIEWLET_ID="workbench.view.explorer",t.ExplorerViewletVisible=new r.RawContextKey("explorerViewletVisible",(!0)),t.FILE_EDITOR_INPUT_ID="workbench.editors.files.fileEditorInput",t.TEXT_FILE_EDITOR_ID="workbench.editors.files.textFileEditor",t.BINARY_FILE_EDITOR_ID="workbench.editors.files.binaryFileEditor";var a=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getTelemetryDescriptor=function(){var t=e.prototype.getTelemetryDescriptor.call(this);return t.resource=o.telemetryURIDescriptor(this.getResource()),t},t}(n.EditorInput);t.FileEditorInput=a,t.asFileResource=s}),define(l[937],h([1,0,547,290,92,19]),function(e,t,n,i,r,o){"use strict";var s=function(e){function t(n){e.call(this,t.ID,n)}return d(t,e),t.prototype.getTitle=function(){return this.getInput()?this.getInput().getName():n.localize(0,null)},t.ID=r.BINARY_FILE_EDITOR_ID,t=g([v(0,o.ITelemetryService)],t)}(i.BaseBinaryResourceEditor);t.BinaryFileEditor=s}),define(l[938],h([1,0]),function(e,t){"use strict";var n=function(){function e(e,t){this.fn=t,this.id=e}return e.prototype.run=function(){return this.fn()},e.prototype.dispose=function(){},e}();t.GitOperation=n}),define(l[939],h([1,0,569,2,42,29,791]),function(e,t,n,i,r,o){"use strict";var s=o.$,a=function(e){function t(){e.apply(this,arguments),this.ID="disabled"}return d(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element||this.render(),this._element},enumerable:!0,configurable:!0}),t.prototype.render=function(){this._element=s(['<div class="disabled-view">',"<p>",n.localize(0,null),"</p>","</div>"].join("")).getHTMLElement()},t.prototype.focus=function(){},t.prototype.layout=function(e){},t.prototype.setVisible=function(e){return i.TPromise.as(null)},t.prototype.getControl=function(){return null},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t}(r.EventEmitter);t.DisabledView=a}),define(l[940],h([1,0,571,13,2,42,29,61,793]),function(e,t,n,i,r,o,s,a){"use strict";var c=s.$,u=function(e){function t(){e.call(this),this.ID="gitless"}return d(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element||this.render(),this._element},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e;e=i.isMacintosh?n.localize(0,null,'<a href="http://brew.sh/" tabindex="0" target="_blank">Homebrew</a>','<a href="http://git-scm.com/download/mac" tabindex="0" target="_blank">git-scm.com</a>','<a href="https://developer.apple.com/xcode/" tabindex="0" target="_blank">XCode</a>',"<code>git</code>"):i.isWindows?n.localize(1,null,'<a href="https://chocolatey.org/packages/git" tabindex="0" target="_blank">Chocolatey</a>','<a href="http://git-scm.com/download/win" tabindex="0" target="_blank">git-scm.com</a>'):i.isLinux?n.localize(2,null,'<a href="http://git-scm.com/download/linux" tabindex="0" target="_blank">git-scm.com</a>'):n.localize(3,null,'<a href="http://git-scm.com/download" tabindex="0" target="_blank">git-scm.com</a>'),this._element=c(['<div class="gitless-view">',"<p>",n.localize(4,null),"</p>","<p>",e,"</p>","<p>",n.localize(5,null,a.default.nameLong),"</p>","</div>"].join("")).getHTMLElement()},t.prototype.focus=function(){},t.prototype.layout=function(e){},t.prototype.setVisible=function(e){return r.TPromise.as(null)},t.prototype.getControl=function(){return null},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t}(o.EventEmitter);t.GitlessView=u}),define(l[941],h([1,0,573,2,42,29,798]),function(e,t,n,i,r,o){"use strict";var s=o.$,a=function(e){function t(){e.apply(this,arguments),this.ID="notroot"}return d(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element||this.render(),this._element},enumerable:!0,configurable:!0}),t.prototype.render=function(){this._element=s(['<div class="notroot-view">',"<p>",n.localize(0,null),"</p>","<p>",n.localize(1,null),"</p>","</div>"].join("")).getHTMLElement()},t.prototype.focus=function(){},t.prototype.layout=function(e){},t.prototype.setVisible=function(e){return i.TPromise.as(null)},t.prototype.getControl=function(){return null},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t}(r.EventEmitter);t.NotRootView=a}),define(l[942],h([1,0,574,2,42,29,805]),function(e,t,n,i,r,o){"use strict";var s=o.$,a=function(e){function t(){e.apply(this,arguments),this.ID="noworkspace"}return d(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element||this.render(),this._element},enumerable:!0,configurable:!0}),t.prototype.render=function(){this._element=s(['<div class="noworkspace-view">',"<p>",n.localize(0,null),"</p>","<p>",n.localize(1,null),"</p>","</div>"].join("")).getHTMLElement()},t.prototype.focus=function(){},t.prototype.layout=function(e){},t.prototype.setVisible=function(e){return i.TPromise.as(null)},t.prototype.getControl=function(){return null},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t}(r.EventEmitter);t.NoWorkspaceView=a}),define(l[57],h([1,0,6]),function(e,t,n){"use strict";!function(e){e[e.Head=0]="Head",e[e.RemoteHead=1]="RemoteHead",e[e.Tag=2]="Tag"}(t.RefType||(t.RefType={}));t.RefType;!function(e){e[e.INDEX=0]="INDEX",e[e.WORKING_TREE=1]="WORKING_TREE",e[e.MERGE=2]="MERGE"}(t.StatusType||(t.StatusType={}));t.StatusType;!function(e){e[e.INDEX_MODIFIED=0]="INDEX_MODIFIED",e[e.INDEX_ADDED=1]="INDEX_ADDED",e[e.INDEX_DELETED=2]="INDEX_DELETED",e[e.INDEX_RENAMED=3]="INDEX_RENAMED",e[e.INDEX_COPIED=4]="INDEX_COPIED",e[e.MODIFIED=5]="MODIFIED",e[e.DELETED=6]="DELETED",e[e.UNTRACKED=7]="UNTRACKED",e[e.IGNORED=8]="IGNORED",e[e.ADDED_BY_US=9]="ADDED_BY_US",e[e.ADDED_BY_THEM=10]="ADDED_BY_THEM",e[e.DELETED_BY_US=11]="DELETED_BY_US",e[e.DELETED_BY_THEM=12]="DELETED_BY_THEM",e[e.BOTH_ADDED=13]="BOTH_ADDED",e[e.BOTH_DELETED=14]="BOTH_DELETED",e[e.BOTH_MODIFIED=15]="BOTH_MODIFIED"}(t.Status||(t.Status={}));t.Status;t.ModelEvents={MODEL_UPDATED:"ModelUpdated",STATUS_MODEL_UPDATED:"StatusModelUpdated",HEAD_UPDATED:"HEADUpdated",REFS_UPDATED:"RefsUpdated",REMOTES_UPDATED:"RemotesUpdated"},function(e){e[e.NotInitialized=0]="NotInitialized",e[e.NotARepo=1]="NotARepo",e[e.NotAtRepoRoot=2]="NotAtRepoRoot",e[e.OK=3]="OK",e[e.Huge=4]="Huge",e[e.NoGit=5]="NoGit",e[e.Disabled=6]="Disabled",e[e.NotAWorkspace=7]="NotAWorkspace"}(t.ServiceState||(t.ServiceState={}));t.ServiceState;!function(e){e[e.OK=0]="OK",e[e.GitNotFound=1]="GitNotFound",e[e.Disabled=2]="Disabled"}(t.RawServiceState||(t.RawServiceState={}));t.RawServiceState;t.GitErrorCodes={BadConfigFile:"BadConfigFile",AuthenticationFailed:"AuthenticationFailed",NoUserNameConfigured:"NoUserNameConfigured",NoUserEmailConfigured:"NoUserEmailConfigured",NoRemoteRepositorySpecified:"NoRemoteRepositorySpecified",NotAGitRepository:"NotAGitRepository",NotAtRepositoryRoot:"NotAtRepositoryRoot",Conflict:"Conflict",UnmergedChanges:"UnmergedChanges",PushRejected:"PushRejected",RemoteConnectionError:"RemoteConnectionError",DirtyWorkTree:"DirtyWorkTree",CantOpenResource:"CantOpenResource",GitNotFound:"GitNotFound",CantCreatePipe:"CantCreatePipe",CantAccessRemote:"CantAccessRemote",RepositoryNotFound:"RepositoryNotFound"},function(e){e[e.Disabled=0]="Disabled",e[e.Inactive=1]="Inactive",e[e.Active=2]="Active",e[e.Fetching=3]="Fetching"}(t.AutoFetcherState||(t.AutoFetcherState={}));t.AutoFetcherState;t.ServiceEvents={STATE_CHANGED:"stateChanged",REPO_CHANGED:"repoChanged",OPERATION_START:"operationStart",OPERATION_END:"operationEnd",OPERATION:"operation",ERROR:"error",DISPOSE:"dispose"},t.ServiceOperations={STATUS:"status",INIT:"init",ADD:"add",STAGE:"stage",BRANCH:"branch",CHECKOUT:"checkout",CLEAN:"clean",UNDO:"undo",RESET:"reset",REVERT:"revert",COMMIT:"commit",COMMAND:"command",BACKGROUND_FETCH:"backgroundfetch",PULL:"pull",PUSH:"push",SYNC:"sync"},t.GIT_SERVICE_ID="gitService",t.IGitService=n.createDecorator(t.GIT_SERVICE_ID)}),define(l[944],h([1,0,58,10,57,26,5,17]),function(e,t,n,i,r,o,s,a){"use strict";function c(e){var t=h.DECORATION_OPTIONS;return e.getLinesContent().map(function(e,t){return u.test(e)?t:null}).filter(function(e){return null!==e}).map(function(e){return{startLineNumber:e+1,startColumn:1,endLineNumber:e+1,endColumn:1}}).map(function(e){return{range:e,options:t}})}var u=/^<<<<<<<|^=======|^>>>>>>>/,l=function(e){function t(t,n,i,o){var s=this;e.call(this),this.editor=t,this.model=n,this.filePath=i,this.gitService=o,this.decorations=[];var c=new a.Delayer(300);c.trigger(function(){return s.redecorate()});var u=o.getModel();this._register(n.onDidChangeContent(function(){return c.trigger(function(){return s.redecorate()})})),this._register(u.addListener2(r.ModelEvents.STATUS_MODEL_UPDATED,function(){return c.trigger(function(){return s.redecorate()})}))}return d(t,e),t.prototype._setDecorations=function(e){this.decorations=this.editor.deltaDecorations(this.decorations,e)},t.prototype.redecorate=function(){if(!this.model.isDisposed()){var e=this.gitService.getModel();if(e){var t=e.getStatus().find(this.filePath,r.StatusType.MERGE);t&&this._setDecorations(c(this.model))}}},t.prototype.dispose=function(){this._setDecorations([]),e.prototype.dispose.call(this)},t}(s.Disposable),h=function(e){function t(t,n,i){var r=this;e.call(this),this.editor=t,this.gitService=n,this.contextService=i,this._register(this.editor.onDidChangeModel(function(){return r.onModelChanged()})),this.mergeDecorator=null}return d(t,e),t.prototype.getId=function(){return t.ID},t.prototype.onModelChanged=function(){if(this.mergeDecorator&&(this.mergeDecorator.dispose(),this.mergeDecorator=null),this.contextService&&this.gitService){var e=this.editor.getModel();if(e){var t=e.uri;if(t){var n=this.contextService.toWorkspaceRelativePath(t);n&&(this.mergeDecorator=new l(this.editor,e,n,this.gitService))}}}},t.prototype.dispose=function(){this.mergeDecorator&&(this.mergeDecorator.dispose(),this.mergeDecorator=null),e.prototype.dispose.call(this)},t.ID="vs.git.editor.merge.decorator",t.DECORATION_OPTIONS={className:"git-merge-control-decoration",isWholeLine:!0,overviewRuler:{color:"rgb(197, 118, 0)",darkColor:"rgb(197, 118, 0)",position:i.OverviewRulerLane.Left},stickiness:i.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},t=g([n.editorContribution,v(1,r.IGitService),v(2,o.IWorkspaceContextService)],t)}(s.Disposable);t.MergeDecorator=h}),define(l[945],h([1,0,572,2,42,8,57,7,214,797]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=o.$,l=function(e){function t(t){e.call(this),this.gitService=t,this.ID="huge"}return d(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element||this.render(),this._element},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this;this._element=u(".huge-view"),o.append(this._element,u("p")).textContent=n.localize(0,null);var t=o.append(this._element,u("p"));o.append(t,document.createTextNode(n.localize(1,null))),o.append(t,document.createTextNode(" "));var i=o.append(t,u("pre"));i.style.display="inline",i.textContent="git.allowLargeRepositories";var r=new c.Button(this._element);r.label=n.localize(2,null),r.addListener2("click",function(t){o.EventHelper.stop(t),e.gitService.allowHugeRepositories=!0,e.gitService.status().done(null,a.onUnexpectedError)})},t.prototype.focus=function(){},t.prototype.layout=function(e){},t.prototype.setVisible=function(e){return i.TPromise.as(null)},t.prototype.getControl=function(){return null},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t=g([v(0,s.IGitService)],t)}(r.EventEmitter);t.HugeView=l}),define(l[946],h([1,0,2,110,57]),function(e,t,n,i,r){"use strict";var o={to:function(e){return[e.x,e.y,e.path,e.mimetype,e.rename]},from:function(e){return{x:e[0],y:e[1],path:e[2],mimetype:e[3],rename:e[4]}}},s={to:function(e){return[e.name,e.commit,e.type,e.remote,e.upstream,e.ahead,e.behind]},from:function(e){return{name:e[0],commit:e[1],type:e[2],remote:e[3],upstream:e[4],ahead:e[5],behind:e[6]}}},a={to:function(e){return[e.name,e.commit,e.type,e.remote]},from:function(e){return{name:e[0],commit:e[1],type:e[2],remote:e[3]}}},c={to:function(e){return[e.name,e.url]},from:function(e){return{name:e[0],url:e[1]}}},u={to:function(e){return e?[e.repositoryRoot,e.state,e.status.map(o.to),s.to(e.HEAD),e.refs.map(a.to),e.remotes.map(c.to)]:null},from:function(e){return e?{repositoryRoot:e[0],state:e[1],status:e[2].map(o.from),HEAD:s.from(e[3]),refs:e[4].map(a.from),remotes:e[5].map(c.from)}:null}},l=function(){function e(e){this.service=e}return e.prototype.call=function(e,t){switch(e){case"getVersion":return this.service.then(function(e){return e.getVersion()});case"serviceState":return this.service.then(function(e){return e.serviceState()});case"statusCount":return this.service.then(function(e){return e.statusCount()});case"status":return this.service.then(function(e){return e.status()}).then(u.to);case"init":return this.service.then(function(e){return e.init()}).then(u.to);case"add":return this.service.then(function(e){return e.add(t)}).then(u.to);case"stage":return this.service.then(function(e){return e.stage(t[0],t[1])}).then(u.to);case"branch":return this.service.then(function(e){return e.branch(t[0],t[1])}).then(u.to);case"checkout":return this.service.then(function(e){return e.checkout(t[0],t[1])}).then(u.to);case"clean":return this.service.then(function(e){return e.clean(t)}).then(u.to);case"undo":return this.service.then(function(e){return e.undo()}).then(u.to);case"reset":return this.service.then(function(e){return e.reset(t[0],t[1])}).then(u.to);case"revertFiles":return this.service.then(function(e){return e.revertFiles(t[0],t[1])}).then(u.to);case"fetch":return this.service.then(function(e){return e.fetch()}).then(u.to);case"pull":return this.service.then(function(e){return e.pull(t)}).then(u.to);case"push":return this.service.then(function(e){return e.push(t[0],t[1],t[2])}).then(u.to);case"sync":return this.service.then(function(e){return e.sync()}).then(u.to);case"commit":return this.service.then(function(e){return e.commit(t[0],t[1],t[2],t[3])}).then(u.to);case"detectMimetypes":return this.service.then(function(e){return e.detectMimetypes(t[0],t[1])});case"show":return this.service.then(function(e){return e.show(t[0],t[1])});case"clone":return this.service.then(function(e){return e.clone(t[0],t[1])});case"onOutput":return this.service.then(function(e){return i.eventToCall(e.onOutput)});case"getCommitTemplate":return this.service.then(function(e){return e.getCommitTemplate()});case"getCommit":return this.service.then(function(e){return e.getCommit(t)})}},e}();t.GitChannel=l;var h=function(){function e(){}return e.prototype.call=function(e){switch(e){case"serviceState":return n.TPromise.as(r.RawServiceState.GitNotFound);default:return n.TPromise.as(null)}},e}();t.UnavailableGitChannel=h;var d=function(){function e(e){this.channel=e,this._onOutput=i.eventFromCall(this.channel,"onOutput")}return Object.defineProperty(e.prototype,"onOutput",{get:function(){return this._onOutput},enumerable:!0,configurable:!0}),e.prototype.getVersion=function(){return this.channel.call("getVersion")},e.prototype.serviceState=function(){return this.channel.call("serviceState")},e.prototype.statusCount=function(){return this.channel.call("statusCount")},e.prototype.status=function(){return this.channel.call("status").then(u.from)},e.prototype.init=function(){return this.channel.call("init").then(u.from)},e.prototype.add=function(e){return this.channel.call("add",e).then(u.from)},e.prototype.stage=function(e,t){return this.channel.call("stage",[e,t]).then(u.from)},e.prototype.branch=function(e,t){return this.channel.call("branch",[e,t]).then(u.from)},e.prototype.checkout=function(e,t){return this.channel.call("checkout",[e,t]).then(u.from)},e.prototype.clean=function(e){return this.channel.call("clean",e).then(u.from)},e.prototype.undo=function(){return this.channel.call("undo").then(u.from)},e.prototype.reset=function(e,t){return this.channel.call("reset",[e,t]).then(u.from)},e.prototype.revertFiles=function(e,t){return this.channel.call("revertFiles",[e,t]).then(u.from)},e.prototype.fetch=function(){return this.channel.call("fetch").then(u.from)},e.prototype.pull=function(e){return this.channel.call("pull",e).then(u.from)},e.prototype.push=function(e,t,n){return this.channel.call("push",[e,t,n]).then(u.from)},e.prototype.sync=function(){return this.channel.call("sync").then(u.from)},e.prototype.commit=function(e,t,n,i){return this.channel.call("commit",[e,t,n,i]).then(u.from)},e.prototype.detectMimetypes=function(e,t){return this.channel.call("detectMimetypes",[e,t])},e.prototype.show=function(e,t){return this.channel.call("show",[e,t])},e.prototype.clone=function(e,t){return this.channel.call("clone",[e,t])},e.prototype.getCommitTemplate=function(){return this.channel.call("getCommitTemplate")},e.prototype.getCommit=function(e){return this.channel.call("getCommit",e)},e}();t.GitChannelClient=d;var p=function(){function e(e){this.service=e}return e.prototype.call=function(e,t){switch(e){case"askpass":return this.service.askpass(t[0],t[1],t[2])}},e}();t.AskpassChannel=p;var f=function(){function e(e){this.channel=e}return e.prototype.askpass=function(e,t,n){return this.channel.call("askpass",[e,t,n])},e}();t.AskpassChannelClient=f}),define(l[194],h([1,0,5,12,42,57]),function(e,t,n,i,r,o){"use strict";var s=function(){function e(t,n,i,r,o){this.path=t,this.mimetype=n,this.status=i,this.rename=r,this.id=e.typeOf(i)+":"+t+(r?":"+r:"")+(o?"$":""),this.pathComponents=t.split("/")}return e.prototype.getPath=function(){return this.path},e.prototype.getPathComponents=function(){return this.pathComponents.slice(0)},e.prototype.getMimetype=function(){return this.mimetype},e.prototype.getStatus=function(){return this.status},e.prototype.getRename=function(){return this.rename},e.prototype.getId=function(){return this.id},e.prototype.getType=function(){switch(e.typeOf(this.status)){case"index":return o.StatusType.INDEX;case"workingTree":return o.StatusType.WORKING_TREE;default:return o.StatusType.MERGE}},e.prototype.clone=function(){return new e(this.path,this.mimetype,this.status,this.rename)},e.prototype.update=function(e){this.status=e.getStatus(),this.rename=e.getRename()},e.typeOf=function(e){switch(e){case o.Status.INDEX_MODIFIED:case o.Status.INDEX_ADDED:case o.Status.INDEX_DELETED:case o.Status.INDEX_RENAMED:case o.Status.INDEX_COPIED:return"index";case o.Status.MODIFIED:case o.Status.DELETED:case o.Status.UNTRACKED:case o.Status.IGNORED:return"workingTree";default:return"merge"}},e}();t.FileStatus=s;var a=function(e){function t(t){e.call(this),this.type=t,this.statusSet=Object.create(null),this.statusList=[],this.statusByName=Object.create(null),this.statusByRename=Object.create(null)}return d(t,e),t.prototype.getType=function(){return this.type},t.prototype.update=function(e){var t,n,i,r,o=Object.create(null);for(t in this.statusSet)o[t]=this.statusSet[t];for(var s=0;s<e.length;s++)r=e[s],t=r.getId(),n=r.getPath(),i=r.getRename(),o[t]?(this.statusSet[t].update(r),o[t]=null):this.statusSet[t]=r;for(t in o)(r=o[t])&&(this.emit("fileStatus:dispose",r),delete this.statusSet[t]);this.statusList=[],this.statusByName=Object.create(null),this.statusByRename=Object.create(null);for(t in this.statusSet)r=this.statusSet[t],this.statusList.push(r),r.getRename()?this.statusByRename[r.getPath()]=r:this.statusByName[r.getPath()]=r},t.prototype.all=function(){return this.statusList},t.prototype.find=function(e){return this.statusByName[e]||this.statusByRename[e]||null},t.prototype.dispose=function(){this.type=null,this.statusSet=null,this.statusList=null,this.statusByName=null,this.statusByRename=null,e.prototype.dispose.call(this)},t}(r.EventEmitter);t.StatusGroup=a;var c=function(e){function t(){e.call(this),this.indexStatus=new a(o.StatusType.INDEX),this.workingTreeStatus=new a(o.StatusType.WORKING_TREE),this.mergeStatus=new a(o.StatusType.MERGE),this.toDispose=[this.addEmitter2(this.indexStatus),this.addEmitter2(this.workingTreeStatus),this.addEmitter2(this.mergeStatus)]}return d(t,e),t.prototype.getSummary=function(){return{hasWorkingTreeChanges:this.getWorkingTreeStatus().all().length>0,hasIndexChanges:this.getIndexStatus().all().length>0,hasMergeChanges:this.getMergeStatus().all().length>0}},t.prototype.update=function(e){var t=[],n=[],i=[];e.forEach(function(e){switch(e.x+e.y){case"??":return n.push(new s(e.path,e.mimetype,o.Status.UNTRACKED));case"!!":return n.push(new s(e.path,e.mimetype,o.Status.IGNORED));case"DD":return i.push(new s(e.path,e.mimetype,o.Status.BOTH_DELETED));case"AU":return i.push(new s(e.path,e.mimetype,o.Status.ADDED_BY_US));case"UD":return i.push(new s(e.path,e.mimetype,o.Status.DELETED_BY_THEM));case"UA":return i.push(new s(e.path,e.mimetype,o.Status.ADDED_BY_THEM));case"DU":return i.push(new s(e.path,e.mimetype,o.Status.DELETED_BY_US));case"AA":return i.push(new s(e.path,e.mimetype,o.Status.BOTH_ADDED));case"UU":return i.push(new s(e.path,e.mimetype,o.Status.BOTH_MODIFIED))}var r=!1;switch(e.x){case"M":t.push(new s(e.path,e.mimetype,o.Status.INDEX_MODIFIED)),r=!0;break;case"A":t.push(new s(e.path,e.mimetype,o.Status.INDEX_ADDED));break;case"D":t.push(new s(e.path,e.mimetype,o.Status.INDEX_DELETED));break;case"R":t.push(new s(e.path,e.mimetype,o.Status.INDEX_RENAMED,e.rename));break;case"C":t.push(new s(e.path,e.mimetype,o.Status.INDEX_COPIED))}switch(e.y){case"M":n.push(new s(e.path,e.mimetype,o.Status.MODIFIED,e.rename,r));break;case"D":n.push(new s(e.path,e.mimetype,o.Status.DELETED,e.rename))}}),this.indexStatus.update(t),this.workingTreeStatus.update(n),this.mergeStatus.update(i),this.emit(o.ModelEvents.STATUS_MODEL_UPDATED)},t.prototype.getIndexStatus=function(){return this.indexStatus},t.prototype.getWorkingTreeStatus=function(){return this.workingTreeStatus},t.prototype.getMergeStatus=function(){return this.mergeStatus},t.prototype.getGroups=function(){return[this.mergeStatus,this.indexStatus,this.workingTreeStatus]},t.prototype.find=function(e,t){switch(t){case o.StatusType.INDEX:return this.indexStatus.find(e);case o.StatusType.WORKING_TREE:return this.workingTreeStatus.find(e);case o.StatusType.MERGE:return this.mergeStatus.find(e);default:return null}},t.prototype.dispose=function(){this.toDispose=n.dispose(this.toDispose),this.indexStatus&&(this.indexStatus.dispose(),this.indexStatus=null),this.workingTreeStatus&&(this.workingTreeStatus.dispose(),this.workingTreeStatus=null),this.mergeStatus&&(this.mergeStatus.dispose(),this.mergeStatus=null),e.prototype.dispose.call(this)},t}(r.EventEmitter);t.StatusModel=c;var u=function(e){function t(){e.call(this),this.toDispose=[],this.repositoryRoot=null,this.status=new c,this.toDispose.push(this.addEmitter2(this.status)),this.HEAD=null,this.refs=[],this.remotes=[]}return d(t,e),t.prototype.getRepositoryRoot=function(){return this.repositoryRoot},t.prototype.getStatus=function(){return this.status},t.prototype.getHEAD=function(){return this.HEAD},t.prototype.getRefs=function(){return this.refs},t.prototype.getRemotes=function(){return this.remotes},t.prototype.update=function(e){e||(e={repositoryRoot:null,status:[],HEAD:null,refs:[],remotes:[]}),this.repositoryRoot=e.repositoryRoot,this.status.update(e.status),this.HEAD=e.HEAD,this.emit(o.ModelEvents.HEAD_UPDATED),this.refs=e.refs,this.emit(o.ModelEvents.REFS_UPDATED),this.remotes=e.remotes,this.emit(o.ModelEvents.REMOTES_UPDATED),this.emit(o.ModelEvents.MODEL_UPDATED)},t.prototype.getStatusSummary=function(){var e=this.getStatus();return{hasWorkingTreeChanges:e.getWorkingTreeStatus().all().length>0,hasIndexChanges:e.getIndexStatus().all().length>0,hasMergeChanges:e.getMergeStatus().all().length>0}},t.prototype.getPS1=function(){var e=this;if(!this.HEAD)return"";var t=this.getRefs().filter(function(t){return t.type===o.RefType.Tag&&t.commit===e.HEAD.commit})[0],n=t&&t.name,r=this.HEAD.name||n||this.HEAD.commit.substr(0,8),s=this.getStatus().getSummary();return i.format("{0}{1}{2}{3}",r,s.hasWorkingTreeChanges?"*":"",s.hasIndexChanges?"+":"",s.hasMergeChanges?"!":"")},t.prototype.dispose=function(){this.toDispose=n.dispose(this.toDispose),e.prototype.dispose.call(this)},t}(r.EventEmitter);t.Model=u}),define(l[948],h([1,0,15]),function(e,t,n){"use strict";function i(e){e.sort(function(e,t){return e.originalStartLineNumber<t.originalStartLineNumber?-1:e.originalStartLineNumber>t.originalStartLineNumber?1:e.modifiedStartLineNumber<t.modifiedStartLineNumber?-1:1})}function r(e){e.sort(function(e,t){return e.getStartPosition().lineNumber<t.getStartPosition().lineNumber?-1:1})}function o(e){return e.originalEndLineNumber<=0}function s(e){return e.modifiedEndLineNumber<=0}function a(e,t){var n={modifiedStartLineNumber:Math.max(e.modifiedStartLineNumber,t.startLineNumber),modifiedEndLineNumber:Math.min(e.modifiedEndLineNumber,t.endLineNumber),originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber},i=s(n)&&e.modifiedStartLineNumber>=t.startLineNumber&&e.modifiedStartLineNumber<=t.endLineNumber;return n.modifiedStartLineNumber<=n.modifiedEndLineNumber||i?n:null}function c(e,t){i(e),r(t);for(var n=[],o=0,c=-1,u=0;u<e.length;++u)for(o=Math.max(0,o-1);o<t.length&&(t[o].startLineNumber<=e[u].modifiedEndLineNumber||s(e[u]));){var l=a(e[u],t[o]);null!==l&&(c!==l.modifiedStartLineNumber?(n.push(l),c=l.modifiedEndLineNumber):(l.modifiedStartLineNumber++,l.modifiedStartLineNumber<=l.modifiedEndLineNumber&&(n.push(l),c=l.modifiedEndLineNumber))),o++}return n}function u(e,t,n){var i=e;return""!==i&&(i+=t.getEOL()),i+t.getValueInRange(n)}function l(e,t,r){i(r);for(var a="",c=1,l=0;l<r.length;++l){var h=o(r[l])?r[l].originalStartLineNumber+1:r[l].originalStartLineNumber;c<h&&(a=u(a,e,new n.Range(c,1,h-1,e.getLineMaxColumn(h-1))),c=h),s(r[l])||(a=u(a,t,new n.Range(r[l].modifiedStartLineNumber,1,r[l].modifiedEndLineNumber,t.getLineMaxColumn(r[l].modifiedEndLineNumber)))),o(r[l])||(c=r[l].originalEndLineNumber+1)}return c<=e.getLineCount()&&(a=u(a,e,new n.Range(c,1,e.getLineCount(),e.getLineMaxColumn(e.getLineCount())))),a}t.intersectChangeAndSelection=a,t.getSelectedChanges=c,t.applyChangesToModel=l}),define(l[315],h([1,0,107,70,2,74,98,5,30,17,95,577,35,57,245,33,121,171]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,g,v,m){"use strict";function y(e,t){void 0===t&&(t="utf8");var n=[],i=function(e,t,i){e.once(t,i),n.push(a.toDisposable(function(){return e.removeListener(t,i);
}))},o=function(e,t,i){e.on(t,i),n.push(a.toDisposable(function(){return e.removeListener(t,i)}))};return r.TPromise.join([new r.TPromise(function(t,n){i(e,"error",n),i(e,"exit",t)}),new r.TPromise(function(n){var r=[];o(e.stdout,"data",function(e){return r.push(e)}),i(e.stdout,"close",function(){return n(m.decode(Buffer.concat(r),t))})}),new r.TPromise(function(n){var r=[];o(e.stderr,"data",function(e){return r.push(e)}),i(e.stderr,"close",function(){return n(m.decode(Buffer.concat(r),t))})})]).then(function(e){return a.dispose(n),{exitCode:e[0],stdout:e[1],stderr:e[2]}})}var b=function(){function e(e){e.error?(this.error=e.error,this.message=e.error.message):this.error=null,this.message=this.message||e.message||"Git error",this.stdout=e.stdout||null,this.stderr=e.stderr||null,this.exitCode=e.exitCode||null,this.gitErrorCode=e.gitErrorCode||null,this.gitCommand=e.gitCommand||null}return e.prototype.toString=function(){var e=this.message+" "+JSON.stringify({exitCode:this.exitCode,gitErrorCode:this.gitErrorCode,gitCommand:this.gitCommand,stdout:this.stdout,stderr:this.stderr},null,2);return this.error&&(e+=this.error.stack),e},e}();t.GitError=b;var S=function(){function e(e){this.gitPath=e.gitPath,this._version=e.version;var t=e.defaultEncoding||"utf8";this.defaultEncoding=m.encodingExists(t)?t:"utf8",this.env=e.env||{},this.outputListeners=[]}return Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.run=function(e,t,n){return void 0===n&&(n={}),n=c.assign({cwd:e},n||{}),this.exec(t,n)},e.prototype.stream=function(e,t,n){return void 0===n&&(n={}),n=c.assign({cwd:e},n||{}),this.spawn(t,n)},e.prototype.open=function(e,t){return void 0===t&&(t={}),new E(this,e,this.defaultEncoding,t)},e.prototype.clone=function(e,t){var n=e.replace(/^.*\//,"").replace(/\.git$/,"")||"repository",r=i.join(t,n);return this.exec(["clone",e,r]).then(function(){return r})},e.prototype.config=function(e,t){return this.exec(["config","--global",e,t])},e.prototype.exec=function(e,t){var n=this;void 0===t&&(t={});var i=this.spawn(e,t);return t.input&&i.stdin.end(t.input,"utf8"),y(i).then(function(i){if(i.exitCode){var o=null;return/Authentication failed/.test(i.stderr)?o=p.GitErrorCodes.AuthenticationFailed:/Not a git repository/.test(i.stderr)?o=p.GitErrorCodes.NotAGitRepository:/bad config file/.test(i.stderr)?o=p.GitErrorCodes.BadConfigFile:/cannot make pipe for command substitution|cannot create standard input pipe/.test(i.stderr)?o=p.GitErrorCodes.CantCreatePipe:/Repository not found/.test(i.stderr)?o=p.GitErrorCodes.RepositoryNotFound:/unable to access/.test(i.stderr)&&(o=p.GitErrorCodes.CantAccessRemote),t.log!==!1&&n.log(i.stderr),r.TPromise.wrapError(new b({message:"Failed to execute git",stdout:i.stdout,stderr:i.stderr,exitCode:i.exitCode,gitErrorCode:o,gitCommand:e[0]}))}return i})},e.prototype.spawn=function(e,t){if(void 0===t&&(t={}),!this.gitPath)throw new Error("git could not be found in the system.");return t||(t={}),t.stdio||t.input||(t.stdio=["ignore",null,null]),t.env=c.assign({},t.env||{},this.env,{LANG:"en_US.UTF-8",VSCODE_GIT_REQUEST_ID:l.v4().asHex(),MONACO_GIT_COMMAND:e[0]}),t.log!==!1&&this.log("git "+e.join(" ")+"\n"),v.spawn(this.gitPath,e,t)},e.prototype.onOutput=function(e){var t=this;return this.outputListeners.push(e),function(){return t.outputListeners.splice(t.outputListeners.indexOf(e),1)}},e.prototype.log=function(e){this.outputListeners.forEach(function(t){return t(e)})},e}();t.Git=S;var E=function(){function e(e,t,n,i){void 0===i&&(i={}),this._git=e,this.repository=t,this.defaultEncoding=n,this.env=i}return Object.defineProperty(e.prototype,"git",{get:function(){return this._git},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.repository},enumerable:!0,configurable:!0}),e.prototype.run=function(e,t){return void 0===t&&(t={}),t.env=c.assign({},t.env||{}),t.env=c.assign(t.env,this.env),this.git.run(this.repository,e,t)},e.prototype.stream=function(e,t){return void 0===t&&(t={}),t.env=c.assign({},t.env||{}),t.env=c.assign(t.env,this.env),this.git.stream(this.repository,e,t)},e.prototype.spawn=function(e,t){return void 0===t&&(t={}),t.env=c.assign({},t.env||{}),t.env=c.assign(t.env,this.env),this.git.spawn(e,t)},e.prototype.init=function(){return this.run(["init"])},e.prototype.config=function(e,t,n,i){var r=["config"];return e&&r.push("--"+e),r.push(t),n&&r.push(n),this.run(r,i).then(function(e){return e.stdout})},e.prototype.show=function(e){return this.stream(["show",e])},e.prototype.buffer=function(e){var t=this,n=this.show(e);return n.stdout?new r.Promise(function(i,r){f.detectMimesFromStream(n.stdout,null,function(n,o){n?r(n):s.isBinaryMime(o.mimes)?r({message:h.localize(1,null),fileOperationResult:g.FileOperationResult.FILE_IS_BINARY}):i(t.doBuffer(e))})}):r.TPromise.wrapError(h.localize(0,null))},e.prototype.doBuffer=function(e){var t=this.show(e);return y(t,this.defaultEncoding).then(function(e){var t=e.exitCode,n=e.stdout;return t?r.TPromise.wrapError(new b({message:"Could not buffer object.",exitCode:t})):r.TPromise.as(n)})},e.prototype.add=function(e){var t=["add","-A","--"];return e&&e.length?t.push.apply(t,e):t.push("."),this.run(t)},e.prototype.stage=function(e,t){var n=this,i=this.stream(["hash-object","--stdin","-w"],{stdio:[null,null,null]});return i.stdin.end(t,"utf8"),y(i).then(function(t){var i=t.exitCode,o=t.stdout;return i?r.TPromise.wrapError(new b({message:"Could not hash object.",exitCode:i})):n.run(["update-index","--cacheinfo","100644",o,e])})},e.prototype.checkout=function(e,t){var n=["checkout","-q"];return e&&n.push(e),t&&t.length&&(n.push("--"),n.push.apply(n,t)),this.run(n).then(null,function(e){return/Please, commit your changes or stash them/.test(e.stderr)&&(e.gitErrorCode=p.GitErrorCodes.DirtyWorkTree),r.Promise.wrapError(e)})},e.prototype.commit=function(e,t,n,i){var o=this,s=["commit","--quiet","--allow-empty-message","--file","-"];return t&&s.push("--all"),n&&s.push("--amend"),i&&s.push("--signoff"),this.run(s,{input:e||""}).then(null,function(e){return/not possible because you have unmerged files/.test(e.stderr)?(e.gitErrorCode=p.GitErrorCodes.UnmergedChanges,r.Promise.wrapError(e)):o.run(["config","--get-all","user.name"]).then(null,function(e){return e.gitErrorCode=p.GitErrorCodes.NoUserNameConfigured,r.Promise.wrapError(e)}).then(function(){return o.run(["config","--get-all","user.email"]).then(null,function(e){return e.gitErrorCode=p.GitErrorCodes.NoUserEmailConfigured,r.Promise.wrapError(e)}).then(function(){return r.Promise.wrapError(e)})})})},e.prototype.branch=function(e,t){var n=t?["checkout","-q","-b",e]:["branch","-q",e];return this.run(n)},e.prototype.clean=function(e){var t=this,n=d.index(e,function(e){return i.dirname(e)},function(e,t){return(t||[]).concat([e])}),r=Object.keys(n).map(function(e){return n[e]}),o=r.map(function(e){return function(){return t.run(["clean","-f","-q","--"].concat(e))}});return u.sequence(o)},e.prototype.undo=function(){var e=this;return this.run(["clean","-fd"]).then(function(){return e.run(["checkout","--","."]).then(null,function(e){return/did not match any file\(s\) known to git\./.test(e.stderr)?r.TPromise.as(null):r.Promise.wrapError(e)})})},e.prototype.reset=function(e,t){void 0===t&&(t=!1);var n=["reset"];return t&&n.push("--hard"),n.push(e),this.run(n)},e.prototype.revertFiles=function(e,t){var n=this;return this.run(["branch"]).then(function(i){var o;return o=i.stdout?["reset","-q",e,"--"]:["rm","--cached","-r","--"],t&&t.length?o.push.apply(o,t):o.push("."),n.run(o).then(null,function(e){return/([^:]+: needs merge\n)+/m.test(e.stdout)?r.TPromise.as(null):r.Promise.wrapError(e)})})},e.prototype.fetch=function(){return this.run(["fetch"]).then(null,function(e){return/No remote repository specified\./.test(e.stderr)?e.gitErrorCode=p.GitErrorCodes.NoRemoteRepositorySpecified:/Could not read from remote repository/.test(e.stderr)&&(e.gitErrorCode=p.GitErrorCodes.RemoteConnectionError),r.Promise.wrapError(e)})},e.prototype.pull=function(e){var t=["pull"];return e&&t.push("-r"),this.run(t).then(null,function(e){return/^CONFLICT \([^)]+\): \b/m.test(e.stdout)?e.gitErrorCode=p.GitErrorCodes.Conflict:/Please tell me who you are\./.test(e.stderr)?e.gitErrorCode=p.GitErrorCodes.NoUserNameConfigured:/Could not read from remote repository/.test(e.stderr)?e.gitErrorCode=p.GitErrorCodes.RemoteConnectionError:/Pull is not possible because you have unmerged files|Cannot pull with rebase: You have unstaged changes|Your local changes to the following files would be overwritten|Please, commit your changes before you can merge/.test(e.stderr)&&(e.gitErrorCode=p.GitErrorCodes.DirtyWorkTree),r.Promise.wrapError(e)})},e.prototype.push=function(e,t,n){var i=["push"];return n&&n.setUpstream&&i.push("-u"),e&&i.push(e),t&&i.push(t),this.run(i).then(null,function(e){return/^error: failed to push some refs to\b/m.test(e.stderr)?e.gitErrorCode=p.GitErrorCodes.PushRejected:/Could not read from remote repository/.test(e.stderr)&&(e.gitErrorCode=p.GitErrorCodes.RemoteConnectionError),r.Promise.wrapError(e)})},e.prototype.sync=function(){var e=this;return this.pull().then(function(){return e.push()})},e.prototype.getRoot=function(){return this.run(["rev-parse","--show-toplevel"],{log:!1}).then(function(e){return e.stdout.trim()})},e.prototype.getStatus=function(){return this.run(["status","-z","-u"],{log:!1}).then(function(e){function t(){for(var e,t=a;"\0"!==(e=i.charAt(a));)a++;return i.substring(t,a++)}for(var n,i=e.stdout,o=[],a=0;a<i.length;)n={x:i.charAt(a++),y:i.charAt(a++),path:null,mimetype:null},a++,"R"===n.x&&(n.rename=t()),n.path=t(),n.mimetype=s.guessMimeTypes(n.path)[0],"/"!==n.path[n.path.length-1]&&o.push(n);return r.TPromise.as(o)})},e.prototype.getHEAD=function(){var e=this;return this.run(["symbolic-ref","--short","HEAD"],{log:!1}).then(function(e){return e.stdout?r.TPromise.as({name:e.stdout.trim(),commit:void 0,type:p.RefType.Head}):r.TPromise.wrapError(new Error("Not in a branch"))},function(t){return e.run(["rev-parse","HEAD"],{log:!1}).then(function(e){return e.stdout?r.TPromise.as({name:void 0,commit:e.stdout.trim(),type:p.RefType.Head}):r.TPromise.wrapError(new Error("Error parsing HEAD"))})})},e.prototype.getRefs=function(){return this.run(["for-each-ref","--format","%(refname) %(objectname)"],{log:!1}).then(function(e){return e.stdout.trim().split("\n").filter(function(e){return!!e}).map(function(e){var t;return(t=/^refs\/heads\/([^ ]+) ([0-9a-f]{40})$/.exec(e))?{name:t[1],commit:t[2],type:p.RefType.Head}:(t=/^refs\/remotes\/([^\/]+)\/([^ ]+) ([0-9a-f]{40})$/.exec(e))?{name:t[1]+"/"+t[2],commit:t[3],type:p.RefType.RemoteHead,remote:t[1]}:(t=/^refs\/tags\/([^ ]+) ([0-9a-f]{40})$/.exec(e))?{name:t[1],commit:t[2],type:p.RefType.Tag}:null}).filter(function(e){return!!e})})},e.prototype.getRemotes=function(){var e=/^([^\s]+)\s+([^\s]+)\s/;return this.run(["remote","--verbose"],{log:!1}).then(function(t){return t.stdout.trim().split("\n").filter(function(e){return!!e}).map(function(t){return e.exec(t)}).filter(function(e){return!!e}).map(function(e){return{name:e[1],url:e[2]}}).filter(d.uniqueFilter(function(e){return e.name}))})},e.prototype.getBranch=function(e){var t=this;return"HEAD"===e?this.getHEAD():this.run(["rev-parse",e],{log:!1}).then(function(n){if(!n.stdout)return r.TPromise.wrapError(new Error("No such branch"));var i=n.stdout.trim();return t.run(["rev-parse","--symbolic-full-name","--abbrev-ref",e+"@{u}"],{log:!1}).then(function(n){var r=n.stdout.trim();return t.run(["rev-list","--left-right",e+"..."+r],{log:!1}).then(function(t){for(var n=0,o=0,s=0;s<t.stdout.length;){switch(t.stdout.charAt(s)){case"<":n++;break;case">":o++;break;default:s++}for(;"\n"!==t.stdout.charAt(s++););}return{name:e,commit:i,upstream:r,ahead:n,behind:o}})},function(){return{name:e,commit:i}})})},e.prototype.getCommitTemplate=function(){var e=this;return this.run(["config","--get","commit.template"]).then(function(t){if(!t.stdout)return"";var r=n.homedir(),s=t.stdout.trim().replace(/^~([^\/]*)\//,function(e,t){return(t?i.join(i.dirname(r),t):r)+"/"});return i.isAbsolute(s)||(s=i.join(e.repository,s)),o.readFile(s,"utf8").then(function(e){return e.replace(/^\s*#.*$\n?/gm,"").trim()})},function(){return""})},e.prototype.getCommit=function(e){return this.run(["show","-s","--format=%H\n%B",e]).then(function(e){var t=/^([0-9a-f]{40})\n([^]*)$/m.exec(e.stdout.trim());return t?{hash:t[1],message:t[2]}:r.TPromise.wrapError("bad commit format")})},e.prototype.onOutput=function(e){return this.git.onOutput(e)},e}();t.Repository=E}),define(l[950],h([1,0,70,2,245,74,315,57,11]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(){function e(e){var t=this;this.repo=e;var n;this._onOutput=new c.Emitter({onFirstListenerAdd:function(){n=t.repo.onOutput(function(e){return t._onOutput.fire(e)})},onLastListenerRemove:function(){n(),n=null}})}return Object.defineProperty(e.prototype,"onOutput",{get:function(){return this._onOutput.event},enumerable:!0,configurable:!0}),e.prototype.getVersion=function(){return this.repo?i.TPromise.as(this.repo.git.version):i.TPromise.as(null)},e.prototype.getRepositoryRoot=function(){return this._repositoryRoot||(this._repositoryRoot=o.realpath(this.repo.path))},e.prototype.serviceState=function(){return i.TPromise.as(this.repo?a.RawServiceState.OK:a.RawServiceState.GitNotFound)},e.prototype.statusCount=function(){return this.repo?this.status().then(function(e){return e?e.status.length:0}):i.TPromise.as(0)},e.prototype.status=function(){var e=this;return this.repo.getStatus().then(function(t){return e.repo.getHEAD().then(function(t){return t.name?e.repo.getBranch(t.name).then(null,function(){return t}):t},function(){return null}).then(function(n){return i.Promise.join([e.getRepositoryRoot(),e.repo.getRefs(),e.repo.getRemotes()]).then(function(e){return{repositoryRoot:e[0],status:t,HEAD:n,refs:e[1],remotes:e[2]}})})}).then(null,function(e){return e.gitErrorCode===a.GitErrorCodes.BadConfigFile?i.Promise.wrapError(e):e.gitErrorCode===a.GitErrorCodes.NotAtRepositoryRoot?i.Promise.wrapError(e):null})},e.prototype.init=function(){var e=this;return this.repo.init().then(function(){return e.status()})},e.prototype.add=function(e){var t=this;return this.repo.add(e).then(function(){return t.status()})},e.prototype.stage=function(e,t){var n=this;return this.repo.stage(e,t).then(function(){return n.status()})},e.prototype.branch=function(e,t){var n=this;return this.repo.branch(e,t).then(function(){return n.status()})},e.prototype.checkout=function(e,t){var n=this;return this.repo.checkout(e,t).then(function(){return n.status()})},e.prototype.clean=function(e){var t=this;return this.repo.clean(e).then(function(){return t.status()})},e.prototype.undo=function(){var e=this;return this.repo.undo().then(function(){return e.status()})},e.prototype.reset=function(e,t){var n=this;return this.repo.reset(e,t).then(function(){return n.status()})},e.prototype.revertFiles=function(e,t){var n=this;return this.repo.revertFiles(e,t).then(function(){return n.status()})},e.prototype.fetch=function(){var e=this;return this.repo.fetch().then(null,function(e){return e.gitErrorCode===a.GitErrorCodes.NoRemoteRepositorySpecified?i.TPromise.as(null):i.Promise.wrapError(e)}).then(function(){return e.status()})},e.prototype.pull=function(e){var t=this;return this.repo.pull(e).then(function(){return t.status()})},e.prototype.push=function(e,t,n){var i=this;return this.repo.push(e,t,n).then(function(){return i.status()})},e.prototype.sync=function(){var e=this;return this.repo.sync().then(function(){return e.status()})},e.prototype.commit=function(e,t,n,r){var o=this,s=i.TPromise.as(null);return n&&(s=this.repo.add(null)),s.then(function(){return o.repo.commit(e,n,t,r)}).then(function(){return o.status()})},e.prototype.detectMimetypes=function(e,t){var s=this;return o.exists(n.join(this.repo.path,e)).then(function(o){if(o)return new i.TPromise(function(t,i){r.detectMimesFromFile(n.join(s.repo.path,e),function(e,n){e?i(e):t(n.mimes)})});var a=s.repo.show(t+":"+e);return new i.TPromise(function(t,n){r.detectMimesFromStream(a.stdout,e,function(e,i){e?n(e):t(i.mimes)})})})},e.prototype.show=function(e,t){return t=t&&"~"!==t?t:"",n.isAbsolute(e)&&(e=n.relative(this.repo.path,e).replace(/\\/g,"/")),this.repo.buffer(t+":"+e).then(null,function(e){return e instanceof s.GitError?"":i.TPromise.wrapError(e)})},e.prototype.clone=function(e,t){return this.repo.git.clone(e,t)},e.prototype.getCommitTemplate=function(){return this.repo.getCommitTemplate()},e.prototype.getCommit=function(e){return this.repo.getCommit(e)},e}();t.RawGitService=u;var l=function(){function e(e){this.raw=e,this.onOutput=c.delayed(this.raw.then(function(e){return e.onOutput}))}return e.prototype.getVersion=function(){return this.raw.then(function(e){return e.getVersion()})},e.prototype.serviceState=function(){return this.raw.then(function(e){return e.serviceState()})},e.prototype.statusCount=function(){return this.raw.then(function(e){return e.statusCount()})},e.prototype.status=function(){return this.raw.then(function(e){return e.status()})},e.prototype.init=function(){return this.raw.then(function(e){return e.init()})},e.prototype.add=function(e){return this.raw.then(function(t){return t.add(e)})},e.prototype.stage=function(e,t){return this.raw.then(function(n){return n.stage(e,t)})},e.prototype.branch=function(e,t){return this.raw.then(function(n){return n.branch(e,t)})},e.prototype.checkout=function(e,t){return this.raw.then(function(n){return n.checkout(e,t)})},e.prototype.clean=function(e){return this.raw.then(function(t){return t.clean(e)})},e.prototype.undo=function(){return this.raw.then(function(e){return e.undo()})},e.prototype.reset=function(e,t){return this.raw.then(function(n){return n.reset(e,t)})},e.prototype.revertFiles=function(e,t){return this.raw.then(function(n){return n.revertFiles(e,t)})},e.prototype.fetch=function(){return this.raw.then(function(e){return e.fetch()})},e.prototype.pull=function(e){return this.raw.then(function(t){return t.pull(e)})},e.prototype.push=function(e,t,n){return this.raw.then(function(i){return i.push(e,t,n)})},e.prototype.sync=function(){return this.raw.then(function(e){return e.sync()})},e.prototype.commit=function(e,t,n,i){return this.raw.then(function(r){return r.commit(e,t,n,i)})},e.prototype.detectMimetypes=function(e,t){return this.raw.then(function(n){return n.detectMimetypes(e,t)})},e.prototype.show=function(e,t){return this.raw.then(function(n){return n.show(e,t)})},e.prototype.clone=function(e,t){return this.raw.then(function(n){return n.clone(e,t)})},e.prototype.getCommitTemplate=function(){return this.raw.then(function(e){return e.getCommitTemplate()})},e.prototype.getCommit=function(e){return this.raw.then(function(t){return t.getCommit(e)})},e}();t.DelayedRawGitService=l}),define(l[951],h([1,0,70,57,2,30,11,16,315]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(){function t(t,i,r,u){this._onOutput=new s.Emitter;var l=a.default.parse(e.toUrl("vs/workbench/parts/git/node")).fsPath,h=a.default.parse(e.toUrl("bootstrap")).fsPath+".js",d=o.assign({},process.env,{GIT_ASKPASS:n.join(l,"askpass.sh"),VSCODE_GIT_ASKPASS_BOOTSTRAP:h,VSCODE_GIT_ASKPASS_NODE:u,VSCODE_GIT_ASKPASS_MODULE_ID:"vs/workbench/parts/git/node/askpass"});this.git=new c.Git({gitPath:t,version:i,defaultEncoding:r,env:d})}return Object.defineProperty(t.prototype,"onOutput",{get:function(){return this._onOutput.event},enumerable:!0,configurable:!0}),t.prototype.getVersion=function(){return r.TPromise.as(null)},t.prototype.serviceState=function(){return r.TPromise.as(i.RawServiceState.OK)},t.prototype.statusCount=function(){return r.TPromise.as(0)},t.prototype.status=function(){return r.TPromise.as(t.STATUS)},t.prototype.init=function(){return r.TPromise.as(t.STATUS)},t.prototype.add=function(e){return r.TPromise.as(t.STATUS)},t.prototype.stage=function(e,n){return r.TPromise.as(t.STATUS)},t.prototype.branch=function(e,n){return r.TPromise.as(t.STATUS)},t.prototype.checkout=function(e,n){return r.TPromise.as(t.STATUS)},t.prototype.clean=function(e){return r.TPromise.as(t.STATUS)},t.prototype.undo=function(){return r.TPromise.as(t.STATUS)},t.prototype.reset=function(e,n){return r.TPromise.as(t.STATUS)},t.prototype.revertFiles=function(e,n){return r.TPromise.as(t.STATUS)},t.prototype.fetch=function(){return r.TPromise.as(t.STATUS)},t.prototype.pull=function(e){return r.TPromise.as(t.STATUS)},t.prototype.push=function(){return r.TPromise.as(t.STATUS)},t.prototype.sync=function(){return r.TPromise.as(t.STATUS)},t.prototype.commit=function(e,n,i,o){return r.TPromise.as(t.STATUS)},t.prototype.detectMimetypes=function(e,t){return r.TPromise.as([])},t.prototype.show=function(e,t){return r.TPromise.as(null)},t.prototype.clone=function(e,t){return this.git.clone(e,t)},t.prototype.getCommitTemplate=function(){return r.TPromise.as(null)},t.prototype.getCommit=function(e){return r.TPromise.as(null)},t.STATUS={repositoryRoot:null,state:i.ServiceState.NotAWorkspace,status:[],HEAD:null,refs:[],remotes:[]},t}();t.UnscopedGitService=u}),define(l[197],h([1,0,580,16,2,5,11,8,172,34,31]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";u.CommandsRegistry.registerCommand("_webview.openDevTools",function(){for(var e=document.querySelectorAll("webview.ready"),t=0;t<e.length;t++)try{e.item(t).openDevTools()}catch(e){console.error(e)}}),l.MenuRegistry.addCommand({id:"_webview.openDevTools",title:n.localize(0,null)});var h=function(){function t(t,n,o){var c=this;this._styleElement=n,this._onDidClickLink=new s.Emitter,this._onDidLoadContent=new s.Emitter,this._webview=document.createElement("webview"),this._webview.style.width="100%",this._webview.style.height="100%",this._webview.style.outline="0",this._webview.style.opacity="0",this._webview.autoSize="on",o.nodeintegration&&(this._webview.nodeintegration="on"),this._webview.preload=e.toUrl("./webview-pre.js"),this._webview.src=e.toUrl("./webview.html"),this._ready=new r.TPromise(function(e){var t=a.addDisposableListener(c._webview,"ipc-message",function(n){"webview-ready"===n.channel&&(a.addClass(c._webview,"ready"),t.dispose(),e(c))})}),this._disposables=[a.addDisposableListener(this._webview,"console-message",function(e){console.log("[Embedded Page] "+e.message)}),a.addDisposableListener(this._webview,"crashed",function(){console.error("embedded page crashed")}),a.addDisposableListener(this._webview,"ipc-message",function(e){if("did-click-link"===e.channel){var t=e.args[0];return void c._onDidClickLink.fire(i.default.parse(t))}if("did-set-content"===e.channel){c._webview.style.opacity="";var n=e.args[0];return void c._onDidLoadContent.fire({stats:n})}})],t&&t.appendChild(this._webview)}return t.prototype.dispose=function(){this._onDidClickLink.dispose(),this._onDidLoadContent.dispose(),this._disposables=o.dispose(this._disposables),this._webview.parentElement&&this._webview.parentElement.removeChild(this._webview)},Object.defineProperty(t.prototype,"domNode",{get:function(){return this._webview},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidClickLink",{get:function(){return this._onDidClickLink.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidLoadContent",{get:function(){return this._onDidLoadContent.event},enumerable:!0,configurable:!0}),t.prototype._send=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this._ready.then(function(){return(i=t._webview).send.apply(i,[e].concat(n));var i}).done(void 0,console.error)},Object.defineProperty(t.prototype,"contents",{set:function(e){this._send("content",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseUrl",{set:function(e){this._send("baseUrl",e)},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this._webview.focus(),this._send("focus")},t.prototype.style=function(e){var t,n=window.getComputedStyle(this._styleElement),i=n.color,r=n.backgroundColor,o=n.fontFamily,s=n.fontWeight,a=n.fontSize,u="\n\t\t:root {\n\t\t\t--background-color: "+r+";\n\t\t\t--color: "+i+";\n\t\t\t--font-family: "+o+";\n\t\t\t--font-weight: "+s+";\n\t\t\t--font-size: "+a+";\n\t\t}\n\t\tbody {\n\t\t\tbackground-color: var(--background-color);\n\t\t\tcolor: var(--color);\n\t\t\tfont-family: var(--font-family);\n\t\t\tfont-weight: var(--font-weight);\n\t\t\tfont-size: var(--font-size);\n\t\t\tmargin: 0;\n\t\t}\n\n\t\timg {\n\t\t\tmax-width: 100%;\n\t\t\tmax-height: 100%;\n\t\t}\n\t\ta:focus,\n\t\tinput:focus,\n\t\tselect:focus,\n\t\ttextarea:focus {\n\t\t\toutline: 1px solid -webkit-focus-ring-color;\n\t\t\toutline-offset: -1px;\n\t\t}\n\t\t::-webkit-scrollbar {\n\t\t\twidth: 10px;\n\t\t\theight: 10px;\n\t\t}";c.isLightTheme(e)?(u+="\n\t\t\t::-webkit-scrollbar-thumb {\n\t\t\t\tbackground-color: rgba(100, 100, 100, 0.4);\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb:hover {\n\t\t\t\tbackground-color: rgba(100, 100, 100, 0.7);\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb:active {\n\t\t\t\tbackground-color: rgba(0, 0, 0, 0.6);\n\t\t\t}",t="vscode-light"):c.isDarkTheme(e)?(u+="\n\t\t\t::-webkit-scrollbar-thumb {\n\t\t\t\tbackground-color: rgba(121, 121, 121, 0.4);\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb:hover {\n\t\t\t\tbackground-color: rgba(100, 100, 100, 0.7);\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb:active {\n\t\t\t\tbackground-color: rgba(85, 85, 85, 0.8);\n\t\t\t}",t="vscode-dark"):(u+="\n\t\t\t::-webkit-scrollbar-thumb {\n\t\t\t\tbackground-color: rgba(111, 195, 223, 0.3);\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb:hover {\n\t\t\t\tbackground-color: rgba(111, 195, 223, 0.8);\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb:active {\n\t\t\t\tbackground-color: rgba(111, 195, 223, 0.8);\n\t\t\t}",t="vscode-high-contrast"),this._send("styles",u,t)},t}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=h}),define(l[953],h([1,0,5,58,197]),function(e,t,n,i,r){"use strict";var o=function(){function e(e,t){this.lineNumber=e,this.htmlContent=t,this._disposables=[]}return e.prototype.dispose=function(){n.dispose(this._disposables)},Object.defineProperty(e.prototype,"domNode",{get:function(){var e=this;if(!this._domNode){this._domNode=document.createElement("div");var t=new MutationObserver(function(t){return e._onVisibilityChanged()});t.observe(this._domNode,{attributes:!0,attributeFilter:["monaco-visible-view-zone"]}),this._disposables.push({dispose:function(){return t.disconnect()}})}return this._domNode},enumerable:!0,configurable:!0}),e.prototype._onVisibilityChanged=function(){this._domNode.hasAttribute("monaco-visible-view-zone")&&!this._webview&&(this._webview=new r.default(this.domNode,document.querySelector(".monaco-editor-background"),{nodeintegration:!0}),this._disposables.push(this._webview),this._webview.contents=[this.htmlContent])},Object.defineProperty(e.prototype,"afterLineNumber",{get:function(){return this.lineNumber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"heightInLines",{get:function(){return 6},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"suppressMouseDown",{get:function(){return!1},enumerable:!0,configurable:!0}),e}(),s=function(){function e(e){var t=this;this._zones=[],this._editor=e,this._editor.onDidChangeModel(function(){return t._zones=n.dispose(t._zones)})}return e.getInstance=function(e){return e.getContribution("htmlZoneContribution")},e.prototype.getId=function(){return"htmlZoneContribution"},e.prototype.dispose=function(){n.dispose(this._zones)},e.prototype.addZone=function(e,t){var n=new o(e,t);this._zones.push(n),this._editor.changeViewZones(function(e){n.zoneId=e.addZone(n),console.log("ADDED new zone #",n.zoneId)})},e=g([i.editorContribution],e)}();t.HtmlZoneController=s}),define(l[317],h([1,0,158]),function(e,t,n){"use strict";var i=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getResource=function(){return this.resource},t}(n.ResourceEditorInput);t.HtmlInput=i}),define(l[955],h([1,0,15]),function(e,t,n){"use strict";function i(e,t,i,r){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){for(var o="",s=0;s<i;s++)o+=" ";for(var a=e.getLinesContent(),s=0;s<a.length;s++){var c=e.getLineFirstNonWhitespaceColumn(s+1);0===c&&(c=e.getLineMaxColumn(s+1));var u=(r?a[s].substr(0,c).replace(/\t/gi,o):a[s].substr(0,c).replace(new RegExp(o,"gi"),"\t"))+a[s].substr(c);t.addEditOperation(new n.Range(s+1,1,s+1,e.getLineMaxColumn(s+1)),u)}}}var r=function(){function e(e,t){this.selection=e,this.tabSize=t}return e.prototype.getEditOperations=function(e,t){this.selectionId=t.trackSelection(this.selection),i(e,t,this.tabSize,!0)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},e}();t.IndentationToSpacesCommand=r;var o=function(){function e(e,t){this.selection=e,this.tabSize=t}return e.prototype.getEditOperations=function(e,t){this.selectionId=t.trackSelection(this.selection),i(e,t,this.tabSize,!1)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},e}();t.IndentationToTabsCommand=o}),define(l[169],h([1,0,23]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={MARKERS_PANEL_ID:"workbench.panel.markers",MARKER_COPY_ACTION_ID:"problems.action.copy",MarkerFocusContextKey:new n.RawContextKey("problemFocus",(!1))}}),define(l[183],h([1,0,583,32]),function(e,t,n,i){"use strict";var r=function(){function e(){}return e.MARKERS_PANEL_VIEW_CATEGORY=n.localize(0,null),e.MARKERS_PANEL_TOGGLE_LABEL=n.localize(1,null),e.PROBLEMS_PANEL_CONFIGURATION_TITLE=n.localize(2,null),e.PROBLEMS_PANEL_CONFIGURATION_AUTO_REVEAL=n.localize(3,null),e.MARKERS_PANEL_TITLE_PROBLEMS=n.localize(4,null),e.MARKERS_PANEL_ARIA_LABEL_PROBLEMS_TREE=n.localize(5,null),e.MARKERS_PANEL_NO_PROBLEMS_BUILT=n.localize(6,null),e.MARKERS_PANEL_NO_PROBLEMS_FILTERS=n.localize(7,null),e.MARKERS_PANEL_ACTION_TOOLTIP_FILTER=n.localize(8,null),e.MARKERS_PANEL_FILTER_PLACEHOLDER=n.localize(9,null),e.MARKERS_PANEL_FILTER_ERRORS=n.localize(10,null),e.MARKERS_PANEL_FILTER_WARNINGS=n.localize(11,null),e.MARKERS_PANEL_FILTER_INFOS=n.localize(12,null),e.MARKERS_PANEL_SINGLE_ERROR_LABEL=n.localize(13,null),e.MARKERS_PANEL_MULTIPLE_ERRORS_LABEL=function(e){return n.localize(14,null,""+e)},e.MARKERS_PANEL_SINGLE_WARNING_LABEL=n.localize(15,null),e.MARKERS_PANEL_MULTIPLE_WARNINGS_LABEL=function(e){return n.localize(16,null,""+e)},e.MARKERS_PANEL_SINGLE_INFO_LABEL=n.localize(17,null),e.MARKERS_PANEL_MULTIPLE_INFOS_LABEL=function(e){return n.localize(18,null,""+e)},e.MARKERS_PANEL_SINGLE_UNKNOWN_LABEL=n.localize(19,null),e.MARKERS_PANEL_MULTIPLE_UNKNOWNS_LABEL=function(e){return n.localize(20,null,""+e)},e.MARKERS_PANEL_AT_LINE_COL_NUMBER=function(e,t){return n.localize(21,null,""+e,""+t)},e.MARKERS_TREE_ARIA_LABEL_RESOURCE=function(e,t){return n.localize(22,null,e,t)},e.MARKERS_TREE_ARIA_LABEL_MARKER=function(e){switch(e.severity){case i.default.Error:return e.source?n.localize(23,null,e.source,e.message,e.startLineNumber,e.startColumn):n.localize(24,null,e.message,e.startLineNumber,e.startColumn);case i.default.Warning:return e.source?n.localize(25,null,e.source,e.message,e.startLineNumber,e.startColumn):n.localize(26,null,e.message,e.startLineNumber,e.startColumn);case i.default.Info:return e.source?n.localize(27,null,e.source,e.message,e.startLineNumber,e.startColumn):n.localize(28,null,e.message,e.startLineNumber,e.startColumn);default:return e.source?n.localize(29,null,e.source,e.message,e.startLineNumber,e.startColumn):n.localize(30,null,e.message,e.startLineNumber,e.startColumn)}},e.SHOW_ERRORS_WARNINGS_ACTION_LABEL=n.localize(31,null),e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}),define(l[200],h([1,0,20,21,103,32,16,15,100,183]),function(e,t,n,i,r,o,s,a,c,u){"use strict";var l=function(){function e(e,t,n,i){void 0===i&&(i=[]),this.uri=e,this.markers=t,this.statistics=n,this.matches=i,this._name=null,
this._path=null}return Object.defineProperty(e.prototype,"path",{get:function(){return null===this._path&&(this._path=this.uri.fsPath),this._path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return null===this._name&&(this._name=n.basename(this.uri.fsPath)),this._name},enumerable:!0,configurable:!0}),e}();t.Resource=l;var h=function(){function e(e,t,n,i){void 0===n&&(n=[]),void 0===i&&(i=[]),this.id=e,this.marker=t,this.labelMatches=n,this.sourceMatches=i}return Object.defineProperty(e.prototype,"resource",{get:function(){return this.marker.resource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this.marker},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return["file: '"+this.marker.resource+"'","severity: '"+o.default.toString(this.marker.severity)+"'","message: '"+this.marker.message+"'","at: '"+this.marker.startLineNumber+","+this.marker.startColumn+"'","source: '"+(this.marker.source?this.marker.source:"")+"'"].join("\n")},e}();t.Marker=h;var d=function(){function e(e){void 0===e&&(e=""),this._filterErrors=!1,this._filterWarnings=!1,this._filterInfos=!1,this._filter="",this._completeFilter="",e&&this.parse(e)}return Object.defineProperty(e.prototype,"filterErrors",{get:function(){return this._filterErrors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterWarnings",{get:function(){return this._filterWarnings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterInfos",{get:function(){return this._filterInfos},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"completeFilter",{get:function(){return this._completeFilter},enumerable:!0,configurable:!0}),e.prototype.hasFilters=function(){return!!this._filter},e.prototype.parse=function(e){this._completeFilter=e,this._filter=e.trim(),this._filterErrors=this.matches(this._filter,u.default.MARKERS_PANEL_FILTER_ERRORS),this._filterWarnings=this.matches(this._filter,u.default.MARKERS_PANEL_FILTER_WARNINGS),this._filterInfos=this.matches(this._filter,u.default.MARKERS_PANEL_FILTER_INFOS)},e.prototype.matches=function(e,t){var n=c.matchesPrefix(e,t);return n&&n.length>0},e._filter=c.or(c.matchesPrefix,c.matchesContiguousSubString),e._fuzzyFilter=c.or(c.matchesPrefix,c.matchesContiguousSubString,c.matchesFuzzy),e}();t.FilterOptions=d;var p=function(){function e(e){void 0===e&&(e=[]),this.markersByResource=new r.LinkedMap,this._filterOptions=new d,this.update(e)}return Object.defineProperty(e.prototype,"filterOptions",{get:function(){return this._filterOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filteredResources",{get:function(){return this._filteredResources},enumerable:!0,configurable:!0}),e.prototype.hasFilteredResources=function(){return this.filteredResources.length>0},e.prototype.hasResources=function(){return this.markersByResource.size>0},e.prototype.hasResource=function(e){return this.markersByResource.has(e)},Object.defineProperty(e.prototype,"nonFilteredResources",{get:function(){return this._nonFilteredResources},enumerable:!0,configurable:!0}),e.prototype.getBulkUpdater=function(){var e=this;return{add:function(t,n){e.updateResource(t,n)},done:function(){e.refresh()}}},e.prototype.update=function(e,t){e instanceof d&&(this._filterOptions=e),e instanceof s.default&&this.updateResource(e,t),i.isArray(e)&&this.updateMarkers(e),this.refresh()},e.prototype.refresh=function(){this.refreshResources()},e.prototype.refreshResources=function(){this._nonFilteredResources=[],this._filteredResources=[];for(var e=0,t=this.markersByResource.entries();e<t.length;e++){var n=t[e],i=this.toFilteredResource(n);i.markers.length?this._filteredResources.push(i):this._nonFilteredResources.push(i)}},e.prototype.updateResource=function(e,t){this.markersByResource.has(e)&&this.markersByResource.delete(e),t.length>0&&this.markersByResource.set(e,t)},e.prototype.updateMarkers=function(e){var t=this;e.forEach(function(e){var n=e.resource,i=t.markersByResource.get(n);i||(i=[],t.markersByResource.set(n,i)),i.push(e)})},e.prototype.toFilteredResource=function(e){for(var t=[],i=0;i<e.value.length;i++){var r=e.value[i],o=e.key.toString();this._filterOptions.hasFilters()&&!this.filterMarker(r)||t.push(this.toMarker(r,i,o))}var s=this._filterOptions.hasFilters()?d._filter(this._filterOptions.filter,n.basename(e.key.fsPath)):[];return new l(e.key,t,this.getStatistics(e.value),s||[])},e.prototype.toMarker=function(e,t,n){var i=this._filterOptions.hasFilters()?d._fuzzyFilter(this._filterOptions.filter,e.message):[],r=e.source&&this._filterOptions.hasFilters()?d._filter(this._filterOptions.filter,e.source):[];return new h(n+t,e,i||[],r||[])},e.prototype.filterMarker=function(e){return!(!this._filterOptions.filterErrors||o.default.Error!==e.severity)||(!(!this._filterOptions.filterWarnings||o.default.Warning!==e.severity)||(!(!this._filterOptions.filterInfos||o.default.Info!==e.severity)||(!!d._fuzzyFilter(this._filterOptions.filter,e.message)||(!!d._filter(this._filterOptions.filter,n.basename(e.resource.fsPath))||!(!e.source||!d._filter(this._filterOptions.filter,e.source))))))},e.prototype.getStatistics=function(e){for(var t=0,n=0,i=0,r=0,s=0,a=e;s<a.length;s++){var c=a[s];switch(c.severity){case o.default.Error:t++;break;case o.default.Warning:n++;break;case o.default.Info:i++;break;default:r++}}return{errors:t,warnings:n,infos:i,unknowns:r}},e.prototype.dispose=function(){this.markersByResource.clear(),this._filteredResources=[],this._nonFilteredResources=[]},e.prototype.getTitle=function(t){var n=e.getStatisticsLabel(t);return n?n:u.default.MARKERS_PANEL_TITLE_PROBLEMS},e.prototype.getMessage=function(){return this.hasFilteredResources()?"":this.hasResources()&&this._filterOptions.hasFilters()?u.default.MARKERS_PANEL_NO_PROBLEMS_FILTERS:u.default.MARKERS_PANEL_NO_PROBLEMS_BUILT},e.getStatisticsLabel=function(e,t){void 0===t&&(t=!1);var n=this.getLabel("",e.errors,u.default.MARKERS_PANEL_SINGLE_ERROR_LABEL,u.default.MARKERS_PANEL_MULTIPLE_ERRORS_LABEL);return t||(n=this.getLabel(n,e.warnings,u.default.MARKERS_PANEL_SINGLE_WARNING_LABEL,u.default.MARKERS_PANEL_MULTIPLE_WARNINGS_LABEL),n=this.getLabel(n,e.infos,u.default.MARKERS_PANEL_SINGLE_INFO_LABEL,u.default.MARKERS_PANEL_MULTIPLE_INFOS_LABEL),n=this.getLabel(n,e.unknowns,u.default.MARKERS_PANEL_SINGLE_UNKNOWN_LABEL,u.default.MARKERS_PANEL_MULTIPLE_UNKNOWNS_LABEL)),n},e.getLabel=function(e,t,n,i){return t<=0?e:(e=e?e+", ":"",e+=1===t?n:i(t))},e.compare=function(t,n){return t instanceof l&&n instanceof l?e.compareResources(t,n):t instanceof h&&n instanceof h?e.compareMarkers(t,n):0},e.compareResources=function(e,t){return 0===e.statistics.errors&&t.statistics.errors>0?1:0===t.statistics.errors&&e.statistics.errors>0?-1:e.path.localeCompare(t.path)||e.name.localeCompare(t.name)},e.compareMarkers=function(e,t){return e.marker.severity===t.marker.severity?a.Range.compareRangesUsingStarts(e.marker,t.marker):e.marker.severity>t.marker.severity?-1:1},e}();t.MarkersModel=p}),define(l[959],h([1,0,2,8,32,26,218,138,221,200,183,6]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";var d=function(){function e(){}return e.prototype.getId=function(e,t){return t instanceof u.MarkersModel?"root":t instanceof u.Resource?t.uri.toString():t instanceof u.Marker?t.id:""},e.prototype.hasChildren=function(e,t){return t instanceof u.MarkersModel||t instanceof u.Resource},e.prototype.getChildren=function(e,t){return t instanceof u.MarkersModel?n.TPromise.as(t.filteredResources):t instanceof u.Resource?n.TPromise.as(t.markers):null},e.prototype.getParent=function(e,t){return n.TPromise.as(null)},e}();t.DataSource=d;var p=function(){function e(e,t,n,i){this.actionRunner=e,this.actionProvider=t,this.contextService=n,this.instantiationService=i}return e.prototype.getHeight=function(e,t){return 22},e.prototype.getTemplateId=function(t,n){return n instanceof u.Resource?e.RESOURCE_TEMPLATE_ID:n instanceof u.Marker?e.MARKER_TEMPLATE_ID:""},e.prototype.renderTemplate=function(t,n,r){switch(i.addClass(r,"markers-panel-tree-entry"),n){case e.RESOURCE_TEMPLATE_ID:return this.renderResourceTemplate(r);case e.MARKER_TEMPLATE_ID:return this.renderMarkerTemplate(r)}},e.prototype.renderResourceTemplate=function(e){var t=Object.create(null),n=i.append(e,i.$(".resource-label-container"));t.file=this.instantiationService.createInstance(a.FileLabel,n,{supportHighlights:!0});var r=i.append(e,i.$(".count-badge-wrapper"));return t.count=new s.CountBadge(r),t},e.prototype.renderMarkerTemplate=function(e){var t=Object.create(null);return t.icon=i.append(e,i.$(".marker-icon")),t.source=new c.HighlightedLabel(i.append(e,i.$(""))),t.description=new c.HighlightedLabel(i.append(e,i.$(".marker-description"))),t.lnCol=i.append(e,i.$("span.marker-line")),t},e.prototype.renderElement=function(t,n,i,r){switch(i){case e.RESOURCE_TEMPLATE_ID:return this.renderResourceElement(t,n,r);case e.MARKER_TEMPLATE_ID:return this.renderMarkerElement(t,n,r)}},e.prototype.renderResourceElement=function(e,t,n){n.file.setFile(t.uri,{matches:t.matches}),n.count.setCount(t.markers.length)},e.prototype.renderMarkerElement=function(t,n,r){var o=n.marker;r.icon.className="icon "+e.iconClassNameFor(o),r.description.set(o.message,n.labelMatches),r.description.element.title=o.message,i.toggleClass(r.source.element,"marker-source",!!o.source),r.source.set(o.source,n.sourceMatches),r.lnCol.textContent=l.default.MARKERS_PANEL_AT_LINE_COL_NUMBER(o.startLineNumber,o.startColumn)},e.iconClassNameFor=function(e){switch(e.severity){case r.default.Ignore:return"info";case r.default.Info:return"info";case r.default.Warning:return"warning";case r.default.Error:return"error"}return""},e.prototype.disposeTemplate=function(t,n,i){n===e.RESOURCE_TEMPLATE_ID&&i.file.dispose()},e.RESOURCE_TEMPLATE_ID="resource-template",e.MARKER_TEMPLATE_ID="marker-template",e=g([v(2,o.IWorkspaceContextService),v(3,h.IInstantiationService)],e)}();t.Renderer=p;var f=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return t instanceof u.Resource?l.default.MARKERS_TREE_ARIA_LABEL_RESOURCE(t.name,t.markers.length):t instanceof u.Marker?l.default.MARKERS_TREE_ARIA_LABEL_MARKER(t.marker):null},e}();t.MarkersTreeAccessibilityProvider=f;var m=function(){function e(){}return e.prototype.compare=function(e,t,n){return u.MarkersModel.compare(t,n)},e}();t.Sorter=m}),define(l[960],h([1,0,585,2,24,13,71,14,18,6,19,38,132,61]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p){"use strict";var f=.15,m="nps/sessionCount",y="nps/lastSessionDate",b="nps/skipVersion",S="nps/isCandidate",E=function(){function e(e,t,o,s){var a=t.get(b,h.StorageScope.GLOBAL,"");if(!a){var u=(new Date).toDateString(),l=t.get(y,h.StorageScope.GLOBAL,new Date(0).toDateString());if(u!==l){var g=t.getInteger(m,h.StorageScope.GLOBAL,0)+1;if(t.store(y,u,h.StorageScope.GLOBAL),t.store(m,g,h.StorageScope.GLOBAL),!(g<9)){var v=t.getBoolean(S,h.StorageScope.GLOBAL,!1)||Math.random()<f;if(t.store(S,v,h.StorageScope.GLOBAL),!v)return void t.store(b,d.default.version,h.StorageScope.GLOBAL);var E=n.localize(0,null),_=new r.Action("nps.takeSurvey",n.localize(1,null),"",(!0),function(){return s.getTelemetryInfo().then(function(e){window.open(p.default.npsSurveyUrl+"?o="+encodeURIComponent(process.platform)+"&v="+encodeURIComponent(d.default.version)+"&m="+encodeURIComponent(e.machineId)),t.store(S,!1,h.StorageScope.GLOBAL),t.store(b,d.default.version,h.StorageScope.GLOBAL)})}),C=new r.Action("nps.later",n.localize(2,null),"",(!0),function(){return t.store(m,g-3,h.StorageScope.GLOBAL),i.TPromise.as(null)}),w=new r.Action("nps.never",n.localize(3,null),"",(!0),function(){return t.store(S,!1,h.StorageScope.GLOBAL),t.store(b,d.default.version,h.StorageScope.GLOBAL),i.TPromise.as(null)}),I=[w,C,_];o.show(c.Severity.Info,{message:E,actions:I})}}}}return e.prototype.getId=function(){return"nps"},e=g([v(0,u.IInstantiationService),v(1,h.IStorageService),v(2,c.IMessageService),v(3,l.ITelemetryService)],e)}();if("en"===o.language&&p.default.npsSurveyUrl){var _=a.Registry.as(s.Extensions.Workbench);_.registerWorkbenchContribution(E)}}),define(l[86],h([1,0,14,6,23]),function(e,t,n,i,r){"use strict";t.OUTPUT_MIME="text/x-code-output",t.OUTPUT_MODE_ID="Log",t.OUTPUT_EDITOR_INPUT_ID="vs.output",t.OUTPUT_PANEL_ID="workbench.panel.output",t.Extensions={OutputChannels:"workbench.contributions.outputChannels"},t.OUTPUT_SERVICE_ID="outputService",t.MAX_OUTPUT_LENGTH=1e6,t.CONTEXT_IN_OUTPUT=new r.RawContextKey("inOutput",(!1)),t.IOutputService=i.createDecorator(t.OUTPUT_SERVICE_ID);var o=function(){function e(){this.channels=[]}return e.prototype.registerChannel=function(e,t){this.channels.every(function(t){return t.id!==e})&&this.channels.push({id:e,label:t})},e.prototype.getChannels=function(){return this.channels},e}();n.Registry.add(t.Extensions.OutputChannels,new o)}),define(l[962],h([1,0,5,57,86]),function(e,t,n,i,r){"use strict";var o=function(){function e(e,t){var n=this;this.gitService=e,this.outputService=t;var r=e.addListener2(i.ServiceEvents.OPERATION_START,function(){n.outputListener=n.gitService.onOutput(function(e){return n.onOutput(e)}),r.dispose()})}return e.prototype.getId=function(){return e.ID},e.prototype.onOutput=function(e){this.outputService.getChannel("Git").append(e)},e.prototype.dispose=function(){this.outputListener=n.dispose(this.outputListener)},e.ID="vs.git.output",e=g([v(0,i.IGitService),v(1,r.IOutputService)],e)}();t.GitOutput=o}),define(l[963],h([1,0,17,49,86,691]),function(e,t,n,i,r,o){"use strict";var s=function(){function e(t,o){var s=this,a=t.getWorkspace();a&&(this._modelService=o,this._workspaceResource=a.resource,i.LinkProviderRegistry.register(r.OUTPUT_MODE_ID,{provideLinks:function(e,t){return n.wireCancellationToken(t,s._provideLinks(e.uri))}}),this._worker=null,this._disposeWorker=new n.RunOnceScheduler(function(){s._worker&&(s._worker.dispose(),s._worker=null)},e.DISPOSE_WORKER_TIME))}return e.prototype._getOrCreateWorker=function(){if(this._disposeWorker.schedule(),!this._worker){var e={workspaceResourceUri:this._workspaceResource.toString()};this._worker=o.createWebWorker(this._modelService,{moduleId:"vs/workbench/parts/output/common/outputLinkComputer",createData:e,label:"outputLinkComputer"})}return this._worker},e.prototype._provideLinks=function(e){return this._getOrCreateWorker().withSyncedResources([e]).then(function(t){return t.computeLinks(e.toString())})},e.DISPOSE_WORKER_TIME=18e4,e}();t.OutputLinkProvider=s}),define(l[322],h([1,0,594,8,94,11,59,101,6,39,36]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";var h=function(e){function t(t,n){var i=this;e.call(this),this.editor=t,this.settingsGroup=n,this._onToggled=this._register(new o.Emitter),this.onToggled=this._onToggled.event,this.create(),this._register(this.editor.onDidChangeConfiguration(function(){return i.layout()})),this._register(this.editor.onDidLayoutChange(function(){return i.layout()})),this._register(this.editor.onDidChangeCursorPosition(function(e){return i.onCursorChange(e)}))}return d(t,e),Object.defineProperty(t.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heightInLines",{get:function(){return 1.5},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"afterLineNumber",{get:function(){return this._afterLineNumber},enumerable:!0,configurable:!0}),t.prototype.create=function(){var e=this;this._domNode=i.$(".settings-group-title-widget"),this.titleContainer=i.append(this._domNode,i.$(".title-container")),this.titleContainer.tabIndex=1,this.onclick(this.titleContainer,function(){return e.toggle()}),this.onkeydown(this.titleContainer,function(t){return e.onKeyDown(t)});var t=this._register(i.trackFocus(this.titleContainer));t.addFocusListener(function(){return e.toggleFocus(!0)}),t.addBlurListener(function(){return e.toggleFocus(!1)}),this.icon=i.append(this.titleContainer,i.$(".expand-collapse-icon")),this.title=i.append(this.titleContainer,i.$(".title")),this.title.textContent=this.settingsGroup.title+(" ("+this.settingsGroup.sections.reduce(function(e,t){return e+t.settings.length},0)+")"),this.layout()},t.prototype.render=function(){var e=this;this._afterLineNumber=this.settingsGroup.range.startLineNumber-2,this.editor.changeViewZones(function(t){e.id=t.addZone(e)})},t.prototype.toggleCollapse=function(e){i.toggleClass(this.titleContainer,"collapsed",e)},t.prototype.toggleFocus=function(e){i.toggleClass(this.titleContainer,"focused",e)},t.prototype.isCollapsed=function(){return i.hasClass(this.titleContainer,"collapsed")},t.prototype.layout=function(){this.titleContainer.style.lineHeight=this.editor.getConfiguration().lineHeight+3+"px",this.titleContainer.style.fontSize=this.editor.getConfiguration().fontInfo.fontSize+"px";var e=this.getIconSize();this.icon.style.height=e+"px",this.icon.style.width=e+"px"},t.prototype.getIconSize=function(){var e=this.editor.getConfiguration().fontInfo.fontSize;return e>8?Math.max(e,16):12},t.prototype.onKeyDown=function(e){switch(e.keyCode){case 3:case 10:this.toggle();break;case 15:this.collapse(!0);break;case 17:this.collapse(!1);break;case 16:if(this.settingsGroup.range.startLineNumber-3!==1){this.editor.focus();var t=this.settingsGroup.range.startLineNumber-2;this.editor.setPosition({lineNumber:t,column:this.editor.getModel().getLineMinColumn(t)})}break;case 18:var n=this.isCollapsed()?this.settingsGroup.range.startLineNumber:this.settingsGroup.range.startLineNumber-1;this.editor.focus(),this.editor.setPosition({lineNumber:n,column:this.editor.getModel().getLineMinColumn(n)})}},t.prototype.toggle=function(){this.collapse(!this.isCollapsed())},t.prototype.collapse=function(e){e!==this.isCollapsed()&&(i.toggleClass(this.titleContainer,"collapsed",e),this._onToggled.fire(e))},t.prototype.onCursorChange=function(e){"mouse"!==e.source&&this.focusTitle(e.position)&&this.titleContainer.focus()},t.prototype.focusTitle=function(e){var t=this.previousPosition;return this.previousPosition=e,!!t&&(t.lineNumber!==e.lineNumber&&(e.lineNumber===this.settingsGroup.range.startLineNumber-1||e.lineNumber===this.settingsGroup.range.startLineNumber-2||!(!this.isCollapsed()||e.lineNumber!==this.settingsGroup.range.endLineNumber)))},t.prototype.dispose=function(){var t=this;this.editor.changeViewZones(function(e){e.removeZone(t.id)}),e.prototype.dispose.call(this)},t}(r.Widget);t.SettingsGroupTitleWidget=h;var p=function(e){function t(t,n,i,r){e.call(this),this.contextViewService=n,this.contextMenuService=i,this.instantiationService=r,this._onDidChange=this._register(new o.Emitter),this.onDidChange=this._onDidChange.event,this._onEnter=this._register(new o.Emitter),this.onEnter=this._onEnter.event,this.create(t)}return d(t,e),t.prototype.create=function(e){this.domNode=i.append(e,i.$("div.settings-header-widget")),this.headerContainer=i.append(this.domNode,i.$("div.settings-header-container"));var t=i.append(this.headerContainer,i.$("div.settings-title-container"));this.createInfoContainer(i.append(t,i.$("div.settings-info-container"))),this.createSearchContainer(i.append(this.domNode,i.$("div.settings-search-container")))},t.prototype.createInfoContainer=function(e){i.append(e,i.$("span.title-label")).textContent=n.localize(0,null),i.append(e,i.$("span")).textContent=n.localize(1,null)},t.prototype.createSearchContainer=function(e){var t=this;this.searchContainer=e;var r=i.append(this.searchContainer,i.$("div.settings-search-input"));this.inputBox=this._register(new a.InputBox(r,this.contextViewService,{ariaLabel:n.localize(2,null),placeholder:n.localize(3,null)})),this.inputBox.onDidChange(function(e){return t._onDidChange.fire(e)}),this.onkeyup(this.inputBox.inputElement,function(e){return t._onKeyUp(e)})},t.prototype.focus=function(){this.inputBox.focus()},t.prototype.layout=function(e){this.inputBox.width=e.width-62},t.prototype._onKeyUp=function(e){switch(e.keyCode){case 3:return this._onEnter.fire(),e.preventDefault(),void e.stopPropagation()}},t=g([v(1,u.IContextViewService),v(2,u.IContextMenuService),v(3,c.IInstantiationService)],t)}(r.Widget);t.DefaultSettingsHeaderWidget=p;var f=function(e){function t(t,n,i,r){if(e.call(this),this.editor=t,this.label=n,this.keyBindingAction=i,this._onClick=this._register(new o.Emitter),this.onClick=this._onClick.event,i){var s=r.lookupKeybindings(i);s.length>0&&(this.label+=" ("+r.getLabelFor(s[0])+")")}}return d(t,e),t.prototype.render=function(){var e=this;this._domNode=i.$(".floating-click-widget"),i.append(this._domNode,i.$("")).textContent=this.label,this.onclick(this._domNode,function(t){return e._onClick.fire()}),this.editor.addOverlayWidget(this)},t.prototype.dispose=function(){this.editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.getId=function(){return"editor.overlayWidget.floatingClickWidget"},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return{preference:s.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER}},t=g([v(3,l.IKeybindingService)],t)}(r.Widget);t.FloatingClickWidget=f;var m=function(e){function t(t,n){e.call(this),this.editor=t,this.total=n}return d(t,e),t.prototype.render=function(){this._domNode=i.$(".settings-count-widget"),this.editor.addOverlayWidget(this)},t.prototype.show=function(e){e===this.total?i.removeClass(this._domNode,"show"):(0===e?(this._domNode.textContent=n.localize(4,null),i.addClass(this._domNode,"no-results")):(this._domNode.textContent=n.localize(5,null,e,this.total),i.removeClass(this._domNode,"no-results")),i.addClass(this._domNode,"show"))},t.prototype.dispose=function(){this.editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.getId=function(){return"editor.overlayWidget.settingsCountWidget"},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return{preference:null}},t}(r.Widget);t.SettingsCountWidget=m}),define(l[155],h([1,0,6,23]),function(e,t,n,i){"use strict";t.IPreferencesService=n.createDecorator("preferencesService"),t.CONTEXT_DEFAULT_SETTINGS_EDITOR=new i.RawContextKey("defaultSettingsEditor",(!1)),t.DEFAULT_EDITOR_COMMAND_COLLAPSE_ALL="defaultSettingsEditor.action.collapseAllGroups"}),define(l[966],h([1,0,40,54,2,115,14,71,73,155]),function(e,t,n,i,r,o,s,a,c,u){"use strict";var l=s.Registry.as(o.Extensions.JSONContribution),h=function(){function e(e,t,n,i){this.modelService=e,this.textModelResolverService=t,this.preferencesService=n,this.modeService=i,this.start()}return e.prototype.getId=function(){return"vs.contentprovider"},e.prototype.start=function(){var e=this;this.textModelResolverService.registerTextModelContentProvider("vscode",{provideTextContent:function(t){if("vscode"!==t.scheme)return null;if("schemas"===t.authority){var n=l.getSchemaContributions().schemas,i=n[t.toString()];if(i){var o=JSON.stringify(i),s=e.modeService.getOrCreateMode("json");return r.TPromise.as(e.modelService.createModel(o,s,t))}}return e.preferencesService.createDefaultPreferencesEditorModel(t).then(function(n){if(n){var i=e.modeService.getOrCreateMode("json");return r.TPromise.as(e.modelService.createModel(n.content,i,t))}return null})}})},e=g([v(0,n.IModelService),v(1,c.ITextModelResolverService),v(2,u.IPreferencesService),v(3,i.IModeService)],e)}();t.WorkbenchContentProvider=h,s.Registry.as(a.Extensions.Workbench).registerWorkbenchContribution(h)}),define(l[324],h([1,0,595,12,30,103,5,14,96,77,36,100]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";var p=function(e){function t(){e.apply(this,arguments)}return d(t,e),Object.defineProperty(t.prototype,"groupsTerms",{get:function(){return this.settingsGroups.map(function(e){return"@"+e.id})},enumerable:!0,configurable:!0}),t.prototype.doFilterSettings=function(e,t){if(!e)return{filteredGroups:t,allGroups:t,matches:new o.LinkedMap};var n=this.filterByGroupTerm(e);if(n)return{filteredGroups:[n],allGroups:t,matches:new o.LinkedMap};for(var r=new o.LinkedMap,s=[],a=i.createRegExp(e,!1,{global:!0}),c=0,u=t;c<u.length;c++){for(var l=u[c],h=a.test(l.title),d=[],p=0,f=l.sections;p<f.length;p++){for(var g=f[p],v=[],m=0,y=g.settings;m<y.length;m++){var b=y[m],S=this._findMatchesInSetting(e,a,b);(h||S.length>0)&&v.push(b),r.set(l.title+b.key,S)}v.length&&d.push({description:g.description,settings:v,descriptionRange:g.descriptionRange})}d.length&&s.push({id:l.id,title:l.title,titleRange:l.titleRange,sections:d,range:l.range})}return{filteredGroups:s,matches:r,allGroups:t}},t.prototype.filterByGroupTerm=function(e){if(this.groupsTerms.indexOf(e)!==-1){var t=e.substring(1);return this.settingsGroups.filter(function(e){return e.id===t})[0]}return null},t._fuzzyFilter=h.or(h.matchesPrefix,h.matchesContiguousSubString,h.matchesWords,h.matchesFuzzy),t}(s.Disposable);t.AbstractSettingsModel=p;var f=function(e){function t(t,n){var i=this;e.call(this),this.model=t,this._configurationTarget=n,this._register(this.model.onDidChangeContent(function(){i._settingsGroups=null}))}return d(t,e),Object.defineProperty(t.prototype,"uri",{get:function(){return this.model.uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"configurationTarget",{get:function(){return this._configurationTarget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"settingsGroups",{get:function(){return this._settingsGroups||this.parse(),this._settingsGroups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this.model.getValue()},enumerable:!0,configurable:!0}),t.prototype.filterSettings=function(e){return this.doFilterSettings(e,this.settingsGroups)},t.prototype.parse=function(){function e(e,a,c){if(Array.isArray(o)?o.push(e):i&&(o[i]=e),1===s.length){var u=t.getPositionAt(a),l=t.getPositionAt(a+c);n[n.length-1].value=e,n[n.length-1].valueRange={startLineNumber:u.lineNumber,startColumn:u.column,endLineNumber:l.lineNumber,endColumn:l.column},n[n.length-1].range=r.assign(n[n.length-1].range,{endLineNumber:l.lineNumber,endColumn:l.column})}}var t=this.model,n=[],i=null,o=[],s=[],a={startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0},u={onObjectBegin:function(n,r){if(0===s.length){var c=t.getPositionAt(n);a.startLineNumber=c.lineNumber,a.startColumn=c.column}var u={};e(u,n,r),o=u,i=null,s.push(o)},onObjectProperty:function(e,r,o){if(i=e,1===s.length){var a=t.getPositionAt(r);n.push({description:"",key:e,keyRange:{startLineNumber:a.lineNumber,startColumn:a.column,endLineNumber:a.lineNumber,endColumn:a.column+o},range:{startLineNumber:a.lineNumber,startColumn:a.column,endLineNumber:0,endColumn:0},value:null,valueRange:null,descriptionRange:null})}},onObjectEnd:function(e,i){if(o=s.pop(),1===s.length){var c=t.getPositionAt(e+i);n[n.length-1].valueRange=r.assign(n[n.length-1].valueRange,{endLineNumber:c.lineNumber,endColumn:c.column}),n[n.length-1].range=r.assign(n[n.length-1].range,{endLineNumber:c.lineNumber,endColumn:c.column})}if(0===s.length){var u=t.getPositionAt(e);a.endLineNumber=u.lineNumber,a.endColumn=u.column}},onArrayBegin:function(t,n){var r=[];e(r,t,n),s.push(o),o=r,i=null},onArrayEnd:function(e,i){if(o=s.pop(),1===s.length){var a=t.getPositionAt(e+i);n[n.length-1].valueRange=r.assign(n[n.length-1].valueRange,{endLineNumber:a.lineNumber,endColumn:a.column}),n[n.length-1].range=r.assign(n[n.length-1].range,{endLineNumber:a.lineNumber,endColumn:a.column})}},onLiteralValue:e,onError:function(e){}};c.visit(t.getValue(),u),this._settingsGroups=n.length>0?[{sections:[{settings:n}],title:null,titleRange:null,range:a}]:[]},t.prototype._findMatchesInSetting=function(e,t,n){for(var i=[],r=n.range.startLineNumber;r<=n.range.endLineNumber;r++)i.push.apply(i,this._findMatchesInLine(e,r));return i},t.prototype._findMatchesInLine=function(e,t){return this.model.findMatches(e,{startLineNumber:t,startColumn:this.model.getLineMinColumn(t),endLineNumber:t,endColumn:this.model.getLineMaxColumn(t)},!1,!1,!1)},t}(p);t.SettingsEditorModel=f;var m=function(e){function t(t,n){e.call(this),this._uri=t,this._mostCommonlyUsedSettingsKeys=n,this.indent="  "}return d(t,e),Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this._content||this.parse(),this._content},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"settingsGroups",{get:function(){return this._allSettingsGroups||this.parse(),this._allSettingsGroups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mostCommonlyUsedSettings",{get:function(){return this.settingsGroups[0]},enumerable:!0,configurable:!0}),t.prototype.filterSettings=function(e){return this.doFilterSettings(e,this.settingsGroups)},t.prototype.getSetting=function(e){for(var t=0,n=this.settingsGroups;t<n.length;t++)for(var i=n[t],r=0,o=i.sections;r<o.length;r++)for(var s=o[r],a=0,c=s.settings;a<c.length;a++){var u=c[a];if(u.key===e)return u}return null},t.prototype.parse=function(){var e=this,t=a.Registry.as(u.Extensions.Configuration).getConfigurations(),n=t.sort(this.compareConfigurationNodes).reduce(function(t,n){return e.parseConfig(n,t)},[]),i=this.getMostCommonlyUsedSettings(n);this._allSettingsGroups=[i].concat(n),this._content=this.toContent(i,n)},t.prototype.getMostCommonlyUsedSettings=function(e){for(var t=new o.LinkedMap,i=0,r=e;i<r.length;i++)for(var s=r[i],a=0,c=s.sections;a<c.length;a++)for(var u=c[a],l=0,h=u.settings;l<h.length;l++){var d=h[l];t.set(d.key,d)}var p=this._mostCommonlyUsedSettingsKeys.map(function(e){var n=t.get(e);return n?{description:n.description,key:n.key,value:n.value,range:null,valueRange:null}:null}).filter(function(e){return!!e});return{id:"mostCommonlyUsed",range:null,title:n.localize(0,null),titleRange:null,sections:[{settings:p}]}},t.prototype.parseConfig=function(e,t,n){var i=this;if(e.title&&(n?n.sections[n.sections.length-1].description=e.title:(n=t.filter(function(t){return t.title===e.title})[0],n||(n={sections:[{settings:[]}],id:e.id,title:e.title,titleRange:null,range:null},t.push(n)))),e.properties){n||(n={sections:[{settings:[]}],id:e.id,title:e.id,titleRange:null,range:null},t.push(n));var r=Object.keys(e.properties).map(function(t){var n=e.properties[t],i=n.default,r=n.description||"";return{key:t,value:i,description:r,range:null,keyRange:null,valueRange:null,descriptionRange:null}});(o=n.sections[n.sections.length-1].settings).push.apply(o,r)}return e.allOf&&e.allOf.forEach(function(e){return i.parseConfig(e,t,n)}),t;var o},t.prototype.compareConfigurationNodes=function(e,t){if("number"!=typeof e.order)return 1;if("number"!=typeof t.order)return-1;if(e.order===t.order){var n=e.title||"",i=t.title||"";return n.localeCompare(i)}return e.order-t.order},t.prototype.toContent=function(e,t){return this._contentByLines=[],this._contentByLines.push("["),this.pushGroups([e]),this._contentByLines.push(","),this.pushGroups(t),this._contentByLines.push("]"),this._contentByLines.join("\n")},t.prototype.pushGroups=function(e){var t=null;this._contentByLines.push("{"),this._contentByLines.push("");for(var n=0,i=e;n<i.length;n++){var r=i[n];t=this.pushGroup(r)}if(t){var o=this._contentByLines[t.range.endLineNumber-2];this._contentByLines[t.range.endLineNumber-2]=o.substring(0,o.length-1)}this._contentByLines.push("}")},t.prototype.pushGroup=function(e){var t=null;this._contentByLines.push("");for(var n=this._contentByLines.length+1,i=0,r=e.sections;i<r.length;i++){var o=r[i];if(o.description){var s=this._contentByLines.length+1;this.addDescription(o.description,this.indent,this._contentByLines),o.descriptionRange={startLineNumber:s,startColumn:1,endLineNumber:this._contentByLines.length,endColumn:this._contentByLines[this._contentByLines.length-1].length}}for(var a=0,c=o.settings;a<c.length;a++){var u=c[a],l=this._contentByLines.length+1;this.addDescription(u.description,this.indent,this._contentByLines),
u.descriptionRange={startLineNumber:l,startColumn:1,endLineNumber:this._contentByLines.length,endColumn:this._contentByLines[this._contentByLines.length-1].length};var h=this.indent,d=JSON.stringify(u.key);h+=d,u.keyRange={startLineNumber:this._contentByLines.length+1,startColumn:h.indexOf(u.key)+1,endLineNumber:this._contentByLines.length+1,endColumn:u.key.length},h+=": ";var p=this._contentByLines.length+1,f=JSON.stringify(u.value,null,this.indent);if(f&&"object"==typeof u.value){var g=f.split("\n");this._contentByLines.push(h+g[0]);for(var v=1;v<g.length;v++)this._contentByLines.push(this.indent+g[v])}else this._contentByLines.push(h+f);u.valueRange={startLineNumber:p,startColumn:h.length+1,endLineNumber:this._contentByLines.length,endColumn:this._contentByLines[this._contentByLines.length-1].length+1},this._contentByLines[this._contentByLines.length-1]+=",",t=u,this._contentByLines.push(""),u.range={startLineNumber:l,startColumn:1,endLineNumber:this._contentByLines.length,endColumn:this._contentByLines[this._contentByLines.length-1].length}}}return e.range={startLineNumber:n,startColumn:1,endLineNumber:this._contentByLines.length,endColumn:this._contentByLines[this._contentByLines.length-1].length},t},t.prototype.addDescription=function(e,t,n){for(var i=e.split("\n"),r=0,o=i;r<o.length;r++){var s=o[r];n.push(t+"// "+s)}},t.prototype._findMatchesInSetting=function(e,t,n){for(var i=this._findMatchesInDescription(e,n).slice(),r=n.valueRange.startLineNumber;r<=n.valueRange.endLineNumber;r++)i.push.apply(i,this._findMatchesInLine(t,r));return i},t.prototype._findMatchesInDescription=function(e,t){for(var n=[],i=function(t){var i=r._contentByLines[t-1],o=p._fuzzyFilter(e,i);o&&n.push.apply(n,o.map(function(e){return{startLineNumber:t,startColumn:e.start+1,endLineNumber:t,endColumn:e.end+1}}))},r=this,o=t.descriptionRange.startLineNumber;o<=t.descriptionRange.endLineNumber;o++)i(o);return n},t.prototype._findMatchesInLine=function(e,t){var n,i=[],r=this._contentByLines[t-1];e.lastIndex=0;do if(n=e.exec(r)){var o={startLineNumber:t,startColumn:n.index+1,endLineNumber:t,endColumn:n.index+1+n[0].length};if(i.push(o),n.index+n[0].length===r.length)return i}while(n);return i},t}(p);t.DefaultSettingsEditorModel=m;var y=function(){function e(e,t){this._uri=e,this.keybindingService=t}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){if(!this._content){var e="// "+n.localize(1,null);this._content=e+"\n"+this.keybindingService.getDefaultKeybindings()}return this._content},enumerable:!0,configurable:!0}),e=g([v(1,l.IKeybindingService)],e)}();t.DefaultKeybindingsEditorModel=y}),define(l[968],h([1,0,604,8,12,29,94,142,394,101,11]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";var h=function(e){function t(t,i,r){void 0===r&&(r=Object.create(null)),e.call(this),this.contextViewProvider=i,this._onSubmit=this._register(new l.Emitter),this.onSubmit=this._onSubmit.event,this.onOptionChange=null,this.width=r.width||100,this.placeholder=r.placeholder||"",this.ariaLabel=r.ariaLabel||n.localize(0,null),this.toDispose=[],this.pattern=null,this.domNode=null,this.inputNode=null,this.inputBox=null,this.render(),t.appendChild(this.domNode)}return d(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.pattern.dispose(),this.toDispose.forEach(function(e){e()}),this.inputFocusTracker&&this.inputFocusTracker.dispose(),this.toDispose=[]},t.prototype.on=function(e,n){switch(e){case"keydown":case"keyup":o.$(this.inputBox.inputElement).on(e,n);break;case t.OPTION_CHANGE:this.onOptionChange=n}return this},t.prototype.setWidth=function(e){this.width=e,this.domNode.style.width=this.width+"px",this.contextViewProvider.layout(),this.setInputWidth()},t.prototype.getValue=function(){return this.inputBox.value},t.prototype.setValue=function(e){this.inputBox.value!==e&&(this.inputBox.value=e)},t.prototype.getGlob=function(){var e=this.getValue(),t=this.isGlobPattern();if(e){var n,i=Object.create(null);return n=t?a.splitGlobAware(e,",").map(function(e){return e.trim()}).filter(function(e){return!!e.length}):e.split(",").map(function(e){return r.trim(e.trim(),"/")}).filter(function(e){return!!e.length}).map(function(e){return"."===e[0]&&(e="*"+e),r.format("{{0}/**,**/{1}}",e,e)}),n.reduce(function(e,t){return i[t]=!0,i},i)}},t.prototype.select=function(){this.inputBox.select()},t.prototype.focus=function(){this.inputBox.focus()},t.prototype.inputHasFocus=function(){return this.inputBox.hasFocus()},t.prototype.isGlobPattern=function(){return this.pattern.checked},t.prototype.setIsGlobPattern=function(e){this.pattern.checked=e,this.setInputWidth()},t.prototype.setInputWidth=function(){var e=this.width-this.pattern.width();this.inputBox.width=e},t.prototype.render=function(){var e=this;this.domNode=document.createElement("div"),this.domNode.style.width=this.width+"px",o.$(this.domNode).addClass("monaco-findInput"),this.inputBox=new u.InputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.ariaLabel||"",validationOptions:{validation:null,showMessage:!0}}),this.inputFocusTracker=i.trackFocus(this.inputBox.inputElement),this.onkeyup(this.inputBox.inputElement,function(t){return e.onInputKeyUp(t)}),this.pattern=new c.Checkbox({actionClassName:"pattern",title:n.localize(1,null),isChecked:!1,onChange:function(t){e.onOptionChange(null),t||e.inputBox.focus(),e.setInputWidth(),e.isGlobPattern()?e.showGlobHelp():e.inputBox.hideMessage()}}),o.$(this.pattern.domNode).on("mouseover",function(){e.isGlobPattern()&&e.showGlobHelp()}),o.$(this.pattern.domNode).on(["mouseleave","mouseout"],function(){e.inputBox.hideMessage()}),this.setInputWidth();var t=document.createElement("div");t.className="controls",t.appendChild(this.pattern.domNode),this.domNode.appendChild(t)},t.prototype.showGlobHelp=function(){this.inputBox.showMessage({type:u.MessageType.INFO,formatContent:!0,content:n.localize(2,null)},!0)},t.prototype.onInputKeyUp=function(e){switch(e.keyCode){case 3:return void this._onSubmit.fire();default:return}},t.OPTION_CHANGE="optionChange",t}(s.Widget);t.PatternInputWidget=h}),define(l[184],h([1,0,23]),function(e,t,n){"use strict";t.VIEWLET_ID="workbench.view.search",t.FindInFilesActionId="workbench.action.findInFiles",t.FocusActiveEditorActionId="search.action.focusActiveEditor",t.ToggleCaseSensitiveActionId="toggleSearchCaseSensitive",t.ToggleWholeWordActionId="toggleSearchWholeWord",t.ToggleRegexActionId="toggleSearchRegex",t.CloseReplaceWidgetActionId="closeReplaceInFilesWidget",t.SearchViewletVisibleKey=new n.RawContextKey("searchViewletVisible",(!0)),t.InputBoxFocussedKey=new n.RawContextKey("inputBoxFocus",(!1)),t.SearchInputBoxFocussedKey=new n.RawContextKey("searchInputBoxFocus",(!1)),t.ReplaceInputBoxFocussedKey=new n.RawContextKey("replaceInputBoxFocus",(!1)),t.ReplaceActiveKey=new n.RawContextKey("replaceActive",(!1))}),define(l[202],h([1,0,6]),function(e,t,n){"use strict";t.IReplaceService=n.createDecorator("replaceService")}),define(l[327],h([1,0,2,7,27]),function(e,t,n,i,r){"use strict";function o(e){var t=[],r=s.all().map(function(n){return n.provideWorkspaceSymbols(e).then(function(e){Array.isArray(e)&&t.push([n,e])},i.onUnexpectedError)});return n.TPromise.join(r).then(function(e){return t})}var s;!function(e){function t(e){return e&&i.push(e),{dispose:function(){if(e){var t=i.indexOf(e);t>=0&&(i.splice(t,1),e=void 0)}}}}function n(){return i.slice(0)}var i=[];e.register=t,e.all=n}(s=t.WorkspaceSymbolProviderRegistry||(t.WorkspaceSymbolProviderRegistry={})),t.getWorkspaceSymbols=o,r.CommonEditorRegistry.registerLanguageCommand("_executeWorkspaceSymbolProvider",function(e,t){var n=t.query;if("string"!=typeof n)throw i.illegalArgument();return o(n)})}),define(l[328],h([1,0,30,144,25]),function(e,t,n,i,r){"use strict";function o(e){var t=e&&e.files&&e.files.exclude,i=e&&e.search&&e.search.exclude;if(!t&&!i)return null;if(!t||!i)return t||i;var r=Object.create(null);return r=n.mixin(r,t),r=n.mixin(r,i,!0)}t.getExcludes=o;var s=function(){function e(e){this.configurationService=e}return e.prototype.text=function(e,t){return this.query(i.QueryType.Text,e,t)},e.prototype.file=function(e){return this.query(i.QueryType.File,null,e)},e.prototype.query=function(e,t,i){void 0===i&&(i={});var r=this.configurationService.getConfiguration(),s=o(r);return i.excludePattern?n.mixin(i.excludePattern,s,!1):i.excludePattern=s,{type:e,folderResources:i.folderResources,extraFileResources:i.extraFileResources,filePattern:i.filePattern,excludePattern:i.excludePattern,includePattern:i.includePattern,maxResults:i.maxResults,sortByScore:i.sortByScore,cacheKey:i.cacheKey,fileEncoding:i.fileEncoding,contentPattern:t}},e=g([v(0,r.IConfigurationService)],e)}();t.QueryBuilder=s}),define(l[973],h([1,0,612,20,17,2,74,7,5,313,33,69,51,117]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p){"use strict";function f(e,t){return void 0===t&&(t=null),s.readdir(e).then(function(n){return o.TPromise.join(n.map(function(n){return t&&!t.test(n)?o.TPromise.as(null):s.fileExists(i.join(e,n)).then(function(e){return e?n:null})})).then(function(e){return e.filter(function(e){return null!==e})})})}var m=function(){function e(t,n,o){var c=this;this.fileService=t,this.lifecycleService=n,this.snippetFolder=i.join(o.appSettingsHome,"snippets"),this.toDispose=[],this.fileWatchDelayer=new r.ThrottledDelayer(e.FILE_WATCH_DELAY),s.mkdirp(this.snippetFolder).then(function(){return c.scanUserSnippets()}).then(function(){return c.registerListeners()}).done(void 0,a.onUnexpectedError)}return e.prototype.registerListeners=function(){var e=this,t=new r.RunOnceScheduler(function(){e.scanUserSnippets()},500);this.toDispose.push(t);try{this.watcher=p.watch(this.snippetFolder),this.watcher.on("change",function(n){return"delete"===n?void e.unregisterListener():void t.schedule()})}catch(e){}this.lifecycleService.onShutdown(this.dispose,this)},e.prototype.scanUserSnippets=function(){var e=this;return f(this.snippetFolder,/\.json$/).then(function(t){return o.TPromise.join(t.map(function(t){var r=t.replace(/\.json$/,"").toLowerCase(),o=i.join(e.snippetFolder,t);return u.readAndRegisterSnippets(r,o,n.localize(0,null))}))})},e.prototype.unregisterListener=function(){this.watcher&&(this.watcher.close(),this.watcher=null)},e.prototype.getId=function(){return"vs.snippets.snippetsTracker"},e.prototype.dispose=function(){this.unregisterListener(),this.toDispose=c.dispose(this.toDispose)},e.FILE_WATCH_DELAY=200,e=g([v(0,l.IFileService),v(1,h.ILifecycleService),v(2,d.IEnvironmentService)],e)}();t.SnippetsTracker=m}),define(l[974],h([1,0,42,400]),function(e,t,n,i){"use strict";var r;!function(e){e.WatchingBeginDetected="watchingBeginDetected",e.WatchingEndDetected="watchingEndDetected"}(r=t.ProblemCollectorEvents||(t.ProblemCollectorEvents={}));var o=function(e){function t(t,n){var r=this;e.call(this),this.modelService=n,this.matchers=Object.create(null),this.bufferLength=1,t.map(function(e){return i.createLineMatcher(e)}).forEach(function(e){var t=e.matchLength;t>r.bufferLength&&(r.bufferLength=t);var n=r.matchers[t];n||(n=[],r.matchers[t]=n),n.push(e)}),this.buffer=[],this.activeMatcher=null,this.openModels=Object.create(null),this.modelListeners=[],this.modelService.onModelAdded(function(e){r.openModels[e.uri.toString()]=!0},this,this.modelListeners),this.modelService.onModelRemoved(function(e){delete r.openModels[e.uri.toString()]},this,this.modelListeners),this.modelService.getModels().forEach(function(e){return r.openModels[e.uri.toString()]=!0})}return d(t,e),t.prototype.dispose=function(){this.modelListeners.forEach(function(e){return e.dispose()})},Object.defineProperty(t.prototype,"numberOfMatches",{get:function(){return this._numberOfMatches},enumerable:!0,configurable:!0}),t.prototype.tryFindMarker=function(e){var t=null;if(this.activeMatcher){if(t=this.activeMatcher.next(e))return this._numberOfMatches++,t;this.clearBuffer(),this.activeMatcher=null}if(this.buffer.length<this.bufferLength)this.buffer.push(e);else{for(var n=this.buffer.length-1,i=0;i<n;i++)this.buffer[i]=this.buffer[i+1];this.buffer[n]=e}return t=this.tryMatchers(),t&&this.clearBuffer(),t},t.prototype.isOpen=function(e){return!!this.openModels[e.toString()]},t.prototype.shouldApplyMatch=function(e){switch(e.description.applyTo){case i.ApplyToKind.allDocuments:return!0;case i.ApplyToKind.openDocuments:return this.openModels[e.resource.toString()];case i.ApplyToKind.closedDocuments:return!this.openModels[e.resource.toString()];default:return!0}},t.prototype.tryMatchers=function(){this.activeMatcher=null;for(var e=this.buffer.length,t=0;t<e;t++){var n=this.matchers[e-t];if(n)for(var i=0;i<n.length;i++){var r=n[i],o=r.handle(this.buffer,t);if(o.match)return this._numberOfMatches++,o.continue&&(this.activeMatcher=r),o.match}}return null},t.prototype.clearBuffer=function(){this.buffer.length>0&&(this.buffer=[])},t}(n.EventEmitter);t.AbstractProblemCollector=o,function(e){e[e.Clean=0]="Clean"}(t.ProblemHandlingStrategy||(t.ProblemHandlingStrategy={}));var s=t.ProblemHandlingStrategy,a=function(e){function t(t,n,i,r){var o=this;void 0===r&&(r=s.Clean),e.call(this,t,i),this.currentResource=null,this.currentResourceAsString=null,this.markers=Object.create(null);var a=Object.create(null);t.forEach(function(e){return a[e.owner]=!0}),this.owners=Object.keys(a),this.markerService=n,this.strategy=r,this.currentResourcesWithMarkers=Object.create(null),this.reportedResourcesWithMarkers=Object.create(null),this.owners.forEach(function(e){o.currentResourcesWithMarkers[e]=o.markerService.read({owner:e}).map(function(e){return e.resource}),o.reportedResourcesWithMarkers[e]=Object.create(null)}),this.currentResource=null,this.currentResourceAsString=null,this.markers=Object.create(null)}return d(t,e),t.prototype.processLine=function(e){var t=this,n=this.tryFindMarker(e);if(n){var i=n.description.owner,r=n.resource,o=r.toString(),s=this.shouldApplyMatch(n);if(s){this.currentResourceAsString!==o&&(this.currentResource&&(Object.keys(this.markers).forEach(function(e){t.markerService.changeOne(e,t.currentResource,t.markers[e])}),this.markers=Object.create(null)),this.reportedResourcesWithMarkers[i][o]=r,this.currentResource=r,this.currentResourceAsString=o);var a=this.markers[i];a||(a=[],this.markers[i]=a),a.push(n.marker)}else this.reportedResourcesWithMarkers[i][o]=r}},t.prototype.done=function(){var e=this;this.currentResource&&Object.keys(this.markers).forEach(function(t){e.markerService.changeOne(t,e.currentResource,e.markers[t])}),this.strategy===s.Clean&&Object.keys(this.currentResourcesWithMarkers).forEach(function(t){var n=[],i=e.reportedResourcesWithMarkers[t];e.currentResourcesWithMarkers[t].forEach(function(e){i[e.toString()]||n.push(e)}),e.markerService.remove(t,n)}),this.currentResource=null,this.currentResourceAsString=null,this.markers=Object.create(null)},t}(o);t.StartStopProblemCollector=a;var c=function(e){function t(t,n,i){var r=this;e.call(this,t,i),this.problemMatchers=t,this.markerService=n,this.resetCurrentResource(),this.resourcesToClean=Object.create(null),this.ignoreOpenResourcesByOwner=Object.create(null),this.watchingBeginsPatterns=[],this.watchingEndsPatterns=[],this.problemMatchers.forEach(function(e){e.watching&&(r.watchingBeginsPatterns.push({problemMatcher:e,pattern:e.watching.beginsPattern}),r.watchingEndsPatterns.push({problemMatcher:e,pattern:e.watching.endsPattern}))})}return d(t,e),t.prototype.aboutToStart=function(){var e=this;this.problemMatchers.forEach(function(t){t.watching&&t.watching.activeOnStart&&(e.emit(r.WatchingBeginDetected,{}),e.recordResourcesToClean(t.owner));var n=e.ignoreOpenResourcesByOwner[t.owner];if(n){var o=n&&t.applyTo===i.ApplyToKind.closedDocuments;o!==n&&(e.ignoreOpenResourcesByOwner[t.owner]=o)}else e.ignoreOpenResourcesByOwner[t.owner]=t.applyTo===i.ApplyToKind.closedDocuments})},t.prototype.processLine=function(e){if(!this.tryBegin(e)&&!this.tryFinish(e)){var t=this.tryFindMarker(e);if(t){var n=t.resource,i=t.description.owner,r=n.toString(),o=this.shouldApplyMatch(t);if(o){this.currentResourceAsString!==r&&(this.removeResourceToClean(i,r),this.currentResource&&this.deliverMarkersForCurrentResource(),this.currentResource=n,this.currentResourceAsString=r);var s=this.markers[i];s||(s=[],this.markers[i]=s),s.push(t.marker)}else this.removeResourceToClean(i,r)}}},t.prototype.forceDelivery=function(){var e=this;this.deliverMarkersForCurrentResource(!1),Object.keys(this.resourcesToClean).forEach(function(t){e.cleanMarkers(t,!1)}),this.resourcesToClean=Object.create(null)},t.prototype.tryBegin=function(e){for(var t=!1,n=0;n<this.watchingBeginsPatterns.length;n++){var o=this.watchingBeginsPatterns[n],s=o.pattern.regexp.exec(e);if(s){this.emit(r.WatchingBeginDetected,{}),t=!0;var a=o.problemMatcher.owner;if(s[1]){var c=i.getResource(s[1],o.problemMatcher);this.currentResourceAsString&&this.currentResourceAsString===c.toString()&&this.resetCurrentResource(),this.recordResourceToClean(a,c)}else this.recordResourcesToClean(a),this.resetCurrentResource()}}return t},t.prototype.tryFinish=function(e){for(var t=!1,n=0;n<this.watchingEndsPatterns.length;n++){var i=this.watchingEndsPatterns[n],o=i.pattern.regexp.exec(e);if(o){this.emit(r.WatchingEndDetected,{}),t=!0;var s=i.problemMatcher.owner;this.cleanMarkers(s),this.deliverMarkersForCurrentResource()}}return t},t.prototype.recordResourcesToClean=function(e){var t=this.getResourceSetToClean(e);this.markerService.read({owner:e}).forEach(function(e){return t[e.resource.toString()]=e.resource})},t.prototype.recordResourceToClean=function(e,t){this.getResourceSetToClean(e)[t.toString()]=t},t.prototype.removeResourceToClean=function(e,t){var n=this.resourcesToClean[e];n&&delete n[t]},t.prototype.cleanMarkers=function(e,t){var n=this;void 0===t&&(t=!0);var i=this.resourcesToClean[e];if(i){var r=Object.keys(i).map(function(e){return i[e]}).filter(function(t){return!n.ignoreOpenResourcesByOwner[e]||!n.isOpen(t)});this.markerService.remove(e,r),t&&delete this.resourcesToClean[e]}},t.prototype.deliverMarkersForCurrentResource=function(e){var t=this;void 0===e&&(e=!0),this.currentResource&&Object.keys(this.markers).forEach(function(e){t.markerService.changeOne(e,t.currentResource,t.markers[e])}),e&&this.resetCurrentResource()},t.prototype.getResourceSetToClean=function(e){var t=this.resourcesToClean[e];return t||(t=Object.create(null),this.resourcesToClean[e]=t),t},t.prototype.resetCurrentResource=function(){this.currentResource=null,this.currentResourceAsString=null,this.markers=Object.create(null)},t}(o);t.WatchingProblemCollector=c}),define(l[154],h([1,0]),function(e,t){"use strict";!function(e){e[e.NotConfigured=0]="NotConfigured",e[e.RunningTask=1]="RunningTask",e[e.NoBuildTask=2]="NoBuildTask",e[e.NoTestTask=3]="NoTestTask",e[e.ConfigValidationError=4]="ConfigValidationError",e[e.TaskNotFound=5]="TaskNotFound",e[e.NoValidTaskRunner=6]="NoValidTaskRunner",e[e.UnknownError=7]="UnknownError"}(t.TaskErrors||(t.TaskErrors={}));var n=(t.TaskErrors,function(){function e(e,t,n){this.severity=e,this.message=t,this.code=n}return e}());t.TaskError=n;var i;!function(e){e.shortcut="shortcut",e.command="command"}(i=t.Triggers||(t.Triggers={})),function(e){e[e.Always=0]="Always",e[e.Silent=1]="Silent",e[e.Never=2]="Never"}(t.ShowOutput||(t.ShowOutput={}));var r,r=t.ShowOutput;!function(e){function t(t){return t=t.toLowerCase(),"always"===t?e.Always:"silent"===t?e.Silent:"never"===t?e.Never:void 0}e.fromString=t}(r=t.ShowOutput||(t.ShowOutput={})),function(e){e[e.Started=1]="Started",e[e.Active=2]="Active"}(t.TaskExecuteKind||(t.TaskExecuteKind={}));var o;t.TaskExecuteKind;!function(e){e.Active="active",e.Inactive="inactive"}(o=t.TaskSystemEvents||(t.TaskSystemEvents={})),function(e){e[e.SingleRun=0]="SingleRun",e[e.Watching=1]="Watching"}(t.TaskType||(t.TaskType={}));t.TaskType}),define(l[976],h([1,0,2,42,154]),function(e,t,n,i,r){"use strict";var o=function(e){function t(t,n,i){e.call(this),this.configuration=t,this.telemetryService=n,this.modeService=i}return d(t,e),t.prototype.build=function(){return this.processMode(function(e){return null},"build",r.Triggers.shortcut)},t.prototype.rebuild=function(){return this.processMode(function(e){return null},"rebuild",r.Triggers.shortcut)},t.prototype.clean=function(){return this.processMode(function(e){return null},"clean",r.Triggers.shortcut)},t.prototype.runTest=function(){return{kind:r.TaskExecuteKind.Started,promise:n.TPromise.wrapError("Not implemented yet.")}},t.prototype.run=function(e){return{kind:r.TaskExecuteKind.Started,promise:n.TPromise.wrapError("Not implemented yet.")}},t.prototype.isActive=function(){return n.TPromise.as(!1)},t.prototype.isActiveSync=function(){return!1},t.prototype.canAutoTerminate=function(){return!1},t.prototype.terminate=function(){return n.TPromise.as({success:!0})},t.prototype.terminateSync=function(){return{success:!0}},t.prototype.tasks=function(){var e=[];return n.TPromise.as(e)},t.prototype.processMode=function(e,i,o){var s=this,a={trigger:o,command:"languageService",success:!0};return{kind:r.TaskExecuteKind.Started,started:{},promise:n.Promise.join(this.configuration.modes.map(function(e){return s.modeService.getOrCreateMode(e)})).then(function(t){var i=[];return t.forEach(function(t){var n=e(t);n&&i.push(n)}),n.Promise.join(i)}).then(function(e){return s.telemetryService.publicLog(t.TelemetryEventName,a),e},function(e){return a.success=!1,s.telemetryService.publicLog(t.TelemetryEventName,a),n.Promise.wrapError(e)})}},t.TelemetryEventName="taskService",t}(i.EventEmitter);t.LanguageServiceTaskSystem=o}),define(l[236],h([1,0,6,154]),function(e,t,n,i){"use strict";t.TaskType=i.TaskType,t.ITaskService=n.createDecorator("taskService");var r;!function(e){e.Active="active",e.Inactive="inactive",e.ConfigChanged="configChanged",e.Terminated="terminated"}(r=t.TaskServiceEvents||(t.TaskServiceEvents={}))}),define(l[978],h([1,0,614]),function(e,t,n){"use strict";var i={id:"gulp",label:"Gulp",autoDetect:!0,content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "0.1.0",','\t"command": "gulp",','\t"isShellCommand": true,','\t"args": ["--no-color"],','\t"showOutput": "always"',"}"].join("\n")},r={id:"grunt",label:"Grunt",autoDetect:!0,content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "0.1.0",','\t"command": "grunt",','\t"isShellCommand": true,','\t"args": ["--no-color"],','\t"showOutput": "always"',"}"].join("\n")},o={id:"npm",label:"npm",sort:"NPM",autoDetect:!1,content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "0.1.0",','\t"command": "npm",','\t"isShellCommand": true,','\t"showOutput": "always",','\t"suppressTaskName": true,','\t"tasks": [',"\t\t{",'\t\t\t"taskName": "install",','\t\t\t"args": ["install"]',"\t\t},","\t\t{",'\t\t\t"taskName": "update",','\t\t\t"args": ["update"]',"\t\t},","\t\t{",'\t\t\t"taskName": "test",','\t\t\t"args": ["run", "test"]',"\t\t}","\t]","}"].join("\n")},s={id:"tsc.config",label:"TypeScript - tsconfig.json",autoDetect:!1,description:n.localize(0,null),content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "0.1.0",','\t"command": "tsc",','\t"isShellCommand": true,','\t"args": ["-p", "."],','\t"showOutput": "silent",','\t"problemMatcher": "$tsc"',"}"].join("\n")},a={id:"tsc.watch",label:"TypeScript - Watch Mode",autoDetect:!1,description:n.localize(1,null),content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "0.1.0",','\t"command": "tsc",','\t"isShellCommand": true,','\t"args": ["-w", "-p", "."],','\t"showOutput": "silent",','\t"isWatching": true,','\t"problemMatcher": "$tsc-watch"',"}"].join("\n")},c={id:"dotnetCore",label:".NET Core",sort:"NET Core",autoDetect:!1,description:n.localize(2,null),content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "0.1.0",','\t"command": "dotnet",','\t"isShellCommand": true,','\t"args": [],','\t"tasks": [',"\t\t{",'\t\t\t"taskName": "build",','\t\t\t"args": [ ],','\t\t\t"isBuildCommand": true,','\t\t\t"showOutput": "silent",','\t\t\t"problemMatcher": "$msCompile"',"\t\t}","\t]","}"].join("\n")},u={id:"msbuild",label:"MSBuild",autoDetect:!1,description:n.localize(3,null),content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "0.1.0",','\t"command": "msbuild",','\t"args": [',"\t\t// Ask msbuild to generate full paths for file names.",'\t\t"/property:GenerateFullPaths=true"',"\t],",'\t"taskSelector": "/t:",','\t"showOutput": "silent",','\t"tasks": [',"\t\t{",'\t\t\t"taskName": "build",',"\t\t\t// Show the output window only if unrecognized errors occur.",'\t\t\t"showOutput": "silent",',"\t\t\t// Use the standard MS compiler pattern to detect errors, warnings and infos",'\t\t\t"problemMatcher": "$msCompile"',"\t\t}","\t]","}"].join("\n")},l={id:"externalCommand",label:"Others",autoDetect:!1,description:n.localize(4,null),content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "0.1.0",','\t"command": "echo",','\t"isShellCommand": true,','\t"args": ["Hello World"],','\t"showOutput": "always"',"}"].join("\n")},h={id:"maven",label:"maven",sort:"MVN",autoDetect:!1,description:n.localize(5,null),content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "0.1.0",','\t"command": "mvn",','\t"isShellCommand": true,','\t"showOutput": "always",','\t"suppressTaskName": true,','\t"tasks": [',"\t\t{",'\t\t\t"taskName": "verify",','\t\t\t"args": ["-B", "verify"],','\t\t\t"isBuildCommand": true',"\t\t},","\t\t{",'\t\t\t"taskName": "test",','\t\t\t"args": ["-B", "test"],','\t\t\t"isTestCommand": true',"\t\t}","\t]","}"].join("\n")};t.templates=[i,r,s,a,c,u,o,h].sort(function(e,t){return(e.sort||e.label).localeCompare(t.sort||t.label)}),t.templates.push(l)}),define(l[979],h([1,0,616,30,13,21,95,237,400,154]),function(e,t,n,i,r,o,s,a,c,u){"use strict";function l(e,t){return new p(t).run(e)}var h=function(){function e(){}return e.clean="cleanMatcherMatchers",e}();t.ProblemHandling=h;var d;!function(e){e[e.Unknown=0]="Unknown",e[e.String=1]="String",e[e.ProblemMatcher=2]="ProblemMatcher",e[e.Array=3]="Array"}(d||(d={}));var p=function(){function e(e){this.logger=e,this.validationStatus=new a.ValidationStatus,this.namedProblemMatchers=Object.create(null)}return e.prototype.log=function(e){this.logger.log(e)},e.prototype.run=function(e){return{validationStatus:this.validationStatus,configuration:this.createTaskRunnerConfiguration(e),defaultBuildTaskIdentifier:this.defaultBuildTaskIdentifier,defaultTestTaskIdentifier:this.defaultTestTaskIdentifier}},e.prototype.createTaskRunnerConfiguration=function(e){var t=this.createGlobals(e),i=this.createBaseTaskRunnerConfiguration(e,{isMain:!0,globals:t});if(!this.validationStatus.isFatal()){var s=null,c={isMain:!1,globals:t};e.windows&&r.platform===r.Platform.Windows?s=this.createBaseTaskRunnerConfiguration(e.windows,c):e.osx&&r.platform===r.Platform.Mac?s=this.createBaseTaskRunnerConfiguration(e.osx,c):e.linux&&r.platform===r.Platform.Linux&&(s=this.createBaseTaskRunnerConfiguration(e.linux,c)),this.validationStatus.isFatal()||(s&&this.mergeTaskRunnerConigurations(i,s),o.isUndefined(i.options.cwd)&&(i.options.cwd="${workspaceRoot}"))}return i.command?i:(this.validationStatus.state=a.ValidationState.Fatal,this.log(n.localize(0,null)),null)},e.prototype.createGlobals=function(e){var t=this.parseGlobals(e),n=null;return e.windows&&r.platform===r.Platform.Windows?n=this.parseGlobals(e.windows):e.osx&&r.platform===r.Platform.Mac?n=this.parseGlobals(e.osx):e.linux&&r.platform===r.Platform.Linux&&(n=this.parseGlobals(e.linux)),n&&i.mixin(t,n,!0),o.isUndefined(t.isShellCommand)&&(t.isShellCommand=!1),o.isUndefined(t.showOutput)&&(t.showOutput=u.ShowOutput.Always),o.isUndefined(t.echoCommand)&&(t.echoCommand=!1),o.isUndefined(t.suppressTaskName)&&(t.suppressTaskName=!1),t},e.prototype.parseGlobals=function(e){var t={};return o.isString(e.command)&&(t.command=e.command),o.isBoolean(e.isShellCommand)&&(t.isShellCommand=e.isShellCommand),o.isString(e.showOutput)&&(t.showOutput=u.ShowOutput.fromString(e.showOutput)),o.isUndefined(e.echoCommand)||(t.echoCommand=!!e.echoCommand),o.isUndefined(e.suppressTaskName)||(t.suppressTaskName=!!e.suppressTaskName),o.isString(e.taskSelector)&&(t.taskSelector=e.taskSelector),t},e.prototype.mergeTaskRunnerConigurations=function(e,t){if(t.command&&(e.command=t.command),t.args&&(e.args=e.args?e.args.concat(t.args):t.args),o.isUndefined(t.isShellCommand)||(e.isShellCommand=t.isShellCommand),t.options&&(o.isString(t.options.cwd)&&(e.options.cwd=t.options.cwd),t.options.env)){var n=t.options.env,i=e.options.env;i?Object.keys(n).forEach(function(e){i[e]=n[e]}):e.options.env=n}if(t.tasks){var r=Object.create(null);Object.keys(e.tasks).forEach(function(t){var n=e.tasks[t];r[n.name]=n.id});var s=Object.create(null);Object.keys(t.tasks).forEach(function(e){var n=t.tasks[e];s[n.name]=n.id}),Object.keys(s).forEach(function(n){var i=r[n],o=s[n];i&&delete e.tasks[i],e.tasks[o]=t.tasks[o]})}},e.prototype.createBaseTaskRunnerConfiguration=function(e,t){var i=t.globals,r={isShellCommand:i.isShellCommand,args:[]};o.isString(e.command)&&(r.command=e.command),o.isUndefined(e.isShellCommand)||(r.isShellCommand=e.isShellCommand);var c=o.isUndefined(e.args);o.isStringArray(e.args)&&(c=!0,r.args=e.args.slice()),c||(this.validationStatus.state=a.ValidationState.Fatal,this.log(n.localize(1,null,e.args?JSON.stringify(e.args,null,4):"undefined"))),r.options=this.createCommandOptions(e.options),t.isMain&&(this.namedProblemMatchers=this.createNamedProblemMatchers(e));var u=!o.isUndefined(e.problemMatcher),l=o.isArray(e.tasks);if(l)r.tasks=this.createTasks(e.tasks,t),u&&(this.validationStatus.state=a.ValidationState.Warning,this.log(n.localize(2,null)));else if(t.isMain){var h=!1;o.isUndefined(e.isWatching)||(h=!!e.isWatching);var d=!0;d=o.isUndefined(e.promptOnClose)?!h:!!e.promptOnClose;var p={id:s.generateUuid(),name:i.command,showOutput:i.showOutput,suppressTaskName:!0,isWatching:h,promptOnClose:d,echoCommand:i.echoCommand};if(u){var f=this.createProblemMatchers(e.problemMatcher);p.problemMatchers=f}else p.problemMatchers=[];for(var g=0,v=p.problemMatchers;g<v.length;g++){var m=v[g];if(m.tscWatch){p.tscWatch=!0;break}}this.defaultBuildTaskIdentifier=p.id,r.tasks=Object.create(null),r.tasks[p.id]=p}return r},e.prototype.createCommandOptions=function(e){var t={};return e&&(o.isUndefined(e.cwd)||(o.isString(e.cwd)?t.cwd=e.cwd:(this.validationStatus.state=a.ValidationState.Warning,this.log(n.localize(3,null,e.cwd)))),o.isUndefined(e.env)||(t.env=i.clone(e.env))),t},e.prototype.createNamedProblemMatchers=function(e){var t=this,n=Object.create(null);if(!o.isArray(e.declares))return n;var i=e.declares;return i.forEach(function(e){var i=t.createNamedProblemMatcher(e);i&&(n[i.name]=i)}),n},e.prototype.createNamedProblemMatcher=function(e){var t=new c.ProblemMatcherParser(c.registry,this.logger,this.validationStatus).parse(e);return c.isNamedProblemMatcher(t)?t:(this.validationStatus.state=a.ValidationState.Error,this.log(n.localize(4,null,JSON.stringify(e,null,4))),null)},e.prototype.createTasks=function(e,t){var i=this,r=Object.create(null);if(!e)return r;var c={id:null,exact:-1},l={id:null,exact:-1};return e.forEach(function(e){var h=e.taskName;if(!h)return i.validationStatus.state=a.ValidationState.Fatal,
void i.log(n.localize(5,null,JSON.stringify(e,null,4)));var d=i.createProblemMatchers(e.problemMatcher),p={id:s.generateUuid(),name:h,showOutput:t.globals.showOutput};o.isStringArray(e.args)&&(p.args=e.args.slice()),p.isWatching=!1,o.isUndefined(e.isWatching)||(p.isWatching=!!e.isWatching),p.promptOnClose=!0,o.isUndefined(e.promptOnClose)?p.promptOnClose=!p.isWatching:p.promptOnClose=!!e.promptOnClose,o.isString(e.showOutput)&&(p.showOutput=u.ShowOutput.fromString(e.showOutput)),o.isUndefined(p.showOutput)&&(p.showOutput=t.globals.showOutput),p.echoCommand=t.globals.echoCommand,o.isUndefined(e.echoCommand)||(p.echoCommand=!!e.echoCommand),p.suppressTaskName=t.globals.suppressTaskName,o.isUndefined(e.suppressTaskName)||(p.suppressTaskName=!!e.suppressTaskName),d&&(p.problemMatchers=d);for(var f=0,g=p.problemMatchers;f<g.length;f++){var v=g[f];if(v.tscWatch){p.tscWatch=!0;break}}r[p.id]=p,!o.isUndefined(e.isBuildCommand)&&e.isBuildCommand&&c.exact<2?(c.id=p.id,c.exact=2):"build"===h&&c.exact<2&&(c.id=p.id,c.exact=1),!o.isUndefined(e.isTestCommand)&&e.isTestCommand&&l.exact<2?(l.id=p.id,l.exact=2):"test"===h&&l.exact<2&&(l.id=p.id,l.exact=1)}),c.exact>0&&(this.defaultBuildTaskIdentifier=c.id),l.exact>0&&(this.defaultTestTaskIdentifier=l.id),r},e.prototype.createProblemMatchers=function(e){var t=this,i=[];if(o.isUndefined(e))return i;var r=this.getProblemMatcherKind(e);if(r===d.Unknown)return this.validationStatus.state=a.ValidationState.Warning,this.log(n.localize(6,null,JSON.stringify(e,null,4))),i;if(r===d.String||r===d.ProblemMatcher){var s=this.resolveProblemMatcher(e);s&&i.push(s)}else if(r===d.Array){var c=e;c.forEach(function(e){var n=t.resolveProblemMatcher(e);n&&i.push(n)})}return i},e.prototype.getProblemMatcherKind=function(e){return o.isString(e)?d.String:o.isArray(e)?d.Array:o.isUndefined(e)?d.Unknown:d.ProblemMatcher},e.prototype.resolveProblemMatcher=function(e){if(o.isString(e)){var t=e;if(t.length>1&&"$"===t[0]){t=t.substring(1);var r=c.registry.get(t);if(r)return i.clone(r);var s=this.namedProblemMatchers[t];if(s)return s=i.clone(s),delete s.name,s}return this.validationStatus.state=a.ValidationState.Error,this.log(n.localize(7,null,e)),null}var u=e;return new c.ProblemMatcherParser(c.registry,this.logger,this.validationStatus).parse(u)},e}();t.parse=l}),define(l[980],h([1,0,617,30,20,12,255,177]),function(e,t,n,i,r,o,s,a){"use strict";var c="build",u="test",l="default",h=function(){function e(e){this.regexp=e}return e.prototype.init=function(){},e.prototype.match=function(e,t){var n=this.regexp.exec(t);n&&n.length>0&&e.push(n[1])},e}(),d=function(){function e(){}return e.prototype.init=function(){this.tasksStart=!1,this.tasksEnd=!1,this.descriptionOffset=null},e.prototype.match=function(e,t){if(this.tasksStart||this.tasksEnd){if(this.tasksStart&&!this.tasksEnd)if(0===t.indexOf("Tasks run in the order specified"))this.tasksEnd=!0;else{null===this.descriptionOffset&&(this.descriptionOffset=t.match(/\S  \S/).index+1);var n=t.substr(0,this.descriptionOffset).trim();n.length>0&&e.push(n)}}else 0===t.indexOf("Available tasks")&&(this.tasksStart=!0)},e}(),p=function(){function e(e,t,n,i){void 0===i&&(i=null),this.fileService=e,this.contextService=t,this.configurationResolverService=n,this.taskConfiguration=i,this._stderr=[],this._stdout=[];var o=this.contextService.getWorkspace();this._cwd=o?r.normalize(o.resource.fsPath,!0):""}return e.supports=function(t){return e.SupportedRunners[t]},e.detectorConfig=function(t){return e.TaskMatchers[t]},Object.defineProperty(e.prototype,"stderr",{get:function(){return this._stderr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stdout",{get:function(){return this._stdout},enumerable:!0,configurable:!0}),e.prototype.detect=function(t,n){var i=this;if(void 0===t&&(t=!1),this.taskConfiguration&&this.taskConfiguration.command&&e.supports(this.taskConfiguration.command)){var r=e.detectorConfig(this.taskConfiguration.command),o=(this.taskConfiguration.args||[]).concat(r.arg),s=this.taskConfiguration.options?this.resolveCommandOptions(this.taskConfiguration.options):{cwd:this._cwd},c=!!this.taskConfiguration.isShellCommand;return this.runDetection(new a.LineProcess(this.taskConfiguration.command,this.configurationResolverService.resolve(o),c,s),this.taskConfiguration.command,c,r.matcher,e.DefaultProblemMatchers,t)}if(n){var u=void 0;return"gulp"===n?u=this.tryDetectGulp(t):"jake"===n?u=this.tryDetectJake(t):"grunt"===n&&(u=this.tryDetectGrunt(t)),u.then(function(e){return e?e:{config:null,stdout:i.stdout,stderr:i.stderr}})}return this.tryDetectGulp(t).then(function(e){return e?e:i.tryDetectJake(t).then(function(e){return e?e:i.tryDetectGrunt(t).then(function(e){return e?e:{config:null,stdout:i.stdout,stderr:i.stderr}})})})},e.prototype.resolveCommandOptions=function(e){var t=i.clone(e);return t.cwd&&(t.cwd=this.configurationResolverService.resolve(t.cwd)),t.env&&(t.env=this.configurationResolverService.resolve(t.env)),t},e.prototype.tryDetectGulp=function(t){var n=this;return this.fileService.resolveFile(this.contextService.toResource("gulpfile.js")).then(function(i){var r=e.detectorConfig("gulp"),o=new a.LineProcess("gulp",[r.arg,"--no-color"],(!0),{cwd:n._cwd});return n.runDetection(o,"gulp",!0,r.matcher,e.DefaultProblemMatchers,t)},function(e){return null})},e.prototype.tryDetectGrunt=function(t){var n=this;return this.fileService.resolveFile(this.contextService.toResource("Gruntfile.js")).then(function(i){var r=e.detectorConfig("grunt"),o=new a.LineProcess("grunt",[r.arg,"--no-color"],(!0),{cwd:n._cwd});return n.runDetection(o,"grunt",!0,r.matcher,e.DefaultProblemMatchers,t)},function(e){return null})},e.prototype.tryDetectJake=function(t){var n=this,i=function(){var i=e.detectorConfig("jake"),r=new a.LineProcess("jake",[i.arg],(!0),{cwd:n._cwd});return n.runDetection(r,"jake",!0,i.matcher,e.DefaultProblemMatchers,t)};return this.fileService.resolveFile(this.contextService.toResource("Jakefile")).then(function(e){return i()},function(e){return n.fileService.resolveFile(n.contextService.toResource("Jakefile.js")).then(function(e){return i()},function(e){return null})})},e.prototype.runDetection=function(t,i,r,a,c,u){var l=this,h=[];return a.init(),t.start().then(function(t){if(0===h.length)return 0!==t.cmdCode&&("gulp"===i?l._stderr.push(n.localize(0,null)):"jake"===i&&l._stderr.push(n.localize(1,null))),{config:null,stdout:l._stdout,stderr:l._stderr};var o={version:e.Version,command:i,isShellCommand:r};return"gulp"===i&&(o.args=["--no-color"]),o.tasks=l.createTaskDescriptions(h,c,u),{config:o,stdout:l._stdout,stderr:l._stderr}},function(e){var t=e.error;return"ENOENT"===t.code?"gulp"===i?l._stderr.push(n.localize(2,null)):"jake"===i?l._stderr.push(n.localize(3,null)):"grunt"===i&&l._stderr.push(n.localize(4,null)):l._stderr.push(n.localize(5,null,i,t.message)),{config:null,stdout:l._stdout,stderr:l._stderr}},function(e){if(e.source===s.Source.stderr)return void l._stderr.push(e.line);var t=o.removeAnsiEscapeCodes(e.line),n=a.match(h,t);n&&n.length>0&&h.push(n[1])})},e.prototype.createTaskDescriptions=function(e,t,i){var r=this,o=[];if(i)e.forEach(function(e){o.push({taskName:e,args:[],isWatching:!1})});else{var s={build:{index:-1,exact:-1},test:{index:-1,exact:-1}};if(e.forEach(function(e,t){r.testBuild(s.build,e,t),r.testTest(s.test,e,t)}),s.build.index!==-1){var a=e[s.build.index];this._stdout.push(n.localize(6,null,a)),o.push({taskName:a,args:[],isBuildCommand:!0,isWatching:!1,problemMatcher:t})}if(s.test.index!==-1){var c=e[s.test.index];this._stdout.push(n.localize(7,null,c)),o.push({taskName:c,args:[],isTestCommand:!0})}}return o},e.prototype.testBuild=function(e,t,n){t===c?(e.index=n,e.exact=4):(o.startsWith(t,c)||o.endsWith(t,c))&&e.exact<4?(e.index=n,e.exact=3):t.indexOf(c)!==-1&&e.exact<3?(e.index=n,e.exact=2):t===l&&e.exact<2&&(e.index=n,e.exact=1)},e.prototype.testTest=function(e,t,n){t===u?(e.index=n,e.exact=3):(o.startsWith(t,u)||o.endsWith(t,u))&&e.exact<3?(e.index=n,e.exact=2):t.indexOf(u)!==-1&&e.exact<2&&(e.index=n,e.exact=1)},e.Version="0.1.0",e.SupportedRunners={gulp:!0,jake:!0,grunt:!0},e.TaskMatchers={gulp:{matcher:new h(/^(.*)$/),arg:"--tasks-simple"},jake:{matcher:new h(/^jake\s+([^\s]+)\s/),arg:"--tasks"},grunt:{matcher:new d,arg:"--help"}},e.DefaultProblemMatchers=["$lessCompile","$tsc","$jshint"],e}();t.ProcessRunnerDetector=p}),define(l[981],h([1,0,618,30,21,13,2,17,32,12,42,177,974,154,979,5]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,g,v){"use strict";var m=function(e){function t(t,n,i,r,o,s,a,c){void 0===c&&(c=!0),e.call(this),this.fileConfig=t,this.markerService=n,this.modelService=i,this.outputService=o,this.telemetryService=r,this.configurationResolverService=s,this.defaultBuildTaskIdentifier=null,this.defaultTestTaskIdentifier=null,this.childProcess=null,this.activeTaskIdentifier=null,this.activeTaskPromise=null,this.outputChannel=this.outputService.getChannel(a),c&&this.clearOutput(),this.errorsShown=!1;var u=g.parse(t,this);this.validationStatus=u.validationStatus,this.configuration=u.configuration,this.defaultBuildTaskIdentifier=u.defaultBuildTaskIdentifier,this.defaultTestTaskIdentifier=u.defaultTestTaskIdentifier,this.validationStatus.isOK()||this.showOutput()}return d(t,e),t.prototype.build=function(){if(this.activeTaskIdentifier){var e=this.configuration.tasks[this.activeTaskIdentifier];return{kind:f.TaskExecuteKind.Active,active:{same:this.activeTaskIdentifier===this.defaultBuildTaskIdentifier,watching:e.isWatching},promise:this.activeTaskPromise}}if(!this.defaultBuildTaskIdentifier)throw new f.TaskError(c.default.Info,n.localize(0,null),f.TaskErrors.NoBuildTask);return this.executeTask(this.defaultBuildTaskIdentifier,f.Triggers.shortcut)},t.prototype.rebuild=function(){throw new Error("Task - Rebuild: not implemented yet")},t.prototype.clean=function(){throw new Error("Task - Clean: not implemented yet")},t.prototype.runTest=function(){if(this.activeTaskIdentifier){var e=this.configuration.tasks[this.activeTaskIdentifier];return{kind:f.TaskExecuteKind.Active,active:{same:this.activeTaskIdentifier===this.defaultTestTaskIdentifier,watching:e.isWatching},promise:this.activeTaskPromise}}if(!this.defaultTestTaskIdentifier)throw new f.TaskError(c.default.Info,n.localize(1,null),f.TaskErrors.NoTestTask);return this.executeTask(this.defaultTestTaskIdentifier,f.Triggers.shortcut)},t.prototype.run=function(e){if(this.activeTaskIdentifier){var t=this.configuration.tasks[this.activeTaskIdentifier];return{kind:f.TaskExecuteKind.Active,active:{same:this.activeTaskIdentifier===e,watching:t.isWatching},promise:this.activeTaskPromise}}return this.executeTask(e)},t.prototype.isActive=function(){return s.TPromise.as(!!this.childProcess)},t.prototype.isActiveSync=function(){return!!this.childProcess},t.prototype.canAutoTerminate=function(){if(this.childProcess){if(this.activeTaskIdentifier){var e=this.configuration.tasks[this.activeTaskIdentifier];if(e)return!e.promptOnClose}return!1}return!0},t.prototype.terminate=function(){return this.childProcess?this.childProcess.terminate():s.TPromise.as({success:!0})},t.prototype.tasks=function(){var e,t=this;return e=this.configuration&&this.configuration.tasks?Object.keys(this.configuration.tasks).map(function(e){return t.configuration.tasks[e]}):[],s.TPromise.as(e)},t.prototype.executeTask=function(e,i){var r=this;if(void 0===i&&(i=f.Triggers.command),this.validationStatus.isFatal())throw new f.TaskError(c.default.Error,n.localize(2,null),f.TaskErrors.ConfigValidationError);var o=this.configuration.tasks[e];if(!o)throw new f.TaskError(c.default.Info,n.localize(3,null),f.TaskErrors.TaskNotFound);var a={trigger:i,command:"other",success:!0};try{var u=this.doExecuteTask(o,a);return u.promise=u.promise.then(function(e){return r.telemetryService.publicLog(t.TelemetryEventName,a),e},function(e){return a.success=!1,r.telemetryService.publicLog(t.TelemetryEventName,a),s.TPromise.wrapError(e)}),u}catch(e){if(a.success=!1,this.telemetryService.publicLog(t.TelemetryEventName,a),e instanceof f.TaskError)throw e;if(e instanceof Error){var l=e;throw this.outputChannel.append(l.message),new f.TaskError(c.default.Error,l.message,f.TaskErrors.UnknownError)}throw this.outputChannel.append(e.toString()),new f.TaskError(c.default.Error,n.localize(4,null),f.TaskErrors.UnknownError)}},t.prototype.doExecuteTask=function(e,t){var i=this,r={},s=this.configuration;this.validationStatus.isOK()||this.errorsShown?this.clearOutput():(this.showOutput(),this.errorsShown=!0);var c=this.configuration.args?this.configuration.args.slice():[];e.suppressTaskName||(this.fileConfig.taskSelector?c.push(this.fileConfig.taskSelector+e.name):c.push(e.name)),e.args&&(c=c.concat(e.args)),c=this.resolveVariables(c);var l=this.resolveVariable(s.command);if(this.childProcess=new h.LineProcess(l,c,s.isShellCommand,this.resolveOptions(s.options)),t.command=this.childProcess.getSanitizedCommand(),(e.showOutput===f.ShowOutput.Always||e.showOutput===f.ShowOutput.Silent&&0===e.problemMatchers.length)&&this.showOutput(),e.echoCommand){var d=o.isWindows?">":"$";this.log("running command"+d+" "+l+" "+c.join(" "))}if(e.isWatching){var g=new p.WatchingProblemCollector(this.resolveMatchers(e.problemMatchers),this.markerService,this.modelService),m=[],y={taskId:e.id,taskName:e.name,type:f.TaskType.Watching},b=0;m.push(g.addListener2(p.ProblemCollectorEvents.WatchingBeginDetected,function(){b++,i.emit(f.TaskSystemEvents.Active,y)})),m.push(g.addListener2(p.ProblemCollectorEvents.WatchingEndDetected,function(){b--,i.emit(f.TaskSystemEvents.Inactive,y)})),g.aboutToStart();var S=null;this.activeTaskIdentifier=e.id,this.activeTaskPromise=this.childProcess.start().then(function(t){i.childProcessEnded(),g.dispose(),m=v.dispose(m),m=null;for(var o=0;o<b;o++)i.emit(f.TaskSystemEvents.Inactive,y);return b=0,i.checkTerminated(e,t)||i.log(n.localize(5,null)),t.cmdCode&&1===t.cmdCode&&0===g.numberOfMatches&&e.showOutput!==f.ShowOutput.Never&&i.showOutput(),r.exitCode=t.cmdCode,r},function(t){i.childProcessEnded(),g.dispose(),m=v.dispose(m),m=null;for(var n=0;n<b;n++)i.emit(f.TaskSystemEvents.Inactive,y);return b=0,i.handleError(e,t)},function(e){var t=u.removeAnsiEscapeCodes(e.line);i.outputChannel.append(t+"\n"),g.processLine(t),null===S&&(S=new a.Delayer(3e3)),S.trigger(function(){return g.forceDelivery(),null}).then(function(){S=null})});var E=e.tscWatch?{kind:f.TaskExecuteKind.Started,started:{restartOnFileChanges:"**/*.ts"},promise:this.activeTaskPromise}:{kind:f.TaskExecuteKind.Started,started:{},promise:this.activeTaskPromise};return E}var _={taskId:e.id,taskName:e.name,type:f.TaskType.SingleRun};this.emit(f.TaskSystemEvents.Active,_);var C=new p.StartStopProblemCollector(this.resolveMatchers(e.problemMatchers),this.markerService,this.modelService);return this.activeTaskIdentifier=e.id,this.activeTaskPromise=this.childProcess.start().then(function(t){return i.childProcessEnded(),C.done(),C.dispose(),i.checkTerminated(e,t),i.emit(f.TaskSystemEvents.Inactive,_),t.cmdCode&&1===t.cmdCode&&0===C.numberOfMatches&&e.showOutput!==f.ShowOutput.Never&&i.showOutput(),r.exitCode=t.cmdCode,r},function(t){return i.childProcessEnded(),C.dispose(),i.emit(f.TaskSystemEvents.Inactive,_),i.handleError(e,t)},function(e){var t=u.removeAnsiEscapeCodes(e.line);i.outputChannel.append(t+"\n"),C.processLine(t)}),{kind:f.TaskExecuteKind.Started,started:{},promise:this.activeTaskPromise}},t.prototype.childProcessEnded=function(){this.childProcess=null,this.activeTaskIdentifier=null,this.activeTaskPromise=null},t.prototype.handleError=function(e,t){var i=!1;if(t.error&&!t.terminated){var r=this.configuration.args?this.configuration.args.join(" "):"";this.log(n.localize(6,null,this.configuration.command,r)),this.outputChannel.append(t.error.message),i=!0}return t.stdout&&(this.outputChannel.append(t.stdout),i=!0),t.stderr&&(this.outputChannel.append(t.stderr),i=!0),i=this.checkTerminated(e,t)||i,i&&this.showOutput(),s.Promise.wrapError(t)},t.prototype.checkTerminated=function(e,t){return!!t.terminated&&(this.log(n.localize(7,null,e.name)),!0)},t.prototype.resolveOptions=function(e){var t=this,n={cwd:this.resolveVariable(e.cwd)};return e.env&&(n.env=Object.create(null),Object.keys(e.env).forEach(function(i){var o=e.env[i];r.isString(o)?n.env[i]=t.resolveVariable(o):n.env[i]=o.toString()})),n},t.prototype.resolveVariables=function(e){var t=this;return e.map(function(e){return t.resolveVariable(e)})},t.prototype.resolveMatchers=function(e){var t=this;if(0===e.length)return e;var n=[];return e.forEach(function(e){if(e.filePrefix){var r=i.clone(e);r.filePrefix=t.resolveVariable(r.filePrefix),n.push(r)}else n.push(e)}),n},t.prototype.resolveVariable=function(e){return this.configurationResolverService.resolve(e)},t.prototype.log=function(e){this.outputChannel.append(e+"\n")},t.prototype.showOutput=function(){this.outputChannel.show(!0)},t.prototype.clearOutput=function(){this.outputChannel.clear()},t.TelemetryEventName="taskService",t}(l.EventEmitter);t.ProcessRunnerSystem=m}),define(l[136],h([1,0,13,177,23,6]),function(e,t,n,i,r,o){"use strict";t.TERMINAL_PANEL_ID="workbench.panel.terminal",t.TERMINAL_SERVICE_ID="terminalService",t.TERMINAL_DEFAULT_SHELL_LINUX=n.isWindows?"sh":process.env.SHELL||"sh",t.TERMINAL_DEFAULT_SHELL_OSX=n.isWindows?"sh":process.env.SHELL||"sh",t.TERMINAL_DEFAULT_SHELL_WINDOWS=i.getWindowsShell(),t.KEYBINDING_CONTEXT_TERMINAL_FOCUS=new r.RawContextKey("terminalFocus",(void 0)),t.KEYBINDING_CONTEXT_TERMINAL_NOT_FOCUSED=t.KEYBINDING_CONTEXT_TERMINAL_FOCUS.toNegated(),t.KEYBINDING_CONTEXT_TERMINAL_TEXT_SELECTED=new r.RawContextKey("terminalTextSelected",(void 0)),t.KEYBINDING_CONTEXT_TERMINAL_TEXT_NOT_SELECTED=t.KEYBINDING_CONTEXT_TERMINAL_TEXT_SELECTED.toNegated(),t.ITerminalService=o.createDecorator(t.TERMINAL_SERVICE_ID)}),define(l[983],h([1,0,506,121,117,229,11,13,30,24,7,2,32,311,18,19,136,271,82,915,86,88,914,25]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T){"use strict";var x=function(t){function _(e,n,i,r,o,a,c,u,l,h){t.call(this,e),this.debugServerPort=n,this.adapter=i,this.customTelemetryService=r,this.messageService=o,this.telemetryService=a,this.outputService=c,this.terminalService=u,this.nativeTerminalService=l,this.configurationService=h,this.socket=null,this.emittedStopped=!1,this.readyForBreakpoints=!1,this.sentPromises=[],this._onDidInitialize=new s.Emitter,this._onDidStop=new s.Emitter,this._onDidContinued=new s.Emitter,this._onDidTerminateDebugee=new s.Emitter,this._onDidExitAdapter=new s.Emitter,this._onDidThread=new s.Emitter,this._onDidOutput=new s.Emitter,this._onDidBreakpoint=new s.Emitter,this._onDidEvent=new s.Emitter}return d(_,t),Object.defineProperty(_.prototype,"onDidInitialize",{get:function(){return this._onDidInitialize.event},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"onDidStop",{get:function(){return this._onDidStop.event},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"onDidContinued",{get:function(){return this._onDidContinued.event},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"onDidTerminateDebugee",{get:function(){return this._onDidTerminateDebugee.event},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"onDidExitAdapter",{get:function(){return this._onDidExitAdapter.event},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"onDidThread",{get:function(){return this._onDidThread.event},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"onDidOutput",{get:function(){return this._onDidOutput.event},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"onDidBreakpoint",{get:function(){return this._onDidBreakpoint.event},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"onDidEvent",{get:function(){return this._onDidEvent.event},enumerable:!0,configurable:!0}),_.prototype.initServer=function(){var e=this;if(this.cachedInitServer)return this.cachedInitServer;var t=this.debugServerPort?this.connectServer(this.debugServerPort):this.startServer();return this.cachedInitServer=t.then(function(){e.startTime=(new Date).getTime()},function(t){return e.cachedInitServer=null,h.TPromise.wrapError(t)}),this.cachedInitServer},_.prototype.custom=function(e,t){return this.send(e,t)},_.prototype.send=function(e,i,r){var o=this;return void 0===r&&(r=!0),this.initServer().then(function(){var s=t.prototype.send.call(o,e,i).then(function(e){return e},function(e){var t=e&&e.body?e.body.error:null,i=e?e.message:"",r=t?E.formatPII(t.format,!0,t.variables):i;if(t&&t.sendTelemetry&&(o.telemetryService.publicLog("debugProtocolErrorResponse",{error:r}),o.customTelemetryService&&o.customTelemetryService.publicLog("debugProtocolErrorResponse",{error:r})),l.isPromiseCanceledError(e)||t&&t.showUser===!1)return h.TPromise.as(null);var s=t?E.formatPII(t.format,!1,t.variables):i;if(t&&t.url){var a=t.urlLabel?t.urlLabel:n.localize(0,null);return h.TPromise.wrapError(l.create(s,{actions:[m.CloseAction,new u.Action("debug.moreInfo",a,null,(!0),function(){return window.open(t.url),h.TPromise.as(null)})]}))}return h.TPromise.wrapError(new Error(s))});return r&&o.sentPromises.push(s),s})},_.prototype.onEvent=function(e){e.body?e.body.sessionId=this.getId():e.body={sessionId:this.getId()},"initialized"===e.event?(this.readyForBreakpoints=!0,this._onDidInitialize.fire(e)):"stopped"===e.event?(this.emittedStopped=!0,this._onDidStop.fire(e)):"continued"===e.event?this._onDidContinued.fire(e):"thread"===e.event?this._onDidThread.fire(e):"output"===e.event?this._onDidOutput.fire(e):"breakpoint"===e.event?this._onDidBreakpoint.fire(e):"terminated"===e.event?this._onDidTerminateDebugee.fire(e):"exit"===e.event&&this._onDidExitAdapter.fire(e),this._onDidEvent.fire(e)},Object.defineProperty(_.prototype,"configuration",{get:function(){return{type:this.adapter.type,capabilities:this.capabilities||{}}},enumerable:!0,configurable:!0}),_.prototype.initialize=function(e){var t=this;return this.send("initialize",e).then(function(e){return t.readCapabilities(e)})},_.prototype.readCapabilities=function(e){return e&&(this.capabilities=c.mixin(this.capabilities,e.body)),e},_.prototype.launch=function(e){var t=this;return this.requestType=e.noDebug?E.SessionRequestType.LAUNCH_NO_DEBUG:E.SessionRequestType.LAUNCH,this.send("launch",e).then(function(e){return t.readCapabilities(e)})},_.prototype.attach=function(e){var t=this;return this.requestType=E.SessionRequestType.ATTACH,this.send("attach",e).then(function(e){return t.readCapabilities(e)})},_.prototype.next=function(e){var t=this;return this.send("next",e).then(function(n){return t.fireFakeContinued(e.threadId),n})},_.prototype.stepIn=function(e){var t=this;return this.send("stepIn",e).then(function(n){return t.fireFakeContinued(e.threadId),n})},_.prototype.stepOut=function(e){var t=this;return this.send("stepOut",e).then(function(n){return t.fireFakeContinued(e.threadId),n})},_.prototype.continue=function(e){var t=this;return this.send("continue",e).then(function(n){return t.fireFakeContinued(e.threadId),n})},_.prototype.pause=function(e){return this.send("pause",e)},_.prototype.setVariable=function(e){return this.send("setVariable",e)},_.prototype.restartFrame=function(e){return this.send("restartFrame",e)},_.prototype.completions=function(e){return this.send("completions",e)},_.prototype.disconnect=function(e,t){var n=this;return void 0===e&&(e=!1),void 0===t&&(t=!1),this.disconnected&&t?this.stopServer():(setTimeout(function(){n.sentPromises.forEach(function(e){return e&&e.cancel()}),n.sentPromises=[]},1e3),!this.serverProcess&&!this.socket||this.disconnected?h.TPromise.as(null):(this.disconnected=!0,this.send("disconnect",{restart:e},!1).then(function(){return n.stopServer()},function(){return n.stopServer()})))},_.prototype.setBreakpoints=function(e){return this.send("setBreakpoints",e)},_.prototype.setFunctionBreakpoints=function(e){return this.send("setFunctionBreakpoints",e)},_.prototype.setExceptionBreakpoints=function(e){return this.send("setExceptionBreakpoints",e)},_.prototype.configurationDone=function(){return this.send("configurationDone",null)},_.prototype.stackTrace=function(e){return this.send("stackTrace",e)},_.prototype.scopes=function(e){return this.send("scopes",e)},_.prototype.variables=function(e){return this.send("variables",e)},_.prototype.source=function(e){return this.send("source",e)},_.prototype.threads=function(){return this.send("threads",null)},_.prototype.evaluate=function(e){return this.send("evaluate",e)},_.prototype.stepBack=function(e){var t=this;return this.send("stepBack",e).then(function(n){return t.fireFakeContinued(e.threadId),n})},_.prototype.reverseContinue=function(e){var t=this;return this.send("reverseContinue",e).then(function(n){return t.fireFakeContinued(e.threadId),n})},_.prototype.getLengthInSeconds=function(){return((new Date).getTime()-this.startTime)/1e3},_.prototype.dispatchRequest=function(t,n){var i=this;if("runInTerminal"===t.command)I.TerminalSupport.runInTerminal(this.terminalService,this.nativeTerminalService,this.configurationService,t.arguments,n).then(function(){i.sendResponse(n)},function(e){n.success=!1,n.message=e.message,i.sendResponse(n)});else if("handshake"===t.command)try{var r=e.__$__nodeRequire("vsda"),o=new r.signer,s=o.sign(t.arguments.value);n.body={signature:s},this.sendResponse(n)}catch(e){n.success=!1,n.message=e.message,this.sendResponse(n)}else n.success=!1,n.message="unknown request '"+t.command+"'",this.sendResponse(n)},_.prototype.fireFakeContinued=function(e){this._onDidContinued.fire({type:"event",event:"continued",body:{threadId:e},seq:void 0})},_.prototype.connectServer=function(e){var t=this;return new h.TPromise(function(n,i){t.socket=o.createConnection(e,"127.0.0.1",function(){t.connect(t.socket,t.socket),n(null)}),t.socket.on("error",function(e){i(e)}),t.socket.on("close",function(){return t.onServerExit()})})},_.prototype.startServer=function(){var e=this;return this.adapter.program?this.getLaunchDetails().then(function(t){return e.launchServer(t).then(function(){e.serverProcess.on("error",function(t){return e.onServerError(t)}),e.serverProcess.on("exit",function(t,n){return e.onServerExit()});var t=function(e){return e.toString().replace(/\r?\n$/gm,"")};e.serverProcess.stderr.on("data",function(n){e.outputService.getChannel(w.ExtensionsChannelId).append(t(n))}),e.connect(e.serverProcess.stdout,e.serverProcess.stdin)})}):h.TPromise.wrapError(new Error(n.localize(1,null,this.adapter.type)))},_.prototype.launchServer=function(e){var t=this;return new h.TPromise(function(r,o){"node"===e.command?f.fork(e.argv[0],e.argv.slice(1),{},function(i,s){i&&o(new Error(n.localize(2,null,e.argv[0]))),t.serverProcess=s,r(null)}):(t.serverProcess=i.spawn(e.command,e.argv,{stdio:["pipe","pipe","pipe"]}),r(null))})},_.prototype.stopServer=function(){var e=this;if(null!==this.socket&&(this.socket.end(),this.cachedInitServer=null,this.onEvent({event:"exit",type:"event",seq:0})),!this.serverProcess)return h.TPromise.as(null);this.disconnected=!0;var t;return a.isWindows?t=new h.TPromise(function(t,n){var r=i.exec("taskkill /F /T /PID "+e.serverProcess.pid,function(e,t,i){if(e)return n(e)});r.on("exit",t),r.on("error",n)}):(this.serverProcess.kill("SIGTERM"),t=h.TPromise.as(null)),t},_.prototype.getLaunchDetails=function(){var e=this;return new h.TPromise(function(t,i){r.exists(e.adapter.program,function(r){r?t(null):i(new Error(n.localize(3,null,e.adapter.program)))})}).then(function(){return e.adapter.runtime?{command:e.adapter.runtime,argv:(e.adapter.runtimeArgs||[]).concat([e.adapter.program]).concat(e.adapter.args||[])}:{command:e.adapter.program,argv:e.adapter.args||[]}})},_.prototype.onServerError=function(e){this.messageService.show(p.default.Error,n.localize(4,null,e.message)),this.stopServer().done(null,l.onUnexpectedError)},_.prototype.onServerExit=function(){this.serverProcess=null,this.cachedInitServer=null,this.disconnected||this.messageService.show(p.default.Error,n.localize(5,null)),this.onEvent({event:"exit",type:"event",seq:0})},_.prototype.dispose=function(){this.disconnect().done(null,l.onUnexpectedError)},_=g([v(4,m.IMessageService),v(5,y.ITelemetryService),v(6,C.IOutputService),v(7,b.ITerminalService),v(8,S.ITerminalService),v(9,T.IConfigurationService)],_)}(_.V8Protocol);t.RawDebugSession=x}),define(l[984],h([1,0,127,25,13]),function(e,t,n,i,r){"use strict";var o=1.2,s={"hc-black":["#000000","#cd0000","#00cd00","#cdcd00","#0000ee","#cd00cd","#00cdcd","#e5e5e5","#7f7f7f","#ff0000","#00ff00","#ffff00","#5c5cff","#ff00ff","#00ffff","#ffffff"],vs:["#000000","#cd3131","#008000","#949800","#0451a5","#bc05bc","#0598bc","#555555","#666666","#cd3131","#00aa00","#b5ba00","#0451a5","#bc05bc","#0598bc","#a5a5a5"],"vs-dark":["#000000","#cd3131","#09885a","#e5e510","#2472c8","#bc3fbc","#11a8cd","#e5e5e5","#666666","#f14c4c","#17a773","#f5f543","#3b8eea","#d670d6","#29b8db","#e5e5e5"]},a=function(){function e(e,t){this._platform=e,this._configurationService=t}return e.prototype.getTheme=function(e){return s[e]},e.prototype._measureFont=function(e,t,n){this._charMeasureElement&&this._charMeasureElement.parentElement||(this._charMeasureElement=document.createElement("div"),this.panelContainer.appendChild(this._charMeasureElement));var i=this._charMeasureElement.style;i.display="block",i.fontFamily=e,i.fontSize=t+"px",i.height=Math.floor(n*t)+"px",this._charMeasureElement.innerText="X";var r=this._charMeasureElement.getBoundingClientRect();i.display="none";var o=Math.ceil(r.width),s=Math.ceil(r.height);return{fontFamily:e,fontSize:t+"px",lineHeight:n,charWidth:o,charHeight:s}},e.prototype.getFont=function(){var e=this._configurationService.getConfiguration().terminal.integrated,t=this._configurationService.getConfiguration(),i=e.fontFamily||t.editor.fontFamily,r=this._toInteger(e.fontSize,0);r<=0&&(r=n.DefaultConfig.editor.fontSize);var s=e.lineHeight<=0?o:e.lineHeight;return this._measureFont(i,r,s)},e.prototype.getFontLigaturesEnabled=function(){var e=this._configurationService.getConfiguration().terminal.integrated;return e.fontLigatures},e.prototype.getCursorBlink=function(){var e=this._configurationService.getConfiguration().terminal.integrated;return e.cursorBlinking},e.prototype.getShell=function(){var e=this._configurationService.getConfiguration(),t={executable:"",args:[]},n=e&&e.terminal&&e.terminal.integrated;return n&&n.shell&&n.shellArgs&&(this._platform===r.Platform.Windows?(t.executable=n.shell.windows,t.args=n.shellArgs.windows):this._platform===r.Platform.Mac?(t.executable=n.shell.osx,t.args=n.shellArgs.osx):this._platform===r.Platform.Linux&&(t.executable=n.shell.linux,t.args=n.shellArgs.linux)),t},e.prototype.getScrollback=function(){var e=this._configurationService.getConfiguration();return e.terminal.integrated.scrollback},e.prototype.isSetLocaleVariables=function(){var e=this._configurationService.getConfiguration();return e.terminal.integrated.setLocaleVariables},e.prototype._toInteger=function(e,t){var n=parseInt(e,10);return isNaN(n)&&(n=0),"number"==typeof t&&(n=Math.max(t,n)),n},e.prototype.getCommandsToSkipShell=function(){var e=this._configurationService.getConfiguration();return e.terminal.integrated.commandsToSkipShell},e=g([v(1,i.IConfigurationService)],e)}();t.TerminalConfigHelper=a}),define(l[332],h([1,0,624,2,28]),function(e,t,n,i,r){"use strict";var o=function(e){function t(t,n){e.call(this),this._version=t,this._text=n}return d(t,e),Object.defineProperty(t,"ID",{get:function(){return"workbench.releaseNotes.input"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return n.localize(0,null,this.version)},t.prototype.matches=function(e){if(!(e instanceof t))return!1;var n=e;
return this.version===n.version},t.prototype.resolve=function(e){return i.TPromise.as(null)},t.prototype.supportsSplitEditor=function(){return!1},t}(r.EditorInput);t.ReleaseNotesInput=o}),define(l[986],h([1,0,38,19,51,61]),function(e,t,n,i,r,o){"use strict";var s=function(){function e(e,t,n){this.storageService=e,this.telemetryService=n,this.appName=o.default.nameLong,o.default.welcomePage&&!t.isExtensionDevelopment&&(this.welcomePageURL=o.default.welcomePage,this.handleWelcome())}return e.prototype.handleWelcome=function(){var t=this,n=!this.storageService.get(e.hideWelcomeSettingskey);n&&this.welcomePageURL&&this.telemetryService.getTelemetryInfo().then(function(n){if(t.telemetryService.getExperiments().openGettingStarted!==!1){var i=t.getUrl(n);t.openExternal(i)}t.storageService.store(e.hideWelcomeSettingskey,!0)})},e.prototype.getUrl=function(e){return this.welcomePageURL+"&&from="+this.appName+"&&id="+e.machineId},e.prototype.openExternal=function(e){throw new Error("implement me")},e.prototype.getId=function(){return"vs.gettingstarted"},e.hideWelcomeSettingskey="workbench.hide.welcome",e=g([v(0,n.IStorageService),v(1,r.IEnvironmentService),v(2,i.ITelemetryService)],e)}();t.AbstractGettingStarted=s}),define(l[987],h([1,0,986,13]),function(e,t,n,i){"use strict";var r=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.openExternal=function(e){i.isLinux&&i.isRootUser||window.open(e)},t.prototype.handleWelcome=function(){navigator.onLine&&e.prototype.handleWelcome.call(this)},t}(n.AbstractGettingStarted);t.GettingStarted=r}),define(l[988],h([1,0,14,987,71]),function(e,t,n,i,r){"use strict";n.Registry.as(r.Extensions.Workbench).registerWorkbenchContribution(i.GettingStarted)}),define(l[165],h([1,0,6]),function(e,t,n){"use strict";var i=function(){function e(e){this.descriptorFn=e}return e.prototype.getDescription=function(){return this.descriptorFn(null)},e}();t.BaseBadge=i;var r=function(e){function t(t,n){e.call(this,n),this.number=t}return d(t,e),t.prototype.getDescription=function(){return this.descriptorFn(this.number)},t}(i);t.NumberBadge=r;var o=function(e){function t(t,n){e.call(this,n),this.text=t}return d(t,e),t}(i);t.TextBadge=o;var s=function(e){function t(t){e.call(this,t)}return d(t,e),t}(i);t.IconBadge=s;var a=function(e){function t(){e.apply(this,arguments)}return d(t,e),t}(i);t.ProgressBadge=a,t.IActivityBarService=n.createDecorator("activityBarService")}),define(l[125],h([1,0,6]),function(e,t,n){"use strict";t.IBackupModelService=n.createDecorator("backupService"),t.IBackupFileService=n.createDecorator("backupFileService"),t.BACKUP_FILE_RESOLVE_OPTIONS={acceptTextOnly:!0,encoding:"utf-8"},t.BACKUP_FILE_UPDATE_OPTIONS={encoding:"utf-8"}}),define(l[991],h([1,0,70,182,74,13,16,125,298,51,33,2,230]),function(e,t,n,i,r,o,s,a,c,u,l,h,d){"use strict";var p=function(){function e(){this.cache=Object.create(null)}return e.prototype.resolve=function(e){var t=this;return r.readDirsInDir(e).then(function(i){return h.TPromise.join(i.map(function(i){var o=n.join(e,i);return r.readdir(o).then(function(e){e.forEach(function(e){var i=s.default.file(n.join(o,e));t.add(i)})})}))}).then(function(){return t},function(e){return t})},e.prototype.add=function(e,t){void 0===t&&(t=0),this.cache[e.toString()]=t},e.prototype.has=function(e,t){var n=this.cache[e.toString()];return"number"==typeof n&&("number"!=typeof t||t===n)},e.prototype.get=function(){return Object.keys(this.cache).map(function(e){return s.default.parse(e)})},e.prototype.remove=function(e){delete this.cache[e.toString()]},e.prototype.clear=function(){this.cache=Object.create(null)},e}();t.BackupFilesModel=p;var f=function(){function e(e,t,n,i){this.environmentService=t,this.fileService=n,this.backupService=i,this.ready=this.init(e)}return Object.defineProperty(e.prototype,"backupEnabled",{get:function(){return!this.environmentService.isExtensionDevelopment},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var t=this,n=new p;return this.backupEnabled?this.backupService.getBackupPath(e).then(function(e){return t.backupWorkspacePath=e,n.resolve(t.backupWorkspacePath)}):h.TPromise.as(n)},e.prototype.hasBackup=function(e){var t=this;return this.ready.then(function(n){var i=t.getBackupResource(e);return i?n.has(i):h.TPromise.as(!1)})},e.prototype.loadBackupResource=function(e){var t=this;return this.ready.then(function(){return t.hasBackup(e).then(function(n){if(n)return t.getBackupResource(e)})})},e.prototype.backupResource=function(t,n,i){var r=this;return this.ready.then(function(o){var s=r.getBackupResource(t);if(s&&!o.has(s,i))return n=""+t.toString()+e.META_MARKER+n,r.fileService.updateContent(s,n,a.BACKUP_FILE_UPDATE_OPTIONS).then(function(){return o.add(s,i)})})},e.prototype.discardResourceBackup=function(e){var t=this;return this.ready.then(function(n){var i=t.getBackupResource(e);if(i)return t.fileService.del(i).then(function(){return n.remove(i)})})},e.prototype.discardAllWorkspaceBackups=function(){var e=this;return this.ready.then(function(t){if(e.backupEnabled)return e.fileService.del(s.default.file(e.backupWorkspacePath)).then(function(){return t.clear()})})},e.prototype.getWorkspaceFileBackups=function(){return this.ready.then(function(t){var n=[];return t.get().forEach(function(t){n.push(new h.TPromise(function(n,i){d.readToMatchingString(t.fsPath,e.META_MARKER,2e3,1e4,function(e,t){null===t&&i(e),n(s.default.parse(t))})}))}),h.TPromise.join(n)})},e.prototype.parseBackupContent=function(e){return e.value.lines.slice(1).join("\n")},e.prototype.getBackupResource=function(e){return this.backupEnabled?s.default.file(n.join(this.backupWorkspacePath,e.scheme,this.hashPath(e))):null},e.prototype.hashPath=function(e){var t=o.isWindows||o.isMacintosh?e.fsPath.toLowerCase():e.fsPath;return i.createHash("md5").update(t).digest("hex")},e.META_MARKER="\n",e=g([v(1,u.IEnvironmentService),v(2,l.IFileService),v(3,c.IBackupService)],e)}();t.BackupFileService=f}),define(l[134],h([1,0,6]),function(e,t,n){"use strict";t.CONFIG_DEFAULT_NAME="settings",t.WORKSPACE_CONFIG_FOLDER_DEFAULT_NAME=".vscode",t.WORKSPACE_CONFIG_DEFAULT_PATH=t.WORKSPACE_CONFIG_FOLDER_DEFAULT_NAME+"/"+t.CONFIG_DEFAULT_NAME+".json",t.IWorkspaceConfigurationService=n.createDecorator("configurationService"),t.WORKSPACE_STANDALONE_CONFIGURATIONS={tasks:t.WORKSPACE_CONFIG_FOLDER_DEFAULT_NAME+"/tasks.json",launch:t.WORKSPACE_CONFIG_FOLDER_DEFAULT_NAME+"/launch.json"}}),define(l[114],h([1,0,6]),function(e,t,n){"use strict";t.IConfigurationEditingService=n.createDecorator("configurationEditingService"),function(e){e[e.ERROR_UNKNOWN_KEY=0]="ERROR_UNKNOWN_KEY",e[e.ERROR_INVALID_TARGET=1]="ERROR_INVALID_TARGET",e[e.ERROR_NO_WORKSPACE_OPENED=2]="ERROR_NO_WORKSPACE_OPENED",e[e.ERROR_CONFIGURATION_FILE_DIRTY=3]="ERROR_CONFIGURATION_FILE_DIRTY",e[e.ERROR_INVALID_CONFIGURATION=4]="ERROR_INVALID_CONFIGURATION"}(t.ConfigurationEditingErrorCode||(t.ConfigurationEditingErrorCode={}));t.ConfigurationEditingErrorCode;!function(e){e[e.USER=0]="USER",e[e.WORKSPACE=1]="WORKSPACE"}(t.ConfigurationTarget||(t.ConfigurationTarget={}));t.ConfigurationTarget}),define(l[994],h([1,0,30,21,96,319,134]),function(e,t,n,i,r,o,s){"use strict";function a(e,t){try{var n=r.parse(e)||{};return{contents:o.toValuesTree(n,function(e){return console.error("Conflict in settings file "+t+": "+e)}),raw:n}}catch(e){return{contents:{},parseError:e}}}function c(e,t,n){Object.keys(t).forEach(function(r){r in e?i.isObject(e[r])&&i.isObject(t[r])?c(e[r],t[r],n):n&&(e[r]=t[r]):e[r]=t[r]})}function u(e){var t=Object.create(null),i=[],r=/\/([^\.]*)*\.json/,o=Object.keys(e),a=o.indexOf(s.WORKSPACE_CONFIG_DEFAULT_PATH);return a>0&&o.unshift(o.splice(a,1)[0]),o.forEach(function(o){var a=n.clone(e[o]),u=r.exec(o);if(u&&a){var l=t;if(u&&u[1]&&u[1]!==s.CONFIG_DEFAULT_NAME){var h=u[1],d=l[h];d||(d=Object.create(null),l[h]=d),l=d}c(l,a.contents,!0),a.parseError&&i.push(o)}}),{contents:t,parseErrors:i}}t.newConfigFile=a,t.merge=c,t.consolidate=u}),define(l[995],h([1,0,2,16,20,250,30,17,108,26,51,47,5,74,7,994,25,780,134,33,11]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S,E,_){"use strict";function C(e){var t=[];return n.TPromise.join(e.map(function(e){return w(e).then(function(e){t.push(e)})})).then(function(){return t})}function w(e){return p.readFile(e.fsPath).then(function(t){return{resource:e,value:t.toString()}})}function I(e){return new n.TPromise(function(t,n){o.readdir(e.fsPath,function(o,s){o?"ENOTDIR"===o.code?t({resource:e}):n(o):t({resource:e,isDirectory:!0,children:s.map(function(t){return{resource:i.default.file(r.join(e.fsPath,t))}})})})})}var T=function(){function e(t,n,i,r){var o=this;void 0===r&&(r=S.WORKSPACE_CONFIG_FOLDER_DEFAULT_NAME),this.contextService=t,this.eventService=n,this.workspaceSettingsRootFolder=r,this.toDispose=[],this.workspaceFilePathToConfiguration=Object.create(null),this.cachedConfig=Object.create(null),this.cachedWorkspaceConfig=Object.create(null),this._onDidUpdateConfiguration=new _.Emitter,this.toDispose.push(this._onDidUpdateConfiguration),this.baseConfigurationService=new b.ConfigurationService(i),this.toDispose.push(this.baseConfigurationService),this.reloadConfigurationScheduler=new a.RunOnceScheduler(function(){return o.doLoadConfiguration().then(function(e){return o._onDidUpdateConfiguration.fire({config:e.consolidated,source:y.ConfigurationSource.Workspace,sourceConfig:e.workspace})}).done(null,f.onUnexpectedError)},e.RELOAD_CONFIGURATION_DELAY),this.toDispose.push(this.reloadConfigurationScheduler),this.registerListeners()}return Object.defineProperty(e.prototype,"onDidUpdateConfiguration",{get:function(){return this._onDidUpdateConfiguration.event},enumerable:!0,configurable:!0}),e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.eventService.addListener2(E.EventType.FILE_CHANGES,function(t){return e.handleWorkspaceFileEvents(t)})),this.toDispose.push(this.baseConfigurationService.onDidUpdateConfiguration(function(t){return e.onBaseConfigurationChanged(t)}))},e.prototype.onBaseConfigurationChanged=function(e){var t=s.mixin(s.clone(this.baseConfigurationService.getConfiguration()),this.cachedWorkspaceConfig,!0);s.equals(this.cachedConfig,t)||(this.cachedConfig=t,this._onDidUpdateConfiguration.fire({config:this.cachedConfig,source:e.source,sourceConfig:e.sourceConfig}))},e.prototype.initialize=function(){return this.doLoadConfiguration().then(function(){return null})},e.prototype.getConfiguration=function(e){return e?this.cachedConfig[e]:this.cachedConfig},e.prototype.lookup=function(e){var t=this.baseConfigurationService.lookup(e);return{default:t.default,user:t.user,workspace:y.getConfigurationValue(this.cachedWorkspaceConfig,e),value:y.getConfigurationValue(this.cachedConfig,e)}},e.prototype.keys=function(){var e=this.baseConfigurationService.keys();return{default:e.default,user:e.user,workspace:this.cachedWorkspaceKeys}},e.prototype.values=function(){for(var e,t=Object.create(null),n=this.keys(),i=n.workspace.concat(n.user,n.default).sort(),r=0,o=i;r<o.length;r++){var s=o[r];s!==e&&(e=s,t[s]=this.lookup(s))}return t},e.prototype.reloadConfiguration=function(e){var t=this;return this.bulkFetchFromWorkspacePromise=null,this.workspaceFilePathToConfiguration=Object.create(null),this.baseConfigurationService.reloadConfiguration().then(function(){return t.doLoadConfiguration().then(function(t){return e?t.consolidated[e]:t.consolidated})})},e.prototype.doLoadConfiguration=function(){var e=this;return this.loadWorkspaceConfigFiles().then(function(t){var n=m.consolidate(t).contents;e.cachedWorkspaceConfig=n;var i=[];return Object.keys(t).forEach(function(e){if(e===S.WORKSPACE_CONFIG_DEFAULT_PATH)i.push.apply(i,Object.keys(t[e].raw));else{var n=Object.keys(S.WORKSPACE_STANDALONE_CONFIGURATIONS);n.forEach(function(n){e===S.WORKSPACE_STANDALONE_CONFIGURATIONS[n]&&i.push.apply(i,Object.keys(t[e].raw).map(function(e){return n+"."+e}))})}}),e.cachedWorkspaceKeys=i,e.cachedConfig=s.mixin(s.clone(e.baseConfigurationService.getConfiguration()),e.cachedWorkspaceConfig,!0),{consolidated:e.cachedConfig,workspace:e.cachedWorkspaceConfig}})},e.prototype.hasWorkspaceConfiguration=function(){return!!this.workspaceFilePathToConfiguration[this.workspaceSettingsRootFolder+"/"+S.CONFIG_DEFAULT_NAME+".json"]},e.prototype.dispose=function(){this.toDispose=d.dispose(this.toDispose)},e.prototype.loadWorkspaceConfigFiles=function(){var e=this;return this.contextService.getWorkspace()?(this.bulkFetchFromWorkspacePromise||(this.bulkFetchFromWorkspacePromise=I(this.contextService.toResource(this.workspaceSettingsRootFolder)).then(function(t){return t.isDirectory?C(t.children.filter(function(t){var n=".json"===r.extname(t.resource.fsPath);return!!n&&e.isWorkspaceConfigurationFile(e.contextService.toWorkspaceRelativePath(t.resource))}).map(function(e){return e.resource})):n.TPromise.as([])},function(e){return[]}).then(function(t){t.forEach(function(t){return e.workspaceFilePathToConfiguration[e.contextService.toWorkspaceRelativePath(t.resource)]=n.TPromise.as(m.newConfigFile(t.value,t.resource.toString()))})},f.onUnexpectedError)),this.bulkFetchFromWorkspacePromise.then(function(){return n.TPromise.join(e.workspaceFilePathToConfiguration)})):n.TPromise.as(Object.create(null))},e.prototype.handleWorkspaceFileEvents=function(e){for(var t=e.changes,n=!1,i=0,o=t.length;i<o;i++){var s=t[i].resource,a=".json"===r.extname(s.fsPath),u=t[i].type===E.FileChangeType.DELETED&&r.basename(s.fsPath)===this.workspaceSettingsRootFolder;if(a||u){var l=this.contextService.toWorkspaceRelativePath(s);if(l&&(l===this.workspaceSettingsRootFolder&&t[i].type===E.FileChangeType.DELETED&&(this.workspaceFilePathToConfiguration=Object.create(null),n=!0),this.isWorkspaceConfigurationFile(l)))switch(t[i].type){case E.FileChangeType.DELETED:n=c.remove(this.workspaceFilePathToConfiguration,l);break;case E.FileChangeType.UPDATED:case E.FileChangeType.ADDED:this.workspaceFilePathToConfiguration[l]=w(s).then(function(e){return m.newConfigFile(e.value,e.resource.toString())},f.onUnexpectedError),n=!0}}}n&&!this.reloadConfigurationScheduler.isScheduled()&&this.reloadConfigurationScheduler.schedule()},e.prototype.isWorkspaceConfigurationFile=function(e){return[S.WORKSPACE_CONFIG_DEFAULT_PATH,S.WORKSPACE_STANDALONE_CONFIGURATIONS.launch,S.WORKSPACE_STANDALONE_CONFIGURATIONS.tasks].some(function(t){return t===e})},e.RELOAD_CONFIGURATION_DELAY=50,e=g([v(0,u.IWorkspaceContextService),v(1,h.IEventService),v(2,l.IEnvironmentService)],e)}();t.WorkspaceConfigurationService=T}),define(l[205],h([1,0,6]),function(e,t,n){"use strict";t.IConfigurationResolverService=n.createDecorator("configurationResolverService")}),define(l[997],h([1,0,510,2,12,30,20,13,205,25,34]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";var h=function(){function e(e,t,n,i,r){this.rawAdapter=e,this.extensionDescription=t,this.configurationResolverService=n,this.configurationService=i,this.commandService=r,e.windows&&(e.win=e.windows)}return Object.defineProperty(e.prototype,"runtime",{get:function(){var e=this.getAttributeBasedOnPlatform("runtime");return e&&0===e.indexOf("./")&&(e=this.configurationResolverService?this.configurationResolverService.resolve(e):e,e=s.join(this.extensionDescription.extensionFolderPath,e)),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"program",{get:function(){var e=this.getAttributeBasedOnPlatform("program");return e&&(e=this.configurationResolverService?this.configurationResolverService.resolve(e):e,e=s.join(this.extensionDescription.extensionFolderPath,e)),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"runtimeArgs",{get:function(){return this.getAttributeBasedOnPlatform("runtimeArgs")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"args",{get:function(){return this.getAttributeBasedOnPlatform("args")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aiKey",{get:function(){return this.rawAdapter.aiKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this.rawAdapter.label||this.rawAdapter.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.rawAdapter.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.rawAdapter.variables},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"configurationSnippets",{get:function(){return this.rawAdapter.configurationSnippets},enumerable:!0,configurable:!0}),e.prototype.merge=function(e,t){t.isBuiltin&&(this.extensionDescription=t),o.mixin(this.rawAdapter,e,t.isBuiltin)},e.prototype.getInitialConfigurationContent=function(){var e=this.configurationService.getConfiguration();return"string"==typeof this.rawAdapter.initialConfigurations?this.commandService.executeCommand(this.rawAdapter.initialConfigurations).then(function(t){return e.editor.insertSpaces&&(t=t.replace(new RegExp("\t","g"),r.repeat(" ",e.editor.tabSize))),t}):i.TPromise.as(JSON.stringify({version:"0.2.0",configurations:this.rawAdapter.initialConfigurations||[]},null,e.editor&&e.editor.insertSpaces?r.repeat(" ",e.editor.tabSize):"\t"))},e.prototype.getSchemaAttributes=function(){var e=this;return this.rawAdapter.configurationAttributes?Object.keys(this.rawAdapter.configurationAttributes).map(function(t){var i=e.rawAdapter.configurationAttributes[t],r=["name","type","request"];i.required=i.required&&i.required.length?r.concat(i.required):r,i.additionalProperties=!1,i.type="object",i.properties||(i.properties={});var s=i.properties;s.type={enum:[e.type],description:n.localize(0,null)},s.name={type:"string",description:n.localize(1,null),default:"Launch"},s.request={enum:[t],description:n.localize(2,null)},s.debugServer={type:"number",description:n.localize(3,null)},s.preLaunchTask={type:["string","null"],default:null,description:n.localize(4,null)},s.internalConsoleOptions={enum:["neverOpen","openOnSessionStart","openOnFirstSessionStart"],default:"openOnFirstSessionStart",description:n.localize(5,null)};var a=o.deepClone(s);return s.windows={type:"object",description:n.localize(6,null),properties:a},s.osx={type:"object",description:n.localize(7,null),properties:a},s.linux={type:"object",description:n.localize(8,null),properties:a},i}):null},e.prototype.getAttributeBasedOnPlatform=function(e){var t;return a.isWindows&&!process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432")&&this.rawAdapter.winx86?t=this.rawAdapter.winx86[e]:a.isWindows&&this.rawAdapter.win?t=this.rawAdapter.win[e]:a.isMacintosh&&this.rawAdapter.osx?t=this.rawAdapter.osx[e]:a.isLinux&&this.rawAdapter.linux&&(t=this.rawAdapter.linux[e]),t||this.rawAdapter[e]},e=g([v(2,c.IConfigurationResolverService),v(3,u.IConfigurationService),v(4,l.ICommandService)],e)}();t.Adapter=h}),define(l[998],h([1,0,2,32,43,8,39,19,18,36,83]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";var h=function(){function e(e,t,n){this.messageService=e,this.telemetryService=t,this.keybindingService=n}return e.prototype.showContextMenu=function(e){var t=this;e.getActions().then(function(i){return i.length?n.TPromise.timeout(0).then(function(){var n,r,s=t.createMenu(e,i),a=e.getAnchor();if(o.isHTMLElement(a)){var c=o.getDomNodePagePosition(a);n=c.left,r=c.top+c.height}else{var u=a;n=u.x,r=u.y}var h=l.webFrame.getZoomFactor();n*=h,r*=h,s.popup(l.remote.getCurrentWindow(),Math.floor(n),Math.floor(r)),e.onHide&&e.onHide(void 0)}):n.TPromise.as(null)})},e.prototype.createMenu=function(e,t){var n=this,i=new l.remote.Menu;return t.forEach(function(t){if(t instanceof r.Separator)i.append(new l.remote.MenuItem({type:"separator"}));else if(t instanceof s.ContextSubMenu){var o=new l.remote.MenuItem({submenu:n.createMenu(e,t.entries),label:t.label});i.append(o)}else{var a=e.getKeyBinding?e.getKeyBinding(t):void 0,c=a&&n.keybindingService.getElectronAcceleratorFor(a),u=new l.remote.MenuItem({label:t.label,checked:!!t.checked||!!t.radio,type:t.checked?"checkbox":t.radio?"radio":void 0,accelerator:c,enabled:!!t.enabled,click:function(i,r,o){n.runAction(t,e,o)}});i.append(u)}}),i},e.prototype.runAction=function(e,t,r){var o=this;this.telemetryService.publicLog("workbenchActionExecuted",{id:e.id,from:"contextMenu"});var s=t.getActionsContext?t.getActionsContext(r):r,a=e.run(s)||n.TPromise.as(null);a.done(null,function(e){return o.messageService.show(i.default.Error,e)})},e=g([v(0,c.IMessageService),v(1,a.ITelemetryService),v(2,u.IKeybindingService)],e)}();t.ContextMenuService=h}),define(l[22],h([1,0,6]),function(e,t,n){"use strict";t.IWorkbenchEditorService=n.createDecorator("editorService")}),define(l[339],h([1,0,10,22,28]),function(e,t,n,i,r){"use strict";var o=function(){function e(e){this.editorService=e,this.rangeHighlightDecorationId=null,this.editor=null,this.editorDisposables=[]}return e.prototype.removeHighlightRange=function(){this.editor&&this.rangeHighlightDecorationId&&this.doRemoveRangeHighlight(this.editor,this.rangeHighlightDecorationId),this.rangeHighlightDecorationId=null},e.prototype.highlightRange=function(e,t){t=t?t:this.getEditor(e),t&&this.doHighlightRange(t.getControl(),e)},e.prototype.doHighlightRange=function(e,t){var n=this;this.removeHighlightRange(),e.changeDecorations(function(e){n.rangeHighlightDecorationId=e.addDecoration(t.range,n.createRangeHighlightDecoration())}),this.setEditor(e)},e.prototype.getEditor=function(e){var t=r.asFileEditorInput(this.editorService.getActiveEditorInput());return t&&t.getResource().fsPath===e.resource.fsPath?this.editorService.getActiveEditor():null},e.prototype.setEditor=function(e){var t=this;this.editor!==e&&(this.disposeEditorListeners(),this.editor=e,this.editorDisposables.push(this.editor.onDidChangeCursorPosition(function(e){e.reason!==n.CursorChangeReason.Explicit&&e.reason!==n.CursorChangeReason.Undo&&e.reason!==n.CursorChangeReason.Redo||t.doRemoveRangeHighlight(t.editor,t.rangeHighlightDecorationId)})),this.editorDisposables.push(this.editor.onDidChangeModel(function(){t.doRemoveRangeHighlight(t.editor,t.rangeHighlightDecorationId)})),this.editorDisposables.push(this.editor.onDidDispose(function(){t.doRemoveRangeHighlight(t.editor,t.rangeHighlightDecorationId),t.editor=null})))},e.prototype.disposeEditorListeners=function(){this.editorDisposables.forEach(function(e){return e.dispose()}),this.editorDisposables=[]},e.prototype.doRemoveRangeHighlight=function(e,t){e.deltaDecorations([t],[])},e.prototype.createRangeHighlightDecoration=function(){return{stickiness:n.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"rangeHighlight",isWholeLine:!0}},e.prototype.dispose=function(){this.removeHighlightRange(),this.disposeEditorListeners(),this.editor=null},e=g([v(0,i.IWorkbenchEditorService)],e)}();t.RangeHighlightDecorations=o}),define(l[1001],h([1,0,545,74,233,70,11,35,103,30,95,17,7,2,5,390,19,88,379,6,25,18,32,16,106,22,370,280,26]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L){"use strict";function k(e){return e.replace(/-\d+\.\d+\.\d+$/,"")}function P(e){switch(e){case R.Installing:return"extensionGallery:install";case R.Updating:return"extensionGallery:update";case R.Uninstalling:return"extensionGallery:uninstall"}return""}var R,O=function(){function t(e,t,n,i){void 0===i&&(i=null),this.galleryService=e,this.stateProvider=t,this.local=n,this.gallery=i,this.disabledGlobally=!1,this.disabledForWorkspace=!1}return Object.defineProperty(t.prototype,"type",{get:function(){return this.local?this.local.type:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.gallery?this.gallery.name:this.local.manifest.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayName",{get:function(){return this.gallery?this.gallery.displayName||this.gallery.name:this.local.manifest.displayName||this.local.manifest.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.publisher+"."+this.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"publisher",{get:function(){return this.gallery?this.gallery.publisher:this.local.manifest.publisher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"publisherDisplayName",{get:function(){return this.gallery?this.gallery.publisherDisplayName||this.gallery.publisher:this.local.metadata&&this.local.metadata.publisherDisplayName?this.local.metadata.publisherDisplayName:this.local.manifest.publisher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this.local?this.local.manifest.version:this.gallery.version},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"latestVersion",{get:function(){return this.gallery?this.gallery.version:this.local.manifest.version},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return this.gallery?this.gallery.description:this.local.manifest.description},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconUrl",{get:function(){return this.galleryIconUrl||this.localIconUrl||this.defaultIconUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconUrlFallback",{get:function(){return this.galleryIconUrlFallback||this.localIconUrl||this.defaultIconUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"localIconUrl",{get:function(){return this.local&&this.local.manifest.icon&&I.default.file(o.join(this.local.path,this.local.manifest.icon)).toString()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"galleryIconUrl",{get:function(){return this.gallery&&this.gallery.assets.icon.uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"galleryIconUrlFallback",{get:function(){return this.gallery&&this.gallery.assets.icon.fallbackUri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultIconUrl",{get:function(){return e.toUrl("../browser/media/defaultIcon.png")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"licenseUrl",{get:function(){return this.gallery&&this.gallery.assets.license&&this.gallery.assets.license.uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this.stateProvider(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"installCount",{get:function(){return this.gallery?this.gallery.installCount:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rating",{get:function(){return this.gallery?this.gallery.rating:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ratingCount",{get:function(){return this.gallery?this.gallery.ratingCount:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outdated",{get:function(){return!!this.gallery&&this.type===b.LocalExtensionType.User&&r.gt(this.latestVersion,this.version)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"telemetryData",{get:function(){var e=this,t=e.local,n=e.gallery;return n?S.getGalleryExtensionTelemetryData(n):S.getLocalExtensionTelemetryData(t)},enumerable:!0,configurable:!0}),t.prototype.getManifest=function(){return this.gallery?this.galleryService.getManifest(this.gallery):p.TPromise.as(this.local.manifest)},t.prototype.getReadme=function(){if(this.gallery)return this.galleryService.getReadme(this.gallery);if(this.local&&this.local.readmeUrl){var e=I.default.parse(this.local.readmeUrl);return i.readFile(e.fsPath,"utf8")}return p.TPromise.wrapError("not available")},t.prototype.getChangelog=function(){if(this.gallery&&this.gallery.assets.changelog)return this.galleryService.getChangelog(this.gallery);var e=this.local&&this.local.changelogUrl;if(!e)return p.TPromise.wrapError("not available");var t=I.default.parse(e);return"file"===t.scheme?i.readFile(t.fsPath,"utf8"):p.TPromise.wrapError("not available")},Object.defineProperty(t.prototype,"dependencies",{get:function(){var e=this,t=e.local,n=e.gallery;return t&&t.manifest.extensionDependencies?t.manifest.extensionDependencies:n?n.properties.dependencies:[]},enumerable:!0,configurable:!0}),t}(),M=function(){function e(e,t,n,i){void 0===i&&(i=null),this._extension=e,this._identifier=t,this._map=n,this._dependent=i,this._hasDependencies=null}return Object.defineProperty(e.prototype,"hasDependencies",{get:function(){return null===this._hasDependencies&&(this._hasDependencies=this.computeHasDependencies()),this._hasDependencies},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extension",{get:function(){return this._extension},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this._identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dependent",{get:function(){return this._dependent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dependencies",{get:function(){var t=this;return this.hasDependencies?this._extension.dependencies.map(function(n){return new e(t._map.get(n),n,t._map,t)}):[]},enumerable:!0,configurable:!0}),e.prototype.computeHasDependencies=function(){if(this._extension&&this._extension.dependencies.length>0){for(var e=this._dependent;null!==e;){if(e.identifier===this.identifier)return!1;e=e.dependent}return!0}return!1},e}();!function(e){e[e.Installing=0]="Installing",e[e.Updating=1]="Updating",e[e.Uninstalling=2]="Uninstalling"}(R||(R={}));var N=function(){function e(t,n,i,r,o,a,c,u,l,d,p,f){var g=this;this.instantiationService=t,this.editorService=n,this.extensionService=i,this.galleryService=r,this.configurationService=o,this.telemetryService=a,this.messageService=c,this.choiceService=u,this.extensionEnablementService=d,this.tipsService=p,this.workspaceContextService=f,this.installing=[],this.uninstalling=[],this.installed=[],this.disposables=[],this._onChange=new s.Emitter,this.stateProvider=function(e){return g.getExtensionState(e)},i.onInstallExtension(this.onInstallExtension,this,this.disposables),i.onDidInstallExtension(this.onDidInstallExtension,this,this.disposables),i.onUninstallExtension(this.onUninstallExtension,this,this.disposables),i.onDidUninstallExtension(this.onDidUninstallExtension,this,this.disposables),d.onEnablementChanged(this.onEnablementChanged,this,this.disposables),this.syncDelayer=new h.ThrottledDelayer(e.SyncPeriod),this.autoUpdateDelayer=new h.ThrottledDelayer(1e3),s.chain(l.onOpenURL).filter(function(e){return/^extension/.test(e.path)}).on(this.onOpenExtensionUrl,this,this.disposables),this.queryLocal().done(function(){return g.eventuallySyncWithGallery(!0)})}return Object.defineProperty(e.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"local",{get:function(){var e=this,t=this.installing.filter(function(t){return!e.installed.some(function(e){return k(e.local.id)===t.id})}).map(function(e){return e.extension});return this.installed.concat(t)},enumerable:!0,configurable:!0}),e.prototype.queryLocal=function(){var e=this;return this.extensionService.getInstalled().then(function(t){var n=a.index(e.installed,function(e){return e.local.id}),i=e.extensionEnablementService.getGloballyDisabledExtensions(),r=e.extensionEnablementService.getWorkspaceDisabledExtensions();return e.installed=t.map(function(t){var o=n[t.id]||new O(e.galleryService,e.stateProvider,t);return o.local=t,o.disabledGlobally=i.indexOf(o.identifier)!==-1,o.disabledForWorkspace=r.indexOf(o.identifier)!==-1,o}),e._onChange.fire(),e.local})},e.prototype.queryGallery=function(e){var t=this;return void 0===e&&(e={}),this.galleryService.query(e).then(function(e){return m.mapPager(e,function(e){return t.fromGallery(e)})}).then(null,function(e){return/No extension gallery service configured/.test(e.message)?p.TPromise.as(m.singlePagePager([])):p.TPromise.wrapError(e)})},e.prototype.loadDependencies=function(e){var t=this;return e.dependencies.length?this.galleryService.getAllDependencies(e.gallery).then(function(e){
return e.map(function(e){return t.fromGallery(e)})}).then(function(e){return t.local.concat(e)}).then(function(t){for(var n=new c.LinkedMap,i=0,r=t;i<r.length;i++){var o=r[i];n.set(o.publisher+"."+o.name,o)}return new M(e,e.identifier,n)}):p.TPromise.wrap(null)},e.prototype.open=function(e,t){return void 0===t&&(t=!1),this.editorService.openEditor(this.instantiationService.createInstance(D.ExtensionsInput,e),null,t)},e.prototype.fromGallery=function(e){var t=this,n=a.index(this.installed,function(e){return e.local.metadata?e.local.metadata.id:""}),i=e.id,r=n[i];return r?(e.properties.engine?this.galleryService.loadCompatibleVersion(e).then(function(e){return t.syncLocalWithGalleryExtension(r,e)}):this.syncLocalWithGalleryExtension(r,e),r):new O(this.galleryService,this.stateProvider,null,e)},e.prototype.syncLocalWithGalleryExtension=function(e,t){e.gallery=t,this._onChange.fire(),this.eventuallyAutoUpdateExtensions()},e.prototype.checkForUpdates=function(){var e=this;return this.syncDelayer.trigger(function(){return e.syncWithGallery()},0)},e.prototype.eventuallySyncWithGallery=function(t){var n=this;void 0===t&&(t=!1);var i=function(){return n.syncWithGallery().then(function(){return n.eventuallySyncWithGallery()})},r=t?0:e.SyncPeriod;this.syncDelayer.trigger(i,r).done(null,function(e){return null})},e.prototype.syncWithGallery=function(){var e=this.installed.filter(function(e){return!(!e.local||!e.local.metadata)}).map(function(e){return e.local.metadata.id}).filter(function(e){return l.isUUID(e)});return 0===e.length?p.TPromise.as(null):this.queryGallery({ids:e,pageSize:e.length})},e.prototype.eventuallyAutoUpdateExtensions=function(){var e=this;this.autoUpdateDelayer.trigger(function(){return e.autoUpdateExtensions()}).done(null,function(e){return null})},e.prototype.autoUpdateExtensions=function(){var e=this,t=this.configurationService.getConfiguration(T.ConfigurationKey);if(!t.autoUpdate)return p.TPromise.as(null);var n=this.local.filter(function(e){return e.outdated&&e.state!==T.ExtensionState.Installing});return p.TPromise.join(n.map(function(t){return e.install(t,!1)}))},e.prototype.canInstall=function(e){if(e instanceof O)return!!e.gallery},e.prototype.install=function(e,t){if(void 0===t&&(t=!0),"string"==typeof e)return this.extensionService.install(e);if(e instanceof O){var n=e,i=n.gallery;return i?this.extensionService.installFromGallery(i,t):p.TPromise.wrapError(new Error("Missing gallery"))}},e.prototype.setEnablement=function(e,t,n){var i=this;return void 0===n&&(n=!1),e.type===b.LocalExtensionType.System?p.TPromise.wrap(null):this.doSetEnablement(e,t,n).then(function(n){i.telemetryService.publicLog(t?"extension:enable":"extension:disable",e.telemetryData)})},e.prototype.uninstall=function(e){if(e instanceof O){var t=e,n=t.local||this.installed.filter(function(e){return e.local.metadata&&t.gallery&&e.local.metadata.id===t.gallery.id})[0].local;return n?this.extensionService.uninstall(n):p.TPromise.wrapError(new Error("Missing local"))}},e.prototype.doSetEnablement=function(e,t,n){if(n)return this.extensionEnablementService.setEnablement(e.identifier,t,n);var i=this.extensionEnablementService.setEnablement(e.identifier,t,!1);if(t&&this.workspaceContextService.getWorkspace()){var r=this.extensionEnablementService.setEnablement(e.identifier,t,!0);return p.TPromise.join([i,r]).then(function(e){return e[0]||e[1]})}return i},e.prototype.onInstallExtension=function(e){var t=e.id,n=e.gallery;if(n){var i=this.installed.filter(function(e){return(e.local&&e.local.metadata&&e.local.metadata.id)===n.id})[0];i||(i=new O(this.galleryService,this.stateProvider,null,n)),i.gallery=n;var r=new Date,o=R.Installing;this.installing.push({id:k(t),operation:o,extension:i,start:r}),this._onChange.fire()}},e.prototype.onDidInstallExtension=function(e){var t=e.local,n=e.zipPath,i=e.error,r=k(e.id),o=this.installing.filter(function(e){return e.id===r})[0],s=o?o.extension:n?new O(this.galleryService,this.stateProvider,null):null;if(s&&(this.installing=this.installing.filter(function(e){return e.id!==r}),!i)){s.local=t;var a=t.metadata&&t.metadata.id,c=this.installed.filter(function(e){return(e.local&&e.local.metadata&&e.local.metadata.id)===a})[0];a&&c?(o.operation=R.Updating,c.local=t):(this.installed.push(s),this.checkForOtherKeymaps(s).then(null,d.onUnexpectedError))}s.gallery&&this.reportTelemetry(o,!i),this._onChange.fire()},e.prototype.checkForOtherKeymaps=function(e){var t=this;if(!e.disabledGlobally&&this.isKeymapExtension(e)){var n=this.installed.filter(function(n){return n.identifier!==e.identifier&&!n.disabledGlobally&&t.isKeymapExtension(n)});if(n.length)return this.promptForDisablingOtherKeymaps(e,n)}return p.TPromise.as(void 0)},e.prototype.isKeymapExtension=function(e){var t=e.local.manifest.categories;return t&&t.indexOf("Keymaps")!==-1||this.tipsService.getKeymapRecommendations().indexOf(e.identifier)!==-1},e.prototype.promptForDisablingOtherKeymaps=function(e,t){var i=this,r={newKeymap:e.identifier,oldKeymaps:t.map(function(e){return e.identifier})};this.telemetryService.publicLog("disableOtherKeymapsConfirmation",r);var o=n.localize(0,null),s=[n.localize(1,null),n.localize(2,null)];return this.choiceService.choose(w.default.Info,o,s,!1).then(function(e){var n=0===e;if(r.confirmed=n,i.telemetryService.publicLog("disableOtherKeymaps",r),n)return p.TPromise.join(t.map(function(e){return i.setEnablement(e,!1)}))},function(e){return p.TPromise.wrapError(d.canceled())})},e.prototype.onUninstallExtension=function(e){var t=this.installed.filter(function(t){return t.local.id===e})[0],n=this.installed.filter(function(t){return t.local.id!==e}).length;if(n!==this.installed.length){var i=new Date,r=R.Uninstalling,o=this.uninstalling.filter(function(t){return t.id===e})[0]||{id:e,operation:r,extension:t,start:i};this.uninstalling=[o].concat(this.uninstalling.filter(function(t){return t.id!==e})),this._onChange.fire()}},e.prototype.onDidUninstallExtension=function(e){var t=e.id,n=e.error;n||(this.installed=this.installed.filter(function(e){return e.local.id!==t}));var i=this.uninstalling.filter(function(e){return e.id===t})[0];this.uninstalling=this.uninstalling.filter(function(e){return e.id!==t}),i&&(n||this.reportTelemetry(i,!0),this._onChange.fire())},e.prototype.onEnablementChanged=function(e){var t=this.local.filter(function(t){return t.identifier===e})[0];if(t){var n=this.extensionEnablementService.getGloballyDisabledExtensions(),i=this.extensionEnablementService.getWorkspaceDisabledExtensions();t.disabledGlobally=n.indexOf(t.identifier)!==-1,t.disabledForWorkspace=i.indexOf(t.identifier)!==-1,this._onChange.fire(),this.checkForOtherKeymaps(t).then(null,d.onUnexpectedError)}},e.prototype.getExtensionState=function(e){if(e.gallery&&this.installing.some(function(t){return t.extension.gallery.id===e.gallery.id}))return T.ExtensionState.Installing;if(this.uninstalling.some(function(t){return t.extension.identifier===e.identifier}))return T.ExtensionState.Uninstalling;var t=this.installed.filter(function(t){return t===e||t.gallery&&e.gallery&&t.gallery.id===e.gallery.id})[0];return t?T.ExtensionState.Installed:T.ExtensionState.Uninstalled},e.prototype.reportTelemetry=function(e,t){var n=e.extension.telemetryData,i=(new Date).getTime()-e.start.getTime(),r=P(e.operation);this.telemetryService.publicLog(r,u.assign(n,{success:t,duration:i}))},e.prototype.onError=function(e){if(!d.isPromiseCanceledError(e)){var t=e&&e.message||"";/getaddrinfo ENOTFOUND|getaddrinfo ENOENT|connect EACCES|connect ECONNREFUSED/.test(t)||this.messageService.show(w.default.Error,e)}},e.prototype.onOpenExtensionUrl=function(e){var t=this,n=/^extension\/([^\/]+)$/.exec(e.path);if(n){var i=n[1];this.queryGallery({names:[i]}).done(function(e){if(!(e.total<1)){var n=e.firstPage[0];t.open(n).done(null,function(e){return t.onError(e)})}})}},e.prototype.dispose=function(){this.disposables=f.dispose(this.disposables)},e.SyncPeriod=432e5,e=g([v(0,E.IInstantiationService),v(1,x.IWorkbenchEditorService),v(2,b.IExtensionManagementService),v(3,b.IExtensionGalleryService),v(4,_.IConfigurationService),v(5,y.ITelemetryService),v(6,C.IMessageService),v(7,C.IChoiceService),v(8,A.IURLService),v(9,b.IExtensionEnablementService),v(10,b.IExtensionTipsService),v(11,L.IWorkspaceContextService)],e)}();t.ExtensionsWorkbenchService=N}),define(l[207],h([1,0,5,17,178,126,57,22,6]),function(e,t,n,i,r,o,s,a,c){"use strict";function u(e){return e instanceof h||e instanceof m}var l=s.IGitService;t.isGitEditorInput=u;var h=function(e){function t(t,n,i,r,o){e.call(this,t,n,i,r),this.status=o}return d(t,e),t.prototype.getFileStatus=function(){return this.status},t.prototype.contains=function(e){if(this.matches(e))return!0;var t=this.originalInput;if(t&&t.matches(e))return!0;var n=this.modifiedInput;return!(!n||!n.matches(e))},t}(o.DiffEditorInput);t.GitDiffEditorInput=h;var p=function(e){function t(t,n,i,r,o){e.call(this,t,n,i,r,o)}return d(t,e),t.prototype.getTypeId=function(){return t.ID},t.ID="vs.git.workingTreeDiffInput",t}(h);t.GitWorkingTreeDiffEditorInput=p;var f=function(e){function t(t,n,i,r,o){e.call(this,t,n,i,r,o)}return d(t,e),t.prototype.getTypeId=function(){return t.ID},t.ID="vs.git.indexDiffInput",t}(h);t.GitIndexDiffEditorInput=f;var m=function(e){function t(t,n,r,o,a,c,u,l,h){var d=this;e.call(this,t,n,null,r,!1,h),this.gitService=u,this.editorService=l,this.status=o,this.path=a,this.treeish=c,this.delayer=new i.ThrottledDelayer(1e3),this.toDispose=[],this.toDispose.push(this.gitService.addListener2(s.ServiceEvents.STATE_CHANGED,function(){return d.onGitServiceStateChange()})),this.toDispose.push(this.gitService.addListener2(s.ServiceEvents.OPERATION_END,function(){return d.onGitServiceStateChange()}))}return d(t,e),t.prototype.getTypeId=function(){return t.ID},t.prototype.getFileStatus=function(){return this.status},t.prototype.resolve=function(t){var n=this;return t||!this.getValue()?this.gitService.buffer(this.path,this.treeish).then(function(i){return n.getValue()!==i&&n.setValue(i),e.prototype.resolve.call(n,t)}):e.prototype.resolve.call(this,t)},t.prototype.onGitServiceStateChange=function(){var e=this,t=this.editorService.isVisible(this,!0);t&&this.delayer.trigger(function(){return e.resolve(!0)})},t.prototype.dispose=function(){this.delayer&&(this.delayer.cancel(),this.delayer=null),this.toDispose=n.dispose(this.toDispose),e.prototype.dispose.call(this)},t.ID="vs.git.stringEditorInput",t=g([v(6,l),v(7,a.IWorkbenchEditorService),v(8,c.IInstantiationService)],t)}(r.StringEditorInput);t.NativeGitIndexStringEditorInput=m}),define(l[1003],h([1,0,7,2,85,200,22,19,39,23,31,43,36]),function(e,t,n,i,r,o,s,a,c,u,l,h,p){"use strict";var f=function(e){function t(t,n,i,r,o,s,a,c){e.call(this),this.rangeHighlightDecorations=t,this.actionProvider=n,this.editorService=i,this.contextMenuService=r,this._keybindingService=a,this.telemetryService=c,this.contextMenu=o.createMenu(l.MenuId.ProblemsPanelContext,s)}return d(t,e),t.prototype.onLeftClick=function(t,n,i){var r=t.getFocus();if(e.prototype.onLeftClick.call(this,t,n,i)){if(this.openFileAtElement(n,2!==i.detail,i.ctrlKey||i.metaKey,2===i.detail))return!0;if(n instanceof o.MarkersModel)return r?t.setFocus(r):t.focusFirst(),!0}return!1},t.prototype.onEnter=function(t,n){return!!e.prototype.onEnter.call(this,t,n)&&this.openFileAtElement(t.getFocus(),!1,n.ctrlKey||n.metaKey,!0)},t.prototype.onSpace=function(t,n){var i=t.getFocus();return i instanceof o.Marker?(t.setSelection([i]),this.openFileAtElement(t.getFocus(),!0,!1,!1)):(this.rangeHighlightDecorations.removeHighlightRange(),e.prototype.onSpace.call(this,t,n))},t.prototype.onContextMenu=function(e,t,n){var r=this;e.setFocus(t);var o=this._getMenuActions();if(!o.length)return!0;var s={x:n.posx+1,y:n.posy};return this.contextMenuService.showContextMenu({getAnchor:function(){return s},getActions:function(){return i.TPromise.as(o)},getActionItem:function(e){var t=r._keybindingFor(e);return t?new h.ActionItem(e,e,{label:!0,keybinding:r._keybindingService.getLabelFor(t)}):null},getKeyBinding:function(e){return r._keybindingFor(e)},onHide:function(t){t&&e.DOMFocus()}}),!0},t.prototype.openFileAtElement=function(e,t,i,r){var s=this;if(e instanceof o.Marker){var a=e;return this.telemetryService.publicLog("problems.marker.opened",{source:a.marker.source}),this.editorService.openEditor({resource:a.resource,options:{selection:a.range,preserveFocus:t,pinned:r,revealIfVisible:!0}},i).done(function(e){t?s.rangeHighlightDecorations.highlightRange(a,e):s.rangeHighlightDecorations.removeHighlightRange()},n.onUnexpectedError),!0}return this.rangeHighlightDecorations.removeHighlightRange(),!1},t.prototype._getMenuActions=function(){for(var e=[],t=this.contextMenu.getActions(),n=0,i=t;n<i.length;n++){var r=i[n],o=r[1];e.push.apply(e,o),e.push(new h.Separator)}return e.pop(),e},t.prototype._keybindingFor=function(e){var t=this._keybindingService.lookupKeybindings(e.id);return t.length>0?t[0]:null},t=g([v(2,s.IWorkbenchEditorService),v(3,c.IContextMenuService),v(4,l.IMenuService),v(5,u.IContextKeyService),v(6,p.IKeybindingService),v(7,a.ITelemetryService)],t)}(r.DefaultController);t.Controller=f}),define(l[208],h([1,0,129,20,30,12,7,17,5,103,156,11,144,330,19,15,10,6,40,202,339]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C){"use strict";var w=function(){function e(e,t,n,i,r){this._parent=e,this._lineText=t,this._range=new y.Range(1+n,1+i,1+n,1+i+r),this._id=this._parent.id()+">"+n+">"+i+this.getMatchString()}return e.prototype.id=function(){return this._id},e.prototype.parent=function(){return this._parent},e.prototype.text=function(){return this._lineText},e.prototype.range=function(){return this._range},e.prototype.preview=function(){var e=this._lineText.substring(0,this._range.startColumn-1),t=this.getMatchString(),n=this._lineText.substring(this._range.endColumn-1,Math.min(this._range.endColumn+150,this._lineText.length));return e=o.lcut(e,26),{before:e,inside:t,after:n}},Object.defineProperty(e.prototype,"replaceString",{get:function(){var e=this.parent().parent().searchModel,t=this.getMatchString(),n=e.replacePattern.getReplaceString(t);return null===n&&(n=e.replacePattern.getReplaceString(t+this._lineText.substring(this._range.endColumn-1))),n},enumerable:!0,configurable:!0}),e.prototype.getMatchString=function(){return this._lineText.substring(this._range.startColumn-1,this._range.endColumn-1)},e}();t.Match=w;var I=function(e){function t(t,n,i,r,o){e.call(this),this._query=t,this._parent=n,this.rawMatch=i,this.modelService=r,this.replaceService=o,this._onChange=this._register(new h.Emitter),this.onChange=this._onChange.event,this._onDispose=this._register(new h.Emitter),this.onDispose=this._onDispose.event,this._modelDecorations=[],this._resource=this.rawMatch.resource,this._matches=new u.LinkedMap,this._removedMatches=new l.ArraySet,this._updateScheduler=new a.RunOnceScheduler(this.updateMatchesForModel.bind(this),250),this.createMatches(),this.registerListeners()}return d(t,e),t.getDecorationOption=function(e){return{stickiness:b.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:e?"currentFindMatch":"findMatch",overviewRuler:{color:"rgba(246, 185, 77, 0.7)",darkColor:"rgba(246, 185, 77, 0.7)",position:b.OverviewRulerLane.Center}}},t.prototype.createMatches=function(){var e=this,t=this.modelService.getModel(this._resource);t?(this.bindModel(t),this.updateMatchesForModel()):this.rawMatch.lineMatches.forEach(function(t){t.offsetAndLengths.forEach(function(n){var i=new w(e,t.preview,t.lineNumber,n[0],n[1]);e.add(i)})})},t.prototype.registerListeners=function(){var e=this;this._register(this.modelService.onModelAdded(function(t){t.uri.toString()===e._resource.toString()&&e.bindModel(t)}))},t.prototype.bindModel=function(e){var t=this;this._model=e,this._modelListener=this._model.onDidChangeContent(function(e){t._updateScheduler.schedule()}),this._model.onWillDispose(function(){return t.onModelWillDispose()}),this.updateHighlights()},t.prototype.onModelWillDispose=function(){this.updateMatchesForModel(),this.unbindModel()},t.prototype.unbindModel=function(){this._model&&(this._updateScheduler.cancel(),this._model.deltaDecorations(this._modelDecorations,[]),this._model=null,this._modelListener.dispose())},t.prototype.updateMatchesForModel=function(){if(this._model){this._matches=new u.LinkedMap;var e=this._model.findMatches(this._query.pattern,this._model.getFullModelRange(),this._query.isRegExp,this._query.isCaseSensitive,this._query.isWordMatch);this.updateMatches(e)}},t.prototype.updatesMatchesForLine=function(e){var t=this,n={startLineNumber:e,startColumn:this._model.getLineMinColumn(e),endLineNumber:e,endColumn:this._model.getLineMaxColumn(e)},i=this._matches.values().filter(function(t){return t.range().startLineNumber===e});i.forEach(function(e){return t._matches.delete(e.id())});var r=this._model.findMatches(this._query.pattern,n,this._query.isRegExp,this._query.isCaseSensitive,this._query.isWordMatch);this.updateMatches(r)},t.prototype.updateMatches=function(e){var t=this;e.forEach(function(e){var n=new w(t,t._model.getLineContent(e.startLineNumber),e.startLineNumber-1,e.startColumn-1,e.endColumn-e.startColumn);t._removedMatches.contains(n.id())||(t.add(n),t.isMatchSelected(n)&&(t._selectedMatch=n))}),this._onChange.fire(!0),this.updateHighlights()},t.prototype.updateHighlights=function(){var e=this;this._model&&(this.parent().showHighlights?this._modelDecorations=this._model.deltaDecorations(this._modelDecorations,this.matches().map(function(n){return{range:n.range(),options:t.getDecorationOption(e.isMatchSelected(n))}})):this._modelDecorations=this._model.deltaDecorations(this._modelDecorations,[]))},t.prototype.id=function(){return this.resource().toString()},t.prototype.parent=function(){return this._parent},t.prototype.matches=function(){return this._matches.values()},t.prototype.remove=function(e){this.removeMatch(e),this._removedMatches.set(e.id()),this._onChange.fire(!1)},t.prototype.replace=function(e){var t=this;return this.replaceService.replace(e).then(function(){return t.updatesMatchesForLine(e.range().startLineNumber)})},t.prototype.setSelectedMatch=function(e){if(e){if(!this._matches.has(e.id()))return;if(this.isMatchSelected(e))return}this._selectedMatch=e,this.updateHighlights()},t.prototype.getSelectedMatch=function(){return this._selectedMatch},t.prototype.isMatchSelected=function(e){return this._selectedMatch&&this._selectedMatch.id()===e.id()},t.prototype.count=function(){return this.matches().length},t.prototype.resource=function(){return this._resource},t.prototype.name=function(){return i.basename(this.resource().fsPath)},t.prototype.add=function(e,t){this._matches.set(e.id(),e),t&&this._onChange.fire(!0)},t.prototype.removeMatch=function(e){this._matches.delete(e.id()),this.isMatchSelected(e)?this.setSelectedMatch(null):this.updateHighlights()},t.prototype.dispose=function(){this.setSelectedMatch(null),this.unbindModel(),this._onDispose.fire(),e.prototype.dispose.call(this)},t=g([v(3,E.IModelService),v(4,_.IReplaceService)],t)}(c.Disposable);t.FileMatch=I;var T=function(e){function t(t,n,i,r){e.call(this),this._searchModel=t,this.replaceService=n,this.telemetryService=i,this.instantiationService=r,this._onChange=this._register(new h.Emitter),this.onChange=this._onChange.event,this._query=null,this._replacingAll=!1,this._fileMatches=new u.LinkedMap,this._unDisposedFileMatches=new u.LinkedMap,this._rangeHighlightDecorations=this.instantiationService.createInstance(C.RangeHighlightDecorations)}return d(t,e),Object.defineProperty(t.prototype,"query",{set:function(e){this._query=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchModel",{get:function(){return this._searchModel},enumerable:!0,configurable:!0}),t.prototype.add=function(e,t){var n=this;void 0===t&&(t=!1);var i=[];e.forEach(function(e){if(!n._fileMatches.has(e.resource)){var t=n.instantiationService.createInstance(I,n._query,n,e);n.doAdd(t),i.push(t);var r=t.onChange(function(){return n.onFileChange(t)});t.onDispose(function(){return r.dispose()})}}),t||this._onChange.fire({elements:i,added:!0})},t.prototype.clear=function(){var e=this.matches();this.disposeMatches(),this._onChange.fire({elements:e,removed:!0})},t.prototype.remove=function(e){this.doRemove(e)},t.prototype.replace=function(e){var t=this;return this.replaceService.replace([e]).then(function(){t.doRemove(e,!1,!0)})},t.prototype.replaceAll=function(e){var t=this;this._replacingAll=!0;var n=this.replaceService.replace(this.matches(),e),i=h.stopwatch(h.fromPromise(n));return i(function(e){return t.telemetryService.publicLog("replaceAll.started",{duration:e})}),n.then(function(){t._replacingAll=!1,t.clear()},function(){t._replacingAll=!1})},t.prototype.matches=function(){return this._fileMatches.values()},t.prototype.isEmpty=function(){return 0===this.fileCount()},t.prototype.fileCount=function(){return this._fileMatches.size},t.prototype.count=function(){return this.matches().reduce(function(e,t){return e+t.count()},0)},Object.defineProperty(t.prototype,"showHighlights",{get:function(){return this._showHighlights},enumerable:!0,configurable:!0}),t.prototype.toggleHighlights=function(e){if(this._showHighlights!==e){this._showHighlights=e;var t=null;this.matches().forEach(function(e){e.updateHighlights(),t||(t=e.getSelectedMatch())}),this._showHighlights&&t?this._rangeHighlightDecorations.highlightRange({resource:t.parent().resource(),range:t.range()}):this._rangeHighlightDecorations.removeHighlightRange()}},Object.defineProperty(t.prototype,"rangeHighlightDecorations",{get:function(){return this._rangeHighlightDecorations},enumerable:!0,configurable:!0}),t.prototype.onFileChange=function(e){var t=!1,n=!1;this._fileMatches.has(e.resource())||(this.doAdd(e),t=!0),0===e.count()&&(this.doRemove(e,!1,!1),t=!1,n=!0),this._replacingAll||this._onChange.fire({elements:[e],added:t,removed:n})},t.prototype.doAdd=function(e){this._fileMatches.set(e.resource(),e),this._unDisposedFileMatches.has(e.resource())&&this._unDisposedFileMatches.delete(e.resource())},t.prototype.doRemove=function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!0),this._fileMatches.delete(e.resource()),t?e.dispose():this._unDisposedFileMatches.set(e.resource(),e),n&&this._onChange.fire({elements:[e],removed:!0})},t.prototype.disposeMatches=function(){this._fileMatches.values().forEach(function(e){return e.dispose()}),this._unDisposedFileMatches.values().forEach(function(e){return e.dispose()}),this._fileMatches.clear(),this._unDisposedFileMatches.clear(),this._rangeHighlightDecorations.removeHighlightRange()},t.prototype.dispose=function(){this.disposeMatches(),this._rangeHighlightDecorations.dispose(),e.prototype.dispose.call(this)},t=g([v(1,_.IReplaceService),v(2,m.ITelemetryService),v(3,S.IInstantiationService)],t)}(c.Disposable);t.SearchResult=T;var x=function(e){function t(t,n,i){e.call(this),this.searchService=t,this.telemetryService=n,this.instantiationService=i,this._searchQuery=null,this._replaceActive=!1,this._replaceString=null,this._replacePattern=null,this._searchResult=this.instantiationService.createInstance(T,this)}return d(t,e),t.prototype.isReplaceActive=function(){return this._replaceActive},Object.defineProperty(t.prototype,"replaceActive",{set:function(e){this._replaceActive=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"replacePattern",{get:function(){return this._replacePattern},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"replaceString",{get:function(){return this._replaceString},set:function(e){this._replaceString=e,this._searchQuery&&(this._replacePattern=new f.ReplacePattern(e,this._searchQuery.contentPattern))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchResult",{get:function(){return this._searchResult},enumerable:!0,configurable:!0}),t.prototype.search=function(e){var t=this;this.cancelSearch(),this.searchResult.clear(),this._searchQuery=e,this._searchResult.query=this._searchQuery.contentPattern,this._replacePattern=new f.ReplacePattern(this._replaceString,this._searchQuery.contentPattern);var i=n.start(n.Topic.WORKBENCH,"Search");this.currentRequest=this.searchService.search(this._searchQuery);var r=h.fromPromise(this.currentRequest),o=h.stopwatch(r),s=Date.now();r(function(){return i.stop()}),o(function(e){return t.telemetryService.publicLog("searchResultsFinished",{duration:e})});var a=new h.Emitter,c=h.any(r,a.event),u=h.stopwatch(c);return u(function(e){return t.telemetryService.publicLog("searchResultsFirstRender",{duration:e})}),this.currentRequest.then(function(e){return t.onSearchCompleted(e,Date.now()-s)},function(e){return t.onSearchError(e,Date.now()-s)},function(e){a.fire(),t.onSearchProgress(e)}),this.currentRequest},t.prototype.onSearchCompleted=function(e,t){e&&this._searchResult.add(e.results,!1);var n=r.assign({},this._searchQuery.contentPattern);return delete n.pattern,this.telemetryService.publicLog("searchResultsShown",{count:this._searchResult.count(),fileCount:this._searchResult.fileCount(),options:n,duration:t}),e},t.prototype.onSearchError=function(e,t){s.isPromiseCanceledError(e)&&this.onSearchCompleted(null,t)},t.prototype.onSearchProgress=function(e){e.resource&&this._searchResult.add([e],!0)},t.prototype.cancelSearch=function(){return!!this.currentRequest&&(this.currentRequest.cancel(),this.currentRequest=null,!0)},t.prototype.dispose=function(){this.cancelSearch(),this.searchResult.dispose(),e.prototype.dispose.call(this)},t=g([v(0,p.ISearchService),v(1,m.ITelemetryService),v(2,S.IInstantiationService)],t)}(c.Disposable);t.SearchModel=x}),define(l[1005],h([1,0,605,7,2,16,120,103,66,40,47,208,234,126,19,73]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m){"use strict";var y=function(){function e(e,t){this.modelService=e,this.textModelResolverService=t,this.textModelResolverService.registerTextModelContentProvider(s.Schemas.internal,this)}return e.prototype.getId=function(){return"replace.preview.contentprovider"},e.prototype.provideTextContent=function(e){var t=this;if("preview"===e.fragment){var n=e.with({scheme:s.Schemas.file,fragment:""});return this.textModelResolverService.createModelReference(n).then(function(n){var i=n.object.textEditorModel,r=t.modelService.createModel(i.getValue(),i.getMode(),e);return n.dispose(),r})}return null},e=g([v(0,u.IModelService),v(1,m.ITextModelResolverService)],e)}();t.ReplacePreviewContentProvider=y;var b=function(){function e(e,t,n){this.replaceService=e,this.editorService=t,this.textModelResolverService=n,this.cache=new a.LinkedMap}return e.prototype.hasInput=function(e){return this.cache.has(e.resource())},e.prototype.getInput=function(e){var t=this,n=this.cache.get(e.resource());return n||(n=this.createInput(e),this.cache.set(e.resource(),n),this.refreshInput(e,!0),e.onDispose(function(){return t.disposeInput(e)}),e.onChange(function(n){return t.refreshInput(e,n)})),n},e.prototype.refreshInput=function(e,t){var n=this;void 0===t&&(t=!1);var i=this.cache.get(e.resource());i&&i.then(function(i){i.modifiedInput.resolve().then(function(i){var r=i.textEditorModel;t?n.textModelResolverService.createModelReference(e.resource()).done(function(t){var i=t.object;i.textEditorModel&&(r.setValue(i.textEditorModel.getValue()),n.replaceService.replace(e,null,r.uri)),t.dispose()}):(r.undo(),n.replaceService.replace(e,null,r.uri))})})},e.prototype.disposeInput=function(e){var t=this,n=e instanceof o.default?e:e instanceof h.FileMatch?e.resource():null;if(n){var i=this.cache.get(n);i&&i.done(function(e){t.cleanInput(n),e.dispose()})}},e.prototype.disposeAll=function(){var e=this;this.cache.keys().forEach(function(t){return e.disposeInput(t)})},e.prototype.createInput=function(e){var t=this;return r.TPromise.join([this.createLeftInput(e),this.createRightInput(e)]).then(function(i){var r=i[0],o=i[1],s=new p.DiffEditorInput(n.localize(0,null,e.name(),e.name()),(void 0),r,o);return s.onDispose(function(){return t.cleanInput(e.resource())}),s})},e.prototype.createLeftInput=function(e){return this.editorService.createInput({resource:e.resource()})},e.prototype.createRightInput=function(e){return this.editorService.createInput({resource:e.resource().with({scheme:s.Schemas.internal,fragment:"preview"})})},e.prototype.cleanInput=function(e){this.cache.delete(e)},e}(),S=function(){function e(e,t,n,i,r){this.telemetryService=e,this.eventService=t,this.editorService=n,this.modelService=i,this.textModelResolverService=r,this.cache=new b(this,n,r)}return e.prototype.replace=function(e,t,n){var i=this;void 0===t&&(t=null),void 0===n&&(n=null);var r=d.createBulkEdit(this.eventService,this.textModelResolverService,null);if(r.progress(t),e instanceof h.Match){var o=e;r.add([this.createEdit(o,o.replaceString,n)])}return e instanceof h.FileMatch&&(e=[e]),e instanceof Array&&e.forEach(function(e){var t=e;t.count()>0&&t.matches().forEach(function(e){r.add([i.createEdit(e,e.replaceString,n)])})}),r.finish()},e.prototype.getInput=function(e){return this.cache.getInput(e)},e.prototype.refreshInput=function(e,t){void 0===t&&(t=!1),this.cache.refreshInput(e,t)},e.prototype.disposeAllInputs=function(){this.cache.disposeAll()},e.prototype.openReplacePreviewEditor=function(e,t,n,r){var o=this;return this.telemetryService.publicLog("replace.open.previewEditor"),this.getInput(e instanceof h.Match?e.parent():e).then(function(n){o.editorService.openEditor(n,{preserveFocus:t,pinned:r,revealIfVisible:!0}).then(function(t){var n=t.getControl();e instanceof h.Match&&n.revealLineInCenter(e.range().startLineNumber)},i.onUnexpectedError)},i.onUnexpectedError)},e.prototype.isReplacePreviewEditorOpened=function(e){return this.cache.hasInput(e instanceof h.Match?e.parent():e)},e.prototype.createEdit=function(e,t,n){void 0===n&&(n=null);var i=e.parent(),r={resource:null!==n?n:i.resource(),range:e.range(),newText:t};return r},e=g([v(0,f.ITelemetryService),v(1,l.IEventService),v(2,c.IEditorService),v(3,u.IModelService),v(4,m.ITextModelResolverService)],e)}();t.ReplaceService=S}),define(l[1006],h([1,0,102,202,1005,14,71]),function(e,t,n,i,r,o,s){"use strict";function a(){n.registerSingleton(i.IReplaceService,r.ReplaceService),o.Registry.as(s.Extensions.Workbench).registerWorkbenchContribution(r.ReplacePreviewContentProvider)}t.registerContributions=a}),define(l[1007],h([1,0,20,21,2,17,51,25,34,22,28]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";var h=function(){function e(e,t,i,r,o,s){var a=this;this.editorService=i,this.configurationService=o,this.commandService=s,this._workspaceRoot=n.normalize(e?e.fsPath:"",!0),this._execPath=r.execPath,Object.keys(t).forEach(function(e){a["env."+e]=t[e]})}return Object.defineProperty(e.prototype,"execPath",{get:function(){return this._execPath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cwd",{get:function(){return this.workspaceRoot},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workspaceRoot",{get:function(){return this._workspaceRoot},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workspaceRootFolderName",{get:function(){return this.workspaceRoot?n.basename(this.workspaceRoot):""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"file",{get:function(){return this.getFilePath()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeFile",{get:function(){return this.workspaceRoot?n.relative(this.workspaceRoot,this.file):this.file},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fileBasename",{get:function(){return n.basename(this.getFilePath())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fileBasenameNoExtension",{get:function(){var e=this.fileBasename;return e.slice(0,e.length-n.extname(e).length)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fileDirname",{get:function(){return n.dirname(this.getFilePath())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fileExtname",{get:function(){return n.extname(this.getFilePath());
},enumerable:!0,configurable:!0}),e.prototype.getFilePath=function(){var e=this.editorService.getActiveEditorInput();if(!e)return"";var t=l.asFileEditorInput(e);if(!t)return"";var i=t.getResource();return n.normalize(i.fsPath,!0)},e.prototype.resolve=function(e){return i.isString(e)?this.resolveString(e):i.isArray(e)?this.resolveArray(e):i.isObject(e)?this.resolveLiteral(e):e},e.prototype.resolveAny=function(e){return i.isString(e)?this.resolveString(e):i.isArray(e)?this.resolveAnyArray(e):i.isObject(e)?this.resolveAnyLiteral(e):e},e.prototype.resolveString=function(e){var t=this,n=/\$\{(.*?)\}/g,r=e,o=e.replace(n,function(e,n){var r=t[n];return i.isString(r)?r:e&&e.indexOf("env.")>0?"":e});return this.resolveConfigVariable(o,r)},e.prototype.resolveConfigVariable=function(e,t){var n=this,r=/\$\{config\.(.+?)\}/g;return e.replace(r,function(e,r){var o,s=n.configurationService.getConfiguration();try{var a=r.split(".");if(!a||a.length<=0)return"";for(;a.length>1;){var c=a.shift();if(!s||!s.hasOwnProperty(c))return"";s=s[c]}o=s&&s.hasOwnProperty(a[0])?s[a[0]]:""}catch(e){return""}return i.isString(o)?o===t?"":n.resolveString(o):n.resolve(o)+""})},e.prototype.resolveLiteral=function(e){var t=this,n=Object.create(null);return Object.keys(e).forEach(function(i){var r=e[i];n[i]=t.resolve(r)}),n},e.prototype.resolveAnyLiteral=function(e){var t=this,n=Object.create(null);return Object.keys(e).forEach(function(i){var r=e[i];n[i]=t.resolveAny(r)}),n},e.prototype.resolveArray=function(e){var t=this;return e.map(function(e){return t.resolveString(e)})},e.prototype.resolveAnyArray=function(e){var t=this;return e.map(function(e){return t.resolveAny(e)})},e.prototype.resolveInteractiveVariables=function(e,t){var n=this;if(!e)return r.TPromise.as(null);var i={},s=function(e){Object.keys(e).forEach(function(t){if(e[t]&&"object"==typeof e[t])s(e[t]);else if("string"==typeof e[t]){var n=/\${command.(.+)}/.exec(e[t]);if(n&&2===n.length){var r=n[1];i[r]||(i[r]=[]),i[r].push({object:e,key:t})}}})};s(e);var a=Object.keys(i).map(function(r){return function(){var o=null;return o=t?t[r]:null,o||(o=r),n.commandService.executeCommand(o,e).then(function(e){i[r].forEach(function(t){return t.object[t.key]=t.object[t.key].replace("${command."+r+"}",e)})})}});return o.sequence(a).then(function(){return e})},e=g([v(2,u.IWorkbenchEditorService),v(3,s.IEnvironmentService),v(4,a.IConfigurationService),v(5,c.ICommandService)],e)}();t.ConfigurationResolverService=h}),define(l[246],h([1,0,16,33]),function(e,t,n,i){"use strict";function r(e){return new i.FileChangesEvent(e.map(function(e){return{type:e.type,resource:n.default.file(e.path)}}))}function o(e){for(var t=new s,n=0;n<e.length;n++){var i=e[n];t.processEvent(i)}return t.normalize()}t.toFileChangesEvent=r,t.normalize=o;var s=function(){function e(){this.normalized=[],this.mapPathToChange=Object.create(null)}return e.prototype.processEvent=function(e){var t=this.mapPathToChange[e.path];if(t){var n=t.type,r=e.type;n===i.FileChangeType.ADDED&&r===i.FileChangeType.DELETED?(delete this.mapPathToChange[e.path],this.normalized.splice(this.normalized.indexOf(t),1)):n===i.FileChangeType.DELETED&&r===i.FileChangeType.ADDED?t.type=i.FileChangeType.UPDATED:n===i.FileChangeType.ADDED&&r===i.FileChangeType.UPDATED||(t.type=r)}else this.normalized.push(e),this.mapPathToChange[e.path]=e},e.prototype.normalize=function(){var e=[],t=[];return this.normalized.filter(function(t){return 2===t.type||(e.push(t),!1)}).sort(function(e,t){return e.path.length-t.path.length}).filter(function(e){return!t.some(function(t){return i.isParent(e.path,t)})&&(t.push(e.path),!0)}).concat(e)},e}()}),define(l[1009],h([1,0]),function(e,t){"use strict";var n=function(){function e(e){this.service=e}return e.prototype.call=function(e,t){switch(e){case"watch":return this.service.watch(t)}},e}();t.WatcherChannel=n;var i=function(){function e(e){this.channel=e}return e.prototype.watch=function(e){return this.channel.call("watch",e)},e}();t.WatcherChannelClient=i}),define(l[1010],h([1,0,2,110,211,16,33,246,1009]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(){function t(e,t,n,i,r){this.basePath=e,this.ignored=t,this.eventEmitter=n,this.errorLogger=i,this.verboseLogging=r,this.isDisposed=!1,this.restartCounter=0}return t.prototype.startWatching=function(){var s=this,a=["--type=watcherService"],u=new r.Client(o.default.parse(e.toUrl("bootstrap")).fsPath,{serverName:"Watcher",args:a,env:{AMD_ENTRYPOINT:"vs/workbench/services/files/node/watcher/unix/watcherApp",PIPE_LOGGING:"true",VERBOSE_LOGGING:this.verboseLogging}}),l=i.getNextTickChannel(u.getChannel("watcher")),h=new c.WatcherChannelClient(l);return h.watch({basePath:this.basePath,ignored:this.ignored,verboseLogging:this.verboseLogging}).then(null,function(e){if(!(e instanceof Error&&"Canceled"===e.name&&"Canceled"===e.message))return n.TPromise.wrapError(e)},function(e){return s.onRawFileEvents(e)}).done(function(){s.isDisposed||(s.restartCounter<=t.MAX_RESTARTS?(s.errorLogger("[FileWatcher] terminated unexpectedly and is restarted again..."),s.restartCounter++,s.startWatching()):s.errorLogger("[FileWatcher] failed to start after retrying for some time, giving up. Please report this as a bug report!"))},this.errorLogger),function(){u.dispose(),s.isDisposed=!0}},t.prototype.onRawFileEvents=function(e){e.length>0&&this.eventEmitter.emit(s.EventType.FILE_CHANGES,a.toFileChangesEvent(e))},t.MAX_RESTARTS=5,t}();t.FileWatcher=u}),define(l[1011],h([1,0,121,33,378,142,16]),function(e,t,n,i,r,o,s){"use strict";var a=function(){function t(e,t,n,i,r){this.watchedFolder=e,this.ignored=t,this.eventCallback=n,this.errorCallback=i,this.verboseLogging=r,this.restartCounter=0,this.startWatcher()}return t.prototype.startWatcher=function(){var i=this,a=[this.watchedFolder];this.verboseLogging&&a.push("-verbose"),this.handle=n.spawn(s.default.parse(e.toUrl("vs/workbench/services/files/node/watcher/win32/CodeHelper.exe")).fsPath,a);var c=new r.LineDecoder;this.handle.stdout.on("data",function(e){var n=[];c.write(e).forEach(function(e){var r=e.split("|");if(2===r.length){var s=Number(r[0]),a=r[1];if(s>=0&&s<3){if(i.ignored&&i.ignored.some(function(e){return o.match(e,a)}))return;n.push({type:t.changeTypeMap[s],path:a})}else console.log("%c[File Watcher]","color: darkgreen",r[1])}}),n.length>0&&i.eventCallback(n)}),this.handle.on("error",function(e){return i.onError(e)}),this.handle.stderr.on("data",function(e){return i.onError(e)}),this.handle.on("exit",function(e,t){return i.onExit(e,t)})},t.prototype.onError=function(e){this.errorCallback("[FileWatcher] process error: "+e.toString())},t.prototype.onExit=function(e,n){this.handle&&(this.errorCallback("[FileWatcher] terminated unexpectedly (code: "+e+", signal: "+n+")"),this.restartCounter<=t.MAX_RESTARTS?(this.errorCallback("[FileWatcher] is restarted again..."),this.restartCounter++,this.startWatcher()):this.errorCallback("[FileWatcher] Watcher failed to start after retrying for some time, giving up. Please report this as a bug report!"))},t.prototype.dispose=function(){this.handle&&(this.handle.kill(),this.handle=null)},t.MAX_RESTARTS=5,t.changeTypeMap=[i.FileChangeType.UPDATED,i.FileChangeType.ADDED,i.FileChangeType.DELETED],t}();t.OutOfProcessWin32FolderWatcher=a}),define(l[1012],h([1,0,33,246,1011]),function(e,t,n,i,r){"use strict";var o=function(){function e(e,t,n,i,r){this.basePath=e,this.ignored=t,this.eventEmitter=n,this.errorLogger=i,this.verboseLogging=r}return e.prototype.startWatching=function(){var e=this,t=new r.OutOfProcessWin32FolderWatcher(this.basePath,this.ignored,function(t){return e.onRawFileEvents(t)},function(t){return e.onError(t)},this.verboseLogging);return function(){return t.dispose()}},e.prototype.onRawFileEvents=function(e){e.length>0&&this.eventEmitter.emit(n.EventType.FILE_CHANGES,i.toFileChangesEvent(e))},e.prototype.onError=function(e){this.errorLogger(e)},e}();t.FileWatcher=o}),define(l[1013],h([1,0,70,117,107,182,872,33,12,35,98,20,2,21,30,250,17,16,632,13,74,171,245,372,1010,1012,246]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,g,v,m,y,b,S,E,_,C,w,I,T){"use strict";function x(e,t){var n,i;return"number"==typeof t?(n=e,i=t):(n=e.size,i=e.mtime.getTime()),'"'+o.createHash("sha1").update(String(n)+String(i)).digest("hex")+'"'}var A=function(){function e(t,i,o){if(this.eventEmitter=o,this.basePath=t?n.normalize(t):void 0,this.basePath&&0===this.basePath.indexOf("\\\\")&&c.endsWith(this.basePath,n.sep)&&(this.basePath=c.rtrim(this.basePath,n.sep)),this.basePath&&!n.isAbsolute(t))throw new Error("basePath has to be an absolute path");this.options=i||Object.create(null),this.tmpPath=this.options.tmpDir||r.tmpdir(),this.options.errorLogger||(this.options.errorLogger=console.error),this.basePath&&!this.options.disableWatcher&&(b.isWindows?this.setupWin32WorkspaceWatching():this.setupUnixWorkspaceWatching()),this.activeFileChangesWatchers=Object.create(null),this.fileChangesWatchDelayer=new v.ThrottledDelayer(e.FS_EVENT_DELAY),this.undeliveredRawFileChangesEvents=[]}return e.prototype.updateOptions=function(e){e&&f.mixin(this.options,e)},e.prototype.setupWin32WorkspaceWatching=function(){this.workspaceWatcherToDispose=new I.FileWatcher(this.basePath,this.options.watcherIgnoredPatterns,this.eventEmitter,this.options.errorLogger,this.options.verboseLogging).startWatching()},e.prototype.setupUnixWorkspaceWatching=function(){this.workspaceWatcherToDispose=new w.FileWatcher(this.basePath,this.options.watcherIgnoredPatterns,this.eventEmitter,this.options.errorLogger,this.options.verboseLogging).startWatching()},e.prototype.resolveFile=function(e,t){return this.resolve(e,t)},e.prototype.existsFile=function(e){return this.resolveFile(e).then(function(){return!0},function(){return!1})},e.prototype.resolveContent=function(e,t){var n=this;return this.doResolveContent(e,t,function(e,t,i){return n.resolveFileContent(e,t,i)})},e.prototype.resolveStreamContent=function(e,t){var n=this;return this.doResolveContent(e,t,function(e,t,i){return n.resolveFileStreamContent(e,t,i)})},e.prototype.doResolveContent=function(e,t,n){var i=this,r=this.toAbsolutePath(e);return"file"===e.scheme&&e.fsPath?v.nfcall(_.detectMimesFromFile,r).then(function(r){var o=r.mimes.indexOf(l.MIME_BINARY)===-1;if(t&&t.acceptTextOnly&&!o)return d.TPromise.wrapError({message:y.localize(1,null),fileOperationResult:a.FileOperationResult.FILE_IS_BINARY});var s;return t&&t.encoding?s=r.encoding===E.UTF8&&t.encoding===E.UTF8?E.UTF8_with_bom:t.encoding:r.encoding?s=r.encoding===E.UTF8?E.UTF8_with_bom:r.encoding:i.options.encoding===E.UTF8_with_bom&&(s=E.UTF8),n(e,t&&t.etag,s)},function(e){return p.isUndefinedOrNull(e.fileOperationResult)?S.exists(r).then(function(t){return t?S.stat(r).then(function(t){return t.isDirectory()?d.TPromise.wrapError({message:y.localize(3,null,r),fileOperationResult:a.FileOperationResult.FILE_IS_DIRECTORY}):d.TPromise.wrapError(e)}):d.TPromise.wrapError({message:y.localize(2,null,r),fileOperationResult:a.FileOperationResult.FILE_NOT_FOUND})}):d.TPromise.wrapError(e)}):d.TPromise.wrapError({message:y.localize(0,null,e.toString()),fileOperationResult:a.FileOperationResult.FILE_INVALID_PATH})},e.prototype.resolveContents=function(t){var n=this,i=new v.Limiter(e.MAX_DEGREE_OF_PARALLEL_FS_OPS),r=[];return t.forEach(function(e){r.push(i.queue(function(){return n.resolveFileContent(e).then(function(e){return e},function(e){return d.TPromise.as(null)})}))}),d.TPromise.join(r).then(function(e){return u.coalesce(e)})},e.prototype.updateContent=function(e,t,i){var r=this;void 0===i&&(i=Object.create(null));var o=this.toAbsolutePath(e);return this.checkFile(o,i).then(function(s){var a;return a=s?d.TPromise.as(null):S.mkdirp(n.dirname(o)),a.then(function(){var n=r.getEncoding(e,i.encoding),a=d.TPromise.as(!1);return n===E.UTF16be||n===E.UTF16le||n===E.UTF8_with_bom?a=d.TPromise.as(!0):s&&n===E.UTF8&&(a=i.overwriteEncoding?d.TPromise.as(!1):v.nfcall(E.detectEncodingByBOM,o).then(function(e){return e===E.UTF8})),a.then(function(i){var s;if(i||n!==E.UTF8){var a=E.encode(t,n,{addBOM:i});s=S.writeFile(o,a)}else s=S.writeFile(o,t,E.UTF8);return s.then(function(){return r.resolve(e)})})})})},e.prototype.createFile=function(e,t){return void 0===t&&(t=""),this.updateContent(e,t)},e.prototype.createFolder=function(e){var t=this,n=this.toAbsolutePath(e);return S.mkdirp(n).then(function(){return t.resolve(e)})},e.prototype.touchFile=function(e){var t=this,n=this.toAbsolutePath(e);return this.checkFile(n).then(function(i){var r;return r=i?d.TPromise.as(null):t.createFile(e),r.then(function(){return S.touch(n).then(function(){return t.resolve(e)})})})},e.prototype.rename=function(e,t){var i=n.join(n.dirname(e.fsPath),t);return this.moveFile(e,m.default.file(i))},e.prototype.moveFile=function(e,t,n){return this.moveOrCopyFile(e,t,!1,n)},e.prototype.copyFile=function(e,t,n){return this.moveOrCopyFile(e,t,!0,n)},e.prototype.moveOrCopyFile=function(e,t,n,i){var r=this,o=this.toAbsolutePath(e),s=this.toAbsolutePath(t);return this.doMoveOrCopyFile(o,s,n,i).then(function(){return r.resolve(t)})},e.prototype.doMoveOrCopyFile=function(e,t,i,r){var o=this;return S.exists(t).then(function(s){var c=e.toLowerCase()===t.toLowerCase(),u=e===t;if(s&&!c&&!r)return d.TPromise.wrapError({fileOperationResult:a.FileOperationResult.FILE_MOVE_CONFLICT});var l=d.TPromise.as(null);if(s&&!c){if(h.isEqualOrParent(e,t))return d.TPromise.wrapError(y.localize(4,null));l=o.del(m.default.file(t))}return l.then(function(){return S.mkdirp(n.dirname(t)).then(function(){return u?d.TPromise.as(null):i?v.nfcall(g.copy,e,t):v.nfcall(g.mv,e,t)}).then(function(){return s})})})},e.prototype.importFile=function(e,t){var i=this,r=this.toAbsolutePath(e),o=m.default.file(n.join(t.fsPath,n.basename(e.fsPath))),s=this.toAbsolutePath(o);return S.stat(r).then(function(e){return e.isDirectory()?d.TPromise.wrapError(y.localize(5,null)):i.doMoveOrCopyFile(r,s,!0,!0).then(function(e){return i.resolve(o).then(function(t){return{isNew:!e,stat:t}})})})},e.prototype.del=function(e){var t=this.toAbsolutePath(e);return v.nfcall(g.del,t,this.tmpPath)},e.prototype.toAbsolutePath=function(e){var t;return t=e instanceof m.default?e:e.resource,s.ok(t&&"file"===t.scheme,"Invalid resource: "+t),n.normalize(t.fsPath)},e.prototype.resolve=function(e,t){return void 0===t&&(t=Object.create(null)),this.toStatResolver(e).then(function(e){return e.resolve(t)})},e.prototype.toStatResolver=function(e){var t=this,n=this.toAbsolutePath(e);return S.stat(n).then(function(n){return new D(e,n.isDirectory(),n.mtime.getTime(),n.size,t.options.verboseLogging)})},e.prototype.resolveFileStreamContent=function(e,t,n){var r=this,o=this.toAbsolutePath(e);return this.resolve(e).then(function(e){if(t&&t===e.etag)return d.TPromise.wrapError({fileOperationResult:a.FileOperationResult.FILE_NOT_MODIFIED_SINCE});if(p.isNumber(e.size)&&e.size>a.MAX_FILE_SIZE)return d.TPromise.wrapError({fileOperationResult:a.FileOperationResult.FILE_TOO_LARGE});var s=r.getEncoding(e.resource,n),c=i.createReadStream(o).pipe(E.decodeStream(s)),u=e;return u.value=c,u.encoding=s,d.TPromise.as(u)})},e.prototype.resolveFileContent=function(e,t,n){return this.resolveFileStreamContent(e,t,n).then(function(e){return new d.TPromise(function(t,n){var i=!1,r=[];e.value.on("data",function(e){r.push(e)}),e.value.on("error",function(e){i||(i=!0,n(e))}),e.value.on("end",function(){var n=e;n.value=r.join(""),i||(i=!0,t(n))})})})},e.prototype.getEncoding=function(e,t){var n,i=this.getEncodingOverride(e);return n=i?i:t?t:this.options.encoding,n&&E.encodingExists(n)||(n=E.UTF8),n},e.prototype.getEncodingOverride=function(e){if(e&&this.options.encodingOverride&&this.options.encodingOverride.length)for(var t=0;t<this.options.encodingOverride.length;t++){var n=this.options.encodingOverride[t];if(0===e.toString().indexOf(n.resource.toString()+"/"))return n.encoding}return null},e.prototype.checkFile=function(e,t){return void 0===t&&(t=Object.create(null)),S.exists(e).then(function(n){return n?S.stat(e).then(function(i){if(i.isDirectory())return d.TPromise.wrapError(new Error("Expected file is actually a directory"));if("number"==typeof t.mtime&&"string"==typeof t.etag&&t.mtime<i.mtime.getTime()&&t.etag!==x(i.size,t.mtime))return d.TPromise.wrapError({message:"File Modified Since",fileOperationResult:a.FileOperationResult.FILE_MODIFIED_SINCE});var r=i.mode,o=!(128&r);return o&&!t.overwriteReadonly?d.TPromise.wrapError({message:y.localize(6,null),fileOperationResult:a.FileOperationResult.FILE_READ_ONLY}):o?(r=128|r,S.chmod(e,r).then(function(){return n})):d.TPromise.as(n)}):d.TPromise.as(n)})},e.prototype.watchFileChanges=function(t){var r=this;s.ok(t&&"file"===t.scheme,"Invalid resource for watching: "+t);var o=this.activeFileChangesWatchers[t.toString()];if(!o){var c=t.fsPath;try{o=i.watch(c)}catch(e){return}this.activeFileChangesWatchers[t.toString()]=o;var u=n.basename(t.fsPath);o.on("change",function(n,i){var o=i&&i!==u||"rename"===n;if(o){if(b.isWindows)return;r.unwatchFileChanges(t),setTimeout(function(){r.watchFileChanges(t)},e.FS_REWATCH_DELAY)}r.undeliveredRawFileChangesEvents.push({type:a.FileChangeType.UPDATED,path:c}),r.fileChangesWatchDelayer.trigger(function(){var e=r.undeliveredRawFileChangesEvents;r.undeliveredRawFileChangesEvents=[];var t=T.normalize(e);return r.eventEmitter.emit(a.EventType.FILE_CHANGES,T.toFileChangesEvent(t)),d.TPromise.as(null)})}),o.on("error",function(e){r.options.errorLogger(e)})}},e.prototype.unwatchFileChanges=function(e){var t="string"==typeof e?m.default.parse(e):e,n=this.activeFileChangesWatchers[t.toString()];n&&(n.close(),delete this.activeFileChangesWatchers[t.toString()])},e.prototype.dispose=function(){this.workspaceWatcherToDispose&&(this.workspaceWatcherToDispose(),this.workspaceWatcherToDispose=null);for(var e in this.activeFileChangesWatchers){var t=this.activeFileChangesWatchers[e];t.close()}this.activeFileChangesWatchers=Object.create(null)},e.FS_EVENT_DELAY=50,e.FS_REWATCH_DELAY=300,e.MAX_DEGREE_OF_PARALLEL_FS_OPS=10,e}();t.FileService=A;var D=function(){function e(e,t,i,r,o){s.ok(e&&"file"===e.scheme,"Invalid resource: "+e),this.resource=e,this.isDirectory=t,this.mtime=i,this.name=n.basename(e.fsPath),this.etag=x(r,i),this.size=r,this.verboseLogging=o}return e.prototype.resolve=function(e){var t=this,n={resource:this.resource,isDirectory:this.isDirectory,hasChildren:void 0,name:this.name,etag:this.etag,size:this.size,mtime:this.mtime};if(this.isDirectory){var i=null;return e&&e.resolveTo&&(i=[],e.resolveTo.forEach(function(e){i.push(e.fsPath)})),new d.TPromise(function(r,o){t.resolveChildren(t.resource.fsPath,i,e&&e.resolveSingleChildDescendants,function(e){e=u.coalesce(e),n.hasChildren=e&&e.length>0,n.children=e||[],r(n)})})}return d.TPromise.as(n)},e.prototype.resolveChildren=function(e,t,r,o){var s=this;g.readdir(e,function(a,c){return a?(s.verboseLogging&&console.error(a),o(null)):void C.parallel(c,function(o,a){var l,d=m.default.file(n.resolve(e,o)),p=s;C.sequence(function(e){p.verboseLogging&&console.error(e),a(null,null)},function(){i.stat(d.fsPath,this)},function(e){var t=this;l=e,l.isDirectory()?g.readdir(d.fsPath,function(e,n){t(null,n?n.length:0)}):this(null,0)},function(e){var n={resource:d,isDirectory:l.isDirectory(),hasChildren:e>0,name:o,mtime:l.mtime.getTime(),etag:x(l),size:l.size};if(!l.isDirectory())return a(null,n);var i=!1;1===c.length&&r?i=!0:e>0&&t&&t.some(function(e){return h.isEqualOrParent(e,d.fsPath)})&&(i=!0),i?p.resolveChildren(d.fsPath,t,r,function(e){e=u.coalesce(e),n.hasChildren=e&&e.length>0,n.children=e||[],a(null,n)}):a(null,n)})},function(e,t){o(t)})})},e}();t.StatResolver=D}),define(l[41],h([1,0,6]),function(e,t,n){"use strict";!function(e){e[e.MINIMIZE_OTHERS=0]="MINIMIZE_OTHERS",e[e.EVEN=1]="EVEN"}(t.GroupArrangement||(t.GroupArrangement={}));t.GroupArrangement;t.IEditorGroupService=n.createDecorator("editorGroupService")}),define(l[344],h([1,0,2,24,559,20,81,13,32,22,28,18,41,63,83]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m){"use strict";var y=function(e){function t(t,n){e.call(this,"workbench.action.files.revealInWindows",a.isWindows?r.localize(0,null):a.isMacintosh?r.localize(1,null):r.localize(2,null)),this.windowsService=n,this.resource=t,this.order=45}return d(t,e),t.prototype.run=function(){return this.windowsService.showItemInFolder(o.normalize(this.resource.fsPath,!0)),n.TPromise.as(!0)},t=g([v(1,f.IWindowsService)],t)}(i.Action);t.RevealInOSAction=y;var b=function(e){function t(t,n,i,r,o){e.call(this,t,n),this.editorService=i,this.windowsService=r,this.messageService=o}return d(t,e),t.prototype.run=function(){var e=l.asFileEditorInput(this.editorService.getActiveEditorInput(),!0);return e?this.windowsService.showItemInFolder(o.normalize(e.getResource().fsPath,!0)):this.messageService.show(c.default.Info,r.localize(6,null)),n.TPromise.as(!0)},t.ID="workbench.action.files.revealActiveFileInWindows",t.LABEL=a.isWindows?r.localize(3,null):a.isMacintosh?r.localize(4,null):r.localize(5,null),t=g([v(2,u.IWorkbenchEditorService),v(3,f.IWindowsService),v(4,h.IMessageService)],t)}(i.Action);t.GlobalRevealInOSAction=b;var S=function(e){function t(t){e.call(this,"workbench.action.files.copyPath",r.localize(7,null)),this.resource=t,this.order=140}return d(t,e),t.prototype.run=function(){return m.clipboard.writeText(s.getPathLabel(this.resource)),n.TPromise.as(!0)},t}(i.Action);t.CopyPathAction=S;var E=function(e){function t(t,n,i,r,o){e.call(this,t,n),this.editorService=i,this.editorGroupService=r,this.messageService=o}return d(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor(),t=e?l.asFileEditorInput(e.input,!0):void 0;return t?(m.clipboard.writeText(s.getPathLabel(t.getResource())),this.editorGroupService.focusGroup(e.position)):this.messageService.show(c.default.Info,r.localize(9,null)),n.TPromise.as(!0)},t.ID="workbench.action.files.copyPathOfActiveFile",t.LABEL=r.localize(8,null),t=g([v(2,u.IWorkbenchEditorService),v(3,p.IEditorGroupService),v(4,h.IMessageService)],t)}(i.Action);t.GlobalCopyPathAction=E;var _=function(e){function t(t,n,i,r){e.call(this,t,n),this.editorService=i,this.windowService=r}return d(t,e),t.prototype.run=function(){var e=l.asFileEditorInput(this.editorService.getActiveEditorInput(),!0);return e?this.windowService.openFilePicker(!1,o.dirname(e.getResource().fsPath)):this.windowService.openFilePicker()},t.ID="workbench.action.files.openFile",t.LABEL=r.localize(10,null),t=g([v(2,u.IWorkbenchEditorService),v(3,f.IWindowService)],t)}(i.Action);t.OpenFileAction=_;var C=function(e){function t(t,n,i){e.call(this,t,n),this.windowService=i}return d(t,e),t.prototype.run=function(){return this.windowService.openFolderPicker()},t.ID="workbench.action.files.openFolder",t.LABEL=r.localize(11,null),t=g([v(2,f.IWindowService)],t)}(i.Action);t.OpenFolderAction=C;var w=function(e){function t(t,n,i){e.call(this,t,n),this.windowService=i}return d(t,e),t.prototype.run=function(){return this.windowService.openFileFolderPicker()},t.ID="workbench.action.files.openFileFolder",t.LABEL=r.localize(12,null),t=g([v(2,f.IWindowService)],t)}(i.Action);t.OpenFileFolderAction=w;var I=function(e){function t(t,n,i,r,o){e.call(this,t,n),this.windowsService=i,this.editorService=r,this.messageService=o}return d(t,e),t.prototype.run=function(){var e=l.asFileEditorInput(this.editorService.getActiveEditorInput(),!0);return e?this.windowsService.windowOpen([e.getResource().fsPath],!0):this.messageService.show(c.default.Info,r.localize(14,null)),n.TPromise.as(!0)},t.ID="workbench.action.files.showOpenedFileInNewWindow",t.LABEL=r.localize(13,null),t=g([v(2,f.IWindowsService),v(3,u.IWorkbenchEditorService),v(4,h.IMessageService)],t)}(i.Action);t.ShowOpenedFileInNewWindow=I}),define(l[1016],h([1,0,631,2,5,20,171,7,12,16,129,28,1013,25,47,26,24,22,18,51,41,69,38,83]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S,E,_,C,w,I){"use strict";var T=function(){function e(e,t,n,i,r,a,c,l,h){var p=this;this.configurationService=e,this.eventService=t,this.contextService=n,this.editorService=i,this.editorGroupService=a,this.lifecycleService=c,this.messageService=l,this.storageService=h,this.toUnbind=[],this.activeOutOfWorkspaceWatchers=Object.create(null);var f=this.configurationService.getConfiguration(),g=[];g.push({resource:u.default.file(r.appSettingsHome),encoding:s.UTF8}),this.contextService.getWorkspace()&&g.push({resource:u.default.file(o.join(this.contextService.getWorkspace().resource.fsPath,".vscode")),encoding:s.UTF8});var v=[];f.files&&f.files.watcherExclude&&(v=Object.keys(f.files.watcherExclude).filter(function(e){return!!f.files.watcherExclude[e]}));var m={errorLogger:function(e){return p.onFileServiceError(e)},encoding:f.files&&f.files.encoding,encodingOverride:g,watcherIgnoredPatterns:v,verboseLogging:r.verbose},y=this.contextService.getWorkspace();this.raw=new d.FileService(y?y.resource.fsPath:void 0,m,this.eventService),this.registerListeners()}return e.prototype.onFileServiceError=function(t){var r=this;a.onUnexpectedError(t),"string"==typeof t&&t.indexOf(e.NET_VERSION_ERROR)>=0&&!this.storageService.getBoolean(e.NET_VERSION_ERROR_IGNORE_KEY,w.StorageScope.WORKSPACE)&&this.messageService.show(S.Severity.Warning,{message:n.localize(0,null),actions:[new y.Action("install.net",n.localize(1,null),null,(!0),function(){return window.open("https://go.microsoft.com/fwlink/?LinkId=786533"),i.TPromise.as(!0)}),new y.Action("net.error.ignore",n.localize(2,null),"",(!0),function(){return r.storageService.store(e.NET_VERSION_ERROR_IGNORE_KEY,!0,w.StorageScope.WORKSPACE),i.TPromise.as(null)}),S.CloseAction]})},e.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationChange(t.config)})),this.toUnbind.push(this.editorGroupService.onEditorsChanged(function(){return e.onEditorsChanged()})),this.lifecycleService.onShutdown(this.dispose,this)},e.prototype.onEditorsChanged=function(){this.handleOutOfWorkspaceWatchers()},e.prototype.handleOutOfWorkspaceWatchers=function(){var e=this,t=this.editorService.getVisibleEditors().map(function(e){return h.asFileEditorInput(e.input,!0)}).filter(function(t){return!!t&&!e.contextService.isInsideWorkspace(t.getResource())}).map(function(e){return e.getResource().toString()});Object.keys(this.activeOutOfWorkspaceWatchers).forEach(function(n){t.indexOf(n)<0&&(e.unwatchFileChanges(n),delete e.activeOutOfWorkspaceWatchers[n])}),t.forEach(function(t){e.activeOutOfWorkspaceWatchers[t]||(e.watchFileChanges(u.default.parse(t)),e.activeOutOfWorkspaceWatchers[t]=!0)})},e.prototype.onConfigurationChange=function(e){this.updateOptions(e.files)},e.prototype.updateOptions=function(e){this.raw.updateOptions(e)},e.prototype.resolveFile=function(e,t){return this.raw.resolveFile(e,t)},e.prototype.existsFile=function(e){return this.raw.existsFile(e)},e.prototype.resolveContent=function(e,t){var n=e.toString(),i=l.start(l.Topic.WORKBENCH,c.format("Load {0}",n));return this.raw.resolveContent(e,t).then(function(e){return i.stop(),e})},e.prototype.resolveStreamContent=function(e,t){var n=e.toString(),i=l.start(l.Topic.WORKBENCH,c.format("Load {0}",n));return this.raw.resolveStreamContent(e,t).then(function(e){return i.stop(),e})},e.prototype.resolveContents=function(e){return this.raw.resolveContents(e)},e.prototype.updateContent=function(e,t,n){var r=l.start(l.Topic.WORKBENCH,c.format("Save {0}",e.toString()));return this.raw.updateContent(e,t,n).then(function(e){return r.stop(),e},function(e){return r.stop(),i.TPromise.wrapError(e)})},e.prototype.moveFile=function(e,t,n){return this.raw.moveFile(e,t,n)},e.prototype.copyFile=function(e,t,n){return this.raw.copyFile(e,t,n)},e.prototype.createFile=function(e,t){return this.raw.createFile(e,t)},e.prototype.createFolder=function(e){return this.raw.createFolder(e)},e.prototype.touchFile=function(e){return this.raw.touchFile(e)},e.prototype.rename=function(e,t){return this.raw.rename(e,t)},e.prototype.del=function(e,t){return t?this.doMoveItemToTrash(e):this.raw.del(e)},e.prototype.doMoveItemToTrash=function(e){var t=this.contextService.getWorkspace();if(!t)return i.TPromise.wrapError("Need a workspace to use this");var r=e.fsPath,s=I.shell.moveItemToTrash(r);return s?i.TPromise.as(null):i.TPromise.wrapError(new Error(n.localize(3,null,o.basename(r))))},e.prototype.importFile=function(e,t){return this.raw.importFile(e,t).then(function(e){return{isNew:e&&e.isNew,stat:e&&e.stat}})},e.prototype.watchFileChanges=function(e){e&&"file"===e.scheme&&(this.contextService.isInsideWorkspace(e)||this.raw.watchFileChanges(e))},e.prototype.unwatchFileChanges=function(e){this.raw.unwatchFileChanges(e)},e.prototype.getEncoding=function(e){return this.raw.getEncoding(e)},e.prototype.dispose=function(){this.toUnbind=r.dispose(this.toUnbind);for(var e in this.activeOutOfWorkspaceWatchers)this.unwatchFileChanges(e);this.activeOutOfWorkspaceWatchers=Object.create(null),this.raw.dispose()},e.NET_VERSION_ERROR="System.MissingMethodException",e.NET_VERSION_ERROR_IGNORE_KEY="ignoreNetVersionError",e=g([v(0,p.IConfigurationService),v(1,f.IEventService),v(2,m.IWorkspaceContextService),v(3,b.IWorkbenchEditorService),v(4,E.IEnvironmentService),v(5,_.IEditorGroupService),v(6,C.ILifecycleService),v(7,S.IMessageService),v(8,w.IStorageService)],e)}();t.FileService=T}),define(l[186],h([1,0,6]),function(e,t,n){"use strict";t.IHistoryService=n.createDecorator("historyService")}),define(l[1018],h([1,0,1253,52,152,78,13]),function(e,t,n,i,r,o,s){"use strict";function a(){if(!m){var e=u();m=new C(e)}return m}function c(){if(!y){var e=u();y=s.isMacintosh?new E(e):new _(e)}return y}function u(){if(!S){var e={VKEY_OEM_1:!0,VKEY_OEM_PLUS:!0,VKEY_OEM_COMMA:!0,VKEY_OEM_MINUS:!0,VKEY_OEM_PERIOD:!0,VKEY_OEM_2:!0,VKEY_OEM_3:!0,VKEY_OEM_4:!0,VKEY_OEM_5:!0,VKEY_OEM_6:!0,VKEY_OEM_7:!0,VKEY_OEM_8:!0,VKEY_OEM_102:!0};S=[];for(var t=0,n=109;t<n;t++)S[t]=null;for(var i=l(),r=!1,t=0,n=i.length;t<n;t++){var o=i[t];e[o.key_code]&&(o.value.length>0||o.withShift.length>0)&&(r=!0,S[h[o.key_code]]=new b(o.value,o.withShift,o.withAltGr,o.withShiftAltGr))}if(r)for(var s in e)if(e.hasOwnProperty(s)){var a=h[s];S[a]=S[a]||b.Empty}}return S}var l=function(){var e,t=!1;return function(){return t||(t=!0,e=n.getKeyMap()),e}}(),h={VKEY_BACK:1,VKEY_TAB:2,VKEY_CLEAR:0,VKEY_RETURN:3,VKEY_SHIFT:4,VKEY_CONTROL:5,VKEY_MENU:6,VKEY_PAUSE:7,VKEY_CAPITAL:8,VKEY_KANA:0,VKEY_HANGUL:0,VKEY_JUNJA:0,VKEY_FINAL:0,VKEY_HANJA:0,VKEY_KANJI:0,VKEY_ESCAPE:9,VKEY_CONVERT:0,VKEY_NONCONVERT:0,VKEY_ACCEPT:0,VKEY_MODECHANGE:0,VKEY_SPACE:10,VKEY_PRIOR:11,VKEY_NEXT:12,VKEY_END:13,VKEY_HOME:14,VKEY_LEFT:15,VKEY_UP:16,VKEY_RIGHT:17,VKEY_DOWN:18,VKEY_SELECT:0,VKEY_PRINT:0,VKEY_EXECUTE:0,VKEY_SNAPSHOT:0,VKEY_INSERT:19,VKEY_DELETE:20,VKEY_HELP:0,VKEY_0:21,VKEY_1:22,VKEY_2:23,VKEY_3:24,VKEY_4:25,VKEY_5:26,VKEY_6:27,VKEY_7:28,VKEY_8:29,VKEY_9:30,VKEY_A:31,VKEY_B:32,VKEY_C:33,VKEY_D:34,VKEY_E:35,VKEY_F:36,VKEY_G:37,VKEY_H:38,VKEY_I:39,VKEY_J:40,VKEY_K:41,VKEY_L:42,VKEY_M:43,VKEY_N:44,VKEY_O:45,VKEY_P:46,VKEY_Q:47,VKEY_R:48,VKEY_S:49,VKEY_T:50,VKEY_U:51,VKEY_V:52,VKEY_W:53,VKEY_X:54,VKEY_Y:55,VKEY_Z:56,VKEY_LWIN:57,VKEY_COMMAND:57,VKEY_RWIN:57,VKEY_APPS:0,VKEY_SLEEP:0,VKEY_NUMPAD0:93,VKEY_NUMPAD1:94,VKEY_NUMPAD2:95,VKEY_NUMPAD3:96,VKEY_NUMPAD4:97,VKEY_NUMPAD5:98,VKEY_NUMPAD6:99,VKEY_NUMPAD7:100,VKEY_NUMPAD8:101,VKEY_NUMPAD9:102,VKEY_MULTIPLY:103,VKEY_ADD:104,VKEY_SEPARATOR:105,VKEY_SUBTRACT:106,VKEY_DECIMAL:107,VKEY_DIVIDE:108,VKEY_F1:59,VKEY_F2:60,VKEY_F3:61,VKEY_F4:62,VKEY_F5:63,VKEY_F6:64,VKEY_F7:65,VKEY_F8:66,VKEY_F9:67,VKEY_F10:68,VKEY_F11:69,VKEY_F12:70,VKEY_F13:71,VKEY_F14:72,VKEY_F15:73,VKEY_F16:74,VKEY_F17:75,VKEY_F18:76,VKEY_F19:77,VKEY_F20:0,VKEY_F21:0,VKEY_F22:0,VKEY_F23:0,VKEY_F24:0,VKEY_NUMLOCK:78,VKEY_SCROLL:79,VKEY_LSHIFT:4,VKEY_RSHIFT:4,VKEY_LCONTROL:5,VKEY_RCONTROL:5,VKEY_LMENU:0,VKEY_RMENU:0,VKEY_BROWSER_BACK:0,VKEY_BROWSER_FORWARD:0,VKEY_BROWSER_REFRESH:0,VKEY_BROWSER_STOP:0,VKEY_BROWSER_SEARCH:0,VKEY_BROWSER_FAVORITES:0,VKEY_BROWSER_HOME:0,
VKEY_VOLUME_MUTE:0,VKEY_VOLUME_DOWN:0,VKEY_VOLUME_UP:0,VKEY_MEDIA_NEXT_TRACK:0,VKEY_MEDIA_PREV_TRACK:0,VKEY_MEDIA_STOP:0,VKEY_MEDIA_PLAY_PAUSE:0,VKEY_MEDIA_LAUNCH_MAIL:0,VKEY_MEDIA_LAUNCH_MEDIA_SELECT:0,VKEY_MEDIA_LAUNCH_APP1:0,VKEY_MEDIA_LAUNCH_APP2:0,VKEY_OEM_1:80,VKEY_OEM_PLUS:81,VKEY_OEM_COMMA:82,VKEY_OEM_MINUS:83,VKEY_OEM_PERIOD:84,VKEY_OEM_2:85,VKEY_OEM_3:86,VKEY_OEM_4:87,VKEY_OEM_5:88,VKEY_OEM_6:89,VKEY_OEM_7:90,VKEY_OEM_8:91,VKEY_OEM_102:92,VKEY_PROCESSKEY:0,VKEY_PACKET:0,VKEY_DBE_SBCSCHAR:0,VKEY_DBE_DBCSCHAR:0,VKEY_ATTN:0,VKEY_CRSEL:0,VKEY_EXSEL:0,VKEY_EREOF:0,VKEY_PLAY:0,VKEY_ZOOM:0,VKEY_NONAME:0,VKEY_PA1:0,VKEY_OEM_CLEAR:0,VKEY_UNKNOWN:0,VKEY_ALTGR:0},p=[{char:";",virtualKeyCode:186},{char:":",virtualKeyCode:186},{char:"=",virtualKeyCode:187},{char:"+",virtualKeyCode:187},{char:",",virtualKeyCode:188},{char:"<",virtualKeyCode:188},{char:"-",virtualKeyCode:189},{char:"_",virtualKeyCode:189},{char:".",virtualKeyCode:190},{char:">",virtualKeyCode:190},{char:"/",virtualKeyCode:191},{char:"?",virtualKeyCode:191},{char:"`",virtualKeyCode:192},{char:"~",virtualKeyCode:192},{char:"[",virtualKeyCode:219},{char:"{",virtualKeyCode:219},{char:"\\",virtualKeyCode:220},{char:"|",virtualKeyCode:220},{char:"]",virtualKeyCode:221},{char:"}",virtualKeyCode:221},{char:"'",virtualKeyCode:222},{char:'"',virtualKeyCode:222}],f=Object.create(null);p.forEach(function(e){return f[e.char]=!0});var g=Object.create(null);p.forEach(function(e){return g[e.virtualKeyCode]=!0});var v=function(){var e=null;return function(){if(!e){e=Object.create(null);for(var t=l(),n=0,i=t.length;n<i;n++){var r=t[n];if(r.value&&f[r.value]){var o=h[r.key_code];o&&(!e[r.value]||e[r.value]>o)&&(e[r.value]=o)}if(r.withShift&&f[r.withShift]){var o=h[r.key_code];o&&(!e[r.withShift]||e[r.withShift]>o)&&(e[r.withShift]=o)}}}return e}}();o.setExtractKeyCode(function(e){if(e.charCode){var t=String.fromCharCode(e.charCode).toUpperCase();return i.KeyCodeUtils.fromString(t)}if(s.isMacintosh&&g[e.keyCode]&&"string"==typeof e.keyIdentifier){var n=e.keyIdentifier,r=n.substr(2);try{var a=parseInt(r,16),t=String.fromCharCode(a),c=v();if(c[t])return c[t]}catch(e){}}return o.lookupKeyCode(e)});var m=null;t.getNativeAriaLabelProvider=a;var y=null;t.getNativeLabelProvider=c;var b=function(){function e(t,n,i,r){this._rendered=t||n,this._rendered=e._massageRenderedKey(this._rendered)}return e._massageRenderedKey=function(e){return 1!==e.length?e:String.fromCharCode(this._combiningToRegular(e.charCodeAt(0)))},e._combiningToRegular=function(e){switch(e){case 768:return 96;case 769:return 180;case 770:return 94;case 771:return 732;case 772:return 175;case 773:return 8254;case 774:return 728;case 775:return 729;case 776:return 168;case 778:return 730;case 779:return 733}return e},e.prototype.render=function(){return this._rendered},e.Empty=new e("","","",""),e}(),S=null,E=function(e){function t(t){e.call(this),this.remaps=t}return d(t,e),t.prototype.getLabelForKey=function(t){return null!==this.remaps[t]?this.remaps[t].render():e.prototype.getLabelForKey.call(this,t)},t}(r.MacUIKeyLabelProvider),_=function(e){function t(t){e.call(this),this.remaps=t}return d(t,e),t.prototype.getLabelForKey=function(t){return null!==this.remaps[t]?this.remaps[t].render():e.prototype.getLabelForKey.call(this,t)},t}(r.ClassicUIKeyLabelProvider),C=function(e){function t(t){e.call(this),this.remaps=t}return d(t,e),t.prototype.getLabelForKey=function(t){return null!==this.remaps[t]?this.remaps[t].render():e.prototype.getLabelForKey.call(this,t)},t}(r.AriaKeyLabelProvider)}),define(l[1020],h([1,0,634,152,13,5,104,115,738,201,226,34,36,23,84,14,19,1018,18,325,51,8,78]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I){"use strict";function T(e){return Array.isArray(e)}function x(e,t){return e?"string"!=typeof e.command?(t.push(n.localize(1,null,"command")),!1):"string"!=typeof e.key?(t.push(n.localize(2,null,"key")),!1):e.when&&"string"!=typeof e.when?(t.push(n.localize(3,null,"when")),!1):e.mac&&"string"!=typeof e.mac?(t.push(n.localize(4,null,"mac")),!1):e.linux&&"string"!=typeof e.linux?(t.push(n.localize(5,null,"linux")),!1):!e.win||"string"==typeof e.win||(t.push(n.localize(6,null,"win")),!1):(t.push(n.localize(0,null)),!1)}var A={type:"object",default:{command:"",key:""},properties:{command:{description:n.localize(7,null),type:"string"},key:{description:n.localize(8,null),type:"string"},mac:{description:n.localize(9,null),type:"string"},linux:{description:n.localize(10,null),type:"string"},win:{description:n.localize(11,null),type:"string"},when:{description:n.localize(12,null),type:"string"}}},D=s.ExtensionsRegistry.registerExtensionPoint("keybindings",[],{description:n.localize(13,null),oneOf:[A,{type:"array",items:A}]}),L=function(e){function t(t,n,i,r,s,a,c){var u=this;e.call(this,n,i,s,c),this.telemetryService=r,this._cachedResolver=null,this._firstTimeComputingResolver=!0,this.userKeybindings=new _.ConfigWatcher(a.appKeybindingsPath,{defaultConfig:[]}),this.toDispose.push(o.toDisposable(function(){return u.userKeybindings.dispose()})),D.setHandler(function(e){for(var t=!1,n=0,i=e;n<i.length;n++){var r=i[n];t=u._handleKeybindingsExtensionPointUser(r.description.isBuiltin,r.value,r.collector)||t}t&&u.updateResolver({source:p.KeybindingSource.Default})}),this.toDispose.push(this.userKeybindings.onDidUpdateConfiguration(function(e){return u.updateResolver({source:p.KeybindingSource.User,keybindings:e.config})})),this.toDispose.push(w.addDisposableListener(t,w.EventType.KEY_DOWN,function(e){var t=new I.StandardKeyboardEvent(e),n=u._dispatch(t.toKeybinding(),t.target);n&&t.preventDefault()})),b.keybindingsTelemetry(r,this)}return d(t,e),t.prototype._safeGetConfig=function(){var e=this.userKeybindings.getConfig();return Array.isArray(e)?e:[]},t.prototype.customKeybindingsCount=function(){var e=this._safeGetConfig();return e.length},t.prototype.updateResolver=function(e){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(e)},t.prototype._getResolver=function(){return this._cachedResolver||(this._cachedResolver=new l.KeybindingResolver(m.KeybindingsRegistry.getDefaultKeybindings(),this._getExtraKeybindings(this._firstTimeComputingResolver)),this._firstTimeComputingResolver=!1),this._cachedResolver},t.prototype._getExtraKeybindings=function(e){var t=this._safeGetConfig();if(!e){var n=t.length;this.telemetryService.publicLog("customKeybindingsChanged",{keyCount:n})}return t.map(function(e,t){return l.IOSupport.readKeybindingItem(e,t)})},t.prototype.getLabelFor=function(e){return i.KeybindingLabels.toCustomLabel(e,S.getNativeLabelProvider())},t.prototype.getHTMLLabelFor=function(e){return i.KeybindingLabels.toCustomHTMLLabel(e,S.getNativeLabelProvider())},t.prototype.getAriaLabelFor=function(e){return i.KeybindingLabels.toCustomLabel(e,S.getNativeAriaLabelProvider())},t.prototype.getElectronAcceleratorFor=function(t){if(r.isWindows)return e.prototype.getElectronAcceleratorFor.call(this,t);var n=i.KeybindingLabels._toUSLabel(t),o=this.getLabelFor(t);return n!==o?null:e.prototype.getElectronAcceleratorFor.call(this,t)},t.prototype._handleKeybindingsExtensionPointUser=function(e,t,n){if(T(t)){for(var i=!1,r=0,o=t.length;r<o;r++)i=this._handleKeybinding(e,r+1,t[r],n)||i;return i}return this._handleKeybinding(e,1,t,n)},t.prototype._handleKeybinding=function(e,t,i,r){var o=[],s=!1;if(x(i,o)){var a=this._asCommandRule(e,t++,i);a&&(m.KeybindingsRegistry.registerKeybindingRule(a),s=!0)}return o.length>0&&r.error(n.localize(14,null,D.name,o.join("\n"))),s},t.prototype._asCommandRule=function(e,t,n){var i,r=n.command,o=n.when,s=n.key,a=n.mac,c=n.linux,u=n.win;i=e?m.KeybindingsRegistry.WEIGHT.builtinExtension(t):m.KeybindingsRegistry.WEIGHT.externalExtension(t);var h={id:r,when:l.IOSupport.readKeybindingWhen(o),weight:i,primary:l.IOSupport.readKeybinding(s),mac:a&&{primary:l.IOSupport.readKeybinding(a)},linux:c&&{primary:l.IOSupport.readKeybinding(c)},win:u&&{primary:l.IOSupport.readKeybinding(u)}};if(h.primary||h.mac||h.linux||h.win)return h},t=g([v(1,f.IContextKeyService),v(2,h.ICommandService),v(3,b.ITelemetryService),v(4,E.IMessageService),v(5,C.IEnvironmentService),v(6,u.IStatusbarService)],t)}(c.AbstractKeybindingService);t.WorkbenchKeybindingService=L;var k="vscode://schemas/keybindings",P={id:k,type:"array",title:n.localize(15,null),items:{required:["key"],type:"object",defaultSnippets:[{body:{key:"$1",command:"$2",when:"$3"}}],properties:{key:{type:"string",description:n.localize(16,null)},command:{description:n.localize(17,null)},when:{type:"string",description:n.localize(18,null)},args:{description:n.localize(19,null)}}}},R=y.Registry.as(a.Extensions.JSONContribution);R.registerSchema(k,P)}),define(l[1021],h([1,0,635,2,29,8,48,97,148,21,11,24,163,78,848]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p){"use strict";!function(e){e[e.Info=0]="Info",e[e.Warning=1]="Warning",e[e.Error=2]="Error"}(t.Severity||(t.Severity={}));var f=t.Severity,g=function(){function e(){}return e}();t.IMessageListOptions=g;var v=function(){function e(t,n,i){void 0===i&&(i={purgeInterval:e.DEFAULT_MESSAGE_PURGER_INTERVAL,maxMessages:e.DEFAULT_MAX_MESSAGES,maxMessageLength:e.DEFAULT_MAX_MESSAGE_LENGTH}),this.messages=[],this.messageListPurger=null,this.container=t,this.usageLogger=n,this.options=i,this._onMessagesShowing=new l.Emitter,this._onMessagesCleared=new l.Emitter,this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;s.onDidChangeFullscreen(function(){return e.positionMessageList()}),s.onDidChangeZoomLevel(function(){return e.positionMessageList()})},Object.defineProperty(e.prototype,"onMessagesShowing",{get:function(){return this._onMessagesShowing.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMessagesCleared",{get:function(){return this._onMessagesCleared.event},enumerable:!0,configurable:!0}),e.prototype.showMessage=function(e,t,n){var i=this;if(Array.isArray(t)){var r=[];return t.forEach(function(t){return r.push(i.showMessage(e,t,n))}),function(){return r.forEach(function(e){return e()})}}var o=this.getMessageText(t);return o&&"string"==typeof o?this.doShowMessage(t,o,e,n):function(){}},e.prototype.getMessageText=function(e){return u.isString(e)?e:e instanceof Error?a.toErrorMessage(e,!1):e.message?e.message:null},e.prototype.doShowMessage=function(e,t,i,r){var o=this;this.purgeMessages(),this.messages.unshift({id:e,text:t,severity:i,time:Date.now(),actions:e.actions,onHide:r}),this.renderMessages(!0,1);var s;return s=i===f.Error?n.localize(0,null,t):i===f.Warning?n.localize(1,null,t):n.localize(2,null,t),c.alert(s),function(){o.hideMessage(e)}},e.prototype.renderMessages=function(e,t){var n=this,i=r.$(this.container);this.messageListContainer?(r.$(this.messageListContainer).empty(),r.$(this.messageListContainer).removeClass("transition")):this.messageListContainer=r.$(".global-message-list").appendTo(i),e&&r.$(this.messageListContainer).style("top","-35px"),r.$(this.messageListContainer).ul({class:"message-list"},function(i){var o=n.prepareMessages();o.length>0?n._onMessagesShowing.fire():n._onMessagesCleared.fire(),o.forEach(function(e,s){n.renderMessage(e,r.$(i),o.length,t)}),e&&setTimeout(function(){n.positionMessageList(),r.$(n.messageListContainer).addClass("transition")},50)})},e.prototype.positionMessageList=function(e){if(this.messageListContainer){r.$(this.messageListContainer).removeClass("transition");var t=0;!s.isFullscreen()&&o.hasClass(this.container,"titlebar-style-custom")&&(t=22/s.getZoomFactor()),r.$(this.messageListContainer).style("top",t+"px")}},e.prototype.renderMessage=function(e,t,s,a){var c=this;t.li({class:"message-list-entry message-list-entry-with-action"},function(t){var s=c.getMessageActions(e);t.div({class:"actions-container"},function(t){for(var n=function(n){var r=s[n];t.div({class:"message-action"},function(t){t.a({class:"action-button",tabindex:"0",role:"button"}).text(r.label).on([o.EventType.CLICK,o.EventType.KEY_DOWN],function(t){if(t instanceof KeyboardEvent){var n=new p.StandardKeyboardEvent(t);if(!n.equals(3)&&!n.equals(10))return}o.EventHelper.stop(t,!0),c.usageLogger&&c.usageLogger.publicLog("workbenchActionExecuted",{id:r.id,from:"message"}),(r.run()||i.TPromise.as(null)).then(null,function(e){return c.showMessage(f.Error,e)}).done(function(t){t!==!1&&c.hideMessage(e.text)})})})},r=0;r<s.length;r++)n(r)});var a=e.text.substr(0,c.options.maxMessageLength);t.div({class:"message-left-side"},function(t){t.addClass("message-overflow-ellipsis");var i=e.severity,o=i===f.Error?n.localize(3,null):i===f.Warning?n.localize(4,null):n.localize(5,null);r.$().span({class:"message-left-side severity "+(i===f.Error?"app-error":i===f.Warning?"app-warning":"app-info"),text:o}).appendTo(t);var s=d.renderHtml({tagName:"span",className:"message-left-side",formattedText:a});r.$(s).title(s.textContent).appendTo(t)})})},e.prototype.getMessageActions=function(e){var t,r=this;return t=e.actions&&e.actions.length>0?e.actions:[new h.Action("close.message.action",n.localize(6,null),null,(!0),function(){return r.hideMessage(e.text),i.TPromise.as(!0)})]},e.prototype.prepareMessages=function(){for(var e=[],t={},n=0,i=0;i<this.messages.length;i++){var r=this.messages[i];u.isUndefinedOrNull(t[r.text])?(r.count=1,e.push(r),t[r.text]=n++):e[t[r.text]].count++}return e.length>this.options.maxMessages?e.splice(e.length-this.options.maxMessages,e.length):e},e.prototype.disposeMessages=function(e){e.forEach(function(e){e.onHide&&e.onHide(),e.actions&&e.actions.forEach(function(e){e.dispose()})})},e.prototype.hideMessages=function(){this.hideMessage()},e.prototype.show=function(){this.messageListContainer&&this.messageListContainer.isHidden()&&this.messageListContainer.show()},e.prototype.hide=function(){this.messageListContainer&&!this.messageListContainer.isHidden()&&this.messageListContainer.hide()},e.prototype.hideMessage=function(e){for(var t=!1,n=0;n<this.messages.length;n++){var i=this.messages[n],r=!1;r=!e||(u.isString(e)&&i.text===e||i.id===e),r&&(this.disposeMessages(this.messages.splice(n,1)),n--,t=!0)}t&&this.renderMessages(!1,-1)},e.prototype.purgeMessages=function(){var e=this;this.messageListPurger&&this.messageListPurger.cancel(),this.messageListPurger=i.TPromise.timeout(this.options.purgeInterval).then(function(){for(var t=!1,n=0,i=0;i<e.messages.length;i++){var r=e.messages[i];r.severity===f.Error||r.actions||(e.disposeMessages(e.messages.splice(i,1)),n--,i--,t=!0)}t&&e.renderMessages(!1,n)})},e.DEFAULT_MESSAGE_PURGER_INTERVAL=1e4,e.DEFAULT_MAX_MESSAGES=5,e.DEFAULT_MAX_MESSAGE_LENGTH=500,e}();t.MessageList=v}),define(l[1022],h([1,0,7,97,21,1021,18]),function(e,t,n,i,r,o,s){"use strict";var a=function(){function e(e,t){this.handler=new o.MessageList(e,t),this.messageBuffer=[],this.canShowMessages=!0,this.disposeables=[]}return Object.defineProperty(e.prototype,"onMessagesShowing",{get:function(){return this.handler.onMessagesShowing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMessagesCleared",{get:function(){return this.handler.onMessagesCleared},enumerable:!0,configurable:!0}),e.prototype.suspend=function(){this.canShowMessages=!1,this.handler.hide()},e.prototype.resume=function(){for(this.canShowMessages=!0,this.handler.show();this.messageBuffer.length;){var e=this.messageBuffer.pop();e.disposeFn=this.show(e.severity,e.message,e.onHide)}},e.prototype.toBaseSeverity=function(e){switch(e){case s.Severity.Info:return o.Severity.Info;case s.Severity.Warning:return o.Severity.Warning}return o.Severity.Error},e.prototype.show=function(e,t,i){var o=this;if(!t)return function(){};if(Array.isArray(t)){var s=[];return t.forEach(function(t){return s.push(o.show(e,t,i))}),function(){return s.forEach(function(e){return e()})}}return n.isPromiseCanceledError(t)?function(){}:(r.isNumber(t.severity)&&(e=t.severity),this.doShow(e,t,i))},e.prototype.doShow=function(e,t,n){var r=this;if(!this.canShowMessages){var o={severity:e,message:t,onHide:n,disposeFn:function(){return r.messageBuffer.splice(r.messageBuffer.indexOf(o),1)}};return this.messageBuffer.push(o),function(){return o.disposeFn()}}return e===s.Severity.Error&&console.error(i.toErrorMessage(t,!0)),this.handler.showMessage(this.toBaseSeverity(e),t,n)},e.prototype.hideAll=function(){this.handler&&this.handler.hideMessages()},e.prototype.confirm=function(e){var t=e.message;return e.detail&&(t=t+"\n\n"+e.detail),window.confirm(t)},e.prototype.dispose=function(){for(;this.disposeables.length;)this.disposeables.pop().dispose()},e}();t.WorkbenchMessageService=a}),define(l[76],h([1,0,6]),function(e,t,n){"use strict";t.IPanelService=n.createDecorator("panelService")}),define(l[347],h([1,0,588,5,12,17,178,86,6,76]),function(e,t,n,i,r,o,s,a,c,u){"use strict";var l=function(e){function t(i,r,s,c){var u=this;e.call(this,n.localize(0,null),i?n.localize(1,null,i.label):"","",a.OUTPUT_MIME,!0,r),this.outputChannel=i,this.outputService=s,this.panelService=c,this.bufferedOutput="",this.toDispose=[],this.toDispose.push(this.outputService.onOutput(this.onOutputReceived,this)),this.toDispose.push(this.outputService.onActiveOutputChannel(function(){return u.scheduleOutputAppend()})),this.toDispose.push(this.panelService.onDidPanelOpen(function(e){e.getId()===a.OUTPUT_PANEL_ID&&u.appendOutput()})),this.appendOutputScheduler=new o.RunOnceScheduler(function(){u.isVisible()&&u.appendOutput()},t.OUTPUT_DELAY)}return d(t,e),t.getInstances=function(){return Object.keys(t.instances).map(function(e){return t.instances[e]})},t.getInstance=function(e,n){return t.instances[n.id]?t.instances[n.id]:(t.instances[n.id]=e.createInstance(t,n),t.instances[n.id])},t.prototype.appendOutput=function(){if(0!==this.bufferedOutput.length){this.value.length+this.bufferedOutput.length>a.MAX_OUTPUT_LENGTH?this.setValue(this.outputChannel.output):this.append(this.bufferedOutput),this.bufferedOutput="";var e=this.panelService.getActivePanel();e.revealLastLine(!0)}},t.prototype.onOutputReceived=function(e){this.outputSet&&e.channelId===this.outputChannel.id&&(e.output?(this.bufferedOutput=r.appendWithLimit(this.bufferedOutput,e.output,a.MAX_OUTPUT_LENGTH),this.scheduleOutputAppend()):null===e.output&&(this.bufferedOutput="",this.clearValue()))},t.prototype.isVisible=function(){var e=this.panelService.getActivePanel();return e&&e.getId()===a.OUTPUT_PANEL_ID&&this.outputService.getActiveChannel().id===this.outputChannel.id},t.prototype.scheduleOutputAppend=function(){this.isVisible()&&this.bufferedOutput&&!this.appendOutputScheduler.isScheduled()&&this.appendOutputScheduler.schedule()},t.prototype.getTypeId=function(){return a.OUTPUT_EDITOR_INPUT_ID},t.prototype.resolve=function(t){var n=this;return e.prototype.resolve.call(this,t).then(function(e){return n.outputSet?e:(n.setValue(n.outputChannel.output),n.outputSet=!0,e)})},t.prototype.matches=function(n){if(n instanceof t){var i=n;if(i.outputChannel.id===this.outputChannel.id)return e.prototype.matches.call(this,n)}return!1},t.prototype.dispose=function(){this.appendOutputScheduler.dispose(),this.toDispose=i.dispose(this.toDispose),e.prototype.dispose.call(this)},t.OUTPUT_DELAY=300,t.instances=Object.create(null),t=g([v(1,c.IInstantiationService),v(2,a.IOutputService),v(3,u.IPanelService)],t)}(s.StringEditorInput);t.OutputEditorInput=l}),define(l[1025],h([1,0,2,12,11,6,38,14,28,86,347,76,40,26,963]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f){"use strict";var m="output.activechannel",y=function(){function e(e,t,n,i,o){this.storageService=e,this.instantiationService=t,this.panelService=n,this._onOutput=new r.Emitter,this._onOutputChannel=new r.Emitter,this._onActiveOutputChannel=new r.Emitter,this.receivedOutput=Object.create(null);var c=a.Registry.as(u.Extensions.OutputChannels).getChannels();this.activeChannelId=this.storageService.get(m,s.StorageScope.WORKSPACE,c&&c.length>0?c[0].id:null),this._outputLinkDetector=new f.OutputLinkProvider(i,o)}return Object.defineProperty(e.prototype,"onOutput",{get:function(){return this._onOutput.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onOutputChannel",{get:function(){return this._onOutputChannel.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onActiveOutputChannel",{get:function(){return this._onActiveOutputChannel.event},enumerable:!0,configurable:!0}),e.prototype.getChannel=function(e){var t=this,n=a.Registry.as(u.Extensions.OutputChannels).getChannels().filter(function(t){return t.id===e}).pop(),i=this;return{id:e,label:n?n.label:e,get output(){return i.getOutput(e)},append:function(n){return t.append(e,n)},show:function(n){return t.showOutput(e,n)},clear:function(){return t.clearOutput(e)}}},e.prototype.append=function(e,t){this.receivedOutput[e]||(this.receivedOutput[e]="",this._onOutputChannel.fire(e)),t=i.removeAnsiEscapeCodes(t),t&&(this.receivedOutput[e]=i.appendWithLimit(this.receivedOutput[e],t,u.MAX_OUTPUT_LENGTH)),this._onOutput.fire({output:t,channelId:e})},e.prototype.getActiveChannel=function(){return this.getChannel(this.activeChannelId)},e.prototype.getOutput=function(e){return this.receivedOutput[e]||""},e.prototype.clearOutput=function(e){this.receivedOutput[e]="",this._onOutput.fire({channelId:e,output:null})},e.prototype.showOutput=function(e,t){var i=this,r=this.panelService.getActivePanel();return this.activeChannelId===e&&r&&r.getId()===u.OUTPUT_PANEL_ID?n.TPromise.as(r):(this.activeChannelId=e,this.storageService.store(m,this.activeChannelId,s.StorageScope.WORKSPACE),this._onActiveOutputChannel.fire(e),this.panelService.openPanel(u.OUTPUT_PANEL_ID,!t).then(function(n){return n&&n.setInput(l.OutputEditorInput.getInstance(i.instantiationService,i.getChannel(e)),c.EditorOptions.create({preserveFocus:t})).then(function(){return n})}))},e=g([v(0,s.IStorageService),v(1,o.IInstantiationService),v(2,h.IPanelService),v(3,p.IWorkspaceContextService),v(4,d.IModelService)],e)}();t.OutputService=y}),define(l[45],h([1,0,6]),function(e,t,n){"use strict";!function(e){e[e.ACTIVITYBAR_PART=0]="ACTIVITYBAR_PART",e[e.SIDEBAR_PART=1]="SIDEBAR_PART",e[e.PANEL_PART=2]="PANEL_PART",e[e.EDITOR_PART=3]="EDITOR_PART",e[e.STATUSBAR_PART=4]="STATUSBAR_PART",e[e.TITLEBAR_PART=5]="TITLEBAR_PART"}(t.Parts||(t.Parts={}));t.Parts;!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(t.Position||(t.Position={}));t.Position;t.IPartService=n.createDecorator("partService")}),define(l[37],h([1,0,2,108,14,84,45,18,19,6,32]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";function h(e){var t=e.keybindingContext,n="undefined"==typeof e.keybindingWeight?o.KeybindingsRegistry.WEIGHT.workbenchContrib():e.keybindingWeight,i=e.keybindings,r={id:e.id,handler:d(e),weight:n,when:t,primary:i&&i.primary,secondary:i&&i.secondary,win:i&&i.win,mac:i&&i.mac,linux:i&&i.linux};o.KeybindingsRegistry.registerCommandAndKeybindingRule(r)}function d(e){return function(t,i){var r=t.get(a.IMessageService),o=t.get(u.IInstantiationService),h=t.get(c.ITelemetryService),d=t.get(s.IPartService);n.TPromise.as(p(o,h,d,e,i)).done(null,function(e){r.show(l.default.Error,e)})}}function p(e,t,i,r,o){var s=e.createInstance(r.syncDescriptor);return s.label=r.label||s.label,s.enabled?(t&&t.publicLog("workbenchActionExecuted",{id:s.id,from:o&&o.from||"keybinding"}),i.joinCreation().then(function(){try{return n.TPromise.as(s.run()).then(function(){s.dispose()},function(e){return s.dispose(),n.TPromise.wrapError(e)})}catch(e){return s.dispose(),n.TPromise.wrapError(e)}})):void s.dispose()}t.Extensions={WorkbenchActions:"workbench.contributions.actions"};var f=function(){function e(){this.workbenchActions=Object.create(null),this.mapActionIdToMeta=Object.create(null)}return e.prototype.registerWorkbenchAction=function(e,t,n){if(!this.workbenchActions[e.id]){this.workbenchActions[e.id]=e,h(e);var i={alias:t};"string"==typeof n&&(i.category=n),this.mapActionIdToMeta[e.id]=i}},e.prototype.unregisterWorkbenchAction=function(e){return!!this.workbenchActions[e]&&(delete this.workbenchActions[e],delete this.mapActionIdToMeta[e],!0)},e.prototype.getWorkbenchAction=function(e){return this.workbenchActions[e]||null},e.prototype.getCategory=function(e){return this.mapActionIdToMeta[e]&&this.mapActionIdToMeta[e].category||null},e.prototype.getAlias=function(e){return this.mapActionIdToMeta[e]&&this.mapActionIdToMeta[e].alias||null},e.prototype.getWorkbenchActions=function(){return i.values(this.workbenchActions)},e.prototype.setWorkbenchActions=function(e){var t=this;this.workbenchActions=Object.create(null),this.mapActionIdToMeta=Object.create(null),e.forEach(function(e){return t.registerWorkbenchAction(e,"")},this)},e}();r.Registry.add(t.Extensions.WorkbenchActions,new f),t.createCommandHandler=d,t.triggerAndDisposeAction=p}),define(l[1028],h([1,0,453,20,16,81,13,24,14,37,22,51,26,33,31,115]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y){"use strict";var b=function(e){function t(t,n,i,r,o,s){e.call(this,t,n),this.fileService=i,this.contextService=r,this.environmentService=o,this.editorService=s}return d(t,e),t.prototype.run=function(e){var s=this,a=r.default.file(i.join(this.environmentService.appSettingsHome,"locale.json"));return this.fileService.resolveFile(a).then(null,function(e){return s.fileService.createFile(a,t.DEFAULT_CONTENT)}).then(function(e){if(e)return s.editorService.openEditor({resource:e.resource,options:{forceOpen:!0}})},function(e){throw new Error(n.localize(4,null,o.getPathLabel(a,s.contextService),e))})},t.ID="workbench.action.configureLocale",t.LABEL=n.localize(0,null),t.DEFAULT_CONTENT=["{","\t// "+n.localize(1,null),"\t// "+n.localize(2,null,"https://go.microsoft.com/fwlink/?LinkId=761051"),"\t// "+n.localize(3,null),'\t"locale":"'+s.language+'"',"}"].join("\n"),t=g([v(2,f.IFileService),v(3,p.IWorkspaceContextService),v(4,h.IEnvironmentService),v(5,l.IWorkbenchEditorService)],t)}(a.Action),S=c.Registry.as(u.Extensions.WorkbenchActions);S.registerWorkbenchAction(new m.SyncActionDescriptor(b,b.ID,b.LABEL),"Configure Language");var E="vscode://schemas/locale",_={id:E,description:"Locale Definition file",type:"object",default:{locale:"en"},required:["locale"],properties:{locale:{type:"string",enum:["de","en","en-US","es","fr","it","ja","ko","ru","zh-CN","zh-TW"],description:n.localize(5,null)}}},C=c.Registry.as(y.Extensions.JSONContribution);C.registerSchema(E,_)}),define(l[350],h([1,0,2,454,14,24,31,37,18,114,45]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";var h=function(e){function t(t,n,i,r,o){e.call(this,t,n),this.partService=i,this.messageService=r,this.configurationEditingService=o,this.enabled=!!this.partService}return d(t,e),t.prototype.run=function(){var e=this,i=this.partService.isVisible(l.Parts.ACTIVITYBAR_PART),r=!i;return this.configurationEditingService.writeConfiguration(u.ConfigurationTarget.USER,{key:t.activityBarVisibleKey,value:r}).then(null,function(t){e.messageService.show(c.Severity.Error,t)}),n.TPromise.as(null)},t.ID="workbench.action.toggleActivityBarVisibility",t.LABEL=i.localize(0,null),t.activityBarVisibleKey="workbench.activityBar.visible",t=g([v(2,l.IPartService),v(3,c.IMessageService),v(4,u.IConfigurationEditingService)],t)}(o.Action);t.ToggleActivityBarVisibilityAction=h;var p=r.Registry.as(a.Extensions.WorkbenchActions);p.registerWorkbenchAction(new s.SyncActionDescriptor(h,h.ID,h.LABEL),"View: Toggle Activity Bar Visibility",i.localize(1,null))}),define(l[351],h([1,0,2,455,14,24,31,37,41,5,34,706]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";var h=function(e){function t(t,n,i){e.call(this,t,n),this.editorGroupService=i,this.toDispose=[],this.class="toggle-editor-layout",this.updateEnablement(),this.updateLabel(),this.registerListeners()}return d(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.editorGroupService.onEditorsChanged(function(){return e.updateEnablement()})),this.toDispose.push(this.editorGroupService.onGroupOrientationChanged(function(){return e.updateLabel()}))},t.prototype.updateLabel=function(){var e="horizontal"!==this.editorGroupService.getGroupOrientation();this.label=e?i.localize(1,null):i.localize(2,null)},t.prototype.updateEnablement=function(){this.enabled=this.editorGroupService.getStacksModel().groups.length>0},t.prototype.run=function(){var e=this.editorGroupService.getGroupOrientation(),t="vertical"===e?"horizontal":"vertical";return this.editorGroupService.setGroupOrientation(t),n.TPromise.as(null)},t.prototype.dispose=function(){this.toDispose=u.dispose(this.toDispose),e.prototype.dispose.call(this)},t.ID="workbench.action.toggleEditorGroupLayout",t.LABEL=i.localize(0,null),t=g([v(2,c.IEditorGroupService)],t)}(o.Action);t.ToggleEditorLayoutAction=h,l.CommandsRegistry.registerCommand("_workbench.editor.setGroupOrientation",function(e,t){var i=e.get(c.IEditorGroupService),r=t[0];return i.setGroupOrientation(r),n.TPromise.as(null)});var p=r.Registry.as(a.Extensions.WorkbenchActions),f=i.localize(3,null);p.registerWorkbenchAction(new s.SyncActionDescriptor(h,h.ID,h.LABEL,{primary:24598,mac:{primary:40982}}),"View: Toggle Editor Group Vertical/Horizontal Layout",f)}),define(l[1031],h([1,0,2,456,14,24,31,18,37,114,45]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";var h=function(e){function t(t,n,i,r,o){e.call(this,t,n),this.partService=i,this.messageService=r,this.configurationEditingService=o,this.enabled=!!this.partService&&!!this.configurationEditingService}return d(t,e),t.prototype.run=function(){var e=this,i=this.partService.getSideBarPosition(),r=i===l.Position.LEFT?"right":"left";return this.configurationEditingService.writeConfiguration(u.ConfigurationTarget.USER,{key:t.sidebarPositionConfigurationKey,value:r}).then(null,function(t){e.messageService.show(a.Severity.Error,t)}),n.TPromise.as(null)},t.ID="workbench.action.toggleSidebarPosition",t.LABEL=i.localize(0,null),t.sidebarPositionConfigurationKey="workbench.sideBar.location",t=g([v(2,l.IPartService),v(3,a.IMessageService),v(4,u.IConfigurationEditingService)],t)}(o.Action);t.ToggleSidebarPositionAction=h;var p=r.Registry.as(c.Extensions.WorkbenchActions);p.registerWorkbenchAction(new s.SyncActionDescriptor(h,h.ID,h.LABEL),"View: Toggle Side Bar Position",i.localize(1,null))}),define(l[1032],h([1,0,2,457,14,24,31,37,45]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(e){function t(t,n,i){e.call(this,t,n),this.partService=i,this.enabled=!!this.partService}return d(t,e),t.prototype.run=function(){var e=this.partService.isVisible(c.Parts.SIDEBAR_PART);return this.partService.setSideBarHidden(e),n.TPromise.as(null)},t.ID="workbench.action.toggleSidebarVisibility",t.LABEL=i.localize(0,null),t=g([v(2,c.IPartService)],t)}(o.Action);t.ToggleSidebarVisibilityAction=u;var l=r.Registry.as(a.Extensions.WorkbenchActions);l.registerWorkbenchAction(new s.SyncActionDescriptor(u,u.ID,u.LABEL,{primary:32800}),"View: Toggle Side Bar Visibility",i.localize(1,null))}),define(l[1033],h([1,0,2,458,14,24,31,37,18,114,45]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";var h=function(e){function t(t,n,i,r,o){e.call(this,t,n),this.partService=i,this.messageService=r,this.configurationEditingService=o,this.enabled=!!this.partService}return d(t,e),t.prototype.run=function(){var e=this,i=this.partService.isVisible(l.Parts.STATUSBAR_PART),r=!i;return this.configurationEditingService.writeConfiguration(u.ConfigurationTarget.USER,{key:t.statusbarVisibleKey,value:r}).then(null,function(t){e.messageService.show(c.Severity.Error,t)}),n.TPromise.as(null)},t.ID="workbench.action.toggleStatusbarVisibility",t.LABEL=i.localize(0,null),t.statusbarVisibleKey="workbench.statusBar.visible",t=g([v(2,l.IPartService),v(3,c.IMessageService),v(4,u.IConfigurationEditingService)],t)}(o.Action);t.ToggleStatusbarVisibilityAction=h;var p=r.Registry.as(a.Extensions.WorkbenchActions);p.registerWorkbenchAction(new s.SyncActionDescriptor(h,h.ID,h.LABEL),"View: Toggle Status Bar Visibility",i.localize(1,null))}),define(l[1034],h([1,0,2,459,24,52,14,31,37,45]),function(e,t,n,i,r,o,s,a,c,u){"use strict";var l=function(e){function t(t,n,i){e.call(this,t,n),this.partService=i,this.enabled=!!this.partService;
}return d(t,e),t.prototype.run=function(){return this.partService.toggleZenMode(),n.TPromise.as(null)},t.ID="workbench.action.toggleZenMode",t.LABEL=i.localize(0,null),t=g([v(2,u.IPartService)],t)}(r.Action),h=s.Registry.as(c.Extensions.WorkbenchActions);h.registerWorkbenchAction(new a.SyncActionDescriptor(l,l.ID,l.LABEL,{primary:o.KeyChord(32809,56)}),"View: Toggle Zen Mode",i.localize(1,null))}),define(l[1035],h([1,0,8,479,97,2,5,29,284,14,34,22,179,37,175,6,19,18,62,39,24,750]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C){"use strict";var w=function(e){function t(t,n){e.call(this,t),this.instantiationService=n,this.toDispose=[]}return d(t,e),t.prototype.addEntry=function(e,n,i){void 0===i&&(i=0);for(var r=this.doCreateStatusItem(n,i),o=this.instantiationService.createInstance(T,e),s=o.render(r),c=this.statusItemsContainer.getHTMLElement(),u=this.getEntries(n),l=!1,h=0;h<u.length;h++){var d=u[h],p=a.$(d).getProperty(t.PRIORITY_PROP);if(n===m.StatusbarAlignment.LEFT&&p<i||n===m.StatusbarAlignment.RIGHT&&p>i){c.insertBefore(r,d),l=!0;break}}return l||c.appendChild(r),{dispose:function(){a.$(r).destroy(),s&&s.dispose()}}},t.prototype.getEntries=function(e){for(var n=[],i=this.statusItemsContainer.getHTMLElement(),r=i.children,o=0;o<r.length;o++){var s=r.item(o);a.$(s).getProperty(t.ALIGNMENT_PROP)===e&&n.push(s)}return n},t.prototype.createContentArea=function(e){var t=this;this.statusItemsContainer=a.$(e);var n=u.Registry.as(m.Extensions.Statusbar),i=n.items.filter(function(e){return e.alignment===m.StatusbarAlignment.LEFT}).sort(function(e,t){return t.priority-e.priority}),r=n.items.filter(function(e){return e.alignment===m.StatusbarAlignment.RIGHT}).sort(function(e,t){return e.priority-t.priority}),o=r.concat(i);return(s=this.toDispose).push.apply(s,o.map(function(e){var n=t.instantiationService.createInstance(e.syncDescriptor),i=t.doCreateStatusItem(e.alignment,e.priority),r=n.render(i);return t.statusItemsContainer.append(i),r})),this.statusItemsContainer;var s},t.prototype.doCreateStatusItem=function(e,i){void 0===i&&(i=0);var r=document.createElement("div");return n.addClass(r,"statusbar-item"),e===m.StatusbarAlignment.RIGHT?n.addClass(r,"right"):n.addClass(r,"left"),a.$(r).setProperty(t.PRIORITY_PROP,i),a.$(r).setProperty(t.ALIGNMENT_PROP,e),r},t.prototype.setStatusMessage=function(e,t,n){var i=this;void 0===t&&(t=-1),void 0===n&&(n=0),this.statusMsgDispose&&this.statusMsgDispose.dispose();var r,o,s=setTimeout(function(){r=i.addEntry({text:e},m.StatusbarAlignment.LEFT,Number.MIN_VALUE),s=null},n),a={dispose:function(){s&&clearTimeout(s),o&&clearTimeout(o),r&&r.dispose()}};return this.statusMsgDispose=a,"number"==typeof t&&t>0&&(o=setTimeout(function(){return a.dispose()},t)),a},t.prototype.dispose=function(){this.toDispose=s.dispose(this.toDispose),e.prototype.dispose.call(this)},t.PRIORITY_PROP="priority",t.ALIGNMENT_PROP="alignment",t=g([v(1,y.IInstantiationService)],t)}(p.Part);t.StatusbarPart=w;var I,T=function(){function e(e,t,n,i,r,o,s){this.commandService=t,this.instantiationService=n,this.messageService=i,this.telemetryService=r,this.contextMenuService=o,this.editorService=s,this.entry=e,I||(I=this.instantiationService.createInstance(x))}return e.prototype.render=function(e){var t=this,i=[];n.addClass(e,"statusbar-entry");var r;return this.entry.command?(r=document.createElement("a"),a.$(r).on("click",function(){return t.executeCommand(t.entry.command)},i)):r=document.createElement("span"),new c.OcticonLabel(r).text=this.entry.text,this.entry.tooltip&&a.$(r).title(this.entry.tooltip),this.entry.color&&a.$(r).color(this.entry.color),this.entry.extensionId&&a.$(r).on("contextmenu",function(i){n.EventHelper.stop(i,!0),t.contextMenuService.showContextMenu({getAnchor:function(){return e},getActionsContext:function(){return t.entry.extensionId},getActions:function(){return o.TPromise.as([I])}})},i),e.appendChild(r),{dispose:function(){i=s.dispose(i)}}},e.prototype.executeCommand=function(e){var t=this,n=u.Registry.as(f.Extensions.WorkbenchActions).getWorkbenchAction(e);if(n){var s=this.instantiationService.createInstance(n.syncDescriptor);return void(s.enabled?(this.telemetryService.publicLog("workbenchActionExecuted",{id:s.id,from:"status bar"}),(s.run()||o.TPromise.as(null)).done(function(){s.dispose()},function(e){return t.messageService.show(S.Severity.Error,r.toErrorMessage(e))})):this.messageService.show(S.Severity.Warning,i.localize(0,null,s.label||e)))}var a=this.editorService.getActiveEditor(),c=E.getCodeEditor(a);c&&c.focus(),this.commandService.executeCommand(e).done(void 0,function(e){return t.messageService.show(S.Severity.Error,r.toErrorMessage(e))})},e=g([v(1,l.ICommandService),v(2,y.IInstantiationService),v(3,S.IMessageService),v(4,b.ITelemetryService),v(5,_.IContextMenuService),v(6,h.IWorkbenchEditorService)],e)}(),x=function(e){function t(t){e.call(this,"statusbar.manage.extension",i.localize(1,null)),this.commandService=t}return d(t,e),t.prototype.run=function(e){return this.commandService.executeCommand("_extensions.manage",e)},t=g([v(0,l.ICommandService)],t)}(C.Action)}),define(l[1036],h([1,0,491,70,117,107,121,74,17,2,16,24,37,71,14,31,18,66,6,61]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_){"use strict";function C(e,t){return void 0===t&&(t=null),function(n){return n.code===e?u.TPromise.as(t):u.TPromise.wrapError(n)}}function w(e){return a.readFile(e,"utf8").then(null,C("ENOENT",""))}var I=l.default.parse(e.toUrl("")).fsPath,T=i.resolve(I,"..","bin","code"),x=r.existsSync(T),A=function(e){function t(t,n,i,r){e.call(this,t,n),this.messageService=i,this.editorService=r}return d(t,e),Object.defineProperty(t.prototype,"target",{get:function(){return"/usr/local/bin/"+_.default.applicationName},enumerable:!0,configurable:!0}),t.prototype.run=function(){var e=this;return this.checkLegacy().then(function(t){if(t.length>0){var i=t[0],r=i.file,o=i.lineNumber,s=n.localize(1,null,_.default.darwinBundleIdentifier,r,o),c=l.default.file(r),d={resource:c},p=[new h.Action("inlineEdit",n.localize(2,null,r),"",(!0),function(){return e.editorService.openEditor(d).then(function(){var t=n.localize(3,null,_.default.applicationName,r),i=[new h.Action("continue",n.localize(4,null),"",(!0),function(){return e.run()}),new h.Action("cancel",n.localize(5,null))];e.messageService.show(b.Severity.Info,{message:t,actions:i})})})];return e.messageService.show(b.Severity.Warning,{message:s,actions:p}),u.TPromise.as(null)}return e.isInstalled().then(function(t){if(!x||t)return u.TPromise.as(null);var n=function(){return a.unlink(e.target).then(null,C("ENOENT")).then(function(){return a.symlink(T,e.target)})};return n().then(null,function(t){return"EACCES"===t.code||"ENOENT"===t.code?e.createBinFolder().then(function(){return n()}):u.TPromise.wrapError(t)})}).then(function(){return e.messageService.show(b.Severity.Info,n.localize(6,null,_.default.applicationName))})})},t.prototype.isInstalled=function(){var e=this;return a.lstat(this.target).then(function(e){return e.isSymbolicLink()}).then(function(){return a.readlink(e.target)}).then(function(e){return e===T}).then(null,C("ENOENT",!1))},t.prototype.createBinFolder=function(){var e=this;return new u.TPromise(function(t,i){var r=n.localize(7,null),o=[new h.Action("ok",n.localize(8,null),"",(!0),function(){var e='osascript -e "do shell script \\"mkdir -p /usr/local/bin && chown \\" & (do shell script (\\"whoami\\")) & \\" /usr/local/bin\\" with administrator privileges"';return c.nfcall(s.exec,e,{}).then(null,function(e){return u.TPromise.wrapError(new Error(n.localize(9,null)))}).done(t,i),null}),new h.Action("cancel2",n.localize(10,null),"",(!0),function(){return i(new Error(n.localize(11,null))),null})];e.messageService.show(b.Severity.Info,{message:r,actions:o})})},t.prototype.checkLegacy=function(){var e=[i.join(o.homedir(),".bash_profile"),i.join(o.homedir(),".bashrc"),i.join(o.homedir(),".zshrc")];return u.TPromise.join(e.map(function(e){return w(e)})).then(function(t){return t.reduce(function(t,n,i){var r=e[i],o=n.split(/\r?\n/);return o.some(function(e,n){return e.indexOf(_.default.darwinBundleIdentifier)>-1&&!/^\s*#/.test(e)&&(t.push({file:r,lineNumber:n+1}),!0)}),t},[])})},t.ID="workbench.action.installCommandLine",t.LABEL=n.localize(0,null,_.default.applicationName),t=g([v(2,b.IMessageService),v(3,S.IEditorService)],t)}(h.Action),D=function(e){function t(t,n,i){e.call(this,t,n),this.messageService=i}return d(t,e),Object.defineProperty(t.prototype,"target",{get:function(){return"/usr/local/bin/"+_.default.applicationName},enumerable:!0,configurable:!0}),t.prototype.run=function(){var e=this;return a.unlink(this.target).then(null,C("ENOENT")).then(function(){return e.messageService.show(b.Severity.Info,n.localize(13,null,_.default.applicationName))})},t.ID="workbench.action.uninstallCommandLine",t.LABEL=n.localize(12,null,_.default.applicationName),t=g([v(2,b.IMessageService)],t)}(h.Action),L=function(){function e(e,t){var i=e.createInstance(A,A.ID,A.LABEL);i.checkLegacy().done(function(e){if(e.length>0){var r=n.localize(14,null,_.default.applicationName),o=new h.Action("changeNow",n.localize(15,null),"",(!0),function(){return i.run()}),s=new h.Action("later",n.localize(16,null),"",(!0),function(){return t.show(b.Severity.Info,n.localize(17,null,i.label)),null}),a=[o,s];t.show(b.Severity.Info,{message:r,actions:a})}})}return e.prototype.getId=function(){return"darwin.cli"},e=g([v(0,E.IInstantiationService),v(1,b.IMessageService)],e)}();if(x&&"darwin"===process.platform){var k=n.localize(18,null),P=m.Registry.as(p.Extensions.WorkbenchActions);P.registerWorkbenchAction(new y.SyncActionDescriptor(A,A.ID,A.LABEL),"Shell Command: Install 'code' command in PATH",k),P.registerWorkbenchAction(new y.SyncActionDescriptor(D,D.ID,D.LABEL),"Shell Command: Uninstall 'code' command from PATH",k);var R=m.Registry.as(f.Extensions.Workbench);R.registerWorkbenchContribution(L)}}),define(l[116],h([1,0,493,24,5,2,36,34,82,151,45,76,89]),function(e,t,n,i,r,o,s,a,c,u,l,h,p){"use strict";var f=function(e){function t(t,n,i,r,o,s){var a=this;e.call(this,t,n,i,!1),this.debugService=r,this.keybindingService=o,this.weight=s,this.toDispose=[],this.toDispose.push(this.debugService.onDidChangeState(function(){return a.updateEnablement()})),this.updateLabel(n),this.updateEnablement()}return d(t,e),t.prototype.run=function(e){throw new Error("implement me")},Object.defineProperty(t.prototype,"tooltip",{get:function(){var e=this.keybindingService.lookupKeybindings(this.id)[0],t=e&&this.keybindingService.getLabelFor(e);return t?this.label+" ("+t+")":this.label},enumerable:!0,configurable:!0}),t.prototype.updateLabel=function(e){this.label=e},t.prototype.updateEnablement=function(){this.enabled=this.isEnabled(this.debugService.state)},t.prototype.isEnabled=function(e){return e!==c.State.Disabled},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.toDispose=r.dispose(this.toDispose)},t=g([v(3,c.IDebugService),v(4,s.IKeybindingService)],t)}(i.Action);t.AbstractDebugAction=f;var m=function(e){function t(t,n,i,r){var o=this;e.call(this,t,n,"debug-action configure",i,r),this.toDispose.push(i.getViewModel().onDidSelectConfiguration(function(e){return o.updateClass()})),this.updateClass()}return d(t,e),Object.defineProperty(t.prototype,"tooltip",{get:function(){return this.debugService.getViewModel().selectedConfigurationName?t.LABEL:n.localize(1,null)},enumerable:!0,configurable:!0}),t.prototype.updateClass=function(){this.class=this.debugService.getViewModel().selectedConfigurationName?"debug-action configure":"debug-action configure notification"},t.prototype.run=function(e){var t=!(!e||!e.ctrlKey&&!e.metaKey);return this.debugService.getConfigurationManager().openConfigFile(t)},t.ID="workbench.action.debug.configure",t.LABEL=n.localize(0,null,"launch.json"),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.ConfigureAction=m;var y=function(e){function t(t,n,i,r,o){var s=this;e.call(this,t,n,"debug-action start",i,r),this.commandService=o,this.debugService.getViewModel().onDidSelectConfiguration(function(){s.updateEnablement()})}return d(t,e),t.prototype.run=function(){return this.commandService.executeCommand("_workbench.startDebug",this.debugService.getViewModel().selectedConfigurationName)},t.prototype.isEnabled=function(t){var n=this,i=this.debugService.getModel().getProcesses();return e.prototype.isEnabled.call(this,t)&&i.every(function(e){return e.name!==n.debugService.getViewModel().selectedConfigurationName})},t.ID="workbench.action.debug.start",t.LABEL=n.localize(2,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService),v(4,a.ICommandService)],t)}(f);t.StartAction=y;var b=function(e){function t(t,n,i,r){var o=this;e.call(this,t,n,"debug-action restart",i,r,70),this.setLabel(this.debugService.getViewModel().focusedProcess),this.toDispose.push(this.debugService.getViewModel().onDidFocusStackFrame(function(){return o.setLabel(o.debugService.getViewModel().focusedProcess)}))}return d(t,e),t.prototype.setLabel=function(e){this.updateLabel(e&&e.session.requestType===c.SessionRequestType.ATTACH?t.RECONNECT_LABEL:t.LABEL)},t.prototype.run=function(){var e=this.debugService.getViewModel().focusedProcess;return this.debugService.restartProcess(e)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t!==c.State.Inactive},t.ID="workbench.action.debug.restart",t.LABEL=n.localize(3,null),t.RECONNECT_LABEL=n.localize(4,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.RestartAction=b;var S=function(e){function t(t,n,i,r){e.call(this,t,n,"debug-action step-over",i,r,20)}return d(t,e),t.prototype.run=function(e){return e instanceof u.Thread||(e=this.debugService.getViewModel().focusedThread),e?e.next():o.TPromise.as(null)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===c.State.Stopped},t.ID="workbench.action.debug.stepOver",t.LABEL=n.localize(5,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.StepOverAction=S;var E=function(e){function t(t,n,i,r){e.call(this,t,n,"debug-action step-into",i,r,30)}return d(t,e),t.prototype.run=function(e){return e instanceof u.Thread||(e=this.debugService.getViewModel().focusedThread),e?e.stepIn():o.TPromise.as(null)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===c.State.Stopped},t.ID="workbench.action.debug.stepInto",t.LABEL=n.localize(6,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.StepIntoAction=E;var _=function(e){function t(t,n,i,r){e.call(this,t,n,"debug-action step-out",i,r,40)}return d(t,e),t.prototype.run=function(e){return e instanceof u.Thread||(e=this.debugService.getViewModel().focusedThread),e?e.stepOut():o.TPromise.as(null)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===c.State.Stopped},t.ID="workbench.action.debug.stepOut",t.LABEL=n.localize(7,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.StepOutAction=_;var C=function(e){function t(t,n,i,r){e.call(this,t,n,"debug-action stop",i,r,80)}return d(t,e),t.prototype.run=function(){var e=this.debugService.getViewModel().focusedProcess;return e?e.session.disconnect(!1,!0):o.TPromise.as(null)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t!==c.State.Inactive},t.ID="workbench.action.debug.stop",t.LABEL=n.localize(8,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.StopAction=C;var w=function(e){function t(t,n,i,r){e.call(this,t,n,"debug-action disconnect",i,r,80)}return d(t,e),t.prototype.run=function(){var e=this.debugService.getViewModel().focusedProcess;return e?e.session.disconnect(!1,!0):o.TPromise.as(null)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t!==c.State.Inactive},t.ID="workbench.action.debug.disconnect",t.LABEL=n.localize(9,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.DisconnectAction=w;var I=function(e){function t(t,n,i,r){e.call(this,t,n,"debug-action continue",i,r,10)}return d(t,e),t.prototype.run=function(e){return e instanceof u.Thread||(e=this.debugService.getViewModel().focusedThread),e?e.continue():o.TPromise.as(null)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===c.State.Stopped},t.ID="workbench.action.debug.continue",t.LABEL=n.localize(10,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.ContinueAction=I;var T=function(e){function t(t,n,i,r){e.call(this,t,n,"debug-action pause",i,r,10)}return d(t,e),t.prototype.run=function(e){return e instanceof u.Thread||(e=this.debugService.getViewModel().focusedThread),e?e.pause():o.TPromise.as(null)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===c.State.Running},t.ID="workbench.action.debug.pause",t.LABEL=n.localize(11,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.PauseAction=T;var x=function(e){function t(t,n,i,r){e.call(this,t,n,"debug-action restart-frame",i,r)}return d(t,e),t.prototype.run=function(e){return e||(e=this.debugService.getViewModel().focusedStackFrame),e.restart()},t.ID="workbench.action.debug.restartFrame",t.LABEL=n.localize(12,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.RestartFrameAction=x;var A=function(e){function t(t,n,i,r){e.call(this,t,n,"debug-action remove",i,r)}return d(t,e),t.prototype.run=function(e){return e instanceof u.Breakpoint?this.debugService.removeBreakpoints(e.getId()):this.debugService.removeFunctionBreakpoints(e.getId())},t.ID="workbench.debug.viewlet.action.removeBreakpoint",t.LABEL=n.localize(13,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.RemoveBreakpointAction=A;var D=function(e){function t(t,n,i,r){var o=this;e.call(this,t,n,"debug-action remove-all",i,r),this.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(function(){return o.updateEnablement()}))}return d(t,e),t.prototype.run=function(){return o.TPromise.join([this.debugService.removeBreakpoints(),this.debugService.removeFunctionBreakpoints()])},t.prototype.isEnabled=function(t){var n=this.debugService.getModel();return e.prototype.isEnabled.call(this,t)&&(n.getBreakpoints().length>0||n.getFunctionBreakpoints().length>0)},t.ID="workbench.debug.viewlet.action.removeAllBreakpoints",t.LABEL=n.localize(14,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.RemoveAllBreakpointsAction=D;var L=function(e){function t(t,n,i,r){e.call(this,t,n,"debug-action toggle-enablement",i,r)}return d(t,e),t.prototype.run=function(e){return this.debugService.enableOrDisableBreakpoints(!e.enabled,e)},t.ID="workbench.debug.viewlet.action.toggleBreakpointEnablement",t.LABEL=n.localize(15,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.ToggleEnablementAction=L;var k=function(e){function t(t,n,i,r){var o=this;e.call(this,t,n,"debug-action enable-all-breakpoints",i,r),this.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(function(){return o.updateEnablement()}))}return d(t,e),t.prototype.run=function(){return this.debugService.enableOrDisableBreakpoints(!0)},t.prototype.isEnabled=function(t){var n=this.debugService.getModel();return e.prototype.isEnabled.call(this,t)&&n.getBreakpoints().concat(n.getFunctionBreakpoints()).concat(n.getExceptionBreakpoints()).some(function(e){return!e.enabled})},t.ID="workbench.debug.viewlet.action.enableAllBreakpoints",t.LABEL=n.localize(16,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.EnableAllBreakpointsAction=k;var P=function(e){function t(t,n,i,r){var o=this;e.call(this,t,n,"debug-action disable-all-breakpoints",i,r),this.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(function(){return o.updateEnablement()}))}return d(t,e),t.prototype.run=function(){return this.debugService.enableOrDisableBreakpoints(!1)},t.prototype.isEnabled=function(t){var n=this.debugService.getModel();return e.prototype.isEnabled.call(this,t)&&n.getBreakpoints().concat(n.getFunctionBreakpoints()).concat(n.getExceptionBreakpoints()).some(function(e){return e.enabled})},t.ID="workbench.debug.viewlet.action.disableAllBreakpoints",t.LABEL=n.localize(17,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.DisableAllBreakpointsAction=P;var R=function(e){function t(n,i,r,o){var s=this;e.call(this,n,i,"debug-action breakpoints-activate",r,o),this.updateLabel(this.debugService.getModel().areBreakpointsActivated()?t.DEACTIVATE_LABEL:t.ACTIVATE_LABEL),this.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(function(){s.updateLabel(s.debugService.getModel().areBreakpointsActivated()?t.DEACTIVATE_LABEL:t.ACTIVATE_LABEL),s.updateEnablement()}))}return d(t,e),t.prototype.run=function(){return this.debugService.setBreakpointsActivated(!this.debugService.getModel().areBreakpointsActivated())},t.prototype.isEnabled=function(e){return this.debugService.getModel().getFunctionBreakpoints().length+this.debugService.getModel().getBreakpoints().length>0},t.ID="workbench.debug.viewlet.action.toggleBreakpointsActivatedAction",t.ACTIVATE_LABEL=n.localize(18,null),t.DEACTIVATE_LABEL=n.localize(19,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.ToggleBreakpointsActivatedAction=R;var O=function(e){function t(t,n,i,r){var o=this;e.call(this,t,n,null,i,r),this.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(function(){return o.updateEnablement()}))}return d(t,e),t.prototype.run=function(){return this.debugService.setBreakpointsActivated(!0)},t.prototype.isEnabled=function(t){var n=this.debugService.getModel();return e.prototype.isEnabled.call(this,t)&&t!==c.State.Disabled&&t!==c.State.Inactive&&n.getFunctionBreakpoints().length+n.getBreakpoints().length+n.getExceptionBreakpoints().length>0},t.ID="workbench.debug.viewlet.action.reapplyBreakpointsAction",t.LABEL=n.localize(20,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.ReapplyBreakpointsAction=O;var M=function(e){function t(t,n,i,r){e.call(this,t,n,"debug-action add-function-breakpoint",i,r)}return d(t,e),t.prototype.run=function(){return this.debugService.addFunctionBreakpoint(),o.TPromise.as(null)},t.ID="workbench.debug.viewlet.action.addFunctionBreakpointAction",t.LABEL=n.localize(21,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.AddFunctionBreakpointAction=M;var N=function(e){function t(t,n,i,r){e.call(this,t,n,null,i,r)}return d(t,e),t.prototype.run=function(e){return this.debugService.getViewModel().setSelectedFunctionBreakpoint(e),o.TPromise.as(null)},t.ID="workbench.debug.viewlet.action.renameFunctionBreakpointAction",t.LABEL=n.localize(22,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.RenameFunctionBreakpointAction=N;var F=function(e){function t(t,n,i,r,o,s){e.call(this,t,n,null,o,s),this.editor=i,this.lineNumber=r}return d(t,e),t.prototype.run=function(){return this.editor.getContribution(c.EDITOR_CONTRIBUTION_ID).showBreakpointWidget(this.lineNumber),o.TPromise.as(null)},t.ID="workbench.debug.viewlet.action.addConditionalBreakpointAction",t.LABEL=n.localize(23,null),t=g([v(4,c.IDebugService),v(5,s.IKeybindingService)],t)}(f);t.AddConditionalBreakpointAction=F;var W=function(e){function t(t,n,i,r,o,s){e.call(this,t,n,null,o,s),this.editor=i,this.lineNumber=r}return d(t,e),t.prototype.run=function(e){return this.editor.getContribution(c.EDITOR_CONTRIBUTION_ID).showBreakpointWidget(this.lineNumber),o.TPromise.as(null)},t.ID="workbench.debug.viewlet.action.editConditionalBreakpointAction",t.LABEL=n.localize(24,null),t=g([v(4,c.IDebugService),v(5,s.IKeybindingService)],t)}(f);t.EditConditionalBreakpointAction=W;var V=function(e){function t(t,n,i,r,o){e.call(this,t,n,null,r,o),this.variable=i}return d(t,e),t.prototype.run=function(){return this.variable instanceof u.Variable&&this.debugService.getViewModel().setSelectedExpression(this.variable),o.TPromise.as(null)},t.prototype.isEnabled=function(t){var n=this.debugService.getViewModel().focusedProcess;return e.prototype.isEnabled.call(this,t)&&t===c.State.Stopped&&n&&n.session.configuration.capabilities.supportsSetVariable},t.ID="workbench.debug.viewlet.action.setValue",t.LABEL=n.localize(25,null),t=g([v(3,c.IDebugService),v(4,s.IKeybindingService)],t)}(f);t.SetValueAction=V;var B=function(e){function t(t,n,i,r){var o=this;e.call(this,t,n,"debug-action add-watch-expression",i,r),this.toDispose.push(this.debugService.getModel().onDidChangeWatchExpressions(function(){return o.updateEnablement()}))}return d(t,e),t.prototype.run=function(){return this.debugService.addWatchExpression()},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&this.debugService.getModel().getWatchExpressions().every(function(e){return!!e.name})},t.ID="workbench.debug.viewlet.action.addWatchExpression",t.LABEL=n.localize(26,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.AddWatchExpressionAction=B;var H=function(e){function t(t,n,i,r,o){e.call(this,t,n,"debug-action add-to-watch",r,o),this.expression=i}return d(t,e),t.prototype.run=function(){var e=this.expression instanceof u.Variable?this.expression.evaluateName:this.expression.name;return this.debugService.addWatchExpression(e)},t.ID="workbench.debug.viewlet.action.addToWatchExpressions",t.LABEL=n.localize(27,null),t=g([v(3,c.IDebugService),v(4,s.IKeybindingService)],t)}(f);t.AddToWatchExpressionsAction=H;var z=function(e){function t(t,n,i,r,o){e.call(this,t,n,"debug-action editWatchExpression",r,o),this.expression=i}return d(t,e),t.prototype.run=function(){return this.debugService.getViewModel().setSelectedExpression(this.expression),o.TPromise.as(null)},t.ID="workbench.debug.viewlet.action.editWatchExpression",t.LABEL=n.localize(28,null),t=g([v(3,c.IDebugService),v(4,s.IKeybindingService)],t)}(f);t.EditWatchExpressionAction=z;var U=function(e){function t(t,n,i,r){e.call(this,t,n,"debug-action remove",i,r)}return d(t,e),t.prototype.run=function(e){return this.debugService.removeWatchExpressions(e.getId()),o.TPromise.as(null)},t.ID="workbench.debug.viewlet.action.removeWatchExpression",t.LABEL=n.localize(29,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.RemoveWatchExpressionAction=U;var G=function(e){function t(t,n,i,r){var o=this;e.call(this,t,n,"debug-action remove-all",i,r),this.toDispose.push(this.debugService.getModel().onDidChangeWatchExpressions(function(){return o.updateEnablement()}))}return d(t,e),t.prototype.run=function(){return this.debugService.removeWatchExpressions(),o.TPromise.as(null)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&this.debugService.getModel().getWatchExpressions().length>0},t.ID="workbench.debug.viewlet.action.removeAllWatchExpressions",t.LABEL=n.localize(30,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.RemoveAllWatchExpressionsAction=G;var K=function(e){function t(t,n,i,r,o){e.call(this,t,n,"debug-action clear-repl",i,r),this.panelService=o}return d(t,e),t.prototype.run=function(){return this.debugService.removeReplExpressions(),this.panelService.openPanel(c.REPL_ID,!0)},t.ID="workbench.debug.panel.action.clearReplAction",t.LABEL=n.localize(31,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService),v(4,h.IPanelService)],t)}(f);t.ClearReplAction=K;var j=function(e){function t(t,n,i,r,o){e.call(this,t,n,c.REPL_ID,o,r,"debug-action toggle-repl"),this.debugService=i,this.toDispose=[],this.registerListeners()}return d(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.debugService.getModel().onDidChangeReplElements(function(){e.isReplVisible()||(e.class="debug-action toggle-repl notification",e.tooltip=n.localize(33,null))})),this.toDispose.push(this.panelService.onDidPanelOpen(function(n){n.getId()===c.REPL_ID&&(e.class="debug-action toggle-repl",e.tooltip=t.LABEL)}))},t.prototype.isReplVisible=function(){var e=this.panelService.getActivePanel();return e&&e.getId()===c.REPL_ID},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.toDispose=r.dispose(this.toDispose)},t.ID="workbench.debug.action.toggleRepl",t.LABEL=n.localize(32,null),t=g([v(2,c.IDebugService),v(3,l.IPartService),v(4,h.IPanelService)],t)}(p.TogglePanelAction);t.ToggleReplAction=j;var q=function(e){function t(t,n,i){e.call(this,t,n),this.panelService=i}return d(t,e),t.prototype.run=function(){return this.panelService.openPanel(c.REPL_ID,!0)},t.ID="workbench.debug.action.focusRepl",t.LABEL=n.localize(34,null),t=g([v(2,h.IPanelService)],t)}(i.Action);t.FocusReplAction=q;var $=function(e){function t(t,n,i,r){e.call(this,t,n,null,i,r)}return d(t,e),t.prototype.run=function(){var e=this;return this.debugService.getConfigurationManager().getConfiguration(this.debugService.getViewModel().selectedConfigurationName).then(function(t){if(t)return t.noDebug=!0,e.debugService.createProcess(t)})},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===c.State.Inactive},t.ID="workbench.action.debug.run",t.LABEL=n.localize(35,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.RunAction=$;var Y=function(e){function t(t,n,i,r){e.call(this,t,n,null,i,r,100)}return d(t,e),t.prototype.run=function(e){var t=this,n=this.debugService.getModel().getProcesses().filter(function(t){return t.name===e}).pop();return this.debugService.focusStackFrameAndEvaluate(null,n).then(function(){var e=t.debugService.getViewModel().focusedStackFrame;if(e)return t.debugService.openOrRevealSource(e.source,e.lineNumber,!0,!1)})},t.ID="workbench.action.debug.focusProcess",t.LABEL=n.localize(36,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.FocusProcessAction=Y;var X=function(e){function t(t,n,i,r){e.call(this,t,n,"debug-action step-back",i,r,50)}return d(t,e),t.prototype.run=function(e){return e instanceof u.Thread||(e=this.debugService.getViewModel().focusedThread),e?e.stepBack():o.TPromise.as(null)},t.prototype.isEnabled=function(t){var n=this.debugService.getViewModel().focusedProcess;return e.prototype.isEnabled.call(this,t)&&t===c.State.Stopped&&n&&n.session.configuration.capabilities.supportsStepBack},t.ID="workbench.action.debug.stepBack",t.LABEL=n.localize(37,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.StepBackAction=X;var Q=function(e){function t(t,n,i,r){e.call(this,t,n,"debug-action reverse-continue",i,r,60)}return d(t,e),t.prototype.run=function(e){return e instanceof u.Thread||(e=this.debugService.getViewModel().focusedThread),e?e.reverseContinue():o.TPromise.as(null)},t.prototype.isEnabled=function(t){var n=this.debugService.getViewModel().focusedProcess;return e.prototype.isEnabled.call(this,t)&&t===c.State.Stopped&&n&&n.session.configuration.capabilities.supportsStepBack},t.ID="workbench.action.debug.reverseContinue",t.LABEL=n.localize(38,null),t=g([v(2,c.IDebugService),v(3,s.IKeybindingService)],t)}(f);t.ReverseContinueAction=Q}),define(l[1038],h([1,0,5,7,12,48,32,29,8,35,79,109,43,45,82,116,296,6,38,18,19,761]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S,E,_){"use strict";var C=f.IDebugService,w=a.$,I="debug.actionswidgetposition",T=function(){function e(e,t,n,i,r,o){var s=this;this.messageService=e,this.telemetryService=t,this.debugService=n,this.instantiationService=i,this.partService=r,this.storageService=o,this.$el=w().div().addClass("debug-actions-widget").style("top",r.getTitleBarOffset()+"px"),this.dragArea=w().div().addClass("drag-area"),this.$el.append(this.dragArea);var a=w().div().addClass(".action-bar-container");this.$el.append(a),this.toDispose=[],this.activeActions=[],this.actionBar=new d.ActionBar(a,{orientation:d.ActionsOrientation.HORIZONTAL,actionItemProvider:function(e){return e.id===m.FocusProcessAction.ID?(s.focusProcessActionItem||(s.focusProcessActionItem=s.instantiationService.createInstance(y.FocusProcessActionItem,e),s.toDispose.push(s.focusProcessActionItem)),s.focusProcessActionItem):null}}),this.toDispose.push(this.actionBar),this.registerListeners(),
this.hide(),this.isBuilt=!1}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.debugService.onDidChangeState(function(){e.update()})),this.toDispose.push(this.actionBar.actionRunner.addListener2(h.EventType.RUN,function(t){t.error&&!i.isPromiseCanceledError(t.error)&&e.messageService.show(s.default.Error,t.error),e.telemetryService&&e.telemetryService.publicLog("workbenchActionExecuted",{id:t.action.id,from:"debugActionsWidget"})})),w(window).on(c.EventType.RESIZE,function(){return e.setXCoordinate()},this.toDispose),this.dragArea.on(c.EventType.MOUSE_UP,function(t){var n=new l.StandardMouseEvent(t);2===n.detail&&e.setXCoordinate(.5*window.innerWidth)}),this.dragArea.on(c.EventType.MOUSE_DOWN,function(t){var n=w(window);e.dragArea.addClass("dragged"),n.on("mousemove",function(t){var n=new l.StandardMouseEvent(t);n.preventDefault(),e.setXCoordinate(n.posx)}).once("mouseup",function(t){var i=new l.StandardMouseEvent(t);e.storageService.store(I,i.posx/window.innerWidth,S.StorageScope.WORKSPACE),e.dragArea.removeClass("dragged"),n.off("mousemove")})}),this.toDispose.push(this.partService.onTitleBarVisibilityChange(function(){return e.positionDebugWidget()})),this.toDispose.push(o.onDidChangeZoomLevel(function(){return e.positionDebugWidget()}))},e.prototype.positionDebugWidget=function(){var e=this.partService.getTitleBarOffset();w(this.$el).style("top",e+"px")},e.prototype.setXCoordinate=function(e){if(this.isVisible){e||(e=parseFloat(this.storageService.get(I,S.StorageScope.WORKSPACE,"0.5"))*window.innerWidth);var t=this.$el.getHTMLElement().clientWidth/2;e=e+t-16,e=Math.max(148,e),e=Math.min(e,window.innerWidth-t-10),this.$el.style("left",e+"px")}},e.prototype.getId=function(){return e.ID},e.prototype.update=function(){var e=this.debugService.state;if(e===f.State.Disabled||e===f.State.Inactive)return this.hide();var t=this.getActions();u.equals(t,this.activeActions,function(e,t){return e.id===t.id})||(this.actionBar.clear(),this.actionBar.push(t,{icon:!0,label:!1}),this.activeActions=t),this.show()},e.prototype.show=function(){this.isVisible||(this.isBuilt||(this.isBuilt=!0,this.$el.build(a.withElementById(this.partService.getWorkbenchElementId()).getHTMLElement())),this.isVisible=!0,this.$el.show(),this.setXCoordinate())},e.prototype.hide=function(){this.isVisible=!1,this.$el.hide()},e.prototype.getActions=function(){var e=this;this.allActions||(this.allActions=[],this.allActions.push(this.instantiationService.createInstance(m.ContinueAction,m.ContinueAction.ID,m.ContinueAction.LABEL)),this.allActions.push(this.instantiationService.createInstance(m.PauseAction,m.PauseAction.ID,m.PauseAction.LABEL)),this.allActions.push(this.instantiationService.createInstance(m.StopAction,m.StopAction.ID,m.StopAction.LABEL)),this.allActions.push(this.instantiationService.createInstance(m.DisconnectAction,m.DisconnectAction.ID,m.DisconnectAction.LABEL)),this.allActions.push(this.instantiationService.createInstance(m.StepOverAction,m.StepOverAction.ID,m.StepOverAction.LABEL)),this.allActions.push(this.instantiationService.createInstance(m.StepIntoAction,m.StepIntoAction.ID,m.StepIntoAction.LABEL)),this.allActions.push(this.instantiationService.createInstance(m.StepOutAction,m.StepOutAction.ID,m.StepOutAction.LABEL)),this.allActions.push(this.instantiationService.createInstance(m.RestartAction,m.RestartAction.ID,m.RestartAction.LABEL)),this.allActions.push(this.instantiationService.createInstance(m.StepBackAction,m.StepBackAction.ID,m.StepBackAction.LABEL)),this.allActions.push(this.instantiationService.createInstance(m.ReverseContinueAction,m.ReverseContinueAction.ID,m.ReverseContinueAction.LABEL)),this.allActions.push(this.instantiationService.createInstance(m.FocusProcessAction,m.FocusProcessAction.ID,m.FocusProcessAction.LABEL)),this.allActions.forEach(function(t){e.toDispose.push(t)}));var t=this.debugService.state,n=this.debugService.getViewModel().focusedProcess,i=n&&!r.equalsIgnoreCase(n.session.configuration.type,"extensionHost")&&n.session.requestType===f.SessionRequestType.ATTACH;return this.allActions.filter(function(r){return r.id===m.ContinueAction.ID?t!==f.State.Running:r.id===m.PauseAction.ID?t===f.State.Running:r.id===m.StepBackAction.ID?n&&n.session.configuration.capabilities.supportsStepBack:r.id===m.ReverseContinueAction.ID?n&&n.session.configuration.capabilities.supportsStepBack:r.id===m.DisconnectAction.ID?i:r.id===m.StopAction.ID?!i:r.id!==m.FocusProcessAction.ID||e.debugService.getViewModel().isMultiProcessView()}).sort(function(e,t){return e.weight-t.weight})},e.prototype.dispose=function(){this.toDispose=n.dispose(this.toDispose),this.$el&&(this.$el.destroy(),delete this.$el)},e.ID="debug.actionsWidget",e=g([v(0,E.IMessageService),v(1,_.ITelemetryService),v(2,C),v(3,b.IInstantiationService),v(4,p.IPartService),v(5,S.IStorageService)],e)}();t.DebugActionsWidget=T}),define(l[252],h([1,0,503,2,5,20,17,7,12,13,8,81,43,174,101,85,39,6,26,23,31,241,82,151,299,116,300]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D){"use strict";function L(e,t,n){var i="string"==typeof e?e:e.value;t.className="value",null===i||(e instanceof T.Expression||e instanceof T.Variable)&&!e.available?(l.addClass(t,"unavailable"),i!==T.Expression.DEFAULT_VALUE&&l.addClass(t,"error")):isNaN(+i)?M.test(i)?l.addClass(t,"boolean"):N.test(i)&&l.addClass(t,"string"):l.addClass(t,"number"),n.showChanged&&e.valueChanged&&i!==T.Expression.DEFAULT_VALUE&&(t.className="value changed"),n.maxValueLength&&i.length>n.maxValueLength&&(i=i.substr(0,n.maxValueLength)+"..."),i&&!n.preserveWhitespace?t.textContent=i.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):t.textContent=i,n.showHover&&(t.title=i)}function k(e,t,n,i){t.available&&(n.name.textContent=t.name,n.name.title=t.type?t.type:""),t.value?(n.name.textContent+=t.name?":":"",L(t,n.value,{showChanged:i,maxValueLength:F,preserveWhitespace:!1,showHover:!0})):(n.value.textContent="",n.value.title="")}function P(e,t,n,i,o,c){var u=l.append(o,O(".inputBoxContainer")),h=new m.InputBox(u,t,{validationOptions:c.validationOptions,placeholder:c.placeholder,ariaLabel:c.ariaLabel});h.value=c.initialValue?c.initialValue:"",h.focus(),h.select();var d=!1,p=[h],f=s.once(function(t){d||(d=!0,i instanceof T.Expression&&t&&h.value?e.renameWatchExpression(i.getId(),h.value).done(null,a.onUnexpectedError):i instanceof T.Expression&&!i.name?e.removeWatchExpressions(i.getId()):i instanceof T.FunctionBreakpoint&&h.value?e.renameFunctionBreakpoint(i.getId(),t?h.value:i.name).done(null,a.onUnexpectedError):i instanceof T.FunctionBreakpoint&&!i.name?e.removeFunctionBreakpoints(i.getId()).done(null,a.onUnexpectedError):i instanceof T.Variable&&(i.errorMessage=null,t&&i.value!==h.value&&i.setVariable(h.value).done(function(){return n.refresh(i,!1)},a.onUnexpectedError)),n.clearHighlight(),n.DOMFocus(),n.setFocus(i),o.removeChild(u),r.dispose(p))});p.push(l.addStandardDisposableListener(h.inputElement,"keydown",function(e){var t=e.equals(9),n=e.equals(3);(t||n)&&f(n)})),p.push(l.addDisposableListener(h.inputElement,"blur",function(){f(!0)}))}function R(e,t){return e.inMemory?e.name:h.getPathLabel(o.basename(e.uri.fsPath),t)}var O=l.$,M=/^true|false$/i,N=/^(['"]).*\1$/,F=1024;t.renderExpressionValue=L,t.renderVariable=k;var W=function(e){function t(t,n,i,r,o,s){e.call(this),this.actionProvider=t,this.debugService=i,this.contextMenuService=r,this.contributedContextMenu=s.createMenu(n,o),u.isMacintosh?this.downKeyBindingDispatcher.set(32769,this.onDelete.bind(this)):(this.downKeyBindingDispatcher.set(20,this.onDelete.bind(this)),this.downKeyBindingDispatcher.set(16404,this.onDelete.bind(this))),u.isMacintosh?this.downKeyBindingDispatcher.set(3,this.onRename.bind(this)):this.downKeyBindingDispatcher.set(60,this.onRename.bind(this))}return d(t,e),t.prototype.onContextMenu=function(e,t,n){var i=this;if(n.target&&n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!1;if(n.preventDefault(),n.stopPropagation(),e.setFocus(t),this.actionProvider.hasSecondaryActions(e,t)){var r={x:n.posx+1,y:n.posy};return this.contextMenuService.showContextMenu({getAnchor:function(){return r},getActions:function(){return i.actionProvider.getSecondaryActions(e,t).then(function(e){return w.fillInActions(i.contributedContextMenu,i.getContext(t),e),e})},onHide:function(t){t&&e.DOMFocus()},getActionsContext:function(){return t}}),!0}return!1},t.prototype.onDelete=function(e,t){return!1},t.prototype.onRename=function(e,t){return!1},t.prototype.getContext=function(e){},t=g([v(2,I.IDebugService),v(3,b.IContextMenuService),v(4,_.IContextKeyService),v(5,C.IMenuService)],t)}(y.DefaultController);t.BaseDebugController=W;var V=function(){function e(e,t){this.processId=e,this.threadId=t}return e.prototype.getId=function(){return this.processId+":"+this.threadId},e}(),B=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.onLeftClick=function(t,n,i){return n instanceof V?this.showMoreStackFrames(t,n):(this.focusStackFrame(n,i,!0),e.prototype.onLeftClick.call(this,t,n,i))},t.prototype.onEnter=function(t,n){var i=t.getFocus();return i instanceof V?this.showMoreStackFrames(t,i):(this.focusStackFrame(i,n,!1),e.prototype.onEnter.call(this,t,n))},t.prototype.onUp=function(t,n){return e.prototype.onUp.call(this,t,n),this.focusStackFrame(t.getFocus(),n,!0),!0},t.prototype.onPageUp=function(t,n){return e.prototype.onPageUp.call(this,t,n),this.focusStackFrame(t.getFocus(),n,!0),!0},t.prototype.onDown=function(t,n){return e.prototype.onDown.call(this,t,n),this.focusStackFrame(t.getFocus(),n,!0),!0},t.prototype.onPageDown=function(t,n){return e.prototype.onPageDown.call(this,t,n),this.focusStackFrame(t.getFocus(),n,!0),!0},t.prototype.getContext=function(e){if(e instanceof T.StackFrame)return e.source.uri.toString()},t.prototype.showMoreStackFrames=function(e,t){var n=this.debugService.getModel().getProcesses().filter(function(e){return e.getId()===t.processId}).pop(),i=n&&n.getThread(t.threadId);return i&&i.fetchCallStack(!0).done(function(){return e.refresh()},a.onUnexpectedError),!0},t.prototype.focusStackFrame=function(e,t,n){var i,r;if(e instanceof T.StackFrame&&(i=e,r=e.thread.process),e instanceof T.Thread&&(r=e.process),e instanceof T.Process&&(r=e),this.debugService.focusStackFrameAndEvaluate(i,r).done(null,a.onUnexpectedError),i){var o=t&&(t.ctrlKey||t.metaKey);this.debugService.openOrRevealSource(i.source,i.lineNumber,n,o).done(null,a.onUnexpectedError)}},t}(W);t.CallStackController=B;var H=function(){function e(e,t){this.instantiationService=e,this.debugService=t}return e.prototype.hasActions=function(e,t){return!1},e.prototype.getActions=function(e,t){return i.TPromise.as([])},e.prototype.hasSecondaryActions=function(e,t){return t instanceof T.Thread||t instanceof T.StackFrame},e.prototype.getSecondaryActions=function(e,t){var n=[];if(t instanceof T.Thread){var r=t;r.stopped?(n.push(this.instantiationService.createInstance(A.ContinueAction,A.ContinueAction.ID,A.ContinueAction.LABEL)),n.push(this.instantiationService.createInstance(A.StepOverAction,A.StepOverAction.ID,A.StepOverAction.LABEL)),n.push(this.instantiationService.createInstance(A.StepIntoAction,A.StepIntoAction.ID,A.StepIntoAction.LABEL)),n.push(this.instantiationService.createInstance(A.StepOutAction,A.StepOutAction.ID,A.StepOutAction.LABEL))):n.push(this.instantiationService.createInstance(A.PauseAction,A.PauseAction.ID,A.PauseAction.LABEL))}else if(t instanceof T.StackFrame){var o=this.debugService.getViewModel().focusedProcess.session.configuration.capabilities;"boolean"==typeof o.supportsRestartFrame&&o.supportsRestartFrame&&n.push(this.instantiationService.createInstance(A.RestartFrameAction,A.RestartFrameAction.ID,A.RestartFrameAction.LABEL))}return i.TPromise.as(n)},e.prototype.getActionItem=function(e,t,n){return null},e=g([v(0,S.IInstantiationService),v(1,I.IDebugService)],e)}();t.CallStackActionProvider=H;var z=function(){function e(){}return e.prototype.getId=function(e,t){return"string"==typeof t?t:t.getId()},e.prototype.hasChildren=function(e,t){return t instanceof T.Model||t instanceof T.Process||t instanceof T.Thread&&t.stopped},e.prototype.getChildren=function(e,t){if(t instanceof T.Thread)return this.getThreadChildren(t);if(t instanceof T.Model)return i.TPromise.as(t.getProcesses());var n=t;return i.TPromise.as(n.getAllThreads())},e.prototype.getThreadChildren=function(e){return e.fetchCallStack().then(function(t){return e.stoppedDetails&&e.stoppedDetails.framesErrorMessage?t.concat([e.stoppedDetails.framesErrorMessage]):e.stoppedDetails&&e.stoppedDetails.totalFrames>t.length?t.concat([new V(e.process.getId(),e.threadId)]):t})},e.prototype.getParent=function(e,t){return i.TPromise.as(null)},e}();t.CallStackDataSource=z;var U=function(){function e(e){this.contextService=e}return e.prototype.getHeight=function(e,t){return 22},e.prototype.getTemplateId=function(t,n){return n instanceof T.Process?e.PROCESS_TEMPLATE_ID:n instanceof T.Thread?e.THREAD_TEMPLATE_ID:n instanceof T.StackFrame?e.STACK_FRAME_TEMPLATE_ID:"string"==typeof n?e.ERROR_TEMPLATE_ID:e.LOAD_MORE_TEMPLATE_ID},e.prototype.renderTemplate=function(t,n,i){if(n===e.PROCESS_TEMPLATE_ID){var r=Object.create(null);return r.process=l.append(i,O(".process")),r.name=l.append(r.process,O(".name")),r.state=l.append(r.process,O(".state")),r.stateLabel=l.append(r.state,O("span.label")),r}if(n===e.LOAD_MORE_TEMPLATE_ID){var o=Object.create(null);return o.label=l.append(i,O(".load-more")),o}if(n===e.ERROR_TEMPLATE_ID){var s=Object.create(null);return s.label=l.append(i,O(".error")),s}if(n===e.THREAD_TEMPLATE_ID){var a=Object.create(null);return a.thread=l.append(i,O(".thread")),a.name=l.append(a.thread,O(".name")),a.state=l.append(a.thread,O(".state")),a.stateLabel=l.append(a.state,O("span.label")),a}var c=Object.create(null);return c.stackFrame=l.append(i,O(".stack-frame")),c.label=l.append(c.stackFrame,O("span.label.expression")),c.file=l.append(c.stackFrame,O(".file")),c.fileName=l.append(c.file,O("span.file-name")),c.lineNumber=l.append(c.file,O("span.line-number")),c},e.prototype.renderElement=function(t,n,i,r){i===e.PROCESS_TEMPLATE_ID?this.renderProcess(n,r):i===e.THREAD_TEMPLATE_ID?this.renderThread(n,r):i===e.STACK_FRAME_TEMPLATE_ID?this.renderStackFrame(n,r):i===e.ERROR_TEMPLATE_ID?this.renderError(n,r):i===e.LOAD_MORE_TEMPLATE_ID&&this.renderLoadMore(n,r)},e.prototype.renderProcess=function(e,t){t.process.title=n.localize(0,null),t.name.textContent=e.name;var i=e.getAllThreads().filter(function(e){return e.stopped}).pop();t.stateLabel.textContent=i?n.localize(1,null):n.localize(2,null)},e.prototype.renderThread=function(e,t){t.thread.title=n.localize(3,null),t.name.textContent=e.name,t.stateLabel.textContent=e.stopped?n.localize(4,null,e.stoppedDetails.reason):n.localize(5,null)},e.prototype.renderError=function(e,t){t.label.textContent=e,t.label.title=e},e.prototype.renderLoadMore=function(e,t){t.label.textContent=n.localize(6,null)},e.prototype.renderStackFrame=function(e,t){e.source.available?l.removeClass(t.stackFrame,"disabled"):l.addClass(t.stackFrame,"disabled"),t.file.title=e.source.uri.fsPath,t.label.textContent=e.name,t.label.title=e.name,t.fileName.textContent=R(e.source,this.contextService),void 0!==e.lineNumber?(t.lineNumber.textContent=""+e.lineNumber,l.removeClass(t.lineNumber,"unavailable")):l.addClass(t.lineNumber,"unavailable")},e.prototype.disposeTemplate=function(e,t,n){},e.THREAD_TEMPLATE_ID="thread",e.STACK_FRAME_TEMPLATE_ID="stackFrame",e.ERROR_TEMPLATE_ID="error",e.LOAD_MORE_TEMPLATE_ID="loadMore",e.PROCESS_TEMPLATE_ID="process",e=g([v(0,E.IWorkspaceContextService)],e)}();t.CallStackRenderer=U;var G=function(){function e(e){this.contextService=e}return e.prototype.getAriaLabel=function(e,t){return t instanceof T.Thread?n.localize(7,null,t.name):t instanceof T.StackFrame?n.localize(8,null,t.name,t.lineNumber,R(t.source,this.contextService)):null},e=g([v(0,E.IWorkspaceContextService)],e)}();t.CallstackAccessibilityProvider=G;var K=function(){function e(e){this.instantiationService=e}return e.prototype.hasActions=function(e,t){return!1},e.prototype.getActions=function(e,t){return i.TPromise.as([])},e.prototype.hasSecondaryActions=function(e,t){return t instanceof T.Variable},e.prototype.getSecondaryActions=function(e,t){var n=[],r=t;return r.hasChildren||(n.push(this.instantiationService.createInstance(A.SetValueAction,A.SetValueAction.ID,A.SetValueAction.LABEL,r)),n.push(this.instantiationService.createInstance(D.CopyValueAction,D.CopyValueAction.ID,D.CopyValueAction.LABEL,r)),n.push(new p.Separator)),n.push(this.instantiationService.createInstance(A.AddToWatchExpressionsAction,A.AddToWatchExpressionsAction.ID,A.AddToWatchExpressionsAction.LABEL,r)),i.TPromise.as(n)},e.prototype.getActionItem=function(e,t,n){return null},e}();t.VariablesActionProvider=K;var j=function(){function e(){}return e.prototype.getId=function(e,t){return t.getId()},e.prototype.hasChildren=function(e,t){if(t instanceof x.ViewModel||t instanceof T.Scope)return!0;var n=t;return n.hasChildren&&!c.equalsIgnoreCase(n.value,"null")},e.prototype.getChildren=function(e,t){if(t instanceof x.ViewModel){var n=t.focusedStackFrame;return n?n.getScopes():i.TPromise.as([])}var r=t;return r.getChildren()},e.prototype.getParent=function(e,t){return i.TPromise.as(null)},e}();t.VariablesDataSource=j;var q=function(){function e(e,t){this.debugService=e,this.contextViewService=t}return e.prototype.getHeight=function(e,t){return 22},e.prototype.getTemplateId=function(t,n){return n instanceof T.Scope?e.SCOPE_TEMPLATE_ID:n instanceof T.Variable?e.VARIABLE_TEMPLATE_ID:null},e.prototype.renderTemplate=function(t,n,i){if(n===e.SCOPE_TEMPLATE_ID){var r=Object.create(null);return r.name=l.append(i,O(".scope")),r}var o=Object.create(null);return o.expression=l.append(i,O(".expression")),o.name=l.append(o.expression,O("span.name")),o.value=l.append(o.expression,O("span.value")),o},e.prototype.renderElement=function(t,i,r,o){if(r===e.SCOPE_TEMPLATE_ID)this.renderScope(i,o);else{var s=i;s===this.debugService.getViewModel().getSelectedExpression()||s.errorMessage?P(this.debugService,this.contextViewService,t,s,o.expression,{initialValue:s.value,ariaLabel:n.localize(9,null),validationOptions:{validation:function(e){return s.errorMessage?{content:s.errorMessage}:null}}}):k(t,s,o,!0)}},e.prototype.renderScope=function(e,t){t.name.textContent=e.name},e.prototype.disposeTemplate=function(e,t,n){},e.SCOPE_TEMPLATE_ID="scope",e.VARIABLE_TEMPLATE_ID="variable",e=g([v(0,I.IDebugService),v(1,b.IContextViewService)],e)}();t.VariablesRenderer=q;var $=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return t instanceof T.Scope?n.localize(10,null,t.name):t instanceof T.Variable?n.localize(11,null,t.name,t.value):null},e}();t.VariablesAccessibilityProvider=$;var Y=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.onLeftClick=function(t,n,i){if(n instanceof T.Variable&&2===i.detail){var r=n;return r.hasChildren||this.debugService.getViewModel().setSelectedExpression(r),!0}return e.prototype.onLeftClick.call(this,t,n,i)},t.prototype.onEnter=function(e,t){var n=e.getFocus();return n instanceof T.Variable&&!n.hasChildren&&(this.debugService.getViewModel().setSelectedExpression(n),!0)},t}(W);t.VariablesController=Y;var X=function(){function e(e){this.instantiationService=e}return e.prototype.hasActions=function(e,t){return t instanceof T.Expression&&!!t.name},e.prototype.hasSecondaryActions=function(e,t){return!0},e.prototype.getActions=function(e,t){return i.TPromise.as(this.getExpressionActions())},e.prototype.getExpressionActions=function(){return[this.instantiationService.createInstance(A.RemoveWatchExpressionAction,A.RemoveWatchExpressionAction.ID,A.RemoveWatchExpressionAction.LABEL)]},e.prototype.getSecondaryActions=function(e,t){var n=[];if(t instanceof T.Expression){var r=t;n.push(this.instantiationService.createInstance(A.AddWatchExpressionAction,A.AddWatchExpressionAction.ID,A.AddWatchExpressionAction.LABEL)),n.push(this.instantiationService.createInstance(A.EditWatchExpressionAction,A.EditWatchExpressionAction.ID,A.EditWatchExpressionAction.LABEL,r)),r.hasChildren||n.push(this.instantiationService.createInstance(D.CopyValueAction,D.CopyValueAction.ID,D.CopyValueAction.LABEL,r.value)),n.push(new p.Separator),n.push(this.instantiationService.createInstance(A.RemoveWatchExpressionAction,A.RemoveWatchExpressionAction.ID,A.RemoveWatchExpressionAction.LABEL)),n.push(this.instantiationService.createInstance(A.RemoveAllWatchExpressionsAction,A.RemoveAllWatchExpressionsAction.ID,A.RemoveAllWatchExpressionsAction.LABEL))}else{if(n.push(this.instantiationService.createInstance(A.AddWatchExpressionAction,A.AddWatchExpressionAction.ID,A.AddWatchExpressionAction.LABEL)),t instanceof T.Variable){var o=t;o.hasChildren||n.push(this.instantiationService.createInstance(D.CopyValueAction,D.CopyValueAction.ID,D.CopyValueAction.LABEL,o.value)),n.push(new p.Separator)}n.push(this.instantiationService.createInstance(A.RemoveAllWatchExpressionsAction,A.RemoveAllWatchExpressionsAction.ID,A.RemoveAllWatchExpressionsAction.LABEL))}return i.TPromise.as(n)},e.prototype.getActionItem=function(e,t,n){return null},e}();t.WatchExpressionsActionProvider=X;var Q=function(){function e(){}return e.prototype.getId=function(e,t){return t.getId()},e.prototype.hasChildren=function(e,t){if(t instanceof T.Model)return!0;var n=t;return n.hasChildren&&!c.equalsIgnoreCase(n.value,"null")},e.prototype.getChildren=function(e,t){if(t instanceof T.Model)return i.TPromise.as(t.getWatchExpressions());var n=t;return n.getChildren()},e.prototype.getParent=function(e,t){return i.TPromise.as(null)},e}();t.WatchExpressionsDataSource=Q;var Z=function(){function e(e,t,n,i){this.actionRunner=t,this.debugService=n,this.contextViewService=i,this.toDispose=[],this.actionProvider=e}return e.prototype.getHeight=function(e,t){return 22},e.prototype.getTemplateId=function(t,n){return n instanceof T.Expression?e.WATCH_EXPRESSION_TEMPLATE_ID:e.VARIABLE_TEMPLATE_ID},e.prototype.renderTemplate=function(t,n,i){var r=function(e,t){e.expression=l.append(t,O(".expression")),e.name=l.append(e.expression,O("span.name")),e.value=l.append(e.expression,O("span.value"))};if(n===e.WATCH_EXPRESSION_TEMPLATE_ID){var o=Object.create(null);return o.watchExpression=l.append(i,O(".watch-expression")),r(o,o.watchExpression),o.actionBar=new p.ActionBar(o.watchExpression,{actionRunner:this.actionRunner}),o.actionBar.push(this.actionProvider.getExpressionActions(),{icon:!0,label:!1}),o}var s=Object.create(null);return r(s,i),s},e.prototype.renderElement=function(t,n,i,r){i===e.WATCH_EXPRESSION_TEMPLATE_ID?this.renderWatchExpression(t,n,r):k(t,n,r,!0)},e.prototype.renderWatchExpression=function(e,t,i){var r=this.debugService.getViewModel().getSelectedExpression();(r instanceof T.Expression&&r.getId()===t.getId()||t instanceof T.Expression&&!t.name)&&P(this.debugService,this.contextViewService,e,t,i.expression,{initialValue:t.name,placeholder:n.localize(12,null),ariaLabel:n.localize(13,null)}),i.actionBar.context=t,i.name.textContent=t.name,t.value&&(i.name.textContent+=":",L(t,i.value,{showChanged:!0,maxValueLength:F,preserveWhitespace:!1,showHover:!0}),i.name.title=t.type?t.type:t.value)},e.prototype.disposeTemplate=function(t,n,i){n===e.WATCH_EXPRESSION_TEMPLATE_ID&&i.actionBar.dispose()},e.prototype.dispose=function(){this.toDispose=r.dispose(this.toDispose)},e.WATCH_EXPRESSION_TEMPLATE_ID="watchExpression",e.VARIABLE_TEMPLATE_ID="variables",e=g([v(2,I.IDebugService),v(3,b.IContextViewService)],e)}();t.WatchExpressionsRenderer=Z;var J=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return t instanceof T.Expression?n.localize(14,null,t.name,t.value):t instanceof T.Variable?n.localize(15,null,t.name,t.value):null},e}();t.WatchExpressionsAccessibilityProvider=J;var ee=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.onLeftClick=function(t,n,i){if(n instanceof T.Expression&&2===i.detail){var r=n;return r.hasChildren||this.debugService.getViewModel().setSelectedExpression(r),!0}return e.prototype.onLeftClick.call(this,t,n,i)},t.prototype.onRename=function(e,t){var n=e.getFocus();if(n instanceof T.Expression){var i=n;return i.hasChildren||this.debugService.getViewModel().setSelectedExpression(i),!0}return!1},t.prototype.onDelete=function(e,t){var n=e.getFocus();if(n instanceof T.Expression){var i=n;return this.debugService.removeWatchExpressions(i.getId()),!0}return!1},t}(W);t.WatchExpressionsController=ee;var te=function(e){function t(t){e.call(this),this.debugService=t}return d(t,e),t.prototype.getDragURI=function(e,t){return t instanceof T.Expression?t.getId():null},t.prototype.getDragLabel=function(e,t){return t.length>1?String(t.length):t[0].name},t.prototype.onDragOver=function(e,t,n,i){return f.DRAG_OVER_ACCEPT},t.prototype.drop=function(e,t,n,i){var r=t.getData();if(Array.isArray(r)){var o=r[0],s=this.debugService.getModel().getWatchExpressions(),a=n instanceof T.Model?s.length-1:s.indexOf(n);this.debugService.moveWatchExpression(o.getId(),a)}},t=g([v(0,I.IDebugService)],t)}(y.DefaultDragAndDrop);t.WatchExpressionsDragAndDrop=te;var ne=function(){function e(e){this.instantiationService=e}return e.prototype.hasActions=function(e,t){return t instanceof T.Breakpoint},e.prototype.hasSecondaryActions=function(e,t){return t instanceof T.Breakpoint||t instanceof T.ExceptionBreakpoint||t instanceof T.FunctionBreakpoint},e.prototype.getActions=function(e,t){return t instanceof T.Breakpoint?i.TPromise.as(this.getBreakpointActions()):i.TPromise.as([])},e.prototype.getBreakpointActions=function(){return[this.instantiationService.createInstance(A.RemoveBreakpointAction,A.RemoveBreakpointAction.ID,A.RemoveBreakpointAction.LABEL)]},e.prototype.getSecondaryActions=function(e,t){var n=[this.instantiationService.createInstance(A.ToggleEnablementAction,A.ToggleEnablementAction.ID,A.ToggleEnablementAction.LABEL)];return n.push(new p.Separator),(t instanceof T.Breakpoint||t instanceof T.FunctionBreakpoint)&&n.push(this.instantiationService.createInstance(A.RemoveBreakpointAction,A.RemoveBreakpointAction.ID,A.RemoveBreakpointAction.LABEL)),n.push(this.instantiationService.createInstance(A.RemoveAllBreakpointsAction,A.RemoveAllBreakpointsAction.ID,A.RemoveAllBreakpointsAction.LABEL)),n.push(new p.Separator),n.push(this.instantiationService.createInstance(A.ToggleBreakpointsActivatedAction,A.ToggleBreakpointsActivatedAction.ID,A.ToggleBreakpointsActivatedAction.ACTIVATE_LABEL)),n.push(new p.Separator),n.push(this.instantiationService.createInstance(A.EnableAllBreakpointsAction,A.EnableAllBreakpointsAction.ID,A.EnableAllBreakpointsAction.LABEL)),n.push(this.instantiationService.createInstance(A.DisableAllBreakpointsAction,A.DisableAllBreakpointsAction.ID,A.DisableAllBreakpointsAction.LABEL)),n.push(new p.Separator),n.push(this.instantiationService.createInstance(A.AddFunctionBreakpointAction,A.AddFunctionBreakpointAction.ID,A.AddFunctionBreakpointAction.LABEL)),t instanceof T.FunctionBreakpoint&&n.push(this.instantiationService.createInstance(A.RenameFunctionBreakpointAction,A.RenameFunctionBreakpointAction.ID,A.RenameFunctionBreakpointAction.LABEL)),n.push(new p.Separator),n.push(this.instantiationService.createInstance(A.ReapplyBreakpointsAction,A.ReapplyBreakpointsAction.ID,A.ReapplyBreakpointsAction.LABEL)),i.TPromise.as(n)},e.prototype.getActionItem=function(e,t,n){return null},e}();t.BreakpointsActionProvider=ne;var ie=function(){function e(){}return e.prototype.getId=function(e,t){return t.getId()},e.prototype.hasChildren=function(e,t){return t instanceof T.Model},e.prototype.getChildren=function(e,t){var n=t,r=n.getExceptionBreakpoints();return i.TPromise.as(r.concat(n.getFunctionBreakpoints()).concat(n.getBreakpoints()))},e.prototype.getParent=function(e,t){return i.TPromise.as(null)},e}();t.BreakpointsDataSource=ie;var re=function(){function e(e,t,n,i,r){this.actionProvider=e,this.actionRunner=t,this.contextService=n,this.debugService=i,this.contextViewService=r}return e.prototype.getHeight=function(e,t){return 22},e.prototype.getTemplateId=function(t,n){return n instanceof T.Breakpoint?e.BREAKPOINT_TEMPLATE_ID:n instanceof T.FunctionBreakpoint?e.FUNCTION_BREAKPOINT_TEMPLATE_ID:n instanceof T.ExceptionBreakpoint?e.EXCEPTION_BREAKPOINT_TEMPLATE_ID:null},e.prototype.renderTemplate=function(t,n,i){var r=this,o=Object.create(null);if(o.breakpoint=l.append(i,O(".breakpoint")),o.checkbox=O("input"),o.checkbox.type="checkbox",o.toDispose=[],o.toDispose.push(l.addStandardDisposableListener(o.checkbox,"change",function(e){r.debugService.enableOrDisableBreakpoints(!o.context.enabled,o.context)})),l.append(o.breakpoint,o.checkbox),o.name=l.append(o.breakpoint,O("span.name")),n===e.BREAKPOINT_TEMPLATE_ID){o.filePath=l.append(o.breakpoint,O("span.file-path"));var s=l.append(o.breakpoint,O(".line-number-container"));o.lineNumber=l.append(s,O("span.line-number"))}return n===e.EXCEPTION_BREAKPOINT_TEMPLATE_ID&&l.addClass(o.breakpoint,"exception"),o},e.prototype.renderElement=function(t,n,i,r){r.context=n,i===e.EXCEPTION_BREAKPOINT_TEMPLATE_ID?this.renderExceptionBreakpoint(n,r):i===e.FUNCTION_BREAKPOINT_TEMPLATE_ID?this.renderFunctionBreakpoint(t,n,r):this.renderBreakpoint(t,n,r)},e.prototype.renderExceptionBreakpoint=function(e,t){t.name.textContent=e.label||e.filter+" exceptions",t.breakpoint.title=t.name.textContent,t.checkbox.checked=e.enabled},e.prototype.renderFunctionBreakpoint=function(e,t,i){var r=this.debugService.getViewModel().getSelectedFunctionBreakpoint();if(!t.name||r&&r.getId()===t.getId())i.name.textContent="",P(this.debugService,this.contextViewService,e,t,i.breakpoint,{initialValue:t.name,placeholder:n.localize(16,null),ariaLabel:n.localize(17,null)});else{i.name.textContent=t.name,i.checkbox.checked=t.enabled,i.breakpoint.title=t.name;var o=this.debugService.getViewModel().focusedProcess;o&&!o.session.configuration.capabilities.supportsFunctionBreakpoints||!this.debugService.getModel().areBreakpointsActivated()?(e.addTraits("disabled",[t]),o&&!o.session.configuration.capabilities.supportsFunctionBreakpoints&&(i.breakpoint.title=n.localize(18,null))):e.removeTraits("disabled",[t])}},e.prototype.renderBreakpoint=function(e,t,n){this.debugService.getModel().areBreakpointsActivated()?e.removeTraits("disabled",[t]):e.addTraits("disabled",[t]),n.name.textContent=h.getPathLabel(o.basename(t.uri.fsPath),this.contextService),n.lineNumber.textContent=t.lineNumber.toString(),n.filePath.textContent=h.getPathLabel(o.dirname(t.uri.fsPath),this.contextService),n.checkbox.checked=t.enabled;var i=this.debugService.state===I.State.Running||this.debugService.state===I.State.Stopped||this.debugService.state===I.State.Initializing;i&&!t.verified?(e.addTraits("disabled",[t]),t.message&&(n.breakpoint.title=t.message)):(t.condition||t.hitCondition)&&(n.breakpoint.title=t.condition?t.condition:t.hitCondition)},e.prototype.disposeTemplate=function(e,t,n){r.dispose(n.toDispose)},e.EXCEPTION_BREAKPOINT_TEMPLATE_ID="exceptionBreakpoint",e.FUNCTION_BREAKPOINT_TEMPLATE_ID="functionBreakpoint",e.BREAKPOINT_TEMPLATE_ID="breakpoint",e=g([v(2,E.IWorkspaceContextService),v(3,I.IDebugService),v(4,b.IContextViewService)],e)}();t.BreakpointsRenderer=re;var oe=function(){function e(e){this.contextService=e}return e.prototype.getAriaLabel=function(e,t){return t instanceof T.Breakpoint?n.localize(19,null,t.lineNumber,h.getPathLabel(o.basename(t.uri.fsPath),this.contextService),this.contextService):t instanceof T.FunctionBreakpoint?n.localize(20,null,t.name):t instanceof T.ExceptionBreakpoint?n.localize(21,null,t.filter):null},e=g([v(0,E.IWorkspaceContextService)],e)}();t.BreakpointsAccessibilityProvider=oe;var se=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.onLeftClick=function(t,n,i){return n instanceof T.FunctionBreakpoint&&2===i.detail?(this.debugService.getViewModel().setSelectedFunctionBreakpoint(n),
!0):(n instanceof T.Breakpoint&&this.openBreakpointSource(n,i,!0),e.prototype.onLeftClick.call(this,t,n,i))},t.prototype.onRename=function(t,n){var i=t.getFocus();return i instanceof T.FunctionBreakpoint&&i.name?(this.debugService.getViewModel().setSelectedFunctionBreakpoint(i),!0):(i instanceof T.Breakpoint&&this.openBreakpointSource(i,n,!1),e.prototype.onEnter.call(this,t,n))},t.prototype.onSpace=function(t,n){e.prototype.onSpace.call(this,t,n);var i=t.getFocus();return this.debugService.enableOrDisableBreakpoints(!i.enabled,i).done(null,a.onUnexpectedError),!0},t.prototype.onDelete=function(e,t){var n=e.getFocus();if(n instanceof T.Breakpoint)return this.debugService.removeBreakpoints(n.getId()).done(null,a.onUnexpectedError),!0;if(n instanceof T.FunctionBreakpoint){var i=n;return this.debugService.removeFunctionBreakpoints(i.getId()).done(null,a.onUnexpectedError),!0}return!1},t.prototype.openBreakpointSource=function(e,t,n){var i=t&&(t.ctrlKey||t.metaKey);this.debugService.openOrRevealSource(e.uri,e.lineNumber,n,i).done(null,a.onUnexpectedError)},t}(W);t.BreakpointsController=se}),define(l[1040],h([1,0,501,5,2,8,111,85,15,59,151,252]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";var p=o.$,f=18,g=4096,v=function(){function e(e,t,n){this.editor=e,this.debugService=t,this.allowEditorOverflow=!0,this.toDispose=[],this.create(n),this.registerListeners(),this.valueContainer=o.append(this.domNode,p(".value")),this.valueContainer.tabIndex=0,this.valueContainer.setAttribute("role","tooltip"),this._isVisible=!1,this.showAtPosition=null,this.highlightDecorations=[],this.editor.addContentWidget(this),this.editor.applyFontInfo(this.domNode)}return e.prototype.create=function(e){this.domNode=p(".debug-hover-widget"),this.complexValueContainer=o.append(this.domNode,p(".complex-value")),this.complexValueTitle=o.append(this.complexValueContainer,p(".title")),this.treeContainer=o.append(this.complexValueContainer,p(".debug-hover-tree")),this.treeContainer.setAttribute("role","tree"),this.tree=new s.Tree(this.treeContainer,{dataSource:new h.VariablesDataSource,renderer:e.createInstance(y),controller:new m(this.editor)},{indentPixels:6,twistiePixels:15,ariaLabel:n.localize(0,null)})},e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.tree.addListener2("item:expanded",function(){e.layoutTree()})),this.toDispose.push(this.tree.addListener2("item:collapsed",function(){e.layoutTree()})),this.toDispose.push(o.addStandardDisposableListener(this.domNode,"keydown",function(t){t.equals(9)&&e.hide()})),this.toDispose.push(this.editor.onDidChangeConfiguration(function(t){t.fontInfo&&e.editor.applyFontInfo(e.domNode)}))},e.prototype.isVisible=function(){return this._isVisible},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this.domNode},e.prototype.getExactExpressionRange=function(e,t){for(var n=void 0,i=0,r=/([^()\[\]{}<>\s+\-\/%~#^;=|,`!]|\->)+/g,o=void 0;o=r.exec(e);){var s=o.index+1,a=s+o[0].length;if(s<=t.startColumn&&a>=t.endColumn){n=o[0],i=s;break}}if(n){for(var u=/\w+/g,l=void 0;l=u.exec(n);){var h=l.index+1+i+l[0].length;if(h>=t.endColumn)break}l&&(n=n.substring(0,u.lastIndex))}return n?new c.Range(t.startLineNumber,i,t.endLineNumber,i+n.length-1):new c.Range(t.startLineNumber,0,t.endLineNumber,0)},e.prototype.showAt=function(e,t,n){var i=this,r=e.getStartPosition(),o=this.debugService.getViewModel().focusedStackFrame;if(t&&o&&o.source.uri.toString()===this.editor.getModel().uri.toString()){var s,a=this.debugService.getViewModel().focusedProcess,u=this.editor.getModel().getLineContent(r.lineNumber),h=this.getExactExpressionRange(u,e),d=u.substring(h.startColumn-1,h.endColumn);if(a.session.configuration.capabilities.supportsEvaluateForHovers){var p=new l.Expression(d);s=p.evaluate(a,o,"hover").then(function(){return p})}else s=this.findExpressionInStackFrame(d.split(".").map(function(e){return e.trim()}).filter(function(e){return!!e}),h);return s.then(function(e){return!e||e instanceof l.Expression&&!e.available?void i.hide():(i.highlightDecorations=i.editor.deltaDecorations(i.highlightDecorations,[{range:new c.Range(r.lineNumber,h.startColumn,r.lineNumber,h.startColumn+d.length),options:{className:"hoverHighlight"}}]),i.doShow(r,e,n))})}},e.prototype.doFindExpression=function(e,t){var n=this;return e.getChildren().then(function(e){var i=e.filter(function(e){return"string"==typeof e.name&&(t[0]===e.name||t[0]===e.name.substr(e.name.lastIndexOf(" ")+1))});return 1!==i.length?null:1===t.length?i[0]:n.doFindExpression(i[0],t.slice(1))})},e.prototype.findExpressionInStackFrame=function(e,t){var n=this;return this.debugService.getViewModel().focusedStackFrame.getScopes().then(function(e){return e.filter(function(e){return!e.expensive&&(!e.range||c.Range.containsRange(e.range,t))})}).then(function(t){return r.TPromise.join(t.map(function(t){return n.doFindExpression(t,e)}))}).then(function(e){return e.filter(function(e){return!!e})}).then(function(e){return e.length>0&&e.every(function(t){return t.value===e[0].value})?e[0]:null})},e.prototype.doShow=function(e,t,n,i){var o=this;return void 0===i&&(i=!1),this.showAtPosition=e,this._isVisible=!0,this.stoleFocus=n,!t.hasChildren||i?(this.complexValueContainer.hidden=!0,this.valueContainer.hidden=!1,h.renderExpressionValue(t,this.valueContainer,{showChanged:!1,maxValueLength:g,preserveWhitespace:!0}),this.valueContainer.title="",this.editor.layoutContentWidget(this),n&&(this.editor.render(),this.valueContainer.focus()),r.TPromise.as(null)):(this.valueContainer.hidden=!0,this.complexValueContainer.hidden=!1,this.tree.setInput(t).then(function(){o.complexValueTitle.textContent=t.value,o.complexValueTitle.title=t.value,o.layoutTree(),o.editor.layoutContentWidget(o),n&&(o.editor.render(),o.tree.DOMFocus())}))},e.prototype.layoutTree=function(){for(var e=this.tree.getNavigator(),t=0;e.next();)t++;if(0===t)this.doShow(this.showAtPosition,this.tree.getInput(),!1,!0);else{var n=18*Math.min(t,f);this.treeContainer.clientHeight!==n&&(this.treeContainer.style.height=n+"px",this.tree.layout())}},e.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this.editor.deltaDecorations(this.highlightDecorations,[]),this.highlightDecorations=[],this.editor.layoutContentWidget(this),this.stoleFocus&&this.editor.focus())},e.prototype.getPosition=function(){return this._isVisible?{position:this.showAtPosition,preference:[u.ContentWidgetPositionPreference.ABOVE,u.ContentWidgetPositionPreference.BELOW]}:null},e.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose)},e.ID="debug.hoverWidget",e}();t.DebugHoverWidget=v;var m=function(e){function t(t){e.call(this),this.editor=t}return d(t,e),t.prototype.onLeftClick=function(t,n,i,r){return void 0===r&&(r="mouse"),n.reference>0&&(e.prototype.onLeftClick.call(this,t,n,i,r),t.clearFocus(),t.deselect(n),this.editor.focus()),!0},t}(a.DefaultController),y=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getHeight=function(e,t){return 18},t}(h.VariablesRenderer)}),define(l[1041],h([1,0,500,7,2,17,5,13,96,24,58,10,46,62,6,34,23,39,1040,116,82,905,322]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S,E,_,C,w){"use strict";var I=300,T=/launch\.json$/,x=function(){function e(e,t,n,i,r,s,a){var c=this;this.editor=e,this.debugService=t,this.contextMenuService=n,this.instantiationService=i,this.codeEditorService=r,this.commandService=a,this.breakpointHintDecoration=[],this.hoverWidget=new S.DebugHoverWidget(this.editor,this.debugService,this.instantiationService),this.toDispose=[],this.showHoverScheduler=new o.RunOnceScheduler(function(){return c.showHover(c.hoverRange,c.hoveringOver,!1)},I),this.hideHoverScheduler=new o.RunOnceScheduler(function(){return c.hoverWidget.hide()},I),this.registerListeners(),this.breakpointWidgetVisible=_.CONTEXT_BREAKPOINT_WIDGET_VISIBLE.bindTo(s),this.updateConfigurationWidgetVisibility()}return e.prototype.getContextMenuActions=function(e,t,i){var o=this,s=[];return e?(s.push(this.instantiationService.createInstance(E.RemoveBreakpointAction,E.RemoveBreakpointAction.ID,E.RemoveBreakpointAction.LABEL)),s.push(this.instantiationService.createInstance(E.EditConditionalBreakpointAction,E.EditConditionalBreakpointAction.ID,E.EditConditionalBreakpointAction.LABEL,this.editor,i)),s.push(this.instantiationService.createInstance(E.ToggleEnablementAction,E.ToggleEnablementAction.ID,E.ToggleEnablementAction.LABEL))):(s.push(new u.Action("addBreakpoint",n.localize(0,null),null,(!0),function(){return o.debugService.addBreakpoints(t,[{lineNumber:i}])})),s.push(this.instantiationService.createInstance(E.AddConditionalBreakpointAction,E.AddConditionalBreakpointAction.ID,E.AddConditionalBreakpointAction.LABEL,this.editor,i))),r.TPromise.as(s)},e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.editor.onMouseDown(function(t){if(t.target.type===h.MouseTargetType.GUTTER_GLYPH_MARGIN&&!t.target.detail){var n=e.debugService.getConfigurationManager().canSetBreakpointsIn(e.editor.getModel()),i=t.target.position.lineNumber,r=e.editor.getModel().uri;if(t.event.rightButton||a.isMacintosh&&t.event.leftButton&&t.event.ctrlKey){if(!n)return;var o={x:t.event.posx+1,y:t.event.posy},s=e.debugService.getModel().getBreakpoints().filter(function(e){return e.lineNumber===i&&e.uri.toString()===r.toString()}).pop();e.contextMenuService.showContextMenu({getAnchor:function(){return o},getActions:function(){return e.getContextMenuActions(s,r,i)},getActionsContext:function(){return s}})}else{var c=e.debugService.getModel().getBreakpoints().filter(function(e){return e.uri.toString()===r.toString()&&e.lineNumber===i}).pop();c?e.debugService.removeBreakpoints(c.getId()):n&&e.debugService.addBreakpoints(r,[{lineNumber:i}])}}})),this.toDispose.push(this.editor.onMouseMove(function(t){var n=-1;t.target.type===h.MouseTargetType.GUTTER_GLYPH_MARGIN&&e.debugService.getConfigurationManager().canSetBreakpointsIn(e.editor.getModel())&&(t.target.detail||(n=t.target.position.lineNumber)),e.ensureBreakpointHintDecoration(n)})),this.toDispose.push(this.editor.onMouseLeave(function(t){e.ensureBreakpointHintDecoration(-1)})),this.toDispose.push(this.debugService.onDidChangeState(function(){return e.onDebugStateUpdate()})),this.toDispose.push(this.editor.onMouseDown(function(t){return e.onEditorMouseDown(t)})),this.toDispose.push(this.editor.onMouseMove(function(t){return e.onEditorMouseMove(t)})),this.toDispose.push(this.editor.onMouseLeave(function(t){var n=e.hoverWidget.getDomNode().getBoundingClientRect();(t.event.posx<n.left||t.event.posx>n.right||t.event.posy<n.top||t.event.posy>n.bottom)&&e.hideHoverWidget()})),this.toDispose.push(this.editor.onKeyDown(function(t){return e.onKeyDown(t)})),this.toDispose.push(this.editor.onDidChangeModel(function(){e.closeBreakpointWidget(),e.hideHoverWidget(),e.updateConfigurationWidgetVisibility()})),this.toDispose.push(this.editor.onDidScrollChange(function(){return e.hideHoverWidget}))},e.prototype.getId=function(){return _.EDITOR_CONTRIBUTION_ID},e.prototype.showHover=function(e,t,n){return this.hoverWidget.showAt(e,t,n)},e.prototype.ensureBreakpointHintDecoration=function(t){var n=[];t!==-1&&n.push({options:e.BREAKPOINT_HELPER_DECORATION,range:{startLineNumber:t,startColumn:1,endLineNumber:t,endColumn:1}}),this.breakpointHintDecoration=this.editor.deltaDecorations(this.breakpointHintDecoration,n)},e.prototype.onDebugStateUpdate=function(){var e=this.debugService.state;e!==_.State.Stopped&&this.hideHoverWidget(),this.codeEditorService.listCodeEditors().forEach(function(t){t.updateOptions({hover:e!==_.State.Stopped})})},e.prototype.hideHoverWidget=function(){!this.hideHoverScheduler.isScheduled()&&this.hoverWidget.isVisible()&&this.hideHoverScheduler.schedule(),this.showHoverScheduler.cancel(),this.hoveringOver=null},e.prototype.onEditorMouseDown=function(e){e.target.type===h.MouseTargetType.CONTENT_WIDGET&&e.target.detail===S.DebugHoverWidget.ID||this.hideHoverWidget()},e.prototype.onEditorMouseMove=function(e){if(this.debugService.state===_.State.Stopped){var t=e.target.type,n=a.isMacintosh?"metaKey":"ctrlKey";if(t!==h.MouseTargetType.CONTENT_WIDGET||e.target.detail!==S.DebugHoverWidget.ID||e.event[n])if(t===h.MouseTargetType.CONTENT_TEXT){var i=this.editor.getModel().getWordAtPosition(e.target.range.getStartPosition());i&&this.hoveringOver!==i.word&&(this.hoverRange=e.target.range,this.hoveringOver=i.word,this.showHoverScheduler.schedule())}else this.hideHoverWidget()}},e.prototype.onKeyDown=function(e){var t=a.isMacintosh?57:5;e.keyCode!==t&&this.hideHoverWidget()},e.prototype.showBreakpointWidget=function(e){this.breakpointWidget&&this.breakpointWidget.dispose(),this.breakpointWidget=this.instantiationService.createInstance(C.BreakpointWidget,this.editor,e),this.breakpointWidget.show({lineNumber:e,column:1},2),this.breakpointWidgetVisible.set(!0)},e.prototype.closeBreakpointWidget=function(){this.breakpointWidget&&(this.breakpointWidget.dispose(),this.breakpointWidget=null,this.breakpointWidgetVisible.reset(),this.editor.focus())},e.prototype.updateConfigurationWidgetVisibility=function(){var e=this,t=this.editor.getModel();t&&T.test(t.uri.toString())?(this.configurationWidget=this.instantiationService.createInstance(w.FloatingClickWidget,this.editor,n.localize(1,null),null),this.configurationWidget.render(),this.toDispose.push(this.configurationWidget.onClick(function(){return e.addLaunchConfiguration()}))):this.configurationWidget&&this.configurationWidget.dispose()},e.prototype.addLaunchConfiguration=function(){var e,t=this,n=0,o=this.editor.getModel();if(c.visit(o.getValue(),{onObjectProperty:function(t,i,r){"configurations"===t&&0===n&&(e=o.getPositionAt(i))},onArrayBegin:function(e,t){n++},onArrayEnd:function(e,t){n--}}),e){var s=function(e){return 0===t.editor.getModel().getLineLastNonWhitespaceColumn(e+1)?(t.editor.setSelection(new d.Selection(e+1,Number.MAX_VALUE,e+1,Number.MAX_VALUE)),r.TPromise.as(null)):(t.editor.setSelection(new d.Selection(e,Number.MAX_VALUE,e,Number.MAX_VALUE)),t.commandService.executeCommand("editor.action.insertLineAfter"))};s(e.lineNumber).done(function(){return t.commandService.executeCommand("editor.action.triggerSuggest")},i.onUnexpectedError)}},e.prototype.dispose=function(){this.breakpointWidget&&this.breakpointWidget.dispose(),this.hoverWidget&&this.hoverWidget.dispose(),this.configurationWidget&&this.configurationWidget.dispose(),this.toDispose=s.dispose(this.toDispose)},e.BREAKPOINT_HELPER_DECORATION={glyphMarginClassName:"debug-breakpoint-hint-glyph",stickiness:h.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e=g([l.editorContribution,v(1,_.IDebugService),v(2,b.IContextMenuService),v(3,f.IInstantiationService),v(4,p.ICodeEditorService),v(5,y.IContextKeyService),v(6,m.ICommandService)],e)}();t.DebugEditorContribution=x}),define(l[1042],h([1,0,508,2,12,16,13,43,8,7,32,79,82,151,252,116,300,39,31,23,22]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C){"use strict";var w=c.$,I=function(){function e(){}return e.prototype.getId=function(e,t){return t.getId()},e.prototype.hasChildren=function(e,t){return t instanceof f.Model||t.hasChildren},e.prototype.getChildren=function(e,t){return t instanceof f.Model?i.TPromise.as(t.getReplElements()):t instanceof f.OutputNameValueElement?i.TPromise.as(t.getChildren()):t instanceof f.OutputElement?i.TPromise.as(null):t.getChildren()},e.prototype.getParent=function(e,t){return i.TPromise.as(null)},e}();t.ReplExpressionsDataSource=I;var T=function(){function e(e){this.editorService=e}return e.prototype.getHeight=function(e,t){return this.getHeightForString(t.value)+(t instanceof f.Expression?this.getHeightForString(t.name):0)},e.prototype.getHeightForString=function(t){var n=this;if(!t||!t.length||!this.width||this.width<=0||!this.characterWidth||this.characterWidth<=0)return e.LINE_HEIGHT_PX;r.endsWith(t,"\n")&&(t=t.substr(0,t.length-1));var i=r.removeAnsiEscapeCodes(t).split("\n"),o=i.reduce(function(e,t){for(var i=0,o=0;o<t.length;o++)i+=r.isFullWidthCharacter(t.charCodeAt(o))?2:1;return e+Math.floor(i*n.characterWidth/n.width)},i.length);return e.LINE_HEIGHT_PX*o},e.prototype.setWidth=function(e,t){this.width=e,this.characterWidth=t},e.prototype.getTemplateId=function(t,n){return n instanceof f.Variable?e.VARIABLE_TEMPLATE_ID:n instanceof f.Expression?e.EXPRESSION_TEMPLATE_ID:n instanceof f.OutputElement?e.VALUE_OUTPUT_TEMPLATE_ID:n instanceof f.OutputNameValueElement?e.NAME_VALUE_OUTPUT_TEMPLATE_ID:null},e.prototype.renderTemplate=function(t,n,i){if(n===e.VARIABLE_TEMPLATE_ID){var r=Object.create(null);return r.expression=c.append(i,w(".expression")),r.name=c.append(r.expression,w("span.name")),r.value=c.append(r.expression,w("span.value")),r}if(n===e.EXPRESSION_TEMPLATE_ID){var r=Object.create(null);return c.addClass(i,"input-output-pair"),r.input=c.append(i,w(".input.expression")),r.output=c.append(i,w(".output.expression")),r.value=c.append(r.output,w("span.value")),r.annotation=c.append(r.output,w("span")),r}if(n===e.VALUE_OUTPUT_TEMPLATE_ID){var r=Object.create(null);c.addClass(i,"output");var o=c.append(i,w(".output.expression"));return r.container=i,r.counter=c.append(o,w("div.counter")),r.value=c.append(o,w("span.value")),r}if(n===e.NAME_VALUE_OUTPUT_TEMPLATE_ID){var r=Object.create(null);return c.addClass(i,"output"),r.container=i,r.expression=c.append(i,w(".output.expression")),r.name=c.append(r.expression,w("span.name")),r.value=c.append(r.expression,w("span.value")),r.annotation=c.append(r.expression,w("span")),r}},e.prototype.renderElement=function(t,n,i,r){i===e.VARIABLE_TEMPLATE_ID?m.renderVariable(t,n,r,!1):i===e.EXPRESSION_TEMPLATE_ID?this.renderExpression(t,n,r):i===e.VALUE_OUTPUT_TEMPLATE_ID?this.renderOutputValue(n,r):i===e.NAME_VALUE_OUTPUT_TEMPLATE_ID&&this.renderOutputNameValue(t,n,r)},e.prototype.renderExpression=function(e,t,i){i.input.textContent=t.name,m.renderExpressionValue(t,i.value,{preserveWhitespace:!0,showHover:!1}),t.hasChildren&&(i.annotation.className="annotation octicon octicon-info",i.annotation.title=n.localize(0,null))},e.prototype.renderOutputValue=function(e,t){e.counter>1?(t.counter.textContent=String(e.counter),t.counter.className=e.severity===l.default.Warning?"counter warn":e.severity===l.default.Error?"counter error":"counter info"):(t.counter.textContent="",t.counter.className="counter"),c.clearNode(t.value),t.value.className="";var n=this.handleANSIOutput(e.value);"string"==typeof n?m.renderExpressionValue(n,t.value,{preserveWhitespace:!0,showHover:!1}):t.value.appendChild(n),c.addClass(t.value,e.severity===l.default.Warning?"warn":e.severity===l.default.Error?"error":"info")},e.prototype.renderOutputNameValue=function(e,t,n){t.name?n.name.textContent=t.name+":":n.name.textContent="",m.renderExpressionValue(t.value,n.value,{preserveWhitespace:!0,showHover:!1}),t.annotation?(n.annotation.className="annotation octicon octicon-info",n.annotation.title=t.annotation):(n.annotation.className="",n.annotation.title="")},e.prototype.handleANSIOutput=function(e){for(var t,n,i="",r=0,o=e.length;r<o;r++)if(27===e.charCodeAt(r)){var s=r,a=++s<o?e.charAt(s):null;if(a&&"["===a){var c=null;if(a=++s<o?e.charAt(s):null,a&&a>="0"&&a<="9"&&(c=a,a=++s<o?e.charAt(s):null),a&&a>="0"&&a<="9"&&(c+=a,a=++s<o?e.charAt(s):null),null===c&&(c="0"),"m"===a){var u=parseInt(c,10),l=document.createElement("span");u>=30&&u<=37||u>=90&&u<=97?l.className="code"+u:1===u&&(l.className="code-bold"),t||(t=document.createElement("span")),i&&(this.insert(this.handleLinks(i),n||t),i=""),n=l,t.appendChild(l),r=s}}}else i+=e[r];if(i){var h=this.handleLinks(i);("string"!=typeof h||n)&&(t||(t=document.createElement("span")),this.insert(h,n||t))}return t||i},e.prototype.insert=function(e,t){"string"==typeof e?t.textContent=e:t.appendChild(e)},e.prototype.handleLinks=function(t){for(var i,r=this,a=function(e){e.lastIndex=0;var a=e.exec(t),c=null;try{c=a&&o.default.file(a[1])}catch(e){}if(c){i=document.createElement("span");var u=t.substr(0,a.index);if(u){var l=document.createElement("span");l.textContent=u,i.appendChild(l)}var d=document.createElement("a");d.textContent=t.substr(a.index,a[0].length),d.title=s.isMacintosh?n.localize(1,null):n.localize(2,null),i.appendChild(d),d.onclick=function(e){return r.onLinkClick(new h.StandardMouseEvent(e),c,Number(a[3]),Number(a[4]))};var p=t.substr(a.index+a[0].length);if(p){var l=document.createElement("span");l.textContent=p,i.appendChild(l)}return"break"}},c=0,u=e.FILE_LOCATION_PATTERNS;c<u.length;c++){var l=u[c],d=a(l);if("break"===d)break}return i||t},e.prototype.onLinkClick=function(e,t,n,i){var r=window.getSelection();"Range"!==r.type&&(e.preventDefault(),this.editorService.openEditor({resource:t,options:{selection:{startLineNumber:n,startColumn:i}}},e.ctrlKey||e.metaKey).done(null,u.onUnexpectedError))},e.prototype.disposeTemplate=function(e,t,n){},e.VARIABLE_TEMPLATE_ID="variable",e.EXPRESSION_TEMPLATE_ID="inputOutputPair",e.VALUE_OUTPUT_TEMPLATE_ID="outputValue",e.NAME_VALUE_OUTPUT_TEMPLATE_ID="outputNameValue",e.FILE_LOCATION_PATTERNS=[/((\/|[a-zA-Z]:\\)[^\(\)<>\'\"\[\]]+):(\d+):(\d+)/],e.LINE_HEIGHT_PX=18,e=g([v(0,C.IWorkbenchEditorService)],e)}();t.ReplExpressionsRenderer=T;var x=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return t instanceof f.Variable?n.localize(3,null,t.name,t.value):t instanceof f.Expression?n.localize(4,null,t.name,t.value):t instanceof f.OutputElement?n.localize(5,null,t.value):t instanceof f.OutputNameValueElement?n.localize(6,null,t.name,t.value):null},e}();t.ReplExpressionsAccessibilityProvider=x;var A=function(){function e(e){this.instantiationService=e}return e.prototype.hasActions=function(e,t){return!1},e.prototype.getActions=function(e,t){return i.TPromise.as([])},e.prototype.hasSecondaryActions=function(e,t){return!0},e.prototype.getSecondaryActions=function(e,t){var n=[];return(t instanceof f.Variable||t instanceof f.Expression)&&(n.push(this.instantiationService.createInstance(y.AddToWatchExpressionsAction,y.AddToWatchExpressionsAction.ID,y.AddToWatchExpressionsAction.LABEL,t)),n.push(new a.Separator)),n.push(new b.CopyAction(b.CopyAction.ID,b.CopyAction.LABEL)),n.push(this.instantiationService.createInstance(y.ClearReplAction,y.ClearReplAction.ID,y.ClearReplAction.LABEL)),i.TPromise.as(n)},e.prototype.getActionItem=function(e,t,n){return null},e}();t.ReplExpressionsActionProvider=A;var D=function(e){function t(t,n,i,r,o,s){e.call(this,n,E.MenuId.DebugConsoleContext,i,r,o,s),this.replInput=t,this.lastSelectedString=null}return d(t,e),t.prototype.onLeftClick=function(t,n,i,r){void 0===r&&(r="mouse");var o=i;(n.reference>0||n instanceof f.OutputNameValueElement&&n.hasChildren)&&o.target.className.indexOf("input expression")===-1&&(e.prototype.onLeftClick.call(this,t,n,i,r),t.clearFocus(),t.deselect(n));var s=window.getSelection();return"Range"===s.type&&this.lastSelectedString!==s.toString()||this.replInput.focus(),this.lastSelectedString=s.toString(),!0},t.prototype.onDown=function(t,n){if(t.getFocus())return e.prototype.onDown.call(this,t,n);var i={origin:"keyboard",originalEvent:n};return t.focusLast(i),t.reveal(t.getFocus()).done(null,u.onUnexpectedError),!0},t=g([v(2,p.IDebugService),v(3,S.IContextMenuService),v(4,_.IContextKeyService),v(5,E.IMenuService)],t)}(m.BaseDebugController);t.ReplExpressionsController=D}),define(l[1043],h([1,0,529,2,14,13,24,37,20,68,16,92,26,271,31,6,22,28,77,136,302]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C){"use strict";C.DEFAULT_TERMINAL_LINUX_READY.then(function(e){var t=r.Registry.as(E.Extensions.Configuration);t.registerConfiguration({id:"externalTerminal",order:100,title:n.localize(0,null),type:"object",properties:{"terminal.external.windowsExec":{type:"string",description:n.localize(1,null),default:C.DEFAULT_TERMINAL_WINDOWS},"terminal.external.osxExec":{type:"string",description:n.localize(2,null),default:C.DEFAULT_TERMINAL_OSX},"terminal.external.linuxExec":{type:"string",description:n.localize(3,null),default:e}}})});var w=function(e){function t(t,n,i,r,o){e.call(this,t,n),this.terminalService=i,this.editorService=r,this.contextService=o,this.order=49}return d(t,e),t.prototype.setResource=function(e){this.resource=e,this.enabled=!c.isUNC(this.resource.fsPath)},t.prototype.run=function(e){var t,n=this.contextService.getWorkspace();if(t=this.resource?this.resource.fsPath:n&&n.resource.fsPath,!t){var r=S.asFileEditorInput(this.editorService.getActiveEditorInput(),!0);r&&(t=c.dirname(r.getResource().fsPath))}return this.terminalService.openTerminal(t),i.TPromise.as(null)},t.ID="workbench.action.terminal.openNativeConsole",t.Label=o.isWindows?n.localize(4,null):n.localize(5,null),t.ScopedLabel=o.isWindows?n.localize(6,null):n.localize(7,null),t=g([v(2,f.ITerminalService),v(3,b.IWorkbenchEditorService),v(4,p.IWorkspaceContextService)],t)}(s.Action);t.OpenConsoleAction=w;var I=function(e){function t(t){e.call(this),this.instantiationService=t}return d(t,e),t.prototype.hasSecondaryActions=function(e){var t=e.element;return!!h.asFileResource(t)||t&&t.getResource&&t.getResource()},t.prototype.getSecondaryActions=function(e){var t=h.asFileResource(e.element),n=t?t.resource:e.element.getResource();t&&t.isDirectory||(n=l.default.file(c.dirname(n.fsPath)));var i=this.instantiationService.createInstance(w,w.ID,w.ScopedLabel);return i.setResource(n),[i]},t=g([v(0,y.IInstantiationService)],t)}(u.ActionBarContributor),T=r.Registry.as(u.Extensions.Actionbar);T.registerActionBarContributor(u.Scope.VIEWER,I),r.Registry.as(a.Extensions.WorkbenchActions).registerWorkbenchAction(new m.SyncActionDescriptor(w,w.ID,w.Label,{primary:49185},_.KEYBINDING_CONTEXT_TERMINAL_NOT_FOCUSED),"Open New Command Prompt")}),define(l[1044],h([1,0,553,13,8,2,214,29,149,6,14,19,37]),function(e,t,n,i,r,o,s,a,c,u,l,h,p){"use strict";var f=function(e){function t(t,i){e.call(this,{minimumSize:44,ariaHeaderLabel:n.localize(0,null)}),this.telemetryService=t,this.instantiationService=i}return d(t,e),t.prototype.renderHeader=function(e){var t=a.$("div.title").appendTo(e);a.$("span").text(n.localize(1,null)).appendTo(t)},t.prototype.renderBody=function(e){var t=this;r.addClass(e,"explorer-empty-view");var o=a.$("div.section").appendTo(e);a.$("p").text(n.localize(2,null)).appendTo(o);var c=a.$("div.section").appendTo(e);this.openFolderButton=new s.Button(c),this.openFolderButton.label=n.localize(3,null),this.openFolderButton.addListener2("click",function(){t.runWorkbenchAction(i.isMacintosh?"workbench.action.files.openFileFolder":"workbench.action.files.openFolder")})},t.prototype.layoutBody=function(e){},t.prototype.runWorkbenchAction=function(e){this.telemetryService.publicLog("workbenchActionExecuted",{id:e,from:"explorer"});var t=l.Registry.as(p.Extensions.WorkbenchActions),n=t.getWorkbenchAction(e),i=this.instantiationService.createInstance(n.syncDescriptor);return i.run().done(function(){return i.dispose()})},t.prototype.create=function(){return o.TPromise.as(null)},t.prototype.setVisible=function(e){return o.TPromise.as(null)},t.prototype.focusBody=function(){this.openFolderButton&&this.openFolderButton.getElement().focus()},t.prototype.reveal=function(e,t){return o.TPromise.as(null)},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.getActionItem=function(e){return null},t.prototype.shutdown=function(){},t=g([v(0,h.ITelemetryService),v(1,u.IInstantiationService)],t)}(c.CollapsibleView);t.EmptyView=f}),define(l[253],h([1,0,17,8,5,24,43,101,39,89,183,169,45,76,19,85]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y){"use strict";var b=function(e){function t(t,n,i,r,o){e.call(this,t,n,h.default.MARKERS_PANEL_ID,r,i),this.telemetryService=o}return d(t,e),t.prototype.run=function(){var t=e.prototype.run.call(this);return this.isPanelFocussed()&&this.telemetryService.publicLog("problems.used"),t},t.ID="workbench.actions.view.problems",t.LABEL=l.default.MARKERS_PANEL_TOGGLE_LABEL,t=g([v(2,p.IPartService),v(3,f.IPanelService),v(4,m.ITelemetryService)],t)}(u.TogglePanelAction);t.ToggleMarkersPanelAction=b;var S=function(e){function t(t,n,i,r,o){e.call(this,t,n,h.default.MARKERS_PANEL_ID,r,i),this.telemetryService=o}return d(t,e),t.prototype.run=function(){var t=e.prototype.run.call(this);return this.isPanelFocussed()&&this.telemetryService.publicLog("problems.used"),t},t.ID="workbench.action.showErrorsWarnings",t.LABEL=l.default.SHOW_ERRORS_WARNINGS_ACTION_LABEL,t=g([v(2,p.IPartService),v(3,f.IPanelService),v(4,m.ITelemetryService)],t)}(u.TogglePanelAction);t.ToggleErrorsAndWarningsAction=S;var E=function(e){function t(t,n,i){e.call(this,t,n),this.telemetryService=i}return d(t,e),t.prototype.run=function(t){return this.telemetryService.publicLog("problems.collapseAll.used"),e.prototype.run.call(this,t)},t=g([v(2,m.ITelemetryService)],t)}(y.CollapseAllAction);t.CollapseAllAction=E;var _=function(e){function t(n){e.call(this,t.ID,l.default.MARKERS_PANEL_ACTION_TOOLTIP_FILTER,"markers-panel-action-filter",!0),this.markersPanel=n}return d(t,e),t.ID="workbench.actions.problems.filter",t}(o.Action);t.FilterAction=_;var C=function(e){function t(t,i,r,o){e.call(this,t,i),this.markersPanel=t,this.contextViewService=r,this.telemetryService=o,this.toDispose=[],this.delayedFilterUpdate=new n.Delayer(500)}return d(t,e),t.prototype.render=function(e){var t=this;i.addClass(e,"markers-panel-action-filter");var n=new a.InputBox(e,this.contextViewService,{placeholder:l.default.MARKERS_PANEL_FILTER_PLACEHOLDER,ariaLabel:l.default.MARKERS_PANEL_FILTER_PLACEHOLDER});n.value=this.markersPanel.markersModel.filterOptions.completeFilter,this.toDispose.push(n.onDidChange(function(e){return t.delayedFilterUpdate.trigger(function(){return t.updateFilter(e)})})),this.toDispose.push(i.addStandardDisposableListener(n.inputElement,"keyup",function(e){return t.onInputKeyUp(e,n)})),this.toDispose.push(i.addStandardDisposableListener(e,"keydown",this.handleKeyboardEvent)),this.toDispose.push(i.addStandardDisposableListener(e,"keyup",this.handleKeyboardEvent))},t.prototype.updateFilter=function(e){this.markersPanel.updateFilter(e),this.reportFilteringUsed()},t.prototype.reportFilteringUsed=function(){var e={};e.errors=this.markersPanel.markersModel.filterOptions.filterErrors,e.warnings=this.markersPanel.markersModel.filterOptions.filterWarnings,e.infos=this.markersPanel.markersModel.filterOptions.filterInfos,this.telemetryService.publicLog("problems.filter",e)},t.prototype.dispose=function(){this.toDispose=r.dispose(this.toDispose),e.prototype.dispose.call(this)},t.prototype.handleKeyboardEvent=function(e){switch(e.keyCode){case 10:case 15:case 17:case 9:e.stopPropagation()}},t.prototype.onInputKeyUp=function(e,t){switch(e.keyCode){case 9:return void(t.value="");default:return}},t=g([v(2,c.IContextViewService),v(3,m.ITelemetryService)],t)}(s.BaseActionItem);t.FilterInputBoxActionItem=C}),define(l[355],h([1,0,7,156,2,17,8,5,128,19,47,41,28,89,22,169,200,1003,111,959,6,253,25,183,339,68,23,806]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D){"use strict";var L=function(e){function t(t,n,r,s,a,c,u,l){e.call(this,y.default.MARKERS_PANEL_ID,l),this.instantiationService=t,this.markerService=n,this.editorGroupService=r,this.editorService=s,this.eventService=a,this.configurationService=c,this.contextKeyService=u,this.lastSelectedRelativeTop=0,this.currentActiveFile=null,this.toDispose=[],this.delayedRefresh=new o.Delayer(500),this.autoExpanded=new i.ArraySet,this.markerFocusContextKey=y.default.MarkerFocusContextKey.bindTo(u)}return d(t,e),t.prototype.create=function(t){e.prototype.create.call(this,t),this.markersModel=new b.MarkersModel,this.rangeHighlightDecorations=this.instantiationService.createInstance(x.RangeHighlightDecorations),this.toDispose.push(this.rangeHighlightDecorations),s.addClass(t.getHTMLElement(),"markers-panel");var n=this.configurationService.getConfiguration();this.onConfigurationsUpdated(n);var i=s.append(t.getHTMLElement(),s.$(".markers-panel-container"));
return this.createMessageBox(i),this.createTree(i),this.createActions(),this.createListeners(),this.render(),r.TPromise.as(null)},t.prototype.getTitle=function(){var e=this.markerService.getStatistics();return this.markersModel.getTitle(e)},t.prototype.layout=function(e){this.tree.layout(e.height)},t.prototype.focus=function(){this.tree.isDOMFocused()||(this.markersModel.hasFilteredResources()?(this.tree.DOMFocus(),0===this.tree.getSelection().length&&this.tree.focusFirst(),this.highlightCurrentSelectedMarkerRange(),this.autoReveal(!0)):this.messageBox.focus())},t.prototype.setVisible=function(t){var n=e.prototype.setVisible.call(this,t);return t||this.rangeHighlightDecorations.removeHighlightRange(),n},t.prototype.getActions=function(){return this.collapseAllAction.enabled=this.markersModel.hasFilteredResources(),this.actions},t.prototype.refreshPanel=function(e){var t=this;return void 0===e&&(e=!1),this.collapseAllAction.enabled=this.markersModel.hasFilteredResources(),e&&this.updateTitleArea(),s.toggleClass(this.treeContainer,"hidden",!this.markersModel.hasFilteredResources()),this.renderMessage(),this.markersModel.hasFilteredResources()?this.tree.refresh().then(function(){t.autoExpand()}):r.TPromise.as(null)},t.prototype.updateFilter=function(e){this.markersModel.update(new b.FilterOptions(e)),this.autoExpanded=new i.ArraySet,this.refreshPanel(),this.autoReveal()},t.prototype.createMessageBox=function(e){this.messageBoxContainer=s.append(e,s.$(".message-box-container")),this.messageBox=s.append(this.messageBoxContainer,s.$("span")),this.messageBox.setAttribute("tabindex","0")},t.prototype.createTree=function(e){var t=this;this.treeContainer=s.append(e,s.$(".tree-container")),s.addClass(this.treeContainer,"show-file-icons");var n=this.instantiationService.createInstance(A.ContributableActionProvider),i=this.instantiationService.createInstance(_.Renderer,this.getActionRunner(),n),r=this.instantiationService.createInstance(S.Controller,this.rangeHighlightDecorations,n);this.tree=new E.Tree(this.treeContainer,{dataSource:new _.DataSource,renderer:i,controller:r,sorter:new _.Sorter,accessibilityProvider:new _.MarkersTreeAccessibilityProvider},{indentPixels:0,twistiePixels:20,ariaLabel:T.default.MARKERS_PANEL_ARIA_LABEL_PROBLEMS_TREE}),this._register(this.tree.addListener2("focus",function(e){t.markerFocusContextKey.set(e.focus instanceof b.Marker)}));var o=this._register(s.trackFocus(this.tree.getHTMLElement()));o.addBlurListener(function(){t.markerFocusContextKey.set(!1)})},t.prototype.createActions=function(){var e=this;this.collapseAllAction=this.instantiationService.createInstance(w.CollapseAllAction,this.tree,!0),this.filterAction=new w.FilterAction(this),this.actions=[this.filterAction,this.collapseAllAction],this.actions.forEach(function(t){e.toDispose.push(t)})},t.prototype.createListeners=function(){var e=this;this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationsUpdated(t.config)})),this.toDispose.push(this.markerService.onMarkerChanged(this.onMarkerChanged,this)),this.toDispose.push(this.editorGroupService.onEditorsChanged(this.onEditorsChanged,this)),this.toDispose.push(this.tree.addListener2("selection",function(){return e.onSelected()}))},t.prototype.onMarkerChanged=function(e){var t=this;this.updateResources(e),this.delayedRefresh.trigger(function(){t.refreshPanel(!0),t.updateRangeHighlights(),t.autoReveal()})},t.prototype.onEditorsChanged=function(){var e=p.asFileEditorInput(this.editorService.getActiveEditorInput());this.currentActiveFile=e?e.getResource():null,this.autoReveal()},t.prototype.onConfigurationsUpdated=function(e){this.hasToAutoReveal=e&&e.problems&&e.problems.autoReveal},t.prototype.onSelected=function(){var e=this.tree.getSelection();e&&e.length>0&&(this.lastSelectedRelativeTop=this.tree.getRelativeTop(e[0]))},t.prototype.updateResources=function(e){for(var t=this.markersModel.getBulkUpdater(),n=0,i=e;n<i.length;n++){var r=i[n];t.add(r,this.markerService.read({resource:r}))}t.done();for(var o=0,s=e;o<s.length;o++){var r=s[o];this.markersModel.hasResource(r)||this.autoExpanded.unset(r.toString())}},t.prototype.render=function(){var e=this.markerService.read();this.markersModel.update(e),this.tree.setInput(this.markersModel).then(this.autoExpand.bind(this)),s.toggleClass(this.treeContainer,"hidden",!this.markersModel.hasFilteredResources()),this.renderMessage()},t.prototype.renderMessage=function(){var e=this.markersModel.getMessage();this.messageBox.textContent=e,s.toggleClass(this.messageBoxContainer,"hidden",this.markersModel.hasFilteredResources())},t.prototype.autoExpand=function(){for(var e=0,t=this.markersModel.filteredResources;e<t.length;e++){var i=t[e],r=i.uri.toString();this.autoExpanded.contains(r)||(this.tree.expand(i).done(null,n.onUnexpectedError),this.autoExpanded.set(r))}},t.prototype.autoReveal=function(e){void 0===e&&(e=!1);var t=this.configurationService.getConfiguration();t&&t.problems&&t.problems.autoReveal&&this.revealMarkersForCurrentActiveEditor(e)},t.prototype.revealMarkersForCurrentActiveEditor=function(e){void 0===e&&(e=!1);var t=this.getResourceForCurrentActiveFile();t?this.tree.isExpanded(t)&&this.hasSelectedMarkerFor(t)?(this.tree.reveal(this.tree.getSelection()[0],this.lastSelectedRelativeTop),e&&this.tree.setFocus(this.tree.getSelection()[0])):(this.tree.reveal(t,0),e&&(this.tree.setFocus(t),this.tree.setSelection([t]))):e&&(this.tree.setSelection([]),this.tree.focusFirst())},t.prototype.getResourceForCurrentActiveFile=function(){var e=this;if(this.currentActiveFile){var t=this.markersModel.filteredResources.filter(function(t){return e.currentActiveFile.toString()===t.uri.toString()});return t.length>0?t[0]:null}return null},t.prototype.hasSelectedMarkerFor=function(e){var t=this.tree.getSelection();return!!(t&&t.length>0&&t[0]instanceof b.Marker&&e.uri.toString()===t[0].marker.resource.toString())},t.prototype.updateRangeHighlights=function(){this.rangeHighlightDecorations.removeHighlightRange(),this.tree.isDOMFocused()&&this.highlightCurrentSelectedMarkerRange()},t.prototype.highlightCurrentSelectedMarkerRange=function(){var e=this.tree.getSelection();if(e&&1===e.length&&e[0]instanceof b.Marker){var t=e[0];this.rangeHighlightDecorations.highlightRange(t)}},t.prototype.getActionItem=function(t){return t.id===w.FilterAction.ID?this.instantiationService.createInstance(w.FilterInputBoxActionItem,this,t):e.prototype.getActionItem.call(this,t)},t.prototype.getFocusElement=function(){return this.tree.getFocus()},t.prototype.dispose=function(){this.delayedRefresh.cancel(),this.toDispose=a.dispose(this.toDispose),this.tree.dispose(),this.markersModel.dispose(),e.prototype.dispose.call(this)},t=g([v(0,C.IInstantiationService),v(1,c.IMarkerService),v(2,h.IEditorGroupService),v(3,m.IWorkbenchEditorService),v(4,l.IEventService),v(5,I.IConfigurationService),v(6,D.IContextKeyService),v(7,u.ITelemetryService)],t)}(f.Panel);t.MarkersPanel=L}),define(l[1047],h([1,0,582,5,183,169,71,14,128,165,31,37,89,77,253]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f){"use strict";function m(){a.Registry.as(p.Extensions.Configuration).registerConfiguration({id:"problems",order:101,title:r.default.PROBLEMS_PANEL_CONFIGURATION_TITLE,type:"object",properties:{"problems.autoReveal":{description:r.default.PROBLEMS_PANEL_CONFIGURATION_AUTO_REVEAL,type:"boolean",default:!0}}}),a.Registry.as(d.Extensions.Panels).registerPanel(new d.PanelDescriptor("vs/workbench/parts/markers/browser/markersPanel","MarkersPanel",o.default.MARKERS_PANEL_ID,r.default.MARKERS_PANEL_TITLE_PROBLEMS,"markersPanel",10));var e=a.Registry.as(h.Extensions.WorkbenchActions);e.registerWorkbenchAction(new l.SyncActionDescriptor(f.ToggleMarkersPanelAction,f.ToggleMarkersPanelAction.ID,f.ToggleMarkersPanelAction.LABEL,{primary:49195}),"View: "+r.default.MARKERS_PANEL_TOGGLE_LABEL,r.default.MARKERS_PANEL_VIEW_CATEGORY),e.registerWorkbenchAction(new l.SyncActionDescriptor(f.ToggleErrorsAndWarningsAction,f.ToggleErrorsAndWarningsAction.ID,f.ToggleErrorsAndWarningsAction.LABEL),""),a.Registry.as(s.Extensions.Workbench).registerWorkbenchContribution(y)}var y=function(){function e(e,t){var n=this;this.markerService=e,this.activityBarService=t,this.toDispose=[],this.toDispose.push(e.onMarkerChanged(function(){return n.updateActivityBadge()}))}return e.prototype.updateActivityBadge=function(){var e=this.markerService.getStatistics(),t=e.errors+e.warnings+e.infos+e.unknowns;if(t>0){var i=new u.NumberBadge(t,function(e){return n.localize(0,null,e)});this.activityBarService.showActivity(o.default.MARKERS_PANEL_ID,i)}else this.activityBarService.showActivity(o.default.MARKERS_PANEL_ID,null)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose)},e.ID="vs.markers.statusUpdater",e=g([v(0,c.IMarkerService),v(1,u.IActivityBarService)],e)}();t.registerContributions=m}),define(l[1048],h([1,0,584,83,200,169,34,31,84,76,355]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";function h(){p({id:o.default.MARKER_COPY_ACTION_ID,title:n.localize(0,null),handler:function(e){d(e.get(u.IPanelService))},menu:{menuId:a.MenuId.ProblemsPanelContext,when:o.default.MarkerFocusContextKey},keybinding:{keys:{primary:32801},when:o.default.MarkerFocusContextKey}})}function d(e){var t=e.getActivePanel();if(t instanceof l.MarkersPanel){var n=t.getFocusElement();n instanceof r.Marker&&i.clipboard.writeText(""+n)}}function p(e){var t=e.id,n=e.handler,i=e.title,r=e.category,o=e.iconClass,u=e.menu,l=e.keybinding;s.CommandsRegistry.registerCommand(t,n);var h={id:t,title:i,iconClass:o,category:r};if(u){var d=u.menuId,p=u.when,f=u.group;a.MenuRegistry.appendMenuItem(d,{command:h,when:p,group:f})}if(l){var p=l.when,g=l.weight,v=l.keys;c.KeybindingsRegistry.registerKeybindingRule({id:t,when:p,weight:g,primary:v.primary,secondary:v.secondary,linux:v.linux,mac:v.mac,win:v.win})}}t.registerContributions=h}),define(l[1049],h([1,0,1047,1048]),function(e,t,n,i){"use strict";n.registerContributions(),i.registerContributions()}),define(l[356],h([1,0,2,587,14,24,86,43,45,76,89]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";var h=function(e){function t(t,n,i,r){e.call(this,t,n,s.OUTPUT_PANEL_ID,r,i)}return d(t,e),t.ID="workbench.action.output.toggleOutput",t.LABEL=i.localize(0,null),t=g([v(2,c.IPartService),v(3,u.IPanelService)],t)}(l.TogglePanelAction);t.ToggleOutputAction=h;var p=function(e){function t(t,n,i,r){e.call(this,t,n,"output-action clear-output"),this.outputService=i,this.panelService=r}return d(t,e),t.prototype.run=function(){return this.outputService.getActiveChannel().clear(),this.panelService.getActivePanel().focus(),n.TPromise.as(!0)},t.ID="workbench.output.action.clearOutput",t.LABEL=i.localize(1,null),t=g([v(2,s.IOutputService),v(3,u.IPanelService)],t)}(o.Action);t.ClearOutputAction=p;var f=function(e){function t(n){e.call(this,t.ID,i.localize(2,null)),this.outputService=n,this.class="output-action switch-to-output"}return d(t,e),t.prototype.run=function(e){return this.outputService.getChannel(e).show()},t.ID="workbench.output.action.switchBetweenOutputs",t=g([v(0,s.IOutputService)],t)}(o.Action);t.SwitchOutputAction=f;var m=function(e){function t(n,i){e.call(this,null,n,t.getChannelLabels(i),Math.max(0,t.getChannelLabels(i).indexOf(i.getActiveChannel().label))),this.outputService=i,this.toDispose.push(this.outputService.onOutputChannel(this.onOutputChannel,this)),this.toDispose.push(this.outputService.onActiveOutputChannel(this.onOutputChannel,this))}return d(t,e),t.prototype.getActionContext=function(e){var t=r.Registry.as(s.Extensions.OutputChannels).getChannels().filter(function(t){return t.label===e}).pop();return t?t.id:e},t.prototype.onOutputChannel=function(){var e=t.getChannelLabels(this.outputService),n=Math.max(0,e.indexOf(this.outputService.getActiveChannel().label));this.setOptions(e,n)},t.getChannelLabels=function(e){var t=r.Registry.as(s.Extensions.OutputChannels).getChannels().map(function(e){return e.label});return t.sort()},t=g([v(1,s.IOutputService)],t)}(a.SelectActionItem);t.SwitchOutputActionItem=m}),define(l[1051],h([1,0,586,52,133,14,31,84,102,37,1025,356,86,89,10,34,808]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,g){"use strict";function v(e){var t=e.id,n=e.handler,i=e.title,r=e.category,o=e.iconClass,c=e.f1,u=e.menu,l=e.keybinding;g.CommandsRegistry.registerCommand(t,n);var h={id:t,title:i,iconClass:o,category:r};if(c&&s.MenuRegistry.addCommand(h),u){var d=u.menuId,p=u.when,f=u.group;s.MenuRegistry.appendMenuItem(d,{command:h,when:p,group:f})}if(l){var p=l.when,v=l.weight,m=l.keys;a.KeybindingsRegistry.registerKeybindingRule({id:t,when:p,weight:v,primary:m.primary,secondary:m.secondary,linux:m.linux,mac:m.mac,win:m.win})}}c.registerSingleton(d.IOutputService,l.OutputService),r.ModesRegistry.registerLanguage({id:d.OUTPUT_MODE_ID,extensions:[],aliases:[null],mimetypes:[d.OUTPUT_MIME]}),o.Registry.as(p.Extensions.Panels).registerPanel(new p.PanelDescriptor("vs/workbench/parts/output/browser/outputPanel","OutputPanel",d.OUTPUT_PANEL_ID,n.localize(0,null),"output",20));var m=o.Registry.as(u.Extensions.WorkbenchActions);m.registerWorkbenchAction(new s.SyncActionDescriptor(h.ToggleOutputAction,h.ToggleOutputAction.ID,h.ToggleOutputAction.LABEL,{primary:49203,linux:{primary:i.KeyChord(32809,32806)}}),"View: Toggle Output",n.localize(1,null)),m.registerWorkbenchAction(new s.SyncActionDescriptor(h.ClearOutputAction,h.ClearOutputAction.ID,h.ClearOutputAction.LABEL),"View: Clear Output",n.localize(2,null)),v({id:"editor.action.clearoutput",title:n.localize(3,null),menu:{menuId:s.MenuId.EditorContext,when:f.EditorContextKeys.LanguageId.isEqualTo(d.OUTPUT_MODE_ID)},handler:function(e){e.get(d.IOutputService).getActiveChannel().clear()}})}),define(l[254],h([1,0,620,107,24,10,62,136,43,2,89,45,76]),function(e,t,n,i,r,o,s,a,c,u,l,h,p){"use strict";var f=function(e){function t(t,n,i,r){e.call(this,t,n,a.TERMINAL_PANEL_ID,i,r)}return d(t,e),t.ID="workbench.action.terminal.toggleTerminal",t.LABEL=n.localize(0,null),t=g([v(2,p.IPanelService),v(3,h.IPartService)],t)}(l.TogglePanelAction);t.ToggleTerminalAction=f;var m=function(e){function t(t,n,i){e.call(this,t,n),this.terminalService=i,this.class="terminal-action kill"}return d(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveInstance();return t&&(this.terminalService.getActiveInstance().dispose(),this.terminalService.terminalInstances.length>0&&this.terminalService.showPanel(!0)),u.TPromise.as(void 0)},t.ID="workbench.action.terminal.kill",t.LABEL=n.localize(1,null),t.PANEL_LABEL=n.localize(2,null),t=g([v(2,a.ITerminalService)],t)}(r.Action);t.KillTerminalAction=m;var y=function(e){function t(t,n,i){e.call(this,t,n),this.terminalService=i}return d(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveInstance();return t&&t.copySelection(),u.TPromise.as(void 0)},t.ID="workbench.action.terminal.copySelection",t.LABEL=n.localize(3,null),t=g([v(2,a.ITerminalService)],t)}(r.Action);t.CopyTerminalSelectionAction=y;var b=function(e){function t(t,n,i){e.call(this,t,n),this.terminalService=i,this.class="terminal-action new"}return d(t,e),t.prototype.run=function(e){return this.terminalService.setActiveInstance(this.terminalService.createInstance()),this.terminalService.showPanel(!0)},t.ID="workbench.action.terminal.new",t.LABEL=n.localize(4,null),t.PANEL_LABEL=n.localize(5,null),t=g([v(2,a.ITerminalService)],t)}(r.Action);t.CreateNewTerminalAction=b;var S=function(e){function t(t,n,i){e.call(this,t,n),this.terminalService=i}return d(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveInstance();return t||(t=this.terminalService.createInstance()),this.terminalService.setActiveInstance(t),this.terminalService.showPanel(!0)},t.ID="workbench.action.terminal.focus",t.LABEL=n.localize(6,null),t=g([v(2,a.ITerminalService)],t)}(r.Action);t.FocusTerminalAction=S;var E=function(e){function t(t,n,i){e.call(this,t,n),this.terminalService=i}return d(t,e),t.prototype.run=function(e){return this.terminalService.setActiveInstanceToNext(),this.terminalService.showPanel(!0)},t.ID="workbench.action.terminal.focusNext",t.LABEL=n.localize(7,null),t=g([v(2,a.ITerminalService)],t)}(r.Action);t.FocusNextTerminalAction=E;var _=function(e){function t(t,n,i){e.call(this,t,n),this.terminalService=i}return d(t,e),t.prototype.run=function(e){return this.terminalService.setActiveInstanceToPrevious(),this.terminalService.showPanel(!0)},t.ID="workbench.action.terminal.focusPrevious",t.LABEL=n.localize(8,null),t=g([v(2,a.ITerminalService)],t)}(r.Action);t.FocusPreviousTerminalAction=_;var C=function(e){function t(t,n,i){e.call(this,t,n),this.terminalService=i}return d(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveInstance();return t||(t=this.terminalService.createInstance()),t.paste(),u.TPromise.as(void 0)},t.ID="workbench.action.terminal.paste",t.LABEL=n.localize(9,null),t=g([v(2,a.ITerminalService)],t)}(r.Action);t.TerminalPasteAction=C;var w=function(e){function t(t,n,i,r){e.call(this,t,n),this.codeEditorService=i,this.terminalService=r}return d(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveInstance();t||(t=this.terminalService.createInstance());var n=this.codeEditorService.getFocusedCodeEditor();if(n){var r=n.getSelection(),s=void 0;if(r.isEmpty())s=n.getValue();else{var a="\n"===i.EOL?o.EndOfLinePreference.LF:o.EndOfLinePreference.CRLF;s=n.getModel().getValueInRange(r,a)}t.sendText(s,!0)}return u.TPromise.as(void 0)},t.ID="workbench.action.terminal.runSelectedText",t.LABEL=n.localize(10,null),t=g([v(2,s.ICodeEditorService),v(3,a.ITerminalService)],t)}(r.Action);t.RunSelectedTextInTerminalAction=w;var I=function(e){function t(n,i,r){e.call(this,t.ID,t.LABEL),this.terminalService=r,this.class="terminal-action switch-terminal-instance"}return d(t,e),t.prototype.run=function(e){if(!e)return u.TPromise.as(null);var t=parseInt(e.split(":")[0],10)-1;return this.terminalService.setActiveInstanceByIndex(t),this.terminalService.showPanel(!0)},t.ID="workbench.action.terminal.switchTerminalInstance",t.LABEL=n.localize(11,null),t=g([v(2,a.ITerminalService)],t)}(r.Action);t.SwitchTerminalInstanceAction=I;var T=function(e){function t(t,n){e.call(this,null,t,n.getInstanceLabels(),n.activeTerminalInstanceIndex),this.terminalService=n,this.toDispose.push(n.onInstancesChanged(this._updateItems,this)),this.toDispose.push(n.onActiveInstanceChanged(this._updateItems,this)),this.toDispose.push(n.onInstanceTitleChanged(this._updateItems,this))}return d(t,e),t.prototype._updateItems=function(){this.setOptions(this.terminalService.getInstanceLabels(),this.terminalService.activeTerminalInstanceIndex)},t=g([v(1,a.ITerminalService)],t)}(c.SelectActionItem);t.SwitchTerminalInstanceActionItem=T;var x=function(e){function t(t,n,i){e.call(this,t,n),this.terminalService=i}return d(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveInstance();return t&&t.scrollDownLine(),u.TPromise.as(void 0)},t.ID="workbench.action.terminal.scrollDown",t.LABEL=n.localize(12,null),t=g([v(2,a.ITerminalService)],t)}(r.Action);t.ScrollDownTerminalAction=x;var A=function(e){function t(t,n,i){e.call(this,t,n),this.terminalService=i}return d(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveInstance();return t&&t.scrollDownPage(),u.TPromise.as(void 0)},t.ID="workbench.action.terminal.scrollDownPage",t.LABEL=n.localize(13,null),t=g([v(2,a.ITerminalService)],t)}(r.Action);t.ScrollDownPageTerminalAction=A;var D=function(e){function t(t,n,i){e.call(this,t,n),this.terminalService=i}return d(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveInstance();return t&&t.scrollToBottom(),u.TPromise.as(void 0)},t.ID="workbench.action.terminal.scrollToBottom",t.LABEL=n.localize(14,null),t=g([v(2,a.ITerminalService)],t)}(r.Action);t.ScrollToBottomTerminalAction=D;var L=function(e){function t(t,n,i){e.call(this,t,n),this.terminalService=i}return d(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveInstance();return t&&t.scrollUpLine(),u.TPromise.as(void 0)},t.ID="workbench.action.terminal.scrollUp",t.LABEL=n.localize(15,null),t=g([v(2,a.ITerminalService)],t)}(r.Action);t.ScrollUpTerminalAction=L;var k=function(e){function t(t,n,i){e.call(this,t,n),this.terminalService=i}return d(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveInstance();return t&&t.scrollUpPage(),u.TPromise.as(void 0)},t.ID="workbench.action.terminal.scrollUpPage",t.LABEL=n.localize(16,null),t=g([v(2,a.ITerminalService)],t)}(r.Action);t.ScrollUpPageTerminalAction=k;var P=function(e){function t(t,n,i){e.call(this,t,n),this.terminalService=i}return d(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveInstance();return t&&t.scrollToTop(),u.TPromise.as(void 0)},t.ID="workbench.action.terminal.scrollToTop",t.LABEL=n.localize(17,null),t=g([v(2,a.ITerminalService)],t)}(r.Action);t.ScrollToTopTerminalAction=P;var R=function(e){function t(t,n,i){e.call(this,t,n),this.terminalService=i}return d(t,e),t.prototype.run=function(e){var t=this.terminalService.getActiveInstance();return t&&t.clear(),u.TPromise.as(void 0)},t.ID="workbench.action.terminal.clear",t.LABEL=n.localize(18,null),t=g([v(2,a.ITerminalService)],t)}(r.Action);t.ClearTerminalAction=R}),define(l[50],h([1,0,6]),function(e,t,n){"use strict";t.IQuickOpenService=n.createDecorator("quickOpenService")}),define(l[1054],h([1,0,428,14,10,27,160,50,195]),function(e,t,n,i,r,o,s,a,c){"use strict";(function(e){function t(){e.call(this,{id:"editor.action.showSnippets",label:n.localize(0,null),alias:"Insert Snippet",precondition:r.EditorContextKeys.Writable})}return d(t,e),t.prototype.run=function(e,t){var n=e.get(a.IQuickOpenService);if(t.getModel()){var r=t.getPosition(),o=r.lineNumber,u=r.column,l=t.getModel().getModeIdAtPosition(o,u),h=[];return i.Registry.as(c.Extensions.Snippets).visitSnippets(l,function(e){return h.push({label:e.prefix,detail:e.description,snippet:e}),!0}),n.pick(h).then(function(e){e&&s.SnippetController.get(t).insertSnippet(e.snippet.codeSnippet,0,0)})}},t=g([o.editorAction],t)})(o.EditorAction)}),define(l[64],h([1,0,480,2,30,100,35,12,21,7,14,24,99,93,28,50,87]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b){"use strict";var S=function(){function e(){}return e.prototype.getResults=function(e){return i.TPromise.as(null)},e.prototype.getAriaLabel=function(){return null},e.prototype.getClass=function(){return null},e.prototype.canRun=function(){return!0},e.prototype.hasShortResponseTime=function(){return!1},e.prototype.getAutoFocus=function(e,t){return{}},e.prototype.onOpen=function(){},e.prototype.onClose=function(e){},e.prototype.getGroupLabel=function(){return null},e.prototype.getEmptyLabel=function(e){return e.length>0?n.localize(0,null):n.localize(1,null)},e}();t.QuickOpenHandler=S;var E=function(e){function t(t,n,i,r,o){void 0===o&&(o=!1),e.call(this,t,n),this.prefix=i,this.id=t+n,this.instantProgress=o,c.isString(r)?this.description=r:this.helpEntries=r}return d(t,e),t.prototype.getId=function(){return this.id},t}(b.AsyncDescriptor);t.QuickOpenHandlerDescriptor=E,t.Extensions={Quickopen:"workbench.contributions.quickopen"};var _=function(){function e(){this.handlers=[]}return e.prototype.registerQuickOpenHandler=function(e){this.handlers.push(e),this.handlers.sort(function(e,t){return t.prefix.length-e.prefix.length})},e.prototype.registerDefaultQuickOpenHandler=function(e){this.defaultHandler=e},e.prototype.getQuickOpenHandlers=function(){return this.handlers.slice(0)},e.prototype.getQuickOpenHandler=function(e){return e?s.first(this.handlers,function(t){return a.startsWith(e,t.prefix)},null):null},e.prototype.getDefaultQuickOpenHandler=function(){return this.defaultHandler},e}();l.Registry.add(t.Extensions.Quickopen,new _);var C=function(e){function t(t){e.call(this),this._editorService=t}return d(t,e),Object.defineProperty(t.prototype,"editorService",{get:function(){return this._editorService},enumerable:!0,configurable:!0}),t.prototype.getInput=function(){return null},t.prototype.getOptions=function(){return null},t.prototype.run=function(e,t){var n=e===p.Mode.OPEN;if(e===p.Mode.OPEN||e===p.Mode.OPEN_IN_BACKGROUND){var i=t.keymods.indexOf(32768)>=0,o=void 0;e===p.Mode.OPEN_IN_BACKGROUND&&(o={pinned:!0,preserveFocus:!0});var s=this.getInput();if(s instanceof m.EditorInput){var a=this.getOptions();a?a=r.mixin(a,o,!0):o&&(a=m.EditorOptions.create(o)),this.editorService.openEditor(s,a,i).done(null,u.onUnexpectedError)}else{var c=s;o&&(c.options=r.assign(c.options||Object.create(null),o)),this.editorService.openEditor(c,i).done(null,u.onUnexpectedError)}}return n},t}(f.QuickOpenEntry);t.EditorQuickOpenEntry=C;var w=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getInput=function(){return null},t.prototype.getOptions=function(){return null},t}(f.QuickOpenEntryGroup);t.EditorQuickOpenEntryGroup=w;var I=function(e){function t(t,n,i,r){e.call(this,r),this.quickOpenService=t,this.prefix=n,this.command=i,this.command=i}return d(t,e),t.prototype.getIcon=function(){return this.command.icon||null},t.prototype.getLabel=function(){return this.command.aliases[0]},t.prototype.getAriaLabel=function(){return n.localize(2,null,this.getLabel())},t.prototype.run=function(e,t){return e!==p.Mode.PREVIEW&&(this.quickOpenService.show(this.prefix+" "+this.command.aliases[0]+" "),!1)},t}(f.QuickOpenEntry),T=function(e){function t(t,n){e.call(this),this.quickOpenService=t,this.prefix=n.prefix,this.commands=n.commands.map(function(e){return{regexp:new RegExp("^("+e.aliases.join("|")+")\\b\\W+"),command:e}}),this.defaultCommand=n.defaultCommand||null}return d(t,e),t.prototype.getResults=function(e){var t,n,i=s.first(this.commands,function(n){return!!(t=e.match(n.regexp))});return n=i?i.command.getResults(e.substr(t[0].length)):this.defaultCommand?this.defaultCommand.getResults(e):this.getCommands(e),n.then(function(e){return new f.QuickOpenModel(e)})},t.prototype.getCommands=function(e){var t=this,n=this.commands.map(function(t){return{command:t.command,highlights:o.matchesFuzzy(e,t.command.aliases[0])}}).filter(function(t){var n=t.command,i=t.highlights;return!!i||n.aliases.some(function(t){return e===t})}).map(function(e){var n=e.command,i=e.highlights;return new I(t.quickOpenService,t.prefix,n,i)});return i.TPromise.as(n)},t.prototype.getClass=function(){return null},t.prototype.canRun=function(){return!0},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0}},t.prototype.onClose=function(e){},t.prototype.getGroupLabel=function(){return null},t.prototype.getEmptyLabel=function(e){var t,i=s.first(this.commands,function(n){return!!(t=e.match(n.regexp))});return i?i.command.getEmptyLabel(e):n.localize(3,null)},t=g([v(0,y.IQuickOpenService)],t)}(S);t.CommandQuickOpenHandler=T;var x=function(e){function t(t,n,i,r){e.call(this,t,n),this.quickOpenService=r,this.prefix=i,this.enabled=!!this.quickOpenService}return d(t,e),t.prototype.run=function(e){return this.quickOpenService.show(this.prefix),i.TPromise.as(null)},t=g([v(3,y.IQuickOpenService)],t)}(h.Action);t.QuickOpenAction=x}),define(l[190],h([1,0,2,466,24,30,62,28,93,64,22,50,45,66,6,186,36,41,34]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E){"use strict";function _(e){if(e instanceof c.QuickOpenEntryGroup){var t=e;t.getEntry()&&(e=t.getEntry())}return e instanceof u.EditorQuickOpenEntry||e instanceof u.EditorQuickOpenEntryGroup?e:null}function C(e,t,n){if(n)return{input:n.editor,position:t.getStacksModel().positionOfGroup(n.group)};var i=e.getActiveEditor();return i?{input:i.input,position:i.position}:null}var w=function(e){function t(t,n,i,r){e.call(this,t,n,"split-editor-action"),this.editorService=i,this.editorGroupService=r}return d(t,e),t.prototype.run=function(e){var t,i=this;if(t=e?this.editorService.getVisibleEditors()[this.editorGroupService.getStacksModel().positionOfGroup(e.group)]:this.editorService.getActiveEditor(),!t)return n.TPromise.as(!0);if(t.input instanceof a.EditorInput&&!t.input.supportsSplitEditor())return n.TPromise.as(!0);var r,o=s.getCodeEditor(t);o?(r=new a.TextEditorOptions,r.fromEditor(o)):r=new a.EditorOptions,r.pinned=!0;var c,u=this.editorService.getVisibleEditors(),l=u.length;switch(l){case 1:c=f.Position.TWO;break;case 2:if(t.position===f.Position.TWO)c=f.Position.THREE;else if(t.position===f.Position.ONE)return r.preserveFocus=!0,this.editorService.openEditor(t.input,r,f.Position.THREE).then(function(){i.editorGroupService.moveGroup(f.Position.THREE,f.Position.TWO),i.editorGroupService.focusGroup(f.Position.TWO)})}return"number"==typeof c?this.editorService.openEditor(t.input,r,c):n.TPromise.as(!0)},t.ID="workbench.action.splitEditor",t.LABEL=i.localize(0,null),t=g([v(2,l.IWorkbenchEditorService),v(3,S.IEditorGroupService)],t)}(r.Action);t.SplitEditorAction=w;var I=function(e){function t(t,n,i,r){e.call(this,t,n),this.editorService=i,this.editorGroupService=r}return d(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();if(!e)return n.TPromise.as(!1);var t=this.editorService.getVisibleEditors(),i=t.length,r=(e.position+1)%i;return this.editorGroupService.focusGroup(r),n.TPromise.as(!0)},t.ID="workbench.action.navigateEditorGroups",t.LABEL=i.localize(1,null),t=g([v(2,l.IWorkbenchEditorService),v(3,S.IEditorGroupService)],t)}(r.Action);t.NavigateBetweenGroupsAction=I;var T=function(e){function t(t,n,i){e.call(this,t,n),this.editorService=i}return d(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();return e&&e.focus(),n.TPromise.as(!0)},t.ID="workbench.action.focusActiveEditorGroup",t.LABEL=i.localize(2,null),t=g([v(2,l.IWorkbenchEditorService)],t)}(r.Action);t.FocusActiveGroupAction=T;var x=function(e){function t(t,n,i,r,o){e.call(this,t,n),this.editorService=i,this.editorGroupService=r,this.historyService=o}return d(t,e),t.prototype.run=function(){for(var e=this.editorService.getVisibleEditors(),t=0,i=e;t<i.length;t++){var r=i[t];if(r.position===f.Position.ONE)return this.editorGroupService.focusGroup(f.Position.ONE),n.TPromise.as(!0)}for(var o=this.historyService.getHistory(),s=0,c=o;s<c.length;s++){var u=c[s];if(!(u instanceof a.EditorInput))return this.editorService.openEditor(u,f.Position.ONE);if(a.getUntitledOrFileResource(u))return this.editorService.openEditor(u,null,f.Position.ONE)}return n.TPromise.as(!0)},t.ID="workbench.action.focusFirstEditorGroup",t.LABEL=i.localize(3,null),t=g([v(2,l.IWorkbenchEditorService),v(3,S.IEditorGroupService),v(4,y.IHistoryService)],t)}(r.Action);t.FocusFirstGroupAction=x;var A=function(e){function t(t,n,i,r,o){e.call(this,t,n),this.editorService=i,this.editorGroupService=r,this.historyService=o}return d(t,e),t.prototype.run=function(){for(var e,t=this.editorService.getVisibleEditors(),i=0;i<t.length;i++){var r=t[i];if(r.position===this.getTargetEditorSide())return this.editorGroupService.focusGroup(r.position),n.TPromise.as(!0);r.position===this.getReferenceEditorSide()&&(e=r)}if(e&&e.input.supportsSplitEditor()){var o=void 0,c=s.getCodeEditor(e);return c?(o=new a.TextEditorOptions,o.pinned=!0,o.fromEditor(c)):o=a.EditorOptions.create({pinned:!0}),this.editorService.openEditor(e.input,o,this.getTargetEditorSide())}if(e)for(var u=this.historyService.getHistory(),l=0,h=u;l<h.length;l++){var d=h[l];if(!(d instanceof a.EditorInput))return this.editorService.openEditor({resource:d.resource,options:{pinned:!0}},this.getTargetEditorSide());if(a.getUntitledOrFileResource(d))return this.editorService.openEditor(d,{pinned:!0},this.getTargetEditorSide())}return n.TPromise.as(!0)},t=g([v(2,l.IWorkbenchEditorService),v(3,S.IEditorGroupService),v(4,y.IHistoryService)],t)}(r.Action);t.BaseFocusSideGroupAction=A;var D=function(e){function t(t,n,i,r,o){e.call(this,t,n,i,r,o)}return d(t,e),t.prototype.getReferenceEditorSide=function(){return f.Position.ONE},t.prototype.getTargetEditorSide=function(){return f.Position.TWO},t.ID="workbench.action.focusSecondEditorGroup",t.LABEL=i.localize(4,null),
t=g([v(2,l.IWorkbenchEditorService),v(3,S.IEditorGroupService),v(4,y.IHistoryService)],t)}(A);t.FocusSecondGroupAction=D;var L=function(e){function t(t,n,i,r,o){e.call(this,t,n,i,r,o)}return d(t,e),t.prototype.getReferenceEditorSide=function(){return f.Position.TWO},t.prototype.getTargetEditorSide=function(){return f.Position.THREE},t.ID="workbench.action.focusThirdEditorGroup",t.LABEL=i.localize(5,null),t=g([v(2,l.IWorkbenchEditorService),v(3,S.IEditorGroupService),v(4,y.IHistoryService)],t)}(A);t.FocusThirdGroupAction=L;var k=function(e){function t(t,n,i,r){e.call(this,t,n),this.editorGroupService=i,this.editorService=r}return d(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();if(!e)return n.TPromise.as(!0);var t=f.Position.ONE;return e.position===f.Position.THREE&&(t=f.Position.TWO),this.editorGroupService.focusGroup(t),n.TPromise.as(!0)},t.ID="workbench.action.focusPreviousGroup",t.LABEL=i.localize(6,null),t=g([v(2,S.IEditorGroupService),v(3,l.IWorkbenchEditorService)],t)}(r.Action);t.FocusPreviousGroup=k;var P=function(e){function t(t,n,i,r){e.call(this,t,n),this.editorService=i,this.navigateActions=[],this.navigateActions[f.Position.ONE]=r.createInstance(x,x.ID,x.LABEL),this.navigateActions[f.Position.TWO]=r.createInstance(D,D.ID,D.LABEL),this.navigateActions[f.Position.THREE]=r.createInstance(L,L.ID,L.LABEL)}return d(t,e),t.prototype.run=function(e){var t,i=this.editorService.getActiveEditor();return i?i.position===f.Position.ONE?t=f.Position.TWO:i.position===f.Position.TWO&&(t=f.Position.THREE):t=f.Position.ONE,"number"==typeof t&&this.navigateActions[t]?this.navigateActions[t].run(e):n.TPromise.as(!0)},t.ID="workbench.action.focusNextGroup",t.LABEL=i.localize(7,null),t=g([v(2,l.IWorkbenchEditorService),v(3,m.IInstantiationService)],t)}(r.Action);t.FocusNextGroup=P;var R=function(e){function t(n,i){e.call(this,t.OPEN_TO_SIDE_ID,t.OPEN_TO_SIDE_LABEL),this.editorService=n,this.editorGroupService=i,this.updateEnablement(),this.updateClass()}return d(t,e),t.prototype.updateClass=function(){var e="horizontal"!==this.editorGroupService.getGroupOrientation();this.class=e?"quick-open-sidebyside-vertical":"quick-open-sidebyside-horizontal"},t.prototype.updateEnablement=function(){var e=this.editorService.getActiveEditor();this.enabled=!e||e.position!==f.Position.THREE},t.prototype.run=function(e){var t=_(e);if(t){var i=t.getInput();if(i instanceof a.EditorInput)return this.editorService.openEditor(i,t.getOptions(),!0);var r=i;return r.options=o.mixin(r.options,t.getOptions()),this.editorService.openEditor(r,!0)}return n.TPromise.as(!1)},t.OPEN_TO_SIDE_ID="workbench.action.openToSide",t.OPEN_TO_SIDE_LABEL=i.localize(8,null),t=g([v(0,l.IWorkbenchEditorService),v(1,S.IEditorGroupService)],t)}(r.Action);t.OpenToSideAction=R,t.toEditorQuickOpenEntry=_;var O=function(e){function t(t,n,i,r){e.call(this,t,n,"close-editor-action"),this.editorGroupService=i,this.editorService=r}return d(t,e),t.prototype.run=function(e){var t=e?this.editorGroupService.getStacksModel().positionOfGroup(e.group):null;if("number"!=typeof t){var i=this.editorService.getActiveEditor();if(i)return this.editorService.closeEditor(i.position,i.input)}var r=e?e.editor:null;if(!r){var o=this.editorService.getVisibleEditors();o[t]&&(r=o[t].input)}return r?this.editorService.closeEditor(t,r):n.TPromise.as(!1)},t.ID="workbench.action.closeActiveEditor",t.LABEL=i.localize(9,null),t=g([v(2,S.IEditorGroupService),v(3,l.IWorkbenchEditorService)],t)}(r.Action);t.CloseEditorAction=O;var M=function(e){function t(t,n,i,r){e.call(this,t,n),this.editorService=i,this.groupService=r}return d(t,e),t.prototype.run=function(e){var t=C(this.editorService,this.groupService,e);return t?this.editorService.closeEditors(t.position,t.input,f.Direction.LEFT):n.TPromise.as(!1)},t.ID="workbench.action.closeEditorsToTheLeft",t.LABEL=i.localize(10,null),t=g([v(2,l.IWorkbenchEditorService),v(3,S.IEditorGroupService)],t)}(r.Action);t.CloseLeftEditorsInGroupAction=M;var N=function(e){function t(t,n,i,r){e.call(this,t,n),this.editorService=i,this.groupService=r}return d(t,e),t.prototype.run=function(e){var t=C(this.editorService,this.groupService,e);return t?this.editorService.closeEditors(t.position,t.input,f.Direction.RIGHT):n.TPromise.as(!1)},t.ID="workbench.action.closeEditorsToTheRight",t.LABEL=i.localize(11,null),t=g([v(2,l.IWorkbenchEditorService),v(3,S.IEditorGroupService)],t)}(r.Action);t.CloseRightEditorsInGroupAction=N;var F=function(e){function t(t,n,i){e.call(this,t,n,"action-close-all-files"),this.editorService=i}return d(t,e),t.prototype.run=function(){return this.editorService.closeAllEditors()},t.ID="workbench.action.closeAllEditors",t.LABEL=i.localize(12,null),t=g([v(2,l.IWorkbenchEditorService)],t)}(r.Action);t.CloseAllEditorsAction=F;var W=function(e){function t(t,n,i,r){e.call(this,t,n),this.editorGroupService=i,this.editorService=r}return d(t,e),t.prototype.run=function(e){var t=e?this.editorGroupService.getStacksModel().positionOfGroup(e.group):null;if("number"!=typeof t){var i=this.editorService.getActiveEditor();i&&(t=i.position)}return"number"==typeof t?this.editorService.closeAllEditors(t):n.TPromise.as(!1)},t.ID="workbench.action.closeEditorsInOtherGroups",t.LABEL=i.localize(13,null),t=g([v(2,S.IEditorGroupService),v(3,l.IWorkbenchEditorService)],t)}(r.Action);t.CloseEditorsInOtherGroupsAction=W;var V=function(e){function t(t,n,i,r){e.call(this,t,n),this.editorGroupService=i,this.editorService=r}return d(t,e),t.prototype.run=function(e){var t=e?this.editorGroupService.getStacksModel().positionOfGroup(e.group):null,i=e?e.editor:null,r=this.editorService.getActiveEditor();return r&&(t="number"==typeof t?t:r.position,i=i?i:r.input),"number"==typeof t&&i?this.editorService.closeEditors(t,i):n.TPromise.as(!1)},t.ID="workbench.action.closeOtherEditors",t.LABEL=i.localize(14,null),t=g([v(2,S.IEditorGroupService),v(3,l.IWorkbenchEditorService)],t)}(r.Action);t.CloseOtherEditorsInGroupAction=V;var B=function(e){function t(t,n,i,r){e.call(this,t,n),this.editorGroupService=i,this.editorService=r}return d(t,e),t.prototype.run=function(e){var t=e?this.editorGroupService.getStacksModel().positionOfGroup(e.group):null;if("number"!=typeof t){var i=this.editorService.getActiveEditor();i&&(t=i.position)}return"number"==typeof t?this.editorService.closeEditors(t):n.TPromise.as(!1)},t.ID="workbench.action.closeEditorsInGroup",t.LABEL=i.localize(15,null),t=g([v(2,S.IEditorGroupService),v(3,l.IWorkbenchEditorService)],t)}(r.Action);t.CloseEditorsInGroupAction=B;var H=function(e){function t(t,n,i,r){e.call(this,t,n),this.editorGroupService=i,this.editorService=r}return d(t,e),t.prototype.run=function(e){var t=e?this.editorGroupService.getStacksModel().positionOfGroup(e.group):null;if("number"!=typeof t){var i=this.editorService.getActiveEditor();!i||i.position!==f.Position.TWO&&i.position!==f.Position.THREE||(t=i.position)}if("number"==typeof t){var r=t===f.Position.TWO?f.Position.ONE:f.Position.TWO;this.editorGroupService.moveGroup(t,r)}return n.TPromise.as(!1)},t.ID="workbench.action.moveActiveEditorGroupLeft",t.LABEL=i.localize(16,null),t=g([v(2,S.IEditorGroupService),v(3,l.IWorkbenchEditorService)],t)}(r.Action);t.MoveGroupLeftAction=H;var z=function(e){function t(t,n,i,r){e.call(this,t,n),this.editorGroupService=i,this.editorService=r}return d(t,e),t.prototype.run=function(e){var t=e?this.editorGroupService.getStacksModel().positionOfGroup(e.group):null;if("number"!=typeof t){var i=this.editorService.getActiveEditor(),r=this.editorService.getVisibleEditors();(2===r.length&&i.position===f.Position.ONE||3===r.length&&i.position!==f.Position.THREE)&&(t=i.position)}if("number"==typeof t){var o=t===f.Position.ONE?f.Position.TWO:f.Position.THREE;this.editorGroupService.moveGroup(t,o)}return n.TPromise.as(!1)},t.ID="workbench.action.moveActiveEditorGroupRight",t.LABEL=i.localize(17,null),t=g([v(2,S.IEditorGroupService),v(3,l.IWorkbenchEditorService)],t)}(r.Action);t.MoveGroupRightAction=z;var U=function(e){function t(t,n,i){e.call(this,t,n),this.editorGroupService=i}return d(t,e),t.prototype.run=function(){return this.editorGroupService.arrangeGroups(S.GroupArrangement.MINIMIZE_OTHERS),n.TPromise.as(!1)},t.ID="workbench.action.minimizeOtherEditors",t.LABEL=i.localize(18,null),t=g([v(2,S.IEditorGroupService)],t)}(r.Action);t.MinimizeOtherGroupsAction=U;var G=function(e){function t(t,n,i){e.call(this,t,n),this.editorGroupService=i}return d(t,e),t.prototype.run=function(){return this.editorGroupService.arrangeGroups(S.GroupArrangement.EVEN),n.TPromise.as(!1)},t.ID="workbench.action.evenEditorWidths",t.LABEL=i.localize(19,null),t=g([v(2,S.IEditorGroupService)],t)}(r.Action);t.EvenGroupWidthsAction=G;var K=function(e){function t(t,n,i,r,o){e.call(this,t,n),this.editorService=i,this.editorGroupService=r,this.partService=o}return d(t,e),t.prototype.run=function(){return this.editorService.getActiveEditor()&&(this.editorGroupService.arrangeGroups(S.GroupArrangement.MINIMIZE_OTHERS),this.partService.setSideBarHidden(!0)),n.TPromise.as(!1)},t.ID="workbench.action.maximizeEditor",t.LABEL=i.localize(20,null),t=g([v(2,l.IWorkbenchEditorService),v(3,S.IEditorGroupService),v(4,p.IPartService)],t)}(r.Action);t.MaximizeGroupAction=K;var j=function(e){function t(t,n,i,r){e.call(this,t,n),this.editorGroupService=i,this.editorService=r}return d(t,e),t.prototype.run=function(e){var t=C(this.editorService,this.editorGroupService,e);return t&&this.editorGroupService.pinEditor(t.position,t.input),n.TPromise.as(!0)},t.ID="workbench.action.keepEditor",t.LABEL=i.localize(21,null),t=g([v(2,S.IEditorGroupService),v(3,l.IWorkbenchEditorService)],t)}(r.Action);t.KeepEditorAction=j;var q=function(e){function t(t,n,i,r){e.call(this,t,n),this.editorGroupService=i,this.editorService=r}return d(t,e),t.prototype.run=function(){var e=this.editorGroupService.getStacksModel(),t=this.navigate();return t?this.editorService.openEditor(t.editor,null,e.positionOfGroup(t.group)):n.TPromise.as(!1)},t}(r.Action);t.BaseNavigateEditorAction=q;var $=function(e){function t(t,n,i,r){e.call(this,t,n,i,r)}return d(t,e),t.prototype.navigate=function(){return this.editorGroupService.getStacksModel().next(!0)},t.ID="workbench.action.nextEditor",t.LABEL=i.localize(22,null),t=g([v(2,S.IEditorGroupService),v(3,l.IWorkbenchEditorService)],t)}(q);t.OpenNextEditor=$;var Y=function(e){function t(t,n,i,r){e.call(this,t,n,i,r)}return d(t,e),t.prototype.navigate=function(){return this.editorGroupService.getStacksModel().previous(!0)},t.ID="workbench.action.previousEditor",t.LABEL=i.localize(23,null),t=g([v(2,S.IEditorGroupService),v(3,l.IWorkbenchEditorService)],t)}(q);t.OpenPreviousEditor=Y;var X=function(e){function t(t,n,i,r){e.call(this,t,n,i,r)}return d(t,e),t.prototype.navigate=function(){return this.editorGroupService.getStacksModel().next(!1)},t.ID="workbench.action.nextEditorInGroup",t.LABEL=i.localize(24,null),t=g([v(2,S.IEditorGroupService),v(3,l.IWorkbenchEditorService)],t)}(q);t.OpenNextEditorInGroup=X;var Q=function(e){function t(t,n,i,r){e.call(this,t,n,i,r)}return d(t,e),t.prototype.navigate=function(){return this.editorGroupService.getStacksModel().previous(!1)},t.ID="workbench.action.previousEditorInGroup",t.LABEL=i.localize(25,null),t=g([v(2,S.IEditorGroupService),v(3,l.IWorkbenchEditorService)],t)}(q);t.OpenPreviousEditorInGroup=Q;var Z=function(e){function t(t,n,i){e.call(this,t,n),this.historyService=i}return d(t,e),t.prototype.run=function(){return this.historyService.forward(),n.TPromise.as(null)},t.ID="workbench.action.navigateForward",t.LABEL=i.localize(26,null),t=g([v(2,y.IHistoryService)],t)}(r.Action);t.NavigateForwardAction=Z;var J=function(e){function t(t,n,i){e.call(this,t,n),this.historyService=i}return d(t,e),t.prototype.run=function(){return this.historyService.back(),n.TPromise.as(null)},t.ID="workbench.action.navigateBack",t.LABEL=i.localize(27,null),t=g([v(2,y.IHistoryService)],t)}(r.Action);t.NavigateBackwardsAction=J;var ee=function(e){function t(t,n,i){e.call(this,t,n),this.historyService=i}return d(t,e),t.prototype.run=function(){return this.historyService.reopenLastClosedEditor(),n.TPromise.as(!1)},t.ID="workbench.action.reopenClosedEditor",t.LABEL=i.localize(28,null),t=g([v(2,y.IHistoryService)],t)}(r.Action);t.ReopenClosedEditorAction=ee,t.NAVIGATE_IN_GROUP_ONE_PREFIX="edt one ";var te=function(e){function n(n,i,r){e.call(this,n,i,t.NAVIGATE_IN_GROUP_ONE_PREFIX,r),this.class="show-group-editors-action"}return d(n,e),n.ID="workbench.action.showEditorsInFirstGroup",n.LABEL=i.localize(29,null),n=g([v(2,h.IQuickOpenService)],n)}(u.QuickOpenAction);t.ShowEditorsInGroupOneAction=te,t.NAVIGATE_IN_GROUP_TWO_PREFIX="edt two ";var ne=function(e){function n(n,i,r){e.call(this,n,i,t.NAVIGATE_IN_GROUP_TWO_PREFIX,r),this.class="show-group-editors-action"}return d(n,e),n.ID="workbench.action.showEditorsInSecondGroup",n.LABEL=i.localize(30,null),n=g([v(2,h.IQuickOpenService)],n)}(u.QuickOpenAction);t.ShowEditorsInGroupTwoAction=ne,t.NAVIGATE_IN_GROUP_THREE_PREFIX="edt three ";var ie=function(e){function n(n,i,r){e.call(this,n,i,t.NAVIGATE_IN_GROUP_THREE_PREFIX,r),this.class="show-group-editors-action"}return d(n,e),n.ID="workbench.action.showEditorsInThirdGroup",n.LABEL=i.localize(31,null),n=g([v(2,h.IQuickOpenService)],n)}(u.QuickOpenAction);t.ShowEditorsInGroupThreeAction=ie;var re=function(e){function n(t,n,i,r){e.call(this,t,n),this.quickOpenService=i,this.editorGroupService=r}return d(n,e),n.prototype.run=function(e){var n=this.editorGroupService.getStacksModel(),i=n.groups.length;if(i<=1||!e)return this.quickOpenService.show(t.NAVIGATE_ALL_EDITORS_GROUP_PREFIX);switch(n.positionOfGroup(e.group)){case f.Position.TWO:return this.quickOpenService.show(t.NAVIGATE_IN_GROUP_TWO_PREFIX);case f.Position.THREE:return this.quickOpenService.show(t.NAVIGATE_IN_GROUP_THREE_PREFIX)}return this.quickOpenService.show(t.NAVIGATE_IN_GROUP_ONE_PREFIX)},n.ID="workbench.action.showEditorsInGroup",n.LABEL=i.localize(32,null),n=g([v(2,h.IQuickOpenService),v(3,S.IEditorGroupService)],n)}(r.Action);t.ShowEditorsInGroupAction=re,t.NAVIGATE_ALL_EDITORS_GROUP_PREFIX="edt ";var oe=function(e){function n(n,i,r){e.call(this,n,i,t.NAVIGATE_ALL_EDITORS_GROUP_PREFIX,r)}return d(n,e),n.ID="workbench.action.showAllEditors",n.LABEL=i.localize(33,null),n=g([v(2,h.IQuickOpenService)],n)}(u.QuickOpenAction);t.ShowAllEditorsAction=oe;var se=function(e){function i(t,n,i,r,o){e.call(this,t,n),this.quickOpenService=i,this.keybindingService=r,this.editorGroupService=o}return d(i,e),i.prototype.run=function(){var e=this.keybindingService.lookupKeybindings(this.id),i=this.editorGroupService.getStacksModel();if(i.activeGroup){var r=i.positionOfGroup(i.activeGroup),o=t.NAVIGATE_IN_GROUP_ONE_PREFIX;r===f.Position.TWO?o=t.NAVIGATE_IN_GROUP_TWO_PREFIX:r===f.Position.THREE&&(o=t.NAVIGATE_IN_GROUP_THREE_PREFIX),this.quickOpenService.show(o,{quickNavigateConfiguration:{keybindings:e}})}return n.TPromise.as(!0)},i=g([v(2,h.IQuickOpenService),v(3,b.IKeybindingService),v(4,S.IEditorGroupService)],i)}(r.Action);t.BaseQuickOpenEditorInGroupAction=se;var ae=function(e){function t(t,n,i,r,o){e.call(this,t,n,i,r,o)}return d(t,e),t.ID="workbench.action.openPreviousRecentlyUsedEditorInGroup",t.LABEL=i.localize(34,null),t=g([v(2,h.IQuickOpenService),v(3,b.IKeybindingService),v(4,S.IEditorGroupService)],t)}(se);t.OpenPreviousRecentlyUsedEditorInGroupAction=ae;var ce=function(e){function t(t,n,i,r,o){e.call(this,t,n,i,r,o)}return d(t,e),t.ID="workbench.action.openNextRecentlyUsedEditorInGroup",t.LABEL=i.localize(35,null),t=g([v(2,h.IQuickOpenService),v(3,b.IKeybindingService),v(4,S.IEditorGroupService)],t)}(se);t.OpenNextRecentlyUsedEditorInGroupAction=ce;var ue=function(e){function t(t,n,i,r){e.call(this,t,n),this.quickOpenService=i,this.keybindingService=r}return d(t,e),t.prototype.run=function(){var e=this.keybindingService.lookupKeybindings(this.id);return this.quickOpenService.show(null,{quickNavigateConfiguration:{keybindings:e}}),n.TPromise.as(!0)},t.ID="workbench.action.openPreviousEditorFromHistory",t.LABEL=i.localize(36,null),t=g([v(2,h.IQuickOpenService),v(3,b.IKeybindingService)],t)}(r.Action);t.OpenPreviousEditorFromHistoryAction=ue;var le=function(e){function t(t,n,i){e.call(this,t,n),this.historyService=i}return d(t,e),t.prototype.run=function(){return this.historyService.clear(),n.TPromise.as(!0)},t.ID="workbench.action.clearEditorHistory",t.LABEL=i.localize(37,null),t=g([v(2,y.IHistoryService)],t)}(r.Action);t.ClearEditorHistoryAction=le;var he=function(e){function t(t,n,i,r){e.call(this,t,n),this.editorGroupService=i,this.editorService=r}return d(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();if(e){var t=this.editorGroupService.getStacksModel().groupAt(e.position),i=t.getEditor(t.count-1);if(i)return this.editorService.openEditor(i)}return n.TPromise.as(!0)},t.ID="workbench.action.openLastEditorInGroup",t.LABEL=i.localize(38,null),t=g([v(2,S.IEditorGroupService),v(3,l.IWorkbenchEditorService)],t)}(r.Action);t.FocusLastEditorInStackAction=he;var de=function(e){function t(t,n,i){e.call(this,t,n),this.commandService=i}return d(t,e),t.prototype.run=function(){var e={to:a.ActiveEditorMovePositioning.LEFT};return this.commandService.executeCommand(a.EditorCommands.MoveActiveEditor,e),n.TPromise.as(!0)},t.ID="workbench.action.moveEditorLeftInGroup",t.LABEL=i.localize(39,null),t=g([v(2,E.ICommandService)],t)}(r.Action);t.MoveEditorLeftInGroupAction=de;var pe=function(e){function t(t,n,i){e.call(this,t,n),this.commandService=i}return d(t,e),t.prototype.run=function(){var e={to:a.ActiveEditorMovePositioning.RIGHT};return this.commandService.executeCommand(a.EditorCommands.MoveActiveEditor,e),n.TPromise.as(!0)},t.ID="workbench.action.moveEditorRightInGroup",t.LABEL=i.localize(40,null),t=g([v(2,E.ICommandService)],t)}(r.Action);t.MoveEditorRightInGroupAction=pe;var fe=function(e){function t(t,n,i,r){e.call(this,t,n),this.editorGroupService=i,this.editorService=r}return d(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();return e&&e.position!==f.Position.ONE&&this.editorGroupService.moveEditor(e.input,e.position,e.position-1),n.TPromise.as(!0)},t.ID="workbench.action.moveEditorToPreviousGroup",t.LABEL=i.localize(41,null),t=g([v(2,S.IEditorGroupService),v(3,l.IWorkbenchEditorService)],t)}(r.Action);t.MoveEditorToPreviousGroupAction=fe;var ge=function(e){function t(t,n,i,r){e.call(this,t,n),this.editorGroupService=i,this.editorService=r}return d(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();return e&&e.position!==f.Position.THREE&&this.editorGroupService.moveEditor(e.input,e.position,e.position+1),n.TPromise.as(!0)},t.ID="workbench.action.moveEditorToNextGroup",t.LABEL=i.localize(42,null),t=g([v(2,S.IEditorGroupService),v(3,l.IWorkbenchEditorService)],t)}(r.Action);t.MoveEditorToNextGroupAction=ge});define(l[1057],h([1,0,2,469,81,7,12,99,93,209,54,138,40,64,66,41,22,6,26,28,732]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_){"use strict";var C=function(e){function t(t,n,i,r,o,s){e.call(this),this.editor=t,this._group=n,this.editorService=i,this.modeService=r,this.modelService=o,this.stacks=s.getStacksModel()}return d(t,e),t.prototype.getLabelOptions=function(){return{extraClasses:h.getIconClasses(this.modelService,this.modeService,this.getResource()),italic:this._group.isPreview(this.editor)}},t.prototype.getLabel=function(){return this.editor.getName()},t.prototype.getIcon=function(){return this.editor.isDirty()?"dirty":""},Object.defineProperty(t.prototype,"group",{get:function(){return this._group},enumerable:!0,configurable:!0}),t.prototype.getResource=function(){var e=_.asFileEditorInput(this.editor,!0);return e&&e.getResource()},t.prototype.getAriaLabel=function(){return i.localize(0,null,this.getLabel())},t.prototype.getDescription=function(){return this.editor.getDescription()},t.prototype.run=function(t,n){return t===a.Mode.OPEN?this.runOpen(n):e.prototype.run.call(this,t,n)},t.prototype.runOpen=function(e){return this.editorService.openEditor(this.editor,null,this.stacks.positionOfGroup(this.group)).done(null,o.onUnexpectedError),!0},t=g([v(2,b.IWorkbenchEditorService),v(3,l.IModeService),v(4,p.IModelService),v(5,y.IEditorGroupService)],t)}(c.QuickOpenEntryGroup);t.EditorPickerEntry=C;var w=function(e){function t(t,n,i,r){e.call(this),this.instantiationService=t,this.contextService=n,this.editorService=i,this.editorGroupService=r,this.scorerCache=Object.create(null)}return d(t,e),t.prototype.getResults=function(e){var t=this;e=e.trim();var o=s.stripWildcards(e).toLowerCase(),a=this.getEditorEntries();if(!a.length)return n.TPromise.as(null);var l=this.editorGroupService.getStacksModel(),h=a.filter(function(n){if(!e)return!0;var i=n.getResource(),s=i?r.getPathLabel(n.getResource(),t.contextService):n.getLabel();if(!u.matches(s,o))return!1;var a=c.QuickOpenEntry.highlight(n,e,!0),l=a.labelHighlights,h=a.descriptionHighlights;return n.setHighlights(l,h),!0});if(e&&h.sort(function(n,i){return n.group!==i.group?l.positionOfGroup(n.group)-l.positionOfGroup(i.group):c.QuickOpenEntry.compareByScore(n,i,e,o,t.scorerCache)}),l.groups.length>1){var d;h.forEach(function(e){d&&d===e.group||(e.setGroupLabel(i.localize(1,null,e.group.label)),e.setShowBorder(!!d),d=e.group)})}return n.TPromise.as(new c.QuickOpenModel(h))},t.prototype.onClose=function(e){this.scorerCache=Object.create(null)},t=g([v(0,S.IInstantiationService),v(1,E.IWorkspaceContextService),v(2,b.IWorkbenchEditorService),v(3,y.IEditorGroupService)],t)}(f.QuickOpenHandler);t.BaseEditorPicker=w;var I=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getEditorEntries=function(){var e=this,t=this.editorGroupService.getStacksModel(),n=t.groupAt(this.getPosition());return n?n.getEditors(!0).map(function(t,i){return e.instantiationService.createInstance(C,t,n)}):[]},t.prototype.getEmptyLabel=function(e){return e?i.localize(2,null):i.localize(3,null)},t.prototype.getAutoFocus=function(t,n){if(t||!n)return{autoFocusFirstEntry:!0};var i=this.editorGroupService.getStacksModel(),r=i.groupAt(this.getPosition());if(!r)return e.prototype.getAutoFocus.call(this,t);var o=n&&n.keybindings.some(function(e){return e.hasShift()});return o?{autoFocusLastEntry:!0}:{autoFocusFirstEntry:1===r.count,autoFocusSecondEntry:r.count>1}},t}(w);t.EditorGroupPicker=I;var T=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getPosition=function(){return m.Position.ONE},t}(I);t.GroupOnePicker=T;var x=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getPosition=function(){return m.Position.TWO},t}(I);t.GroupTwoPicker=x;var A=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getPosition=function(){return m.Position.THREE},t}(I);t.GroupThreePicker=A;var D=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getEditorEntries=function(){var e=this,t=[],n=this.editorGroupService.getStacksModel();return n.groups.forEach(function(n,i){n.getEditors().forEach(function(i,r){t.push(e.instantiationService.createInstance(C,i,n))})}),t},t.prototype.getEmptyLabel=function(e){return e?i.localize(4,null):i.localize(5,null)},t.prototype.getAutoFocus=function(t){return t?{autoFocusFirstEntry:!0}:e.prototype.getAutoFocus.call(this,t)},t}(w);t.AllEditorsPicker=D});define(l[258],h([1,0,474,14,68,7,8,2,72,17,10,35,28,109,43,257,22,39,25,41,18,79,19,6,50,36,23,190,5,241,31,292,742]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P,R){"use strict";var O=function(){function e(e,t,n,i,r,o,s,a,c,l,h){var d=this;this.contextMenuService=e,this.instantiationService=t,this.configurationService=n,this.editorService=i,this.editorGroupService=r,this.contextKeyService=o,this.keybindingService=s,this.telemetryService=a,this.messageService=c,this.menuService=l,this.quickOpenService=h,this.currentPrimaryEditorActionIds=[],this.currentSecondaryEditorActionIds=[],this.disposeOnEditorActions=[],this.toDispose=[],this.stacks=r.getStacksModel(),this.mapActionsToEditors=Object.create(null),this.onConfigurationUpdated(n.getConfiguration()),this.scheduler=new u.RunOnceScheduler(function(){return d.onSchedule()},0),this.toDispose.push(this.scheduler),this.resourceContext=t.createInstance(R.ResourceContextKey),this.contextMenu=this.menuService.createMenu(P.MenuId.EditorTitleContext,this.contextKeyService),this.toDispose.push(this.contextMenu),this.initActions(),this.registerListeners()}return e.getDraggedEditor=function(){return e.draggedEditor},e.prototype.setDragged=function(e){this.dragged=e},e.prototype.onEditorDragStart=function(t){e.draggedEditor=t},e.prototype.onEditorDragEnd=function(){e.draggedEditor=void 0},e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationUpdated(t.config)})),this.toDispose.push(this.stacks.onModelChanged(function(t){return e.onStacksChanged(t)}))},e.prototype.onStacksChanged=function(e){e.structural&&this.updateSplitActionEnablement()},e.prototype.onConfigurationUpdated=function(e){this.previewEditors=e.workbench&&e.workbench.editor&&e.workbench.editor.enablePreview,this.showTabs=e.workbench&&e.workbench.editor&&e.workbench.editor.showTabs,this.showTabCloseButton=e.workbench&&e.workbench.editor&&e.workbench.editor.showTabCloseButton},e.prototype.updateSplitActionEnablement=function(){if(this.context){var e=this.stacks.groups.length;this.splitEditorAction.enabled=e<3}},e.prototype.onSchedule=function(){this.refreshScheduled?this.doRefresh():this.doUpdate(),this.refreshScheduled=!1},e.prototype.setContext=function(e){this.context=e},e.prototype.hasContext=function(){return!!this.context},e.prototype.update=function(e){e?(this.scheduler.cancel(),this.onSchedule()):this.scheduler.schedule()},e.prototype.refresh=function(e){this.refreshScheduled=!0,e?(this.scheduler.cancel(),this.onSchedule()):this.scheduler.schedule()},e.prototype.create=function(e){this.parent=e},e.prototype.getContainer=function(){return this.parent},e.prototype.doUpdate=function(){this.doRefresh()},e.prototype.layout=function(){},e.prototype.allowDragging=function(e){return!s.findParentWithClass(e,"monaco-action-bar","one-editor-silo")},e.prototype.initActions=function(){this.closeEditorAction=this.instantiationService.createInstance(D.CloseEditorAction,D.CloseEditorAction.ID,n.localize(0,null)),this.closeOtherEditorsAction=this.instantiationService.createInstance(D.CloseOtherEditorsInGroupAction,D.CloseOtherEditorsInGroupAction.ID,n.localize(1,null)),this.closeRightEditorsAction=this.instantiationService.createInstance(D.CloseRightEditorsInGroupAction,D.CloseRightEditorsInGroupAction.ID,n.localize(2,null)),this.closeEditorsInGroupAction=this.instantiationService.createInstance(D.CloseEditorsInGroupAction,D.CloseEditorsInGroupAction.ID,n.localize(3,null)),this.pinEditorAction=this.instantiationService.createInstance(D.KeepEditorAction,D.KeepEditorAction.ID,n.localize(4,null)),this.showEditorsInGroupAction=this.instantiationService.createInstance(D.ShowEditorsInGroupAction,D.ShowEditorsInGroupAction.ID,n.localize(5,null)),this.splitEditorAction=this.instantiationService.createInstance(D.SplitEditorAction,D.SplitEditorAction.ID,D.SplitEditorAction.LABEL)},e.prototype.createEditorActionsToolBar=function(e){var t=this;this.editorActionsToolbar=new m.ToolBar(e,this.contextMenuService,{actionItemProvider:function(e){return t.actionItemProvider(e)},orientation:f.ActionsOrientation.HORIZONTAL,ariaLabel:n.localize(6,null),getKeyBinding:function(e){return t.getKeybinding(e)},getKeyBindingLabel:function(e){return t.keybindingService.getLabelFor(e)}}),this.toDispose.push(this.editorActionsToolbar.actionRunner.addListener2(p.EventType.RUN,function(e){e.error&&!o.isPromiseCanceledError(e.error)&&t.messageService.show(_.Severity.Error,e.error),t.telemetryService&&t.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:"editorPart"})}))},e.prototype.actionItemProvider=function(e){if(!this.context)return null;var t,n=this.context,o=this.stacks.positionOfGroup(n),s=this.editorService.getVisibleEditors()[o];if(s instanceof c.BaseEditor&&(t=s.getActionItem(e)),!t){var a=i.Registry.as(r.Extensions.Actionbar);t=a.getActionItemForContext(r.Scope.EDITOR,{input:s&&s.input,editor:s,position:o},e)}return t||(t=k.createActionItem(e,this.keybindingService,this.messageService)),t},e.prototype.getEditorActions=function(e){var t=this,n=[],i=[],r=e.group,o=this.stacks.positionOfGroup(r);this.resourceContext.set(r&&d.getResource(r.activeEditor));var s=this.editorService.getVisibleEditors()[o];if(s instanceof c.BaseEditor&&s.input&&"number"==typeof s.position){var a=this.mapActionsToEditors[s.getId()];a||(a=this.getEditorActionsForContext(s),this.mapActionsToEditors[s.getId()]=a),n.push.apply(n,a.primary),i.push.apply(i,a.secondary);var u=this.getEditorActionsForContext({input:s.input,editor:s,position:s.position});n.push.apply(n,u.primary),i.push.apply(i,u.secondary),this.disposeOnEditorActions=L.dispose(this.disposeOnEditorActions);var h=s.getControl(),p=l.isCommonCodeEditor(h)&&h||l.isCommonDiffEditor(h)&&h.getModifiedEditor(),f=p&&p.invokeWithinContext(function(e){return e.get(A.IContextKeyService)})||this.contextKeyService,g=this.menuService.createMenu(P.MenuId.EditorTitle,f);this.disposeOnEditorActions.push(g,g.onDidChange(function(e){return t.update()})),k.fillInActions(g,this.resourceContext.get(),{primary:n,secondary:i})}return{primary:n,secondary:i}},e.prototype.getEditorActionsForContext=function(e){var t=[],n=[];if(e instanceof c.BaseEditor)t.push.apply(t,e.getActions()),n.push.apply(n,e.getSecondaryActions());else{var o=i.Registry.as(r.Extensions.Actionbar);t.push.apply(t,o.getActionBarActionsForContext(r.Scope.EDITOR,e)),n.push.apply(n,o.getSecondaryActionBarActionsForContext(r.Scope.EDITOR,e))}return{primary:t,secondary:n}},e.prototype.updateEditorActionsToolbar=function(){var e=this.context;if(e){var t=e&&e.activeEditor,n=this.stacks.isActive(e),i=[],o=[];if(n){var s=this.getEditorActions({group:e,editor:t});i=r.prepareActions(s.primary),n&&t instanceof d.EditorInput&&t.supportsSplitEditor()&&(this.updateSplitActionEnablement(),i.push(this.splitEditorAction)),o=r.prepareActions(s.secondary)}this.showTabs&&(o.length>0&&o.push(new f.Separator),o.push(this.showEditorsInGroupAction),o.push(new f.Separator),o.push(this.closeEditorsInGroupAction));var a=i.map(function(e){return e.id});this.showTabs||a.push(this.closeEditorAction.id);var c=o.map(function(e){return e.id});h.equals(a,this.currentPrimaryEditorActionIds)&&h.equals(c,this.currentSecondaryEditorActionIds)&&!i.some(function(e){return e instanceof P.ExecuteCommandAction})&&!o.some(function(e){return e instanceof P.ExecuteCommandAction})||(this.editorActionsToolbar.setActions(i,o)(),this.showTabs||this.editorActionsToolbar.addPrimaryAction(this.closeEditorAction)(),this.currentPrimaryEditorActionIds=a,this.currentSecondaryEditorActionIds=c)}},e.prototype.clearEditorActionsToolbar=function(){this.editorActionsToolbar.setActions([],[])(),this.currentPrimaryEditorActionIds=[],this.currentSecondaryEditorActionIds=[]},e.prototype.onContextMenu=function(e,t,n){var i=this,r=this.resourceContext.get();this.resourceContext.set(e.editor&&d.getResource(e.editor));var o=n;if(t instanceof MouseEvent){var s=new C.StandardMouseEvent(t);o={x:s.posx,y:s.posy}}this.contextMenuService.showContextMenu({getAnchor:function(){return o},getActions:function(){return a.TPromise.as(i.getContextMenuActions(e))},getActionsContext:function(){return e},getKeyBinding:function(e){return i.getKeybinding(e)},onHide:function(e){return i.resourceContext.set(r)}})},e.prototype.getKeybinding=function(e){var t=this.keybindingService.lookupKeybindings(e.id);return t.length>0?t[0]:null},e.prototype.getKeybindingLabel=function(e){var t=this.getKeybinding(e);return t?this.keybindingService.getLabelFor(t):void 0;
},e.prototype.getContextMenuActions=function(e){var t=e.editor,n=e.group;this.closeOtherEditorsAction.enabled=n.count>1,this.pinEditorAction.enabled=!n.isPinned(t),this.closeRightEditorsAction.enabled=n.indexOf(t)!==n.count-1;var i=[this.closeEditorAction,this.closeOtherEditorsAction];return this.showTabs&&i.push(this.closeRightEditorsAction),i.push(this.closeEditorsInGroupAction),this.previewEditors&&i.push(new f.Separator,this.pinEditorAction),k.fillInActions(this.contextMenu,this.resourceContext.get(),i),i},e.prototype.dispose=function(){L.dispose(this.toDispose),[this.splitEditorAction,this.showEditorsInGroupAction,this.closeEditorAction,this.closeRightEditorsAction,this.closeOtherEditorsAction,this.closeEditorsInGroupAction,this.pinEditorAction].forEach(function(e){e.dispose()}),this.editorActionsToolbar.dispose()},e=g([v(0,b.IContextMenuService),v(1,I.IInstantiationService),v(2,S.IConfigurationService),v(3,y.IWorkbenchEditorService),v(4,E.IEditorGroupService),v(5,A.IContextKeyService),v(6,x.IKeybindingService),v(7,w.ITelemetryService),v(8,_.IMessageService),v(9,P.IMenuService),v(10,T.IQuickOpenService)],e)}();t.TitleControl=O}),define(l[1059],h([1,0,7,28,8,258,138,734]),function(e,t,n,i,r,o,s){"use strict";var a=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.setContext=function(t){e.prototype.setContext.call(this,t),this.editorActionsToolbar.context={group:t}},t.prototype.create=function(t){var n=this;e.prototype.create.call(this,t),this.titleContainer=t,this.toDispose.push(r.addDisposableListener(this.titleContainer,r.EventType.DBLCLICK,function(e){return n.onTitleDoubleClick(e)})),this.toDispose.push(r.addDisposableListener(this.titleContainer,r.EventType.MOUSE_UP,function(e){return n.onTitleClick(e)})),this.editorLabel=this.instantiationService.createInstance(s.EditorLabel,this.titleContainer,void 0),this.toDispose.push(this.editorLabel),this.toDispose.push(r.addDisposableListener(this.editorLabel.labelElement,r.EventType.CLICK,function(e){return n.onTitleLabelClick(e)})),this.toDispose.push(r.addDisposableListener(this.editorLabel.descriptionElement,r.EventType.CLICK,function(e){return n.onTitleLabelClick(e)}));var i=document.createElement("div");r.addClass(i,"title-actions"),this.titleContainer.appendChild(i),this.createEditorActionsToolBar(i),this.toDispose.push(r.addDisposableListener(this.titleContainer,r.EventType.CONTEXT_MENU,function(e){return n.onContextMenu({group:n.context,editor:n.context.activeEditor},e,n.titleContainer)}))},t.prototype.onTitleLabelClick=function(e){r.EventHelper.stop(e,!1),this.dragged||this.quickOpenService.show()},t.prototype.onTitleDoubleClick=function(e){if(r.EventHelper.stop(e),this.context){var t=this.context;this.editorGroupService.pinEditor(t,t.activeEditor)}},t.prototype.onTitleClick=function(e){if(r.EventHelper.stop(e,!1),this.context){var t=this.context,i=this.stacks.positionOfGroup(t);1===e.button?this.editorService.closeEditor(i,t.activeEditor).done(null,n.onUnexpectedError):1!==this.stacks.groups.length||r.isAncestor(e.target||e.srcElement,this.editorActionsToolbar.getContainer().getHTMLElement())||this.editorGroupService.focusGroup(t)}},t.prototype.doRefresh=function(){var e=this.context,t=e&&e.activeEditor;if(!t)return this.editorLabel.clear(),void this.clearEditorActionsToolbar();var n=e.isPinned(e.activeEditor),o=this.stacks.isActive(e);o?r.addClass(this.titleContainer,"active"):r.removeClass(this.titleContainer,"active"),t.isDirty()?r.addClass(this.titleContainer,"dirty"):r.removeClass(this.titleContainer,"dirty");var s=i.getResource(t),a=t.getName()||"",c=o?t.getDescription()||"":"",u=t.getDescription(!0)||"";c===u&&(u=""),this.editorLabel.setLabel({name:a,description:c,resource:s},{title:u,italic:!n,extraClasses:["title-label"]}),this.updateEditorActionsToolbar()},t}(o.TitleControl);t.NoTabsTitleControl=a}),define(l[1060],h([1,0,511,2,12,21,13,30,16,120,20,104,14,115,25,33,19,26,6,997,22,50,205]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S,E,_,C,w){"use strict";t.debuggersExtPoint=h.ExtensionsRegistry.registerExtensionPoint("debuggers",[],{description:n.localize(0,null),type:"array",defaultSnippets:[{body:[{type:"",extensions:[]}]}],items:{type:"object",defaultSnippets:[{body:{type:"",program:"",runtime:"",enableBreakpointsFor:{languageIds:[""]}}}],properties:{type:{description:n.localize(1,null),type:"string"},label:{description:n.localize(2,null),type:"string"},program:{description:n.localize(3,null),type:"string"},args:{description:n.localize(4,null),type:"array"},runtime:{description:n.localize(5,null),type:"string"},runtimeArgs:{description:n.localize(6,null),type:"array"},variables:{description:n.localize(7,null),type:"object"},initialConfigurations:{description:n.localize(8,null),type:["array","string"]},configurationSnippets:{description:n.localize(9,null),type:"array"},configurationAttributes:{description:n.localize(10,null),type:"object"},windows:{description:n.localize(11,null),type:"object",properties:{runtime:{description:n.localize(12,null),type:"string"}}},osx:{description:n.localize(13,null),type:"object",properties:{runtime:{description:n.localize(14,null),type:"string"}}},linux:{description:n.localize(15,null),type:"object",properties:{runtime:{description:n.localize(16,null),type:"string"}}}}}}),t.breakpointsExtPoint=h.ExtensionsRegistry.registerExtensionPoint("breakpoints",[],{description:n.localize(17,null),type:"array",defaultSnippets:[{body:[{language:""}]}],items:{type:"object",defaultSnippets:[{body:{language:""}}],properties:{language:{description:n.localize(18,null),type:"string"}}}}),t.schemaId="vscode://schemas/launch";var I={name:"Compound",configurations:[]},T={id:t.schemaId,type:"object",title:n.localize(19,null),required:["version","configurations"],default:{version:"0.2.0",configurations:[],compounds:[]},properties:{version:{type:"string",description:n.localize(20,null),default:"0.2.0"},configurations:{type:"array",description:n.localize(21,null),items:{defaultSnippets:[],type:"object",oneOf:[]}},debugServer:{type:"number",description:n.localize(22,null)},compounds:{type:"array",description:n.localize(23,null),items:{type:"object",required:["name","configurations"],properties:{name:{type:"string",description:n.localize(24,null)},configurations:{type:"array",default:[],items:{type:"string"},description:n.localize(25,null)}},default:I},default:[I]}}},x=d.Registry.as(p.Extensions.JSONContribution);x.registerSchema(t.schemaId,T);var A=function(){function e(e,t,n,i,r,o,s,a){this.contextService=e,this.fileService=t,this.telemetryService=n,this.editorService=i,this.configurationService=r,this.quickOpenService=o,this.configurationResolverService=s,this.instantiationService=a,this.adapters=[],this.registerListeners(),this.allModeIdsForBreakpoints={}}return e.prototype.registerListeners=function(){var e=this;t.debuggersExtPoint.setHandler(function(t){t.forEach(function(t){t.value.forEach(function(i){i.type&&"string"==typeof i.type||t.collector.error(n.localize(26,null)),i.enableBreakpointsFor&&i.enableBreakpointsFor.languageIds.forEach(function(t){e.allModeIdsForBreakpoints[t]=!0});var r=e.adapters.filter(function(e){return e.type===i.type}).pop();r?r.merge(i,t.description):e.adapters.push(e.instantiationService.createInstance(E.Adapter,i,t.description))})}),e.adapters.forEach(function(e){var t=T.properties.configurations.items,n=e.getSchemaAttributes();n&&(r=t.oneOf).push.apply(r,n);var i=e.configurationSnippets;i&&(o=t.defaultSnippets).push.apply(o,i);var r,o})}),t.breakpointsExtPoint.setHandler(function(t){t.forEach(function(t){t.value.forEach(function(t){e.allModeIdsForBreakpoints[t.language]=!0})})})},e.prototype.getAdapter=function(e){return this.adapters.filter(function(t){return r.equalsIgnoreCase(t.type,e)}).pop()},e.prototype.getCompound=function(e){var t=this.configurationService.getConfiguration("launch");return t&&t.compounds?t.compounds.filter(function(t){return t.name===e}).pop():null},e.prototype.getConfiguration=function(e){var t=this,n=this.configurationService.getConfiguration("launch"),r=null;if(o.isObject(e))r=a.deepClone(e);else{if(!n||!n.configurations)return i.TPromise.as(null);var c=n.configurations.filter(function(t){return t.name===e});r=1===c.length?c[0]:n.configurations[0],r=a.deepClone(r),n&&r&&n.debugServer&&(r.debugServer=n.debugServer)}if(r){var u=function(e,t){e&&t&&Object.keys(t).forEach(function(e){r[e]=t[e]})};u(s.isWindows,r.windows),u(s.isMacintosh,r.osx),u(s.isLinux,r.linux),Object.keys(r).forEach(function(e){r[e]=t.configurationResolverService.resolveAny(r[e])});var l=this.getAdapter(r.type);return this.configurationResolverService.resolveInteractiveVariables(r,l?l.variables:null)}return i.TPromise.as(null)},e.prototype.openConfigFile=function(e){var t=this,i=c.default.file(l.join(this.contextService.getWorkspace().resource.fsPath,"/.vscode/launch.json")),r=!1;return this.fileService.resolveContent(i).then(function(e){return!0},function(e){return t.quickOpenService.pick(t.adapters,{placeHolder:n.localize(27,null)}).then(function(e){return e?e.getInitialConfigurationContent():null}).then(function(e){return!!e&&(r=!0,t.fileService.updateContent(i,e).then(function(){return!0}))})}).then(function(n){return!!n&&(t.telemetryService.publicLog("debugConfigure"),t.editorService.openEditor({resource:i,options:{forceOpen:!0,pinned:r}},e).then(function(){return!0}))},function(e){throw new Error(n.localize(28,null,e))})},e.prototype.canSetBreakpointsIn=function(e){if(e.uri.scheme===u.Schemas.inMemory)return!1;if(this.configurationService.getConfiguration("debug").allowBreakpointsEverywhere)return!0;var t=e?e.getMode():null,n=t?t.getId():null;return!!this.allModeIdsForBreakpoints[n]},e=g([v(0,b.IWorkspaceContextService),v(1,m.IFileService),v(2,y.ITelemetryService),v(3,_.IWorkbenchEditorService),v(4,f.IConfigurationService),v(5,C.IQuickOpenService),v(6,w.IConfigurationResolverService),v(7,S.IInstantiationService)],e)}();t.ConfigurationManager=A}),define(l[1061],h([1,0,512,31,14,64,37,50]),function(e,t,n,i,r,o,s,a){"use strict";var c=">Emmet: ",u=function(e){function t(t,n,i){e.call(this,t,n,c,i)}return d(t,e),t.ID="workbench.action.showEmmetCommands",t.LABEL=n.localize(0,null),t=g([v(2,a.IQuickOpenService)],t)}(o.QuickOpenAction),l=r.Registry.as(s.Extensions.WorkbenchActions);l.registerWorkbenchAction(new i.SyncActionDescriptor(u,u.ID,u.LABEL),"Show Emmet Commands")}),define(l[1062],h([1,0,1061]),function(e,t){"use strict"}),define(l[191],h([1,0,2,561,5,21,24,194,207,28,7,13,22,26,47,33,18,32,25,57,50,20,16,114]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T){"use strict";function x(e,t){if(void 0===t&&(t=!1),e){if(Array.isArray(e)){if(e.some(function(e){return!(e instanceof a.FileStatus)}))throw new Error("Invalid context.");return e}if(e instanceof a.FileStatus)return[e];if(e instanceof a.StatusGroup)return e.all();if(e.tree){var n=e.tree.getSelection();return n.indexOf(e.fileStatus)>-1?n:[e.fileStatus]}if(e.selection)return!t&&e.selection.indexOf(e.focus)>-1?e.selection:[e.focus];throw new Error("Invalid context.")}return e}var A=function(e){function t(t,n,i,r){var o=this;e.call(this,t,n,i,!1),this.gitService=r,this.toDispose=[this.gitService.addBulkListener2(function(){return o.onGitServiceChange()})],this.onGitServiceChange()}return d(t,e),t.prototype.onGitServiceChange=function(){this.updateEnablement()},t.prototype.updateEnablement=function(){this.enabled=this.isEnabled()},t.prototype.isEnabled=function(){return!!this.gitService},t.prototype.dispose=function(){this.gitService=null,this.toDispose=r.dispose(this.toDispose),e.prototype.dispose.call(this)},t}(s.Action);t.GitAction=A;var D=function(e){function t(n,r){e.call(this,t.ID,i.localize(0,null),"git-action open-change",r),this.editorService=n,this.onGitServiceChange()}return d(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.editorService},t.prototype.run=function(e){var t=this,n=x(e,!0);return this.gitService.getInput(n[0]).then(function(e){var n=new u.TextDiffEditorOptions;return n.forceOpen=!0,t.editorService.openEditor(e,n)})},t.ID="workbench.action.git.openChange",t=g([v(0,p.IWorkbenchEditorService),v(1,_.IGitService)],t)}(A);t.OpenChangeAction=D;var L=function(e){function t(n,r,o,s){e.call(this,t.ID,i.localize(1,null),"git-action open-file",o),this.fileService=r,this.editorService=n,this.contextService=s,this.onGitServiceChange()}return d(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.editorService||!!this.fileService},t.prototype.getPath=function(e){if(e.getStatus()===_.Status.INDEX_RENAMED)return e.getRename();var t=this.gitService.getModel().getStatus().find(e.getPath(),_.StatusType.INDEX);return t&&t.getStatus()===_.Status.INDEX_RENAMED?e.getRename():e.getPath()},t.prototype.run=function(e){var i=this,r=x(e,!0),o=r[0];if(!(o instanceof a.FileStatus))return n.Promise.wrapError(new Error("Can't open file."));if(t.DELETED_STATES.indexOf(o.getStatus())>-1)return n.Promise.wrapError(new Error("Can't open file which has been deleted."));var s=I.default.file(w.join(this.gitService.getModel().getRepositoryRoot(),this.getPath(o)));return this.fileService.resolveFile(s).then(function(e){return i.editorService.openEditor({resource:e.resource,options:{forceOpen:!0}})})},t.DELETED_STATES=[_.Status.BOTH_DELETED,_.Status.DELETED,_.Status.DELETED_BY_US,_.Status.INDEX_DELETED],t.ID="workbench.action.git.openFile",t=g([v(0,p.IWorkbenchEditorService),v(1,y.IFileService),v(2,_.IGitService),v(3,f.IWorkspaceContextService)],t)}(A);t.OpenFileAction=L;var k=function(e){function t(n){e.call(this,t.ID,i.localize(2,null),"git-action init",n)}return d(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.gitService.getState()===_.ServiceState.NotARepo},t.prototype.run=function(){return this.gitService.init()},t.ID="workbench.action.git.init",t=g([v(0,_.IGitService)],t)}(A);t.InitAction=k;var P=function(e){function t(n){e.call(this,t.ID,i.localize(3,null),"git-action refresh",n)}return d(t,e),t.prototype.run=function(){return this.gitService.status()},t.ID="workbench.action.git.refresh",t=g([v(0,_.IGitService)],t)}(A);t.RefreshAction=P;var R=function(e){function t(t,n,i,r,o){e.call(this,t,n,i,r),this.editorService=o}return d(t,e),t.prototype.run=function(e){var t=this,i=x(e);return this.gitService.add(i).then(function(e){var r=t.findGitWorkingTreeEditor();if(!r)return n.TPromise.as(e);var o=r.input,s=o.getFileStatus();if(i&&i.every(function(e){return e!==s}))return n.TPromise.as(e);var a=o.getFileStatus().getPath(),c=e.getStatus().find(a,_.StatusType.INDEX);if(!c)return n.TPromise.as(e);var l=r.getControl(),h=l?l.saveViewState():null;return t.gitService.getInput(c).then(function(n){var i=new u.TextDiffEditorOptions;return i.forceOpen=!0,t.editorService.openEditor(n,i,r.position).then(function(t){return h&&l.restoreViewState(h),e})})})},t.prototype.findGitWorkingTreeEditor=function(){for(var e=this.editorService.getVisibleEditors(),t=0;t<e.length;t++){var n=e[t];if(c.isGitEditorInput(n.input))return n}return null},t.prototype.dispose=function(){this.editorService=null,e.prototype.dispose.call(this)},t}(A);t.BaseStageAction=R;var O=function(e){function t(n,i){e.call(this,t.ID,t.LABEL,"git-action stage",n,i)}return d(t,e),t.ID="workbench.action.git.stage",t.LABEL=i.localize(4,null),t=g([v(0,_.IGitService),v(1,p.IWorkbenchEditorService)],t)}(R);t.StageAction=O;var M=function(e){function t(n,r){e.call(this,t.ID,i.localize(5,null),"git-action stage",n,r)}return d(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.gitService.getModel().getStatus().getWorkingTreeStatus().all().length>0},t.prototype.run=function(t){return e.prototype.run.call(this)},t.ID="workbench.action.git.stageAll",t=g([v(0,_.IGitService),v(1,p.IWorkbenchEditorService)],t)}(R);t.GlobalStageAction=M;var N=function(e){function t(t,n,i,r,o,s,a,c,u){e.call(this,t,n,i,r),this.eventService=o,this.editorService=c,this.messageService=s,this.fileService=a,this.contextService=u,this.onGitServiceChange()}return d(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.eventService&&!!this.editorService&&!!this.fileService},t.prototype.run=function(e){var t=this;if(!this.messageService.confirm(this.getConfirm(e)))return n.TPromise.as(null);var i=[];if(e instanceof a.StatusGroup)i=[this.gitService.undo()];else{for(var r=x(e),o=[],s=[],c=0;c<r.length;c++){var u=r[c].clone();switch(u.getStatus()){case _.Status.UNTRACKED:case _.Status.IGNORED:o.push(u);break;default:s.push(u)}}o.length>0&&i.push(this.gitService.clean(o)),s.length>0&&i.push(this.gitService.checkout("",s))}return n.Promise.join(i).then(function(e){if(0===e.length)return n.TPromise.as(null);var i=e[e.length-1],o=t.findWorkingTreeDiffEditor();if(!o)return n.TPromise.as(i);var s=o.input,a=s.getFileStatus();if(r&&r.every(function(e){return e!==a}))return n.TPromise.as(i);var c=s.getFileStatus().getPath(),u=o.getControl(),l=u?u.getModifiedEditor():null,h=l?l.saveViewState():null;return t.fileService.resolveFile(t.contextService.toResource(c)).then(function(e){return t.editorService.openEditor({resource:e.resource,options:{forceOpen:!0}},o.position).then(function(e){if(h){var t=o.getControl();t&&t.restoreViewState(h)}})})}).then(null,function(e){return console.error("One or more errors occurred",e),n.Promise.wrapError(e[0])})},t.prototype.findWorkingTreeDiffEditor=function(){for(var e=this.editorService.getVisibleEditors(),t=0;t<e.length;t++){var n=e[t];if(n.input instanceof c.GitWorkingTreeDiffEditorInput)return n}return null},t.prototype.getConfirm=function(e){var t=x(e);if(t.length>1){var n=t.length;return{message:i.localize(6,null),detail:1===n?i.localize(7,null,n):i.localize(8,null,n),primaryButton:i.localize(9,null)}}var r=t[0].getPathComponents().reverse()[0];return{message:i.localize(10,null,r),detail:i.localize(11,null),primaryButton:i.localize(12,null)}},t.prototype.dispose=function(){this.eventService=null,this.editorService=null,this.fileService=null,e.prototype.dispose.call(this)},t}(A);t.BaseUndoAction=N;var F=function(e){function t(n,r,o,s,a,c){e.call(this,t.ID,i.localize(13,null),"git-action undo",n,r,o,s,a,c)}return d(t,e),t.ID="workbench.action.git.undo",t=g([v(0,_.IGitService),v(1,m.IEventService),v(2,b.IMessageService),v(3,y.IFileService),v(4,p.IWorkbenchEditorService),v(5,f.IWorkspaceContextService)],t)}(N);t.UndoAction=F;var W=function(e){function t(n,r,o,s,a,c){e.call(this,t.ID,i.localize(14,null),"git-action undo",n,r,o,s,a,c)}return d(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.gitService.getModel().getStatus().getWorkingTreeStatus().all().length>0},t.prototype.run=function(t){return e.prototype.run.call(this,this.gitService.getModel().getStatus().getWorkingTreeStatus())},t.ID="workbench.action.git.undoAll",t=g([v(0,_.IGitService),v(1,m.IEventService),v(2,b.IMessageService),v(3,y.IFileService),v(4,p.IWorkbenchEditorService),v(5,f.IWorkspaceContextService)],t)}(N);t.GlobalUndoAction=W;var V=function(e){function t(t,n,i,r,o){e.call(this,t,n,i,r),this.editorService=o,this.onGitServiceChange()}return d(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.editorService},t.prototype.run=function(e){var t=this,i=x(e);return this.gitService.revertFiles("HEAD",i).then(function(e){var r=t.findGitIndexEditor();if(!r)return n.TPromise.as(e);var o=r.input,s=o.getFileStatus();if(i&&i.every(function(e){return e!==s}))return n.TPromise.as(e);var a=o.getFileStatus().getPath(),c=e.getStatus().find(a,_.StatusType.WORKING_TREE);if(!c)return n.TPromise.as(e);var l=r.getControl(),h=l?l.saveViewState():null;return t.gitService.getInput(c).then(function(n){var i=new u.TextDiffEditorOptions;return i.forceOpen=!0,t.editorService.openEditor(n,i,r.position).then(function(t){return h&&l.restoreViewState(h),e})})})},t.prototype.findGitIndexEditor=function(){for(var e=this.editorService.getVisibleEditors(),t=0;t<e.length;t++){var n=e[t];if(c.isGitEditorInput(n.input))return n}return null},t.prototype.dispose=function(){this.editorService=null,e.prototype.dispose.call(this)},t}(A);t.BaseUnstageAction=V;var B=function(e){function t(n,i){e.call(this,t.ID,t.LABEL,"git-action unstage",n,i)}return d(t,e),t.ID="workbench.action.git.unstage",t.LABEL=i.localize(15,null),t=g([v(0,_.IGitService),v(1,p.IWorkbenchEditorService)],t)}(V);t.UnstageAction=B;var H=function(e){function t(n,r){e.call(this,t.ID,i.localize(16,null),"git-action unstage",n,r)}return d(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.gitService.getModel().getStatus().getIndexStatus().all().length>0},t.prototype.run=function(t){return e.prototype.run.call(this)},t.ID="workbench.action.git.unstageAll",t=g([v(0,_.IGitService),v(1,p.IWorkbenchEditorService)],t)}(V);t.GlobalUnstageAction=H;var z;!function(e){e[e.Alive=0]="Alive",e[e.Disposing=1]="Disposing",e[e.Disposed=2]="Disposed"}(z||(z={}));var U=function(e){function t(n,i,r){e.call(this,t.ID,n.name,"git-action checkout",i),this.editorService=r,this.branch=n,this.HEAD=null,this.state=z.Alive,this.runPromises=[],this.onGitServiceChange()}return d(t,e),t.prototype.onGitServiceChange=function(){this.gitService.getState()===_.ServiceState.OK&&(this.HEAD=this.gitService.getModel().getHEAD(),this.HEAD&&this.HEAD.name===this.branch.name?this.class="git-action checkout HEAD":this.class="git-action checkout"),e.prototype.onGitServiceChange.call(this)},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.HEAD},t.prototype.run=function(e){var t=this;if(this.state!==z.Alive)return n.Promise.wrapError("action disposed");if(this.HEAD&&this.HEAD.name===this.branch.name)return n.TPromise.as(null);var r=this.gitService.checkout(this.branch.name).then(null,function(e){return e.gitErrorCode===_.GitErrorCodes.DirtyWorkTree?n.Promise.wrapError(new Error(i.localize(17,null))):n.Promise.wrapError(e)});return this.runPromises.push(r),r.done(function(){return t.runPromises.splice(t.runPromises.indexOf(r),1)}),r},t.prototype.dispose=function(){var e=this;this.state===z.Alive&&(this.state=z.Disposing,n.Promise.join(this.runPromises).done(function(){return e.actuallyDispose()}))},t.prototype.actuallyDispose=function(){this.editorService=null,this.branch=null,this.HEAD=null,e.prototype.dispose.call(this),this.state=z.Disposed},t.ID="workbench.action.git.checkout",t=g([v(1,_.IGitService),v(2,p.IWorkbenchEditorService)],t)}(A);t.CheckoutAction=U;var G=function(e){function t(n,i){e.call(this,t.ID,"Branch","git-action checkout",i),this.checkout=n}return d(t,e),t.prototype.run=function(e){return o.isString(e)?this.gitService.branch(e,this.checkout):n.TPromise.as(!1)},t.ID="workbench.action.git.branch",t=g([v(1,_.IGitService)],t)}(A);t.BranchAction=G;var K=function(e){function t(t,n,i,r,o){var s=this;e.call(this,n,i,r,o),this.commitState=t,this.toDispose.push(t.addListener2("change/commitInputBox",function(){s.updateEnablement()})),this.onGitServiceChange()}return d(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.gitService.getModel().getStatus().getIndexStatus().all().length>0},t.prototype.run=function(e){return this.commitState.getCommitMessage()?this.commit():(this.commitState.onEmptyCommitMessage(),n.TPromise.as(null))},t}(A);t.BaseCommitAction=K;var j=function(e){function t(n,r){e.call(this,n,t.ID,i.localize(18,null),"git-action commit",r)}return d(t,e),t.prototype.commit=function(){return this.gitService.commit(this.commitState.getCommitMessage())},t.ID="workbench.action.git.commit",t=g([v(1,_.IGitService)],t)}(K);t.CommitAction=j;var q=function(e){function t(t,n){e.call(this,t,j.ID,i.localize(19,null),"git-action commit-signed-off",n)}return d(t,e),t.prototype.commit=function(){return this.gitService.commit(this.commitState.getCommitMessage(),void 0,void 0,!0)},t.ID="workbench.action.git.commitSignedOff",t=g([v(1,_.IGitService)],t)}(K);t.CommitSignedOffAction=q;var $=function(e){function t(n,i,r,o){void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,i,"",r),this.quickOpenService=o}return d(t,e),t.prototype.isEnabled=function(){if(!this.gitService)return!1;if(!this.gitService.isIdle())return!1;var e=this.gitService.getModel().getStatus();return e.getIndexStatus().all().length>0||e.getWorkingTreeStatus().all().length>0},t.prototype.run=function(){var e=this;if(!this.enabled)return n.TPromise.as(null);var t=this.gitService.getModel().getStatus();return this.quickOpenService.input({prompt:i.localize(21,null)}).then(function(n){return n&&e.gitService.commit(n,!1,0===t.getIndexStatus().all().length)})},t.ID="workbench.action.git.input-commit",t.LABEL=i.localize(20,null),t=g([v(2,_.IGitService),v(3,C.IQuickOpenService)],t)}(A);t.InputCommitAction=$;var Y=function(e){function t(n,i,r,o,s){void 0===i&&(i=t.ID),void 0===r&&(r=t.LABEL),void 0===o&&(o=t.CSSCLASS),e.call(this,n,i,r,o,s)}return d(t,e),t.prototype.isEnabled=function(){if(!this.gitService)return!1;if(!this.gitService.isIdle())return!1;var e=this.gitService.getModel().getStatus();return e.getIndexStatus().all().length>0||e.getWorkingTreeStatus().all().length>0},t.prototype.commit=function(){return this.gitService.commit(this.commitState.getCommitMessage(),!1,!0)},t.ID="workbench.action.git.stageAndCommit",t.LABEL=i.localize(22,null),t.CSSCLASS="git-action stage-and-commit",t=g([v(4,_.IGitService)],t)}(K);t.StageAndCommitAction=Y;var X=function(e){function t(t,n){e.call(this,t,Y.ID,i.localize(23,null),"git-action stage-and-commit-signed-off",n)}return d(t,e),t.prototype.commit=function(){return this.gitService.commit(this.commitState.getCommitMessage(),!1,!0,!0)},t.ID="workbench.action.git.stageAndCommitSignedOff",t=g([v(1,_.IGitService)],t)}(Y);t.StageAndCommitSignedOffAction=X;var Q=function(e){function t(n,i,r){e.call(this,n,t.ID,t.ALL,"git-action smart-commit",i),this.messageService=r,this.onGitServiceChange()}return d(t,e),t.prototype.onGitServiceChange=function(){if(e.prototype.onGitServiceChange.call(this),!this.enabled)return void(this.label=t.ALL);var n=this.gitService.getModel().getStatus();n.getIndexStatus().all().length>0?this.label=t.STAGED:this.label=t.ALL,this.label+=" ("+(h.isMacintosh?"Cmd+Enter":"Ctrl+Enter")+")"},t.prototype.isEnabled=function(){if(!this.gitService)return!1;if(!this.gitService.isIdle())return!1;var e=this.gitService.getModel().getStatus();return e.getIndexStatus().all().length>0||e.getWorkingTreeStatus().all().length>0},t.prototype.commit=function(){var e=this.gitService.getModel().getStatus();return this.gitService.commit(this.commitState.getCommitMessage(),!1,0===e.getIndexStatus().all().length)},t.ID="workbench.action.git.commitAll",t.ALL=i.localize(24,null),t.STAGED=i.localize(25,null),t=g([v(1,_.IGitService),v(2,b.IMessageService)],t)}(K);t.SmartCommitAction=Q;var Z=function(e){function t(n,i,r){void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,i,"git-action pull",r)}return d(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;if(!this.gitService.isIdle())return!1;var t=this.gitService.getModel(),n=t.getHEAD();return!!(n&&n.name&&n.upstream)},t.prototype.run=function(e){return this.pull()},t.prototype.pull=function(e){return void 0===e&&(e=!1),this.gitService.pull(e).then(null,function(e){return e.gitErrorCode===_.GitErrorCodes.DirtyWorkTree?n.Promise.wrapError(l.create(i.localize(26,null),{severity:S.default.Warning})):e.gitErrorCode===_.GitErrorCodes.AuthenticationFailed?n.Promise.wrapError(l.create(i.localize(27,null))):n.Promise.wrapError(e)})},t.ID="workbench.action.git.pull",t.LABEL="Pull",t=g([v(2,_.IGitService)],t)}(A);t.PullAction=Z;var J=function(e){function t(n){e.call(this,t.ID,t.LABEL,n)}return d(t,e),t.prototype.run=function(e){return this.pull(!0)},t.ID="workbench.action.git.pull.rebase",t.LABEL="Pull (Rebase)",t=g([v(0,_.IGitService)],t)}(Z);t.PullWithRebaseAction=J;var ee=function(e){function t(n,i,r){void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,i,"git-action push",r)}return d(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;if(!this.gitService.isIdle())return!1;var t=this.gitService.getModel(),n=t.getHEAD();return!!(n&&n.name&&n.upstream)&&!!n.ahead},t.prototype.run=function(e){return this.gitService.push().then(null,function(e){return e.gitErrorCode===_.GitErrorCodes.AuthenticationFailed?n.Promise.wrapError(l.create(i.localize(28,null))):n.Promise.wrapError(e)})},t.ID="workbench.action.git.push",t.LABEL="Push",t=g([v(2,_.IGitService)],t)}(A);t.PushAction=ee;var te=function(e){function t(n,i,r,o){void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,i,"git-action publish",r),this.quickOpenService=o}return d(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;if(!this.gitService.isIdle())return!1;var t=this.gitService.getModel();if(0===t.getRemotes().length)return!1;var n=t.getHEAD();return!(!n||!n.name)},t.prototype.run=function(e){var t=this,r=this.gitService.getModel(),o=r.getRemotes(),s=r.getHEAD().name,a=o.map(function(e){var t=e.name,n=e.url;return{label:t,description:n}}),c=i.localize(30,null,s);return this.quickOpenService.pick(a,{placeHolder:c}).then(function(e){return e&&e.label}).then(function(e){return e&&t.gitService.push(e,s)}).then(null,function(e){return e.gitErrorCode===_.GitErrorCodes.AuthenticationFailed?n.Promise.wrapError(l.create(i.localize(31,null))):n.Promise.wrapError(e)})},t.ID="workbench.action.git.pushToRemote",t.LABEL=i.localize(29,null),t=g([v(2,_.IGitService),v(3,C.IQuickOpenService)],t)}(A);t.PushToRemoteAction=te;var ne=function(e){function t(n,i,r,o,s){void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,i,"git-action publish",r),this.quickOpenService=o,this.messageService=s}return d(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;if(!this.gitService.isIdle())return!1;var t=this.gitService.getModel();if(0===t.getRemotes().length)return!1;var n=t.getHEAD();return!(!n||!n.name||n.upstream)},t.prototype.run=function(e){var t,r=this,o=this.gitService.getModel(),s=o.getRemotes(),a=o.getHEAD().name;if(1===s.length){var c=s[0].name,u=this.messageService.confirm({message:i.localize(33,null,a,c),primaryButton:i.localize(34,null)});t=n.TPromise.as(u?c:null)}else{var h=s.map(function(e){var t=e.name,n=e.url;return{label:t,description:n}}),d=i.localize(35,null,a);t=this.quickOpenService.pick(h,{placeHolder:d}).then(function(e){return e&&e.label})}return t.then(function(e){return e&&r.gitService.push(e,a,{setUpstream:!0})}).then(null,function(e){return e.gitErrorCode===_.GitErrorCodes.AuthenticationFailed?n.Promise.wrapError(l.create(i.localize(36,null))):n.Promise.wrapError(e)})},t.ID="workbench.action.git.publish",t.LABEL=i.localize(32,null),t=g([v(2,_.IGitService),v(3,C.IQuickOpenService),v(4,b.IMessageService)],t)}(A);t.PublishAction=ne;var ie=function(e){function t(t,n,i,r,o,s){e.call(this,t,n,"git-action sync",i),this.configurationService=r,this.configurationEditingService=o,this.choiceService=s}return d(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;if(!this.gitService.isIdle())return!1;var t=this.gitService.getModel(),n=t.getHEAD();return!!(n&&n.name&&n.upstream)},t.prototype.run=function(e){var t=this;if(!this.enabled)return n.TPromise.as(null);var r=this.configurationService.getConfiguration("git").confirmSync;if(!r)return this.sync();var o=this.gitService.getModel(),s=o.getHEAD(),a=i.localize(37,null,s.upstream),c=[i.localize(38,null),i.localize(39,null),i.localize(40,null)];return this.choiceService.choose(S.default.Warning,a,c).then(function(e){switch(e){case 0:return t.sync();case 1:return n.TPromise.as(null);case 2:return t.configurationEditingService.writeConfiguration(T.ConfigurationTarget.USER,{key:"git.confirmSync",value:!1}).then(function(){return t.sync()});default:return n.TPromise.as(null)}})},t.prototype.sync=function(){
return this.gitService.sync().then(null,function(e){return e.gitErrorCode===_.GitErrorCodes.AuthenticationFailed?n.Promise.wrapError(l.create(i.localize(41,null))):n.Promise.wrapError(e)})},t.ID="workbench.action.git.sync",t.LABEL="Sync",t=g([v(2,_.IGitService),v(3,E.IConfigurationService),v(4,T.IConfigurationEditingService),v(5,b.IChoiceService)],t)}(A);t.SyncAction=ie;var re=function(e){function t(n,i,r){void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL),e.call(this,t.ID,t.LABEL,"git-action undo-last-commit",r)}return d(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;if(!this.gitService.isIdle())return!1;var t=this.gitService.getModel(),n=t.getHEAD();return!(!n||!n.commit)},t.prototype.run=function(){return this.gitService.reset("HEAD~")},t.ID="workbench.action.git.undoLastCommit",t.LABEL=i.localize(42,null),t=g([v(2,_.IGitService)],t)}(A);t.UndoLastCommitAction=re;var oe=function(e){function t(t,n,i){e.call(this,t,n),this.quickOpenService=i}return d(t,e),t.prototype.run=function(e){return this.quickOpenService.show("git checkout "),n.TPromise.as(null)},t.ID="workbench.action.git.startGitCheckout",t.LABEL="Checkout",t=g([v(2,C.IQuickOpenService)],t)}(s.Action);t.StartGitCheckoutAction=oe;var se=function(e){function t(t,n,i){e.call(this,t,n),this.quickOpenService=i}return d(t,e),t.prototype.run=function(e){return this.quickOpenService.show("git branch "),n.TPromise.as(null)},t.ID="workbench.action.git.startGitBranch",t.LABEL="Branch",t=g([v(2,C.IQuickOpenService)],t)}(s.Action);t.StartGitBranchAction=se}),define(l[1064],h([1,0,563,100,2,32,57,64,99,93,50,18]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";var p=function(e){function t(t,n,i,r){e.call(this,r),this.gitService=t,this.messageService=n,this.ref=i}return d(t,e),t.prototype.getIcon=function(){return"git"},t.prototype.getLabel=function(){return this.ref.name},t.prototype.getDescription=function(){return""},t.prototype.getAriaLabel=function(){return n.localize(0,null,this.getLabel())},t.prototype.run=function(e,t){return e!==c.Mode.PREVIEW},t}(u.QuickOpenEntry),f=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getDescription=function(){return n.localize(1,null,this.ref.commit.substr(0,8))},t.prototype.run=function(e,t){var n=this;return e!==c.Mode.PREVIEW&&(this.gitService.checkout(this.ref.name).done(null,function(e){return n.messageService.show(o.default.Error,e)}),!0)},t}(p),m=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getDescription=function(){return n.localize(2,null,this.ref.commit.substr(0,8))},t.prototype.run=function(e,t){var n=this;if(e===c.Mode.PREVIEW)return!1;var i=/^[^\/]+\/(.*)$/.exec(this.ref.name),r=i?i[1]:this.ref.name;return this.gitService.checkout(r).done(null,function(e){return n.messageService.show(o.default.Error,e)}),!0},t}(p),y=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getDescription=function(){return n.localize(3,null,this.ref.commit.substr(0,8))},t.prototype.run=function(e,t){var n=this;return e!==c.Mode.PREVIEW&&(this.gitService.checkout(this.ref.name).done(null,function(e){return n.messageService.show(o.default.Error,e)}),!0)},t}(p),b=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getDescription=function(){return n.localize(4,null,this.ref.name)},t}(p),S=function(e){function t(t,n,i){e.call(this,[{start:0,end:i.length}]),this.gitService=t,this.messageService=n,this.name=i.replace(/^\.|\/\.|\.\.|~|\^|:|\/$|\.lock$|\.lock\/|\\|\*|\s|^\s*$|\.$/g,"-")}return d(t,e),t.prototype.getIcon=function(){return"git"},t.prototype.getLabel=function(){return this.name},t.prototype.getAriaLabel=function(){return n.localize(5,null,this.getLabel())},t.prototype.getDescription=function(){return n.localize(6,null,this.name)},t.prototype.run=function(e,t){var n=this;return e!==c.Mode.PREVIEW&&(this.gitService.branch(this.name,!0).done(null,function(e){return n.messageService.show(o.default.Error,e)}),!0)},t}(u.QuickOpenEntry),E=function(){function e(e,t){this.gitService=e,this.messageService=t,this.aliases=["checkout","co"],this.icon="git"}return e.prototype.getResults=function(e){var t=this;e=e.trim();var n=this.gitService.getModel(),o=n.getHEAD(),a=n.getRefs(),c=a.filter(function(e){return e.type===s.RefType.Head}),l=a.filter(function(e){return e.type===s.RefType.Tag}),h=a.filter(function(e){return e.type===s.RefType.RemoteHead}),d=c.map(function(t){return{head:t,highlights:i.matchesContiguousSubString(e,t.name)}}).filter(function(e){var t=e.highlights;return!!t}),p=d.filter(function(e){var t=e.head;return t.name!==o.name}).map(function(e){var n=e.head,i=e.highlights;return new f(t.gitService,t.messageService,n,i)}),g=l.map(function(t){return{head:t,highlights:i.matchesContiguousSubString(e,t.name)}}).filter(function(e){var t=e.highlights;return!!t}),v=g.filter(function(e){var t=e.head;return t.name!==o.name}).map(function(e){var n=e.head,i=e.highlights;return new y(t.gitService,t.messageService,n,i)}),E=p.concat(v).sort(function(e,t){return e.getLabel().localeCompare(t.getLabel())}),_=h.map(function(t){return{head:t,highlights:i.matchesContiguousSubString(e,t.name)}}).filter(function(e){var t=e.highlights;return!!t}),C=_.filter(function(e){var t=e.head;return t.name!==o.name}).map(function(e){var n=e.head,i=e.highlights;return new m(t.gitService,t.messageService,n,i)}).sort(function(e,t){return e.getLabel().localeCompare(t.getLabel())});E.length>0&&(E[0]=new u.QuickOpenEntryGroup(E[0],"checkout",(!1))),C.length>0&&(C[0]=new u.QuickOpenEntryGroup(C[0],"checkout remote",E.length>0));var w=E.sort(function(e,t){return e.getLabel().localeCompare(t.getLabel())}).concat(C),I=d.concat(g).concat(_),T=I.filter(function(t){var n=t.head;return n.name===e}),x=T.filter(function(e){var t=e.head;return t.name===o.name});if(x.length>0)w.unshift(new b(this.gitService,this.messageService,x[0].head,x[0].highlights));else if(0===T.length&&e){var A=new S(this.gitService,this.messageService,e);w.push(new u.QuickOpenEntryGroup(A,"branch",E.length>0||C.length>0))}return r.TPromise.as(w)},e.prototype.getEmptyLabel=function(e){return n.localize(7,null)},e}(),_=function(){function e(e,t){this.gitService=e,this.messageService=t,this.aliases=["branch"],this.icon="git"}return e.prototype.getResults=function(e){if(e=e.trim(),!e)return r.TPromise.as([]);var t=this.gitService.getModel(),n=t.getHEAD(),o=t.getRefs().map(function(t){return{head:t,highlights:i.matchesContiguousSubString(e,t.name)}}).filter(function(e){var t=e.highlights;return!!t}),s=o.filter(function(t){var n=t.head;return n.name===e}),a=s.filter(function(e){var t=e.head;return t.name===n.name});if(a.length>0)return r.TPromise.as([new b(this.gitService,this.messageService,a[0].head,a[0].highlights)]);if(s.length>0)return r.TPromise.as([new f(this.gitService,this.messageService,s[0].head,s[0].highlights)]);var c=new S(this.gitService,this.messageService,e);return r.TPromise.as([new u.QuickOpenEntryGroup(c,"branch",(!1))])},e.prototype.getEmptyLabel=function(e){return n.localize(8,null)},e}(),C=function(e){function t(t,n,i){e.call(this,t,{prefix:"git",commands:[new E(n,i),new _(n,i)]})}return d(t,e),t=g([v(0,l.IQuickOpenService),v(1,s.IGitService),v(2,h.IMessageService)],t)}(a.CommandQuickOpenHandler);t.GitCommandQuickOpenHandler=C}),define(l[1065],h([1,0,565,12,17,8,5,57,50,6,19,191,32,18]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p){"use strict";var f=500,m=function(){function e(e,t,n,i,o){this.messageService=i,this.telemetryService=o,this.instantiationService=e,this.gitService=t,this.quickOpenService=n,this.disablementDelayer=new r.Delayer(f),this.syncAction=e.createInstance(h.SyncAction,h.SyncAction.ID,h.SyncAction.LABEL),this.publishAction=e.createInstance(h.PublishAction,h.PublishAction.ID,h.PublishAction.LABEL),this.toDispose=[this.syncAction,this.publishAction],this.state={serviceState:a.ServiceState.NotInitialized,isBusy:!1,isSyncing:!1,HEAD:null,remotes:[],ps1:""}}return e.prototype.render=function(e){var t=this;return this.element=o.append(e,o.$(".git-statusbar-group")),this.branchElement=o.append(this.element,o.$("a")),this.publishElement=o.append(this.element,o.$("a.octicon.octicon-cloud-upload")),this.publishElement.title=n.localize(0,null),this.publishElement.onclick=function(){return t.onPublishClick()},this.syncElement=o.append(this.element,o.$("a.git-statusbar-sync-item")),this.syncElement.title=n.localize(1,null),this.syncElement.onclick=function(){return t.onSyncClick()},o.append(this.syncElement,o.$("span.octicon.octicon-sync")),this.syncLabelElement=o.append(this.syncElement,o.$("span.ahead-behind")),this.setState(this.state),this.toDispose.push(this.gitService.addBulkListener2(function(){return t.onGitServiceChange()})),s.combinedDisposable(this.toDispose)},e.prototype.onGitServiceChange=function(){var e=this.gitService.getModel();this.setState({serviceState:this.gitService.getState(),isBusy:this.gitService.getRunningOperations().some(function(e){return e.id===a.ServiceOperations.CHECKOUT||e.id===a.ServiceOperations.BRANCH}),isSyncing:this.gitService.getRunningOperations().some(function(e){return e.id===a.ServiceOperations.SYNC}),HEAD:e.getHEAD(),remotes:e.getRemotes(),ps1:e.getPS1()})},e.prototype.setState=function(e){var t=this;this.state=e;var r,s=!1,c="git-statusbar-branch-item",u="",l="",h=null;if(e.serviceState!==a.ServiceState.OK)s=!0,c+=" disabled",l=n.localize(2,null),r="";else{var d=e.HEAD;e.isBusy?c+=" busy":h=function(){return t.onBranchClick()},d?d.name?d.commit&&d.upstream&&(d.ahead||d.behind)?(r=e.ps1,u=i.format("{0} {1}",d.behind,d.ahead)):r=e.ps1:(r=e.ps1,c+=" headless"):r=e.ps1}this.branchElement.className=c,this.branchElement.title=l,this.branchElement.textContent=r,this.branchElement.onclick=h,this.syncLabelElement.textContent=u,s?(o.hide(this.branchElement),o.hide(this.publishElement),o.hide(this.syncElement)):(o.show(this.branchElement),e.HEAD&&e.HEAD.upstream?(o.show(this.syncElement),o.toggleClass(this.syncElement,"syncing",this.state.isSyncing),o.toggleClass(this.syncElement,"empty",!u),this.disablementDelayer.trigger(function(){return o.toggleClass(t.syncElement,"disabled",!t.syncAction.enabled)},this.syncAction.enabled?0:f),o.hide(this.publishElement)):e.remotes.length>0?(o.hide(this.syncElement),o.show(this.publishElement),this.disablementDelayer.trigger(function(){return o.toggleClass(t.publishElement,"disabled",!t.publishAction.enabled)},this.publishAction.enabled?0:f)):(o.hide(this.syncElement),o.hide(this.publishElement)))},e.prototype.onBranchClick=function(){this.quickOpenService.show("git checkout ")},e.prototype.onPublishClick=function(){this.runAction(this.publishAction)},e.prototype.onSyncClick=function(){this.runAction(this.syncAction)},e.prototype.runAction=function(e){var t=this;e.enabled&&(this.telemetryService.publicLog("workbenchActionExecuted",{id:e.id,from:"status bar"}),e.run().done(null,function(e){return t.messageService.show(d.default.Error,e)}))},e=g([v(0,u.IInstantiationService),v(1,a.IGitService),v(2,c.IQuickOpenService),v(3,p.IMessageService),v(4,l.ITelemetryService)],e)}();t.GitStatusbarItem=m}),define(l[1066],h([1,0,2,568,13,20,32,8,225,43,218,174,206,85,57,194,191,39,6,18,26,16]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w){"use strict";function I(e){return r.isWindows?e.replace(/\//g,"\\"):e}var T=m.IGitService,x=a.$,A=function(){function e(e){this.cache={},this.instantiationService=e}return e.prototype.getAction=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.cache[e.ID];return i||(t.unshift(e),i=this.cache[e.ID]=this.instantiationService.createInstance.apply(this.instantiationService,t)),i},e.prototype.dispose=function(){var e=this;Object.keys(this.cache).forEach(function(t){e.cache[t].dispose()}),this.cache=null},e}();t.ActionContainer=A;var D=function(){function e(){}return e.prototype.getId=function(e,t){if(t instanceof y.StatusModel)return"root";if(t instanceof y.StatusGroup){var n=t;switch(n.getType()){case m.StatusType.INDEX:return"index";case m.StatusType.WORKING_TREE:return"workingTree";case m.StatusType.MERGE:return"merge";default:throw new Error("Invalid group type")}}var i=t;return i.getId()},e.prototype.hasChildren=function(e,t){if(t instanceof y.StatusModel)return!0;if(t instanceof y.StatusGroup){var n=t;return n.all().length>0}},e.prototype.getChildren=function(e,t){if(t instanceof y.StatusModel){var i=t;return n.TPromise.as(i.getGroups())}if(t instanceof y.StatusGroup){var r=t;return n.TPromise.as(r.all())}return n.TPromise.as([])},e.prototype.getParent=function(e,t){return n.TPromise.as(null)},e}();t.DataSource=D;var L=function(e){function t(t,n){e.call(this,t),this.gitService=n}return d(t,e),t.prototype.hasActions=function(e,t){return t instanceof y.FileStatus||t instanceof y.StatusGroup&&t.all().length>0},t.prototype.getActions=function(e,t){return t instanceof y.StatusGroup?n.TPromise.as(this.getActionsForGroupStatusType(t.getType())):n.TPromise.as(this.getActionsForFileStatusType(t.getType()))},t.prototype.getActionsForFileStatusType=function(e){switch(e){case m.StatusType.INDEX:return[this.getAction(b.UnstageAction)];case m.StatusType.WORKING_TREE:return[this.getAction(b.UndoAction),this.getAction(b.StageAction)];case m.StatusType.MERGE:return[this.getAction(b.StageAction)];default:return[]}},t.prototype.getActionsForGroupStatusType=function(e){switch(e){case m.StatusType.INDEX:return[this.getAction(b.GlobalUnstageAction)];case m.StatusType.WORKING_TREE:return[this.getAction(b.GlobalUndoAction),this.getAction(b.GlobalStageAction)];case m.StatusType.MERGE:return[this.getAction(b.StageAction)];default:return[]}},t.prototype.hasSecondaryActions=function(e,t){return this.hasActions(e,t)},t.prototype.getSecondaryActions=function(e,t){var n=this;return this.getActions(e,t).then(function(e){if(t instanceof y.FileStatus){var i=t,r=i.getStatus();e.push(new u.Separator),r!==m.Status.DELETED&&r!==m.Status.INDEX_DELETED&&e.push(n.getAction(b.OpenFileAction)),e.push(n.getAction(b.OpenChangeAction))}return e.reverse(),e})},t.prototype.getActionItem=function(e,t,n){return null},t=g([v(0,E.IInstantiationService),v(1,T)],t)}(A);t.ActionProvider=L;var k=i.localize(0,null),P=i.localize(1,null),R=i.localize(2,null),O=function(){function e(e,t,n,i,r){this.actionProvider=e,this.actionRunner=t,this.messageService=n,this.gitService=i,this.contextService=r}return e.prototype.getHeight=function(e,t){return 22},e.prototype.getTemplateId=function(e,t){if(t instanceof y.StatusGroup)switch(t.getType()){case m.StatusType.INDEX:return"index";case m.StatusType.WORKING_TREE:return"workingTree";case m.StatusType.MERGE:return"merge"}if(t instanceof y.FileStatus)switch(t.getType()){case m.StatusType.INDEX:return"file:index";case m.StatusType.WORKING_TREE:return"file:workingTree";case m.StatusType.MERGE:return"file:merge"}return null},e.prototype.renderTemplate=function(t,n,i){return/^file:/.test(n)?this.renderFileStatusTemplate(e.templateIdToStatusType(n),i):this.renderStatusGroupTemplate(e.templateIdToStatusType(n),i)},e.prototype.renderStatusGroupTemplate=function(e,t){var n=this,i=Object.create(null);switch(i.root=a.append(t,x(".status-group")),e){case m.StatusType.INDEX:i.root.textContent=k;break;case m.StatusType.WORKING_TREE:i.root.textContent=P;break;case m.StatusType.MERGE:i.root.textContent=R}var r=a.append(t,x(".count-badge-wrapper"));return i.count=new l.CountBadge(r),i.actionBar=new u.ActionBar(t,{actionRunner:this.actionRunner}),i.actionBar.push(this.actionProvider.getActionsForGroupStatusType(e),{icon:!0,label:!1}),i.actionBar.addListener2("run",function(e){return e.error&&n.onError(e.error)}),i},e.prototype.renderFileStatusTemplate=function(e,t){var n=this,i=Object.create(null);i.root=a.append(t,x(".file-status")),i.status=a.append(i.root,x("span.status")),i.name=a.append(i.root,x("a.name.plain")),i.folder=a.append(i.root,x("span.folder"));var r=a.append(i.root,x("span.rename")),o=a.append(r,x("span.rename-arrow"));return o.textContent="",i.renameName=a.append(r,x("span.rename-name")),i.renameFolder=a.append(r,x("span.rename-folder")),i.actionBar=new u.ActionBar(t,{actionRunner:this.actionRunner}),i.actionBar.push(this.actionProvider.getActionsForFileStatusType(e),{icon:!0,label:!1}),i.actionBar.addListener2("run",function(e){return e.error&&n.onError(e.error)}),i},e.prototype.renderElement=function(t,n,i,r){/^file:/.test(i)?this.renderFileStatus(t,n,r):e.renderStatusGroup(n,r)},e.renderStatusGroup=function(e,t){t.actionBar.context=e,t.count.setCount(e.all().length)},e.prototype.renderFileStatus=function(t,n,r){r.actionBar.context={tree:t,fileStatus:n};var s=this.gitService.getModel().getRepositoryRoot(),a=this.contextService.getWorkspace().resource.fsPath,c=n.getStatus(),u=n.getRename(),l=n.getPath(),h=l.lastIndexOf("/"),d=h===-1?l:l.substr(h+1,l.length),p=h===-1?"":l.substr(0,h);r.root.className="file-status "+e.statusToClass(c),r.status.textContent=e.statusToChar(c),r.status.title=e.statusToTitle(c);var f=w.default.file(o.normalize(o.join(s,l))),g=o.isEqualOrParent(f.fsPath,a),v="",m="";if(u){var y=u.lastIndexOf("/");v=y===-1?u:u.substr(y+1,u.length),m=y===-1?"":u.substr(0,y),r.renameName.textContent=d,r.renameFolder.textContent=p;var b=w.default.file(o.normalize(o.join(s,u)));g=o.isEqualOrParent(b.fsPath,a)}g?r.root.title="":(r.root.title=i.localize(3,null),r.root.className+=" out-of-workspace"),r.name.textContent=v||d,r.name.title=u||l,r.folder.textContent=I(m||p)},e.prototype.disposeTemplate=function(t,n,i){/^file:/.test(n)&&e.disposeFileStatusTemplate(i)},e.disposeFileStatusTemplate=function(e){e.actionBar.dispose()},e.statusToChar=function(e){switch(e){case m.Status.INDEX_MODIFIED:return i.localize(4,null);case m.Status.MODIFIED:return i.localize(5,null);case m.Status.INDEX_ADDED:return i.localize(6,null);case m.Status.INDEX_DELETED:return i.localize(7,null);case m.Status.DELETED:return i.localize(8,null);case m.Status.INDEX_RENAMED:return i.localize(9,null);case m.Status.INDEX_COPIED:return i.localize(10,null);case m.Status.UNTRACKED:return i.localize(11,null);case m.Status.IGNORED:return i.localize(12,null);case m.Status.BOTH_DELETED:return i.localize(13,null);case m.Status.ADDED_BY_US:return i.localize(14,null);case m.Status.DELETED_BY_THEM:return i.localize(15,null);case m.Status.ADDED_BY_THEM:return i.localize(16,null);case m.Status.DELETED_BY_US:return i.localize(17,null);case m.Status.BOTH_ADDED:return i.localize(18,null);case m.Status.BOTH_MODIFIED:return i.localize(19,null);default:return""}},e.statusToTitle=function(e){switch(e){case m.Status.INDEX_MODIFIED:return i.localize(20,null);case m.Status.MODIFIED:return i.localize(21,null);case m.Status.INDEX_ADDED:return i.localize(22,null);case m.Status.INDEX_DELETED:return i.localize(23,null);case m.Status.DELETED:return i.localize(24,null);case m.Status.INDEX_RENAMED:return i.localize(25,null);case m.Status.INDEX_COPIED:return i.localize(26,null);case m.Status.UNTRACKED:return i.localize(27,null);case m.Status.IGNORED:return i.localize(28,null);case m.Status.BOTH_DELETED:return i.localize(29,null);case m.Status.ADDED_BY_US:return i.localize(30,null);case m.Status.DELETED_BY_THEM:return i.localize(31,null);case m.Status.ADDED_BY_THEM:return i.localize(32,null);case m.Status.DELETED_BY_US:return i.localize(33,null);case m.Status.BOTH_ADDED:return i.localize(34,null);case m.Status.BOTH_MODIFIED:return i.localize(35,null);default:return""}},e.statusToClass=function(e){switch(e){case m.Status.INDEX_MODIFIED:return"modified";case m.Status.MODIFIED:return"modified";case m.Status.INDEX_ADDED:return"added";case m.Status.INDEX_DELETED:return"deleted";case m.Status.DELETED:return"deleted";case m.Status.INDEX_RENAMED:return"renamed";case m.Status.INDEX_COPIED:return"copied";case m.Status.UNTRACKED:return"untracked";case m.Status.IGNORED:return"ignored";case m.Status.BOTH_DELETED:return"conflict both-deleted";case m.Status.ADDED_BY_US:return"conflict added-by-us";case m.Status.DELETED_BY_THEM:return"conflict deleted-by-them";case m.Status.ADDED_BY_THEM:return"conflict added-by-them";case m.Status.DELETED_BY_US:return"conflict deleted-by-us";case m.Status.BOTH_ADDED:return"conflict both-added";case m.Status.BOTH_MODIFIED:return"conflict both-modified";default:return""}},e.templateIdToStatusType=function(e){return/index$/.test(e)?m.StatusType.INDEX:/workingTree$/.test(e)?m.StatusType.WORKING_TREE:m.StatusType.MERGE},e.prototype.onError=function(e){this.messageService.show(s.default.Error,e)},e=g([v(2,_.IMessageService),v(3,T),v(4,C.IWorkspaceContextService)],e)}();t.Renderer=O;var M=function(){function e(){}return e.prototype.isVisible=function(e,t){if(t instanceof y.StatusGroup){var n=t;switch(n.getType()){case m.StatusType.INDEX:case m.StatusType.MERGE:return n.all().length>0;case m.StatusType.WORKING_TREE:return!0}}return!0},e}();t.Filter=M;var N=function(){function e(){}return e.prototype.compare=function(t,n,i){return n instanceof y.FileStatus&&i instanceof y.FileStatus?e.compareStatus(n,i):0},e.compareStatus=function(e,t){for(var n,i,r,o,s=e.getPathComponents(),a=t.getPathComponents(),u=s.length-1,l=a.length-1,h=0;;h++){if(n=u===h,i=l===h,n&&i)return c.compareFileNames(s[h],a[h]);if(n)return-1;if(i)return 1;if((r=s[h].toLowerCase())!==(o=a[h].toLowerCase()))return r<o?-1:1}},e}();t.Sorter=N;var F=function(e){function t(t,n,i){e.call(this,t),this.gitService=n,this.messageService=i}return d(t,e),t.prototype.getDragURI=function(e,t){if(t instanceof y.StatusGroup){var n=t;return"git:"+n.getType()}if(t instanceof y.FileStatus){var i=t;return"git:"+i.getType()+":"+i.getPath()}return null},t.prototype.getDragLabel=function(e,t){if(t.length>1)return String(t.length);var n=t[0];if(n instanceof y.StatusGroup){var i=n;switch(i.getType()){case m.StatusType.INDEX:return k;case m.StatusType.WORKING_TREE:return P;case m.StatusType.MERGE:return R}}var r=n;return o.basename(r.getPath())},t.prototype.onDragStart=function(e,t,n){},t.prototype.onDragOver=function(e,t,n,i){if(!this.gitService.isIdle())return h.DRAG_OVER_REJECT;if(!(t instanceof p.ElementsDragAndDropData))return h.DRAG_OVER_REJECT;var r=t.getData(),o=r[0];if(o instanceof y.StatusGroup){var s=o;return this.onDrag(n,s.getType())}if(o instanceof y.FileStatus){var a=o;return this.onDrag(n,a.getType())}return h.DRAG_OVER_REJECT},t.prototype.onDrag=function(e,t){return t===m.StatusType.WORKING_TREE?this.onDragWorkingTree(e):t===m.StatusType.INDEX?this.onDragIndex(e):t===m.StatusType.MERGE?this.onDragMerge(e):h.DRAG_OVER_REJECT},t.prototype.onDragWorkingTree=function(e){if(e instanceof y.StatusGroup){var t=e;return t.getType()===m.StatusType.INDEX?h.DRAG_OVER_ACCEPT_BUBBLE_DOWN:h.DRAG_OVER_REJECT}if(e instanceof y.FileStatus){var n=e;return n.getType()===m.StatusType.INDEX?h.DRAG_OVER_ACCEPT_BUBBLE_UP:h.DRAG_OVER_REJECT}return h.DRAG_OVER_REJECT},t.prototype.onDragIndex=function(e){if(e instanceof y.StatusGroup){var t=e;return t.getType()===m.StatusType.WORKING_TREE?h.DRAG_OVER_ACCEPT_BUBBLE_DOWN:h.DRAG_OVER_REJECT}if(e instanceof y.FileStatus){var n=e;return n.getType()===m.StatusType.WORKING_TREE?h.DRAG_OVER_ACCEPT_BUBBLE_UP:h.DRAG_OVER_REJECT}return h.DRAG_OVER_REJECT},t.prototype.onDragMerge=function(e){if(e instanceof y.StatusGroup){var t=e;return t.getType()===m.StatusType.INDEX?h.DRAG_OVER_ACCEPT_BUBBLE_DOWN:h.DRAG_OVER_REJECT}if(e instanceof y.FileStatus){var n=e;return n.getType()===m.StatusType.INDEX?h.DRAG_OVER_ACCEPT_BUBBLE_UP:h.DRAG_OVER_REJECT}return h.DRAG_OVER_REJECT},t.prototype.drop=function(e,t,n,i){var r,o=this,s=t.getData(),a=s[0];r=a instanceof y.StatusGroup?a.all():s;var c=n;c.getType()===m.StatusType.INDEX&&this.getAction(b.StageAction).run(r).done(null,function(e){return o.onError(e)}),c.getType()===m.StatusType.WORKING_TREE&&this.getAction(b.UnstageAction).run(r).done(null,function(e){return o.onError(e)})},t.prototype.onError=function(e){this.messageService.show(s.default.Error,e)},t=g([v(0,E.IInstantiationService),v(1,T),v(2,_.IMessageService)],t)}(A);t.DragAndDrop=F;var W=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){if(t instanceof y.FileStatus){var n=t,r=n.getStatus(),o=n.getPath(),s=o.lastIndexOf("/"),a=s===-1?o:o.substr(s+1,o.length),c=s===-1?"":o.substr(0,s);return i.localize(36,null,a,c,O.statusToTitle(r))}if(t instanceof y.StatusGroup)switch(t.getType()){case m.StatusType.INDEX:return i.localize(37,null);case m.StatusType.WORKING_TREE:return i.localize(38,null);case m.StatusType.MERGE:return i.localize(39,null)}},e}();t.AccessibilityProvider=W;var V=function(e){function t(t,n){e.call(this,{clickBehavior:f.ClickBehavior.ON_MOUSE_UP}),this.actionProvider=t,this.contextMenuService=n,this.downKeyBindingDispatcher.set(16400,this.onUp.bind(this)),this.downKeyBindingDispatcher.set(16402,this.onDown.bind(this)),this.downKeyBindingDispatcher.set(16395,this.onPageUp.bind(this)),this.downKeyBindingDispatcher.set(16396,this.onPageDown.bind(this))}return d(t,e),t.prototype.onLeftClick=function(t,n,i){if(n instanceof y.StatusGroup)return i.preventDefault(),i.stopPropagation(),!0;if(i.shiftKey){var o=t.getFocus();if(!(o instanceof y.FileStatus&&n instanceof y.FileStatus))return;var s=o,a=n;if(s.getType()!==a.getType())return;return void(this.canSelect(t,n)&&(t.setFocus(n),t.isSelected(n)?t.deselectRange(s,a):t.selectRange(s,a)))}return t.setFocus(n),(r.isMacintosh?i.metaKey:i.ctrlKey)?void(this.canSelect(t,n)&&t.toggleSelection(n,{origin:"mouse",originalEvent:i})):e.prototype.onLeftClick.call(this,t,n,i)},t.prototype.onEnter=function(t,n){var i=t.getFocus();return i instanceof y.StatusGroup?(n.preventDefault(),n.stopPropagation(),!0):e.prototype.onEnter.call(this,t,n)},t.prototype.onSpace=function(e,t){var n=e.getFocus();return n?!!this.canSelect(e,n)&&(e.toggleSelection(n,{origin:"keyboard",originalEvent:t}),t.preventDefault(),t.stopPropagation(),!0):(t.preventDefault(),t.stopPropagation(),!0)},t.prototype.onContextMenu=function(e,t,n){var i=this;if(n.target&&n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!1;if(n.preventDefault(),n.stopPropagation(),e.setFocus(t),this.actionProvider.hasSecondaryActions(e,t)){var r={x:n.posx+1,y:n.posy},o={selection:e.getSelection(),focus:t};return this.contextMenuService.showContextMenu({getAnchor:function(){return r},getActions:function(){return i.actionProvider.getSecondaryActions(e,t)},getActionItem:this.actionProvider.getActionItem.bind(this.actionProvider,e,t),getActionsContext:function(){return o},onHide:function(t){t&&e.DOMFocus()}}),!0}return!1},t.prototype.onLeft=function(e,t){return!0},t.prototype.onRight=function(e,t){return!0},t.prototype.onUp=function(t,n){var i=t.getFocus(),r=e.prototype.onUp.call(this,t,n);return!(!r||!n.shiftKey)&&this.shiftSelect(t,i,n)},t.prototype.onPageUp=function(t,n){var i=t.getFocus(),r=e.prototype.onPageUp.call(this,t,n);return!(!r||!n.shiftKey)&&this.shiftSelect(t,i,n)},t.prototype.onDown=function(t,n){var i=t.getFocus(),r=e.prototype.onDown.call(this,t,n);return!(!r||!n.shiftKey)&&this.shiftSelect(t,i,n)},t.prototype.onPageDown=function(t,n){var i=t.getFocus(),r=e.prototype.onPageDown.call(this,t,n);return!(!r||!n.shiftKey)&&this.shiftSelect(t,i,n)},t.prototype.canSelect=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return!t.some(function(e){return e instanceof y.StatusGroup||e instanceof y.StatusModel})&&t.every(function(t){var n=e.getSelection()[0],i=t;return!n||n.getType()===i.getType()})},t.prototype.shiftSelect=function(e,t,n){var i={origin:"keyboard",originalEvent:n},r=e.getFocus();if(r===t)return!1;var o=e.isSelected(t),s=e.isSelected(r);return o&&s?e.deselectRange(r,t,i):o||s?o?this.canSelect(e,r)&&e.selectRange(r,t,i):e.deselectRange(r,t,i):this.canSelect(e,t,r)&&e.selectRange(r,t,i),!0},t=g([v(1,S.IContextMenuService)],t)}(f.DefaultController);t.Controller=V}),define(l[1067],h([1,0,567,13,5,42,12,7,20,2,29,78,24,43,111,57,191,194,1066,207,86,28,101,32,22,39,6,18,26,47,41,25,790]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P,R,O){"use strict";var M=y.IGitService,N=l.$,F=function(e){function t(t,n,i,r,o,s,c,u,l,h,d){var p=this;e.call(this),this.configurationService=d,this.ID="changes",this.instantiationService=n,this.editorService=i,this.messageService=o,this.contextViewService=s,this.contextService=c,this.gitService=u,this.outputService=l,this.visible=!1,this.currentDimension=null,this.actionRunner=t,this.toDispose=[this.smartCommitAction=this.instantiationService.createInstance(b.SmartCommitAction,this),r.onEditorsChanged(function(){return p.onEditorsChanged(p.editorService.getActiveEditorInput()).done(null,a.onUnexpectedError)}),this.gitService.addListener2(y.ServiceEvents.OPERATION_START,function(e){return p.onGitOperationStart(e)}),this.gitService.addListener2(y.ServiceEvents.OPERATION_END,function(e){return p.onGitOperationEnd(e)}),this.gitService.getModel().addListener2(y.ModelEvents.MODEL_UPDATED,this.onGitModelUpdate.bind(this))]}return d(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this.render(),this.$el.getHTMLElement()},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this;if(!this.$el){this.$el=N(".changes-view"),this.$commitView=N(".commit-view").appendTo(this.$el),this.commitInputBox=new I.InputBox(this.$commitView.getHTMLElement(),this.contextViewService,{placeholder:n.localize(3,null,t.COMMIT_KEYBINDING),validationOptions:{showMessage:!0,validation:function(n){var i=e.configurationService.getConfiguration("git");return i.enableLongCommitWarning&&/^[^\n]{51}/.test(n)?{content:t.LONG_COMMIT,type:I.MessageType.WARNING}:null}},ariaLabel:n.localize(4,null,t.COMMIT_KEYBINDING),flexibleHeight:!0}),this.commitInputBox.onDidChange(function(t){return e.emit("change",t)}),this.commitInputBox.onDidHeightChange(function(t){return e.emit("heightchange",t)}),N(this.commitInputBox.inputElement).on("keydown",function(n){var i=new h.StandardKeyboardEvent(n);(i.equals(32771)||i.equals(32817))&&(e.smartCommitAction.enabled?e.actionRunner.run(e.smartCommitAction).done():e.commitInputBox.showMessage({content:t.NOTHING_TO_COMMIT,formatContent:!0,type:I.MessageType.INFO}))}).on("blur",function(){e.commitInputBox.hideMessage()}),this.$statusView=N(".status-view").appendTo(this.$el);var i=this.instantiationService.createInstance(E.ActionProvider),r=this.instantiationService.createInstance(E.Renderer,i,this.actionRunner),o=this.instantiationService.createInstance(E.DragAndDrop),s=this.instantiationService.createInstance(E.Controller,i);this.tree=new m.Tree(this.$statusView.getHTMLElement(),{dataSource:new E.DataSource,renderer:r,filter:new E.Filter,sorter:new E.Sorter,accessibilityProvider:new E.AccessibilityProvider,dnd:o,controller:s},{indentPixels:0,twistiePixels:20,ariaLabel:n.localize(5,null)}),this.tree.setInput(this.gitService.getModel().getStatus()),this.tree.expandAll(this.gitService.getModel().getStatus().getGroups()),this.toDispose.push(this.tree.addListener2("selection",function(t){return e.onSelection(t)})),this.toDispose.push(this.commitInputBox.onDidHeightChange(function(){return e.layout()}))}},t.prototype.focus=function(){var e=this.tree.getSelection();e.length>0&&this.tree.reveal(e[0],.5).done(null,a.onUnexpectedError),this.commitInputBox.focus()},t.prototype.layout=function(e){if(void 0===e&&(e=this.currentDimension),e){this.currentDimension=e,this.commitInputBox.layout();var t=e.height-(this.commitInputBox.height+12);this.$statusView.size(e.width,t),this.tree.layout(t),134===this.commitInputBox.height?this.$commitView.addClass("scroll"):this.$commitView.removeClass("scroll")}},t.prototype.setVisible=function(e){return this.visible=e,e?(this.tree.onVisible(),this.updateCommitInputTemplate(),this.onEditorsChanged(this.editorService.getActiveEditorInput())):(this.tree.onHidden(),u.TPromise.as(null))},t.prototype.onUndoLastCommit=function(e){this.commitInputBox.value||(this.commitInputBox.value=e.message)},t.prototype.updateCommitInputTemplate=function(){var e=this;this.commitInputBox.value||this.gitService.getCommitTemplate().then(function(t){
return t&&(e.commitInputBox.value=t)}).done(null,a.onUnexpectedError)},t.prototype.getControl=function(){return this.tree},t.prototype.getActions=function(){var e=this;return this.actions||(this.actions=[this.smartCommitAction,this.instantiationService.createInstance(b.RefreshAction)],this.actions.forEach(function(t){return e.toDispose.push(t)})),this.actions},t.prototype.getSecondaryActions=function(){var e=this;return this.secondaryActions||(this.secondaryActions=[this.instantiationService.createInstance(b.SyncAction,b.SyncAction.ID,b.SyncAction.LABEL),this.instantiationService.createInstance(b.PullAction,b.PullAction.ID,b.PullAction.LABEL),this.instantiationService.createInstance(b.PullWithRebaseAction),this.instantiationService.createInstance(b.PushAction,b.PushAction.ID,b.PushAction.LABEL),this.instantiationService.createInstance(b.PushToRemoteAction,b.PushToRemoteAction.ID,b.PushToRemoteAction.LABEL),new f.Separator,this.instantiationService.createInstance(b.PublishAction,b.PublishAction.ID,b.PublishAction.LABEL),new f.Separator,this.instantiationService.createInstance(b.CommitAction,this),this.instantiationService.createInstance(b.CommitSignedOffAction,this),this.instantiationService.createInstance(b.StageAndCommitAction,this,b.StageAndCommitAction.ID,b.StageAndCommitAction.LABEL,b.StageAndCommitAction.CSSCLASS),this.instantiationService.createInstance(b.StageAndCommitSignedOffAction,this),this.instantiationService.createInstance(b.UndoLastCommitAction,b.UndoLastCommitAction.ID,b.UndoLastCommitAction.LABEL),new f.Separator,this.instantiationService.createInstance(b.GlobalUnstageAction),this.instantiationService.createInstance(b.GlobalUndoAction),new f.Separator,new p.Action("show.gitOutput",n.localize(6,null),null,(!0),function(){return e.outputService.getChannel("Git").show()})],this.secondaryActions.forEach(function(t){return e.toDispose.push(t)})),this.secondaryActions},t.prototype.getCommitMessage=function(){return s.trim(this.commitInputBox.value)},t.prototype.onEmptyCommitMessage=function(){this.commitInputBox.focus(),this.commitInputBox.showMessage({content:t.NEED_MESSAGE,formatContent:!0,type:I.MessageType.INFO})},t.prototype.onGitModelUpdate=function(){var e=this;this.tree&&this.tree.refresh().done(function(){return e.tree.expandAll(e.gitService.getModel().getStatus().getGroups())})},t.prototype.onEditorsChanged=function(e){var t=this;if(!this.tree)return u.TPromise.as(null);var n=this.getStatusFromInput(e);return n||this.tree.clearSelection(),this.visible&&this.tree.getSelection().indexOf(n)===-1?this.tree.reveal(n,.5).then(function(){t.tree.setSelection([n],{origin:"implicit"})}):u.TPromise.as(null)},t.prototype.onSelection=function(e){var t=this;if(!(e.payload&&e.payload&&"implicit"===e.payload.origin||1!==e.selection.length)){var n=e.selection[0];if(n instanceof S.FileStatus&&(!e.payload||"keyboard"!==e.payload.origin||e.payload.originalEvent.equals(3))){var i=e.payload&&"mouse"===e.payload.origin;if(!i||!e.payload.originalEvent.metaKey&&!e.payload.originalEvent.shiftKey){var r=i&&e.payload.originalEvent&&2===e.payload.originalEvent.detail,o=n;this.gitService.getInput(o).done(function(n){var o=new w.TextDiffEditorOptions;if(i){o.preserveFocus=!0;var s=e&&e.payload&&"mouse"===e.payload.origin&&e.payload.originalEvent;s&&2===s.detail&&(o.preserveFocus=!1,s.preventDefault())}o.forceOpen=!0,o.pinned=r;var a=e&&e.payload&&e.payload.originalEvent&&e.payload.originalEvent.altKey;return t.editorService.openEditor(n,o,a)},function(e){return e.gitErrorCode===y.GitErrorCodes.CantOpenResource?void t.messageService.show(T.default.Warning,e):void t.messageService.show(T.default.Error,e)})}}}},t.prototype.onGitOperationStart=function(e){var t=this;if(e.id===y.ServiceOperations.COMMIT)this.commitInputBox&&this.commitInputBox.disable();else if(e.id===y.ServiceOperations.RESET)var n=this.gitService.getCommit("HEAD"),i=this.gitService.addListener2(y.ServiceEvents.OPERATION_END,function(e){e.operation.id!==y.ServiceOperations.RESET||e.error||(n.done(function(e){return t.onUndoLastCommit(e)}),i.dispose())})},t.prototype.onGitOperationEnd=function(e){e.operation.id===y.ServiceOperations.COMMIT&&this.commitInputBox&&(this.commitInputBox.enable(),e.error||(this.commitInputBox.value="",this.updateCommitInputTemplate()))},t.prototype.getStatusFromInput=function(e){if(!e)return null;if(e instanceof _.GitDiffEditorInput)return e.getFileStatus();if(e instanceof _.NativeGitIndexStringEditorInput)return e.getFileStatus()||null;var t=w.asFileEditorInput(e);if(t){var n=t.getResource(),i=this.contextService.getWorkspace().resource.fsPath;if(!i||!c.isEqualOrParent(n.fsPath,i))return null;var r=this.gitService.getModel().getRepositoryRoot();if(!r||!c.isEqualOrParent(n.fsPath,r))return null;var o=c.normalize(c.relative(r,n.fsPath)),s=this.gitService.getModel().getStatus().getWorkingTreeStatus().find(o);if(s&&(s.getStatus()===y.Status.UNTRACKED||s.getStatus()===y.Status.IGNORED))return s;if(s=this.gitService.getModel().getStatus().getMergeStatus().find(o))return s}return null},t.prototype.dispose=function(){this.$el&&(this.$el.dispose(),this.$el=null),this.toDispose=r.dispose(this.toDispose),e.prototype.dispose.call(this)},t.COMMIT_KEYBINDING=i.isMacintosh?"Cmd+Enter":"Ctrl+Enter",t.NEED_MESSAGE=n.localize(0,null,t.COMMIT_KEYBINDING),t.NOTHING_TO_COMMIT=n.localize(1,null,t.COMMIT_KEYBINDING),t.LONG_COMMIT=n.localize(2,null),t=g([v(1,D.IInstantiationService),v(2,x.IWorkbenchEditorService),v(3,R.IEditorGroupService),v(4,L.IMessageService),v(5,A.IContextViewService),v(6,k.IWorkspaceContextService),v(7,M),v(8,C.IOutputService),v(9,P.IEventService),v(10,O.IConfigurationService)],t)}(o.EventEmitter);t.ChangesView=F}),define(l[1068],h([1,0,570,5,42,8,214,2,29,191,33,6,18,57,792]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f){"use strict";var m=c.$,y=function(e){function t(t,n,i,r,o,s){e.call(this),this.ID="empty",this.gitService=i,this.instantiationService=r,this.messageService=o,this.fileService=s,this.actionRunner=n,this.isVisible=!1,this.needsRender=!1,this.controller=t,this.toDispose=[]}return d(t,e),Object.defineProperty(t.prototype,"initAction",{get:function(){return this._initAction||(this._initAction=this.instantiationService.createInstance(u.InitAction)),this._initAction},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.render(),this.$el.getHTMLElement()},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this;if(!this.$el){this.$el=m(".empty-view"),m("p").appendTo(this.$el).text(t.EMPTY_MESSAGE);var i=m(".section").appendTo(this.$el);this.initButton=new s.Button(i),this.initButton.label=n.localize(1,null),this.initButton.addListener2("click",function(t){o.EventHelper.stop(t),e.disableUI(),e.actionRunner.run(e.initAction).done(function(){return e.enableUI()})})}},t.prototype.disableUI=function(){this.urlInputBox&&this.urlInputBox.disable(),this.cloneButton&&(this.cloneButton.enabled=!1),this.initButton.enabled=!1},t.prototype.enableUI=function(){this.gitService.getRunningOperations().length>0||(this.urlInputBox&&(this.urlInputBox.enable(),this.urlInputBox.validate()),this.initButton.enabled=!0)},t.prototype.focus=function(){this.initButton.focus()},t.prototype.layout=function(e){},t.prototype.setVisible=function(e){return this.isVisible=e,a.TPromise.as(null)},t.prototype.getControl=function(){return null},t.prototype.getActions=function(){return this.refreshAction?[this.refreshAction]:[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.dispose=function(){this.$el&&(this.$el.dispose(),this.$el=null),this.toDispose=i.dispose(this.toDispose),e.prototype.dispose.call(this)},t.EMPTY_MESSAGE=n.localize(0,null),t=g([v(2,f.IGitService),v(3,h.IInstantiationService),v(4,p.IMessageService),v(5,l.IFileService)],t)}(r.EventEmitter);t.EmptyView=y}),define(l[1069],h([1,0,576,2,17,24,18,63,26,32,57,50,312,83]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f){"use strict";var m=f.remote.dialog,y=function(e){function t(t,n,i,r,o,s,a){e.call(this,t,n),this.gitService=i,this.quickOpenService=r,this.messageService=o,this.windowsService=s,this.workspaceService=a}return d(t,e),t.prototype.run=function(){var e=this;return this.quickOpenService.input({prompt:n.localize(0,null),placeHolder:n.localize(1,null),validateInput:function(e){var t=p.parse(e);return t.protocol&&t.host?i.TPromise.as(""):i.TPromise.as(n.localize(2,null))}}).then(function(t){if(!t)return i.TPromise.as(null);var o=m.showOpenDialog(f.remote.getCurrentWindow(),{title:n.localize(3,null),properties:["openDirectory","createDirectory"]});if(!o||0===o.length)return i.TPromise.as(null);var s=i.TPromise.timeout(200).then(function(){return e.messageService.show(u.default.Info,n.localize(4,null,t))}).then(function(e){return new i.TPromise(function(){return null},e)}),a=r.always(e.gitService.clone(t,o[0]),function(){return s.cancel()});return a.then(function(t){var n=!!e.workspaceService.getWorkspace();return e.windowsService.windowOpen([t],n)}).then(null,function(e){return/already exists and is not an empty directory/.test(e.stderr||"")?i.TPromise.wrapError(n.localize(5,null)):i.TPromise.wrapError(e)})})},t.ID="workbench.action.git.clone",t.LABEL="Clone",t=g([v(2,l.IGitService),v(3,h.IQuickOpenService),v(4,s.IMessageService),v(5,a.IWindowsService),v(6,c.IWorkspaceContextService)],t)}(o.Action);t.CloneAction=y}),define(l[363],h([1,0,581,2,10,27,955,50,40]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(e){function t(){e.call(this,{id:t.ID,label:n.localize(0,null),alias:"Convert Indentation to Spaces",precondition:r.EditorContextKeys.Writable})}return d(t,e),t.prototype.run=function(e,t){var n=t.getModel();if(n){var i=n.getOptions(),r=new s.IndentationToSpacesCommand(t.getSelection(),i.tabSize);t.executeCommands(this.id,[r]),n.updateOptions({insertSpaces:!0})}},t.ID="editor.action.indentationToSpaces",t=g([o.editorAction],t)}(o.EditorAction);t.IndentationToSpacesAction=u;var l=function(e){function t(){e.call(this,{id:t.ID,label:n.localize(1,null),alias:"Convert Indentation to Tabs",precondition:r.EditorContextKeys.Writable})}return d(t,e),t.prototype.run=function(e,t){var n=t.getModel();if(n){var i=n.getOptions(),r=new s.IndentationToTabsCommand(t.getSelection(),i.tabSize);t.executeCommands(this.id,[r]),n.updateOptions({insertSpaces:!1})}},t.ID="editor.action.indentationToTabs",t=g([o.editorAction],t)}(o.EditorAction);t.IndentationToTabsAction=l;var h=function(e){function t(t,n){e.call(this,n),this.insertSpaces=t}return d(t,e),t.prototype.run=function(e,t){var r=this,o=e.get(a.IQuickOpenService),s=e.get(c.IModelService),u=t.getModel();if(u){var l=s.getCreationOptions(),h=[1,2,3,4,5,6,7,8].map(function(e){return{id:e.toString(),label:e.toString(),description:e===l.tabSize?n.localize(2,null):null}}),d=Math.min(u.getOptions().tabSize-1,7);return i.TPromise.timeout(50).then(function(){return o.pick(h,{placeHolder:n.localize(3,null),autoFocus:{autoFocusIndex:d}}).then(function(e){e&&u.updateOptions({tabSize:parseInt(e.label,10),insertSpaces:r.insertSpaces})})})}},t}(o.EditorAction);t.ChangeIndentationSizeAction=h;var p=function(e){function t(){e.call(this,!1,{id:t.ID,label:n.localize(4,null),alias:"Indent Using Tabs",precondition:null})}return d(t,e),t.ID="editor.action.indentUsingTabs",t=g([o.editorAction],t)}(h);t.IndentUsingTabs=p;var f=function(e){function t(){e.call(this,!0,{id:t.ID,label:n.localize(5,null),alias:"Indent Using Spaces",precondition:null})}return d(t,e),t.ID="editor.action.indentUsingSpaces",t=g([o.editorAction],t)}(h);t.IndentUsingSpaces=f;var v=function(e){function t(){e.call(this,{id:t.ID,label:n.localize(6,null),alias:"Detect Indentation from Content",precondition:null})}return d(t,e),t.prototype.run=function(e,t){var n=e.get(c.IModelService),i=t.getModel();if(i){var r=n.getCreationOptions();i.detectIndentation(r.insertSpaces,r.tabSize)}},t.ID="editor.action.detectIndentation",t=g([o.editorAction],t)}(o.EditorAction);t.DetectIndentation=v;var m=function(e){function t(){e.call(this,{id:"editor.action.toggleRenderWhitespace",label:n.localize(7,null),alias:"Toggle Render Whitespace",precondition:null})}return d(t,e),t.prototype.run=function(e,t){var n=t.getConfiguration().viewInfo.renderWhitespace;"none"===n?t.updateOptions({renderWhitespace:"all"}):t.updateOptions({renderWhitespace:"none"})},t=g([o.editorAction],t)}(o.EditorAction);t.ToggleRenderWhitespaceAction=m;var y=function(e){function t(){e.call(this,{id:"editor.action.toggleRenderControlCharacter",label:n.localize(8,null),alias:"Toggle Render Control Characters",precondition:null})}return d(t,e),t.prototype.run=function(e,t){t.updateOptions({renderControlCharacters:!t.getConfiguration().viewInfo.renderControlCharacters})},t=g([o.editorAction],t)}(o.EditorAction);t.ToggleRenderControlCharacterAction=y}),define(l[260],h([1,0,2,596,35,21,13,97,99,93,31,37,14,64,100,22,6,18,19,36,50,810]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C){"use strict";t.ALL_COMMANDS_PREFIX=">",t.EDITOR_COMMANDS_PREFIX="$";var w=m.or(m.matchesPrefix,m.matchesWords,m.matchesContiguousSubString),I=function(e){function n(n,i,r){e.call(this,n,i,t.ALL_COMMANDS_PREFIX,r)}return d(n,e),n.ID="workbench.action.showCommands",n.LABEL=i.localize(0,null),n=g([v(2,C.IQuickOpenService)],n)}(f.QuickOpenAction);t.ShowAllCommandsAction=I;var T=function(e){function t(t,n,i,r,o,s,a,c){e.call(this),this.messageService=a,this.telemetryService=c,this.keyLabel=t,this.keyAriaLabel=n,this.label=i,i!==r?this.alias=r:s=null,this.setHighlights(o,null,s)}return d(t,e),t.prototype.getLabel=function(){return this.label},t.prototype.getDetail=function(){return this.alias},t.prototype.getAriaLabel=function(){return this.keyAriaLabel?i.localize(1,null,this.getLabel(),this.keyAriaLabel):i.localize(2,null,this.getLabel())},t.prototype.getGroupLabel=function(){return this.keyLabel},t.prototype.onError=function(e){var t,n=e;t=n&&"string"==typeof n.message&&Array.isArray(n.actions)?n:e?a.toErrorMessage(e):i.localize(3,null,this.label),this.messageService.show(S.Severity.Error,t)},t.prototype.runAction=function(e){var t=this;n.TPromise.timeout(50).done(function(){if(e&&e.enabled)try{t.telemetryService.publicLog("workbenchActionExecuted",{id:e.id,from:"quick open"}),(e.run()||n.TPromise.as(null)).done(function(){e.dispose()},function(e){return t.onError(e)})}catch(e){t.onError(e)}else t.messageService.show(S.Severity.Info,i.localize(4,null,t.getLabel()))},function(e){return t.onError(e)})},t=g([v(6,S.IMessageService),v(7,E.ITelemetryService)],t)}(u.QuickOpenEntryGroup),x=function(e){function t(t,n,i,r,o,s,a,c,u,l){e.call(this,t,n,i,r,o,s,u,l),this.instantiationService=c,this.actionDescriptor=a}return d(t,e),t.prototype.run=function(e,t){if(e===c.Mode.OPEN){var n=this.instantiationService.createInstance(this.actionDescriptor.syncDescriptor);return this.runAction(n),!0}return!1},t=g([v(7,b.IInstantiationService),v(8,S.IMessageService),v(9,E.ITelemetryService)],t)}(T),A=function(e){function t(t,n,i,r,o,s,a,c,u){e.call(this,t,n,i,r,o,s,c,u),this.action=a}return d(t,e),t.prototype.run=function(e,t){var r=this;return e===c.Mode.OPEN&&(n.TPromise.timeout(50).done(function(){if(r.action)try{r.telemetryService.publicLog("workbenchActionExecuted",{id:r.action.id,from:"quick open"}),(r.action.run()||n.TPromise.as(null)).done(null,function(e){return r.onError(e)})}catch(e){r.onError(e)}else r.messageService.show(S.Severity.Info,i.localize(5,null,r.getLabel()))},function(e){return r.onError(e)}),!0)},t=g([v(7,S.IMessageService),v(8,E.ITelemetryService)],t)}(T),D=function(e){function t(t,n,i,r,o,s,a,c,u){e.call(this,t,n,i,r,o,s,c,u),this.action=a}return d(t,e),t.prototype.run=function(e,t){return e===c.Mode.OPEN&&(this.runAction(this.action),!0)},t=g([v(7,S.IMessageService),v(8,E.ITelemetryService)],t)}(T),L=function(e){function t(t,n,i,r){e.call(this),this.editorService=t,this.instantiationService=n,this.keybindingService=i,this.menuService=r}return d(t,e),t.prototype.includeWorkbenchCommands=function(){return!0},t.prototype.getResults=function(e){var t=this;e=e.trim();var s=[];if(this.includeWorkbenchCommands()){var a=p.Registry.as(h.Extensions.WorkbenchActions).getWorkbenchActions();s=this.actionDescriptorsToEntries(a,e)}var c=this.editorService.getActiveEditor(),d=c?c.getControl():null,f=[];if(d){var g=d;o.isFunction(g.getSupportedActions)&&(f=g.getSupportedActions())}var v=this.editorActionsToEntries(f,e),m=this.menuService.getCommandActions().map(function(e){return t.instantiationService.createInstance(l.ExecuteCommandAction,e.id,e.category?i.localize(6,null,e.category,e.title):e.title)}),y=this.otherActionsToEntries(m,e),b=s.concat(v,y);return b=r.distinct(b,function(e){return e.getLabel()+e.getGroupLabel()}),b=b.sort(function(e,t){return e.getLabel().toLowerCase().localeCompare(t.getLabel().toLowerCase())}),n.TPromise.as(new u.QuickOpenModel(b))},t.prototype.actionDescriptorsToEntries=function(e,t){for(var n=this,r=[],o=p.Registry.as(h.Extensions.WorkbenchActions),a=0;a<e.length;a++){var c=e[a],u=this.keybindingService.lookupKeybindings(c.id),l=u.map(function(e){return n.keybindingService.getLabelFor(e)}),d=u.map(function(e){return n.keybindingService.getAriaLabelFor(e)});if(c.label){var f=c.label,g=o.getCategory(c.id);g&&(f=i.localize(7,null,g,f));var v=s.language!==s.LANGUAGE_DEFAULT?o.getAlias(c.id):null,m=w(t,f),y=v?w(t,v):null;(m||y)&&r.push(this.instantiationService.createInstance(x,l.length>0?l.join(", "):"",d.length>0?d.join(", "):"",f,v,m,y,c))}}return r},t.prototype.editorActionsToEntries=function(e,t){for(var n=this,i=[],r=0;r<e.length;r++){var o=e[r],a=this.keybindingService.lookupKeybindings(o.id),c=a.map(function(e){return n.keybindingService.getLabelFor(e)}),u=a.map(function(e){return n.keybindingService.getAriaLabelFor(e)}),l=o.label;if(l){var h=s.language!==s.LANGUAGE_DEFAULT?o.alias:null,d=w(t,l),p=h?w(t,h):null;(d||p)&&i.push(this.instantiationService.createInstance(A,c.length>0?c.join(", "):"",u.length>0?u.join(", "):"",l,h,d,p,o))}}return i},t.prototype.otherActionsToEntries=function(e,t){for(var n=this,i=[],r=0,o=e;r<o.length;r++){var s=o[r],a=this.keybindingService.lookupKeybindings(s.id),c=a.map(function(e){return n.keybindingService.getLabelFor(e)}),u=a.map(function(e){return n.keybindingService.getAriaLabelFor(e)}),l=w(t,s.label);l&&i.push(this.instantiationService.createInstance(D,c.join(", "),u.join(", "),s.label,null,l,null,s))}return i},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0,autoFocusPrefixMatch:e.trim()}},t.prototype.getClass=function(){return"commands-handler"},t.prototype.getEmptyLabel=function(e){return i.localize(8,null)},t=g([v(0,y.IWorkbenchEditorService),v(1,b.IInstantiationService),v(2,_.IKeybindingService),v(3,l.IMenuService)],t)}(f.QuickOpenHandler);t.CommandsHandler=L;var k=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.includeWorkbenchCommands=function(){return!1},t}(L);t.EditorCommandsHandler=k}),define(l[1072],h([1,0,2,597,21,7,99,93,64,10,22,50,62]),function(e,t,n,i,r,o,s,a,c,u,l,h,p){"use strict";t.GOTO_LINE_PREFIX=":";var f=function(e){function n(n,i,r){e.call(this,n,i,t.GOTO_LINE_PREFIX,r)}return d(n,e),n.ID="workbench.action.gotoLine",n.LABEL=i.localize(0,null),n=g([v(2,h.IQuickOpenService)],n)}(c.QuickOpenAction);t.GotoLineAction=f;var m=function(e){function t(t,n,i){e.call(this,n),this.parseInput(t),this.handler=i}return d(t,e),t.prototype.parseInput=function(e){var t=e.split(/,|:|#/).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)});this.line=t[0],this.column=t[1]},t.prototype.getLabel=function(){var e=this.getMaxLineNumber();return this.invalidRange(e)?e>0?i.localize(1,null,e):i.localize(2,null):this.column?i.localize(3,null,this.line,this.column):i.localize(4,null,this.line)},t.prototype.invalidRange=function(e){return void 0===e&&(e=this.getMaxLineNumber()),!this.line||!r.isNumber(this.line)||e>0&&r.isNumber(this.line)&&this.line>e},t.prototype.getMaxLineNumber=function(){var e=this.editorService.getActiveEditor(),t=e.getControl(),n=t.getModel();return n&&n.modified&&n.original&&(n=n.modified),n&&r.isFunction(n.getLineCount)?n.getLineCount():-1},t.prototype.run=function(e,t){return e===s.Mode.OPEN?this.runOpen(t):this.runPreview()},t.prototype.getInput=function(){return this.editorService.getActiveEditorInput()},t.prototype.getOptions=function(){return{selection:this.toSelection()}},t.prototype.runOpen=function(e){if(this.invalidRange())return!1;var t=e.keymods.indexOf(32768)>=0;t&&this.editorService.openEditor(this.getInput(),this.getOptions(),!0).done(null,o.onUnexpectedError);var n=this.toSelection(),i=this.editorService.getActiveEditor();if(i){var r=i.getControl();r.setSelection(n),r.revealRangeInCenter(n)}return!0},t.prototype.runPreview=function(){if(this.invalidRange())return this.handler.clearDecorations(),!1;var e=this.toSelection(),t=this.editorService.getActiveEditor();if(t){var n=t.getControl();n.revealRangeInCenter(e),r.isFunction(n.changeDecorations)&&this.handler.decorateOutline(e,n,t.position)}return!1},t.prototype.toSelection=function(){return{startLineNumber:this.line,startColumn:this.column||1,endLineNumber:this.line,endColumn:this.column||1}},t}(c.EditorQuickOpenEntry),y=function(e){function t(t){e.call(this),this.editorService=t}return d(t,e),t.prototype.getAriaLabel=function(){return i.localize(5,null)},t.prototype.getResults=function(e){if(e=e.trim(),!this.lastKnownEditorViewState){var t=this.editorService.getActiveEditor();this.lastKnownEditorViewState=t.getControl().saveViewState()}return n.TPromise.as(new a.QuickOpenModel([new m(e,this.editorService,this)]))},t.prototype.canRun=function(){var e=null!==p.getCodeEditor(this.editorService.getActiveEditor());return!!e||i.localize(6,null)},t.prototype.decorateOutline=function(e,t,n){var i=this;t.changeDecorations(function(t){var r=[];i.rangeHighlightDecorationId&&(r.push(i.rangeHighlightDecorationId.lineDecorationId),r.push(i.rangeHighlightDecorationId.rangeHighlightId),i.rangeHighlightDecorationId=null);var o=[{range:e,options:{className:"rangeHighlight",isWholeLine:!0}},{range:e,options:{overviewRuler:{color:"rgba(0, 122, 204, 0.6)",darkColor:"rgba(0, 122, 204, 0.6)",position:u.OverviewRulerLane.Full}}}],s=t.deltaDecorations(r,o),a=s[0],c=s[1];i.rangeHighlightDecorationId={rangeHighlightId:a,lineDecorationId:c,position:n}})},t.prototype.clearDecorations=function(){var e=this;this.rangeHighlightDecorationId&&(this.editorService.getVisibleEditors().forEach(function(t){if(t.position===e.rangeHighlightDecorationId.position){var n=t.getControl();n.changeDecorations(function(t){t.deltaDecorations([e.rangeHighlightDecorationId.lineDecorationId,e.rangeHighlightDecorationId.rangeHighlightId],[])})}}),this.rangeHighlightDecorationId=null)},t.prototype.onClose=function(e){if(this.clearDecorations(),e&&this.lastKnownEditorViewState){var t=this.editorService.getActiveEditor();if(t){var n=t.getControl();n.restoreViewState(this.lastKnownEditorViewState)}}this.lastKnownEditorViewState=null},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:e.trim().length>0}},t=g([v(0,l.IWorkbenchEditorService)],t)}(c.QuickOpenHandler);t.GotoLineHandler=y}),define(l[1073],h([1,0,2,598,7,21,12,99,93,64,100,10,22,50,827,49,62,818]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b){"use strict";t.GOTO_SYMBOL_PREFIX="@",t.SCOPE_PREFIX=":";var S=function(e){function n(n,i,r){e.call(this,n,i,t.GOTO_SYMBOL_PREFIX,r)}return d(n,e),n.ID="workbench.action.gotoSymbol",n.LABEL=i.localize(0,null),n=g([v(2,f.IQuickOpenService)],n)}(u.QuickOpenAction);t.GotoSymbolAction=S;var E=function(e){function n(t,n){e.call(this,n),this.outline=t}return d(n,e),n.prototype.dofilter=function(e){var n=e;0===e.indexOf(t.SCOPE_PREFIX)&&(n=n.substr(t.SCOPE_PREFIX.length)),this.entries.forEach(function(e){if(e.setGroupLabel(null),e.setShowBorder(!1),e.setHighlights(null),e.setHidden(!1),n){var t=l.matchesFuzzy(n,e.getLabel());t?(e.setHighlights(t),e.setHidden(!1)):e.isHidden()||e.setHidden(!0)}}),e?0===e.indexOf(t.SCOPE_PREFIX)?this.entries.sort(this.sortScoped.bind(this,e.toLowerCase())):this.entries.sort(this.sortNormal.bind(this,e.toLowerCase())):this.entries.sort(function(e,t){return e.getIndex()-t.getIndex()});var r=this.getEntries(!0);if(r.length>0&&0===e.indexOf(t.SCOPE_PREFIX)){for(var o=null,s=null,a=0,c=0;c<r.length;c++){var u=r[c];o!==u.getType()?(s&&s.setGroupLabel(this.renderGroupLabel(o,a,this.outline)),o=u.getType(),s=u,a=1,u.setShowBorder(c>0)):a++}s&&s.setGroupLabel(this.renderGroupLabel(o,a,this.outline))}else r.length>0&&r[0].setGroupLabel(i.localize(1,null,r.length))},n.prototype.sortNormal=function(e,t,n){if(t.isHidden()&&n.isHidden())return 0;if(t.isHidden())return 1;if(n.isHidden())return-1;var i=t.getLabel().toLowerCase(),r=n.getLabel().toLowerCase(),o=i.localeCompare(r);if(0!==o)return o;var s=t.getRange(),a=n.getRange();return s.startLineNumber-a.startLineNumber},n.prototype.sortScoped=function(e,n,i){if(n.isHidden()&&i.isHidden())return 0;if(n.isHidden())return 1;if(i.isHidden())return-1;e=e.substr(t.SCOPE_PREFIX.length);var r=n.getType(),o=i.getType(),s=r.localeCompare(o);if(0!==s)return s;if(e){var a=n.getLabel().toLowerCase(),c=i.getLabel().toLowerCase();if(s=a.localeCompare(c),0!==s)return s}var u=n.getRange(),l=i.getRange();return u.startLineNumber-l.startLineNumber},n.prototype.renderGroupLabel=function(e,t,i){var r=n.getDefaultGroupLabelPatterns()[e];return r?s.format(r,t):e},n.getDefaultGroupLabelPatterns=function(){var e=Object.create(null);return e.method=i.localize(2,null),e.function=i.localize(3,null),e.constructor=i.localize(4,null),e.variable=i.localize(5,null),e.class=i.localize(6,null),e.interface=i.localize(7,null),e.namespace=i.localize(8,null),e.package=i.localize(9,null),e.module=i.localize(10,null),e.property=i.localize(11,null),e.enum=i.localize(12,null),e.string=i.localize(13,null),e.rule=i.localize(14,null),e.file=i.localize(15,null),e.array=i.localize(16,null),e.number=i.localize(17,null),e.boolean=i.localize(18,null),e.object=i.localize(19,null),e.key=i.localize(20,null),e},n}(c.QuickOpenModel),_=function(e){function t(t,n,i,r,o,s,a,c,u){e.call(this),this.index=t,this.name=n,this.type=i,this.icon=o,this.description=r,this.range=s,this.setHighlights(a),this.editorService=c,this.handler=u}return d(t,e),t.prototype.getIndex=function(){return this.index},t.prototype.getLabel=function(){return this.name},t.prototype.getAriaLabel=function(){return i.localize(21,null,this.getLabel())},t.prototype.getIcon=function(){return this.icon},t.prototype.getDescription=function(){return this.description},t.prototype.getType=function(){return this.type},t.prototype.getRange=function(){return this.range},t.prototype.getInput=function(){return this.editorService.getActiveEditorInput()},t.prototype.getOptions=function(){return{selection:this.toSelection()}},t.prototype.run=function(e,t){return e===a.Mode.OPEN?this.runOpen(t):this.runPreview()},t.prototype.runOpen=function(e){var t=e.keymods.indexOf(32768)>=0;if(t)this.editorService.openEditor(this.getInput(),this.getOptions(),!0).done(null,r.onUnexpectedError);else{var n=this.toSelection(),i=this.editorService.getActiveEditor();if(i){var o=i.getControl();o.setSelection(n),o.revealRangeInCenter(n)}}return!0},t.prototype.runPreview=function(){var e=this.toSelection(),t=this.editorService.getActiveEditor();if(t){var n=t.getControl();n.revealRangeInCenter(e),o.isFunction(n.changeDecorations)&&this.handler.decorateOutline(this.range,e,n,t.position)}return!1},t.prototype.toSelection=function(){return{startLineNumber:this.range.startLineNumber,startColumn:this.range.startColumn||1,endLineNumber:this.range.startLineNumber,endColumn:this.range.startColumn||1}},t}(u.EditorQuickOpenEntryGroup),C=function(e){function r(t){e.call(this),this.editorService=t,this.outlineToModelCache={}}return d(r,e),r.prototype.getResults=function(e){if(e=e.trim(),!this.lastKnownEditorViewState){var t=this.editorService.getActiveEditor();this.lastKnownEditorViewState=t.getControl().saveViewState()}return this.getActiveOutline().then(function(t){return t.dofilter(e),t})},r.prototype.getEmptyLabel=function(e){return e.length>0?i.localize(22,null):i.localize(23,null)},r.prototype.getAriaLabel=function(){return i.localize(24,null)},r.prototype.canRun=function(){var e=!1,t=b.getCodeEditor(this.editorService.getActiveEditor());if(t){var n=t.getModel();n&&n.modified&&n.original&&(n=n.modified),n&&o.isFunction(n.getMode)&&(e=y.DocumentSymbolProviderRegistry.has(n))}return!!e||(null!==t?i.localize(25,null):i.localize(26,null))},r.prototype.getAutoFocus=function(e){return e=e.trim(),0===e.indexOf(t.SCOPE_PREFIX)&&(e=e.substr(t.SCOPE_PREFIX.length)),{autoFocusPrefixMatch:e,autoFocusFirstEntry:!!e}},r.prototype.toQuickOpenEntries=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=s.trim(i.name),o=i.containerName,a=y.SymbolKind.from(i.kind);t.push(new _(n,r,y.SymbolKind.from(i.kind),o,a,i.location.range,null,this.editorService,this))}return t},r.prototype.getActiveOutline=function(){return this.activeOutlineRequest||(this.activeOutlineRequest=this.doGetActiveOutline()),this.activeOutlineRequest},r.prototype.doGetActiveOutline=function(){var e=this,t=b.getCodeEditor(this.editorService.getActiveEditor());if(t){var i=t.getModel();if(i&&i.modified&&i.original&&(i=i.modified),i&&o.isFunction(i.getMode)){var r=i.id;return this.outlineToModelCache[r]?n.TPromise.as(this.outlineToModelCache[r]):m.getDocumentSymbols(i).then(function(t){var n=new E(t,e.toQuickOpenEntries(t.entries));return e.outlineToModelCache={},e.outlineToModelCache[r]=n,n})}}return n.TPromise.as(null)},r.prototype.decorateOutline=function(e,t,n,i){var r=this;n.changeDecorations(function(n){var o=[];r.rangeHighlightDecorationId&&(o.push(r.rangeHighlightDecorationId.lineDecorationId),o.push(r.rangeHighlightDecorationId.rangeHighlightId),r.rangeHighlightDecorationId=null);var s=[{range:e,options:{className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{overviewRuler:{color:"rgba(0, 122, 204, 0.6)",darkColor:"rgba(0, 122, 204, 0.6)",position:h.OverviewRulerLane.Full}}}],a=n.deltaDecorations(o,s),c=a[0],u=a[1];r.rangeHighlightDecorationId={rangeHighlightId:c,lineDecorationId:u,position:i}})},r.prototype.clearDecorations=function(){var e=this;this.rangeHighlightDecorationId&&(this.editorService.getVisibleEditors().forEach(function(t){if(t.position===e.rangeHighlightDecorationId.position){var n=t.getControl();n.changeDecorations(function(t){t.deltaDecorations([e.rangeHighlightDecorationId.lineDecorationId,e.rangeHighlightDecorationId.rangeHighlightId],[])})}}),this.rangeHighlightDecorationId=null)},r.prototype.onClose=function(e){if(this.outlineToModelCache={},this.clearDecorations(),e&&this.lastKnownEditorViewState){var t=this.editorService.getActiveEditor();if(t){var n=t.getControl();n.restoreViewState(this.lastKnownEditorViewState)}}this.lastKnownEditorViewState=null,this.activeOutlineRequest=null},r=g([v(0,p.IWorkbenchEditorService)],r)}(u.QuickOpenHandler);t.GotoSymbolHandler=C}),define(l[1074],h([1,0,2,599,29,21,14,99,93,64,50]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";t.HELP_PREFIX="?";var h=function(e){function t(t,n,i,r){e.call(this),this.prefix=t,this.description=n,this.quickOpenService=i,this.openOnPreview=r}return d(t,e),t.prototype.getLabel=function(){return this.prefix},t.prototype.getAriaLabel=function(){return i.localize(0,null,this.getLabel())},t.prototype.getDescription=function(){return this.description},t.prototype.getHeight=function(){return 22},t.prototype.getGroupLabel=function(){return this.groupLabel},t.prototype.setGroupLabel=function(e){this.groupLabel=e},t.prototype.showBorder=function(){return this.useBorder},t.prototype.setShowBorder=function(e){this.useBorder=e},t.prototype.render=function(e,t,n){var i=this,o=r.$(t);o.addClass("quick-open-entry"),this.showBorder()?r.$(t).addClass("results-group-separator"):r.$(t).removeClass("results-group-separator"),this.getGroupLabel()&&r.$(t).div(function(e){
e.addClass("results-group"),e.attr({text:i.getGroupLabel()})});var s=o.clone().div({text:this.prefix,class:"quick-open-help-entry-label"});return this.prefix||s.text(""),o.span({text:this.description,class:"quick-open-entry-description"}),null},t.prototype.run=function(e,t){return(e===a.Mode.OPEN||this.openOnPreview)&&this.quickOpenService.show(this.prefix),!1},t}(c.QuickOpenEntryItem),p=function(e){function r(t){e.call(this),this.quickOpenService=t}return d(r,e),r.prototype.getResults=function(e){var r=this;e=e.trim();var a=s.Registry.as(u.Extensions.Quickopen),l=a.getQuickOpenHandlers(),d=a.getDefaultQuickOpenHandler();d&&l.push(d);var p,f=[],g=[];return l.sort(function(e,t){return e.prefix.localeCompare(t.prefix)}).forEach(function(n){if(n.prefix!==t.HELP_PREFIX)if(o.isArray(n.helpEntries))for(var i=0;i<n.helpEntries.length;i++){var s=n.helpEntries[i];0===s.prefix.indexOf(e)&&(p=new h(s.prefix,s.description,r.quickOpenService,e.length>0),s.needsEditor?g.push(p):f.push(p))}else 0===n.prefix.indexOf(e)&&(p=new h(n.prefix,n.description,r.quickOpenService,e.length>0),f.push(p))}),f.length>0&&f[0].setGroupLabel(i.localize(1,null)),g.length>0&&(g[0].setGroupLabel(i.localize(2,null)),f.length>0&&g[0].setShowBorder(!0)),n.TPromise.as(new c.QuickOpenModel(f.concat(g)))},r.prototype.getAutoFocus=function(e){return e=e.trim(),{autoFocusFirstEntry:e.length>0,autoFocusPrefixMatch:e}},r=g([v(0,l.IQuickOpenService)],r)}(u.QuickOpenHandler);t.HelpHandler=p}),define(l[1075],h([1,0,13,600,64,14,31,37,1073,260,1072,1074]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";var d=o.Registry.as(a.Extensions.WorkbenchActions);d.registerWorkbenchAction(new s.SyncActionDescriptor(u.ShowAllCommandsAction,u.ShowAllCommandsAction.ID,u.ShowAllCommandsAction.LABEL,{primary:49198,secondary:[59]}),"Show All Commands"),d.registerWorkbenchAction(new s.SyncActionDescriptor(l.GotoLineAction,l.GotoLineAction.ID,l.GotoLineAction.LABEL,{primary:32805,mac:{primary:4133}}),"Go to Line..."),d.registerWorkbenchAction(new s.SyncActionDescriptor(c.GotoSymbolAction,c.GotoSymbolAction.ID,c.GotoSymbolAction.LABEL,{primary:49197}),"Go to Symbol..."),o.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor("vs/workbench/parts/quickopen/browser/commandsHandler","CommandsHandler",u.ALL_COMMANDS_PREFIX,i.localize(0,null))),o.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor("vs/workbench/parts/quickopen/browser/gotoLineHandler","GotoLineHandler",l.GOTO_LINE_PREFIX,[{prefix:l.GOTO_LINE_PREFIX,needsEditor:!0,description:n.isMacintosh?i.localize(1,null):i.localize(2,null)}])),o.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor("vs/workbench/parts/quickopen/browser/gotoSymbolHandler","GotoSymbolHandler",c.GOTO_SYMBOL_PREFIX,[{prefix:c.GOTO_SYMBOL_PREFIX,needsEditor:!0,description:i.localize(3,null)},{prefix:c.GOTO_SYMBOL_PREFIX+c.SCOPE_PREFIX,needsEditor:!0,description:i.localize(4,null)}])),o.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor("vs/workbench/parts/quickopen/browser/helpHandler","HelpHandler",h.HELP_PREFIX,i.localize(5,null)))}),define(l[1076],h([1,0,603,2,7,17,64,93,99,100,15,81,22,6,26,25,327]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b){"use strict";var S=function(e){function t(t,n,i,r,o){e.call(this,o),this._bearing=t,this._provider=n,this._configurationService=i,this._contextService=r}return d(t,e),t.prototype.getLabel=function(){return this._bearing.name},t.prototype.getAriaLabel=function(){return n.localize(0,null,this.getLabel())},t.prototype.getDescription=function(){var e=this._bearing.containerName;return!e&&this._bearing.resource&&(e=h.getPathLabel(this._bearing.resource,this._contextService)),e},t.prototype.getIcon=function(){return this._bearing.type},t.prototype.getResource=function(){return this._bearing.resource},t.prototype.run=function(t,n){var o=this;return this._bearingResolve||"function"!=typeof this._provider.resolveWorkspaceSymbol||this._bearing.range||(this._bearingResolve=this._provider.resolveWorkspaceSymbol(this._bearing).then(function(e){return o._bearing=e||o._bearing,o},r.onUnexpectedError)),i.TPromise.as(this._bearingResolve).then(function(i){return e.prototype.run.call(o,t,n)}).done(void 0,r.onUnexpectedError),t===c.Mode.OPEN},t.prototype.getInput=function(){var e={resource:this._bearing.resource,options:{pinned:!this._configurationService.getConfiguration().workbench.editor.enablePreviewFromQuickOpen}};return this._bearing.range&&(e.options.selection=l.Range.collapseToStart(this._bearing.range)),e},t.compare=function(e,t,n){var i=e.getLabel().toLowerCase(),r=t.getLabel().toLowerCase();if(i===r){var o=e._bearing.type,s=t._bearing.type;return o.localeCompare(s)}return a.QuickOpenEntry.compare(e,t,n)},t=g([v(2,y.IConfigurationService),v(3,m.IWorkspaceContextService),v(4,p.IWorkbenchEditorService)],t)}(s.EditorQuickOpenEntry),E=function(e){function t(n){e.call(this),this.instantiationService=n,this.delayer=new o.ThrottledDelayer(t.SEARCH_DELAY),this.options=Object.create(null)}return d(t,e),t.prototype.setOptions=function(e){this.options=e},t.prototype.canRun=function(){return!0},t.prototype.getResults=function(e){var t=this;if(e=e.trim(),!e)return i.TPromise.as(new a.QuickOpenModel([]));var n;return n=this.options.skipDelay?this.doGetResults(e):this.delayer.trigger(function(){return t.doGetResults(e)}),n.then(function(e){return new a.QuickOpenModel(e)})},t.prototype.doGetResults=function(e){var t=this;return b.getWorkspaceSymbols(e).then(function(n){for(var i=[],r=0,o=n;r<o.length;r++){var s=o[r],a=s[0],c=s[1];t.fillInSymbolEntries(i,a,c,e)}return t.options.skipSorting?i:(e=e.toLowerCase(),i.sort(function(t,n){return S.compare(t,n,e)}))})},t.prototype.fillInSymbolEntries=function(e,t,n,i){for(var r=0,o=n;r<o.length;r++){var s=o[r];if(!this.options.skipLocalSymbols||!s.containerName){var a=this.instantiationService.createInstance(S,s,t);a.setHighlights(u.matchesFuzzy(i,a.getLabel())),e.push(a)}}},t.prototype.getGroupLabel=function(){return n.localize(1,null)},t.prototype.getEmptyLabel=function(e){return e.length>0?n.localize(2,null):n.localize(3,null)},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0,autoFocusPrefixMatch:e.trim()}},t.SEARCH_DELAY=500,t=g([v(0,f.IInstantiationService)],t)}(s.QuickOpenHandler);t.OpenSymbolHandler=E}),define(l[1077],h([1,0,611,2,20,24,31,14,37,71,973,74,7,50,51,115,54,63,117]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E){"use strict";function _(e){return new i.TPromise(function(t,n,i){E.stat(e,function(e,n){return e?t(!1):n.isFile()?t(!0):void t(!1)})})}var C=function(e){function t(t,n,i,r,o,s){e.call(this,t,n),this.environmentService=i,this.quickOpenService=r,this.modeService=o,this.windowsService=s}return d(t,e),t.prototype.openFile=function(e){return this.windowsService.windowOpen([e])},t.prototype.run=function(){var e=this,t=this.modeService.getRegisteredModes(),o=[];return t.forEach(function(t){var n=e.modeService.getLanguageName(t);n&&o.push({label:n,id:t})}),o=o.sort(function(e,t){return e.label.localeCompare(t.label)}),this.quickOpenService.pick(o,{placeHolder:n.localize(1,null)}).then(function(t){if(t){var o=r.join(e.environmentService.appSettingsHome,"snippets",t.id+".json");return _(o).then(function(i){if(i)return e.openFile(o);var r=["{","/*","\t // Place your snippets for "+t.label+" here. Each snippet is defined under a snippet name and has a prefix, body and ","\t // description. The prefix is what is used to trigger the snippet and the body will be expanded and inserted. Possible variables are:","\t // $1, $2 for tab stops, $0 for the final cursor position, and ${1:label}, ${2:another} for placeholders. Placeholders with the ","\t // same ids are connected.","\t // Example:",'\t "Print to console": {','\t\t"prefix": "log",','\t\t"body": [',"\t\t\t\"console.log('$1');\",",'\t\t\t"$2"',"\t\t],",'\t\t"description": "Log output to console"',"\t}","*/","}"].join("\n");return h.writeFile(o,r).then(function(){return e.openFile(o)},function(e){p.onUnexpectedError(n.localize(2,null,o))})})}return i.TPromise.as(null)})},t.ID="workbench.action.openSnippets",t.LABEL=n.localize(0,null),t=g([v(2,m.IEnvironmentService),v(3,f.IQuickOpenService),v(4,b.IModeService),v(5,S.IWindowsService)],t)}(o.Action),w=n.localize(3,null),I=a.Registry.as(c.Extensions.WorkbenchActions);I.registerWorkbenchAction(new s.SyncActionDescriptor(C,C.ID,C.LABEL),"Preferences: Snippets",w),a.Registry.as(u.Extensions.Workbench).registerWorkbenchContribution(l.SnippetsTracker);var T="vscode://schemas/snippets",x={id:T,defaultSnippets:[{label:n.localize(4,null),body:{"${1:snippetName}":{prefix:"${2:prefix}",body:"${3:snippet}",description:"${4:description}"}}}],type:"object",description:n.localize(5,null),additionalProperties:{type:"object",required:["prefix","body"],properties:{prefix:{description:n.localize(6,null),type:"string"},body:{description:n.localize(7,null),type:["string","array"],items:{type:"string"}},description:{description:n.localize(8,null),type:"string"}},additionalProperties:!1}},A=a.Registry.as(y.Extensions.JSONContribution);A.registerSchema(T,x)}),define(l[1078],h([1,0,613,100,64,99,93,50,236]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(e){function t(t,n,i){void 0===i&&(i=[]),e.call(this,i),this.taskService=t,this.task=n}return d(t,e),t.prototype.getLabel=function(){return this.task.name},t.prototype.getAriaLabel=function(){return n.localize(0,null,this.getLabel())},t.prototype.run=function(e,t){return e!==o.Mode.PREVIEW&&(this.taskService.run(this.task.id),!0)},t}(s.QuickOpenEntry),l=function(e){function t(t,n){e.call(this),this.quickOpenService=t,this.taskService=n}return d(t,e),t.prototype.getAriaLabel=function(){return n.localize(1,null)},t.prototype.getResults=function(e){var t=this;return this.taskService.tasks().then(function(n){return n.sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(t){return{task:t,highlights:i.matchesContiguousSubString(e,t.name)}}).filter(function(e){var t=e.highlights;return!!t}).map(function(e){var n=e.task,i=e.highlights;return new u(t.taskService,n,i)})},function(e){return[]}).then(function(e){return new s.QuickOpenModel(e)})},t.prototype.getClass=function(){return null},t.prototype.canRun=function(){return!0},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!!e}},t.prototype.onClose=function(e){},t.prototype.getGroupLabel=function(){return null},t.prototype.getEmptyLabel=function(e){return e.length>0?n.localize(2,null):n.localize(3,null)},t=g([v(0,a.IQuickOpenService),v(1,c.ITaskService)],t)}(r.QuickOpenHandler);t.QuickOpenHandler=l}),define(l[261],h([1,0,6]),function(e,t,n){"use strict";t.ISCMService=n.createDecorator("scm")}),define(l[1080],h([1,0,40,5,20,17,2,73,261,57]),function(e,t,n,i,r,o,s,a,c,u){"use strict";var l=function(){function e(e,t,n,i){this.modelService=t,this.scmService=n,this.gitService=i,this.scmService.registerBaselineResourceProvider(this),e.registerTextModelContentProvider("git-index",this)}return e.prototype.getBaselineResource=function(e){return s.TPromise.as(e.with({scheme:"git-index"}))},e.prototype.provideTextContent=function(e){var t=this,n=this.modelService.createModel("",null,e),a=new o.Throttler,c=function(e){n.isDisposed()||n.setValue(e||"")},l=function(){var n=t.gitService.getModel(),i=n.getRepositoryRoot();if(!i)return s.TPromise.as(null);var o=e.fsPath,a=r.relative(i,o).replace(/\\/g,"/");if(/^\.\./.test(a))return s.TPromise.as(null);var l=n.getStatus().find(a,u.StatusType.INDEX)?"~":"HEAD";return t.gitService.buffer(o,l).then(c)},h=function(){t.gitService.getState()===u.ServiceState.OK&&a.queue(l)},d=[this.gitService.addListener2(u.ServiceEvents.STATE_CHANGED,h),this.gitService.addListener2(u.ServiceEvents.OPERATION_END,function(e){e.operation.id!==u.ServiceOperations.BACKGROUND_FETCH&&h()})];return n.onWillDispose(function(){return i.dispose(d)}),h(),s.TPromise.as(n)},e.prototype.getId=function(){return"git.contentprovider"},e=g([v(0,a.ITextModelResolverService),v(1,n.IModelService),v(2,c.ISCMService),v(3,u.IGitService)],e)}();t.GitContentProvider=l}),define(l[1081],h([1,0,17,5,2,10,173,47,6,18,26,73,22,40,159,41,261,821]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y){"use strict";var b=function(){function e(e,t,i,r,o,s,a,c){var u=this;this.model=e,this.uri=t,this.scmService=i,this.modelService=r,this.editorWorkerService=o,this.editorService=s,this.contextService=a,this.textModelResolverService=c,this.decorations=[],this.diffDelayer=new n.ThrottledDelayer(200),this.toDispose=[],this.triggerDiff(),this.toDispose.push(e.onDidChangeContent(function(){return u.triggerDiff()}))}return e.prototype.triggerDiff=function(){var t=this;return this.diffDelayer?this.diffDelayer.trigger(function(){return t.diff()}).then(function(n){if(t.model&&!t.model.isDisposed()&&t.baselineModel&&!t.baselineModel.isDisposed())return 0===t.baselineModel.getValueLength()&&(n=[]),t.decorations=t.model.deltaDecorations(t.decorations,e.changesToDecorations(n||[]))}):r.TPromise.as(null)},e.prototype.diff=function(){var e=this;return this.getOriginalURIPromise().then(function(t){return e.model&&!e.model.isDisposed()&&t?e.editorWorkerService.computeDirtyDiff(t,e.model.uri,!0):r.TPromise.as([])})},e.prototype.getOriginalURIPromise=function(){var e=this;return this._originalURIPromise?this._originalURIPromise:(this._originalURIPromise=this.scmService.getBaselineResource(this.uri).then(function(t){return e.textModelResolverService.createModelReference(t).then(function(n){return e.baselineModel=n.object.textEditorModel,e.toDispose.push(n),e.toDispose.push(n.object.textEditorModel.onDidChangeContent(function(){return e.triggerDiff()})),t},function(e){return null})}),n.always(this._originalURIPromise,function(){e._originalURIPromise=null}))},e.changesToDecorations=function(t){return t.map(function(t){var n=t.modifiedStartLineNumber,i=t.modifiedEndLineNumber||n;return 0===t.originalEndLineNumber?{range:{startLineNumber:n,startColumn:1,endLineNumber:i,endColumn:1},options:e.ADDED_DECORATION_OPTIONS}:0===t.modifiedEndLineNumber?{range:{startLineNumber:n,startColumn:1,endLineNumber:n,endColumn:1},options:e.DELETED_DECORATION_OPTIONS}:{range:{startLineNumber:n,startColumn:1,endLineNumber:i,endColumn:1},options:e.MODIFIED_DECORATION_OPTIONS}})},e.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose),this.model&&!this.model.isDisposed()&&this.model.deltaDecorations(this.decorations,[]),this.model=null,this.baselineModel=null,this.decorations=null,this.diffDelayer&&(this.diffDelayer.cancel(),this.diffDelayer=null)},e.MODIFIED_DECORATION_OPTIONS={linesDecorationsClassName:"dirty-diff-modified-glyph",isWholeLine:!0,overviewRuler:{color:"rgba(0, 122, 204, 0.6)",darkColor:"rgba(0, 122, 204, 0.6)",position:o.OverviewRulerLane.Left}},e.ADDED_DECORATION_OPTIONS={linesDecorationsClassName:"dirty-diff-added-glyph",isWholeLine:!0,overviewRuler:{color:"rgba(0, 122, 204, 0.6)",darkColor:"rgba(0, 122, 204, 0.6)",position:o.OverviewRulerLane.Left}},e.DELETED_DECORATION_OPTIONS={linesDecorationsClassName:"dirty-diff-deleted-glyph",isWholeLine:!0,overviewRuler:{color:"rgba(0, 122, 204, 0.6)",darkColor:"rgba(0, 122, 204, 0.6)",position:o.OverviewRulerLane.Left}},e=g([v(2,y.ISCMService),v(3,p.IModelService),v(4,f.IEditorWorkerService),v(5,d.IWorkbenchEditorService),v(6,l.IWorkspaceContextService),v(7,h.ITextModelResolverService)],e)}(),S=function(){function e(e,t,n,i,r,o){var s=this;this.messageService=e,this.editorService=t,this.eventService=i,this.contextService=r,this.instantiationService=o,this.models=[],this.decorators=Object.create(null),this.toDispose=[],this.toDispose.push(n.onEditorsChanged(function(){return s.onEditorsChanged()}))}return e.prototype.getId=function(){return"git.DirtyDiffModelDecorator"},e.prototype.onEditorsChanged=function(){var e=this,t=this.editorService.getVisibleEditors().map(function(e){return e.getControl()}).filter(function(e){return e instanceof s.CodeEditor}).map(function(e){return e.getModel()}).filter(function(e,t,n){return!!e&&!!e.uri&&n.indexOf(e,t+1)===-1}).map(function(e){return{model:e,uri:e.uri}}),n=t.filter(function(t){return e.models.every(function(e){return t.model!==e})}),i=this.models.filter(function(e){return t.every(function(t){return t.model!==e})});n.forEach(function(t){var n=t.model,i=t.uri;return e.onModelVisible(n,i)}),i.forEach(function(t){return e.onModelInvisible(t)}),this.models=t.map(function(e){return e.model})},e.prototype.onModelVisible=function(e,t){this.decorators[e.id]=this.instantiationService.createInstance(b,e,t)},e.prototype.onModelInvisible=function(e){this.decorators[e.id].dispose(),delete this.decorators[e.id]},e.prototype.dispose=function(){var e=this;this.toDispose=i.dispose(this.toDispose),this.models.forEach(function(t){return e.decorators[t.id].dispose()}),this.models=null,this.decorators=null},e=g([v(0,u.IMessageService),v(1,d.IWorkbenchEditorService),v(2,m.IEditorGroupService),v(3,a.IEventService),v(4,l.IWorkspaceContextService),v(5,c.IInstantiationService)],e)}();t.DirtyDiffDecorator=S}),define(l[1082],h([1,0,14,71,1081]),function(e,t,n,i,r){"use strict";n.Registry.as(i.Extensions.Workbench).registerWorkbenchContribution(r.DirtyDiffDecorator)}),define(l[1083],h([1,0,2,5]),function(e,t,n,i){"use strict";var r=function(){function e(){this.providers=[]}return e.prototype.getBaselineResource=function(e){var t=this.providers.map(function(t){return t.getBaselineResource(e)});return n.TPromise.join(t).then(function(e){return e.filter(function(e){return!!e})[0]})},e.prototype.registerBaselineResourceProvider=function(e){var t=this;return this.providers=[e].concat(this.providers),i.toDisposable(function(){var n=t.providers.indexOf(e);n<0||t.providers.splice(n,1)})},e}();t.SCMService=r}),define(l[1084],h([1,0]),function(e,t){"use strict";var n=function(){function e(e){this.service=e}return e.prototype.call=function(e,t){switch(e){case"fileSearch":return this.service.fileSearch(t);case"textSearch":return this.service.textSearch(t);case"clearCache":return this.service.clearCache(t)}},e}();t.SearchChannel=n;var i=function(){function e(e){this.channel=e}return e.prototype.fileSearch=function(e){return this.channel.call("fileSearch",e)},e.prototype.textSearch=function(e){return this.channel.call("textSearch",e)},e.prototype.clearCache=function(e){return this.channel.call("clearCache",e)},e}();t.SearchChannelClient=i}),define(l[1085],h([1,0,21,7,12,38,26]),function(e,t,n,i,r,o,s){"use strict";var a=function(){function e(e,t,i){var r=i.getWorkspace();this.globalStorage=e,this.workspaceStorage=t||e,this.workspaceKey=this.getWorkspaceKey(r);var o=r?r.uid:void 0;n.isNumber(o)&&this.cleanupWorkspaceScope(o,r.name)}return e.prototype.getWorkspaceKey=function(t){var n=null;return t&&t.resource&&(n=t.resource.toString()),n?this.calculateWorkspaceKey(n):e.NO_WORKSPACE_IDENTIFIER},e.prototype.calculateWorkspaceKey=function(e){var t="file:///",n=e.indexOf(t);return 0===n?r.rtrim(e.substr(t.length),"/")+"/":e},e.prototype.cleanupWorkspaceScope=function(t,i){var r=this,s=this.getInteger(e.WORKSPACE_IDENTIFIER,o.StorageScope.WORKSPACE);if(n.isNumber(s)&&t!==s){for(var a=this.toStorageKey("",o.StorageScope.WORKSPACE),c=[],u=this.workspaceStorage.length,l=0;l<u;l++){var h=this.workspaceStorage.key(l);h.indexOf(e.WORKSPACE_PREFIX)<0||0===h.indexOf(a)&&c.push(h)}c.length>0&&console.warn("Clearing previous version of local storage for workspace ",i),c.forEach(function(e){r.workspaceStorage.removeItem(e)})}t!==s&&this.store(e.WORKSPACE_IDENTIFIER,t,o.StorageScope.WORKSPACE)},e.prototype.clear=function(){this.globalStorage.clear(),this.workspaceStorage.clear()},e.prototype.store=function(e,t,r){void 0===r&&(r=o.StorageScope.GLOBAL);var s=r===o.StorageScope.GLOBAL?this.globalStorage:this.workspaceStorage;if(n.isUndefinedOrNull(t))return void this.remove(e,r);var a=this.toStorageKey(e,r);try{s.setItem(a,t)}catch(e){i.onUnexpectedError(e)}},e.prototype.get=function(e,t,i){void 0===t&&(t=o.StorageScope.GLOBAL);var r=t===o.StorageScope.GLOBAL?this.globalStorage:this.workspaceStorage,s=r.getItem(this.toStorageKey(e,t));return n.isUndefinedOrNull(s)?i:s},e.prototype.remove=function(e,t){void 0===t&&(t=o.StorageScope.GLOBAL);var n=t===o.StorageScope.GLOBAL?this.globalStorage:this.workspaceStorage,i=this.toStorageKey(e,t);n.removeItem(i)},e.prototype.swap=function(e,t,i,r,s){void 0===r&&(r=o.StorageScope.GLOBAL);var a=this.get(e,r);n.isUndefinedOrNull(a)&&s?this.store(e,s,r):a===t.toString()?this.store(e,i,r):this.store(e,t,r)},e.prototype.getInteger=function(e,t,i){void 0===t&&(t=o.StorageScope.GLOBAL);var r=this.get(e,t,i);return n.isUndefinedOrNull(r)?i:parseInt(r,10)},e.prototype.getBoolean=function(e,t,i){void 0===t&&(t=o.StorageScope.GLOBAL);var r=this.get(e,t,i);return n.isUndefinedOrNull(r)?i:n.isString(r)?"true"===r.toLowerCase():!!r},e.prototype.toStorageKey=function(t,n){return n===o.StorageScope.GLOBAL?e.GLOBAL_PREFIX+t.toLowerCase():e.WORKSPACE_PREFIX+this.workspaceKey+t.toLowerCase()},e.COMMON_PREFIX="storage://",e.GLOBAL_PREFIX=e.COMMON_PREFIX+"global/",e.WORKSPACE_PREFIX=e.COMMON_PREFIX+"workspace/",e.WORKSPACE_IDENTIFIER="workspaceIdentifier",e.NO_WORKSPACE_IDENTIFIER="__$noWorkspace__",e=g([v(2,s.IWorkspaceContextService)],e)}();t.StorageService=a;var c=function(){function e(){this.store={}}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.store).length},enumerable:!0,configurable:!0}),e.prototype.key=function(e){var t=Object.keys(this.store);return t.length>e?t[e]:null},e.prototype.clear=function(){this.store={}},e.prototype.setItem=function(e,t){this.store[e]=t.toString()},e.prototype.getItem=function(e){var t=this.store[e];return n.isUndefinedOrNull(t)?null:t},e.prototype.removeItem=function(e){delete this.store[e]},e}();t.InMemoryLocalStorage=c,t.inMemoryLocalStorageInstance=new c}),define(l[1086],h([1,0,2,7,16,156,33,61,19,26]),function(e,t,n,i,r,o,s,a,c,u){"use strict";var l=/^([^@:]+@)?([^:]+):/,h=/([^@:.]+\.[^@:.]+)(:\d+)?$/,d=/^\s*url\s*=\s*(.+\S)\s*$/gm,p=/[^.]/g,f=["github.com","bitbucket.org","visualstudio.com","gitlab.com","heroku.com","azurewebsites.net","ibm.com","amazon.com","amazonaws.com","cloudapp.net","rhcloud.com","google.com"],m=function(){function e(e,t,n){this.fileService=e,this.contextService=t,this.telemetryService=n}return e.prototype.searchArray=function(e,t){return e.some(function(e){return e.search(t)>-1})||void 0},e.prototype.getWorkspaceTags=function(e){var t=this,r=Object.create(null),o=e.filesToOpen,s=e.filesToCreate,c=e.filesToDiff;r["workbench.filesToOpen"]=o&&o.length||void 0,r["workbench.filesToCreate"]=s&&s.length||void 0,r["workbench.filesToDiff"]=c&&c.length||void 0;var u=this.contextService.getWorkspace();r["workspace.empty"]=!u;var l=u?u.resource:"stable"!==a.default.quality&&this.findFolder(e);return l&&this.fileService?this.fileService.resolveFile(l).then(function(e){var n=(e.children||[]).map(function(e){return e.name});r["workspace.language.cs"]=t.searchArray(n,/^.+\.cs$/i),r["workspace.language.js"]=t.searchArray(n,/^.+\.js$/i),r["workspace.language.ts"]=t.searchArray(n,/^.+\.ts$/i),r["workspace.language.php"]=t.searchArray(n,/^.+\.php$/i),r["workspace.language.python"]=t.searchArray(n,/^.+\.py$/i),r["workspace.language.vb"]=t.searchArray(n,/^.+\.vb$/i),r["workspace.language.aspx"]=t.searchArray(n,/^.+\.aspx$/i),r["workspace.grunt"]=t.searchArray(n,/^gruntfile\.js$/i),r["workspace.gulp"]=t.searchArray(n,/^gulpfile\.js$/i),r["workspace.jake"]=t.searchArray(n,/^jakefile\.js$/i),r["workspace.tsconfig"]=t.searchArray(n,/^tsconfig\.json$/i),r["workspace.jsconfig"]=t.searchArray(n,/^jsconfig\.json$/i),r["workspace.config.xml"]=t.searchArray(n,/^config\.xml/i),r["workspace.vsc.extension"]=t.searchArray(n,/^vsc-extension-quickstart\.md/i),r["workspace.ASP5"]=t.searchArray(n,/^project\.json$/i)&&r["workspace.language.cs"],r["workspace.sln"]=t.searchArray(n,/^.+\.sln$|^.+\.csproj$/i),r["workspace.unity"]=t.searchArray(n,/^Assets$/i)&&t.searchArray(n,/^Library$/i)&&t.searchArray(n,/^ProjectSettings/i),r["workspace.npm"]=t.searchArray(n,/^package\.json$|^node_modules$/i),r["workspace.bower"]=t.searchArray(n,/^bower\.json$|^bower_components$/i),r["workspace.yeoman.code"]=t.searchArray(n,/^vscodequickstart\.md$/i),r["workspace.yeoman.code.ext"]=t.searchArray(n,/^vsc-extension-quickstart\.md$/i);var i=t.searchArray(n,/^MainActivity\.cs$/i)||t.searchArray(n,/^MainActivity\.fs$/i),o=t.searchArray(n,/^AppDelegate\.cs$/i)||t.searchArray(n,/^AppDelegate\.fs$/i),s=t.searchArray(n,/^AndroidManifest\.xml$/i),a=t.searchArray(n,/^platforms$/i),c=t.searchArray(n,/^plugins$/i),u=t.searchArray(n,/^www$/i),l=t.searchArray(n,/^Properties/i),h=t.searchArray(n,/^Resources/i),d=t.searchArray(n,/^JNI/i);return!r["workspace.config.xml"]||r["workspace.language.cs"]||r["workspace.language.vb"]||r["workspace.language.aspx"]||(a&&c&&u?r["workspace.cordova.high"]=!0:r["workspace.cordova.low"]=!0),i&&l&&h&&(r["workspace.xamarin.android"]=!0),o&&h&&(r["workspace.xamarin.ios"]=!0),s&&d&&(r["workspace.android.cpp"]=!0),r["workspace.reactNative"]=t.searchArray(n,/^android$/i)&&t.searchArray(n,/^ios$/i)&&t.searchArray(n,/^index\.android\.js$/i)&&t.searchArray(n,/^index\.ios\.js$/i),r},function(e){return i.onUnexpectedError(e),null}):n.TPromise.as(r)},e.prototype.findFolder=function(e){var t=e.filesToOpen,n=e.filesToCreate,i=e.filesToDiff;return t&&t.length?this.parentURI(t[0].resource):n&&n.length?this.parentURI(n[0].resource):i&&i.length?this.parentURI(i[0].resource):void 0},e.prototype.parentURI=function(e){var t=e.path,n=t.lastIndexOf("/");return n!==-1?e.with({path:t.substr(0,n)}):void 0},e.prototype.reportWorkspaceTags=function(e){var t=this;this.getWorkspaceTags(e).then(function(e){t.telemetryService.publicLog("workspce.tags",e)},function(e){return i.onUnexpectedError(e)})},e.prototype.stripLowLevelDomains=function(e){var t=e.match(h);return t?t[1]:null},e.prototype.extractDomain=function(e){if(e.indexOf("://")===-1){var t=e.match(l);if(t)return this.stripLowLevelDomains(t[2])}try{var n=r.default.parse(e);if(n.authority)return this.stripLowLevelDomains(n.authority)}catch(e){}return null},e.prototype.getDomainsOfRemotes=function(e,t){for(var n,i=new o.ArraySet;n=d.exec(e);){var r=this.extractDomain(n[1]);r&&i.set(r)}var s=t.reduce(function(e,t){return e[t]=!0,e},Object.create(null));return i.elements.map(function(e){return s[e]?e:e.replace(p,"a")})},e.prototype.reportRemotes=function(e){var t=this,n=e.with({path:e.path+"/.git/config"});this.fileService.resolveContent(n,{acceptTextOnly:!0}).then(function(e){var n=t.getDomainsOfRemotes(e.value,f);t.telemetryService.publicLog("workspace.remotes",{domains:n})},function(e){}).then(null,i.onUnexpectedError)},e.prototype.reportAzureNode=function(e,t){var n=this,i=e.with({path:e.path+"/node_modules"});return this.fileService.resolveFile(i).then(function(e){var i=(e.children||[]).map(function(e){return e.name}),r=n.searchArray(i,/azure/i);return r&&(t.node=!0),t},function(e){return t})},e.prototype.reportAzureJava=function(e,t){var n=e.with({path:e.path+"/pom.xml"});return this.fileService.resolveContent(n,{acceptTextOnly:!0}).then(function(e){var n=null!==e.value.match(/azure/i);return n&&(t.java=!0),t},function(e){return t})},e.prototype.reportAzure=function(e){var t=this,n=Object.create(null);this.reportAzureNode(e,n).then(function(n){return t.reportAzureJava(e,n)}).then(function(e){Object.keys(e).length&&t.telemetryService.publicLog("workspace.azure",e)}).then(null,i.onUnexpectedError)},e.prototype.reportCloudStats=function(){var e=this.contextService.getWorkspace(),t=e?e.resource:null;t&&this.fileService&&(this.reportRemotes(t),this.reportAzure(t))},e=g([v(0,s.IFileService),v(1,u.IWorkspaceContextService),v(2,c.ITelemetryService)],e)}();t.WorkspaceStats=m}),define(l[55],h([1,0,6,109]),function(e,t,n,i){"use strict";!function(e){e[e.SAVED=0]="SAVED",e[e.DIRTY=1]="DIRTY",e[e.PENDING_SAVE=2]="PENDING_SAVE",e[e.CONFLICT=3]="CONFLICT",e[e.ERROR=4]="ERROR"}(t.ModelState||(t.ModelState={}));var r=(t.ModelState,function(e){function t(t,n,i){e.call(this,null,t,n,i)}return d(t,e),t.prototype.getBefore=function(){return this.oldValue},t.prototype.getAfter=function(){return this.newValue},t.prototype.gotAdded=function(){return!this.oldValue&&!!this.newValue},t.prototype.gotMoved=function(){return!!this.oldValue&&!!this.newValue&&this.oldValue.resource.toString()!==this.newValue.resource.toString()},t.prototype.gotUpdated=function(){return!!this.oldValue&&!!this.newValue&&!this.gotMoved()&&this.oldValue!==this.newValue},t.prototype.gotDeleted=function(){return!!this.oldValue&&!this.newValue},t}(i.PropertyChangeEvent));t.LocalFileChangeEvent=r,function(e){e[e.DIRTY=0]="DIRTY",e[e.SAVING=1]="SAVING",e[e.SAVE_ERROR=2]="SAVE_ERROR",e[e.SAVED=3]="SAVED",e[e.REVERTED=4]="REVERTED",e[e.ENCODING=5]="ENCODING",e[e.CONTENT_CHANGE=6]="CONTENT_CHANGE"}(t.StateChange||(t.StateChange={}));var o=(t.StateChange,function(){function e(e,t){this._resource=e.getResource(),this._kind=t}return Object.defineProperty(e.prototype,"resource",{get:function(){return this._resource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kind",{get:function(){return this._kind},enumerable:!0,configurable:!0}),e}());t.TextFileModelChangeEvent=o,t.TEXT_FILE_SERVICE_ID="textFileService",function(e){e[e.OFF=0]="OFF",e[e.AFTER_SHORT_DELAY=1]="AFTER_SHORT_DELAY",e[e.AFTER_LONG_DELAY=2]="AFTER_LONG_DELAY",e[e.ON_FOCUS_CHANGE=3]="ON_FOCUS_CHANGE",e[e.ON_WINDOW_CHANGE=4]="ON_WINDOW_CHANGE"}(t.AutoSaveMode||(t.AutoSaveMode={}));t.AutoSaveMode;!function(e){e[e.EXPLICIT=1]="EXPLICIT",e[e.AUTO=2]="AUTO",e[e.FOCUS_CHANGE=3]="FOCUS_CHANGE",e[e.WINDOW_CHANGE=4]="WINDOW_CHANGE"}(t.SaveReason||(t.SaveReason={}));t.SaveReason;t.ITextFileService=n.createDecorator(t.TEXT_FILE_SERVICE_ID)}),define(l[367],h([1,0,2,476,48,29,12,100,8,95,21,24,243,99,93,1155,68,81,20,55,14,54,138,40,28,256,11,45,64,7,22,50,25,6,18,19,26,23,186,746]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P,R,O,M,N,F,W,V,B,H){"use strict";var z="?",U=new B.RawContextKey("inQuickOpen",(!1)),G=function(e){function t(n,i,r,o,s,a,c,u,l){e.call(this,t.ID),this.editorService=n,this.messageService=i,this.telemetryService=r,this.contextService=o,this.configurationService=a,this.historyService=c,this.instantiationService=u,this.partService=l,this.actionProvider=new b.ContributableActionProvider,this.previousValue="",this.mapResolvedHandlersToPrefix={},this.handlerOnOpenCalled={},this.promisesToCompleteOnHide=[],this.inQuickOpenMode=U.bindTo(s),this._onShow=new D.Emitter,this._onHide=new D.Emitter,this.updateConfiguration(this.configurationService.getConfiguration()),this.registerListeners()}return d(t,e),t.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.updateConfiguration(t.config)})),this.toUnbind.push(this.partService.onTitleBarVisibilityChange(function(){return e.positionQuickOpenWidget()})),this.toUnbind.push(r.onDidChangeZoomLevel(function(){return e.positionQuickOpenWidget()}))},t.prototype.updateConfiguration=function(e){this.closeOnFocusLost=e.workbench.quickOpen.closeOnFocusLost},Object.defineProperty(t.prototype,"onShow",{get:function(){return this._onShow.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onHide",{get:function(){return this._onHide.event},enumerable:!0,configurable:!0}),t.prototype.quickNavigate=function(e,t){this.quickOpenWidget&&this.quickOpenWidget.quickNavigate(e,t)},t.prototype.input=function(e,t){var r=this;void 0===e&&(e={}),void 0===t&&(t=p.CancellationToken.None),this.pickOpenWidget&&this.pickOpenWidget.isVisible()&&this.pickOpenWidget.hide(y.HideReason.CANCELED);var o,s,a=e.prompt?i.localize(0,null,e.prompt):i.localize(1,null),c=a,u=n.TPromise.as(!0),l=function(i,h){r.doPick(n.TPromise.as([{
label:c}]),{ignoreFocusLost:e.ignoreFocusLost,autoFocus:{autoFocusFirstEntry:!0},password:e.password,placeHolder:e.placeHolder,value:void 0===s?e.value:s,valueSelect:void 0===s,inputDecoration:o,onDidType:function(t){s=t,e.validateInput&&(u&&u.cancel(),u=n.TPromise.timeout(100).then(function(){return e.validateInput(t).then(function(e){o=e?F.Severity.Error:void 0;var t=e||a;return t!==c&&(c=t,i(new n.TPromise(l))),!e})},function(e){}))}},t).then(i,h)};return new n.TPromise(l).then(function(t){return u.then(function(n){if(n&&t)return s||e.value||""})})},t.prototype.pick=function(e,t,i){var r=this;t||(t=Object.create(null));var o;if(Array.isArray(e))o=n.TPromise.as(e);else{if(!n.TPromise.is(e))throw new Error("illegal input");o=e}var s=!1,a=o.then(function(e){return e.map(function(e){return"string"==typeof e?(s=!0,{label:e}):e})});return this.pickOpenWidget&&this.pickOpenWidget.isVisible()&&this.pickOpenWidget.hide(y.HideReason.CANCELED),new n.TPromise(function(e,n,o){function c(e){return e&&s?e.label:e}r.doPick(a,t,i).then(function(t){return e(c(t))},function(e){return n(e)},function(e){return o(c(e))})})},t.prototype.doPick=function(e,t,r){var h=this;void 0===r&&(r=p.CancellationToken.None);var d=t.autoFocus,f=u.generateUuid();if(this.currentPickerToken=f,this.pickOpenWidget)this.pickOpenWidget.setPlaceHolder(t.placeHolder||"");else{this.pickOpenWidget=new y.QuickOpenWidget(o.withElementById(this.partService.getWorkbenchElementId()).getHTMLElement(),{onOk:function(){},onCancel:function(){},onType:function(e){},onShow:function(){return h.handleOnShow(!0)},onHide:function(e){return h.handleOnHide(!0,e)}},{inputPlaceHolder:t.placeHolder||""},this.telemetryService);var g=this.pickOpenWidget.create();c.addClass(g,"show-file-icons"),this.positionQuickOpenWidget()}t.value&&this.pickOpenWidget.setValue(t.value,t.valueSelect),this.pickOpenWidget.setPassword(t.password),l.isUndefinedOrNull(t.inputDecoration)?this.pickOpenWidget.clearInputDecoration():this.pickOpenWidget.showInputDecoration(t.inputDecoration),this.layoutDimensions&&this.pickOpenWidget.layout(this.layoutDimensions);var v=!1;return this.pickOpenWidget.setCallbacks({onOk:function(){},onCancel:function(){v=!0},onType:function(e){}}),new n.TPromise(function(o,c,u){r.onCancellationRequested(function(e){h.currentPickerToken===f&&h.pickOpenWidget.hide(y.HideReason.CANCELED)});var l=!1;e.then(function(e){if(h.currentPickerToken!==f||v)return o(void 0);l=!0,h.pickOpenWidget.getProgressBar().stop().getContainer().hide();var n=new m.QuickOpenModel,r=e.map(function(e){return h.instantiationService.createInstance(j,e,function(){return u(e)})});0===e.length&&r.push(h.instantiationService.createInstance(j,{label:i.localize(2,null)},null)),n.setEntries(r);var c={onOk:function(){if(0===e.length)return o(null);var t,n=-1;r.forEach(function(e,i){e.shouldRunWithContext&&(n=i,t=e.shouldRunWithContext)});var i=e[n];i&&"function"==typeof i.run&&i.run(t),o(i||null)},onCancel:function(){return o(void 0)},onFocusLost:function(){return!h.closeOnFocusLost||t.ignoreFocusLost},onType:function(i){return t.onDidType?void t.onDidType(i):void(0!==e.length&&(i=i?s.trim(i):i,i?r.forEach(function(e){var n=a.matchesFuzzy(i,e.getLabel()),r=t.matchOnDescription&&a.matchesFuzzy(i,e.getDescription()),o=t.matchOnDetail&&e.getDetail()&&a.matchesFuzzy(i,e.getDetail());e.shouldAlwaysShow()||n||r||o?(e.setHighlights(n,r,o),e.setHidden(!1)):(e.setHighlights(null,null,null),e.setHidden(!0))}):r.forEach(function(e){e.setHighlights(null),e.setHidden(!1)}),h.pickOpenWidget.refresh(n,i?{autoFocusFirstEntry:!0}:d)))},onShow:function(){return h.handleOnShow(!0)},onHide:function(e){return h.handleOnHide(!0,e)}};h.pickOpenWidget.setCallbacks(c),h.pickOpenWidget.isVisible()?h.pickOpenWidget.setInput(n,d):h.pickOpenWidget.show(n,{autoFocus:d});var p=h.pickOpenWidget.getInputBox().value;p&&c.onType(p)},function(e){h.pickOpenWidget.hide(),c(e)}),n.TPromise.timeout(800).then(function(){l||h.currentPickerToken!==f||h.pickOpenWidget.getProgressBar().infinite().getContainer().show()}),l||h.pickOpenWidget.show(new m.QuickOpenModel)})},t.prototype.accept=function(){[this.quickOpenWidget,this.pickOpenWidget].forEach(function(e){e&&e.isVisible()&&e.accept()})},t.prototype.focus=function(){[this.quickOpenWidget,this.pickOpenWidget].forEach(function(e){e&&e.isVisible()&&e.focus()})},t.prototype.close=function(){[this.quickOpenWidget,this.pickOpenWidget].forEach(function(e){e&&e.isVisible()&&e.hide(y.HideReason.CANCELED)})},t.prototype.emitQuickOpenVisibilityChange=function(e){var t=this;this.visibilityChangeTimeoutHandle&&window.clearTimeout(this.visibilityChangeTimeoutHandle),this.visibilityChangeTimeoutHandle=setTimeout(function(){e?t._onShow.fire():t._onHide.fire(),t.visibilityChangeTimeoutHandle=void 0},100)},t.prototype.show=function(e,t){var r=this,s=t?t.quickNavigateConfiguration:void 0;this.previousValue=e;var a=new n.TPromise(function(e){r.promisesToCompleteOnHide.push(e)}),u=C.Registry.as(k.Extensions.Quickopen),l=u.getQuickOpenHandler(e)||u.getDefaultQuickOpenHandler();if(this.telemetryService.publicLog("quickOpenWidgetShown",{mode:l.getId(),quickNavigate:s}),this.resolveHandler(l).done(null,P.onUnexpectedError),!this.quickOpenWidget){this.quickOpenWidget=new y.QuickOpenWidget(o.withElementById(this.partService.getWorkbenchElementId()).getHTMLElement(),{onOk:function(){},onCancel:function(){},onType:function(e){return r.onType(e||"")},onShow:function(){return r.handleOnShow(!1)},onHide:function(e){return r.handleOnHide(!1,e)},onFocusLost:function(){return!r.closeOnFocusLost}},{inputPlaceHolder:this.hasHandler(z)?i.localize(3,null):""},this.telemetryService);var h=this.quickOpenWidget.create();c.addClass(h,"show-file-icons"),this.positionQuickOpenWidget()}if(this.layoutDimensions&&this.quickOpenWidget.layout(this.layoutDimensions),!this.quickOpenWidget.isVisible()||s)if(e)this.quickOpenWidget.show(e,{quickNavigateConfiguration:s});else{var d=this.getEditorHistoryWithGroupLabel();d.getEntries().length<2&&(s=null);var p=void 0;if(s){var f=this.editorService.getVisibleEditors().length;p={autoFocusFirstEntry:0===f,autoFocusSecondEntry:0!==f}}else p={autoFocusFirstEntry:!0};this.quickOpenWidget.show(d,{quickNavigateConfiguration:s,autoFocus:p})}else this.quickOpenWidget.show(e||"");return a},t.prototype.positionQuickOpenWidget=function(){var e=this.partService.getTitleBarOffset();this.quickOpenWidget&&this.quickOpenWidget.getElement().style("top",e+"px"),this.pickOpenWidget&&this.pickOpenWidget.getElement().style("top",e+"px")},t.prototype.handleOnShow=function(e){e&&this.quickOpenWidget?this.quickOpenWidget.hide(y.HideReason.FOCUS_LOST):!e&&this.pickOpenWidget&&this.pickOpenWidget.hide(y.HideReason.FOCUS_LOST),this.inQuickOpenMode.set(!0),this.emitQuickOpenVisibilityChange(!0)},t.prototype.handleOnHide=function(e,t){var n=this;if(!e){this.previousActiveHandlerDescriptor=null;var i=function(e){if(r.mapResolvedHandlersToPrefix.hasOwnProperty(e)){var i=r.mapResolvedHandlersToPrefix[e];i.then(function(i){n.handlerOnOpenCalled[e]=!1,i.onClose(t===y.HideReason.CANCELED)})}},r=this;for(var o in this.mapResolvedHandlersToPrefix)i(o);for(;this.promisesToCompleteOnHide.length;)this.promisesToCompleteOnHide.pop()(!0)}t!==y.HideReason.FOCUS_LOST&&this.restoreFocus(),this.inQuickOpenMode.reset(),this.emitQuickOpenVisibilityChange(!1)},t.prototype.hasHandler=function(e){return!!C.Registry.as(k.Extensions.Quickopen).getQuickOpenHandler(e)},t.prototype.getEditorHistoryWithGroupLabel=function(){var e=this.getEditorHistoryEntries();return e.length>0&&(e[0]=new q(e[0],i.localize(4,null),(!1))),new m.QuickOpenModel(e,this.actionProvider)},t.prototype.restoreFocus=function(){var e=this.editorService.getActiveEditor();e&&e.focus()},t.prototype.onType=function(e){var t=this;this.previousValue=e;var i=C.Registry.as(k.Extensions.Quickopen),r=i.getQuickOpenHandler(e),o=i.getDefaultQuickOpenHandler(),a=r&&r.instantProgress,c=u.generateUuid();this.currentResultToken=c,a||this.quickOpenWidget.getProgressBar().stop().getContainer().hide(),this.quickOpenWidget.setExtraClass(null);var h=s.trim(e);if(!h)return this.resolveHandler(r||o).done(null,P.onUnexpectedError),void this.quickOpenWidget.setInput(this.getEditorHistoryWithGroupLabel(),{autoFocusFirstEntry:!0});var d,p=!1;d=r?this.handleSpecificHandler(r,e,c):this.handleDefaultHandler(o,e,c),this.previousActiveHandlerDescriptor=r,n.TPromise.timeout(a?0:800).then(function(){p||c!==t.currentResultToken||t.quickOpenWidget.getProgressBar().infinite().getContainer().show()}),d.done(function(){p=!0,c===t.currentResultToken&&t.quickOpenWidget.getProgressBar().getContainer().hide()},function(e){p=!0,P.onUnexpectedError(e),t.messageService.show(F.Severity.Error,l.isString(e)?new Error(e):e)})},t.prototype.handleDefaultHandler=function(e,r,o){var s=this,a=this.getEditorHistoryEntries(r);return a.length>0&&(a[0]=new q(a[0],i.localize(5,null),(!1))),this.resolveHandler(e).then(function(e){var i=new m.QuickOpenModel(a,s.actionProvider),c=!1,u=s.quickOpenWidget.getInput(),l=u&&u.entries&&u.entries.some(function(e){return e instanceof $||e instanceof q});return(l||a.length>0)&&(e.hasShortResponseTime()?n.TPromise.timeout(t.MAX_SHORT_RESPONSE_TIME):n.TPromise.as(void 0)).then(function(){s.currentResultToken!==o||c||(s.quickOpenWidget.setInput(i,{autoFocusFirstEntry:!0}),c=!0)}),e.getResults(r).then(function(t){if(s.currentResultToken===o){c||(s.quickOpenWidget.setInput(i,{autoFocusFirstEntry:!0}),c=!0);var n=t&&t.entries||[];s.mergeResults(i,n,e.getGroupLabel())}})})},t.prototype.getEditorHistoryEntries=function(e){var t=this;e&&(e=e.replace(/ /g,""));var n=this.historyService.getHistory();if(!e)return n.map(function(e){return t.instantiationService.createInstance($,e)});var i=e.indexOf(E.nativeSep)>=0,r=[];return n.forEach(function(n){var o;if(o=n instanceof x.EditorInput?x.getUntitledOrFileResource(n):n.resource){var s;if(s=i?S.getPathLabel(o,t.contextService):n instanceof x.EditorInput?n.getName():E.basename(n.resource.fsPath),a.matchesFuzzy(e,s)){var c=t.instantiationService.createInstance($,n),u=m.QuickOpenEntry.highlight(c,e),l=u.labelHighlights,h=u.descriptionHighlights;c.setHighlights(l,h),r.push(c)}}}),r.sort(function(t,n){return m.QuickOpenEntry.compare(t,n,e)})},t.prototype.mergeResults=function(e,t,n){for(var r=this.mapEntriesToResource(e),o=[],s=0;s<t.length;s++){var a=t[s],c=a.getResource();a.isFile()&&c&&r[c.toString()]||o.push(a)}if(o.length>0){var u=e.getEntries().length>0;o[0]=new m.QuickOpenEntryGroup(o[0],n,u),e.addEntries(o),this.quickOpenWidget.refresh(e,{autoFocusFirstEntry:!0})}else 0===e.getEntries().length&&(e.addEntries([new K(i.localize(6,null))]),this.quickOpenWidget.refresh(e,{autoFocusFirstEntry:!0}))},t.prototype.handleSpecificHandler=function(e,t,r){var o=this;return this.resolveHandler(e).then(function(s){t=t.substr(e.prefix.length);var a=s.canRun();if(l.isUndefinedOrNull(a)||"boolean"==typeof a&&!a||"string"==typeof a){var c="string"==typeof a?a:i.localize(7,null),u=new m.QuickOpenModel([new K(c)],o.actionProvider);return o.showModel(u,s.getAutoFocus(t,o.quickOpenWidget.getQuickNavigateConfiguration()),s.getAriaLabel()),n.TPromise.as(null)}var h=s.getClass();return h&&o.quickOpenWidget.setExtraClass(h),o.previousActiveHandlerDescriptor!==e&&o.clearModel(),s.getResults(t).then(function(e){if(o.currentResultToken===r)if(e&&e.entries.length)o.showModel(e,s.getAutoFocus(t,o.quickOpenWidget.getQuickNavigateConfiguration()),s.getAriaLabel());else{var n=new m.QuickOpenModel([new K(s.getEmptyLabel(t))]);o.showModel(n,s.getAutoFocus(t,o.quickOpenWidget.getQuickNavigateConfiguration()),s.getAriaLabel())}})})},t.prototype.showModel=function(e,t,n){return this.quickOpenWidget.getInput()===e?void this.quickOpenWidget.refresh(e,t):void this.quickOpenWidget.setInput(e,t,n)},t.prototype.clearModel=function(){this.showModel(new m.QuickOpenModel,null)},t.prototype.mapEntriesToResource=function(e){var t=e.getEntries(),n={};return t.forEach(function(e){e.getResource()&&(n[e.getResource().toString()]=e)}),n},t.prototype.resolveHandler=function(e){var t=this,i=this._resolveHandler(e),r=e.getId();if(!this.handlerOnOpenCalled[r]){var o=i;this.handlerOnOpenCalled[r]=!0,i=this.mapResolvedHandlersToPrefix[r]=o.then(function(e){return t.mapResolvedHandlersToPrefix[r]=o,e.onOpen(),e})}return i.then(null,function(i){return delete t.mapResolvedHandlersToPrefix[r],n.TPromise.wrapError("Unable to instantiate quick open handler "+e.moduleName+" - "+e.ctorName+": "+JSON.stringify(i))})},t.prototype._resolveHandler=function(e){var t=e.getId();return this.mapResolvedHandlersToPrefix[t]?this.mapResolvedHandlersToPrefix[t]:this.mapResolvedHandlersToPrefix[t]=this.instantiationService.createInstance(e)},t.prototype.layout=function(e){this.layoutDimensions=e,this.quickOpenWidget&&this.quickOpenWidget.layout(this.layoutDimensions),this.pickOpenWidget&&this.pickOpenWidget.layout(this.layoutDimensions)},t.prototype.dispose=function(){this.quickOpenWidget&&this.quickOpenWidget.dispose(),this.pickOpenWidget&&this.pickOpenWidget.dispose(),e.prototype.dispose.call(this)},t.MAX_SHORT_RESPONSE_TIME=500,t.ID="workbench.component.quickopen",t=g([v(0,R.IWorkbenchEditorService),v(1,F.IMessageService),v(2,W.ITelemetryService),v(3,V.IWorkspaceContextService),v(4,B.IContextKeyService),v(5,M.IConfigurationService),v(6,H.IHistoryService),v(7,N.IInstantiationService),v(8,L.IPartService)],t)}(A.WorkbenchComponent);t.QuickOpenController=G;var K=function(e){function t(t){e.call(this),this.placeHolderLabel=t}return d(t,e),t.prototype.getLabel=function(){return this.placeHolderLabel},t}(m.QuickOpenEntryGroup),j=function(e){function t(t,n,i,r){e.call(this,t.label),this.onPreview=n,this.modeService=i,this.modelService=r,this.description=t.description,this.detail=t.detail,this.hasSeparator=t.separator&&t.separator.border,this.separatorLabel=t.separator&&t.separator.label,this.alwaysShow=t.alwaysShow;var o=t;this.resource=o.resource,this.isFolder=o.isFolder}return d(t,e),t.prototype.getLabelOptions=function(){return{extraClasses:this.resource?I.getIconClasses(this.modelService,this.modeService,this.resource,this.isFolder):[]}},Object.defineProperty(t.prototype,"shouldRunWithContext",{get:function(){return this._shouldRunWithContext},enumerable:!0,configurable:!0}),t.prototype.getDescription=function(){return this.description},t.prototype.getDetail=function(){return this.detail},t.prototype.showBorder=function(){return this.hasSeparator},t.prototype.getGroupLabel=function(){return this.separatorLabel},t.prototype.shouldAlwaysShow=function(){return this.alwaysShow},t.prototype.run=function(e,t){return e===f.Mode.OPEN?(this._shouldRunWithContext=t,!0):(e===f.Mode.PREVIEW&&this.onPreview&&this.onPreview(),!1)},t=g([v(2,w.IModeService),v(3,T.IModelService)],t)}(K),q=function(e){function t(){e.apply(this,arguments)}return d(t,e),t}(m.QuickOpenEntryGroup);t.EditorHistoryEntryGroup=q;var $=function(e){function t(t,n,i,r,o,s,a){if(e.call(this,n),this.modeService=i,this.modelService=r,this.textFileService=o,this.configurationService=a,this.input=t,t instanceof x.EditorInput)this.resource=x.getUntitledOrFileResource(t),this.label=t.getName(),this.description=t.getDescription(),this.dirty=t.isDirty();else{var c=t;this.resource=c.resource,this.label=E.basename(c.resource.fsPath),this.description=S.getPathLabel(E.dirname(this.resource.fsPath),s),this.dirty=this.resource&&this.textFileService.isDirty(this.resource),this.dirty&&this.textFileService.getAutoSaveMode()===_.AutoSaveMode.AFTER_SHORT_DELAY&&(this.dirty=!1)}}return d(t,e),t.prototype.getIcon=function(){return this.dirty?"dirty":""},t.prototype.getLabel=function(){return this.label},t.prototype.getLabelOptions=function(){return{extraClasses:I.getIconClasses(this.modelService,this.modeService,this.resource)}},t.prototype.getAriaLabel=function(){return i.localize(8,null,this.getLabel())},t.prototype.getDescription=function(){return this.description},t.prototype.getResource=function(){return this.resource},t.prototype.getInput=function(){return this.input},t.prototype.run=function(t,n){if(t===f.Mode.OPEN){var i=!n.quickNavigateConfiguration&&n.keymods.indexOf(32768)>=0,r=!this.configurationService.getConfiguration().workbench.editor.enablePreviewFromQuickOpen;return this.input instanceof x.EditorInput?this.editorService.openEditor(this.input,{pinned:r},i).done(null,P.onUnexpectedError):this.editorService.openEditor({resource:this.input.resource,options:{pinned:r}},i),!0}return e.prototype.run.call(this,t,n)},t=g([v(1,R.IWorkbenchEditorService),v(2,w.IModeService),v(3,T.IModelService),v(4,_.ITextFileService),v(5,V.IWorkspaceContextService),v(6,M.IConfigurationService)],t)}(k.EditorQuickOpenEntry);t.EditorHistoryEntry=$;var Y=function(e){function t(t,n,i,r,o){e.call(this,t,n),this.quickOpenService=i,this.instantiationService=r,this.historyService=o}return d(t,e),t.prototype.run=function(){var e=this,t=this.historyService.getHistory(),n=t.map(function(t){var n=e.instantiationService.createInstance($,t);return{input:t,resource:n.getResource(),label:n.getLabel(),description:n.getDescription()}});return this.quickOpenService.pick(n,{placeHolder:i.localize(10,null),autoFocus:{autoFocusFirstEntry:!0},matchOnDescription:!0}).then(function(t){t&&e.historyService.remove(t.input)})},t.ID="workbench.action.removeFromEditorHistory",t.LABEL=i.localize(9,null),t=g([v(2,O.IQuickOpenService),v(3,N.IInstantiationService),v(4,H.IHistoryService)],t)}(h.Action);t.RemoveFromEditorHistoryAction=Y}),define(l[368],h([1,0,14,2,477,24,50,36,23,31,37,84,367]),function(e,t,n,i,r,o,s,a,c,u,l,h,p){"use strict";function f(e){return e?{primary:49198,secondary:[49187,49154,49199],mac:{primary:49198,secondary:[20482,20527]}}:{primary:32814,secondary:[32803,32770,32815],mac:{primary:32814,secondary:[4098,4143]}}}var m=function(e){function t(t,n,i){e.call(this,t,n),this.quickOpenService=i,this.order=100,this.class="quickopen"}return d(t,e),t.prototype.run=function(){return this.quickOpenService.show(null),i.TPromise.as(!0)},t.ID="workbench.action.quickOpen",t.LABEL=r.localize(0,null),t=g([v(2,s.IQuickOpenService)],t)}(o.Action);t.GlobalQuickOpenAction=m;var y=function(e){function t(t,n,i,r,o){e.call(this,t,n),this.quickOpenService=r,this.keybindingService=o,this.navigateNext=i}return d(t,e),t.prototype.run=function(e){var t=this.keybindingService.lookupKeybindings(this.id);return this.quickOpenService.quickNavigate({keybindings:t},this.navigateNext),i.TPromise.as(!0)},t=g([v(3,s.IQuickOpenService),v(4,a.IKeybindingService)],t)}(o.Action);t.BaseQuickOpenNavigateAction=y;var b=function(e){function t(t,n,i,r){e.call(this,t,n,!0,i,r)}return d(t,e),t.ID="workbench.action.quickOpenNavigateNext",t.LABEL=r.localize(1,null),t=g([v(2,s.IQuickOpenService),v(3,a.IKeybindingService)],t)}(y);t.QuickOpenNavigateNextAction=b;var S=function(e){function t(t,n,i,r){e.call(this,t,n,!1,i,r)}return d(t,e),t.ID="workbench.action.quickOpenNavigatePrevious",t.LABEL=r.localize(2,null),t=g([v(2,s.IQuickOpenService),v(3,a.IKeybindingService)],t)}(y);t.QuickOpenNavigatePreviousAction=S;var E=c.ContextKeyExpr.has("inQuickOpen");h.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.closeQuickOpen",weight:h.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:E,primary:9,secondary:[16393],handler:function(e){var t=e.get(s.IQuickOpenService);t.close()}}),h.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.acceptSelectedQuickOpenItem",weight:h.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:E,primary:null,handler:function(e){var t=e.get(s.IQuickOpenService);t.accept()}}),h.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.focusQuickOpen",weight:h.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:E,primary:null,handler:function(e){var t=e.get(s.IQuickOpenService);t.focus()}});var _=n.Registry.as(l.Extensions.WorkbenchActions);_.registerWorkbenchAction(new u.SyncActionDescriptor(m,m.ID,m.LABEL,{primary:32814,secondary:[32803],mac:{primary:32814,secondary:null}}),"Go to File..."),_.registerWorkbenchAction(new u.SyncActionDescriptor(b,b.ID,b.LABEL,f(!1),E,h.KeybindingsRegistry.WEIGHT.workbenchContrib(50)),"Navigate Next in Quick Open"),_.registerWorkbenchAction(new u.SyncActionDescriptor(S,S.ID,S.LABEL,f(!0),E,h.KeybindingsRegistry.WEIGHT.workbenchContrib(50)),"Navigate Previous in Quick Open"),_.registerWorkbenchAction(new u.SyncActionDescriptor(p.RemoveFromEditorHistoryAction,p.RemoveFromEditorHistoryAction.ID,p.RemoveFromEditorHistoryAction.LABEL),"Remove From History")}),define(l[1090],h([1,0,399,133,10,33,25,54,40,11,17,125,55]),function(e,t,n,i,r,o,s,a,c,u,l,h,p){"use strict";var f=function(e){function t(n,i,r,o,s,a,c,h){var d=this;e.call(this,"",n,i,o,s),this.backupFileService=a,this.textFileService=c,this.configurationService=h,this.hasAssociatedFilePath=r,this.dirty=!1,this.versionId=0,this._onDidChangeContent=new u.Emitter,this._onDidChangeDirty=new u.Emitter,this._onDidChangeEncoding=new u.Emitter,this.contentChangeEventScheduler=new l.RunOnceScheduler(function(){return d._onDidChangeContent.fire()},t.DEFAULT_CONTENT_CHANGE_BUFFER_DELAY),this.registerListeners()}return d(t,e),Object.defineProperty(t.prototype,"onDidChangeContent",{get:function(){return this._onDidChangeContent.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeDirty",{get:function(){return this._onDidChangeDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeEncoding",{get:function(){return this._onDidChangeEncoding.event},enumerable:!0,configurable:!0}),t.prototype.getOrCreateMode=function(t,n,r){return n&&n!==i.PLAINTEXT_MODE_ID?e.prototype.getOrCreateMode.call(this,t,n,r):t.getOrCreateModeByFilenameOrFirstLine(this.resource.fsPath,r)},t.prototype.registerListeners=function(){var e=this;this.configurationChangeListener=this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationChange(t.config)})},t.prototype.onConfigurationChange=function(e){this.configuredEncoding=e&&e.files&&e.files.encoding},t.prototype.getVersionId=function(){return this.versionId},t.prototype.getValue=function(){return this.textEditorModel?this.textEditorModel.getValue(r.EndOfLinePreference.TextDefined,!0):null},t.prototype.getModeId=function(){return this.textEditorModel?this.textEditorModel.getModeId():null},t.prototype.getEncoding=function(){return this.preferredEncoding||this.configuredEncoding},t.prototype.setEncoding=function(e){var t=this.getEncoding();this.preferredEncoding=e,t!==this.preferredEncoding&&this._onDidChangeEncoding.fire()},t.prototype.isDirty=function(){return this.dirty},t.prototype.setDirty=function(e){this.dirty!==e&&(this.dirty=e,this._onDidChangeDirty.fire())},t.prototype.getResource=function(){return this.resource},t.prototype.revert=function(){this.setDirty(!1),this.contentChangeEventScheduler.schedule()},t.prototype.load=function(){var t=this;return this.backupFileService.loadBackupResource(this.resource).then(function(e){return e?t.textFileService.resolveTextContent(e,h.BACKUP_FILE_RESOLVE_OPTIONS).then(function(e){return t.backupFileService.parseBackupContent(e)}):null}).then(function(n){return n&&t.setValue(n),t.setDirty(t.hasAssociatedFilePath||!!n),e.prototype.load.call(t).then(function(e){var n=t.configurationService.getConfiguration();return t.configuredEncoding=n&&n.files&&n.files.encoding,t.textModelChangeListener=t.textEditorModel.onDidChangeContent(function(e){return t.onModelContentChanged()}),e})})},t.prototype.onModelContentChanged=function(){this.versionId++,this.hasAssociatedFilePath||1!==this.textEditorModel.getLineCount()||""!==this.textEditorModel.getLineContent(1)?this.setDirty(!0):this.setDirty(!1),this.contentChangeEventScheduler.schedule()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.textModelChangeListener&&(this.textModelChangeListener.dispose(),this.textModelChangeListener=null),this.configurationChangeListener&&(this.configurationChangeListener.dispose(),this.configurationChangeListener=null),this.contentChangeEventScheduler.dispose(),this._onDidChangeContent.dispose(),this._onDidChangeDirty.dispose(),this._onDidChangeEncoding.dispose()},t.DEFAULT_CONTENT_CHANGE_BUFFER_DELAY=o.CONTENT_CHANGE_EVENT_BUFFER_DELAY,t=g([v(3,a.IModeService),v(4,c.IModelService),v(5,h.IBackupFileService),v(6,p.ITextFileService),v(7,s.IConfigurationService)],t)}(n.StringEditorModel);t.UntitledEditorModel=f}),define(l[145],h([1,0,2,98,81,133,20,28,1090,6,26,5,11,55]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f){"use strict";var m=function(e){function t(t,n,i,r,o,s){e.call(this),this.instantiationService=r,this.contextService=o,this.textFileService=s,this.resource=t,this._hasAssociatedFilePath=n,this.modeId=i,this.toUnbind=[],this._onDidModelChangeContent=new p.Emitter,this._onDidModelChangeEncoding=new p.Emitter}return d(t,e),Object.defineProperty(t.prototype,"hasAssociatedFilePath",{get:function(){return this._hasAssociatedFilePath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidModelChangeContent",{get:function(){return this._onDidModelChangeContent.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidModelChangeEncoding",{get:function(){return this._onDidModelChangeEncoding.event},enumerable:!0,configurable:!0}),t.prototype.getTypeId=function(){return t.ID},t.prototype.getResource=function(){return this.resource},t.prototype.getName=function(){return this.hasAssociatedFilePath?s.basename(this.resource.fsPath):this.resource.fsPath},t.prototype.getDescription=function(){return this.hasAssociatedFilePath?r.getPathLabel(s.dirname(this.resource.fsPath),this.contextService):null},t.prototype.isDirty=function(){return this.cachedModel?this.cachedModel.isDirty():!this.isDisposed()&&this.hasAssociatedFilePath},t.prototype.confirmSave=function(){return this.textFileService.confirmSave([this.resource])},t.prototype.save=function(){return this.textFileService.save(this.resource)},t.prototype.revert=function(){return this.cachedModel&&this.cachedModel.revert(),this.dispose(),n.TPromise.as(!0)},t.prototype.suggestFileName=function(){if(!this.hasAssociatedFilePath&&this.cachedModel){var e=this.cachedModel.getModeId();if(e!==o.PLAINTEXT_MODE_ID)return i.suggestFilename(e,this.getName())}return this.getName()},t.prototype.getEncoding=function(){return this.cachedModel?this.cachedModel.getEncoding():null},t.prototype.setEncoding=function(e,t){this.cachedModel&&this.cachedModel.setEncoding(e)},t.prototype.resolve=function(e){return this.modelResolve?this.modelResolve:(this.cachedModel=this.createModel(),this.modelResolve=this.cachedModel.load(),this.modelResolve)},t.prototype.createModel=function(){var e=this,t=this.instantiationService.createInstance(c.UntitledEditorModel,this.modeId,this.resource,this.hasAssociatedFilePath);return this.toUnbind.push(t.onDidChangeContent(function(){return e._onDidModelChangeContent.fire()})),this.toUnbind.push(t.onDidChangeDirty(function(){return e._onDidChangeDirty.fire()})),this.toUnbind.push(t.onDidChangeEncoding(function(){return e._onDidModelChangeEncoding.fire()})),t},t.prototype.matches=function(n){if(e.prototype.matches.call(this,n)===!0)return!0;if(n instanceof t){var i=n;return i.resource.toString()===this.resource.toString()}return!1},t.prototype.dispose=function(){this._onDidModelChangeContent.dispose(),this._onDidModelChangeEncoding.dispose(),h.dispose(this.toUnbind),this.cachedModel&&(this.cachedModel.dispose(),this.cachedModel=null),this.modelResolve=void 0,e.prototype.dispose.call(this)},t.ID="workbench.editors.untitledEditorInput",t.SCHEMA="untitled",t=g([v(3,u.IInstantiationService),v(4,l.IWorkspaceContextService),v(5,f.ITextFileService)],t)}(a.UntitledEditorInput);t.UntitledEditorInput=m}),define(l[192],h([1,0,2,20,81,210,33,92,55,26,6,5]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";var p=function(e){function t(t,n,i,r,o){e.call(this),this.instantiationService=i,this.contextService=r,this.textFileService=o,this.toUnbind=[],t&&(this.setResource(t),this.preferredEncoding=n),this.registerListeners()}return d(t,e),t.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.textFileService.models.onModelDirty(function(t){return e.onDirtyStateChange(t)})),this.toUnbind.push(this.textFileService.models.onModelSaveError(function(t){return e.onDirtyStateChange(t)})),this.toUnbind.push(this.textFileService.models.onModelSaved(function(t){return e.onDirtyStateChange(t)})),this.toUnbind.push(this.textFileService.models.onModelReverted(function(t){return e.onDirtyStateChange(t)}))},t.prototype.onDirtyStateChange=function(e){e.resource.toString()===this.resource.toString()&&this._onDidChangeDirty.fire()},t.prototype.setResource=function(e){if("file"!==e.scheme)throw new Error("FileEditorInput can only handle file:// resources.");this.resource=e,this.name=null,this.description=null,this.verboseDescription=null},t.prototype.getResource=function(){return this.resource},t.prototype.setPreferredEncoding=function(e){this.preferredEncoding=e},t.prototype.getEncoding=function(){var e=this.textFileService.models.get(this.resource);return e?e.getEncoding():this.preferredEncoding},t.prototype.setEncoding=function(e,t){this.preferredEncoding=e;var n=this.textFileService.models.get(this.resource);n&&n.setEncoding(e,t)},t.prototype.setForceOpenAsBinary=function(){this.forceOpenAsBinary=!0},t.prototype.getTypeId=function(){return a.FILE_EDITOR_INPUT_ID},t.prototype.getName=function(){return this.name||(this.name=i.basename(this.resource.fsPath)),this.name},t.prototype.getDescription=function(e){return e?(this.verboseDescription||(this.verboseDescription=r.getPathLabel(this.resource.fsPath)),this.verboseDescription):(this.description||(this.description=r.getPathLabel(i.dirname(this.resource.fsPath),this.contextService)),this.description)},t.prototype.isDirty=function(){var e=this.textFileService.models.get(this.resource);if(!e)return!1;var t=e.getState();return t===c.ModelState.CONFLICT||t===c.ModelState.ERROR||this.textFileService.getAutoSaveMode()!==c.AutoSaveMode.AFTER_SHORT_DELAY&&e.isDirty()},t.prototype.confirmSave=function(){return this.textFileService.confirmSave([this.resource])},t.prototype.save=function(){return this.textFileService.save(this.resource)},t.prototype.revert=function(){return this.textFileService.revert(this.resource)},t.prototype.getPreferredEditorId=function(e){return this.forceOpenAsBinary?a.BINARY_FILE_EDITOR_ID:a.TEXT_FILE_EDITOR_ID},t.prototype.resolve=function(e){var t=this;return this.textFileService.models.loadOrCreate(this.resource,this.preferredEncoding,e).then(null,function(e){return e.fileOperationResult===s.FileOperationResult.FILE_IS_BINARY||e.fileOperationResult===s.FileOperationResult.FILE_TOO_LARGE?t.instantiationService.createInstance(o.BinaryEditorModel,t.resource,t.getName()).load():n.TPromise.wrapError(e)})},t.prototype.dispose=function(){h.dispose(this.toUnbind),e.prototype.dispose.call(this)},t.prototype.matches=function(n){return e.prototype.matches.call(this,n)===!0||!!n&&(n instanceof t&&n.resource.toString()===this.resource.toString())},t=g([v(2,l.IInstantiationService),v(3,u.IWorkspaceContextService),v(4,c.ITextFileService)],t)}(a.FileEditorInput);t.FileEditorInput=p}),define(l[1093],h([1,0,7,16,20,28,92,55,33,192,41,69,22,47,5]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f){"use strict";var m=function(){function e(e,t,n,i,r){this.eventService=e,this.editorService=t,this.textFileService=n,this.lifecycleService=i,this.editorGroupService=r,this.toUnbind=[],this.stacks=r.getStacksModel(),this.registerListeners()}return e.prototype.getId=function(){return"vs.files.fileEditorTracker"},e.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.eventService.addListener2("files.internal:fileChanged",function(t){return e.onLocalFileChange(t)})),this.toUnbind.push(this.eventService.addListener2(c.EventType.FILE_CHANGES,function(t){return e.onFileChanges(t);
})),this.lifecycleService.onShutdown(this.dispose,this)},e.prototype.onLocalFileChange=function(e){var t=e.gotMoved()&&e.getAfter()&&e.getAfter().resource;if(t){var n=e.getBefore(),i=e.getAfter();this.handleMovedFileInOpenedEditors(n?n.resource:null,i?i.resource:null)}(e.gotDeleted()||t)&&this.handleDeletes(e.getBefore().resource,t)},e.prototype.onFileChanges=function(e){this.handleUpdatesToVisibleEditors(e),e.gotDeleted()&&this.handleDeletes(e)},e.prototype.handleDeletes=function(e,t){var n=this.getOpenedFileInputs();n.forEach(function(n){if(!(n.isDirty()||t&&t.fsPath===n.getResource().fsPath)){var i=!1;i=e instanceof c.FileChangesEvent?e.contains(n.getResource(),c.FileChangeType.DELETED):r.isEqualOrParent(n.getResource().toString(),e.toString()),i&&n.dispose()}})},e.prototype.getOpenedFileInputs=function(){var e=[],t=this.editorGroupService.getStacksModel();return t.groups.forEach(function(t){t.getEditors().forEach(function(t){if(t instanceof u.FileEditorInput)e.push(t);else if(t instanceof o.SideBySideEditorInput){var n=t.master,i=t.details;n instanceof u.FileEditorInput&&e.push(n),i instanceof u.FileEditorInput&&e.push(i)}})}),e},e.prototype.handleMovedFileInOpenedEditors=function(e,t){var o=this,s=this.editorGroupService.getStacksModel();s.groups.forEach(function(a){a.getEditors().forEach(function(c){if(c instanceof u.FileEditorInput){var l=c.getResource();if(r.isEqualOrParent(l.fsPath,e.fsPath)){var h=void 0;if(e.toString()===l.toString())h=t;else{var d=l.fsPath.indexOf(e.fsPath);h=i.default.file(r.join(t.fsPath,l.fsPath.substr(d+e.fsPath.length+1)))}o.editorService.openEditor({resource:h,options:{preserveFocus:!0,pinned:a.isPinned(c),index:a.indexOf(c),inactive:!a.isActive(c)}},s.positionOfGroup(a)).done(null,n.onUnexpectedError)}}})})},e.prototype.handleUpdatesToVisibleEditors=function(t){var i=this,r=this.editorService.getVisibleEditors();r.forEach(function(r){var l=r.input;if(l instanceof o.SideBySideEditorInput&&(l=i.getMatchingFileEditorInputFromSideBySide(l,t)),l instanceof u.FileEditorInput){var h=l.getResource();if(t.contains(h,c.FileChangeType.UPDATED)||t.contains(h,c.FileChangeType.ADDED)){var d=i.textFileService.models.get(h);if(d){if(d.getState()===a.ModelState.SAVED){var p=d.getLastSaveAttemptTime();if(Date.now()-p>e.FILE_CHANGE_UPDATE_DELAY){var f=r.getControl(),g=f.saveViewState(),v=d.getLastModifiedTime();d.load().done(function(){d.getLastModifiedTime()!==v&&i.isEditorShowingPath(r,d.getResource())&&f.restoreViewState(g)},n.onUnexpectedError)}}}else r.getId()===s.BINARY_FILE_EDITOR_ID&&i.editorService.openEditor(r.input,{forceOpen:!0,preserveFocus:!0},r.position).done(null,n.onUnexpectedError)}}})},e.prototype.isEditorShowingPath=function(e,t){if(!e.isVisible())return!1;var n=e.input;return!!n&&(n instanceof o.SideBySideEditorInput&&(n=n.master),n instanceof u.FileEditorInput&&n.getResource().toString()===t.toString())},e.prototype.getMatchingFileEditorInputFromSideBySide=function(e,t){var n=e.master,i=this.getMatchingFileEditorInputFromInput(n,t);return i?i:this.getMatchingFileEditorInputFromInput(e.details,t)},e.prototype.getMatchingFileEditorInputFromInput=function(e,t){return e instanceof u.FileEditorInput&&t.contains(e.getResource(),c.FileChangeType.UPDATED)?e:null},e.prototype.dispose=function(){this.toUnbind=f.dispose(this.toUnbind)},e.FILE_CHANGE_UPDATE_DELAY=2e3,e=g([v(0,p.IEventService),v(1,d.IWorkbenchEditorService),v(2,a.ITextFileService),v(3,h.ILifecycleService),v(4,l.IEditorGroupService)],e)}();t.FileEditorTracker=m}),define(l[1094],h([1,0,564,13,2,5,24,7,98,20,11,42,57,194,207,938,55,33,17,32,86,22,25,47,6,18,26,69,16,38,130,41]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P,R,O){"use strict";function M(e){return i.isWindows?e.replace(/\//g,"\\"):e}var N=function(){function e(e,t,n,i,r,o,s){var a=this;this.instantiationService=t,this.fileService=n,this.eventService=i,this.editorService=r,this.editorGroupService=o,this.contextService=s,this.gitService=e,this.cache={},this.toDispose=[],this.toDispose.push(this.gitService.getModel().addListener2("fileStatus:dispose",function(e){return a.onFileStatusDispose(e)}))}return e.prototype.getInput=function(e){var t=this.cache[e.getId()];return t?t:(t=this.createInput(e),this.cache[e.getId()]=t,t)},e.prototype.createInput=function(e){var t=this;return r.TPromise.join([this.createLeftInput(e),this.createRightInput(e)]).then(function(t){var i,o,s=t[0],a=t[1];if(e.getStatus()===p.Status.INDEX_RENAMED){var c=e.getRename().split("/");i=c[c.length-1],o=M(c.slice(0,c.length-1).join("/"))}else{var c=e.getPathComponents();i=c[c.length-1],o=M(c.slice(0,c.length-1).join("/"))}if(!s){if(!a){var u=new Error(n.localize(0,null));return u.gitErrorCode=p.GitErrorCodes.CantOpenResource,r.TPromise.wrapError(u)}return r.TPromise.as(a)}switch(e.getStatus()){case p.Status.INDEX_MODIFIED:return r.TPromise.as(new m.GitIndexDiffEditorInput(n.localize(1,null,i,i),n.localize(2,null,o),s,a,e));case p.Status.INDEX_RENAMED:return r.TPromise.as(new m.GitIndexDiffEditorInput(n.localize(3,null,e.getRename(),e.getPath()),n.localize(4,null,o),s,a,e));case p.Status.MODIFIED:return r.TPromise.as(new m.GitWorkingTreeDiffEditorInput(n.localize(5,null,i,i),n.localize(6,null,o),s,a,e));default:return r.TPromise.as(new m.GitDiffEditorInput(n.localize(7,null,i,i),n.localize(8,null,o),s,a,e))}}).then(function(n){var i=l.once(n.onDispose);return i(function(){delete t.cache[e.getId()]}),n},function(e){return r.TPromise.wrapError(Array.isArray(e)?e[0]||e[1]:e)})},e.prototype.createLeftInput=function(e){var t=e.getPath(),n=this.gitService.getModel();switch(e.getStatus()){case p.Status.INDEX_MODIFIED:case p.Status.INDEX_RENAMED:return this.gitService.show(t,e,"HEAD",e.getMimetype());case p.Status.MODIFIED:var i=n.getStatus().find(t,p.StatusType.INDEX);return i&&i.getStatus()===p.Status.INDEX_RENAMED?this.gitService.show(i.getRename(),e,"~",e.getMimetype()):i?this.gitService.show(t,e,"~",e.getMimetype()):this.gitService.show(t,e,"HEAD",e.getMimetype());default:return r.TPromise.as(null)}},e.prototype.createRightInput=function(e){var t=this.gitService.getModel(),n=e.getPath(),i=k.default.file(u.join(t.getRepositoryRoot(),n));switch(e.getStatus()){case p.Status.INDEX_MODIFIED:case p.Status.INDEX_ADDED:case p.Status.INDEX_COPIED:return this.gitService.show(n,e,"~",e.getMimetype());case p.Status.INDEX_RENAMED:return this.gitService.show(e.getRename(),e,"~",e.getMimetype());case p.Status.INDEX_DELETED:case p.Status.DELETED:return this.gitService.show(n,e,"HEAD",e.getMimetype());case p.Status.MODIFIED:case p.Status.UNTRACKED:case p.Status.IGNORED:var o=t.getStatus().find(n,p.StatusType.INDEX);return o&&o.getStatus()===p.Status.INDEX_RENAMED&&(i=k.default.file(u.join(t.getRepositoryRoot(),o.getRename()))),this.editorService.createInput({resource:i});case p.Status.BOTH_MODIFIED:return this.editorService.createInput({resource:i});default:return r.TPromise.as(null)}},e.prototype.onFileStatusDispose=function(e){var t=this,n=e.getId(),i=this.cache[n];i&&i.done(function(e){t.eventuallyDispose(e)})},e.prototype.eventuallyDispose=function(e){var t=this;if(!this.maybeDispose(e))var n=this.editorGroupService.onEditorsChanged(function(){t.maybeDispose(e)&&n.dispose()})},e.prototype.maybeDispose=function(e){return!e.isDirty()&&!this.editorService.getVisibleEditors().some(function(t){return t.input&&t.input.matches(e)})&&(e.dispose(),!0)},e.prototype.dispose=function(){var e=this;Object.keys(this.cache).forEach(function(t){e.cache[t].done(function(e){e.dispose()}),delete e.cache[t]}),this.toDispose=o.dispose(this.toDispose)},e=g([v(1,x.IInstantiationService),v(2,S.IFileService),v(3,T.IEventService),v(4,w.IWorkbenchEditorService),v(5,O.IEditorGroupService),v(6,D.IWorkspaceContextService)],e)}(),F=function(){function e(t,n,i,r,o,s){var a=this;this._state=p.AutoFetcherState.Disabled,this.gitService=t,this.eventService=n,this.messageService=i,this.configurationService=o,this.instantiationService=s,this.currentRequest=null,this.timeout=e.MIN_TIMEOUT,this.toDispose=[],this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(e){return a.onConfiguration(e.config.git)})),this.onConfiguration(o.getConfiguration("git"))}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.onConfiguration=function(e){e.autofetch===!1?this.disable():this.enable()},e.prototype.enable=function(){var e=this;this._state===p.AutoFetcherState.Disabled&&(this.gitServiceStateDisposable=this.gitService.addListener2(p.ServiceEvents.STATE_CHANGED,function(t){return e.onGitServiceStateChange(t)}),this._state=p.AutoFetcherState.Active,this.onGitServiceStateChange(this.gitService.getState()))},e.prototype.disable=function(){this.gitServiceStateDisposable&&(this.gitServiceStateDisposable.dispose(),this.gitServiceStateDisposable=null),this.deactivate(),this._state=p.AutoFetcherState.Disabled},e.prototype.onGitServiceStateChange=function(e){e===p.ServiceState.OK?this.activate():this.deactivate()},e.prototype.activate=function(){this.currentRequest&&this.currentRequest.cancel(),this._state=p.AutoFetcherState.Active,this.loop()},e.prototype.deactivate=function(){this.currentRequest&&(this._state=p.AutoFetcherState.Inactive,this.currentRequest.cancel(),this.currentRequest=null)},e.prototype.loop=function(){var t=this;this._state=p.AutoFetcherState.Fetching;var n=this.gitService.getModel(),i=n?n.getRemotes():[];0===i.length?(this.timeout=e.MIN_TIMEOUT,this.currentRequest=r.TPromise.as(null)):this.currentRequest=this.gitService.fetch().then(function(){t.timeout=e.MIN_TIMEOUT},function(n){return a.isPromiseCanceledError(n)?r.TPromise.wrapError(n):n.gitErrorCode===p.GitErrorCodes.AuthenticationFailed?r.TPromise.wrapError(n):void(t.timeout=Math.min(Math.round(1.2*t.timeout),e.MAX_TIMEOUT))}),this.currentRequest.then(function(){return t._state=p.AutoFetcherState.Active,t.currentRequest=r.TPromise.timeout(t.timeout),t.currentRequest}).then(function(){return t.loop()},function(e){return t.deactivate()})},e.prototype.dispose=function(){this.disable()},e.MIN_TIMEOUT=12e4,e.MAX_TIMEOUT=3e5,e=g([v(1,T.IEventService),v(2,A.IMessageService),v(3,w.IWorkbenchEditorService),v(4,I.IConfigurationService),v(5,x.IInstantiationService)],e)}();t.AutoFetcher=F;var W="settings.workspace.git.ignoreOld",V=function(e){function t(t,i,r,o,a,c,u,l,h,d,g){var v=this;e.call(this),this.configurationService=g,this.isStatusPending=!1,this.instantiationService=i,this.eventService=r,this.messageService=o,this.editorService=a,this.textFileService=u,this.outputService=c,this.contextService=l,this.lifecycleService=h,this.raw=t,this.state=p.ServiceState.NotInitialized,this.operations=[],this.model=new f.Model,this.toDispose=[],this.needsRefresh=!1,this.statusDelayer=new E.ThrottledDelayer(500),this.reactiveStatusDelayer=new E.PeriodThrottledDelayer(500,1e4),this.autoFetcher=this.instantiationService.createInstance(F,this),this._allowHugeRepositories=!1,this.registerListeners(),this.inputCache=this.instantiationService.createInstance(N,this),this.triggerAutoStatus(!0),d.getBoolean(W,P.StorageScope.GLOBAL,!1)||this.raw.serviceState().done(function(e){if(e===p.RawServiceState.OK)return v.raw.getVersion().then(function(e){var t=/^(\d+)\.\d+\.\d+/.exec(e||""),i=t&&parseInt(t[1]);i&&i<2&&o.show(_.default.Warning,{message:n.localize(9,null,e),actions:[new s.Action("downloadLatest",n.localize(10,null),"",(!0),function(){return window.open("https://git-scm.com/"),null}),new s.Action("neverShowAgain",n.localize(11,null),null,(!0),function(){return d.store(W,!0,P.StorageScope.GLOBAL),null}),A.CloseAction]})})})}return d(t,e),Object.defineProperty(t.prototype,"allowHugeRepositories",{get:function(){return this._allowHugeRepositories},set:function(e){this._allowHugeRepositories=e,e&&this.state===p.ServiceState.Huge&&this.transition(p.ServiceState.OK)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onOutput",{get:function(){return this.raw.onOutput},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.eventService.addListener2(S.EventType.FILE_CHANGES,function(t){return e.onFileChanges(t)})),this.toDispose.push(this.textFileService.models.onModelSaved(function(t){return e.onTextFileChange(t)})),this.toDispose.push(this.textFileService.models.onModelReverted(function(t){return e.onTextFileChange(t)})),this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(){if(!e._allowHugeRepositories){var t=e.configurationService.getConfiguration("git");e._allowHugeRepositories=t.allowLargeRepositories,e._allowHugeRepositories&&e.triggerAutoStatus()}})),this.lifecycleService.onShutdown(this.dispose,this);var t=R.domEvent(window,"focus");this.toDispose.push(t(function(){e.isStatusPending&&e.triggerAutoStatus()}))},t.prototype.onTextFileChange=function(e){var t=".gitignore"===u.basename(e.resource.fsPath);t&&this.triggerAutoStatus()},t.prototype.onFileChanges=function(e){var t=this,n=this.isIdle(),i=e.changes.some(function(e){var i=t.contextService.toWorkspaceRelativePath(e.resource);return!!i&&(".git/index"===i?n:!/^\.git/.test(i)||(".git"===i?e.type===S.FileChangeType.ADDED||e.type===S.FileChangeType.DELETED:[".git/index.lock",".git/FETCH_HEAD",".gitignore",".gitmodules"].indexOf(i)===-1))});i&&this.triggerAutoStatus()},t.prototype.onGitServiceOperationEnd=function(e){e.operation.id===p.ServiceOperations.COMMAND&&this.triggerAutoStatus()},t.prototype.getState=function(){return this.state},t.prototype.getModel=function(){return this.model},t.prototype.status=function(){var e=this;return this.statusDelayer.trigger(function(){return e._status()})},t.prototype._status=function(){var e=this,t=this.configurationService.getConfiguration("git");return this._allowHugeRepositories||t.allowLargeRepositories?this.run(p.ServiceOperations.STATUS,function(){return e.raw.status()}):this.state===p.ServiceState.Huge?r.TPromise.as(this.model):this.raw.statusCount().then(function(t){return t>5e3&&!e._allowHugeRepositories?(e.transition(p.ServiceState.Huge),r.TPromise.as(e.model)):e.run(p.ServiceOperations.STATUS,function(){return e.raw.status()})})},t.prototype.triggerAutoStatus=function(e){var t=this;if(void 0===e&&(e=!1),this.isStatusPending=!0,document.hasFocus()||e){this.isStatusPending=!1;var n=this.configurationService.getConfiguration("git");n.autorefresh&&this.reactiveStatusDelayer.trigger(function(){return t.status()}).done(null,function(e){a.isPromiseCanceledError(e)||t.messageService.show(_.default.Error,e)})}},t.prototype.init=function(){var e=this;return this.run(p.ServiceOperations.INIT,function(){return e.raw.init()})},t.prototype.add=function(e){var n=this;return this.run(p.ServiceOperations.ADD,function(){return n.raw.add(t.toPaths(e))})},t.prototype.stage=function(e,t){var n=this;return this.run(p.ServiceOperations.STAGE,function(){return n.raw.stage(e,t)})},t.prototype.branch=function(e,t){var n=this;return void 0===t&&(t=!1),this.run(p.ServiceOperations.BRANCH,function(){return n.raw.branch(e,t)})},t.prototype.checkout=function(e,n){var i=this;return void 0===e&&(e=""),void 0===n&&(n=null),this.run(p.ServiceOperations.CHECKOUT,function(){return i.raw.checkout(e,t.toPaths(n))})},t.prototype.clean=function(e){var t=this;return this.run(p.ServiceOperations.CLEAN,function(){return t.raw.clean(e.map(function(e){return e.getPath()}))})},t.prototype.undo=function(){var e=this;return this.run(p.ServiceOperations.UNDO,function(){return e.raw.undo()})},t.prototype.reset=function(e,t){var n=this;return this.run(p.ServiceOperations.RESET,function(){return n.raw.reset(e,t)})},t.prototype.revertFiles=function(e,t){var n=this;return this.run(p.ServiceOperations.REVERT,function(){return n.raw.revertFiles(e,(t||[]).map(function(e){return e.getPath()}))})},t.prototype.fetch=function(){var e=this;return this.run(p.ServiceOperations.BACKGROUND_FETCH,function(){return e.raw.fetch()})},t.prototype.pull=function(e){var t=this;return this.run(p.ServiceOperations.PULL,function(){return t.raw.pull(e)})},t.prototype.push=function(e,t,n){var i=this;return this.run(p.ServiceOperations.PUSH,function(){return i.raw.push(e,t,n)})},t.prototype.sync=function(e){var t=this,n=this.model.getHEAD(),i=n&&n.upstream&&!!n.ahead;return i?this.run(p.ServiceOperations.SYNC,function(){return t.raw.sync()}):this.run(p.ServiceOperations.SYNC,function(){return t.raw.pull(e)})},t.prototype.commit=function(e,t,n,i){var r=this;return void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===i&&(i=!1),this.run(p.ServiceOperations.COMMIT,function(){return r.raw.commit(e,t,n,i)})},t.prototype.getCommitTemplate=function(){return this.raw.getCommitTemplate()},t.prototype.getCommit=function(e){return this.raw.getCommit(e)},t.prototype.detectMimetypes=function(e,t){return void 0===t&&(t="~"),this.raw.detectMimetypes(e,t)},t.prototype.clone=function(e,t){var n=this;return this.raw.clone(e,t).then(null,function(e){return n.wrapGitError(e)})},t.prototype.run=function(e,t){var n=this;return this.raw.serviceState().then(function(i){return i===p.RawServiceState.GitNotFound?(n.transition(p.ServiceState.NoGit),r.TPromise.as(null)):i===p.RawServiceState.Disabled?(n.transition(p.ServiceState.Disabled),r.TPromise.as(null)):n._run(e,t)})},t.prototype._run=function(e,t){var i=this,o=new y.GitOperation(e,t);this.operations.push(o),this.emit(p.ServiceEvents.OPERATION_START,o),this.emit(p.ServiceEvents.OPERATION,o);var s=function(e){void 0===e&&(e=null);var t=i.operations.indexOf(o);t>-1&&i.operations.splice(t,1);var n={operation:o,error:e};i.emit(p.ServiceEvents.OPERATION_END,n),i.onGitServiceOperationEnd(n),i.emit(p.ServiceEvents.OPERATION,o)};return o.run().then(function(e){return i.model.update(e),s(),e?i.transition(null===e.state||void 0===e.state?p.ServiceState.OK:e.state):i.transition(p.ServiceState.NotARepo),i.model},function(e){if(s(e),a.isPromiseCanceledError(e))return r.TPromise.wrapError(e);var t=e.gitErrorCode||null;return t===p.GitErrorCodes.NotAtRepositoryRoot?(i.transition(p.ServiceState.NotAtRepoRoot),r.TPromise.as(i.model)):(i.emit(p.ServiceEvents.ERROR,e),i.transition(p.ServiceState.OK),t===p.GitErrorCodes.NoUserNameConfigured||t===p.GitErrorCodes.NoUserEmailConfigured?(i.messageService.show(_.default.Warning,n.localize(12,null)),r.TPromise.as(null)):t===p.GitErrorCodes.BadConfigFile?(i.messageService.show(_.default.Error,n.localize(13,null,e.message)),r.TPromise.as(null)):t===p.GitErrorCodes.UnmergedChanges?(i.messageService.show(_.default.Warning,n.localize(14,null)),r.TPromise.as(null)):i.wrapGitError(e))})},t.prototype.wrapGitError=function(e){var t=this,i=e.gitErrorCode||null,o=new s.Action("show.gitOutput",n.localize(15,null),null,(!0),function(){return t.outputService.getChannel("Git").show()}),c=new s.Action("close.message",n.localize(16,null),null,(!0),function(){return r.TPromise.as(!0)}),u=a.create(n.localize(17,null),{actions:[c,o]});return u.gitErrorCode=i,u.stdout=e.stdout,u.stderr=e.stderr,r.TPromise.wrapError(u)},t.prototype.transition=function(e){var t=this.state;this.state=e,e!==t&&this.emit(p.ServiceEvents.STATE_CHANGED,e)},t.prototype.buffer=function(e,t){return void 0===t&&(t="~"),this.raw.show(e,t)},t.prototype.show=function(e,t,i,o){var s=this;return void 0===i&&(i="~"),void 0===o&&(o="text/plain"),this.detectMimetypes(e,i).then(function(o){var a,u,l=t.getPathComponents(),h=l[l.length-1],d=M(l.slice(0,l.length-1).join("/"));return"~"===i?(a=n.localize(18,null,h),u=n.localize(19,null,d)):(a=n.localize(20,null,h,i),u=n.localize(21,null,d,i)),c.isUnspecific(o)&&(o=c.guessMimeTypes(e)),c.isBinaryMime(c.guessMimeTypes(e))||o.indexOf(c.MIME_BINARY)>=0?r.TPromise.wrapError(new Error("The resource seems to be binary and cannot be displayed")):r.TPromise.as(s.instantiationService.createInstance(m.NativeGitIndexStringEditorInput,a,u,o.join(", "),t,e,i))})},t.prototype.getInput=function(e){var t=this;return this.inputCache.getInput(e).then(null,function(e){return(e.gitErrorCode=p.GitErrorCodes.CantOpenResource)?(t.messageService.show(_.default.Warning,n.localize(22,null)),r.TPromise.as(null)):r.TPromise.wrapError(e)})},t.prototype.isInitialized=function(){return this.state===p.ServiceState.OK},t.prototype.isIdle=function(){return this.isInitialized()&&!this.operations.some(function(e){return e.id!==p.ServiceOperations.BACKGROUND_FETCH})},t.prototype.getRunningOperations=function(){return this.operations},t.prototype.getAutoFetcher=function(){return this.autoFetcher},t.toPaths=function(e){return e?e.map(function(e){switch(e.getStatus()){case p.Status.MODIFIED:case p.Status.DELETED:if(e.getRename())return e.getRename();default:return e.getPath()}}):null},t.prototype.dispose=function(){this.emit(p.ServiceEvents.DISPOSE),this.model&&(this.model.dispose(),this.model=null),e.prototype.dispose.call(this)},t=g([v(1,x.IInstantiationService),v(2,T.IEventService),v(3,A.IMessageService),v(4,w.IWorkbenchEditorService),v(5,C.IOutputService),v(6,b.ITextFileService),v(7,D.IWorkspaceContextService),v(8,L.ILifecycleService),v(9,P.IStorageService),v(10,I.IConfigurationService)],t)}(h.EventEmitter);t.GitService=V}),define(l[1095],h([1,0,2,57,951,1094,69,55,86,22,25,47,51,6,18,26,110,211,946,950,16,121,70,38,74]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x){"use strict";function A(e){return e.replace(/^git version /,"")}function D(e){return new n.TPromise(function(t,n){var i=[],r=w.spawn(e,["--version"]);r.stdout.on("data",function(e){return i.push(e)}),r.on("error",n),r.on("exit",function(r){return r?n(new Error("Not found")):t({path:e,version:A(Buffer.concat(i).toString("utf8").trim())})})})}function L(){return new n.TPromise(function(e,t){w.exec("which git",function(n,i){function r(n){w.exec("git --version",function(i,r){return i?t("git not found"):e({path:n,version:A(r.toString("utf8").trim())})})}if(n)return t("git not found");var o=i.toString().replace(/^\s+|\s+$/g,"");return"/usr/bin/git"!==o?r(o):void w.exec("xcode-select -p",function(e){return e&&2===e.code?t("git not found"):void r(o)})})})}function k(e){return e?D(I.join(e,"Git","cmd","git.exe")):n.TPromise.wrapError("Not found")}function P(){var e=I.join(process.env.LOCALAPPDATA,"GitHub");return x.readdir(e).then(function(t){var i=t.filter(function(e){return/^PortableGit/.test(e)})[0];return i?D(I.join(e,i,"cmd","git.exe")):n.TPromise.wrapError("Not found")})}function R(){return k(process.env.ProgramW6432).then(null,function(){return k(process.env["ProgramFiles(x86)"])}).then(null,function(){return k(process.env.ProgramFiles)}).then(null,function(){return D("git")}).then(null,function(){return P()})}function O(e){var t=e?D(e):n.TPromise.wrapError(null);return t.then(null,function(){switch(process.platform){case"darwin":return L();case"win32":return R();default:return D("git")}})}function M(t,i,r,o,s){var a=n.TPromise.timeout(0).then(function(){return O(t)}).then(function(t){var n=t.path,a=t.version,c=new S.Client(C.default.parse(e.toUrl("bootstrap")).fsPath,{serverName:"Git",timeout:6e4,args:[n,r,o,i,a],env:{ELECTRON_RUN_AS_NODE:1,PIPE_LOGGING:"true",AMD_ENTRYPOINT:"vs/workbench/parts/git/node/gitApp",VERBOSE_LOGGING:String(s)}});return c.getChannel("git")}).then(null,function(){return new E.UnavailableGitChannel}),c=b.getNextTickChannel(b.getDelayedChannel(a));return new E.GitChannelClient(c)}function N(t,i,r,o,s){var a=new n.TPromise(function(t,n){return e(["vs/workbench/parts/git/node/rawGitServiceBootstrap"],t,n)}),c=a.then(function(e){var n=e.createRawGitService;return O(t).then(function(e){var t=e.path,s=e.version;return n(t,r,o,i,s)}).then(null,function(){return new _.RawGitService(null)})});return new _.DelayedRawGitService(c)}function F(e,t,n){var i=O(e).then(function(e){var i=e.path,o=e.version;return new r.UnscopedGitService(i,o,n,t)}).then(null,function(){return new _.RawGitService(null)});return new _.DelayedRawGitService(i)}var W=function(e){function t(){e.call(this,null)}return d(t,e),t.prototype.serviceState=function(){return n.TPromise.as(i.RawServiceState.Disabled)},t}(_.RawGitService),V=function(e){function t(n,i,r,o,s,a,c,u,l,h,d){var p,f=d.getConfiguration("git"),g=d.getConfiguration("files"),v=c.getWorkspace(),m=f.path||null,y=g&&g.encoding||"utf8",b=!h.isBuilt||h.verbose;if(f.enabled)if(v){var S=v.resource.fsPath;p=t.USE_REMOTE_PROCESS_SERVICE?M(m,h.execPath,S,y,b):N(m,h.execPath,S,y,b)}else p=F(m,h.execPath,y);else p=new W;e.call(this,p,n,i,r,o,s,a,c,u,l,d)}return d(t,e),t.USE_REMOTE_PROCESS_SERVICE=!0,t=g([v(0,f.IInstantiationService),v(1,h.IEventService),v(2,m.IMessageService),v(3,u.IWorkbenchEditorService),v(4,c.IOutputService),v(5,a.ITextFileService),v(6,y.IWorkspaceContextService),v(7,s.ILifecycleService),v(8,T.IStorageService),v(9,p.IEnvironmentService),v(10,l.IConfigurationService)],t)}(o.GitService);t.ElectronGitService=V}),define(l[1096],h([1,0,615,2,32,30,24,8,5,42,29,21,142,13,255,12,14,69,31,102,47,18,128,19,25,33,75,54,40,115,37,175,64,50,76,169,45,22,205,26,55,86,154,236,978,976,981,980,51,836,1078]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P,R,O,M,N,F,W,V,B,H,z,U,G,K,j,q,$,Y,X,Q){"use strict";var Z=l.$,J=function(e){function t(t,n,i,r,o,s){e.call(this,t,n),this.taskService=i,this.telemetryService=r,this.messageService=o,this.contextService=s}return d(t,e),t.prototype.canRun=function(){return!!this.contextService.getWorkspace()||(this.messageService.show(r.default.Info,n.localize(0,null)),!1)},t=g([v(2,j.ITaskService),v(3,T.ITelemetryService),v(4,w.IMessageService),v(5,z.IWorkspaceContextService)],t)}(s.Action),ee=function(e){function t(t,n,i,r,o,s){e.call(this,t,n,i,r,o,s)}return d(t,e),t.prototype.run=function(){return this.canRun()?this.taskService.build():i.TPromise.as(void 0)},t.ID="workbench.action.tasks.build",t.TEXT=n.localize(1,null),t=g([v(2,j.ITaskService),v(3,T.ITelemetryService),v(4,w.IMessageService),v(5,z.IWorkspaceContextService)],t)}(J),te=function(e){function t(t,n,i,r,o,s){e.call(this,t,n,i,r,o,s)}return d(t,e),t.prototype.run=function(){return this.canRun()?this.taskService.runTest():i.TPromise.as(void 0)},t.ID="workbench.action.tasks.test",t.TEXT=n.localize(2,null),t=g([v(2,j.ITaskService),v(3,T.ITelemetryService),v(4,w.IMessageService),v(5,z.IWorkspaceContextService)],t)}(J),ne=(function(e){function t(t,n,i,r,o,s){e.call(this,t,n,i,r,o,s)}return d(t,e),t.prototype.run=function(){return this.canRun()?this.taskService.rebuild():i.TPromise.as(void 0)},t.ID="workbench.action.tasks.rebuild",t.TEXT=n.localize(3,null),t=g([v(2,j.ITaskService),v(3,T.ITelemetryService),v(4,w.IMessageService),v(5,z.IWorkspaceContextService)],t)}(J),function(e){function t(t,n,i,r,o,s){e.call(this,t,n,i,r,o,s)}return d(t,e),t.prototype.run=function(){return this.canRun()?this.taskService.clean():i.TPromise.as(void 0)},t.ID="workbench.action.tasks.clean",t.TEXT=n.localize(4,null),t=g([v(2,j.ITaskService),v(3,T.ITelemetryService),v(4,w.IMessageService),v(5,z.IWorkspaceContextService)],t)}(J),function(e){function t(t,n,i,r,o,s,a,c,u,l,h){e.call(this,t,n),this.environmentService=l,this.configurationResolverService=h,this.configurationService=i,this.editorService=r,this.fileService=o,this.contextService=s,this.outputService=a,this.messageService=c,this.quickOpenService=u}return d(t,e),t.prototype.run=function(e){var t=this;if(!this.contextService.getWorkspace())return this.messageService.show(r.default.Info,n.localize(5,null)),i.TPromise.as(void 0);var o=!(!e||!e.ctrlKey&&!e.metaKey),s=!1;return this.fileService.resolveFile(this.contextService.toResource(".vscode/tasks.json")).then(function(e){return e},function(e){return t.quickOpenService.pick(q.templates,{placeHolder:n.localize(6,null)}).then(function(e){if(e){var o;if(e.autoDetect){var a=t.outputService.getChannel(he.OutputChannelId);a.show(!0),a.append(n.localize(7,null,e.id)+"\n");var c=new X.ProcessRunnerDetector(t.fileService,t.contextService,t.configurationResolverService);o=c.detect(!1,e.id).then(function(i){var o=i.config;if(i.stderr&&i.stderr.length>0)return i.stderr.forEach(function(e){a.append(e+"\n")}),t.messageService.show(r.default.Warning,n.localize(8,null)),e.content;if(o){i.stdout&&i.stdout.length>0&&i.stdout.forEach(function(e){return a.append(e+"\n")});var s=JSON.stringify(o,null,"\t");return s=["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format"].join("\n")+s.substr(1)}return e.content})}else o=i.TPromise.as(e.content);return o.then(function(e){var n=t.configurationService.getConfiguration();return n.editor.insertSpaces&&(e=e.replace(/(\n)(\t+)/g,function(e,t,i){return t+y.repeat(" ",i.length*n.editor.tabSize)})),s=!0,t.fileService.createFile(t.contextService.toResource(".vscode/tasks.json"),e)})}})}).then(function(e){if(e)return t.editorService.openEditor({resource:e.resource,options:{forceOpen:!0,pinned:s}},o)},function(e){throw new Error(n.localize(9,null))})},t=g([v(2,x.IConfigurationService),v(3,B.IWorkbenchEditorService),v(4,A.IFileService),v(5,z.IWorkspaceContextService),v(6,G.IOutputService),v(7,w.IMessageService),v(8,N.IQuickOpenService),v(9,Q.IEnvironmentService),v(10,H.IConfigurationResolverService)],t)}(s.Action)),ie=function(e){function t(t,n,i,r,o,s,a,c,u,l,h){e.call(this,t,n,i,r,o,s,a,c,u,l,h)}return d(t,e),t.ID="workbench.action.tasks.configureTaskRunner",t.TEXT=n.localize(10,null),t=g([v(2,x.IConfigurationService),v(3,B.IWorkbenchEditorService),v(4,A.IFileService),v(5,z.IWorkspaceContextService),v(6,G.IOutputService),v(7,w.IMessageService),v(8,N.IQuickOpenService),v(9,Q.IEnvironmentService),v(10,H.IConfigurationResolverService)],t)}(ne),re=function(e){function t(t,n,i,r,o,s,a,c,u,l,h){e.call(this,t,n,i,r,o,s,a,c,u,l,h)}return d(t,e),t.ID="workbench.action.tasks.configureBuildTask",t.TEXT=n.localize(11,null),t=g([v(2,x.IConfigurationService),v(3,B.IWorkbenchEditorService),v(4,A.IFileService),v(5,z.IWorkspaceContextService),v(6,G.IOutputService),v(7,w.IMessageService),v(8,N.IQuickOpenService),v(9,Q.IEnvironmentService),v(10,H.IConfigurationResolverService)],t)}(ne),oe=function(e){function t(){e.call(this,t.ID,t.TEXT)}return d(t,e),t.prototype.run=function(){return this.closeFunction&&this.closeFunction(),i.TPromise.as(null)},t.ID="workbench.action.build.closeMessage",t.TEXT=n.localize(12,null),t}(s.Action),se=function(e){function t(t,n,i,r,o,s){e.call(this,t,n,i,r,o,s)}return d(t,e),t.prototype.run=function(){var e=this;return this.canRun()?this.taskService.isActive().then(function(t){if(t)return e.taskService.terminate().then(function(t){if(!t.success)return t.code&&t.code===m.TerminateResponseCode.ProcessNotFound?void e.messageService.show(r.default.Error,n.localize(14,null)):i.Promise.wrapError(n.localize(15,null))})}):i.TPromise.as(void 0)},t.ID="workbench.action.tasks.terminate",t.TEXT=n.localize(13,null),t=g([v(2,j.ITaskService),v(3,T.ITelemetryService),v(4,w.IMessageService),v(5,z.IWorkspaceContextService)],t)}(J),ae=function(e){function t(t,n,i,r,o,s,a){e.call(this,t,n,i,r,o,s),this.outputService=a}return d(t,e),t.prototype.run=function(){return this.canRun()?this.outputService.getChannel(he.OutputChannelId).show(!0):i.TPromise.as(void 0)},t.ID="workbench.action.tasks.showLog",t.TEXT=n.localize(16,null),t=g([v(2,j.ITaskService),v(3,T.ITelemetryService),v(4,w.IMessageService),v(5,z.IWorkspaceContextService),v(6,G.IOutputService)],t)}(J),ce=function(e){function t(t,n,i,r,o,s,a){e.call(this,t,n,r,o,s,a),this.quickOpenService=i}return d(t,e),t.prototype.run=function(e){return this.canRun()?(this.quickOpenService.show("task "),i.TPromise.as(null)):i.TPromise.as(void 0)},t.ID="workbench.action.tasks.runTask",t.TEXT=n.localize(17,null),t=g([v(2,N.IQuickOpenService),v(3,j.ITaskService),v(4,T.ITelemetryService),v(5,w.IMessageService),v(6,z.IWorkspaceContextService)],t)}(J),ue=function(){function e(e,t,n,i,r){this.partService=r,this.panelService=e,this.markerService=t,this.outputService=n,this.taskService=i,this.activeCount=0}return e.prototype.render=function(t){var i=this,r=[],o=document.createElement("div"),s=document.createElement("div"),u=document.createElement("a"),l=document.createElement("div"),h=document.createElement("div"),d=document.createElement("div");
a.addClass(o,"task-statusbar-item"),a.addClass(s,"task-statusbar-item-progress"),o.appendChild(s),s.innerHTML=e.progressChars[0],Z(s).hide(),a.addClass(u,"task-statusbar-item-label"),o.appendChild(u),o.title=n.localize(18,null),a.addClass(l,"task-statusbar-item-label-error"),l.innerHTML="0",u.appendChild(l),a.addClass(h,"task-statusbar-item-label-warning"),h.innerHTML="0",u.appendChild(h),a.addClass(d,"task-statusbar-item-label-info"),u.appendChild(d),Z(d).hide(),r.push(a.addDisposableListener(u,"click",function(e){var t=i.panelService.getActivePanel();t&&t.getId()===W.default.MARKERS_PANEL_ID?i.partService.setPanelHidden(!0):i.panelService.openPanel(W.default.MARKERS_PANEL_ID,!0)}));var p=function(e,t){return t>0?(e.innerHTML=t.toString(),Z(e).show(),!0):(Z(e).hide(),!1)},f=n.localize(19,null),g=function(e){l.innerHTML=e.errors<100?e.errors.toString():f,h.innerHTML=e.warnings<100?e.warnings.toString():f,p(d,e.infos)};return this.markerService.onMarkerChanged(function(e){g(i.markerService.getStatistics())}),r.push(this.taskService.addListener2(j.TaskServiceEvents.Active,function(){if(i.activeCount++,1===i.activeCount){var t=1,n=e.progressChars;s.innerHTML=n[0],i.intervalToken=setInterval(function(){s.innerHTML=n[t],t++,t>=n.length&&(t=0)},50),Z(s).show()}})),r.push(this.taskService.addListener2(j.TaskServiceEvents.Inactive,function(e){i.activeCount>0&&(i.activeCount--,0===i.activeCount&&(Z(s).hide(),i.intervalToken&&(clearInterval(i.intervalToken),i.intervalToken=null)))})),r.push(this.taskService.addListener2(j.TaskServiceEvents.Terminated,function(){0!==i.activeCount&&(Z(s).hide(),i.intervalToken&&(clearInterval(i.intervalToken),i.intervalToken=null),i.activeCount=0)})),t.appendChild(o),{dispose:function(){r=c.dispose(r)}}},e.progressChars="|/-\\",e=g([v(0,F.IPanelService),v(1,I.IMarkerService),v(2,G.IOutputService),v(3,j.ITaskService),v(4,V.IPartService)],e)}(),le=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.build=function(){return{kind:K.TaskExecuteKind.Started,promise:i.TPromise.as({})}},t.prototype.rebuild=function(){return{kind:K.TaskExecuteKind.Started,promise:i.TPromise.as({})}},t.prototype.clean=function(){return{kind:K.TaskExecuteKind.Started,promise:i.TPromise.as({})}},t.prototype.runTest=function(){return{kind:K.TaskExecuteKind.Started,promise:i.TPromise.as({})}},t.prototype.run=function(e){return{kind:K.TaskExecuteKind.Started,promise:i.TPromise.as({})}},t.prototype.isActive=function(){return i.TPromise.as(!1)},t.prototype.isActiveSync=function(){return!1},t.prototype.canAutoTerminate=function(){return!0},t.prototype.terminate=function(){return i.TPromise.as({success:!0})},t.prototype.tasks=function(){return i.TPromise.as([])},t}(u.EventEmitter),he=function(e){function t(n,i,r,o,s,a,c,u,l,h,d,p,f,g,v,m,y){var b=this;e.call(this),this.environmentService=m,this.configurationResolverService=y,this.modeService=n,this.configurationService=i,this.markerService=r,this.outputService=o,this.messageService=s,this.editorService=a,this.fileService=c,this.contextService=u,this.telemetryService=l,this.textFileService=h,this.eventService=p,this.modelService=f,this.extensionService=g,this.quickOpenService=v,this.taskSystemListeners=[],this.clearTaskSystemPromise=!1,this.outputChannel=this.outputService.getChannel(t.OutputChannelId),this.configurationService.onDidUpdateConfiguration(function(){b.emit(j.TaskServiceEvents.ConfigChanged),b._taskSystem&&b._taskSystem.isActiveSync()?b.clearTaskSystemPromise=!0:(b._taskSystem=null,b._taskSystemPromise=null),b.disposeTaskSystemListeners()}),d.onWillShutdown(function(e){return e.veto(b.beforeShutdown())})}return d(t,e),t.prototype.disposeTaskSystemListeners=function(){this.taskSystemListeners=c.dispose(this.taskSystemListeners)},t.prototype.disposeFileChangesListener=function(){this.fileChangesListener&&(this.fileChangesListener.dispose(),this.fileChangesListener=null)},Object.defineProperty(t.prototype,"taskSystemPromise",{get:function(){var e=this;if(!this._taskSystemPromise)if(this.contextService.getWorkspace()){var s=!0;this._taskSystemPromise=i.TPromise.as(this.configurationService.getConfiguration("tasks")).then(function(a){var c=a?a.$parseErrors:null;if(c){for(var u=!1,l=0;l<c.length;l++)if(/tasks\.json$/.test(c[l])){u=!0;break}if(u)return e.outputChannel.append(n.localize(21,null)),e.outputChannel.show(!0),i.TPromise.wrapError({})}var h;if(a)if(e.isRunnerConfig(a)&&e.hasDetectorSupport(a)){var d=a;h=new X.ProcessRunnerDetector(e.fileService,e.contextService,e.configurationResolverService,d).detect(!0).then(function(t){s=e.printStderr(t.stderr);var n=t.config;if(!n)return a;var i=o.clone(d),r=Object.create(null);return i.tasks?(i.tasks.forEach(function(e){return r[e.taskName]=e}),n.tasks.forEach(function(e){r[e.taskName]||i.tasks.push(e)})):n.tasks&&(i.tasks=n.tasks),i})}else h=i.TPromise.as(a);else h=new X.ProcessRunnerDetector(e.fileService,e.contextService,e.configurationResolverService).detect(!0).then(function(t){return s=e.printStderr(t.stderr),t.config});return h.then(function(i){if(!i)throw e._taskSystemPromise=null,new K.TaskError(r.default.Info,n.localize(22,null),K.TaskErrors.NotConfigured);var o=null;if("service"===i.buildSystem?o=new $.LanguageServiceTaskSystem(i,e.telemetryService,e.modeService):e.isRunnerConfig(i)&&(o=new Y.ProcessRunnerSystem(i,e.markerService,e.modelService,e.telemetryService,e.outputService,e.configurationResolverService,t.OutputChannelId,s)),null===o)throw e._taskSystemPromise=null,new K.TaskError(r.default.Info,n.localize(23,null),K.TaskErrors.NoValidTaskRunner);return e.taskSystemListeners.push(o.addListener2(K.TaskSystemEvents.Active,function(t){return e.emit(j.TaskServiceEvents.Active,t)})),e.taskSystemListeners.push(o.addListener2(K.TaskSystemEvents.Inactive,function(t){return e.emit(j.TaskServiceEvents.Inactive,t)})),e._taskSystem=o,o},function(t){return e.handleError(t),i.Promise.wrapError(t)})})}else this._taskSystem=new le,this._taskSystemPromise=i.TPromise.as(this._taskSystem);return this._taskSystemPromise},enumerable:!0,configurable:!0}),t.prototype.printStderr=function(e){var t=this,n=!0;return e&&e.length>0&&(e.forEach(function(e){n=!1,t.outputChannel.append(e+"\n")}),this.outputChannel.show(!0)),n},t.prototype.isRunnerConfig=function(e){return!e.buildSystem||"program"===e.buildSystem},t.prototype.hasDetectorSupport=function(e){return!!e.command&&X.ProcessRunnerDetector.supports(e.command)},t.prototype.configureAction=function(){return new ie(ie.ID,ie.TEXT,this.configurationService,this.editorService,this.fileService,this.contextService,this.outputService,this.messageService,this.quickOpenService,this.environmentService,this.configurationResolverService)},t.prototype.configureBuildTask=function(){return new re(re.ID,re.TEXT,this.configurationService,this.editorService,this.fileService,this.contextService,this.outputService,this.messageService,this.quickOpenService,this.environmentService,this.configurationResolverService)},t.prototype.build=function(){return this.executeTarget(function(e){return e.build()})},t.prototype.rebuild=function(){return this.executeTarget(function(e){return e.rebuild()})},t.prototype.clean=function(){return this.executeTarget(function(e){return e.clean()})},t.prototype.runTest=function(){return this.executeTarget(function(e){return e.runTest()})},t.prototype.run=function(e){return this.executeTarget(function(t){return t.run(e)})},t.prototype.executeTarget=function(e){var t=this;return this.textFileService.saveAll().then(function(i){return t.configurationService.reloadConfiguration().then(function(){return t.taskSystemPromise.then(function(i){var o=e(i);if(o.kind===K.TaskExecuteKind.Active){var s=o.active;if(!s.same||!s.watching)throw new K.TaskError(r.default.Warning,n.localize(25,null),K.TaskErrors.RunningTask);t.messageService.show(r.default.Info,n.localize(24,null))}return o}).then(function(n){if(n.kind===K.TaskExecuteKind.Started){if(n.started.restartOnFileChanges){var i=n.started.restartOnFileChanges;t.fileChangesListener=t.eventService.addListener2(A.EventType.FILE_CHANGES,function(n){var r=n.changes.some(function(e){return(e.type===A.FileChangeType.ADDED||e.type===A.FileChangeType.DELETED)&&!!p.match(i,e.resource.fsPath)});r&&t.terminate().done(function(){f.setTimeout(function(){t.executeTarget(e)},2e3)})})}return n.promise.then(function(e){return t.clearTaskSystemPromise&&(t._taskSystemPromise=null,t.clearTaskSystemPromise=!1),e})}return n.promise},function(e){t.handleError(e)})})})},t.prototype.isActive=function(){return this._taskSystemPromise?this.taskSystemPromise.then(function(e){return e.isActive()}):i.TPromise.as(!1)},t.prototype.terminate=function(){var e=this;return this._taskSystemPromise?this.taskSystemPromise.then(function(e){return e.terminate()}).then(function(t){return t.success&&(e.clearTaskSystemPromise&&(e._taskSystemPromise=null,e.clearTaskSystemPromise=!1),e.emit(j.TaskServiceEvents.Terminated,{}),e.disposeFileChangesListener()),t}):i.TPromise.as({success:!0})},t.prototype.tasks=function(){return this.taskSystemPromise.then(function(e){return e.tasks()})},t.prototype.beforeShutdown=function(){var e=this;return!(!this._taskSystem||!this._taskSystem.isActiveSync())&&(!this._taskSystem.canAutoTerminate()&&!this.messageService.confirm({message:n.localize(26,null),primaryButton:n.localize(27,null)})||this._taskSystem.terminate().then(function(t){return t.success?(e.emit(j.TaskServiceEvents.Terminated,{}),e._taskSystem=null,e.disposeFileChangesListener(),e.disposeTaskSystemListeners(),!1):!t.code||t.code!==m.TerminateResponseCode.ProcessNotFound||!e.messageService.confirm({message:n.localize(28,null),primaryButton:n.localize(29,null)})},function(e){return!0}))},t.prototype.getConfigureAction=function(e){switch(e){case K.TaskErrors.NoBuildTask:return this.configureBuildTask();default:return this.configureAction()}},t.prototype.handleError=function(e){var t=!0;if(e instanceof K.TaskError){var i=e,o=i.code===K.TaskErrors.NotConfigured||i.code===K.TaskErrors.NoBuildTask||i.code===K.TaskErrors.NoTestTask,s=i.code===K.TaskErrors.RunningTask;if(o||s){var a=new oe,c=o?this.getConfigureAction(i.code):new se(se.ID,se.TEXT,this,this.telemetryService,this.messageService,this.contextService);a.closeFunction=this.messageService.show(i.severity,{message:i.message,actions:[c,a]})}else this.messageService.show(i.severity,i.message)}else if(e instanceof Error){var u=e;this.messageService.show(r.default.Error,u.message)}else h.isString(e)?this.messageService.show(r.default.Error,e):this.messageService.show(r.default.Error,n.localize(30,null));t&&this.outputChannel.show(!0)},t.SERVICE_ID="taskService",t.OutputChannelId="tasks",t.OutputChannelLabel=n.localize(20,null),t=g([v(0,L.IModeService),v(1,x.IConfigurationService),v(2,I.IMarkerService),v(3,G.IOutputService),v(4,w.IMessageService),v(5,B.IWorkbenchEditorService),v(6,A.IFileService),v(7,z.IWorkspaceContextService),v(8,T.ITelemetryService),v(9,U.ITextFileService),v(10,S.ILifecycleService),v(11,C.IEventService),v(12,k.IModelService),v(13,D.IExtensionService),v(14,N.IQuickOpenService),v(15,Q.IEnvironmentService),v(16,H.IConfigurationResolverService)],t)}(u.EventEmitter),de=n.localize(31,null),pe=b.Registry.as(R.Extensions.WorkbenchActions);pe.registerWorkbenchAction(new E.SyncActionDescriptor(ie,ie.ID,ie.TEXT),"Tasks: Configure Task Runner",de),pe.registerWorkbenchAction(new E.SyncActionDescriptor(ee,ee.ID,ee.TEXT,{primary:49184}),"Tasks: Run Build Task",de),pe.registerWorkbenchAction(new E.SyncActionDescriptor(te,te.ID,te.TEXT),"Tasks: Run Test Task",de),pe.registerWorkbenchAction(new E.SyncActionDescriptor(se,se.ID,se.TEXT),"Tasks: Terminate Running Task",de),pe.registerWorkbenchAction(new E.SyncActionDescriptor(ae,ae.ID,ae.TEXT),"Tasks: Show Task Log",de),pe.registerWorkbenchAction(new E.SyncActionDescriptor(ce,ce.ID,ce.TEXT),"Tasks: Run Task",de),_.registerSingleton(j.ITaskService,he),b.Registry.as(M.Extensions.Quickopen).registerQuickOpenHandler(new M.QuickOpenHandlerDescriptor("vs/workbench/parts/tasks/browser/taskQuickOpen","QuickOpenHandler","task ",n.localize(32,null)));var fe=b.Registry.as(O.Extensions.Statusbar);fe.registerStatusbarItem(new O.StatusbarItemDescriptor(ue,O.StatusbarAlignment.LEFT,50));var ge=b.Registry.as(G.Extensions.OutputChannels);ge.registerChannel(he.OutputChannelId,he.OutputChannelLabel);var ve="vscode://schemas/tasks",me={id:ve,description:"Task definition file",type:"object",default:{version:"0.1.0",command:"myCommand",isShellCommand:!1,args:[],showOutput:"always",tasks:[{taskName:"build",showOutput:"silent",isBuildCommand:!0,problemMatcher:["$tsc","$lessCompile"]}]},definitions:{showOutputType:{type:"string",enum:["always","silent","never"]},patternType:{anyOf:[{type:"string",enum:["$tsc","$tsc-watch","$msCompile","$lessCompile","$gulp-tsc","$cpp","$csc","$vb","$jshint","$jshint-stylish","$eslint-compact","$eslint-stylish","$go"]},{$ref:"#/definitions/pattern"},{type:"array",items:{$ref:"#/definitions/pattern"}}]},pattern:{default:{regexp:"^([^\\\\s].*)\\\\((\\\\d+,\\\\d+)\\\\):\\\\s*(.*)$",file:1,location:2,message:3},additionalProperties:!1,properties:{regexp:{type:"string",description:n.localize(33,null)},file:{type:"integer",description:n.localize(34,null)},location:{type:"integer",description:n.localize(35,null)},line:{type:"integer",description:n.localize(36,null)},column:{type:"integer",description:n.localize(37,null)},endLine:{type:"integer",description:n.localize(38,null)},endColumn:{type:"integer",description:n.localize(39,null)},severity:{type:"integer",description:n.localize(40,null)},code:{type:"integer",description:n.localize(41,null)},message:{type:"integer",description:n.localize(42,null)},loop:{type:"boolean",description:n.localize(43,null)}}},problemMatcherType:{oneOf:[{type:"string",enum:["$tsc","$tsc-watch","$msCompile","$lessCompile","$gulp-tsc","$jshint","$jshint-stylish","$eslint-compact","$eslint-stylish","$go"]},{$ref:"#/definitions/problemMatcher"},{type:"array",items:{anyOf:[{$ref:"#/definitions/problemMatcher"},{type:"string",enum:["$tsc","$tsc-watch","$msCompile","$lessCompile","$gulp-tsc","$jshint","$jshint-stylish","$eslint-compact","$eslint-stylish","$go"]}]}}]},watchingPattern:{type:"object",additionalProperties:!1,properties:{regexp:{type:"string",description:n.localize(44,null)},file:{type:"integer",description:n.localize(45,null)}}},problemMatcher:{type:"object",additionalProperties:!1,properties:{base:{type:"string",enum:["$tsc","$tsc-watch","$msCompile","$lessCompile","$gulp-tsc","$jshint","$jshint-stylish","$eslint-compact","$eslint-stylish","$go"],description:n.localize(46,null)},owner:{type:"string",description:n.localize(47,null)},severity:{type:"string",enum:["error","warning","info"],description:n.localize(48,null)},applyTo:{type:"string",enum:["allDocuments","openDocuments","closedDocuments"],description:n.localize(49,null)},pattern:{$ref:"#/definitions/patternType",description:n.localize(50,null)},fileLocation:{oneOf:[{type:"string",enum:["absolute","relative"]},{type:"array",items:{type:"string"}}],description:n.localize(51,null)},watching:{type:"object",additionalProperties:!1,properties:{activeOnStart:{type:"boolean",description:n.localize(52,null)},beginsPattern:{oneOf:[{type:"string"},{type:"#/definitions/watchingPattern"}],description:n.localize(53,null)},endsPattern:{oneOf:[{type:"string"},{type:"#/definitions/watchingPattern"}],description:n.localize(54,null)}}},watchedTaskBeginsRegExp:{type:"string",description:n.localize(55,null)},watchedTaskEndsRegExp:{type:"string",description:n.localize(56,null)}}},baseTaskRunnerConfiguration:{type:"object",properties:{command:{type:"string",description:n.localize(57,null)},isShellCommand:{type:"boolean",default:!0,description:n.localize(58,null)},args:{type:"array",description:n.localize(59,null),items:{type:"string"}},options:{type:"object",description:n.localize(60,null),properties:{cwd:{type:"string",description:n.localize(61,null)},env:{type:"object",additionalProperties:{type:"string"},description:n.localize(62,null)}},additionalProperties:{type:["string","array","object"]}},showOutput:{$ref:"#/definitions/showOutputType",description:n.localize(63,null)},isWatching:{type:"boolean",description:n.localize(64,null),default:!0},promptOnClose:{type:"boolean",description:n.localize(65,null),default:!1},echoCommand:{type:"boolean",description:n.localize(66,null),default:!0},suppressTaskName:{type:"boolean",description:n.localize(67,null),default:!0},taskSelector:{type:"string",description:n.localize(68,null)},problemMatcher:{$ref:"#/definitions/problemMatcherType",description:n.localize(69,null)},tasks:{type:"array",description:n.localize(70,null),items:{type:"object",$ref:"#/definitions/taskDescription"}}}},taskDescription:{type:"object",required:["taskName"],additionalProperties:!1,properties:{taskName:{type:"string",description:n.localize(71,null)},args:{type:"array",description:n.localize(72,null),items:{type:"string"}},suppressTaskName:{type:"boolean",description:n.localize(73,null),default:!0},showOutput:{$ref:"#/definitions/showOutputType",description:n.localize(74,null)},echoCommand:{type:"boolean",description:n.localize(75,null),default:!0},isWatching:{type:"boolean",description:n.localize(76,null),default:!0},isBuildCommand:{type:"boolean",description:n.localize(77,null),default:!0},isTestCommand:{type:"boolean",description:n.localize(78,null),default:!0},problemMatcher:{$ref:"#/definitions/problemMatcherType",description:n.localize(79,null)}},defaultSnippets:[{label:"Empty task",body:{taskName:"${1:taskName}"}}]}},allOf:[{type:"object",required:["version"],properties:{version:{type:"string",enum:["0.1.0"],description:n.localize(80,null)},windows:{$ref:"#/definitions/baseTaskRunnerConfiguration",description:n.localize(81,null)},osx:{$ref:"#/definitions/baseTaskRunnerConfiguration",description:n.localize(82,null)},linux:{$ref:"#/definitions/baseTaskRunnerConfiguration",description:n.localize(83,null)}}},{$ref:"#/definitions/baseTaskRunnerConfiguration"}]},ye=b.Registry.as(P.Extensions.JSONContribution);ye.registerSchema(ve,me)}),define(l[1097],h([1,0,630,2,16,96,30,171,12,1087,17,320,118,15,46,26,51,55,25,134,33,114,73]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S,E,_,C,w){"use strict";var I=function(){function e(e,t,n,i,r,o){this.configurationService=e,this.contextService=t,this.environmentService=n,this.fileService=i,this.textModelResolverService=r,this.textFileService=o,this.queue=new l.Queue}return e.prototype.writeConfiguration=function(e,t,n){var i=this;void 0===n&&(n=null);var r={writeToBuffer:!1,autoSave:!1};return n=s.assign(r,n||{}),this.queue.queue(function(){return i.doWriteConfiguration(e,t,n)})},e.prototype.doWriteConfiguration=function(e,t,n){var r=this,o=this.getConfigurationEditOperation(e,t);return this.validate(e,o,n).then(function(t){if("number"==typeof t.error)return r.wrapError(t.error,e);var s,c=o.target,u=i.TPromise.as(null);return t.exists?s=t.contents:(s="{}",u=r.fileService.updateContent(c,s,{encoding:a.UTF8})),u.then(function(){return n.writeToBuffer?r.writeToBuffer(s,o,c,n):r.writeToDisk(s,o,c)})})},e.prototype.writeToBuffer=function(e,t,n,i){var r=this,o=this.textFileService.isDirty(n),s=this.getEdits(e,t)[0];return this.textModelResolverService.createModelReference(n).then(function(e){r.applyEditsToBuffer(s,e.object.textEditorModel)&&i.autoSave&&!o&&r.textFileService.save(n),e.dispose()})},e.prototype.applyEditsToBuffer=function(e,t){var n=t.getPositionAt(e.offset),i=t.getPositionAt(e.offset+e.length),r=new p.Range(n.lineNumber,n.column,i.lineNumber,i.column),o=t.getValueInRange(r);if(e.content!==o){var s=o?d.EditOperation.replace(r,e.content):d.EditOperation.insert(n,e.content);return t.pushEditOperations([new f.Selection(n.lineNumber,n.column,n.lineNumber,n.column)],[s],function(){return[]}),!0}return!1},e.prototype.writeToDisk=function(e,t,n){var i=this,r=this.applyEdits(e,t);return this.fileService.updateContent(n,r,{encoding:a.UTF8}).then(function(){return i.configurationService.reloadConfiguration().then(function(){})})},e.prototype.wrapError=function(e,t){var n=this.toErrorMessage(e,t);return i.TPromise.wrapError({code:e,message:n,toString:function(){return n}})},e.prototype.toErrorMessage=function(e,t){switch(e){case C.ConfigurationEditingErrorCode.ERROR_UNKNOWN_KEY:return n.localize(0,null);case C.ConfigurationEditingErrorCode.ERROR_INVALID_TARGET:return n.localize(1,null);case C.ConfigurationEditingErrorCode.ERROR_NO_WORKSPACE_OPENED:return n.localize(2,null);case C.ConfigurationEditingErrorCode.ERROR_INVALID_CONFIGURATION:return t===C.ConfigurationTarget.USER?n.localize(3,null):n.localize(4,null);case C.ConfigurationEditingErrorCode.ERROR_CONFIGURATION_FILE_DIRTY:return t===C.ConfigurationTarget.USER?n.localize(5,null):n.localize(6,null)}},e.prototype.applyEdits=function(e,t){var n=this.configurationService.getConfiguration("editor"),i=n.tabSize,r=n.insertSpaces,o=t.key,s=t.value;if(!o)return JSON.stringify(s,null,r?c.repeat(" ",i):"\t");var a=this.getEdits(e,t);return e=h.applyEdits(e,a)},e.prototype.getEdits=function(e,t){var n=this.configurationService.getConfiguration("editor"),i=n.tabSize,r=n.insertSpaces,o=this.configurationService.getConfiguration("files").eol,s=t.key,a=t.value;return u.setProperty(e,[s],a,{tabSize:i,insertSpaces:r,eol:o})},e.prototype.validate=function(e,t,n){var r=this;if(!t.isWorkspaceStandalone){var s=this.configurationService.keys().default;if(s.indexOf(t.key)<0)return i.TPromise.as({error:C.ConfigurationEditingErrorCode.ERROR_UNKNOWN_KEY})}if(t.isWorkspaceStandalone&&e===C.ConfigurationTarget.USER)return i.TPromise.as({error:C.ConfigurationEditingErrorCode.ERROR_INVALID_TARGET});if(e===C.ConfigurationTarget.WORKSPACE&&!this.contextService.getWorkspace())return i.TPromise.as({error:C.ConfigurationEditingErrorCode.ERROR_NO_WORKSPACE_OPENED});var a=t.target;return!n.writeToBuffer&&this.textFileService.isDirty(a)?i.TPromise.as({error:C.ConfigurationEditingErrorCode.ERROR_CONFIGURATION_FILE_DIRTY}):this.fileService.existsFile(a).then(function(e){return e?r.resolveContent(a,n).then(function(n){if(t.isWorkspaceStandalone&&!t.key)return{exists:e,contents:n};var i=[];return o.parse(n,i),i.length>0?{error:C.ConfigurationEditingErrorCode.ERROR_INVALID_CONFIGURATION}:{exists:e,contents:n}}):{exists:e}})},e.prototype.resolveContent=function(e,t){return t.writeToBuffer?this.textModelResolverService.createModelReference(e).then(function(e){return e.object.textEditorModel.getValue()}):this.fileService.resolveContent(e,{acceptTextOnly:!0,encoding:a.UTF8}).then(function(e){return e.value})},e.prototype.getConfigurationEditOperation=function(e,t){if(t.key)for(var n=Object.keys(E.WORKSPACE_STANDALONE_CONFIGURATIONS),i=0;i<n.length;i++){var o=n[i],s=this.contextService.toResource(E.WORKSPACE_STANDALONE_CONFIGURATIONS[o]);if(t.key===o)return{key:"",value:t.value,target:s,isWorkspaceStandalone:!0};var a=o+".";if(0===t.key.indexOf(a))return{key:t.key.substr(a.length),value:t.value,target:s,isWorkspaceStandalone:!0}}return e===C.ConfigurationTarget.USER?{key:t.key,value:t.value,target:r.default.file(this.environmentService.appSettingsPath)}:{key:t.key,value:t.value,target:this.contextService.toResource(E.WORKSPACE_CONFIG_DEFAULT_PATH)}},e=g([v(0,S.IConfigurationService),v(1,m.IWorkspaceContextService),v(2,y.IEnvironmentService),v(3,_.IFileService),v(4,w.ITextModelResolverService),v(5,b.ITextFileService)],e)}();t.ConfigurationEditingService=I}),define(l[265],h([1,0,638,11,2,7,98,97,119,5,20,346,21,69,55,28,161,125,33,6,18,54,40,19,17]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x){"use strict";var A=function(e){function t(n,r,o,s,a,u,l,h,d,p,f){var g=this;e.call(this,a,s),this.messageService=o,this.fileService=u,this.lifecycleService=l,this.instantiationService=h,this.telemetryService=d,this.textFileService=p,this.backupFileService=f,c.ok("file"===n.scheme,"TextFileEditorModel can only handle file:// resources."),this.resource=n,this.toDispose=[],this._onDidContentChange=new i.Emitter,this._onDidStateChange=new i.Emitter,this.toDispose.push(this._onDidContentChange),this.toDispose.push(this._onDidStateChange),this.preferredEncoding=r,this.dirty=!1,this.autoSavePromises=[],this.versionId=0,this.lastSaveAttemptTime=0,this.mapPendingSaveToVersionId={},this.contentChangeEventScheduler=new x.RunOnceScheduler(function(){return g._onDidContentChange.fire(m.StateChange.CONTENT_CHANGE)},t.DEFAULT_CONTENT_CHANGE_BUFFER_DELAY),this.toDispose.push(this.contentChangeEventScheduler),this.updateAutoSaveConfiguration(p.getAutoSaveConfiguration()),this.registerListeners()}return d(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.textFileService.onAutoSaveConfigurationChange(function(t){return e.updateAutoSaveConfiguration(t)})),this.toDispose.push(this.textFileService.onFilesAssociationChange(function(t){return e.onFilesAssociationChange()})),this.toDispose.push(this.onDidStateChange(function(t){t===m.StateChange.REVERTED&&(e.contentChangeEventScheduler.cancel(),e._onDidContentChange.fire(m.StateChange.REVERTED))}))},t.prototype.updateAutoSaveConfiguration=function(e){"number"==typeof e.autoSaveDelay&&e.autoSaveDelay>0?(this.autoSaveAfterMillies=e.autoSaveDelay,this.autoSaveAfterMilliesEnabled=!0):(this.autoSaveAfterMillies=void 0,this.autoSaveAfterMilliesEnabled=!1)},t.prototype.onFilesAssociationChange=function(){this.updateTextEditorModelMode()},Object.defineProperty(t.prototype,"onDidContentChange",{get:function(){return this._onDidContentChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidStateChange",{get:function(){return this._onDidStateChange.event},enumerable:!0,configurable:!0}),t.prototype.getVersionId=function(){return this.versionId},t.setSaveErrorHandler=function(e){t.saveErrorHandler=e},t.setSaveParticipant=function(e){t.saveParticipant=e},t.prototype.setConflictResolutionMode=function(){D("setConflictResolutionMode() - enabled conflict resolution mode",this.resource,new Date),this.inConflictResolutionMode=!0},t.prototype.isInConflictResolutionMode=function(){return this.inConflictResolutionMode},t.prototype.revert=function(){var e=this;if(!this.isResolved())return r.TPromise.as(null);this.cancelAutoSavePromises();var t=this.setDirty(!1);return this.load(!0).then(function(){e._onDidStateChange.fire(m.StateChange.REVERTED)},function(n){return n.fileOperationResult===E.FileOperationResult.FILE_NOT_FOUND?e._onDidStateChange.fire(m.StateChange.REVERTED):t(),r.TPromise.wrapError(n)})},t.prototype.load=function(e){var t=this;if(D("load() - enter",this.resource,new Date),this.dirty)return D("load() - exit - without loading because model is dirty",this.resource,new Date),r.TPromise.as(this);var n;return e?n=void 0:this.versionOnDiskStat&&(n=this.versionOnDiskStat.etag),this.textFileService.resolveTextContent(this.resource,{acceptTextOnly:!0,etag:n,encoding:this.preferredEncoding}).then(function(e){return t.loadWithContent(e)},function(e){var n=e.fileOperationResult;return n===E.FileOperationResult.FILE_NOT_MODIFIED_SINCE?(t.setDirty(!1),r.TPromise.as(t)):n!==E.FileOperationResult.FILE_NOT_FOUND||t.textEditorModel||t.createTextEditorModelPromise?r.TPromise.wrapError(e):t.backupFileService.loadBackupResource(t.resource).then(function(n){if(t.createTextEditorModelPromise)return t.createTextEditorModelPromise;if(t.textEditorModel)return r.TPromise.as(t.textEditorModel);if(n){var i={resource:t.resource,name:l.basename(t.resource.fsPath),mtime:Date.now(),etag:void 0,value:"",encoding:t.fileService.getEncoding(t.resource)};return t.loadWithContent(i)}return r.TPromise.wrapError(e)},function(t){return r.TPromise.wrapError(e)})})},t.prototype.loadWithContent=function(e){var t=this;D("load() - resolved content",this.resource,new Date),this.telemetryService.publicLog("fileGet",{mimeType:s.guessMimeTypes(this.resource.fsPath).join(", "),ext:l.extname(this.resource.fsPath),path:T.anonymize(this.resource.fsPath)});var n={resource:this.resource,name:e.name,mtime:e.mtime,etag:e.etag,isDirectory:!1,hasChildren:!1,children:void 0};this.updateVersionOnDiskStat(n);var i=this.contentEncoding;if(this.contentEncoding=e.encoding,this.preferredEncoding?this.updatePreferredEncoding(this.contentEncoding):i!==this.contentEncoding&&this._onDidStateChange.fire(m.StateChange.ENCODING),this.textEditorModel){D("load() - updated text editor model",this.resource,new Date),this.setDirty(!1),this.blockModelContentChange=!0;try{this.updateTextEditorModel(e.value)}finally{this.blockModelContentChange=!1}return r.TPromise.as(this)}return this.createTextEditorModelPromise?(D("load() - join existing text editor model promise",this.resource,new Date),this.createTextEditorModelPromise):(D("load() - created text editor model",this.resource,new Date),this.createTextEditorModelPromise=this.backupFileService.loadBackupResource(this.resource).then(function(n){var i;return i=n?t.textFileService.resolveTextContent(n,S.BACKUP_FILE_RESOLVE_OPTIONS).then(function(e){return t.backupFileService.parseBackupContent(e)},function(t){return e.value}):r.TPromise.as(e.value),i.then(function(i){return t.createTextEditorModel(i,e.resource).then(function(){return t.createTextEditorModelPromise=null,n?t.makeDirty():t.setDirty(!1),t.toDispose.push(t.textEditorModel.onDidChangeRawContent(function(e){return t.onModelContentChanged(e)})),t},function(e){return t.createTextEditorModelPromise=null,r.TPromise.wrapError(e)})})}),this.createTextEditorModelPromise)},t.prototype.getOrCreateMode=function(e,t,n){return e.getOrCreateModeByFilenameOrFirstLine(this.resource.fsPath,n)},t.prototype.onModelContentChanged=function(e){if(D("onModelContentChanged("+e.changeType+") - enter",this.resource,new Date),this.versionId++,D("onModelContentChanged() - new versionId "+this.versionId,this.resource,new Date),!this.blockModelContentChange){if(!this.autoSaveAfterMilliesEnabled&&this.textEditorModel.getAlternativeVersionId()===this.bufferSavedVersionId){D("onModelContentChanged() - model content changed back to last saved version",this.resource,new Date);var t=this.dirty;return this.setDirty(!1),void(t&&this._onDidStateChange.fire(m.StateChange.REVERTED))}D("onModelContentChanged() - model content changed and marked as dirty",this.resource,new Date),this.makeDirty(),this.autoSaveAfterMilliesEnabled&&(this.inConflictResolutionMode?D("makeDirty() - prevented save because we are in conflict resolution mode",this.resource,new Date):this.doAutoSave(this.versionId)),this.contentChangeEventScheduler.schedule()}},t.prototype.makeDirty=function(){var e=this.dirty;this.setDirty(!0),e||this._onDidStateChange.fire(m.StateChange.DIRTY)},t.prototype.doAutoSave=function(e){var t=this;D("doAutoSave() - enter for versionId "+e,this.resource,new Date),this.cancelAutoSavePromises();var n=r.TPromise.timeout(this.autoSaveAfterMillies).then(function(){e===t.versionId&&t.doSave(e,m.SaveReason.AUTO)});return this.autoSavePromises.push(n),n},t.prototype.cancelAutoSavePromises=function(){for(;this.autoSavePromises.length;)this.autoSavePromises.pop().cancel()},t.prototype.save=function(e){return void 0===e&&(e=Object.create(null)),this.isResolved()?(D("save() - enter",this.resource,new Date),this.cancelAutoSavePromises(),this.doSave(this.versionId,p.isUndefinedOrNull(e.reason)?m.SaveReason.EXPLICIT:e.reason,e.overwriteReadonly,e.overwriteEncoding)):r.TPromise.as(null)},t.prototype.doSave=function(e,n,i,o){var a=this;D("doSave("+e+") - enter with versionId ' + versionId",this.resource,new Date);var c=this.mapPendingSaveToVersionId[e];if(c)return D("doSave("+e+") - exit - found a pending save for versionId "+e,this.resource,new Date),c;if(!this.dirty||e!==this.versionId)return D("doSave("+e+") - exit - because not dirty and/or versionId is different (this.isDirty: "+this.dirty+", this.versionId: "+this.versionId+")",this.resource,new Date),r.TPromise.as(null);if(this.isBusySaving()&&(D("doSave("+e+") - exit - because busy saving",this.resource,new Date),
this.autoSaveAfterMilliesEnabled))return this.doAutoSave(e);this.autoSaveAfterMilliesEnabled||this.textEditorModel.pushStackElement();var u=r.TPromise.as(e);if(t.saveParticipant&&!this.lifecycleService.willShutdown){var h=function(){return a.blockModelContentChange=!1,a.versionId};u=r.TPromise.as(void 0).then(function(){return a.blockModelContentChange=!0,t.saveParticipant.participate(a,{reason:n})}).then(h,h)}return this.mapPendingSaveToVersionId[e]=u.then(function(t){return delete a.mapPendingSaveToVersionId[e],e=t,a.inErrorMode=!1,a.lastSaveAttemptTime=Date.now(),D("doSave("+e+") - before updateContent()",a.resource,new Date),a.mapPendingSaveToVersionId[e]=a.fileService.updateContent(a.versionOnDiskStat.resource,a.getValue(),{overwriteReadonly:i,overwriteEncoding:o,mtime:a.versionOnDiskStat.mtime,encoding:a.getEncoding(),etag:a.versionOnDiskStat.etag}).then(function(t){D("doSave("+e+") - after updateContent()",a.resource,new Date),delete a.mapPendingSaveToVersionId[e],a.telemetryService.publicLog("filePUT",{mimeType:s.guessMimeTypes(a.resource.fsPath).join(", "),ext:l.extname(a.versionOnDiskStat.resource.fsPath)}),e===a.versionId?(D("doSave("+e+") - setting dirty to false because versionId did not change",a.resource,new Date),a.setDirty(!1)):D("doSave("+e+") - not setting dirty to false because versionId did change meanwhile",a.resource,new Date),a.updateVersionOnDiskStat(t),a.contentChangeEventScheduler.cancel(),a._onDidStateChange.fire(m.StateChange.SAVED)},function(t){D("doSave("+e+") - exit - resulted in a save error: "+t.toString(),a.resource,new Date),delete a.mapPendingSaveToVersionId[e],a.inErrorMode=!0,a.onSaveError(t),a._onDidStateChange.fire(m.StateChange.SAVE_ERROR)}),a.mapPendingSaveToVersionId[e]}),this.mapPendingSaveToVersionId[e]},t.prototype.setDirty=function(e){var t=this,n=this.dirty,i=this.inConflictResolutionMode,r=this.inErrorMode,o=this.bufferSavedVersionId;return e?this.dirty=!0:(this.dirty=!1,this.inConflictResolutionMode=!1,this.inErrorMode=!1,this.textEditorModel&&(this.bufferSavedVersionId=this.textEditorModel.getAlternativeVersionId())),function(){t.dirty=n,t.inConflictResolutionMode=i,t.inErrorMode=r,t.bufferSavedVersionId=o}},t.prototype.updateVersionOnDiskStat=function(e){this.versionOnDiskStat?this.versionOnDiskStat.mtime<=e.mtime&&(this.versionOnDiskStat=e):this.versionOnDiskStat=e},t.prototype.onSaveError=function(e){t.saveErrorHandler||t.setSaveErrorHandler(this.instantiationService.createInstance(L)),t.saveErrorHandler.onSaveError(e,this)},t.prototype.isDirty=function(){return this.dirty},t.prototype.getLastSaveAttemptTime=function(){return this.lastSaveAttemptTime},t.prototype.getLastModifiedTime=function(){return this.versionOnDiskStat?this.versionOnDiskStat.mtime:-1},t.prototype.getState=function(){return this.inConflictResolutionMode?m.ModelState.CONFLICT:this.inErrorMode?m.ModelState.ERROR:this.dirty?this.isBusySaving()?m.ModelState.PENDING_SAVE:this.dirty?m.ModelState.DIRTY:void 0:m.ModelState.SAVED},t.prototype.isBusySaving=function(){return!p.isEmptyObject(this.mapPendingSaveToVersionId)},t.prototype.getEncoding=function(){return this.preferredEncoding||this.contentEncoding},t.prototype.setEncoding=function(e,t){if(this.isNewEncoding(e))if(t===y.EncodingMode.Encode)this.updatePreferredEncoding(e),this.isDirty()||(this.versionId++,this.makeDirty()),this.inConflictResolutionMode||this.save({overwriteEncoding:!0}).done(null,o.onUnexpectedError);else{if(this.isDirty())return void this.messageService.show(C.Severity.Info,n.localize(0,null));this.updatePreferredEncoding(e),this.load(!0).done(null,o.onUnexpectedError)}},t.prototype.updatePreferredEncoding=function(e){this.isNewEncoding(e)&&(this.preferredEncoding=e,this._onDidStateChange.fire(m.StateChange.ENCODING))},t.prototype.isNewEncoding=function(e){return this.preferredEncoding!==e&&!(!this.preferredEncoding&&this.contentEncoding===e)},t.prototype.isResolved=function(){return!p.isUndefinedOrNull(this.versionOnDiskStat)},t.prototype.isDisposed=function(){return this.disposed},t.prototype.getResource=function(){return this.resource},t.prototype.dispose=function(){this.disposed=!0,this.inConflictResolutionMode=!1,this.inErrorMode=!1,this.toDispose=u.dispose(this.toDispose),this.createTextEditorModelPromise=null,this.cancelAutoSavePromises(),this.contentChangeEventScheduler.cancel(),e.prototype.dispose.call(this)},t.ID="workbench.editors.files.textFileEditorModel",t.DEFAULT_CONTENT_CHANGE_BUFFER_DELAY=E.CONTENT_CHANGE_EVENT_BUFFER_DELAY,t=g([v(2,C.IMessageService),v(3,w.IModeService),v(4,I.IModelService),v(5,E.IFileService),v(6,f.ILifecycleService),v(7,_.IInstantiationService),v(8,T.ITelemetryService),v(9,m.ITextFileService),v(10,S.IBackupFileService)],t)}(b.BaseTextEditorModel);t.TextFileEditorModel=A;var D,L=function(){function e(e){this.messageService=e}return e.prototype.onSaveError=function(e,t){this.messageService.show(C.Severity.Error,n.localize(1,null,l.basename(t.getResource().fsPath),a.toErrorMessage(e,!1)))},e=g([v(0,C.IMessageService)],e)}();D||(D=h.register("TextFileEditorModelDiagnostics",function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];console.log(e[1]+" - "+e[0]+" (time: "+e[2].getTime()+" ["+e[2].toUTCString()+"])")}))}),define(l[1099],h([1,0,11,2,265,5,41,55,69,47,6,33]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";var d=function(){function e(e,t,i,r){this.lifecycleService=e,this.eventService=t,this.instantiationService=i,this.editorGroupService=r,this.toUnbind=[],this._onModelDisposed=new n.Emitter,this._onModelContentChanged=new n.Emitter,this._onModelDirty=new n.Emitter,this._onModelSaveError=new n.Emitter,this._onModelSaved=new n.Emitter,this._onModelReverted=new n.Emitter,this._onModelEncodingChanged=new n.Emitter,this.toUnbind.push(this._onModelDisposed),this.toUnbind.push(this._onModelContentChanged),this.toUnbind.push(this._onModelDirty),this.toUnbind.push(this._onModelSaveError),this.toUnbind.push(this._onModelSaved),this.toUnbind.push(this._onModelReverted),this.toUnbind.push(this._onModelEncodingChanged),this.mapResourceToModel=Object.create(null),this.mapResourceToDisposeListener=Object.create(null),this.mapResourceToStateChangeListener=Object.create(null),this.mapResourceToModelContentChangeListener=Object.create(null),this.mapResourceToPendingModelLoaders=Object.create(null),this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.editorGroupService.onEditorsChanged(function(){return e.onEditorsChanged()})),this.toUnbind.push(this.editorGroupService.getStacksModel().onEditorClosed(function(){return e.onEditorClosed()})),this.toUnbind.push(this.eventService.addListener2("files.internal:fileChanged",function(t){return e.onLocalFileChange(t)})),this.toUnbind.push(this.eventService.addListener2(h.EventType.FILE_CHANGES,function(t){return e.onFileChanges(t)})),this.lifecycleService.onShutdown(this.dispose,this)},e.prototype.onEditorsChanged=function(){this.disposeUnusedModels()},e.prototype.onEditorClosed=function(){this.disposeUnusedModels()},e.prototype.disposeModelIfPossible=function(e){var t=this.get(e);this.canDispose(t)&&t.dispose()},e.prototype.onLocalFileChange=function(e){(e.gotMoved()||e.gotDeleted())&&this.disposeModelIfPossible(e.getBefore().resource)},e.prototype.onFileChanges=function(t){var n=this;t.getDeleted().forEach(function(e){n.disposeModelIfPossible(e.resource)}),t.getUpdated().map(function(e){return n.get(e.resource)}).filter(function(t){return!!t&&!(Date.now()-t.getLastSaveAttemptTime()<e.FILE_CHANGE_UPDATE_DELAY)}).forEach(function(e){return n.disposeModelIfPossible(e.getResource())})},e.prototype.canDispose=function(e){return!!e&&(!e.isDisposed()&&((!e.textEditorModel||!e.textEditorModel.isAttachedToEditor())&&(e.getState()===a.ModelState.SAVED&&!this.mapResourceToPendingModelLoaders[e.getResource().toString()])))},Object.defineProperty(e.prototype,"onModelDisposed",{get:function(){return this._onModelDisposed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelContentChanged",{get:function(){return this._onModelContentChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelDirty",{get:function(){return this._onModelDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelSaveError",{get:function(){return this._onModelSaveError.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelSaved",{get:function(){return this._onModelSaved.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelReverted",{get:function(){return this._onModelReverted.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelEncodingChanged",{get:function(){return this._onModelEncodingChanged.event},enumerable:!0,configurable:!0}),e.prototype.get=function(e){return this.mapResourceToModel[e.toString()]},e.prototype.loadOrCreate=function(e,t,n){var o=this,s=this.mapResourceToPendingModelLoaders[e.toString()];if(s)return s;var c,u=this.get(e);return u?c=n?u.load():i.TPromise.as(u):(u=this.instantiationService.createInstance(r.TextFileEditorModel,e,t),c=u.load(),this.mapResourceToStateChangeListener[e.toString()]=u.onDidStateChange(function(e){var t=new a.TextFileModelChangeEvent(u,e);switch(e){case a.StateChange.DIRTY:o._onModelDirty.fire(t);break;case a.StateChange.SAVE_ERROR:o._onModelSaveError.fire(t);break;case a.StateChange.SAVED:o._onModelSaved.fire(t);break;case a.StateChange.REVERTED:o._onModelReverted.fire(t);break;case a.StateChange.ENCODING:o._onModelEncodingChanged.fire(t)}}),this.mapResourceToModelContentChangeListener[e.toString()]=u.onDidContentChange(function(e){o._onModelContentChanged.fire(new a.TextFileModelChangeEvent(u,e))})),this.mapResourceToPendingModelLoaders[e.toString()]=c,c.then(function(t){return o.add(e,t),t.isDirty()&&o._onModelDirty.fire(new a.TextFileModelChangeEvent(t,a.StateChange.DIRTY)),o.mapResourceToPendingModelLoaders[e.toString()]=null,t},function(t){return u.dispose(),o.mapResourceToPendingModelLoaders[e.toString()]=null,i.TPromise.wrapError(t)})},e.prototype.getAll=function(e){var t=this;return Object.keys(this.mapResourceToModel).filter(function(t){return!e||e.toString()===t}).map(function(e){return t.mapResourceToModel[e]})},e.prototype.add=function(e,t){var n=this,i=this.mapResourceToModel[e.toString()];if(i!==t){var r=this.mapResourceToDisposeListener[e.toString()];r&&r.dispose(),this.mapResourceToModel[e.toString()]=t,this.mapResourceToDisposeListener[e.toString()]=t.onDispose(function(){n.remove(e),n._onModelDisposed.fire(e)})}},e.prototype.remove=function(e){delete this.mapResourceToModel[e.toString()];var t=this.mapResourceToDisposeListener[e.toString()];t&&(o.dispose(t),delete this.mapResourceToDisposeListener[e.toString()]);var n=this.mapResourceToStateChangeListener[e.toString()];n&&(o.dispose(n),delete this.mapResourceToStateChangeListener[e.toString()]);var i=this.mapResourceToModelContentChangeListener[e.toString()];i&&(o.dispose(i),delete this.mapResourceToModelContentChangeListener[e.toString()])},e.prototype.clear=function(){var e=this;this.mapResourceToModel=Object.create(null);var t=Object.keys(this.mapResourceToDisposeListener);o.dispose(t.map(function(t){return e.mapResourceToDisposeListener[t]})),this.mapResourceToDisposeListener=Object.create(null),t=Object.keys(this.mapResourceToStateChangeListener),o.dispose(t.map(function(t){return e.mapResourceToStateChangeListener[t]})),this.mapResourceToStateChangeListener=Object.create(null),t=Object.keys(this.mapResourceToModelContentChangeListener),o.dispose(t.map(function(t){return e.mapResourceToModelContentChangeListener[t]})),this.mapResourceToModelContentChangeListener=Object.create(null)},e.prototype.disposeUnusedModels=function(){var e=this;this.getAll().filter(function(t){return!e.editorGroupService.getStacksModel().isOpen(t.getResource())}).forEach(function(t){return e.disposeModelIfPossible(t.getResource())})},e.prototype.dispose=function(){this.toUnbind=o.dispose(this.toUnbind)},e.FILE_CHANGE_UPDATE_DELAY=2e3,e=g([v(0,c.ILifecycleService),v(1,u.IEventService),v(2,l.IInstantiationService),v(3,s.IEditorGroupService)],e)}();t.TextFileEditorModelManager=d}),define(l[80],h([1,0,6]),function(e,t,n){"use strict";t.IThemeService=n.createDecorator("themeService"),t.VS_LIGHT_THEME="vs",t.VS_DARK_THEME="vs-dark",t.VS_HC_THEME="hc-black"}),define(l[193],h([1,0,30,173,72,139,26,38,25,47,6,18,19,22,80]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m){"use strict";var y=function(e){function t(t,n,i,r,o,s,a,c,u,l){var h=this;e.call(this,t,n),this._instantiationService=i,this._contextService=r,this._storageService=o,this._messageService=s,this.configurationService=a,this._eventService=c,this._editorService=u,this.themeService=l,this.toUnbind.push(this.configurationService.onDidUpdateConfiguration(function(e){return h.handleConfigurationChangeEvent(e.config)})),this.toUnbind.push(l.onDidColorThemeChange(function(e){return h.handleConfigurationChangeEvent()}))}return d(t,e),Object.defineProperty(t.prototype,"instantiationService",{get:function(){return this._instantiationService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contextService",{get:function(){return this._contextService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storageService",{get:function(){return this._storageService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"messageService",{get:function(){return this._messageService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eventService",{get:function(){return this._eventService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editorService",{get:function(){return this._editorService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editorContainer",{get:function(){return this._editorContainer},enumerable:!0,configurable:!0}),t.prototype.handleConfigurationChangeEvent=function(e){this.isVisible()?this.applyConfiguration(e):this.hasPendingConfigurationChange=!0},t.prototype.consumePendingConfigurationChangeEvent=function(){this.hasPendingConfigurationChange&&(this.applyConfiguration(this.configurationService.getConfiguration()),this.hasPendingConfigurationChange=!1)},t.prototype.applyConfiguration=function(e){if(this.editorControl)if(e){var t=this.getCodeEditorOptions();e=n.clone(e),n.assign(e[o.EditorConfiguration.EDITOR_SECTION],t),o.EditorConfiguration.apply(e,this.editorControl)}else this.editorControl.updateOptions(this.getCodeEditorOptions())},t.prototype.getCodeEditorOptions=function(){return{overviewRulerLanes:3,lineNumbersMinChars:3,theme:this.themeService.getColorTheme(),fixedOverflowWidgets:!0}},t.prototype.createEditor=function(e){this._editorContainer=e,this.editorControl=this.createEditorControl(e),this.applyConfiguration(this.configurationService.getConfiguration())},t.prototype.createEditorControl=function(e){return this.instantiationService.createInstance(i.CodeEditor,e.getHTMLElement(),this.getCodeEditorOptions())},t.prototype.setInput=function(t,n){var i=this;return e.prototype.setInput.call(this,t,n).then(function(){i.editorControl.updateOptions(i.getCodeEditorOptions())})},t.prototype.setEditorVisible=function(t,n){void 0===n&&(n=null),t?(this.consumePendingConfigurationChangeEvent(),this.editorControl.onVisible()):this.editorControl.onHide(),e.prototype.setEditorVisible.call(this,t,n)},t.prototype.focus=function(){this.editorControl.focus()},t.prototype.layout=function(e){this.editorControl.layout(e)},t.prototype.getControl=function(){return this.editorControl},t.prototype.dispose=function(){this.editorControl.destroy(),e.prototype.dispose.call(this)},t=g([v(1,p.ITelemetryService),v(2,l.IInstantiationService),v(3,s.IWorkspaceContextService),v(4,a.IStorageService),v(5,h.IMessageService),v(6,c.IConfigurationService),v(7,u.IEventService),v(8,f.IWorkbenchEditorService),v(9,m.IThemeService)],t)}(r.BaseEditor);t.BaseTextEditor=y}),define(l[1102],h([1,0,507,16,17,2,7,5,8,13,111,216,278,10,49,27,40,113,23,19,39,6,38,1042,913,82,116,911,89,80,76,765]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P,R){"use strict";var O=c.$,M={twistiePixels:20,ariaLabel:n.localize(0,null)},N="debug.repl.history",F=w.createDecorator("privateReplService"),W=function(e){function t(n,i,r,o,s,a,c,u,l){e.call(this,A.REPL_ID,r),this.debugService=n,this.contextMenuService=i,this.instantiationService=o,this.storageService=s,this.panelService=a,this.themeService=c,this.modelService=u,this.contextKeyService=l,this.replInputHeight=t.REPL_INPUT_INITIAL_HEIGHT,this.toDispose=[],this.registerListeners()}return d(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.debugService.getModel().onDidChangeReplElements(function(){e.refreshReplElements(0===e.debugService.getModel().getReplElements().length)})),this.toDispose.push(this.themeService.onDidColorThemeChange(function(t){return e.replInput.updateOptions(e.getReplInputOptions())})),this.toDispose.push(this.panelService.onDidPanelOpen(function(t){return e.refreshReplElements(!0)}))},t.prototype.refreshReplElements=function(e){var n=this;if(this.tree&&this.isVisible()){if(this.refreshTimeoutHandle)return;var i=e?0:t.REFRESH_DELAY;this.refreshTimeoutHandle=setTimeout(function(){n.refreshTimeoutHandle=null;var e=n.tree.getScrollPosition();n.tree.refresh().then(function(){1!==e&&0!==e||n.tree.setScrollPosition(1)},s.onUnexpectedError)},i)}},t.prototype.create=function(n){e.prototype.create.call(this,n);var i=c.append(n.getHTMLElement(),O(".repl"));this.treeContainer=c.append(i,O(".repl-tree")),this.createReplInput(i),this.characterWidthSurveyor=c.append(i,O(".surveyor")),this.characterWidthSurveyor.textContent=t.HALF_WIDTH_TYPICAL;for(var r=0;r<10;r++)this.characterWidthSurveyor.textContent+=this.characterWidthSurveyor.textContent;return this.characterWidthSurveyor.style.fontSize=u.isMacintosh?"12px":"14px",this.renderer=this.instantiationService.createInstance(T.ReplExpressionsRenderer),this.tree=new l.Tree(this.treeContainer,{dataSource:new T.ReplExpressionsDataSource,renderer:this.renderer,accessibilityProvider:new T.ReplExpressionsAccessibilityProvider,controller:this.instantiationService.createInstance(T.ReplExpressionsController,this.replInput,new T.ReplExpressionsActionProvider(this.instantiationService))},M),t.HISTORY||(t.HISTORY=new L.ReplHistory(JSON.parse(this.storageService.get(N,I.StorageScope.WORKSPACE,"[]")))),this.tree.setInput(this.debugService.getModel())},t.prototype.createReplInput=function(e){var n=this;this.replInputContainer=c.append(e,O(".repl-input-wrapper"));var s=this.contextKeyService.createScoped(this.replInputContainer);this.toDispose.push(s),A.CONTEXT_IN_DEBUG_REPL.bindTo(s).set(!0);var a=A.CONTEXT_ON_FIRST_DEBUG_REPL_LINE.bindTo(s);a.set(!0);var u=A.CONTEXT_ON_LAST_DEBUG_REPL_LINE.bindTo(s);u.set(!0);var l=this.instantiationService.createChild(new S.ServiceCollection([E.IContextKeyService,s],[F,this]));this.replInput=l.createInstance(x.ReplEditor,this.replInputContainer,this.getReplInputOptions());var h=this.modelService.createModel("",null,i.default.parse(A.DEBUG_SCHEME+":input"));this.replInput.setModel(h),m.SuggestRegistry.register({scheme:A.DEBUG_SCHEME},{triggerCharacters:["."],provideCompletionItems:function(e,t,i){var s=n.replInput.getModel().getWordAtPosition(t),a=s?s.word.length:0,c=n.replInput.getModel().getLineContent(t.lineNumber),u=n.debugService.getViewModel().focusedStackFrame,l=u?u.frameId:void 0,h=n.debugService.getViewModel().focusedProcess,d=h?h.completions(l,c,t,a):o.TPromise.as([]);return r.wireCancellationToken(i,d.then(function(e){return{suggestions:e}}))}}),this.toDispose.push(this.replInput.onDidScrollChange(function(e){e.scrollHeightChanged&&(n.replInputHeight=Math.min(t.REPL_INPUT_MAX_HEIGHT,e.scrollHeight,n.dimension.height),n.layout(n.dimension))})),this.toDispose.push(this.replInput.onDidChangeCursorPosition(function(e){a.set(1===e.position.lineNumber),u.set(e.position.lineNumber===n.replInput.getModel().getLineCount())})),this.toDispose.push(c.addStandardDisposableListener(this.replInputContainer,c.EventType.FOCUS,function(){return c.addClass(n.replInputContainer,"synthetic-focus")})),this.toDispose.push(c.addStandardDisposableListener(this.replInputContainer,c.EventType.BLUR,function(){return c.removeClass(n.replInputContainer,"synthetic-focus")}))},t.prototype.navigateHistory=function(e){var n=e?t.HISTORY.previous():t.HISTORY.next();n&&(t.HISTORY.remember(this.replInput.getValue(),e),this.replInput.setValue(n),this.replInput.setPosition({lineNumber:1,column:n.length+1}))},t.prototype.acceptReplInput=function(){this.debugService.addReplExpression(this.replInput.getValue()),t.HISTORY.evaluated(this.replInput.getValue()),this.replInput.setValue(""),this.replInputHeight=t.REPL_INPUT_INITIAL_HEIGHT,this.layout(this.dimension)},t.prototype.layout=function(e){if(this.dimension=e,this.tree){this.renderer.setWidth(e.width-25,this.characterWidthSurveyor.clientWidth/this.characterWidthSurveyor.textContent.length);var t=e.height-this.replInputHeight;this.treeContainer.style.height=t+"px",this.tree.layout(t)}this.replInputContainer.style.height=this.replInputHeight+"px",this.replInput.layout({width:e.width-20,height:this.replInputHeight})},t.prototype.focus=function(){this.replInput.focus()},t.prototype.getActions=function(){var e=this;return this.actions||(this.actions=[this.instantiationService.createInstance(D.ClearReplAction,D.ClearReplAction.ID,D.ClearReplAction.LABEL)],this.actions.forEach(function(t){e.toDispose.push(t)})),this.actions},t.prototype.shutdown=function(){this.storageService.store(N,JSON.stringify(t.HISTORY.save()),I.StorageScope.WORKSPACE)},t.prototype.getReplInputOptions=function(){return{wrappingColumn:0,overviewRulerLanes:0,glyphMargin:!1,lineNumbers:"off",folding:!1,selectOnLineNumbers:!1,selectionHighlight:!1,scrollbar:{horizontal:"hidden"},lineDecorationsWidth:0,scrollBeyondLastLine:!1,theme:this.themeService.getColorTheme(),renderLineHighlight:"none",fixedOverflowWidgets:!0,acceptSuggestionOnEnter:!1}},t.prototype.dispose=function(){this.replInput.destroy(),this.toDispose=a.dispose(this.toDispose),e.prototype.dispose.call(this)},t.HALF_WIDTH_TYPICAL="n",t.REFRESH_DELAY=500,t.REPL_INPUT_INITIAL_HEIGHT=19,t.REPL_INPUT_MAX_HEIGHT=170,t=g([v(0,A.IDebugService),v(1,C.IContextMenuService),v(2,_.ITelemetryService),v(3,w.IInstantiationService),v(4,I.IStorageService),v(5,R.IPanelService),v(6,P.IThemeService),v(7,b.IModelService),v(8,E.IContextKeyService)],t)}(k.Panel);t.Repl=W;var V=(function(e){function t(){e.call(this,{id:"repl.action.historyPrevious",label:n.localize(1,null),alias:"History Previous",precondition:A.CONTEXT_IN_DEBUG_REPL,kbOpts:{kbExpr:E.ContextKeyExpr.and(f.EditorContextKeys.TextFocus,A.CONTEXT_ON_FIRST_DEBUG_REPL_LINE),primary:16,weight:50},menuOpts:{group:"debug"}})}return d(t,e),t.prototype.run=function(e,t){e.get(F).navigateHistory(!0)},t=g([y.editorAction],t)}(y.EditorAction),function(e){function t(){e.call(this,{id:"repl.action.historyNext",label:n.localize(2,null),alias:"History Next",precondition:A.CONTEXT_IN_DEBUG_REPL,kbOpts:{kbExpr:E.ContextKeyExpr.and(f.EditorContextKeys.TextFocus,A.CONTEXT_ON_LAST_DEBUG_REPL_LINE),primary:18,weight:50},menuOpts:{group:"debug"}})}return d(t,e),t.prototype.run=function(e,t){e.get(F).navigateHistory(!1)},t=g([y.editorAction],t)}(y.EditorAction),function(e){function t(){e.call(this,{id:"repl.action.acceptInput",label:n.localize(3,null),alias:"REPL Accept Input",precondition:A.CONTEXT_IN_DEBUG_REPL,kbOpts:{kbExpr:f.EditorContextKeys.TextFocus,primary:3,weight:50}})}return d(t,e),t.prototype.run=function(e,t){p.SuggestController.get(t).acceptSelectedSuggestion(),e.get(F).acceptReplInput()},t=g([y.editorAction],t)}(y.EditorAction),y.EditorCommand.bindToContribution(p.SuggestController.get));y.CommonEditorRegistry.registerEditorCommand(new V({id:"repl.action.acceptSuggestion",precondition:E.ContextKeyExpr.and(A.CONTEXT_IN_DEBUG_REPL,h.Context.Visible),handler:function(e){return e.acceptSelectedSuggestion()},kbOpts:{weight:50,kbExpr:f.EditorContextKeys.TextFocus,primary:17}}))}),define(l[1103],h([1,0,579,2,5,72,19,26,161,317,80,131,73,197]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f){"use strict";var m=function(e){function t(n,i,o,s,a){e.call(this,t.ID,n),this._modelChangeSubscription=r.empty,this._themeChangeSubscription=r.empty,this._textModelResolverService=i,this._themeService=o,this._openerService=s,this._baseUrl=a.toResource("/")}return d(t,e),Object.defineProperty(t.prototype,"_model",{get:function(){return this._modelRef.object.textEditorModel},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._webviewDisposables=r.dispose(this._webviewDisposables),this._themeChangeSubscription.dispose(),this._modelChangeSubscription.dispose(),r.dispose(this._modelRef),e.prototype.dispose.call(this)},t.prototype.createEditor=function(e){this._container=document.createElement("div"),this._container.style.paddingLeft="20px",e.getHTMLElement().appendChild(this._container)},Object.defineProperty(t.prototype,"webview",{get:function(){var e=this;return this._webview||(this._webview=new f.default(this._container,document.querySelector(".monaco-editor-background"),{nodeintegration:!0}),this._webview.baseUrl=this._baseUrl&&this._baseUrl.toString(!0),this._webviewDisposables=[this._webview,this._webview.onDidClickLink(function(t){return e._openerService.open(t)}),this._webview.onDidLoadContent(function(t){return e.telemetryService.publicLog("previewHtml",t.stats)})]),this._webview},enumerable:!0,configurable:!0}),t.prototype.changePosition=function(t){this._doSetVisible(!1),this._doSetVisible(!0),e.prototype.changePosition.call(this,t)},t.prototype.setEditorVisible=function(t,n){this._doSetVisible(t),e.prototype.setEditorVisible.call(this,t,n)},t.prototype._doSetVisible=function(e){var t=this;e?(this._themeChangeSubscription=this._themeService.onDidColorThemeChange(function(e){return t.webview.style(e)}),this.webview.style(this._themeService.getColorTheme()),this._hasValidModel()&&(this._modelChangeSubscription=this._model.onDidChangeContent(function(){return t.webview.contents=t._model.getLinesContent()}),this.webview.contents=this._model.getLinesContent())):(this._themeChangeSubscription.dispose(),this._modelChangeSubscription.dispose(),this._webviewDisposables=r.dispose(this._webviewDisposables),this._webview=void 0)},t.prototype._hasValidModel=function(){return this._modelRef&&this._model&&!this._model.isDisposed()},t.prototype.layout=function(e){var t=e.width,n=e.height;this._container.style.width=Math.max(t-20,0)+"px",this._container.style.height=n+"px"},t.prototype.focus=function(){this.webview.focus()},t.prototype.clearInput=function(){r.dispose(this._modelRef),this._modelRef=void 0,e.prototype.clearInput.call(this)},t.prototype.setInput=function(t,r){var o=this;return this.input&&this.input.matches(t)&&this._hasValidModel()?i.TPromise.as(void 0):(this._modelRef&&this._modelRef.dispose(),this._modelChangeSubscription.dispose(),t instanceof u.HtmlInput?e.prototype.setInput.call(this,t,r).then(function(){var e=t.getResource();return o._textModelResolverService.createModelReference(e).then(function(t){var r=t.object;return r instanceof c.BaseTextEditorModel&&(o._modelRef=t),o._model?(o._modelChangeSubscription=o._model.onDidChangeContent(function(){return o.webview.contents=o._model.getLinesContent()}),o.webview.baseUrl=e.toString(!0),void(o.webview.contents=o._model.getLinesContent())):i.TPromise.wrapError(n.localize(0,null))})}):i.TPromise.wrapError("Invalid input"))},t.ID="workbench.editor.htmlPreviewPart",t=g([v(0,s.ITelemetryService),v(1,p.ITextModelResolverService),v(2,l.IThemeService),v(3,h.IOpenerService),v(4,a.IWorkspaceContextService)],t)}(o.BaseEditor);t.HtmlPreviewPart=m}),define(l[1104],h([1,0,16,578,34,6,22,317,1103,14,72,28,87,41,10,953,73]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,g,v){"use strict";u.Registry.as(h.Extensions.Editors).registerEditor(new l.EditorDescriptor(c.HtmlPreviewPart.ID,i.localize(0,null),"vs/workbench/parts/html/browser/htmlPreviewPart","HtmlPreviewPart"),[new d.SyncDescriptor(a.HtmlInput)]);var m=!0;r.CommandsRegistry.registerCommand("_workbench.htmlZone",function(e,t){m&&(console.warn("'_workbench.htmlZone' is an EXPERIMENTAL feature and therefore subject to CHANGE and REMOVAL without notice."),m=!1);for(var n,i=0,r=e.get(s.IWorkbenchEditorService).getVisibleEditors();i<r.length;i++){var o=r[i];if(o.position===t.editorPosition){var a=o.getControl();f.isCommonCodeEditor(a)&&(n=a)}}if(!n)return void console.warn("NO matching editor found");var c=e.get(v.ITextModelResolverService);return c.createModelReference(t.resource).then(function(e){var i=e.object,r=i.textEditorModel.getValue();e.dispose(),g.HtmlZoneController.getInstance(n).addZone(t.lineNumber,r)})}),r.CommandsRegistry.registerCommand("_workbench.previewHtml",function(e,t,i,r){var c=t instanceof n.default?t:n.default.parse(t);r=r||c.fsPath;var u,l=e.get(p.IEditorGroupService).getStacksModel(),h=l.groupAt(i)||l.activeGroup;if(h){var d=h.getEditor(c);d instanceof a.HtmlInput&&(u=d)}return u?u.setName(r):u=e.get(o.IInstantiationService).createInstance(a.HtmlInput,r,"",c),e.get(s.IWorkbenchEditorService).openEditor(u,{pinned:!0},i).then(function(e){return!0})})}),define(l[1105],h([1,0,2,7,602,20,81,30,95,54,138,40,80,93,64,328,28,41,22,25,6,144,26]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I){"use strict";var T=function(e){function t(t,n){e.call(this,t),this.stats=n}return d(t,e),t}(f.QuickOpenModel);t.FileQuickOpenModel=T;var x=function(e){function t(t,n,i,r,o,s,a,c,u){e.call(this,o),this.resource=t,this.name=n,this.description=i,this.icon=r,this.modeService=s,this.modelService=a,this.configurationService=c}return d(t,e),t.prototype.getLabel=function(){return this.name},t.prototype.getLabelOptions=function(){return{extraClasses:l.getIconClasses(this.modelService,this.modeService,this.resource)}},t.prototype.getAriaLabel=function(){return r.localize(0,null,this.getLabel())},t.prototype.getDescription=function(){return this.description},t.prototype.getIcon=function(){return this.icon},t.prototype.getResource=function(){return this.resource},t.prototype.setRange=function(e){this.range=e},t.prototype.isFile=function(){return!0},t.prototype.getInput=function(){var e={resource:this.resource,options:{pinned:!this.configurationService.getConfiguration().workbench.editor.enablePreviewFromQuickOpen}};return this.range&&(e.options.selection=this.range),e},t=g([v(4,E.IWorkbenchEditorService),v(5,u.IModeService),v(6,h.IModelService),v(7,_.IConfigurationService),v(8,I.IWorkspaceContextService)],t)}(m.EditorQuickOpenEntry);t.FileEntry=x;var A=function(e){function t(t,n,i,r,o){e.call(this),this.editorGroupService=t,this.instantiationService=n,this.themeService=i,this.contextService=r,this.searchService=o,this.queryBuilder=this.instantiationService.createInstance(y.QueryBuilder)}return d(t,e),t.prototype.setOptions=function(e){this.options=e},t.prototype.getResults=function(e,t){return e=e.trim(),e?this.doFindResults(e,this.cacheState.cacheKey,t):n.TPromise.as(new T([]))},t.prototype.doFindResults=function(e,t,n){var i=this,r={folderResources:this.contextService.getWorkspace()?[this.contextService.getWorkspace().resource]:[],extraFileResources:b.getOutOfWorkspaceEditorResources(this.editorGroupService,this.contextService),filePattern:e,cacheKey:t};"number"==typeof n&&(r.maxResults=n,r.sortByScore=!0);var a;return this.options&&this.options.forceUseIcons&&!this.themeService.getFileIconTheme()&&(a="file"),this.searchService.search(this.queryBuilder.file(r)).then(function(e){for(var t=[],n=0;n<e.results.length;n++){var r=e.results[n],c=o.basename(r.resource.fsPath),u=s.getPathLabel(o.dirname(r.resource.fsPath),i.contextService);t.push(i.instantiationService.createInstance(x,r.resource,c,u,a))}return new T(t,e.stats)})},t.prototype.hasShortResponseTime=function(){
return this.isCacheLoaded},t.prototype.onOpen=function(){var e=this;this.cacheState=new L(function(t){return e.cacheQuery(t)},function(t){return e.searchService.search(t)},function(t){return e.searchService.clearCache(t)},this.cacheState),this.cacheState.load()},t.prototype.cacheQuery=function(e){var t={folderResources:this.contextService.getWorkspace()?[this.contextService.getWorkspace().resource]:[],extraFileResources:b.getOutOfWorkspaceEditorResources(this.editorGroupService,this.contextService),filePattern:"",cacheKey:e,maxResults:0,sortByScore:!0},n=this.queryBuilder.file(t);return this.searchService.extendQuery(n),n},Object.defineProperty(t.prototype,"isCacheLoaded",{get:function(){return this.cacheState&&this.cacheState.isLoaded},enumerable:!0,configurable:!0}),t.prototype.getGroupLabel=function(){return r.localize(1,null)},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0}},t=g([v(0,S.IEditorGroupService),v(1,C.IInstantiationService),v(2,p.IThemeService),v(3,I.IWorkspaceContextService),v(4,w.ISearchService)],t)}(m.QuickOpenHandler);t.OpenFileHandler=A;var D;!function(e){e[e.Created=1]="Created",e[e.Loading=2]="Loading",e[e.Loaded=3]="Loaded",e[e.Errored=4]="Errored",e[e.Disposed=5]="Disposed"}(D||(D={}));var L=function(){function e(e,t,n,i){if(this.doLoad=t,this.doDispose=n,this.previous=i,this._cacheKey=c.generateUuid(),this.loadingPhase=D.Created,this.query=e(this._cacheKey),this.previous){var r=a.assign({},this.query,{cacheKey:null}),o=a.assign({},this.previous.query,{cacheKey:null});a.equals(r,o)||(this.previous.dispose(),this.previous=null)}}return Object.defineProperty(e.prototype,"cacheKey",{get:function(){return this.loadingPhase!==D.Loaded&&this.previous?this.previous.cacheKey:this._cacheKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){var e=this.loadingPhase===D.Loaded;return e||!this.previous?e:this.previous.isLoaded},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUpdating",{get:function(){var e=this.loadingPhase===D.Loading;return e||!this.previous?e:this.previous.isUpdating},enumerable:!0,configurable:!0}),e.prototype.load=function(){var e=this;this.isUpdating||(this.loadingPhase=D.Loading,this.promise=this.doLoad(this.query).then(function(){e.loadingPhase=D.Loaded,e.previous&&(e.previous.dispose(),e.previous=null)},function(t){e.loadingPhase=D.Errored,i.onUnexpectedError(t)}))},e.prototype.dispose=function(){var e=this;this.promise?this.promise.then(null,function(){}).then(function(){return e.loadingPhase=D.Disposed,e.doDispose(e._cacheKey)}).then(null,function(e){i.onUnexpectedError(e)}):this.loadingPhase=D.Disposed,this.previous&&(this.previous.dispose(),this.previous=null)},e}();t.CacheState=L}),define(l[1106],h([1,0,35,30,2,601,17,21,13,20,12,93,64,1105,1076,18,6,19,25]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E){"use strict";var _=i.assign;t.OpenSymbolHandler=m.OpenSymbolHandler;var C=function(e){function p(n,i,r,o){e.call(this),this.messageService=n,this.configurationService=r,this.telemetryService=o,this.scorerCache=Object.create(null),this.searchDelayer=new s.ThrottledDelayer(p.FILE_SEARCH_DELAY),this.openSymbolHandler=i.createInstance(t.OpenSymbolHandler),this.openFileHandler=i.createInstance(f.OpenFileHandler),this.updateHandlers(this.configurationService.getConfiguration()),this.registerListeners()}return d(p,e),p.prototype.registerListeners=function(){var e=this;this.configurationService.onDidUpdateConfiguration(function(t){return e.updateHandlers(t.config)})},p.prototype.updateHandlers=function(e){this.includeSymbols=e&&e.search&&e.search.quickOpen&&e.search.quickOpen.includeSymbols,this.openFileHandler.setOptions({forceUseIcons:this.includeSymbols}),this.openSymbolHandler.setOptions({skipDelay:!0,skipLocalSymbols:!0,skipSorting:!0})},p.prototype.getResults=function(e){var t=this,o=Date.now();this.cancelPendingSearch(),this.isClosed=!1,e=e.replace(/ /g,""),c.isWindows&&(e=e.replace(/\//g,"\\"));var s=this.extractRange(e);if(s&&(e=s.search),!e)return r.TPromise.as(new h.QuickOpenModel);var a=function(){var a=[];return a.push(t.openFileHandler.getResults(e,p.MAX_DISPLAYED_RESULTS)),!t.includeSymbols||s||u.isAbsolute(e)?a.push(r.TPromise.as(new h.QuickOpenModel)):a.push(t.openSymbolHandler.getResults(e)),t.pendingSearch=r.TPromise.join(a).then(function(a){if(t.pendingSearch=null,t.isClosed)return r.TPromise.as(new h.QuickOpenModel);var c=a[0].entries.concat(a[1].entries),u=Date.now(),d=l.stripWildcards(e).toLowerCase(),g=function(n,i){return h.QuickOpenEntry.compareByScore(n,i,e,d,t.scorerCache)},v=n.top(c,g,p.MAX_DISPLAYED_RESULTS),m=Date.now();v.forEach(function(t){if(t instanceof f.FileEntry){t.setRange(s?s.range:null);var n=h.QuickOpenEntry.highlight(t,e,!0),i=n.labelHighlights,r=n.descriptionHighlights;t.setHighlights(i,r)}});var y;a[0]instanceof f.FileQuickOpenModel?y=a[0].stats:a[1]instanceof f.FileQuickOpenModel&&(y=a[1].stats);var b=(new Date).getTime()-o,S=t.createTimerEventData(o,{searchLength:e.length,unsortedResultTime:u,sortedResultTime:m,resultCount:c.length,symbols:{fromCache:!1},files:y});return t.telemetryService.publicLog("openAnything",i.assign(S,{duration:b})),r.TPromise.as(new h.QuickOpenModel(v))},function(e){t.pendingSearch=null,t.messageService.show(y.Severity.Error,e)}),t.pendingSearch};return this.hasShortResponseTime()?a():this.searchDelayer.trigger(a,this.includeSymbols?p.SYMBOL_SEARCH_DELAY:p.FILE_SEARCH_DELAY)},p.prototype.hasShortResponseTime=function(){return this.includeSymbols?this.openFileHandler.hasShortResponseTime()&&this.openSymbolHandler.hasShortResponseTime():this.openFileHandler.hasShortResponseTime()},p.prototype.extractRange=function(e){if(!e)return null;var t=null,n=p.LINE_COLON_PATTERN.exec(e);if(n&&n.length>1){var i=parseInt(n[1],10);if(a.isNumber(i)){if(t={startLineNumber:i,startColumn:1,endLineNumber:i,endColumn:1},n.length>3){var r=parseInt(n[3],10);a.isNumber(r)&&(t={startLineNumber:t.startLineNumber,startColumn:r,endLineNumber:t.endLineNumber,endColumn:r})}}else""===n[1]&&(t={startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1})}return t?{search:e.substr(0,n.index),range:t}:null},p.prototype.getGroupLabel=function(){return this.includeSymbols?o.localize(0,null):o.localize(1,null)},p.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0}},p.prototype.onOpen=function(){this.openSymbolHandler.onOpen(),this.openFileHandler.onOpen()},p.prototype.onClose=function(e){this.isClosed=!0,this.cancelPendingSearch(),this.scorerCache=Object.create(null),this.openSymbolHandler.onClose(e),this.openFileHandler.onClose(e)},p.prototype.cancelPendingSearch=function(){this.pendingSearch&&(this.pendingSearch.cancel(),this.pendingSearch=null)},p.prototype.createTimerEventData=function(e,t){return{searchLength:t.searchLength,unsortedResultDuration:t.unsortedResultTime-e,sortedResultDuration:t.sortedResultTime-e,resultCount:t.resultCount,symbols:t.symbols,files:this.createFileEventData(e,t.files)}},p.prototype.createFileEventData=function(e,t){var n=t,i=t;return _({fromCache:t.fromCache,unsortedResultDuration:t.unsortedResultTime&&t.unsortedResultTime-e,sortedResultDuration:t.sortedResultTime&&t.sortedResultTime-e,resultCount:t.resultCount},t.fromCache?{cacheLookupStartDuration:n.cacheLookupStartTime-e,cacheFilterStartDuration:n.cacheFilterStartTime-e,cacheLookupResultDuration:n.cacheLookupResultTime-e,cacheEntryCount:n.cacheEntryCount,joined:n.joined&&this.createFileEventData(e,n.joined)}:{traversal:i.traversal,errors:i.errors,fileWalkStartDuration:i.fileWalkStartTime-e,fileWalkResultDuration:i.fileWalkResultTime-e,directoriesWalked:i.directoriesWalked,filesWalked:i.filesWalked,cmdForkStartDuration:i.cmdForkStartTime&&i.cmdForkStartTime-e,cmdForkResultDuration:i.cmdForkResultTime&&i.cmdForkResultTime-e,cmdResultCount:i.cmdResultCount})},p.LINE_COLON_PATTERN=/[#|:|\(](\d*)([#|:|,](\d*))?\)?$/,p.FILE_SEARCH_DELAY=300,p.SYMBOL_SEARCH_DELAY=500,p.MAX_DISPLAYED_RESULTS=512,p=g([v(0,y.IMessageService),v(1,b.IInstantiationService),v(2,E.IConfigurationService),v(3,S.ITelemetryService)],p)}(p.QuickOpenHandler);t.OpenAnythingHandler=C}),define(l[1107],h([1,0,8,622,13,29,43,25,39,6,36,19,136,80,254,89,79,2,172]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E){"use strict";var _=function(e){function t(t,n,i,r,o,s,a){e.call(this,p.TERMINAL_PANEL_ID,a),this._configurationService=t,this._contextMenuService=n,this._instantiationService=i,this._keybindingService=r,this._terminalService=o,this._themeService=s}return d(t,e),t.prototype.create=function(t){return e.prototype.create.call(this,t),this._parentDomElement=t.getHTMLElement(),n.addClass(this._parentDomElement,"integrated-terminal"),this._themeStyleElement=document.createElement("style"),this._fontStyleElement=document.createElement("style"),this._terminalContainer=document.createElement("div"),n.addClass(this._terminalContainer,"terminal-outer-container"),this._parentDomElement.appendChild(this._themeStyleElement),this._parentDomElement.appendChild(this._fontStyleElement),this._parentDomElement.appendChild(this._terminalContainer),this._attachEventListeners(),this._terminalService.setContainers(this.getContainer().getHTMLElement(),this._terminalContainer),this._register(this._themeService.onDidColorThemeChange(this._updateTheme.bind(this))),this._register(this._configurationService.onDidUpdateConfiguration(this._updateFont.bind(this))),this._updateFont(),this._updateTheme(),this.layout(new o.Dimension(this._terminalContainer.offsetWidth,this._terminalContainer.offsetHeight)),S.TPromise.as(void 0)},t.prototype.layout=function(e){e&&this._terminalService.terminalInstances.forEach(function(t){t.layout(e)})},t.prototype.setVisible=function(t){var n=this;if(t){if(!(this._terminalService.terminalInstances.length>0))return e.prototype.setVisible.call(this,t).then(function(){n._terminalService.createInstance(),n._updateFont(),n._updateTheme()});this._updateFont(),this._updateTheme()}return e.prototype.setVisible.call(this,t)},t.prototype.getActions=function(){var e=this;return this._actions||(this._actions=[this._instantiationService.createInstance(m.SwitchTerminalInstanceAction,m.SwitchTerminalInstanceAction.ID,m.SwitchTerminalInstanceAction.LABEL),this._instantiationService.createInstance(m.CreateNewTerminalAction,m.CreateNewTerminalAction.ID,m.CreateNewTerminalAction.PANEL_LABEL),this._instantiationService.createInstance(m.KillTerminalAction,m.KillTerminalAction.ID,m.KillTerminalAction.PANEL_LABEL)],this._actions.forEach(function(t){e._register(t)})),this._actions},t.prototype._getContextMenuActions=function(){var e=this;return this._contextMenuActions||(this._contextMenuActions=[this._instantiationService.createInstance(m.CreateNewTerminalAction,m.CreateNewTerminalAction.ID,i.localize(0,null)),new s.Separator,this._instantiationService.createInstance(m.CopyTerminalSelectionAction,m.CopyTerminalSelectionAction.ID,i.localize(1,null)),this._instantiationService.createInstance(m.TerminalPasteAction,m.TerminalPasteAction.ID,i.localize(2,null))],this._contextMenuActions.forEach(function(t){e._register(t)})),this._contextMenuActions},t.prototype.getActionItem=function(t){return t.id===m.SwitchTerminalInstanceAction.ID?this._instantiationService.createInstance(m.SwitchTerminalInstanceActionItem,t):e.prototype.getActionItem.call(this,t)},t.prototype.focus=function(){this._terminalService.getActiveInstance().focus(!0)},t.prototype._attachEventListeners=function(){var e=this;this._register(n.addDisposableListener(this._parentDomElement,"mousedown",function(t){if(0!==e._terminalService.terminalInstances.length)if(2===t.which&&r.isLinux)e._terminalService.getActiveInstance().focus();else if(3===t.which){var n=e._parentDomElement;if(t instanceof MouseEvent){var i=new b.StandardMouseEvent(t);n={x:i.posx,y:i.posy}}e._contextMenuService.showContextMenu({getAnchor:function(){return n},getActions:function(){return S.TPromise.as(e._getContextMenuActions())},getActionsContext:function(){return e._parentDomElement},getKeyBinding:function(t){var n=e._keybindingService.lookupKeybindings(t.id);return n.length>0?n[0]:null}})}})),this._register(n.addDisposableListener(this._parentDomElement,"click",function(t){0!==e._terminalService.terminalInstances.length&&3!==t.which&&e._terminalService.getActiveInstance().focus()})),this._register(n.addDisposableListener(this._parentDomElement,"keyup",function(e){27===e.keyCode&&e.stopPropagation()}))},t.prototype._updateTheme=function(e){var t=this;e||(e=this._themeService.getColorTheme());var n=E.getBaseThemeId(e);if(n!==this._currentBaseThemeId){this._currentBaseThemeId=n;var i=this._terminalService.configHelper.getTheme(n),r="";i.forEach(function(e,n){var i=t._convertHexCssColorToRgba(e,.996);r+=".monaco-workbench .panel.integrated-terminal .xterm .xterm-color-"+n+" { color: "+e+"; }"+(".monaco-workbench .panel.integrated-terminal .xterm .xterm-color-"+n+"::selection { background-color: "+i+"; }")+(".monaco-workbench .panel.integrated-terminal .xterm .xterm-bg-color-"+n+" { background-color: "+e+"; }")+(".monaco-workbench .panel.integrated-terminal .xterm .xterm-bg-color-"+n+"::selection { color: "+e+"; }")}),this._themeStyleElement.innerHTML=r}},t.prototype._convertHexCssColorToRgba=function(e,t){var n=parseInt(e.substr(1,2),16),i=parseInt(e.substr(3,2),16),r=parseInt(e.substr(5,2),16);return"rgba("+n+", "+i+", "+r+", "+t+")"},t.prototype._updateFont=function(){if(0!==this._terminalService.terminalInstances.length){var e=this._terminalService.configHelper.getFont();n.toggleClass(this._parentDomElement,"enable-ligatures",this._terminalService.configHelper.getFontLigaturesEnabled()),this._font&&!this._fontsDiffer(this._font,e)||(this._fontStyleElement.innerHTML=".monaco-workbench .panel.integrated-terminal .xterm {"+("font-family: "+e.fontFamily+";")+("font-size: "+e.fontSize+";")+("line-height: "+e.lineHeight+";")+"}",this._font=e),this.layout(new o.Dimension(this._parentDomElement.offsetWidth,this._parentDomElement.offsetHeight))}},t.prototype._fontsDiffer=function(e,t){return e.charHeight!==t.charHeight||e.charWidth!==t.charWidth||e.fontFamily!==t.fontFamily||e.fontSize!==t.fontSize||e.lineHeight!==t.lineHeight},t=g([v(0,a.IConfigurationService),v(1,c.IContextMenuService),v(2,u.IInstantiationService),v(3,l.IKeybindingService),v(4,p.ITerminalService),v(5,f.IThemeService),v(6,h.ITelemetryService)],t)}(y.Panel);t.TerminalPanel=_}),define(l[1108],h([1,0,2,20,334,166,54,74,34,6,80,22,28]),function(e,t,n,i,r,o,s,a,c,u,l,h,d){"use strict";var p=function(){function e(e,t){this.modeService=e,this.themeService=t}return e.prototype.getTestNode=function(e){var t=document.createElement("div");t.className="monaco-editor "+e,document.body.appendChild(t);var n=document.createElement("span");return t.appendChild(n),n},e.prototype.normalizeType=function(e){return e.split(".").sort().join(".")},e.prototype.getStyle=function(e,t){e.className="token "+t.replace(/\./g," ");var n=window.getComputedStyle(e);return n?n.color:""},e.prototype.getMatchedCSSRule=function(e,t){e.className="token "+t.replace(/\./g," ");var n=window.getMatchedCSSRules(e);if(n)for(var i=n.length-1;i>=0;i--){var r=n.item(i).selectorText;if(r&&r.match(/\.monaco-editor\..+token/))return r.substr(14)}else console.log("no match "+t);return""},e.prototype.appendThemeInformation=function(e){var t=this,i=this.themeService.getColorTheme(),r=function(e){var t="vscode-theme-defaults-themes-",n=e.indexOf(t);if(n!==-1)return e.substring(n+t.length,e.length-5)};return this.themeService.getColorThemes().then(function(i){var o=i.filter(function(e){return!!r(e.id)});return n.TPromise.join(o.map(function(n){var i=n.id;return t.themeService.setColorTheme(i,!1).then(function(n){if(n){var o=t.getTestNode(i),s=r(i);e.forEach(function(e){e.r[s]=t.getMatchedCSSRule(o,e.t)+" "+t.getStyle(o,e.t)})}})}))}).then(function(n){return t.themeService.setColorTheme(i,!1).then(function(t){return e})})},e.prototype.captureSyntaxTokens=function(e,t){var n=this;return this.modeService.getOrCreateModeByFilenameOrFirstLine(e).then(function(e){for(var i=[],s=new r.TextModelWithTokens([],o.TextModel.toRawText(t,o.TextModel.DEFAULT_CREATION_OPTIONS),e.getId()),a=1,c=s.getLineCount();a<=c;a++)for(var u=s.getLineTokens(a,!1),l=s.getLineContent(a),h=0,d=u.getTokenCount();h<d;h++){var p=u.getTokenType(h),f=u.getTokenStartOffset(h),g=u.getTokenEndOffset(h);i.push({c:l.substring(f,g),t:n.normalizeType(p),r:{}})}return n.appendThemeInformation(i)})},e=g([v(0,s.IModeService),v(1,l.IThemeService)],e)}();c.CommandsRegistry.registerCommand("_workbench.captureSyntaxTokens",function(e,t){var n=function(t){var n=t.fsPath,r=i.basename(n),o=e.get(u.IInstantiationService).createInstance(p);return a.readFile(n).then(function(e){return o.captureSyntaxTokens(r,e.toString())})};if(t)return n(t);var r=e.get(h.IWorkbenchEditorService),o=d.asFileEditorInput(r.getActiveEditorInput());o?n(o.getResource()).then(function(e){console.log(e)}):console.log("No file editor active")})}),define(l[1109],h([1,0,2,249,5,8,72,19,80,197,22,131,199,36,54,240]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y){"use strict";function b(t){return'<!DOCTYPE html>\n\t\t<html>\n\t\t\t<head>\n\t\t\t\t<meta http-equiv="Content-type" content="text/html;charset=UTF-8">\n\t\t\t\t<link rel="stylesheet" type="text/css" href="'+e.toUrl("./media/markdown.css")+'" >\n\t\t\t</head>\n\t\t\t<body>'+t+"</body>\n\t\t</html>"}var S=function(e){function t(n,i,r,o,s,a,c){e.call(this,t.ID,n),this.themeService=i,this.editorService=r,this.requestService=o,this.openerService=s,this.keybindingService=a,this.modeService=c,this.contentDisposables=[]}return d(t,e),t.prototype.createEditor=function(e){var t=e.getHTMLElement();this.content=o.append(t,o.$(".release-notes",{style:"height: 100%"}))},t.prototype.setInput=function(t,o){var s=this,a=t.text;return this.contentDisposables=r.dispose(this.contentDisposables),this.content.innerHTML="",e.prototype.setInput.call(this,t,o).then(function(){var e=[],t=new i.marked.Renderer;return t.code=function(t,n){var i=s.modeService.getModeIdForLanguageName(n);return e.push(s.modeService.getOrCreateMode(i)),""},i.marked(a,{renderer:t}),n.TPromise.join(e)}).then(function(){var e=new i.marked.Renderer;return e.code=function(e,t){var n=s.modeService.getModeIdForLanguageName(t);return"<code>"+y.tokenizeToString(e,n)+"</code>"},i.marked(a,{renderer:e})}).then(b).then(function(e){s.webview=new u.default(s.content,document.querySelector(".monaco-editor-background"),{nodeintegration:!1}),s.webview.baseUrl="https://code.visualstudio.com/raw/",s.webview.style(s.themeService.getColorTheme()),s.webview.contents=[e],s.webview.onDidClickLink(function(e){return s.openerService.open(e)},null,s.contentDisposables),s.themeService.onDidColorThemeChange(function(e){return s.webview.style(e)},null,s.contentDisposables),s.contentDisposables.push(s.webview),s.contentDisposables.push(r.toDisposable(function(){return s.webview=null}))})},t.prototype.layout=function(){},t.prototype.focus=function(){this.webview&&this.webview.focus()},t.prototype.dispose=function(){this.contentDisposables=r.dispose(this.contentDisposables),e.prototype.dispose.call(this)},t.ID="workbench.editor.releaseNotes",t=g([v(0,a.ITelemetryService),v(1,c.IThemeService),v(2,l.IWorkbenchEditorService),v(3,p.IRequestService),v(4,h.IOpenerService),v(5,f.IKeybindingService),v(6,m.IModeService)],t)}(s.BaseEditor);t.ReleaseNotesEditor=S}),define(l[1110],h([1,0,1053,172]),function(e,t,n,i){"use strict";function r(e,t){var i=e.getContrast(t);return i<1.7||i>4.5?null:e.isDarkerThan(t)?n.Color.getLighterColor(e,t,.4):n.Color.getDarkerColor(e,t,.4)}var o=function(){function e(e,t){this.themeId=e,this.globalSettings=null,this.selector=i.getBaseThemeId(e)+"."+i.getSyntaxThemeId(e),this.settings=t.settings;var n=this.settings[0];n.scope||(this.globalSettings=n.settings)}return e.prototype.getSelector=function(){return this.selector},e.prototype.hasGlobalSettings=function(){return!!this.globalSettings},e.prototype.getGlobalSettings=function(){return this.globalSettings},e.prototype.getSettings=function(){return this.settings},e}(),s=function(){function e(){}return e}(),a=function(){function e(){}return e.prototype.contributeStyles=function(e,t,n){var i=this,r=new o(e,t);r.getSettings().forEach(function(e,t,o){var s=e.scope,a=e.settings;if(s&&a){var c=Array.isArray(s)?s:s.split(","),u=i._settingsToStatements(a);c.forEach(function(e){e=e.trim().replace(/ /g,"."),n.push(".monaco-editor."+r.getSelector()+" .token."+e+" { "+u+" }")})}})},e.prototype._settingsToStatements=function(e){var t=[];for(var i in e){var r=e[i];switch(i){case"foreground":var o=new n.Color(r);t.push("color: "+o+";");break;case"background":break;case"fontStyle":var s=r.split(" ");s.forEach(function(e){switch(e){case"italic":t.push("font-style: italic;");break;case"bold":t.push("font-weight: bold;");break;case"underline":t.push("text-decoration: underline;")}})}}return t.join(" ")},e}();t.TokenStylesContribution=a;var c=function(){function e(){}return e.prototype.contributeStyles=function(e,t,n){var i=[new p,new f,new _,new C,new w,new E,new m,new y,new b,new S,new g,new v],r=new o(e,t);r.hasGlobalSettings()&&i.forEach(function(e){e.getCssRules(r,n)})},e}();t.EditorStylesContribution=c;var u=function(){function e(){}return e.prototype.contributeStyles=function(e,t,i){var r=new o(e,t);if(r.hasGlobalSettings()&&r.getGlobalSettings().findMatchHighlight){var s=new n.Color(r.getGlobalSettings().findMatchHighlight);i.push("."+r.getSelector()+" .search-viewlet .findInFileMatch { background-color: "+s+"; }"),i.push("."+r.getSelector()+" .search-viewlet .highlight { background-color: "+s+"; }")}},e}();t.SearchViewStylesContribution=u;var l=function(){function e(){}return e.prototype._convertHexCssColorToRgba=function(e,t){var n=parseInt(e.substr(1,2),16),i=parseInt(e.substr(3,2),16),r=parseInt(e.substr(5,2),16);return"rgba("+n+", "+i+", "+r+", "+t+")"},e.prototype.contributeStyles=function(t,n,i){var r=this,s=new o(t,n);if(s.hasGlobalSettings()){var a=Object.keys(s.getGlobalSettings());a.filter(function(e){return 0===e.indexOf("ansi")}).forEach(function(t){if(t in e.ansiColorMap){var n=s.getGlobalSettings()[t],o=e.ansiColorMap[t],a=r._convertHexCssColorToRgba(n,.996);i.push("."+s.getSelector()+" .panel.integrated-terminal .xterm .xterm-color-"+o+" { color: "+n+"; }"),i.push("."+s.getSelector()+" .panel.integrated-terminal .xterm .xterm-color-"+o+"::selection { background-color: "+a+"; }"),i.push("."+s.getSelector()+" .panel.integrated-terminal .xterm .xterm-bg-color-"+o+" { background-color: "+n+"; }"),i.push("."+s.getSelector()+" .panel.integrated-terminal .xterm .xterm-bg-color-"+o+"::selection { color: "+n+"; }")}})}},e.ansiColorMap={ansiBlack:0,ansiRed:1,ansiGreen:2,ansiYellow:3,ansiBlue:4,ansiMagenta:5,ansiCyan:6,ansiWhite:7,ansiBrightBlack:8,ansiBrightRed:9,ansiBrightGreen:10,ansiBrightYellow:11,ansiBrightBlue:12,ansiBrightMagenta:13,ansiBrightCyan:14,ansiBrightWhite:15},e}();t.TerminalStylesContribution=l;var h=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.addBackgroundColorRule=function(e,t,i,r){i&&(i=i instanceof n.Color?i:new n.Color(i),r.push(".monaco-editor."+e.getSelector()+" "+t+" { background-color: "+i+"; }"))},t}(s),p=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getCssRules=function(e,t){var i=e.getSelector();if(e.getGlobalSettings().background){var r=new n.Color(e.getGlobalSettings().background);this.addBackgroundColorRule(e,".monaco-editor-background",r,t),this.addBackgroundColorRule(e,".glyph-margin",r,t),t.push("."+i+" .monaco-workbench .monaco-editor-background { background-color: "+r+"; }")}},t}(h),f=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getCssRules=function(e,t){var i=e.getSelector();if(e.getGlobalSettings().foreground){var r=new n.Color(e.getGlobalSettings().foreground);t.push(".monaco-editor."+i+" .token { color: "+r+"; }")}},t}(h),g=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getCssRules=function(e,t){this.addBackgroundColorRule(e,".hoverHighlight",e.getGlobalSettings().hoverHighlight,t)},t}(h),v=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getCssRules=function(e,t){e.getGlobalSettings().activeLinkForeground&&(t.push(".monaco-editor."+e.getSelector()+" .detected-link-active { color: "+new n.Color(e.getGlobalSettings().activeLinkForeground)+" !important; }"),t.push(".monaco-editor."+e.getSelector()+" .goto-definition-link { color: "+new n.Color(e.getGlobalSettings().activeLinkForeground)+" !important; }"))},t}(h),m=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getCssRules=function(e,t){if(e.getGlobalSettings().selection&&this.addBackgroundColorRule(e,".focused .selected-text",e.getGlobalSettings().selection,t),e.getGlobalSettings().inactiveSelection)this.addBackgroundColorRule(e,".selected-text",e.getGlobalSettings().inactiveSelection,t);else if(e.getGlobalSettings().selection){var i=new n.Color(e.getGlobalSettings().selection);this.addBackgroundColorRule(e,".selected-text",i.transparent(.5),t)}var r=this.getSelectionHighlightColor(e);r&&(this.addBackgroundColorRule(e,".focused .selectionHighlight",r,t),this.addBackgroundColorRule(e,".selectionHighlight",r.transparent(.5),t))},t.prototype.getSelectionHighlightColor=function(e){if(e.getGlobalSettings().selectionHighlight)return new n.Color(e.getGlobalSettings().selectionHighlight);if(e.getGlobalSettings().selection&&e.getGlobalSettings().background){var t=new n.Color(e.getGlobalSettings().selection),i=new n.Color(e.getGlobalSettings().background);return r(t,i)}return null},t}(h),y=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getCssRules=function(e,t){this.addBackgroundColorRule(e,".wordHighlight",e.getGlobalSettings().wordHighlight,t),this.addBackgroundColorRule(e,".wordHighlightStrong",e.getGlobalSettings().wordHighlightStrong,t)},t}(h),b=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getCssRules=function(e,t){this.addBackgroundColorRule(e,".findMatch",e.getGlobalSettings().findMatchHighlight,t),this.addBackgroundColorRule(e,".currentFindMatch",e.getGlobalSettings().currentFindMatchHighlight,t),this.addBackgroundColorRule(e,".findScope",e.getGlobalSettings().findRangeHighlight,t)},t}(h),S=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getCssRules=function(e,t){this.addBackgroundColorRule(e,".reference-zone-widget .ref-tree .referenceMatch",e.getGlobalSettings().findMatchHighlight,t),this.addBackgroundColorRule(e,".reference-zone-widget .preview .reference-decoration",e.getGlobalSettings().referenceHighlight,t)},t}(h),E=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getCssRules=function(e,t){e.getGlobalSettings().lineHighlight&&t.push(".monaco-editor."+e.getSelector()+" .current-line { background-color: "+new n.Color(e.getGlobalSettings().lineHighlight)+"; border: none; }"),this.addBackgroundColorRule(e,".rangeHighlight",e.getGlobalSettings().rangeHighlight,t)},t}(h),_=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getCssRules=function(e,t){var i=e.getSelector();if(e.getGlobalSettings().caret){var r=new n.Color(e.getGlobalSettings().caret),o=r.opposite();t.push(".monaco-editor."+i+" .cursor { background-color: "+r+"; border-color: "+r+"; color: "+o+"; }")}},t}(h),C=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getCssRules=function(e,t){var i=e.getSelector();if(e.getGlobalSettings().invisibles){var r=new n.Color(e.getGlobalSettings().invisibles);t.push(".monaco-editor."+i+" .token.vs-whitespace { color: "+r+" !important; }")}},t}(h),w=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getCssRules=function(e,t){var n=e.getSelector(),i=this.getColor(e.getGlobalSettings());null!==i&&t.push(".monaco-editor."+n+" .lines-content .cigr { background: "+i+"; }")},t.prototype.getColor=function(e){return e.guide?new n.Color(e.guide):e.invisibles?new n.Color(e.invisibles):null},t}(h)}),define(l[1111],h([1,0]),function(e,t){"use strict";var n=function(){function e(e){this._proxies=Object.create(null),this._isMain=e,this._locals=Object.create(null),this._proxies=Object.create(null)}return e.prototype.handle=function(e,t,n){if(!this._locals[e])throw new Error("Unknown actor "+e);var i=this._locals[e],r=i[t];if("function"!=typeof r)throw new Error("Unknown method "+t+" on actor "+e);return r.apply(i,n)},e.prototype.get=function(e){return this._proxies[e.id]||(this._proxies[e.id]=this._createProxy(e.id,e.methodNames)),this._proxies[e.id]},e.prototype._createProxy=function(e,t){for(var n={},i=0;i<t.length;i++){var r=t[i];n[r]=this.createMethodProxy(e,r)}return n},e.prototype.createMethodProxy=function(e,t){var n=this;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r-0]=arguments[r];return n._callOnRemote(e,t,i)}},e.prototype.set=function(e,t){if(e.isMain!==this._isMain)throw new Error("Mismatch in object registration!");this._locals[e.id]=t},e}();t.AbstractThreadService=n}),define(l[90],h([1,0,6]),function(e,t,n){"use strict";function i(e,t){return new o((!0),"m"+e,t)}function r(e,t){return new o((!1),"e"+e,t)}t.IThreadService=n.createDecorator("threadService");var o=function(){function e(e,t,n){this.isMain=e,this.id=t,this.methodNames=[];for(var i in n.prototype)"function"==typeof n.prototype[i]&&this.methodNames.push(i)}return e}();t.ProxyIdentifier=o,t.createMainContextProxyIdentifier=i,t.createExtHostContextProxyIdentifier=r}),define(l[60],h([1,0,90]),function(e,t,n){"use strict";function i(){return new Error("Not implemented")}var r=function(){function e(){this._items=Object.create(null)}return e.prototype.define=function(e){var t=this;return new(function(){function n(){}return n.prototype.set=function(n){return t._set(e,n),n},n}())},e.prototype._set=function(e,t){this._items[e.id]=t},e.prototype.finish=function(e,n){var i=this,r=e?t.MainContext:t.ExtHostContext;Object.keys(r).forEach(function(e){var t=r[e],o=i._items[t.id];if(!o)throw new Error("Missing actor "+e+" (isMain: "+t.isMain+", id:  "+t.id+")");n.set(t,o)})},e}();t.InstanceCollection=r;var o=function(){function e(){}return e.prototype.$registerCommand=function(e){throw i()},e.prototype.$unregisterCommand=function(e){throw i()},e.prototype.$executeCommand=function(e,t){throw i()},e.prototype.$getCommands=function(){throw i()},e}();t.MainThreadCommandsShape=o;var s=function(){function e(){}return e.prototype.$updateConfigurationOption=function(e,t,n){throw i()},e.prototype.$removeConfigurationOption=function(e,t){throw i()},e}();t.MainThreadConfigurationShape=s;var a=function(){function e(){}return e.prototype.$changeMany=function(e,t){throw i()},e.prototype.$clear=function(e){throw i()},e}();t.MainThreadDiagnosticsShape=a;var c=function(){function e(){}return e.prototype.$tryOpenDocument=function(e){throw i()},e.prototype.$registerTextContentProvider=function(e,t){throw i()},e.prototype.$onVirtualDocumentChange=function(e,t){throw i()},e.prototype.$unregisterTextContentProvider=function(e){throw i()},e.prototype.$trySaveDocument=function(e){throw i()},e}();t.MainThreadDocumentsShape=c;var u=function(){function e(){}return e.prototype.$tryShowTextDocument=function(e,t,n){throw i()},e.prototype.$registerTextEditorDecorationType=function(e,t){throw i()},e.prototype.$removeTextEditorDecorationType=function(e){throw i()},e.prototype.$tryShowEditor=function(e,t){throw i()},e.prototype.$tryHideEditor=function(e){throw i()},e.prototype.$trySetOptions=function(e,t){throw i()},e.prototype.$trySetDecorations=function(e,t,n){throw i()},e.prototype.$tryRevealRange=function(e,t,n){throw i()},e.prototype.$trySetSelections=function(e,t){throw i()},e.prototype.$tryApplyEdits=function(e,t,n,r){throw i()},e}();t.MainThreadEditorsShape=u;var l=function(){function e(){}return e.prototype.$registerTreeExplorerNodeProvider=function(e){
throw i()},e}();t.MainThreadTreeExplorersShape=l;var h=function(){function e(){}return e.prototype.onUnexpectedExtHostError=function(e){throw i()},e}();t.MainThreadErrorsShape=h;var d=function(){function e(){}return e.prototype.$unregister=function(e){throw i()},e.prototype.$registerOutlineSupport=function(e,t){throw i()},e.prototype.$registerCodeLensSupport=function(e,t){throw i()},e.prototype.$registerDeclaractionSupport=function(e,t){throw i()},e.prototype.$registerHoverProvider=function(e,t){throw i()},e.prototype.$registerDocumentHighlightProvider=function(e,t){throw i()},e.prototype.$registerReferenceSupport=function(e,t){throw i()},e.prototype.$registerQuickFixSupport=function(e,t){throw i()},e.prototype.$registerDocumentFormattingSupport=function(e,t){throw i()},e.prototype.$registerRangeFormattingSupport=function(e,t){throw i()},e.prototype.$registerOnTypeFormattingSupport=function(e,t,n){throw i()},e.prototype.$registerNavigateTypeSupport=function(e){throw i()},e.prototype.$registerRenameSupport=function(e,t){throw i()},e.prototype.$registerSuggestSupport=function(e,t,n){throw i()},e.prototype.$registerSignatureHelpProvider=function(e,t,n){throw i()},e.prototype.$registerDocumentLinkProvider=function(e,t){throw i()},e.prototype.$setLanguageConfiguration=function(e,t,n){throw i()},e}();t.MainThreadLanguageFeaturesShape=d;var p=function(){function e(){}return e.prototype.$getLanguages=function(){throw i()},e}();t.MainThreadLanguagesShape=p;var f=function(){function e(){}return e.prototype.$showMessage=function(e,t,n){throw i()},e}();t.MainThreadMessageServiceShape=f;var g=function(){function e(){}return e.prototype.$append=function(e,t,n){throw i()},e.prototype.$clear=function(e,t){throw i()},e.prototype.$reveal=function(e,t,n){throw i()},e.prototype.$close=function(e){throw i()},e}();t.MainThreadOutputServiceShape=g;var v=function(){function e(){}return e.prototype.$createTerminal=function(e,t,n){throw i()},e.prototype.$dispose=function(e){throw i()},e.prototype.$hide=function(e){throw i()},e.prototype.$sendText=function(e,t,n){throw i()},e.prototype.$show=function(e,t){throw i()},e}();t.MainThreadTerminalServiceShape=v;var m=function(){function e(){}return e.prototype.$show=function(e){throw i()},e.prototype.$setItems=function(e){throw i()},e.prototype.$setError=function(e){throw i()},e.prototype.$input=function(e,t){throw i()},e}();t.MainThreadQuickOpenShape=m;var y=function(){function e(){}return e.prototype.$setEntry=function(e,t,n,r,o,s,a,c){throw i()},e.prototype.$dispose=function(e){throw i()},e}();t.MainThreadStatusBarShape=y;var b=function(){function e(){}return e.prototype.$getValue=function(e,t){throw i()},e.prototype.$setValue=function(e,t,n){throw i()},e}();t.MainThreadStorageShape=b;var S=function(){function e(){}return e.prototype.$publicLog=function(e,t){throw i()},e.prototype.$getTelemetryInfo=function(){throw i()},e}();t.MainThreadTelemetryShape=S;var E=function(){function e(){}return e.prototype.$startSearch=function(e,t,n,r){throw i()},e.prototype.$cancelSearch=function(e){throw i()},e.prototype.$saveAll=function(e){throw i()},e.prototype.$applyWorkspaceEdit=function(e){throw i()},e}();t.MainThreadWorkspaceShape=E;var _=function(){function e(){}return e.prototype.$localShowMessage=function(e,t){throw i()},e.prototype.$onExtensionActivated=function(e){throw i()},e.prototype.$onExtensionActivationFailed=function(e){throw i()},e}();t.MainProcessExtensionServiceShape=_;var C=function(){function e(){}return e.prototype.$executeContributedCommand=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];throw i()},e.prototype.$getContributedCommandHandlerDescriptions=function(){throw i()},e}();t.ExtHostCommandsShape=C;var w=function(){function e(){}return e.prototype.$acceptConfigurationChanged=function(e){throw i()},e}();t.ExtHostConfigurationShape=w;var I=function(){function e(){}return e}();t.ExtHostDiagnosticsShape=I;var T=function(){function e(){}return e.prototype.$provideTextDocumentContent=function(e,t){throw i()},e.prototype.$acceptModelAdd=function(e){throw i()},e.prototype.$acceptModelModeChanged=function(e,t,n){throw i()},e.prototype.$acceptModelSaved=function(e){throw i()},e.prototype.$acceptModelDirty=function(e){throw i()},e.prototype.$acceptModelReverted=function(e){throw i()},e.prototype.$acceptModelRemoved=function(e){throw i()},e.prototype.$acceptModelChanged=function(e,t,n){throw i()},e}();t.ExtHostDocumentsShape=T;var x=function(){function e(){}return e.prototype.$participateInSave=function(e,t){throw i()},e}();t.ExtHostDocumentSaveParticipantShape=x;var A=function(){function e(){}return e.prototype.$acceptTextEditorAdd=function(e){throw i()},e.prototype.$acceptOptionsChanged=function(e,t){throw i()},e.prototype.$acceptSelectionsChanged=function(e,t){throw i()},e.prototype.$acceptActiveEditorAndVisibleEditors=function(e,t){throw i()},e.prototype.$acceptEditorPositionData=function(e){throw i()},e.prototype.$acceptTextEditorRemove=function(e){throw i()},e}();t.ExtHostEditorsShape=A;var D=function(){function e(){}return e.prototype.$provideRootNode=function(e){throw i()},e.prototype.$resolveChildren=function(e,t){throw i()},e.prototype.$getInternalCommand=function(e,t){throw i()},e}();t.ExtHostTreeExplorersShape=D;var L=function(){function e(){}return e.prototype.$localShowMessage=function(e,t){throw i()},e.prototype.$activateExtension=function(e){throw i()},e}();t.ExtHostExtensionServiceShape=L;var k=function(){function e(){}return e.prototype.$onFileEvent=function(e){throw i()},e}();t.ExtHostFileSystemEventServiceShape=k;var P;!function(e){function t(t,n){return Object.defineProperty(t,e.name,{value:n,enumerable:!0}),t}function n(t){return t[e.name]}e.name="$ident",e.mixin=t,e.of=n}(P=t.ObjectIdentifier||(t.ObjectIdentifier={}));var R=function(){function e(){}return e.prototype.$onGarbageCollection=function(e){throw i()},e}();t.ExtHostHeapServiceShape=R;var O=function(){function e(){}return e.prototype.$provideDocumentSymbols=function(e,t){throw i()},e.prototype.$provideCodeLenses=function(e,t){throw i()},e.prototype.$resolveCodeLens=function(e,t,n){throw i()},e.prototype.$provideDefinition=function(e,t,n){throw i()},e.prototype.$provideHover=function(e,t,n){throw i()},e.prototype.$provideDocumentHighlights=function(e,t,n){throw i()},e.prototype.$provideReferences=function(e,t,n,r){throw i()},e.prototype.$provideCodeActions=function(e,t,n){throw i()},e.prototype.$provideDocumentFormattingEdits=function(e,t,n){throw i()},e.prototype.$provideDocumentRangeFormattingEdits=function(e,t,n,r){throw i()},e.prototype.$provideOnTypeFormattingEdits=function(e,t,n,r,o){throw i()},e.prototype.$provideWorkspaceSymbols=function(e,t){throw i()},e.prototype.$resolveWorkspaceSymbol=function(e,t){throw i()},e.prototype.$provideRenameEdits=function(e,t,n,r){throw i()},e.prototype.$provideCompletionItems=function(e,t,n){throw i()},e.prototype.$resolveCompletionItem=function(e,t,n,r){throw i()},e.prototype.$provideSignatureHelp=function(e,t,n){throw i()},e.prototype.$provideDocumentLinks=function(e,t){throw i()},e.prototype.$resolveDocumentLink=function(e,t){throw i()},e}();t.ExtHostLanguageFeaturesShape=O;var M=function(){function e(){}return e.prototype.$onItemSelected=function(e){throw i()},e.prototype.$validateInput=function(e){throw i()},e}();t.ExtHostQuickOpenShape=M;var N=function(){function e(){}return e.prototype.$acceptTerminalClosed=function(e){throw i()},e.prototype.$acceptTerminalProcessId=function(e,t){throw i()},e}();t.ExtHostTerminalServiceShape=N,t.MainContext={MainThreadCommands:n.createMainContextProxyIdentifier("MainThreadCommands",o),MainThreadConfiguration:n.createMainContextProxyIdentifier("MainThreadConfiguration",s),MainThreadDiagnostics:n.createMainContextProxyIdentifier("MainThreadDiagnostics",a),MainThreadDocuments:n.createMainContextProxyIdentifier("MainThreadDocuments",c),MainThreadEditors:n.createMainContextProxyIdentifier("MainThreadEditors",u),MainThreadErrors:n.createMainContextProxyIdentifier("MainThreadErrors",h),MainThreadExplorers:n.createMainContextProxyIdentifier("MainThreadExplorers",l),MainThreadLanguageFeatures:n.createMainContextProxyIdentifier("MainThreadLanguageFeatures",d),MainThreadLanguages:n.createMainContextProxyIdentifier("MainThreadLanguages",p),MainThreadMessageService:n.createMainContextProxyIdentifier("MainThreadMessageService",f),MainThreadOutputService:n.createMainContextProxyIdentifier("MainThreadOutputService",g),MainThreadQuickOpen:n.createMainContextProxyIdentifier("MainThreadQuickOpen",m),MainThreadStatusBar:n.createMainContextProxyIdentifier("MainThreadStatusBar",y),MainThreadStorage:n.createMainContextProxyIdentifier("MainThreadStorage",b),MainThreadTelemetry:n.createMainContextProxyIdentifier("MainThreadTelemetry",S),MainThreadTerminalService:n.createMainContextProxyIdentifier("MainThreadTerminalService",v),MainThreadWorkspace:n.createMainContextProxyIdentifier("MainThreadWorkspace",E),MainProcessExtensionService:n.createMainContextProxyIdentifier("MainProcessExtensionService",_)},t.ExtHostContext={ExtHostCommands:n.createExtHostContextProxyIdentifier("ExtHostCommands",C),ExtHostConfiguration:n.createExtHostContextProxyIdentifier("ExtHostConfiguration",w),ExtHostDiagnostics:n.createExtHostContextProxyIdentifier("ExtHostDiagnostics",I),ExtHostDocuments:n.createExtHostContextProxyIdentifier("ExtHostDocuments",T),ExtHostDocumentSaveParticipant:n.createExtHostContextProxyIdentifier("ExtHostDocumentSaveParticipant",x),ExtHostEditors:n.createExtHostContextProxyIdentifier("ExtHostEditors",A),ExtHostExplorers:n.createExtHostContextProxyIdentifier("ExtHostExplorers",D),ExtHostFileSystemEventService:n.createExtHostContextProxyIdentifier("ExtHostFileSystemEventService",k),ExtHostHeapService:n.createExtHostContextProxyIdentifier("ExtHostHeapMonitor",R),ExtHostLanguageFeatures:n.createExtHostContextProxyIdentifier("ExtHostLanguageFeatures",O),ExtHostQuickOpen:n.createExtHostContextProxyIdentifier("ExtHostQuickOpen",M),ExtHostExtensionService:n.createExtHostContextProxyIdentifier("ExtHostExtensionService",L),ExtHostTerminalService:n.createExtHostContextProxyIdentifier("ExtHostTerminalService",N)}}),define(l[1114],h([1,0,90,34,2,60]),function(e,t,n,i,r,o){"use strict";function s(e){if("string"==typeof e)return e;var t=[e.description];if(t.push("\n\n"),e.args)for(var n=0,i=e.args;n<i.length;n++){var r=i[n];t.push("* _"+r.name+"_ "+(r.description||"")+"\n")}return e.returns&&t.push("* _(returns)_ "+e.returns),t.push("\n\n"),t.join("")}var a=function(e){function t(t,n){e.call(this),this._threadService=t,this._commandService=n,this._disposables=Object.create(null),this._proxy=this._threadService.get(o.ExtHostContext.ExtHostCommands)}return d(t,e),t.prototype.dispose=function(){for(var e in this._disposables)this._disposables[e].dispose()},t.prototype.$registerCommand=function(e){var t=this;this._disposables[e]=i.CommandsRegistry.registerCommand(e,function(n){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return(o=t._proxy).$executeContributedCommand.apply(o,[e].concat(i));var o})},t.prototype.$unregisterCommand=function(e){this._disposables[e]&&(this._disposables[e].dispose(),delete this._disposables[e])},t.prototype.$executeCommand=function(e,t){return(n=this._commandService).executeCommand.apply(n,[e].concat(t));var n},t.prototype.$getCommands=function(){return r.TPromise.as(Object.keys(i.CommandsRegistry.getCommands()))},t=g([v(0,n.IThreadService),v(1,i.ICommandService)],t)}(o.MainThreadCommandsShape);t.MainThreadCommands=a,i.CommandsRegistry.registerCommand("_generateCommandsDocumentation",function(e){return e.get(n.IThreadService).get(o.ExtHostContext.ExtHostCommands).$getContributedCommandHandlerDescriptions().then(function(e){var t=i.CommandsRegistry.getCommands();for(var n in t){var r=t[n].description;r&&(e[n]=r)}var o=[];for(var n in e)o.push("`"+n+"` - "+s(e[n]));console.log(o.join("\n"))})})}),define(l[1115],h([1,0,5,90,134,114,60]),function(e,t,n,i,r,o,s){"use strict";var a=function(e){function t(t,n,i){e.call(this),this._configurationEditingService=t;var r=i.get(s.ExtHostContext.ExtHostConfiguration);this._toDispose=n.onDidUpdateConfiguration(function(){r.$acceptConfigurationChanged(n.values())})}return d(t,e),t.prototype.dispose=function(){this._toDispose=n.dispose(this._toDispose)},t.prototype.$updateConfigurationOption=function(e,t,n){return this._configurationEditingService.writeConfiguration(e,{key:t,value:n})},t.prototype.$removeConfigurationOption=function(e,t){return this._configurationEditingService.writeConfiguration(e,{key:t,value:void 0})},t=g([v(0,o.IConfigurationEditingService),v(1,r.IWorkspaceConfigurationService),v(2,i.IThreadService)],t)}(s.MainThreadConfigurationShape);t.MainThreadConfiguration=a}),define(l[1116],h([1,0,128,60]),function(e,t,n,i){"use strict";var r=function(e){function t(t){e.call(this),this._markerService=t}return d(t,e),t.prototype.$changeMany=function(e,t){for(var n=0,i=t;n<i.length;n++){var r=i[n],o=r[0],s=r[1];this._markerService.changeOne(e,o,s)}},t.prototype.$clear=function(e){this._markerService.changeAll(e,void 0)},t=g([v(0,n.IMarkerService)],t)}(i.MainThreadDiagnosticsShape);t.MainThreadDiagnostics=r}),define(l[1117],h([1,0,5,2,90,10,62,22,41,40,871,19,47,35,30,60]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y){"use strict";var b=function(e){function t(t,n,i,r,o,s,a){var c=this;e.call(this),this._proxy=t.get(y.ExtHostContext.ExtHostEditors),this._workbenchEditorService=n,this._telemetryService=r,this._toDispose=[],this._textEditorsListenersMap=Object.create(null),this._textEditorsMap=Object.create(null),this._activeTextEditor=null,this._visibleEditors=[],this._editorPositionData=null,this._editorTracker=new l.MainThreadEditorsTracker(o,a),this._toDispose.push(this._editorTracker),this._toDispose.push(this._editorTracker.onTextEditorAdd(function(e){return c._onTextEditorAdd(e)})),this._toDispose.push(this._editorTracker.onTextEditorRemove(function(e){return c._onTextEditorRemove(e)})),this._toDispose.push(this._editorTracker.onDidUpdateTextEditors(function(){return c._updateActiveAndVisibleTextEditors()})),this._toDispose.push(this._editorTracker.onChangedFocusedTextEditor(function(e){return c._updateActiveAndVisibleTextEditors()})),this._toDispose.push(i.onEditorsChanged(function(){return c._updateActiveAndVisibleTextEditors()})),this._toDispose.push(i.onEditorsMoved(function(){return c._updateActiveAndVisibleTextEditors()}))}return d(t,e),t.prototype.dispose=function(){var e=this;Object.keys(this._textEditorsListenersMap).forEach(function(t){n.dispose(e._textEditorsListenersMap[t])}),this._textEditorsListenersMap=Object.create(null),this._toDispose=n.dispose(this._toDispose)},t.prototype._onTextEditorAdd=function(e){var t=this,n=e.getId(),i=[];i.push(e.onConfigurationChanged(function(e){t._proxy.$acceptOptionsChanged(n,e)})),i.push(e.onSelectionChanged(function(e){t._proxy.$acceptSelectionsChanged(n,e)})),this._proxy.$acceptTextEditorAdd({id:n,document:e.getModel().uri,options:e.getConfiguration(),selections:e.getSelections(),editorPosition:this._findEditorPosition(e)}),this._textEditorsListenersMap[n]=i,this._textEditorsMap[n]=e},t.prototype._onTextEditorRemove=function(e){var t=e.getId();n.dispose(this._textEditorsListenersMap[t]),delete this._textEditorsListenersMap[t],delete this._textEditorsMap[t],this._proxy.$acceptTextEditorRemove(t)},t.prototype._updateActiveAndVisibleTextEditors=function(){var e=this._editorTracker.getVisibleTextEditorIds(),t=this._findActiveTextEditorId();t===this._activeTextEditor&&f.equals(this._visibleEditors,e,function(e,t){return e===t})||(this._activeTextEditor=t,this._visibleEditors=e,this._proxy.$acceptActiveEditorAndVisibleEditors(this._activeTextEditor,this._visibleEditors));var n=this._getTextEditorPositionData();m.equals(this._editorPositionData,n)||(this._editorPositionData=n,this._proxy.$acceptEditorPositionData(this._editorPositionData))},t.prototype._findActiveTextEditorId=function(){var e=this._editorTracker.getFocusedTextEditorId();if(e)return e;var t=this._workbenchEditorService.getActiveEditor();if(!t)return null;var n=t.getControl();return n&&"function"==typeof n.getEditorType?n.getEditorType()===o.EditorType.ICodeEditor?this._editorTracker.findTextEditorIdFor(n):this._editorTracker.findTextEditorIdFor(n.getModifiedEditor()):null},t.prototype._findEditorPosition=function(e){for(var t=0,n=this._workbenchEditorService.getVisibleEditors();t<n.length;t++){var i=n[t];if(e.matches(i))return i.position}},t.prototype._getTextEditorPositionData=function(){for(var e=Object.create(null),t=0,n=this._workbenchEditorService.getVisibleEditors();t<n.length;t++){var i=n[t],r=i.getControl();if(r&&"function"==typeof r.getEditorType&&r.getEditorType()===o.EditorType.ICodeEditor){var s=this._editorTracker.findTextEditorIdFor(r);s&&(e[s]=i.position)}}return e},t.prototype.$tryShowTextDocument=function(e,t,n){var r=this,o={resource:e,options:{preserveFocus:n,pinned:!0}};return this._workbenchEditorService.openEditor(o,t).then(function(e){if(e){var t=function(){for(var t in r._textEditorsMap)if(r._textEditorsMap[t].matches(e))return t},n=t();return n?i.TPromise.as(n):new i.TPromise(function(e){function t(){n.dispose(),clearTimeout(i),e(void 0)}var n,i;n=r._editorTracker.onDidUpdateTextEditors(function(){t()}),i=setTimeout(function(){t()},1e3)}).then(t)}})},t.prototype.$tryShowEditor=function(e,t){this._telemetryService.publicLog("api.deprecated",{function:"TextEditor.show"});var n=this._textEditorsMap[e];if(n){var i=n.getModel();return this._workbenchEditorService.openEditor({resource:i.uri,options:{preserveFocus:!1}},t).then(function(){})}},t.prototype.$tryHideEditor=function(e){this._telemetryService.publicLog("api.deprecated",{function:"TextEditor.hide"});var t=this._textEditorsMap[e];if(t)for(var n=this._workbenchEditorService.getVisibleEditors(),i=0,r=n;i<r.length;i++){var o=r[i];if(t.matches(o))return this._workbenchEditorService.closeEditor(o.position,o.input).then(function(){})}},t.prototype.$trySetSelections=function(e,t){return this._textEditorsMap[e]?(this._textEditorsMap[e].setSelections(t),i.TPromise.as(null)):i.TPromise.wrapError("TextEditor disposed")},t.prototype.$trySetDecorations=function(e,t,n){return this._textEditorsMap[e]?(this._textEditorsMap[e].setDecorations(t,n),i.TPromise.as(null)):i.TPromise.wrapError("TextEditor disposed")},t.prototype.$tryRevealRange=function(e,t,n){return this._textEditorsMap[e]?void this._textEditorsMap[e].revealRange(t,n):i.TPromise.wrapError("TextEditor disposed")},t.prototype.$trySetOptions=function(e,t){return this._textEditorsMap[e]?(this._textEditorsMap[e].setConfiguration(t),i.TPromise.as(null)):i.TPromise.wrapError("TextEditor disposed")},t.prototype.$tryApplyEdits=function(e,t,n,r){return this._textEditorsMap[e]?i.TPromise.as(this._textEditorsMap[e].applyEdits(t,n,r)):i.TPromise.wrapError("TextEditor disposed")},t.prototype.$registerTextEditorDecorationType=function(e,t){this._editorTracker.registerTextEditorDecorationType(e,t)},t.prototype.$removeTextEditorDecorationType=function(e){this._editorTracker.removeTextEditorDecorationType(e)},t=g([v(0,r.IThreadService),v(1,a.IWorkbenchEditorService),v(2,c.IEditorGroupService),v(3,h.ITelemetryService),v(4,s.ICodeEditorService),v(5,p.IEventService),v(6,u.IModelService)],t)}(y.MainThreadEditorsShape);t.MainThreadEditors=b}),define(l[1118],h([1,0,7,60]),function(e,t,n,i){"use strict";var r=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.onUnexpectedExtHostError=function(e){n.onUnexpectedError(e)},t}(i.MainThreadErrorsShape);t.MainThreadErrors=r}),define(l[376],h([1,0,32,2,132,451,70,16,781,88,104,900,18,90,60,51]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y){"use strict";function b(e){return(e.source?"["+e.source+"]: ":"")+e.message}var S=s.normalize(s.join(a.default.parse(e.toUrl("")).fsPath,"..","extensions")),E=function(e){function t(){e.call(this,!0)}return d(t,e),t}(c.ActivatedExtension),_=function(e){function t(){e.call(this,!1)}return d(t,e),t}(c.ActivatedExtension),C=Object.hasOwnProperty,w=function(e){function t(t,n,i,r){var o=this;e.call(this,!1),this.environmentService=i,this._isDev=!i.isBuilt||i.isExtensionDevelopment,this._messageService=n,this._threadService=t,this._proxy=this._threadService.get(m.ExtHostContext.ExtHostExtensionService),this._extensionsStatus={};var s=r.getGloballyDisabledExtensions().concat(r.getWorkspaceDisabledExtensions());this.scanExtensions().done(function(e){o._onExtensionDescriptions(s.length?e.filter(function(e){return s.indexOf(e.publisher+"."+e.name)===-1}):e)})}return d(t,e),t.prototype._handleMessage=function(e){this._showMessage(e.type,b(e)),this._extensionsStatus[e.source]||(this._extensionsStatus[e.source]={messages:[]}),this._extensionsStatus[e.source].messages.push(e)},t.prototype.$localShowMessage=function(e,t){var i=!1;if(e!==n.default.Error&&e!==n.default.Warning||this._isDev&&(this._messageService.show(e,t),i=!0),!i)switch(e){case n.default.Error:console.error(t);break;case n.default.Warning:console.warn(t);break;default:console.log(t)}},t.prototype.getExtensionsStatus=function(){return this._extensionsStatus},t.prototype._showMessage=function(e,t){this._proxy.$localShowMessage(e,t),this.$localShowMessage(e,t)},t.prototype._createFailedExtension=function(){return new E},t.prototype._actualActivateExtension=function(e){var t=this;return this._proxy.$activateExtension(e).then(function(n){return t._activatedExtensions[e.id]})},t.prototype._onExtensionDescriptions=function(e){this._registry.registerExtensions(e);for(var t=this._registry.getAllExtensionDescriptions(),n=l.ExtensionsRegistry.getExtensionPoints(),i=0,r=n.length;i<r;i++)this._handleExtensionPoint(n[i],t);this._triggerOnReady()},t.prototype._handleExtensionPoint=function(e,t){for(var n=this,i=function(e){return n._handleMessage(e)},r=[],o=0,s=0,a=t.length;s<a;s++){var c=t[s];c.contributes&&C.call(c.contributes,e.name)&&(r[o++]={description:c,value:c.contributes[e.name],collector:new l.ExtensionMessageCollector(i,c.extensionFolderPath)})}e.acceptUsers(r)},t.prototype.$onExtensionActivated=function(e){this._activatedExtensions[e]=new _},t.prototype.$onExtensionActivationFailed=function(e){this._activatedExtensions[e]=new E},t.prototype.scanExtensions=function(){var e=this,t=new h.MessagesCollector,n=r.default.version,s=h.ExtensionScanner.scanExtensions(n,t,S,!0),a=this.environmentService.disableExtensions||!this.environmentService.extensionsPath?i.TPromise.as([]):h.ExtensionScanner.scanExtensions(n,t,this.environmentService.extensionsPath,!1),c=this.environmentService.disableExtensions||!this.environmentService.isExtensionDevelopment?i.TPromise.as([]):h.ExtensionScanner.scanOneOrMultipleExtensions(n,t,this.environmentService.extensionDevelopmentPath,!1);return i.TPromise.join([s,a,c]).then(function(e){var n=e[0],i=e[1],r=e[2],s={};return n.forEach(function(e){s[e.id]=e}),i.forEach(function(e){s.hasOwnProperty(e.id)&&t.warn(e.extensionFolderPath,o.localize(0,null,s[e.id].extensionFolderPath,e.extensionFolderPath)),s[e.id]=e}),r.forEach(function(e){t.info("",o.localize(1,null,e.extensionFolderPath)),s.hasOwnProperty(e.id)&&t.warn(e.extensionFolderPath,o.localize(2,null,s[e.id].extensionFolderPath,e.extensionFolderPath)),s[e.id]=e}),Object.keys(s).map(function(e){return s[e]})}).then(null,function(e){return t.error("",e),[]}).then(function(n){return t.getMessages().forEach(function(t){return e.$localShowMessage(t.type,e._isDev?(t.source?"["+t.source+"]: ":"")+t.message:t.message)}),n})},t=g([v(0,f.IThreadService),v(1,p.IMessageService),v(2,y.IEnvironmentService),v(3,u.IExtensionEnablementService)],t)}(c.AbstractExtensionService);t.MainProcessExtensionService=w}),define(l[1120],h([1,0,33,90,47,17,60]),function(e,t,n,i,r,o,s){"use strict";var a=function(){function e(e,t){var i=t.get(s.ExtHostContext.ExtHostFileSystemEventService),r={created:[],changed:[],deleted:[]},a=new o.RunOnceScheduler(function(){i.$onFileEvent(r),r.created.length=0,r.changed.length=0,r.deleted.length=0},100);e.addListener2("files:fileChanges",function(e){for(var t=0,i=e.changes;t<i.length;t++){var o=i[t];switch(o.type){case n.FileChangeType.ADDED:r.created.push(o.resource);break;case n.FileChangeType.UPDATED:r.changed.push(o.resource);break;case n.FileChangeType.DELETED:r.deleted.push(o.resource)}}a.schedule()})}return e=g([v(0,r.IEventService),v(1,i.IThreadService)],e)}();t.MainThreadFileSystemEventService=a}),define(l[377],h([1,0,2,90,60,1249,6,102]),function(e,t,n,i,r,o,s,a){"use strict";t.IHeapService=s.createDecorator("heapService");var c=function(){function e(e){var t=this;this._activeSignals=new WeakMap,this._activeIds=new Set;var n=e.get(r.ExtHostContext.ExtHostHeapService);this._consumeHandle=setInterval(function(){var e=o.consumeSignals();if(e.length>0){for(var i=0,r=e;i<r.length;i++){var s=r[i];t._activeIds.delete(s)}n.$onGarbageCollection(e)}},15e3)}return e.prototype.dispose=function(){clearInterval(this._consumeHandle)},e.prototype.trackRecursive=function(e){var t=this;return n.TPromise.is(e)?e.then(function(e){return t.trackRecursive(e)}):this._doTrackRecursive(e)},e.prototype._doTrackRecursive=function(e){for(var t=[e];t.length>0;){var n=t.shift();if(n&&"object"==typeof n)for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var s=n[i];"object"==typeof s?t.push(s):i===r.ObjectIdentifier.name&&("number"!=typeof s||this._activeIds.has(s)||(this._activeIds.add(s),this._activeSignals.set(n,new o.GCSignal(s))))}}return e},e=g([v(0,i.IThreadService)],e)}();t.MainThreadHeapService=c,a.registerSingleton(t.IHeapService,c)}),define(l[1123],h([1,0,90,49,327,17,60,105,377]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(e){function t(t,n){e.call(this),this._registrations=Object.create(null),this._proxy=t.get(s.ExtHostContext.ExtHostLanguageFeatures),this._heapService=n}return d(t,e),t.prototype.$unregister=function(e){var t=this._registrations[e];t&&(t.dispose(),delete this._registrations[e])},t.prototype.$registerOutlineSupport=function(e,t){var n=this;this._registrations[e]=i.DocumentSymbolProviderRegistry.register(t,{provideDocumentSymbols:function(t,i){return o.wireCancellationToken(i,n._proxy.$provideDocumentSymbols(e,t.uri))}})},t.prototype.$registerCodeLensSupport=function(e,t){var n=this;this._registrations[e]=i.CodeLensProviderRegistry.register(t,{provideCodeLenses:function(t,i){return n._heapService.trackRecursive(o.wireCancellationToken(i,n._proxy.$provideCodeLenses(e,t.uri)))},resolveCodeLens:function(t,i,r){return n._heapService.trackRecursive(o.wireCancellationToken(r,n._proxy.$resolveCodeLens(e,t.uri,i)))}})},t.prototype.$registerDeclaractionSupport=function(e,t){var n=this;this._registrations[e]=i.DefinitionProviderRegistry.register(t,{provideDefinition:function(t,i,r){return o.wireCancellationToken(r,n._proxy.$provideDefinition(e,t.uri,i))}})},t.prototype.$registerHoverProvider=function(e,t){var n=this;this._registrations[e]=i.HoverProviderRegistry.register(t,{provideHover:function(t,i,r){return o.wireCancellationToken(r,n._proxy.$provideHover(e,t.uri,i))}})},t.prototype.$registerDocumentHighlightProvider=function(e,t){var n=this;this._registrations[e]=i.DocumentHighlightProviderRegistry.register(t,{provideDocumentHighlights:function(t,i,r){return o.wireCancellationToken(r,n._proxy.$provideDocumentHighlights(e,t.uri,i))}})},t.prototype.$registerReferenceSupport=function(e,t){var n=this;this._registrations[e]=i.ReferenceProviderRegistry.register(t,{provideReferences:function(t,i,r,s){return o.wireCancellationToken(s,n._proxy.$provideReferences(e,t.uri,i,r))}})},t.prototype.$registerQuickFixSupport=function(e,t){var n=this;this._registrations[e]=i.CodeActionProviderRegistry.register(t,{provideCodeActions:function(t,i,r){return n._heapService.trackRecursive(o.wireCancellationToken(r,n._proxy.$provideCodeActions(e,t.uri,i)))}})},t.prototype.$registerDocumentFormattingSupport=function(e,t){var n=this;this._registrations[e]=i.DocumentFormattingEditProviderRegistry.register(t,{provideDocumentFormattingEdits:function(t,i,r){return o.wireCancellationToken(r,n._proxy.$provideDocumentFormattingEdits(e,t.uri,i))}})},t.prototype.$registerRangeFormattingSupport=function(e,t){var n=this;this._registrations[e]=i.DocumentRangeFormattingEditProviderRegistry.register(t,{provideDocumentRangeFormattingEdits:function(t,i,r,s){return o.wireCancellationToken(s,n._proxy.$provideDocumentRangeFormattingEdits(e,t.uri,i,r))}})},t.prototype.$registerOnTypeFormattingSupport=function(e,t,n){var r=this;this._registrations[e]=i.OnTypeFormattingEditProviderRegistry.register(t,{autoFormatTriggerCharacters:n,provideOnTypeFormattingEdits:function(t,n,i,s,a){return o.wireCancellationToken(a,r._proxy.$provideOnTypeFormattingEdits(e,t.uri,n,i,s))}})},t.prototype.$registerNavigateTypeSupport=function(e){var t=this;this._registrations[e]=r.WorkspaceSymbolProviderRegistry.register({provideWorkspaceSymbols:function(n){return t._heapService.trackRecursive(t._proxy.$provideWorkspaceSymbols(e,n))},resolveWorkspaceSymbol:function(n){return t._proxy.$resolveWorkspaceSymbol(e,n)}})},t.prototype.$registerRenameSupport=function(e,t){var n=this;this._registrations[e]=i.RenameProviderRegistry.register(t,{provideRenameEdits:function(t,i,r,s){return o.wireCancellationToken(s,n._proxy.$provideRenameEdits(e,t.uri,i,r))}})},t.prototype.$registerSuggestSupport=function(e,t,n){var r=this;this._registrations[e]=i.SuggestRegistry.register(t,{triggerCharacters:n,provideCompletionItems:function(t,n,i){return r._heapService.trackRecursive(o.wireCancellationToken(i,r._proxy.$provideCompletionItems(e,t.uri,n)))},resolveCompletionItem:function(t,n,i,s){return o.wireCancellationToken(s,r._proxy.$resolveCompletionItem(e,t.uri,n,i))}})},t.prototype.$registerSignatureHelpProvider=function(e,t,n){var r=this;this._registrations[e]=i.SignatureHelpProviderRegistry.register(t,{signatureHelpTriggerCharacters:n,provideSignatureHelp:function(t,n,i){return o.wireCancellationToken(i,r._proxy.$provideSignatureHelp(e,t.uri,n))}})},t.prototype.$registerDocumentLinkProvider=function(e,t){var n=this;this._registrations[e]=i.LinkProviderRegistry.register(t,{provideLinks:function(t,i){return o.wireCancellationToken(i,n._proxy.$provideDocumentLinks(e,t.uri))},resolveLink:function(t,i){return o.wireCancellationToken(i,n._proxy.$resolveDocumentLink(e,t))}})},t.prototype.$setLanguageConfiguration=function(e,t,n){var i={comments:n.comments,brackets:n.brackets,wordPattern:n.wordPattern,indentationRules:n.indentationRules,onEnterRules:n.onEnterRules,autoClosingPairs:null,surroundingPairs:null,__electricCharacterSupport:null};n.__characterPairSupport&&(i.autoClosingPairs=n.__characterPairSupport.autoClosingPairs),n.__electricCharacterSupport&&n.__electricCharacterSupport.docComment&&(i.__electricCharacterSupport={docComment:{open:n.__electricCharacterSupport.docComment.open,close:n.__electricCharacterSupport.docComment.close}}),this._registrations[e]=a.LanguageConfigurationRegistry.register(t,i)},t=g([v(0,n.IThreadService),v(1,c.IHeapService)],t)}(s.MainThreadLanguageFeaturesShape);t.MainThreadLanguageFeatures=u}),define(l[1124],h([1,0,2,54,60]),function(e,t,n,i,r){"use strict";var o=function(e){function t(t){e.call(this),this._modeService=t}return d(t,e),t.prototype.$getLanguages=function(){return n.TPromise.as(this._modeService.getRegisteredModes())},t=g([v(0,i.IModeService)],t)}(r.MainThreadLanguagesShape);t.MainThreadLanguages=o}),define(l[1125],h([1,0,452,18,24,2,60]),function(e,t,n,i,r,o,s){"use strict";var a=function(e){function t(t){e.call(this),this._messageService=t}return d(t,e),t.prototype.$showMessage=function(e,t,i){var s=this;return new o.TPromise(function(o){var a,c=[],u=!1,l=function(e){function t(t,n,i){e.call(this,t,n,void 0,!0,function(){o(i),a()})}return d(t,e),t.prototype.dispose=function(){o(void 0)},t}(r.Action);i.forEach(function(e){e.isCloseAffordance===!0&&(u=!0),c.push(new l("_extension_message_handle_"+e.handle,e.title,e.handle))}),u||c.push(new l("__close",n.localize(0,null),(void 0))),
a=s._messageService.show(e,{message:t,actions:c})})},t=g([v(0,i.IMessageService)],t)}(s.MainThreadMessageServiceShape);t.MainThreadMessageService=a}),define(l[1126],h([1,0,14,86,45,76,60]),function(e,t,n,i,r,o,s){"use strict";var a=function(e){function t(t,n,i){e.call(this),this._outputService=t,this._partService=n,this._panelService=i}return d(t,e),t.prototype.$append=function(e,t,n){this._getChannel(e,t).append(n)},t.prototype.$clear=function(e,t){this._getChannel(e,t).clear()},t.prototype.$reveal=function(e,t,n){this._getChannel(e,t).show(n)},t.prototype._getChannel=function(e,t){return n.Registry.as(i.Extensions.OutputChannels).getChannels().every(function(t){return t.id!==e})&&n.Registry.as(i.Extensions.OutputChannels).registerChannel(e,t),this._outputService.getChannel(e)},t.prototype.$close=function(e){var t=this._panelService.getActivePanel();t&&t.getId()===i.OUTPUT_PANEL_ID&&e===this._outputService.getActiveChannel().id&&this._partService.setPanelHidden(!0)},t=g([v(0,i.IOutputService),v(1,r.IPartService),v(2,o.IPanelService)],t)}(s.MainThreadOutputServiceShape);t.MainThreadOutputService=a}),define(l[1127],h([1,0,2,17,90,50,60]),function(e,t,n,i,r,o,s){"use strict";var a=function(e){function t(t,n){e.call(this),this._token=0,this._proxy=t.get(s.ExtHostContext.ExtHostQuickOpen),this._quickOpenService=n}return d(t,e),t.prototype.$show=function(e){var t=this,r=++this._token;return this._contents=new n.TPromise(function(e,n){t._doSetItems=function(n){r===t._token&&e(n)},t._doSetError=function(e){r===t._token&&n(e)}}),i.asWinJsPromise(function(n){return t._quickOpenService.pick(t._contents,e,n)}).then(function(e){if(e)return e.handle},void 0,function(e){e&&t._proxy.$onItemSelected(e.handle)})},t.prototype.$setItems=function(e){if(this._doSetItems)return void this._doSetItems(e)},t.prototype.$setError=function(e){if(this._doSetError)return void this._doSetError(e)},t.prototype.$input=function(e,t){var n=this,r=Object.create(null);return e&&(r.password=e.password,r.placeHolder=e.placeHolder,r.prompt=e.prompt,r.value=e.value,r.ignoreFocusLost=e.ignoreFocusOut),t&&(r.validateInput=function(e){return n._proxy.$validateInput(e)}),i.asWinJsPromise(function(e){return n._quickOpenService.input(r,e)})},t=g([v(0,r.IThreadService),v(1,o.IQuickOpenService)],t)}(s.MainThreadQuickOpenShape);t.MainThreadQuickOpen=a}),define(l[1128],h([1,0,2,17,12,62,90,55,6,19,15,46,44,310,343,357,25,265,60,118]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S,E){"use strict";function _(e,t){if(e.isAttachedToEditor())for(var n=t.listCodeEditors(),i=0,r=n.length;i<r;i++){var o=n[i],s=o.getModel();if(s&&e===s)return o}return null}var C=function(){function e(e,t){this.configurationService=e,this.codeEditorService=t,this.name="TrimWhitespaceParticipant"}return e.prototype.participate=function(e,t){this.configurationService.lookup("files.trimTrailingWhitespace").value&&this.doTrimTrailingWhitespace(e.textEditorModel,t.reason===a.SaveReason.AUTO)},e.prototype.doTrimTrailingWhitespace=function(e,t){var n=[new h.Selection(1,1,1,1)],i=[],r=_(e,this.codeEditorService);r&&(n=r.getSelections(),t&&i.push.apply(i,n.map(function(e){return new d.Position(e.positionLineNumber,e.positionColumn)})));var o=p.trimTrailingWhitespace(e,i);o.length&&e.pushEditOperations(n,o,function(e){return n})},e=g([v(0,y.IConfigurationService),v(1,o.ICodeEditorService)],e)}(),w=function(){function e(e,t){this.configurationService=e,this.codeEditorService=t,this.name="FinalNewLineParticipant"}return e.prototype.participate=function(e,t){this.configurationService.lookup("files.insertFinalNewline").value&&this.doInsertFinalNewLine(e.textEditorModel)},e.prototype.doInsertFinalNewLine=function(e){var t=e.getLineCount(),n=e.getLineContent(t),i=r.lastNonWhitespaceIndex(n)===-1;if(t&&!i){var o=[new h.Selection(1,1,1,1)],s=_(e,this.codeEditorService);s&&(o=s.getSelections()),e.pushEditOperations(o,[E.EditOperation.insert(new d.Position(t,e.getLineMaxColumn(t)),e.getEOL())],function(e){return o}),s&&s.setSelections(o)}},e=g([v(0,y.IConfigurationService),v(1,o.ICodeEditorService)],e)}();t.FinalNewLineParticipant=w;var I=function(){function e(e,t){this._editorService=e,this._configurationService=t,this.name="FormatOnSaveParticipant"}return e.prototype.participate=function(e,t){var i=this;if(t.reason!==a.SaveReason.AUTO&&this._configurationService.lookup("editor.formatOnSave").value){var r=e.textEditorModel,o=r.getVersionId(),s=r.getOptions(),c=s.tabSize,u=s.insertSpaces;return new n.TPromise(function(e,t){setTimeout(t,750),f.getDocumentFormattingEdits(r,{tabSize:c,insertSpaces:u}).then(e,t)}).then(function(e){if(e&&o===r.getVersionId()){var t=i._findEditor(r);t?i._editsWithEditor(t,e):i._editWithModel(r,e)}})}},e.prototype._editsWithEditor=function(e,t){e.executeCommand("files.formatOnSave",new m.EditOperationsCommand(t,e.getSelection()))},e.prototype._editWithModel=function(t,n){var i=n[0].range,r=new h.Selection(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn);t.pushEditOperations([r],n.map(e._asIdentEdit),function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t].range;if(l.Range.areIntersectingOrTouching(i,r))return[new h.Selection(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)]}})},e._asIdentEdit=function(e){var t=e.text,n=e.range;return{text:t,range:l.Range.lift(n),identifier:void 0,forceMoveMarkers:!0}},e.prototype._findEditor=function(e){if(e.isAttachedToEditor()){for(var t,n=0,i=this._editorService.listCodeEditors();n<i.length;n++){var r=i[n];if(r.getModel()===e){if(r.isFocused())return r;t=r}}return t}},e=g([v(0,o.ICodeEditorService),v(1,y.IConfigurationService)],e)}(),T=function(){function e(e){this.name="ExtHostSaveParticipant",this._proxy=e.get(S.ExtHostContext.ExtHostDocumentSaveParticipant)}return e.prototype.participate=function(e,t){var i=this;return new n.TPromise(function(r,o){setTimeout(o,1750),i._proxy.$participateInSave(e.getResource(),t.reason).then(function(e){for(var t=0,i=e;t<i.length;t++){var r=i[t];if(!r)return n.TPromise.wrapError("listener failed")}}).then(r,o)})},e=g([v(0,s.IThreadService)],e)}(),x=function(){function e(e,t,n){this._telemetryService=e,this._saveParticipants=[t.createInstance(C),t.createInstance(w),t.createInstance(I),t.createInstance(T)],b.TextFileEditorModel.setSaveParticipant(this)}return e.prototype.participate=function(e,t){var r=this,o=Object.create(null),s=this._saveParticipants.map(function(i){return function(){var r=i.name,s=Date.now();return n.TPromise.as(i.participate(e,t)).then(function(){o["Success-"+r]=Date.now()-s},function(e){o["Failure-"+r]=Date.now()-s})}});return i.sequence(s).then(function(){r._telemetryService.publicLog("saveParticipantStats",o)})},e=g([v(0,u.ITelemetryService),v(1,c.IInstantiationService),v(2,s.IThreadService)],e)}();t.SaveParticipant=x}),define(l[1129],h([1,0,201,60]),function(e,t,n,i){"use strict";var r=function(e){function t(t){e.call(this),this.statusbarService=t,this.mapIdToDisposable=Object.create(null)}return d(t,e),t.prototype.$setEntry=function(e,t,n,i,r,o,s,a){this.$dispose(e);var c=this.statusbarService.addEntry({text:n,tooltip:i,command:r,color:o,extensionId:t},s,a);this.mapIdToDisposable[e]=c},t.prototype.$dispose=function(e){var t=this.mapIdToDisposable[e];t&&t.dispose(),delete this.mapIdToDisposable[e]},t=g([v(0,n.IStatusbarService)],t)}(i.MainThreadStatusBarShape);t.MainThreadStatusBar=r}),define(l[1130],h([1,0,2,38,60]),function(e,t,n,i,r){"use strict";var o=function(e){function t(t){e.call(this),this._storageService=t}return d(t,e),t.prototype.$getValue=function(e,t){var r=this._storageService.get(t,e?i.StorageScope.GLOBAL:i.StorageScope.WORKSPACE);if(!r)return n.TPromise.as(void 0);var o;try{return o=JSON.parse(r),n.TPromise.as(o)}catch(e){return n.TPromise.wrapError(e)}},t.prototype.$setValue=function(e,t,r){var o;try{o=JSON.stringify(r),this._storageService.store(t,o,e?i.StorageScope.GLOBAL:i.StorageScope.WORKSPACE)}catch(e){return n.TPromise.wrapError(e)}},t=g([v(0,i.IStorageService)],t)}(r.MainThreadStorageShape);t.MainThreadStorage=o}),define(l[1131],h([1,0,19,60]),function(e,t,n,i){"use strict";var r=function(e){function t(t){e.call(this),this._telemetryService=t}return d(t,e),t.prototype.$publicLog=function(e,t){this._telemetryService.publicLog(e,t)},t.prototype.$getTelemetryInfo=function(){return this._telemetryService.getTelemetryInfo()},t=g([v(0,n.ITelemetryService)],t)}(i.MainThreadTelemetryShape);t.MainThreadTelemetry=r}),define(l[1132],h([1,0,5,136,90,2,60]),function(e,t,n,i,r,o,s){"use strict";var a=function(e){function t(t,n){var i=this;e.call(this),this.terminalService=n,this._proxy=t.get(s.ExtHostContext.ExtHostTerminalService),this._toDispose=[],this._toDispose.push(n.onInstanceDisposed(function(e){return i._onTerminalDisposed(e)})),this._toDispose.push(n.onInstanceProcessIdReady(function(e){return i._onTerminalProcessIdReady(e)}))}return d(t,e),t.prototype.dispose=function(){this._toDispose=n.dispose(this._toDispose)},t.prototype.$createTerminal=function(e,t,n){return o.TPromise.as(this.terminalService.createInstance(e,t,n).id)},t.prototype.$show=function(e,t){var n=this.terminalService.getInstanceFromId(e);n&&(this.terminalService.setActiveInstance(n),this.terminalService.showPanel(!t))},t.prototype.$hide=function(e){this.terminalService.getActiveInstance().id===e&&this.terminalService.hidePanel()},t.prototype.$dispose=function(e){var t=this.terminalService.getInstanceFromId(e);t&&t.dispose()},t.prototype.$sendText=function(e,t,n){var i=this.terminalService.getInstanceFromId(e);i&&i.sendText(t,n)},t.prototype._onTerminalDisposed=function(e){this._proxy.$acceptTerminalClosed(e.id)},t.prototype._onTerminalProcessIdReady=function(e){this._proxy.$acceptTerminalProcessId(e.id,e.processId)},t=g([v(0,r.IThreadService),v(1,i.ITerminalService)],t)}(s.MainThreadTerminalServiceShape);t.MainThreadTerminalService=a}),define(l[1133],h([1,0,90,60,219,18,34]),function(e,t,n,i,r,o,s){"use strict";var a=function(e){function t(t,n,r,o){e.call(this),this.threadService=t,this.treeExplorerService=n,this.messageService=r,this.commandService=o,this._proxy=t.get(i.ExtHostContext.ExtHostExplorers)}return d(t,e),t.prototype.$registerTreeExplorerNodeProvider=function(e){var t=this,n=function(e){t.messageService.show(o.Severity.Error,e)};this.treeExplorerService.registerTreeExplorerNodeProvider(e,{provideRootNode:function(){return t._proxy.$provideRootNode(e).then(function(e){return e},n)},resolveChildren:function(i){return t._proxy.$resolveChildren(e,i).then(function(e){return e},n)},executeCommand:function(n){return t._proxy.$getInternalCommand(e,n).then(function(e){return(n=t.commandService).executeCommand.apply(n,[e.id].concat(e.arguments));var n})}})},t=g([v(0,n.IThreadService),v(1,r.ITreeExplorerService),v(2,o.IMessageService),v(3,s.ICommandService)],t)}(i.MainThreadTreeExplorersShape);t.MainThreadTreeExplorers=a}),define(l[1134],h([1,0,7,144,26,47,22,55,234,2,60,73]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";var p=function(e){function t(t,n,i,r,o,s){e.call(this),this._activeSearches=Object.create(null),this._searchService=t,this._workspace=n.getWorkspace(),this._textFileService=i,this._editorService=r,this._eventService=s,this._textModelResolverService=o}return d(t,e),t.prototype.$startSearch=function(e,t,r,o){var s=this;if(this._workspace){var a=this._searchService.search({folderResources:[this._workspace.resource],type:i.QueryType.File,maxResults:r,includePattern:(l={},l[e]=!0,l),excludePattern:(h={},h[t]=!0,h)}).then(function(e){return e.results.map(function(e){return e.resource})},function(e){if(!n.isPromiseCanceledError(e))return u.TPromise.wrapError(e)});this._activeSearches[o]=a;var c=function(){return delete s._activeSearches[o]};return a.done(c,c),a;var l,h}},t.prototype.$cancelSearch=function(e){var t=this._activeSearches[e];if(t)return delete this._activeSearches[e],t.cancel(),u.TPromise.as(!0)},t.prototype.$saveAll=function(e){return this._textFileService.saveAll(e).then(function(e){return e.results.every(function(e){return e.success===!0})})},t.prototype.$applyWorkspaceEdit=function(e){var t,n=this._editorService.getActiveEditor();if(n){var i=n.getControl();"function"==typeof i.getEditorType&&(t=i)}return c.bulkEdit(this._eventService,this._textModelResolverService,t,e).then(function(){return!0})},t=g([v(0,i.ISearchService),v(1,r.IWorkspaceContextService),v(2,a.ITextFileService),v(3,s.IWorkbenchEditorService),v(4,h.ITextModelResolverService),v(5,o.IEventService)],t)}(l.MainThreadWorkspaceShape);t.MainThreadWorkspace=p}),define(l[1135],h([1,0,12,645,1111,51]),function(e,t,n,i,r,o){"use strict";var s=!1,a=function(e){function t(t,r){var o=this;e.call(this,!0);var a=s||r.logExtensionHostCommunication;this.remoteCom=i.create(function(e){a&&console.log("%c[Window  Extension]%c[len: "+n.pad(e.length,5," ")+"]","color: darkgreen","color: grey",e),t.send(e)}),t.onMessage(function(e){a&&console.log("%c[Extension  Window]%c[len: "+n.pad(e.length,5," ")+"]","color: darkgreen","color: grey",e),o.remoteCom.handle(e)}),this.remoteCom.setManyHandler(this)}return d(t,e),t.prototype._callOnRemote=function(e,t,n){return this.remoteCom.callOnRemote(e,t,n)},t=g([v(1,o.IEnvironmentService)],t)}(r.AbstractThreadService);t.MainThreadService=a}),define(l[270],h([1,0,6]),function(e,t,n){"use strict";t.ITitleService=n.createDecorator("titleService")}),define(l[1137],h([1,0,13,2,74,8,176,29,45,28,22,41,63,270,83]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f){"use strict";var m=f.remote.dialog,y=function(){function e(e,t,n,i,r,o,s,a){this.editorService=n,this.editorGroupService=i,this.partService=r,this.windowsService=o,this.windowService=s,this.titleService=a,this.win=e,this.windowId=e.id,this.registerListeners()}return e.prototype.registerListeners=function(){function e(){i=void 0,r&&(r.destroy(),r=void 0)}var t=this;n.platform===n.Platform.Mac&&this.editorGroupService.onEditorsChanged(function(){var e=u.asFileEditorInput(t.editorService.getActiveEditorInput(),!0),n=e?e.getResource().fsPath:"";t.titleService.setRepresentedFilename(n)});var i,r;window.document.body.addEventListener(o.EventType.DRAG_OVER,function(n){o.EventHelper.stop(n),i||(i=s.extractResources(n,!0).map(function(e){return e.resource}),t.includesFolder(i).done(function(n){n&&(r=a.$(window.document.getElementById(t.partService.getWorkbenchElementId())).div({id:"monaco-workbench-drop-overlay"}).on(o.EventType.DROP,function(n){o.EventHelper.stop(n,!0),t.focus(),t.windowsService.windowOpen(i.map(function(e){return e.fsPath})),e()}).on([o.EventType.DRAG_LEAVE,o.EventType.DRAG_END],function(){e()}).once(o.EventType.MOUSE_OVER,function(){setTimeout(function(){e()},300)}))}))}),[o.EventType.DROP,o.EventType.DRAG_END].forEach(function(t){window.document.body.addEventListener(t,function(t){r&&t.target===r.getHTMLElement()||e()},!0)}),window.document.body.addEventListener(o.EventType.DROP,function(e){o.EventHelper.stop(e)});var c=this;window.open=function(e,t,n,i){return c.windowsService.openExternal(e),null}},e.prototype.includesFolder=function(e){return i.TPromise.join(e.map(function(e){return r.stat(e.fsPath).then(function(e){return!!e.isDirectory()},function(e){return!1})})).then(function(e){return e.some(function(e){return!!e})})},e.prototype.close=function(){this.win.close()},e.prototype.showMessageBox=function(e){return m.showMessageBox(this.win,e)},e.prototype.showSaveDialog=function(e,t){return t?m.showSaveDialog(this.win,e,t):m.showSaveDialog(this.win,e)},e.prototype.focus=function(){return this.windowService.focusWindow()},e=g([v(2,l.IWorkbenchEditorService),v(3,h.IEditorGroupService),v(4,c.IPartService),v(5,d.IWindowsService),v(6,d.IWindowService),v(7,p.ITitleService)],e)}();t.ElectronWindow=y}),define(l[1138],h([1,0,7,13,633,81,16,61,28,22,47,33,46,26,5,38,69,14,11,25,41,51,196,270,63,62]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A){"use strict";var D=function(){function e(e,t){this._editorInput=e,this._selection=t}return Object.defineProperty(e.prototype,"editorInput",{get:function(){return this._editorInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this._selection},enumerable:!0,configurable:!0}),e.prototype.justifiesNewPushState=function(t){if(!this._editorInput.matches(t._editorInput))return!0;if(!p.Selection.isISelection(this._selection)||!p.Selection.isISelection(t._selection))return!0;var n=p.Selection.liftSelection(this._selection),i=p.Selection.liftSelection(t._selection);return!(Math.abs(n.getStartPosition().lineNumber-i.getStartPosition().lineNumber)<e.EDITOR_SELECTION_THRESHOLD)},e.EDITOR_SELECTION_THRESHOLD=5,e}();t.EditorState=D;var L=function(){function e(e,t,n,i,r,o,s){var a=this;this.editorGroupService=e,this.editorService=t,this.contextService=n,this.configurationService=i,this.environmentService=r,this.titleService=s,this.toUnbind=[],this.activeEditorListeners=[],this.isPure=!0,this.titleService.updateTitle(this.getWindowTitle(null)),o.isPure().then(function(e){e.isPure||(a.isPure=!1,a.titleService.updateTitle(a.getWindowTitle(a.editorService.getActiveEditorInput())))}),this.toUnbind.push(this.editorGroupService.onEditorsChanged(function(){return a.onEditorsChanged()})),this.toUnbind.push(this.configurationService.onDidUpdateConfiguration(function(){return a.onConfigurationChanged(!0)})),this.onConfigurationChanged()}return e.prototype.onConfigurationChanged=function(e){var t=this.showFullPath;this.showFullPath=this.configurationService.lookup("window.showFullPath").value,e&&t!==this.showFullPath&&this.updateWindowTitle(this.editorService.getActiveEditorInput())},e.prototype.onEditorsChanged=function(){var e=this;m.dispose(this.activeEditorListeners),this.activeEditorListeners=[];var t=this.editorService.getActiveEditor(),n=t?t.input:void 0;this.onEditorEvent(t),n instanceof c.EditorInput&&(this.activeEditorListeners.push(n.onDidChangeDirty(function(){e.updateWindowTitle(n)})),this.activeEditorListeners.push(n.onDidChangeLabel(function(){e.updateWindowTitle(n)})));var i=A.getCodeEditor(t);i&&this.activeEditorListeners.push(i.onDidChangeCursorPosition(function(n){e.handleEditorSelectionChangeEvent(t)}))},e.prototype.onEditorEvent=function(e){var t=e?e.input:null;this.updateWindowTitle(t),this.handleActiveEditorChange(e)},e.prototype.updateWindowTitle=function(e){var t=null;t=e&&e.getName()?this.getWindowTitle(e):this.getWindowTitle(null),this.titleService.updateTitle(t)},e.prototype.getWindowTitle=function(t){var n=this.doGetWindowTitle(t);return this.isPure||(n=n+" "+e.NLS_UNSUPPORTED),this.environmentService.isExtensionDevelopment?r.localize(1,null,n):n},e.prototype.doGetWindowTitle=function(e){var t,n=a.default.nameLong,s=c.asFileEditorInput(e);s&&this.showFullPath?(t=o.getPathLabel(s.getResource()),(i.isMacintosh||i.isLinux)&&0===t.indexOf(this.environmentService.userHome)&&(t="~"+t.substr(this.environmentService.userHome.length))):t=e&&e.getName(),t&&e&&e.isDirty()&&!i.isMacintosh&&(t=r.localize(2,null,t));var u=this.contextService.getWorkspace();if(u){var l=u.name;return t?i.isMacintosh?r.localize(3,null,t,l):r.localize(4,null,t,l,n):i.isMacintosh?l:r.localize(5,null,l,n)}return t?i.isMacintosh?t:r.localize(6,null,t,n):n},e.prototype.dispose=function(){this.toUnbind=m.dispose(this.toUnbind)},e.NLS_UNSUPPORTED=r.localize(0,null),e}();t.BaseHistoryService=L;var k=function(e){function t(t,n,i,r,o,s,a,u,l,h,d){e.call(this,n,t,r,s,i,l,h),this.storageService=o,this.lifecycleService=a,this.eventService=u,this.windowService=d,this.index=-1,this.stack=[],this.recentlyClosedFiles=[],this.loaded=!1,this.registry=S.Registry.as(c.Extensions.Editors),this.registerListeners()}return d(t,e),t.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.lifecycleService.onShutdown(function(t){return e.save()})),this.toUnbind.push(this.editorGroupService.onEditorOpenFail(function(t){return e.remove(t)})),this.toUnbind.push(this.editorGroupService.getStacksModel().onEditorClosed(function(t){return e.onEditorClosed(t)})),this.toUnbind.push(this.eventService.addListener2(h.EventType.FILE_CHANGES,function(t){return e.onFileChanges(t)}))},t.prototype.onFileChanges=function(e){e.gotDeleted()&&this.remove(e)},t.prototype.onEditorClosed=function(e){if(e.pinned){var n=c.asFileEditorInput(e.editor);n&&(this.removeFromRecentlyClosedFiles(e.editor),this.recentlyClosedFiles.push({resource:n.getResource(),index:e.index}),this.recentlyClosedFiles.length>t.MAX_RECENTLY_CLOSED_EDITORS&&this.recentlyClosedFiles.shift())}},t.prototype.reopenLastClosedEditor=function(){this.ensureHistoryLoaded();for(var e=this.editorGroupService.getStacksModel(),t=this.recentlyClosedFiles.pop();t&&this.isFileOpened(t.resource,e.activeGroup);)t=this.recentlyClosedFiles.pop();t&&this.editorService.openEditor({resource:t.resource,options:{pinned:!0,index:t.index}})},t.prototype.forward=function(){this.stack.length>this.index+1&&(this.index++,this.navigate())},t.prototype.back=function(){this.index>0&&(this.index--,this.navigate())},t.prototype.clear=function(){this.ensureHistoryLoaded(),this.index=-1,this.stack.splice(0),this.history=[],this.recentlyClosedFiles=[]},t.prototype.navigate=function(){var e=this,t=this.stack[this.index],i=t.options;i?i.revealIfVisible=!0:i={revealIfVisible:!0},this.navigatingInStack=!0;var r;r=t.input instanceof c.EditorInput?this.editorService.openEditor(t.input,i):this.editorService.openEditor({resource:t.input.resource,options:i}),r.done(function(){e.navigatingInStack=!1},function(t){e.navigatingInStack=!1,n.onUnexpectedError(t)})},t.prototype.handleEditorSelectionChangeEvent=function(e){this.handleEditorEventInStack(e)},t.prototype.handleActiveEditorChange=function(e){this.handleEditorEventInHistory(e),this.handleEditorEventInStack(e)},t.prototype.handleEditorEventInHistory=function(e){var n=this,i=e?e.input:void 0;if(i&&i.getName()){this.ensureHistoryLoaded();var r=this.preferResourceInput(i);if(this.removeFromHistory(i),this.history.unshift(r),this.history.length>t.MAX_HISTORY_ITEMS&&this.history.pop(),r instanceof c.EditorInput){var o=E.once(r.onDispose);o(function(){n.removeFromHistory(i)})}}},t.prototype.remove=function(e){this.removeFromHistory(e),this.removeFromStack(e),this.removeFromRecentlyClosedFiles(e),this.removeFromRecentlyOpen(e)},t.prototype.removeFromHistory=function(e){var t=this;this.ensureHistoryLoaded(),this.history=this.history.filter(function(n){return!t.matches(e,n)})},t.prototype.handleEditorEventInStack=function(e){var t=A.getCodeEditor(e);return this.navigatingInStack?void(t&&e.input?this.currentFileEditorState=new D(e.input,t.getSelection()):this.currentFileEditorState=null):t&&e.input?void this.handleTextEditorEvent(e,t):(this.currentFileEditorState=null,void(e&&e.input&&this.handleNonTextEditorEvent(e)))},t.prototype.handleTextEditorEvent=function(e,t){var n=new D(e.input,t.getSelection());if(!this.currentFileEditorState||this.currentFileEditorState.justifiesNewPushState(n)){this.currentFileEditorState=n;var i=void 0,r=t.getSelection();r&&(i={selection:{startLineNumber:r.startLineNumber,startColumn:r.startColumn}}),this.add(e.input,i,!0)}},t.prototype.handleNonTextEditorEvent=function(e){var t=this.stack[this.index];t&&this.matches(e.input,t.input)||this.add(e.input,void 0,!0)},t.prototype.add=function(e,t,n){this.navigatingInStack||this.addToStack(e,t,n)},t.prototype.addToStack=function(e,n,i){var r=this,o=!1;if(this.stack[this.index]){var s=this.stack[this.index];this.matches(e,s.input)&&(this.sameOptions(s.options,n)||i&&Date.now()-s.timestamp<t.MERGE_EVENT_CHANGES_THRESHOLD)&&(o=!0)}var a=this.preferResourceInput(e),u={input:a,options:n,timestamp:i?Date.now():void 0};if(this.stack.length>this.index+1&&(this.stack=this.stack.slice(0,this.index+1)),o?this.stack[this.index]=u:(this.index++,this.stack.splice(this.index,0,u),this.stack.length>t.MAX_STACK_ITEMS&&(this.stack.shift(),this.index>0&&this.index--)),a instanceof c.EditorInput){var l=E.once(a.onDispose);l(function(){r.removeFromStack(e)})}},t.prototype.preferResourceInput=function(e){var t=c.asFileEditorInput(e);return t?{resource:t.getResource()}:e},t.prototype.sameOptions=function(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var n=e.selection,i=t.selection;return!n&&!i||!(!n&&i||n&&!i)&&n.startLineNumber===i.startLineNumber},t.prototype.removeFromStack=function(e){var t=this;this.stack=this.stack.filter(function(n){return!t.matches(e,n.input)}),this.index=this.stack.length-1},t.prototype.removeFromRecentlyClosedFiles=function(e){var t=this;this.recentlyClosedFiles=this.recentlyClosedFiles.filter(function(n){return!t.matchesFile(n.resource,e)})},t.prototype.removeFromRecentlyOpen=function(e){if(!(e instanceof c.EditorInput||e instanceof h.FileChangesEvent)){var t=e;this.windowService.removeFromRecentlyOpen([t.resource.fsPath])}},t.prototype.isFileOpened=function(e,t){var n=this;return!!t&&(!!t.contains(e)&&t.getEditors().some(function(t){return n.matchesFile(e,t)}))},t.prototype.matches=function(e,t){if(e instanceof h.FileChangesEvent){if(t instanceof c.EditorInput)return!1;var n=t;return e.contains(n.resource,h.FileChangeType.DELETED)}if(e instanceof c.EditorInput&&t instanceof c.EditorInput)return e.matches(t);if(e instanceof c.EditorInput)return this.matchesFile(t.resource,e);if(t instanceof c.EditorInput)return this.matchesFile(e.resource,t);var i=e,r=t;return i&&r&&i.resource.toString()===r.resource.toString()},t.prototype.matchesFile=function(e,t){if(t instanceof h.FileChangesEvent)return t.contains(e,h.FileChangeType.DELETED);if(t instanceof c.EditorInput){var n=c.asFileEditorInput(t);return n&&n.getResource().toString()===e.toString()}var i=t;return i&&i.resource.toString()===e.toString()},t.prototype.getHistory=function(){return this.ensureHistoryLoaded(),this.history.slice(0)},t.prototype.ensureHistoryLoaded=function(){this.loaded||this.loadHistory(),this.loaded=!0},t.prototype.save=function(){if(this.history){var e=this.history.map(function(e){if(!(e instanceof c.EditorInput))return{resource:e.resource.toString()}}).filter(function(e){return!!e});this.storageService.store(t.STORAGE_KEY,JSON.stringify(e),y.StorageScope.WORKSPACE)}},t.prototype.loadHistory=function(){var e=[],n=this.storageService.get(t.STORAGE_KEY,y.StorageScope.WORKSPACE);n&&(e=JSON.parse(n)),this.history=e.map(function(e){var t=e;if(t.resource)return{resource:s.default.parse(t.resource)}}).filter(function(e){return!!e})},t.STORAGE_KEY="history.entries",t.MAX_HISTORY_ITEMS=200,t.MAX_STACK_ITEMS=20,t.MAX_RECENTLY_CLOSED_EDITORS=20,t.MERGE_EVENT_CHANGES_THRESHOLD=100,t=g([v(0,u.IWorkbenchEditorService),v(1,C.IEditorGroupService),v(2,w.IEnvironmentService),v(3,f.IWorkspaceContextService),v(4,y.IStorageService),v(5,_.IConfigurationService),v(6,b.ILifecycleService),v(7,l.IEventService),v(8,I.IIntegrityService),v(9,T.ITitleService),v(10,x.IWindowService)],t)}(L);t.HistoryService=k}),define(l[56],h([1,0,16,6,35,145,11]),function(e,t,n,i,r,o,s){"use strict";t.IUntitledEditorService=i.createDecorator("untitledEditorService");var a=function(){function e(e){this.instantiationService=e,this._onDidChangeContent=new s.Emitter,this._onDidChangeDirty=new s.Emitter,this._onDidChangeEncoding=new s.Emitter,this._onDidDisposeModel=new s.Emitter}return Object.defineProperty(e.prototype,"onDidDisposeModel",{get:function(){return this._onDidDisposeModel.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeContent",{get:function(){return this._onDidChangeContent.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeDirty",{get:function(){return this._onDidChangeDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeEncoding",{get:function(){return this._onDidChangeEncoding.event},enumerable:!0,configurable:!0}),e.prototype.get=function(t){return e.CACHE[t.toString()]},e.prototype.getAll=function(t){var n=this;return t?r.coalesce(t.map(function(e){return n.get(e)})):Object.keys(e.CACHE).map(function(t){return e.CACHE[t]})},e.prototype.revertAll=function(e,t){var n=[],i=this.getAll(e);return i.forEach(function(e){e&&(e.revert(),e.dispose(),n.push(e.getResource()))}),n},e.prototype.isDirty=function(e){var t=this.get(e);return t&&t.isDirty()},e.prototype.getDirty=function(){return Object.keys(e.CACHE).map(function(t){return e.CACHE[t]}).filter(function(e){return e.isDirty()}).map(function(e){return e.getResource()})},e.prototype.createOrGet=function(t,n){var i=!1;return t&&(i="file"===t.scheme,t=this.resourceToUntitled(t),i&&(e.KNOWN_ASSOCIATED_FILE_PATHS[t.toString()]=!0)),t&&e.CACHE[t.toString()]?e.CACHE[t.toString()]:this.doCreate(t,i,n)},e.prototype.doCreate=function(t,i,r){var a=this;if(!t){var c=Object.keys(e.CACHE).length+1;do t=n.default.from({scheme:o.UntitledEditorInput.SCHEMA,path:"Untitled-"+c}),c++;while(Object.keys(e.CACHE).indexOf(t.toString())>=0)}var u=this.instantiationService.createInstance(o.UntitledEditorInput,t,i,r),l=u.onDidModelChangeContent(function(){a._onDidChangeContent.fire(t)}),h=u.onDidChangeDirty(function(){a._onDidChangeDirty.fire(t)}),d=u.onDidModelChangeEncoding(function(){a._onDidChangeEncoding.fire(t)}),p=u.onDispose(function(){a._onDidDisposeModel.fire(t)}),f=s.once(u.onDispose);return f(function(){delete e.CACHE[u.getResource().toString()],delete e.KNOWN_ASSOCIATED_FILE_PATHS[u.getResource().toString()],l.dispose(),h.dispose(),d.dispose(),p.dispose()}),e.CACHE[t.toString()]=u,u},e.prototype.resourceToUntitled=function(e){return e.scheme===o.UntitledEditorInput.SCHEMA?e:n.default.from({scheme:o.UntitledEditorInput.SCHEMA,path:e.fsPath})},e.prototype.hasAssociatedFilePath=function(t){return!!e.KNOWN_ASSOCIATED_FILE_PATHS[t.toString()]},e.prototype.dispose=function(){this._onDidChangeContent.dispose(),this._onDidChangeDirty.dispose(),this._onDidChangeEncoding.dispose(),this._onDidDisposeModel.dispose()},e.CACHE=Object.create(null),e.KNOWN_ASSOCIATED_FILE_PATHS=Object.create(null),e=g([v(0,i.IInstantiationService)],e)}();t.UntitledEditorService=a}),define(l[1140],h([1,0,97,40,10,90,16,5,47,55,2,33,54,56,60,73,62]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b){"use strict";var S=function(e){function t(t,n,i,r,o,s,a,c,u){var l=this;e.call(this),this._modelService=n,this._modeService=i,this._textModelResolverService=c,this._textFileService=o,this._codeEditorService=s,this._fileService=a,this._untitledEditorService=u,this._proxy=t.get(m.ExtHostContext.ExtHostDocuments),this._modelIsSynced={},this._toDispose=[],n.onModelAdded(this._onModelAdded,this,this._toDispose),n.onModelRemoved(this._onModelRemoved,this,this._toDispose),n.onModelModeChanged(this._onModelModeChanged,this,this._toDispose),this._toDispose.push(o.models.onModelSaved(function(e){l._shouldHandleFileEvent(e)&&l._proxy.$acceptModelSaved(e.resource.toString())})),this._toDispose.push(o.models.onModelReverted(function(e){l._shouldHandleFileEvent(e)&&l._proxy.$acceptModelReverted(e.resource.toString())})),this._toDispose.push(o.models.onModelDirty(function(e){l._shouldHandleFileEvent(e)&&l._proxy.$acceptModelDirty(e.resource.toString())})),this._modelToDisposeMap=Object.create(null),this._resourceContentProvider=Object.create(null)}return d(t,e),t.prototype.dispose=function(){var e=this;Object.keys(this._modelToDisposeMap).forEach(function(t){e._modelToDisposeMap[t].dispose()}),this._modelToDisposeMap=Object.create(null),this._toDispose=a.dispose(this._toDispose)},t.prototype._shouldHandleFileEvent=function(e){var t=this._modelService.getModel(e.resource);return t&&!t.isTooLargeForHavingARichMode()},t.prototype._onModelAdded=function(e){var t=this;if(e.isTooLargeForHavingARichMode())return null;var n=e.uri;this._modelIsSynced[n.toString()]=!0,this._modelToDisposeMap[n.toString()]=e.addBulkListener(function(e){return t._onModelEvents(n,e)}),this._proxy.$acceptModelAdd({url:e.uri,versionId:e.getVersionId(),value:e.toRawText(),modeId:e.getMode().getId(),isDirty:this._textFileService.isDirty(n)})},t.prototype._onModelModeChanged=function(e){var t=e.model,n=e.oldModeId,i=t.uri;
this._modelIsSynced[i.toString()]&&this._proxy.$acceptModelModeChanged(t.uri.toString(),n,t.getMode().getId())},t.prototype._onModelRemoved=function(e){var t=e.uri;this._modelIsSynced[t.toString()]&&(delete this._modelIsSynced[t.toString()],this._modelToDisposeMap[t.toString()].dispose(),delete this._modelToDisposeMap[t.toString()],this._proxy.$acceptModelRemoved(t.toString()))},t.prototype._onModelEvents=function(e,t){for(var n=[],i=0,o=t.length;i<o;i++){var s=t[i];switch(s.getType()){case r.EventType.ModelContentChanged2:n.push(s.getData())}}n.length>0&&this._proxy.$acceptModelChanged(e.toString(),n,this._textFileService.isDirty(e))},t.prototype.$trySaveDocument=function(e){return this._textFileService.save(e)},t.prototype.$tryOpenDocument=function(e){if(!e.scheme||!e.fsPath&&!e.authority)return l.TPromise.wrapError("Invalid uri. Scheme and authority or path must be set.");var t;switch(e.scheme){case"untitled":t=this._handleUnititledScheme(e);break;case"file":default:t=this._handleAsResourceInput(e)}return t.then(function(t){if(!t)return l.TPromise.wrapError("cannot open "+e.toString())},function(t){return l.TPromise.wrapError("cannot open "+e.toString()+". Detail: "+n.toErrorMessage(t))})},t.prototype._handleAsResourceInput=function(e){return this._textModelResolverService.createModelReference(e).then(function(e){var t=!!e.object;return t})},t.prototype._handleUnititledScheme=function(e){var t=this,n=s.default.file(e.fsPath);return this._fileService.resolveFile(n).then(function(e){return l.TPromise.wrapError("file already exists on disk")},function(i){var r=t._untitledEditorService.createOrGet(n);return r.resolve(!0).then(function(n){if(r.getResource().toString()!==e.toString())throw new Error("expected URI "+e.toString()+" BUT GOT "+r.getResource().toString());if(!t._modelIsSynced[e.toString()])throw new Error("expected URI "+e.toString()+" to have come to LIFE");return t._proxy.$acceptModelDirty(e.toString())}).then(function(){return!0})})},t.prototype.$registerTextContentProvider=function(e,t){var n=this;this._resourceContentProvider[e]=this._textModelResolverService.registerTextModelContentProvider(t,{provideTextContent:function(t){return n._proxy.$provideTextDocumentContent(e,t).then(function(e){if("string"==typeof e){var i=e.substr(0,1+e.search(/\r?\n/)),r=n._modeService.getOrCreateModeByFilenameOrFirstLine(t.fsPath,i);return n._modelService.createModel(e,r,t)}})}})},t.prototype.$unregisterTextContentProvider=function(e){var t=this._resourceContentProvider[e];t&&(t.dispose(),delete this._resourceContentProvider[e])},t.prototype.$onVirtualDocumentChange=function(e,t){var n=this._modelService.getModel(e);n&&n.setValue(t)},t=g([v(0,o.IThreadService),v(1,i.IModelService),v(2,p.IModeService),v(3,c.IEventService),v(4,u.ITextFileService),v(5,b.ICodeEditorService),v(6,h.IFileService),v(7,y.ITextModelResolverService),v(8,f.IUntitledEditorService)],t)}(m.MainThreadDocumentsShape);t.MainThreadDocuments=S}),define(l[381],h([1,0,2,471,21,161,145,193,19,26,38,25,47,6,18,22,80,56]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S){"use strict";var E=function(e){function t(n,i,r,o,s,a,c,u,l,h){var d=this;e.call(this,t.ID,n,i,r,o,s,a,c,u,l),this.untitledEditorService=h,this.mapResourceToEditorViewState=Object.create(null),this.toUnbind.push(this.untitledEditorService.onDidChangeDirty(function(e){return d.onUntitledDirtyChange(e)}))}return d(t,e),t.prototype.onUntitledDirtyChange=function(e){this.untitledEditorService.isDirty(e)||delete this.mapResourceToEditorViewState[e.toString()]},t.prototype.getTitle=function(){return this.input?this.input.getName():i.localize(0,null)},t.prototype.setInput=function(t,i){var a=this,c=this.getInput();e.prototype.setInput.call(this,t,i);var u=i&&i.forceOpen;if(!u&&t.matches(c)){var l=i;return l&&r.isFunction(l.apply)&&l.apply(this.getControl()),n.TPromise.as(null)}return c instanceof s.UntitledEditorInput&&(this.mapResourceToEditorViewState[c.getResource().toString()]=this.getControl().saveViewState()),t.resolve(!0).then(function(e){if(!(e instanceof o.BaseTextEditorModel))return n.TPromise.wrapError("Invalid editor input. String editor requires a model instance of BaseTextEditorModel.");if(!a.getInput()||a.getInput()!==t)return null;var s=a.getControl(),c=e.textEditorModel;s.setModel(c);var u=!1,l=i;l&&r.isFunction(l.apply)&&(u=l.apply(s)),u||a.restoreViewState(t),s.updateOptions(a.getCodeEditorOptions())})},t.prototype.restoreViewState=function(e){if(e instanceof s.UntitledEditorInput){var t=this.mapResourceToEditorViewState[e.getResource().toString()];t&&this.getControl().restoreViewState(t)}},t.prototype.getCodeEditorOptions=function(){var t=e.prototype.getCodeEditorOptions.call(this),n=this.getInput(),r=n instanceof s.UntitledEditorInput,o=!r;t.readOnly=o;var a,c=n&&n.getName();return a=o?c?i.localize(1,null,c):i.localize(2,null):c?i.localize(3,null,c):i.localize(4,null),t.ariaLabel=a,t},t.prototype.revealLastLine=function(e){void 0===e&&(e=!1);var t=this.getControl(),n=t.getModel(),i=t.getScrollTop()+t.getLayoutInfo().height>=t.getScrollHeight();if(n&&(!e||i)){var r=n.getLineCount();t.revealLine(r)}},t.prototype.clearInput=function(){this.input instanceof s.UntitledEditorInput&&(this.mapResourceToEditorViewState[this.input.getResource().toString()]=this.getControl().saveViewState()),this.getControl().setModel(null),e.prototype.clearInput.call(this)},t.ID="workbench.editors.stringEditor",t=g([v(0,c.ITelemetryService),v(1,f.IInstantiationService),v(2,u.IWorkspaceContextService),v(3,l.IStorageService),v(4,m.IMessageService),v(5,h.IConfigurationService),v(6,p.IEventService),v(7,y.IWorkbenchEditorService),v(8,b.IThemeService),v(9,S.IUntitledEditorService)],t)}(a.BaseTextEditor);t.StringEditor=E}),define(l[1142],h([1,0,472,7,8,13,98,28,78,138,43,25,22,39,41,56,18,19,6,36,23,31,63,258,50,5,124,112,176,103,20,739]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P,R){"use strict";var O=function(e){function t(t,n,i,r,o,s,a,c,u,l,h,d,p){e.call(this,t,n,i,r,o,a,c,u,l,h,d),this.untitledEditorService=s,this.windowService=p,this.tabDisposeables=[],this.tabDisposeables=[],this.editorLabels=[]}return d(t,e),t.prototype.setContext=function(t){e.prototype.setContext.call(this,t),this.editorActionsToolbar.context={group:t}},t.prototype.create=function(t){var n=this;e.prototype.create.call(this,t),this.titleContainer=t,this.tabsContainer=document.createElement("div"),this.tabsContainer.setAttribute("role","tablist"),r.addClass(this.tabsContainer,"tabs-container"),this.toDispose.push(r.addDisposableListener(this.tabsContainer,r.EventType.SCROLL,function(e){r.hasClass(n.tabsContainer,"scroll")&&n.scrollbar.updateState({scrollLeft:n.tabsContainer.scrollLeft})})),this.toDispose.push(r.addDisposableListener(this.tabsContainer,r.EventType.DBLCLICK,function(e){var t=e.target;if(t instanceof HTMLElement&&0===t.className.indexOf("tabs-container")){r.EventHelper.stop(e);var o=n.context;o&&n.editorService.openEditor(n.untitledEditorService.createOrGet(),{pinned:!0,index:o.count}).done(null,i.onUnexpectedError)}})),this.scrollbar=new D.ScrollableElement(this.tabsContainer,{horizontal:L.ScrollbarVisibility.Auto,vertical:L.ScrollbarVisibility.Hidden,scrollYToX:!0,useShadows:!1,canUseTranslate3d:!0,horizontalScrollbarSize:3}),this.scrollbar.onScroll(function(e){n.tabsContainer.scrollLeft=e.scrollLeft}),this.titleContainer.appendChild(this.scrollbar.getDomNode()),this.toDispose.push(r.addDisposableListener(this.tabsContainer,r.EventType.DRAG_OVER,function(e){r.addClass(n.tabsContainer,"scroll");var t=e.target;t instanceof HTMLElement&&0===t.className.indexOf("tabs-container")&&r.addClass(n.tabsContainer,"dropfeedback")})),this.toDispose.push(r.addDisposableListener(this.tabsContainer,r.EventType.DRAG_LEAVE,function(e){r.removeClass(n.tabsContainer,"dropfeedback"),r.removeClass(n.tabsContainer,"scroll")})),this.toDispose.push(r.addDisposableListener(this.tabsContainer,r.EventType.DRAG_END,function(e){r.removeClass(n.tabsContainer,"dropfeedback"),r.removeClass(n.tabsContainer,"scroll")})),this.toDispose.push(r.addDisposableListener(this.tabsContainer,r.EventType.DROP,function(e){r.removeClass(n.tabsContainer,"dropfeedback"),r.removeClass(n.tabsContainer,"scroll");var t=e.target;if(t instanceof HTMLElement&&0===t.className.indexOf("tabs-container")){var i=n.context;if(i){var o=n.stacks.positionOfGroup(i),s=i.count;n.onDrop(e,i,o,s)}}}));var o=document.createElement("div");r.addClass(o,"editor-actions"),this.titleContainer.appendChild(o),this.createEditorActionsToolBar(o)},t.prototype.allowDragging=function(e){return"tabs-container"===e.className},t.prototype.doUpdate=function(){var e=this;if(this.context){var t=this.context,n=this.stacks.isActive(t);n?r.addClass(this.titleContainer,"active"):r.removeClass(this.titleContainer,"active");var i=this.context.getEditors(),o=this.getUniqueTabLabels(i);i.forEach(function(n,i){var s=e.tabsContainer.children[i];if(s instanceof HTMLElement){var c=t.isPinned(n),u=t.isActive(n),l=n.isDirty(),h=o[i],d=h.name,p=h.hasAmbiguousName&&h.description?h.description:"",f=h.verboseDescription||"";s.setAttribute("aria-label","tab, "+d),s.title=f;var g=e.editorLabels[i];g.setLabel({name:d,description:p,resource:a.getResource(n)},{extraClasses:["tab-label"],italic:!c}),u?(r.addClass(s,"active"),s.setAttribute("aria-selected","true"),e.activeTab=s):(r.removeClass(s,"active"),s.setAttribute("aria-selected","false")),l?r.addClass(s,"dirty"):r.removeClass(s,"dirty")}}),this.updateEditorActionsToolbar(),this.layout()}},t.prototype.getUniqueTabLabels=function(e){var t=[],n=new P.LinkedMap,i=new P.LinkedMap;e.forEach(function(e){var r=e.getDescription();r&&r.indexOf(R.nativeSep)>=0&&(r=R.basename(r));var o={editor:e,name:e.getName(),description:r,verboseDescription:e.getDescription(!0)};t.push(o),n.getOrSet(o.name,[]).push(o),o.description&&i.getOrSet(o.name+o.description,[]).push(o)});var r=n.values();r.forEach(function(e){e.length>1&&e.forEach(function(e){e.hasAmbiguousName=!0})});var o=i.values();return o.forEach(function(e){e.length>1&&e.forEach(function(e){e.description=e.editor.getDescription()})}),t},t.prototype.doRefresh=function(){var e=this.context,t=e&&e.activeEditor;return t?(this.refreshTabs(e),void this.doUpdate()):(this.clearTabs(),void this.clearEditorActionsToolbar())},t.prototype.clearTabs=function(){r.clearNode(this.tabsContainer),this.tabDisposeables=A.dispose(this.tabDisposeables),this.editorLabels=A.dispose(this.editorLabels)},t.prototype.refreshTabs=function(e){var t=this;this.clearTabs();var i=[];this.context.getEditors().forEach(function(o){var s=document.createElement("div");s.draggable=!0,s.tabIndex=0,s.setAttribute("role","presentation"),r.addClass(s,"tab monaco-editor-background"),i.push(s),t.showTabCloseButton?r.removeClass(s,"no-close-button"):r.addClass(s,"no-close-button");var a=t.instantiationService.createInstance(u.EditorLabel,s,void 0);t.editorLabels.push(a);var c=document.createElement("div");r.addClass(c,"tab-close"),s.appendChild(c);var h=new l.ActionBar(c,{context:{editor:o,group:e},ariaLabel:n.localize(0,null)});h.push(t.closeEditorAction,{icon:!0,label:!1,keybinding:t.getKeybindingLabel(t.closeEditorAction)}),t.tabDisposeables.push(h),t.hookTabListeners(s,{editor:o,group:e})}),i.forEach(function(e){return t.tabsContainer.appendChild(e)})},t.prototype.layout=function(){if(this.activeTab){var e=this.tabsContainer.offsetWidth,t=this.tabsContainer.scrollWidth;this.scrollbar.updateState({width:e,scrollWidth:t});var n=this.tabsContainer.scrollLeft,i=this.activeTab.offsetLeft,r=this.activeTab.offsetWidth,o=r<=e;o&&n+e<i+r?this.scrollbar.updateState({scrollLeft:n+(i+r-(n+e))}):(n>i||!o)&&this.scrollbar.updateState({scrollLeft:this.activeTab.offsetLeft})}},t.prototype.hookTabListeners=function(e,t){var n=this,o=t.editor,u=t.group,l=this.stacks.positionOfGroup(u);this.tabDisposeables.push(r.addDisposableListener(e,r.EventType.MOUSE_DOWN,function(t){e.blur(),0!==t.button||r.findParentWithClass(t.target||t.srcElement,"monaco-action-bar","tab")||setTimeout(function(){return n.editorService.openEditor(o,null,l).done(null,i.onUnexpectedError)})})),this.tabDisposeables.push(r.addDisposableListener(e,r.EventType.MOUSE_UP,function(t){r.EventHelper.stop(t),e.blur(),1===t.button&&n.editorService.closeEditor(l,o).done(null,i.onUnexpectedError)})),this.tabDisposeables.push(r.addDisposableListener(e,r.EventType.KEY_DOWN,function(i){var o=new c.StandardKeyboardEvent(i);o.shiftKey&&68===o.keyCode&&(r.EventHelper.stop(i),n.onContextMenu(t,i,e))})),this.tabDisposeables.push(r.addDisposableListener(e,r.EventType.KEY_UP,function(e){var t=new c.StandardKeyboardEvent(e),s=!1;if(t.equals(3)||t.equals(10))s=!0,n.editorService.openEditor(o,null,l).done(null,i.onUnexpectedError);else if([15,17,16,18,14,13].some(function(e){return t.equals(e)})){var a=u.indexOf(o),h=void 0;h=t.equals(15)||t.equals(16)?a-1:t.equals(17)||t.equals(18)?a+1:t.equals(14)?0:u.count-1;var d=u.getEditor(h);d&&(s=!0,n.editorService.openEditor(d,{preserveFocus:!0},l).done(null,i.onUnexpectedError),n.tabsContainer.childNodes[h].focus())}s&&r.EventHelper.stop(e,!0),n.scrollbar.updateState({scrollLeft:n.tabsContainer.scrollLeft})})),this.tabDisposeables.push(r.addDisposableListener(e,r.EventType.DBLCLICK,function(e){r.EventHelper.stop(e),n.editorGroupService.pinEditor(u,o)})),this.tabDisposeables.push(r.addDisposableListener(e,r.EventType.CONTEXT_MENU,function(i){return n.onContextMenu(t,i,e)})),this.tabDisposeables.push(r.addDisposableListener(e,r.EventType.DRAG_START,function(e){n.onEditorDragStart({editor:o,group:u}),e.dataTransfer.effectAllowed="copyMove";var t=a.asFileEditorInput(o,!0);if(t){var i=t.getResource().toString();e.dataTransfer.setData("URL",i),e.dataTransfer.setData("DownloadURL",[s.MIME_BINARY,o.getName(),i].join(":"))}}));var h=0;this.tabDisposeables.push(r.addDisposableListener(e,r.EventType.DRAG_ENTER,function(t){h++,r.addClass(e,"dropfeedback")})),this.tabDisposeables.push(r.addDisposableListener(e,r.EventType.DRAG_LEAVE,function(t){h--,0===h&&r.removeClass(e,"dropfeedback")})),this.tabDisposeables.push(r.addDisposableListener(e,r.EventType.DRAG_END,function(t){h=0,r.removeClass(e,"dropfeedback"),n.onEditorDragEnd()})),this.tabDisposeables.push(r.addDisposableListener(e,r.EventType.DROP,function(t){h=0,r.removeClass(e,"dropfeedback");var i=n.stacks.positionOfGroup(u),s=u.indexOf(o);n.onDrop(t,u,i,s)}))},t.prototype.onDrop=function(e,n,o,s){r.removeClass(this.tabsContainer,"dropfeedback"),r.removeClass(this.tabsContainer,"scroll");var a=t.getDraggedEditor();a?(r.EventHelper.stop(e,!0),this.isMoveOperation(e,a.group,n)?this.editorGroupService.moveEditor(a.editor,a.group,n,s):this.editorService.openEditor(a.editor,{pinned:!0,index:s},o).done(null,i.onUnexpectedError),this.onEditorDragEnd()):this.handleExternalDrop(e,o,s)},t.prototype.handleExternalDrop=function(e,t,n){var o=this,s=k.extractResources(e).filter(function(e){return"file"===e.resource.scheme||"untitled"===e.resource.scheme});if(s.length){r.EventHelper.stop(e,!0);var a=s.filter(function(e){return e.isExternal}).map(function(e){return e.resource});a.length&&this.windowService.addToRecentlyOpen(a.map(function(e){return{path:e.fsPath,isFile:!0}})),this.editorService.openEditors(s.map(function(e){return{input:{resource:e.resource,options:{pinned:!0,index:n}},position:t}})).then(function(){return o.editorGroupService.focusGroup(t),o.windowService.focusWindow()}).done(null,i.onUnexpectedError)}},t.prototype.isMoveOperation=function(e,t,n){var i=e.ctrlKey&&!o.isMacintosh||e.altKey&&o.isMacintosh;return!i||t.id===n.id},t=g([v(0,f.IContextMenuService),v(1,E.IInstantiationService),v(2,h.IConfigurationService),v(3,p.IWorkbenchEditorService),v(4,m.IEditorGroupService),v(5,y.IUntitledEditorService),v(6,C.IContextKeyService),v(7,_.IKeybindingService),v(8,S.ITelemetryService),v(9,b.IMessageService),v(10,w.IMenuService),v(11,x.IQuickOpenService),v(12,I.IWindowService)],t)}(T.TitleControl);t.TabsTitleControl=O}),define(l[1143],h([1,0,35,11,79,21,29,141,264,8,7,17,13,22,66,41,19,25,6,113,23,75,5,1142,258,1059,28,176,63,62,728]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k){"use strict";!function(e){e[e.NONE=0]="NONE",e[e.TWO_TO_ONE=1]="TWO_TO_ONE",e[e.THREE_TO_TWO=2]="THREE_TO_TWO",e[e.TWO_AND_THREE_TO_ONE=3]="TWO_AND_THREE_TO_ONE"}(t.Rochade||(t.Rochade={}));var P=t.Rochade;!function(e){e[e.INFINITE=0]="INFINITE",e[e.DONE=1]="DONE",e[e.STOP=2]="STOP"}(t.ProgressState||(t.ProgressState={}));var R=t.ProgressState,O=function(){function e(e,t,n,r,o,a,c,u,l,d){var p=this;this.editorService=n,this.editorGroupService=r,this.telemetryService=o,this.configurationService=a,this.contextKeyService=c,this.extensionService=u,this.instantiationService=l,this.windowService=d,this.stacks=r.getStacksModel(),this.toDispose=[],this.parent=e,this.dimension=new s.Dimension(0,0),this.silos=[],this.silosSize=[],this.silosMinimized=[],this.visibleEditors=[],this.visibleEditorFocusTrackers=[],this._onGroupFocusChanged=new i.Emitter,this.onStacksChangeScheduler=new h.RunOnceScheduler(function(){return p.handleStacksChanged()},0),this.toDispose.push(this.onStacksChangeScheduler),this.stacksChangedBuffer=[],this.onConfigurationUpdated(this.configurationService.getConfiguration());var f=t||"vertical";this.layoutVertically="horizontal"!==f,this.create(),this.registerListeners()}return Object.defineProperty(e.prototype,"totalSize",{get:function(){return this.dimension&&this.dimension.width&&this.dimension.height?this.layoutVertically?this.dimension.width:this.dimension.height:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minSize",{get:function(){return this.layoutVertically?e.MIN_EDITOR_WIDTH:e.MIN_EDITOR_HEIGHT},enumerable:!0,configurable:!0}),e.prototype.isSiloMinimized=function(e){return this.silosSize[e]===this.minSize&&this.silosMinimized[e]},e.prototype.enableMinimizedState=function(){var e=this;f.POSITIONS.forEach(function(t){return e.silosMinimized[t]=e.silosSize[t]===e.minSize})},e.prototype.updateMinimizedState=function(){var e=this;f.POSITIONS.forEach(function(t){e.silosSize[t]!==e.minSize&&(e.silosMinimized[t]=!1)})},Object.defineProperty(e.prototype,"snapToMinimizeThresholdSize",{get:function(){return this.layoutVertically?e.SNAP_TO_MINIMIZED_THRESHOLD_WIDTH:e.SNAP_TO_MINIMIZED_THRESHOLD_HEIGHT},enumerable:!0,configurable:!0}),e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.stacks.onModelChanged(function(t){return e.onStacksChanged(t)})),this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationUpdated(t.config,!0)})),this.extensionService.onReady().then(function(){return e.onExtensionsReady()})},e.prototype.onConfigurationUpdated=function(e,t){var n=this,i=this.showTabCloseButton;e.workbench&&e.workbench.editor?(this.showTabs=e.workbench.editor.showTabs,this.showTabCloseButton=e.workbench.editor.showTabCloseButton,this.showIcons=e.workbench.editor.showIcons):(this.showTabs=!0,this.showTabCloseButton=!0,this.showIcons=!1),t&&f.POSITIONS.forEach(function(e){var t=n.getTitleAreaControl(e),r=s.$(t.getContainer());n.showTabs?r.addClass("tabs"):r.removeClass("tabs");var o=r.hasClass("show-file-icons");if(n.showIcons?r.addClass("show-file-icons"):r.removeClass("show-file-icons"),t){var a=t instanceof I.TabsTitleControl;a!==n.showTabs?(t.dispose(),r.empty(),n.createTitleControl(n.stacks.groupAt(e),n.silos[e],r,n.getInstantiationService(e))):o===n.showIcons&&i===n.showTabCloseButton||t.refresh()}})},e.prototype.onExtensionsReady=function(){var e=this;f.POSITIONS.forEach(function(t){return e.getTitleAreaControl(t).update()})},e.prototype.onStacksChanged=function(e){this.stacksChangedBuffer.push(e),this.onStacksChangeScheduler.schedule()},e.prototype.handleStacksChanged=function(){var e=this,t=this.stacksChangedBuffer;this.stacksChangedBuffer=[],f.POSITIONS.forEach(function(t){var n=e.getTitleAreaControl(t),i=e.stacks.groupAt(t),r=n.hasContext();n.setContext(i),!i&&r&&n.refresh()}),t.forEach(function(t){var n=e.stacks.positionOfGroup(t.group);n>=0&&(t.structural?e.getTitleAreaControl(n).refresh():e.getTitleAreaControl(n).update())})},Object.defineProperty(e.prototype,"onGroupFocusChanged",{get:function(){return this._onGroupFocusChanged.event},enumerable:!0,configurable:!0}),e.prototype.show=function(e,t,n,i){var r=this.getVisibleEditorCount();this.visibleEditors[t]=e,n&&this.lastActiveEditor||this.doSetActive(e,t),this.trackFocus(e,t);var o=this.silos[t].child();if(e.getContainer().build(o),!i||2!==i.length&&3!==i.length)0===r&&this.dimension?(this.silosSize[t]=this.totalSize,this.layoutContainers()):t===f.Position.TWO&&this.sashOne.isHidden()&&this.sashTwo.isHidden()&&this.dimension?(this.silosSize[f.Position.ONE]=this.totalSize/2,this.silosSize[f.Position.TWO]=this.totalSize-this.silosSize[f.Position.ONE],this.sashOne.show(),this.sashOne.layout(),this.layoutContainers()):t===f.Position.THREE&&this.sashTwo.isHidden()&&this.dimension&&(this.silosSize[f.Position.ONE]=this.totalSize/3,this.silosSize[f.Position.TWO]=this.totalSize/3,this.silosSize[f.Position.THREE]=this.totalSize-this.silosSize[f.Position.ONE]-this.silosSize[f.Position.TWO],this.sashOne.layout(),this.sashTwo.show(),this.sashTwo.layout(),this.layoutContainers());else{var s=!!this.totalSize;s||(this.silosInitialRatio=i),2===i.length?s&&(this.silosSize[t]=this.totalSize*i[t]):3===i.length&&(s&&(this.silosSize[t]=this.totalSize*i[t]),this.sashTwo.isHidden()&&(this.sashTwo.show(),this.sashTwo.layout())),this.sashOne.isHidden()&&(this.sashOne.show(),this.sashOne.layout()),s&&this.layoutContainers()}e.getContainer().show(),this.updateParentStyle()},e.prototype.getVisibleEditorCount=function(){return this.visibleEditors.filter(function(e){return!!e}).length},e.prototype.trackFocus=function(e,t){var n=this;this.visibleEditorFocusTrackers[t]&&this.visibleEditorFocusTrackers[t].dispose(),this.visibleEditorFocusTrackers[t]=u.trackFocus(e.getContainer().getHTMLElement()),this.visibleEditorFocusTrackers[t].addFocusListener(function(){n.onFocusGained(e)})},e.prototype.onFocusGained=function(e){this.setActive(e)},e.prototype.setActive=function(e){var t=this;if(this.lastActiveEditor!==e){if(this.doSetActive(e,this.visibleEditors.indexOf(e)),this.isSiloMinimized(this.lastActivePosition)){this.telemetryService&&this.telemetryService.publicLog("workbenchEditorMaximized");var n=this.totalSize,i=!1;f.POSITIONS.forEach(function(e){t.lastActivePosition!==e&&t.visibleEditors[e]&&(t.silosSize[e]=t.minSize,n-=t.silosSize[e])}),n>this.minSize&&(this.silosSize[this.lastActivePosition]=n,this.sashOne.isHidden()||this.sashOne.layout(),this.sashTwo.isHidden()||this.sashTwo.layout(),i=!0),this.enableMinimizedState(),i&&this.layoutContainers()}this._onGroupFocusChanged.fire()}},e.prototype.focusNextNonMinimized=function(){var e=this;if(!o.isUndefinedOrNull(this.lastActivePosition)&&this.silosMinimized[this.lastActivePosition]){var t=null,n=this.minSize;f.POSITIONS.forEach(function(i){i!==e.lastActivePosition&&e.visibleEditors[i]&&e.silosSize[i]>n&&(t=i,n=e.silosSize[i])}),o.isUndefinedOrNull(t)||this.editorGroupService.focusGroup(t)}},e.prototype.hide=function(e,t,n){var i=P.NONE,r=this.getVisibleEditorCount(),s=!!this.visibleEditors[f.Position.TWO],a=!!this.visibleEditors[f.Position.THREE];if(e!==this.visibleEditors[t])return i;if(this.clearPosition(t),e.getContainer().offDOM().hide(),n&&(1===r?(this.silosSize[t]=0,this.sashOne.hide(),this.sashTwo.hide(),this.layoutContainers()):s&&!a?(this.silosSize[f.Position.ONE]=this.totalSize,this.silosSize[f.Position.TWO]=0,this.sashOne.hide(),this.sashTwo.hide(),t===f.Position.ONE&&(this.rochade(f.Position.TWO,f.Position.ONE),i=P.TWO_TO_ONE),this.layoutContainers()):s&&a&&(this.silosSize[f.Position.ONE]=this.totalSize/2,this.silosSize[f.Position.TWO]=this.totalSize-this.silosSize[f.Position.ONE],this.silosSize[f.Position.THREE]=0,this.sashOne.layout(),this.sashTwo.hide(),t===f.Position.TWO?(this.rochade(f.Position.THREE,f.Position.TWO),i=P.THREE_TO_TWO):t===f.Position.ONE&&(this.rochade(f.Position.TWO,f.Position.ONE),this.rochade(f.Position.THREE,f.Position.TWO),i=P.TWO_AND_THREE_TO_ONE),this.layoutContainers())),this.lastActiveEditor===e&&(this.doSetActive(null,null),n)){var c=void 0;switch(t){case f.Position.ONE:c=s?f.Position.ONE:null;break;case f.Position.TWO:c=f.Position.ONE;break;case f.Position.THREE:c=f.Position.TWO}o.isUndefinedOrNull(c)||this.doSetActive(this.visibleEditors[c],c)}return this.updateParentStyle(),i},e.prototype.updateParentStyle=function(){var e=this.getVisibleEditorCount();e>1?this.parent.addClass("multiple-editors"):this.parent.removeClass("multiple-editors")},e.prototype.doSetActive=function(e,t){this.lastActivePosition=t,this.lastActiveEditor=e},e.prototype.clearPosition=function(e){this.visibleEditorFocusTrackers[e]&&(this.visibleEditorFocusTrackers[e].dispose(),this.visibleEditorFocusTrackers[e]=null),this.visibleEditors[e]=null},e.prototype.rochade=function(e,t){var n=this.silos[e].child();n.appendTo(this.silos[t]);var i=this.silos[t].child();i.appendTo(this.silos[e]);var r=this.visibleEditors[e];r.changePosition(t);var o=this.visibleEditorFocusTrackers[e];this.visibleEditorFocusTrackers[t]=o,this.visibleEditorFocusTrackers[e]=null;var s=this.silosMinimized[e];this.silosMinimized[t]=s,this.silosMinimized[e]=null,this.visibleEditors[t]=r,this.visibleEditors[e]=null,this.lastActivePosition===e&&this.doSetActive(this.lastActiveEditor,t)},e.prototype.move=function(e,t){if(1===Math.abs(e-t)){var i=this.silos[e].child();i.appendTo(this.silos[t]);var r=this.silos[t].child();r.appendTo(this.silos[e]),this.visibleEditors[e].changePosition(t),this.visibleEditors[t].changePosition(e),this.lastActivePosition===e?this.doSetActive(this.lastActiveEditor,t):this.lastActivePosition===t&&this.doSetActive(this.lastActiveEditor,e)}else{var o=void 0,s=void 0,a=void 0;e===f.Position.ONE?(o=f.Position.THREE,s=f.Position.ONE,a=f.Position.TWO):(o=f.Position.TWO,s=f.Position.THREE,a=f.Position.ONE);var c=this.silos[f.Position.ONE].child();c.appendTo(this.silos[o]);var u=this.silos[f.Position.TWO].child();u.appendTo(this.silos[s]);var l=this.silos[f.Position.THREE].child();l.appendTo(this.silos[a]),this.visibleEditors[f.Position.ONE].changePosition(o),this.visibleEditors[f.Position.TWO].changePosition(s),this.visibleEditors[f.Position.THREE].changePosition(a),this.lastActivePosition===f.Position.ONE?this.doSetActive(this.lastActiveEditor,o):this.lastActivePosition===f.Position.TWO?this.doSetActive(this.lastActiveEditor,s):this.lastActivePosition===f.Position.THREE&&this.doSetActive(this.lastActiveEditor,a)}n.move(this.visibleEditors,e,t),n.move(this.visibleEditorFocusTrackers,e,t),n.move(this.silosSize,e,t),n.move(this.silosMinimized,e,t),this.sashOne.isHidden()||this.sashOne.layout(),this.sashTwo.isHidden()||this.sashTwo.layout(),this.layoutContainers()},e.prototype.setGroupOrientation=function(e){this.layoutVertically="horizontal"!==e;var t=this.parent.hasClass("vertical-layout");t!==this.layoutVertically&&(this.parent.removeClass("vertical-layout","horizontal-layout"),this.parent.addClass(this.layoutVertically?"vertical-layout":"horizontal-layout"),this.sashOne.setOrientation(this.layoutVertically?a.Orientation.VERTICAL:a.Orientation.HORIZONTAL),this.sashTwo.setOrientation(this.layoutVertically?a.Orientation.VERTICAL:a.Orientation.HORIZONTAL),this.arrangeGroups(m.GroupArrangement.EVEN))},e.prototype.getGroupOrientation=function(){return this.layoutVertically?"vertical":"horizontal"},e.prototype.arrangeGroups=function(e){var t=this;if(this.dimension){var n=this.totalSize,i=this.getVisibleEditorCount();i<=1||(e===m.GroupArrangement.MINIMIZE_OTHERS?(f.POSITIONS.forEach(function(e){t.visibleEditors[e]&&e!==t.lastActivePosition&&(t.silosSize[e]=t.minSize,n-=t.minSize)}),this.silosSize[this.lastActivePosition]=n):e===m.GroupArrangement.EVEN&&f.POSITIONS.forEach(function(e){t.visibleEditors[e]&&(t.silosSize[e]=n/i)}),this.enableMinimizedState(),this.layoutControl(this.dimension))}},e.prototype.getRatio=function(){var e=this,t=[];if(this.dimension){var n=this.totalSize;f.POSITIONS.forEach(function(i){e.visibleEditors[i]&&t.push(e.silosSize[i]/n)})}return t},e.prototype.getActiveEditor=function(){return this.lastActiveEditor},e.prototype.getActivePosition=function(){return this.lastActivePosition},e.prototype.create=function(){var t=this;this.parent.addClass(this.layoutVertically?"vertical-layout":"horizontal-layout"),this.enableDropTarget(this.parent.getHTMLElement()),this.silos[f.Position.ONE]=s.$(this.parent).div({class:"one-editor-silo editor-one monaco-editor-background"}),this.sashOne=new a.Sash(this.parent.getHTMLElement(),this,{baseSize:5,orientation:this.layoutVertically?a.Orientation.VERTICAL:a.Orientation.HORIZONTAL}),this.toDispose.push(this.sashOne.addListener2("start",function(){return t.onSashOneDragStart()})),this.toDispose.push(this.sashOne.addListener2("change",function(e){return t.onSashOneDrag(e)})),this.toDispose.push(this.sashOne.addListener2("end",function(){return t.onSashOneDragEnd()})),this.toDispose.push(this.sashOne.addListener2("reset",function(){return t.onSashOneReset()})),this.sashOne.hide(),this.silos[f.Position.TWO]=s.$(this.parent).div({class:"one-editor-silo editor-two monaco-editor-background"}),this.sashTwo=new a.Sash(this.parent.getHTMLElement(),this,{baseSize:5,orientation:this.layoutVertically?a.Orientation.VERTICAL:a.Orientation.HORIZONTAL}),this.toDispose.push(this.sashTwo.addListener2("start",function(){return t.onSashTwoDragStart()})),this.toDispose.push(this.sashTwo.addListener2("change",function(e){return t.onSashTwoDrag(e)})),this.toDispose.push(this.sashTwo.addListener2("end",function(){return t.onSashTwoDragEnd()})),this.toDispose.push(this.sashTwo.addListener2("reset",function(){return t.onSashTwoReset()})),this.sashTwo.hide(),this.silos[f.Position.THREE]=s.$(this.parent).div({class:"one-editor-silo editor-three monaco-editor-background"}),f.POSITIONS.forEach(function(n){var i=t.silos[n],r=s.$(i).div({class:"container"}),o=t.instantiationService.createChild(new E.ServiceCollection([_.IContextKeyService,t.contextKeyService.createScoped(r.getHTMLElement())]));r.setProperty(e.INSTANTIATION_SERVICE_KEY,o);var a=s.$(r).div({class:"title"});t.showTabs&&a.addClass("tabs"),t.showIcons&&a.addClass("show-file-icons"),t.hookTitleDragListener(a),t.createTitleControl(t.stacks.groupAt(n),i,a,o);var u=new c.ProgressBar(s.$(r));u.getContainer().hide(),r.setProperty(e.PROGRESS_BAR_CONTROL_KEY,u)})},e.prototype.enableDropTarget=function(t){function n(){c&&(c.destroy(),c=void 0),f.POSITIONS.forEach(function(e){p.silos[e].removeClass("dragged-over")})}function i(e){var t=A.EditorOptions.create({pinned:!0}),n=p.editorService.getActiveEditor(),i=k.getCodeEditor(n);return i&&n.position===m.positionOfGroup(e.group)&&e.editor.matches(n.input)&&(t=A.TextEditorOptions.create({pinned:!0}),t.fromEditor(i)),t}function r(e,r,o){u.removeClass(t,"dropfeedback"),n();var s=p.editorService,a=p.editorGroupService,c="number"==typeof o,h=1===m.groups.length?f.Position.TWO:f.Position.THREE,g=T.TitleControl.getDraggedEditor();if(g){var v=e.ctrlKey&&!d.isMacintosh||e.altKey&&d.isMacintosh;if(v)c?s.openEditor(g.editor,i(g),h).then(function(){o!==h&&a.moveGroup(h,o)}).done(null,l.onUnexpectedError):s.openEditor(g.editor,i(g),r).done(null,l.onUnexpectedError);else{var y=m.positionOfGroup(g.group);c?1===g.group.count?a.moveGroup(y,o):s.openEditor(g.editor,i(g),h).then(function(){o!==h&&a.moveGroup(h,o),a.moveEditor(g.editor,m.positionOfGroup(g.group),o)}).done(null,l.onUnexpectedError):a.moveEditor(g.editor,y,r)}}else{var b=D.extractResources(e).filter(function(e){return"file"===e.resource.scheme||"untitled"===e.resource.scheme});if(b.length){var S=b.filter(function(e){return e.isExternal}).map(function(e){return e.resource});S.length&&p.windowService.addToRecentlyOpen(S.map(function(e){return{path:e.fsPath,isFile:!0}})),p.windowService.focusWindow().then(function(){
return s.openEditors(b.map(function(e){return{input:{resource:e.resource,options:{pinned:!0}},position:c?h:r}}))}).then(function(){c&&o!==h&&a.moveGroup(h,o),a.focusGroup(c?o:r)}).done(null,l.onUnexpectedError)}}}function o(t,n,i){var r,o=t.target,s="number"==typeof c.getProperty(v),a=t.ctrlKey&&!d.isMacintosh||t.altKey&&d.isMacintosh,u=T.TitleControl.getDraggedEditor(),l=p.layoutVertically?o.clientWidth:o.clientHeight,h=s?l/5:l/10,g=p.layoutVertically?t.offsetX:t.offsetY,y=g<h,b=g+h>l;if(n===f.POSITIONS.length)r=null;else if(!a&&u&&1===u.group.count){var S=m.positionOfGroup(u.group);switch(S){case f.Position.ONE:i===f.Position.TWO&&b&&(r=f.Position.TWO);break;case f.Position.TWO:i===f.Position.ONE&&y&&(r=f.Position.ONE);break;default:r=null}}else b?r=i===f.Position.ONE?f.Position.TWO:f.Position.THREE:y&&(r=i===f.Position.ONE?f.Position.ONE:f.Position.TWO);var E="number"==typeof r;E?c.setProperty(v,r):c.removeProperty(v),E&&b?c.style(p.layoutVertically?{left:"50%",width:"50%"}:{top:"50%",height:"50%"}):E&&y?c.style(p.layoutVertically?{width:"50%"}:{height:"50%"}):p.layoutVertically?c.style({left:"0",width:"100%"}):c.style({top:p.showTabs?e.EDITOR_TITLE_HEIGHT+"px":0,height:p.showTabs?"calc(100% - "+e.EDITOR_TITLE_HEIGHT+"px":"100%"}),c.style({opacity:1}),f.POSITIONS.forEach(function(e){e===i?p.silos[e].addClass("dragged-over"):p.silos[e].removeClass("dragged-over")})}function a(t){if(!c){var i=p.visibleEditors.filter(function(e){return!!e}).map(function(e){return e.getContainer()});i.forEach(function(a,l){a&&u.isAncestor(t,a.getHTMLElement())&&(c=s.$("div").style({top:p.showTabs?e.EDITOR_TITLE_HEIGHT+"px":0,height:p.showTabs?"calc(100% - "+e.EDITOR_TITLE_HEIGHT+"px":"100%"}).id(g),c.appendTo(a),c.on(u.EventType.DROP,function(e){u.EventHelper.stop(e,!0),r(e,l,c.getProperty(v))}),c.on(u.EventType.DRAG_OVER,function(e){o(e,i.length,l)}),c.on([u.EventType.DRAG_LEAVE,u.EventType.DRAG_END],function(){n()}),c.once(u.EventType.MOUSE_OVER,function(){setTimeout(function(){n()},300)}))})}}var c,h=this,p=this,g="monaco-workbench-editor-drop-overlay",v="splitToPosition",m=this.editorGroupService.getStacksModel();this.toDispose.push(u.addDisposableListener(t,u.EventType.DROP,function(e){e.target===t||u.isAncestor(e.target,t)?(u.EventHelper.stop(e,!0),r(e,f.Position.ONE)):u.removeClass(t,"dropfeedback")}));var y=0;this.toDispose.push(u.addDisposableListener(t,u.EventType.DRAG_ENTER,function(e){y++,u.addClass(t,"dropfeedback");var i=e.target;i&&(c&&i.id!==g&&n(),a(i),c&&u.removeClass(t,"dropfeedback"))})),this.toDispose.push(u.addDisposableListener(t,u.EventType.DRAG_LEAVE,function(e){y--,0===y&&u.removeClass(t,"dropfeedback")})),[t,window].forEach(function(e){h.toDispose.push(u.addDisposableListener(e,u.EventType.DRAG_END,function(e){y=0,u.removeClass(t,"dropfeedback"),n()}))})},e.prototype.createTitleControl=function(t,n,i,r){var o=r.createInstance(this.showTabs?I.TabsTitleControl:x.NoTabsTitleControl);o.create(i.getHTMLElement()),o.setContext(t),o.refresh(!0),n.child().setProperty(e.TITLE_AREA_CONTROL_KEY,o)},e.prototype.findPosition=function(e){for(var t=e.parentElement;t;){for(var n=0;n<f.POSITIONS.length;n++){var i=f.POSITIONS[n];if(this.silos[i].getHTMLElement()===t)return i}t=t.parentElement}return null},e.prototype.hookTitleDragListener=function(t){var n=this,i=!1;t.on(u.EventType.MOUSE_DOWN,function(o){var a=n.findPosition(t.getHTMLElement()),c=n.getTitleAreaControl(a);if(c.allowDragging(o.target||o.srcElement)&&(i=!1,c.setDragged(!1),!(n.getVisibleEditorCount()<=1)&&0===o.button)){u.EventHelper.stop(o);var l=s.$("div").style({top:e.EDITOR_TITLE_HEIGHT+"px",height:"calc(100% - "+e.EDITOR_TITLE_HEIGHT+"px)"}).id("monaco-workbench-editor-move-overlay");l.appendTo(n.silos[a]),n.dragging=!0;var h=n.getVisibleEditorCount(),d=new r.StandardMouseEvent(o),p=n.layoutVertically?d.posx:d.posy,g=null;n.silos[a].addClass("drag"),n.parent.addClass("drag");var v=s.$(window);v.on(u.EventType.MOUSE_MOVE,function(e){u.EventHelper.stop(e,!1);var t=new r.StandardMouseEvent(e),o=(n.layoutVertically?t.posx:t.posy)-p,s=null;switch(Math.abs(o)>5&&(i=!0),a){case f.Position.ONE:s=Math.max(-1,Math.min(o,n.totalSize-n.silosSize[f.Position.ONE]));break;case f.Position.TWO:s=2===h?Math.min(n.silosSize[f.Position.ONE],Math.max(-1,n.silosSize[f.Position.ONE]+o)):Math.min(n.totalSize-n.silosSize[f.Position.TWO],Math.max(-1,n.silosSize[f.Position.ONE]+o));break;case f.Position.THREE:s=Math.min(n.silosSize[f.Position.ONE]+n.silosSize[f.Position.TWO],Math.max(-1,n.silosSize[f.Position.ONE]+n.silosSize[f.Position.TWO]+o))}if(g!==s){g=s;var c=n.findMoveTarget(a,o);switch(a){case f.Position.ONE:c===f.Position.ONE||null===c?(n.posSilo(f.Position.TWO,n.silosSize[f.Position.ONE]+"px","auto","1px"),n.posSilo(f.Position.THREE,"auto",0)):c===f.Position.TWO?(n.posSilo(f.Position.TWO,0,"auto",0),n.silos[f.Position.TWO].addClass("draggedunder"),n.posSilo(f.Position.THREE,"auto",0)):c===f.Position.THREE&&(n.posSilo(f.Position.TWO,0,"auto"),n.posSilo(f.Position.THREE,"auto",n.silosSize[f.Position.ONE]+"px"),n.silos[f.Position.THREE].addClass("draggedunder"));break;case f.Position.TWO:c===f.Position.ONE?(n.posSilo(f.Position.ONE,n.silosSize[f.Position.TWO]+"px","auto"),n.silos[f.Position.ONE].addClass("draggedunder")):c===f.Position.TWO||null===c?(n.posSilo(f.Position.ONE,0,"auto"),n.posSilo(f.Position.THREE,"auto",0)):c===f.Position.THREE&&(n.posSilo(f.Position.THREE,"auto",n.silosSize[f.Position.TWO]+"px"),n.silos[f.Position.THREE].addClass("draggedunder"),n.posSilo(f.Position.ONE,0,"auto"));break;case f.Position.THREE:c===f.Position.ONE?(n.posSilo(f.Position.ONE,n.silosSize[f.Position.THREE]+"px","auto"),n.silos[f.Position.ONE].addClass("draggedunder")):c===f.Position.TWO?(n.posSilo(f.Position.ONE,0,"auto"),n.posSilo(f.Position.TWO,n.silosSize[f.Position.ONE]+n.silosSize[f.Position.THREE]+"px","auto"),n.silos[f.Position.TWO].addClass("draggedunder")):c!==f.Position.THREE&&null!==c||(n.posSilo(f.Position.ONE,0,"auto"),n.posSilo(f.Position.TWO,n.silosSize[f.Position.ONE]+"px","auto"))}null!==s&&(n.posSilo(a,s+"px"),n.silos[a].addClass("dragging"),n.parent.addClass("dragging"))}}).once(u.EventType.MOUSE_UP,function(e){u.EventHelper.stop(e,!1),l.destroy(),n.dragging=!1,i&&c.setDragged(!0),n.parent.removeClass("drag"),n.silos[a].removeClass("drag"),n.parent.removeClass("dragging"),n.silos[a].removeClass("dragging"),f.POSITIONS.forEach(function(e){return n.silos[e].removeClass("draggedunder")}),n.posSilo(f.Position.ONE,0,"auto"),n.posSilo(f.Position.TWO,"auto","auto","1px"),n.posSilo(f.Position.THREE,"auto",0);var t=new r.StandardMouseEvent(e),o=(n.layoutVertically?t.posx:t.posy)-p,s=n.findMoveTarget(a,o);null!==s?n.editorGroupService.moveGroup(a,s):n.layoutContainers(),i||a===n.getActivePosition()||n.editorGroupService.focusGroup(a),v.off("mousemove")})}})},e.prototype.posSilo=function(e,t,n,i){var r;this.layoutVertically?(r={left:t},"number"!=typeof n&&"string"!=typeof n||(r.right=n),"number"!=typeof i&&"string"!=typeof i||(r.borderLeftWidth=i)):(r={top:t},"number"!=typeof n&&"string"!=typeof n||(r.bottom=n),"number"!=typeof i&&"string"!=typeof i||(r.borderTopWidth=i)),this.silos[e].style(r)},e.prototype.findMoveTarget=function(e,t){var n=this.getVisibleEditorCount();switch(e){case f.Position.ONE:if(2===n&&(t>=this.silosSize[f.Position.ONE]/2||t>=this.silosSize[f.Position.TWO]/2))return f.Position.TWO;if(3===n&&(t>=this.silosSize[f.Position.ONE]/2+this.silosSize[f.Position.TWO]||t>=this.silosSize[f.Position.THREE]/2+this.silosSize[f.Position.TWO]))return f.Position.THREE;if(3===n&&(t>=this.silosSize[f.Position.ONE]/2||t>=this.silosSize[f.Position.TWO]/2))return f.Position.TWO;break;case f.Position.TWO:if(2===n&&t>0)return null;if(2===n&&(Math.abs(t)>=this.silosSize[f.Position.TWO]/2||Math.abs(t)>=this.silosSize[f.Position.ONE]/2))return f.Position.ONE;if(3===n&&(t<0&&Math.abs(t)>=this.silosSize[f.Position.TWO]/2||t<0&&Math.abs(t)>=this.silosSize[f.Position.ONE]/2))return f.Position.ONE;if(3===n&&(t>0&&Math.abs(t)>=this.silosSize[f.Position.TWO]/2||t>0&&Math.abs(t)>=this.silosSize[f.Position.THREE]/2))return f.Position.THREE;break;case f.Position.THREE:if(t>0)return null;if(Math.abs(t)>=this.silosSize[f.Position.THREE]/2+this.silosSize[f.Position.TWO]||Math.abs(t)>=this.silosSize[f.Position.ONE]/2+this.silosSize[f.Position.TWO])return f.Position.ONE;if(Math.abs(t)>=this.silosSize[f.Position.THREE]/2||Math.abs(t)>=this.silosSize[f.Position.TWO]/2)return f.Position.TWO}return null},e.prototype.centerSash=function(e,t){var n=this.silosSize[e]+this.silosSize[t],i=n/2;this.silosSize[e]=i,this.silosSize[t]=n-i,this.layoutContainers()},e.prototype.onSashOneDragStart=function(){this.startSiloOneSize=this.silosSize[f.Position.ONE]},e.prototype.onSashOneDrag=function(e){var t=this.silosSize[f.Position.ONE],n=this.layoutVertically?e.currentX-e.startX:e.currentY-e.startY,i=this.startSiloOneSize+n;this.sashTwo.isHidden()?(i<this.minSize?i=this.minSize:this.totalSize-i<this.minSize?i=this.totalSize-this.minSize:i-this.snapToMinimizeThresholdSize<=this.minSize?i=this.minSize:this.totalSize-i-this.snapToMinimizeThresholdSize<=this.minSize&&(i=this.totalSize-this.minSize),this.silosSize[f.Position.ONE]=i,this.silosSize[f.Position.TWO]=this.totalSize-i):(i<this.minSize?i=this.minSize:this.totalSize-i-this.silosSize[f.Position.THREE]<this.minSize?(this.totalSize-i-this.silosSize[f.Position.TWO]<this.minSize?(i=this.totalSize-2*this.minSize,this.silosSize[f.Position.TWO]=this.silosSize[f.Position.THREE]=this.minSize):this.totalSize-i-this.silosSize[f.Position.TWO]-this.snapToMinimizeThresholdSize<=this.minSize?this.silosSize[f.Position.THREE]=this.minSize:this.silosSize[f.Position.THREE]=this.silosSize[f.Position.THREE]-(i-t),this.sashTwo.layout()):i-this.snapToMinimizeThresholdSize<=this.minSize?i=this.minSize:this.totalSize-this.silosSize[f.Position.THREE]-i-this.snapToMinimizeThresholdSize<=this.minSize&&(i=this.totalSize-this.silosSize[f.Position.THREE]-this.minSize),this.silosSize[f.Position.ONE]=i,this.silosSize[f.Position.TWO]=this.totalSize-this.silosSize[f.Position.ONE]-this.silosSize[f.Position.THREE]),this.enableMinimizedState(),this.layoutContainers()},e.prototype.onSashOneDragEnd=function(){this.sashOne.layout(),this.sashTwo.layout(),this.focusNextNonMinimized()},e.prototype.onSashOneReset=function(){this.centerSash(f.Position.ONE,f.Position.TWO),this.sashOne.layout()},e.prototype.onSashTwoDragStart=function(){this.startSiloThreeSize=this.silosSize[f.Position.THREE]},e.prototype.onSashTwoDrag=function(e){var t=this.silosSize[f.Position.THREE],n=this.layoutVertically?-e.currentX+e.startX:-e.currentY+e.startY,i=this.startSiloThreeSize+n;i<this.minSize?i=this.minSize:this.totalSize-i-this.silosSize[f.Position.ONE]<this.minSize?(this.totalSize-i-this.silosSize[f.Position.TWO]<this.minSize?(i=this.totalSize-2*this.minSize,this.silosSize[f.Position.ONE]=this.silosSize[f.Position.TWO]=this.minSize):this.totalSize-i-this.silosSize[f.Position.TWO]-this.snapToMinimizeThresholdSize<=this.minSize?this.silosSize[f.Position.ONE]=this.minSize:this.silosSize[f.Position.ONE]=this.silosSize[f.Position.ONE]-(i-t),this.sashOne.layout()):i-this.snapToMinimizeThresholdSize<=this.minSize?i=this.minSize:this.totalSize-this.silosSize[f.Position.ONE]-i-this.snapToMinimizeThresholdSize<=this.minSize&&(i=this.totalSize-this.silosSize[f.Position.ONE]-this.minSize),this.silosSize[f.Position.THREE]=i,this.silosSize[f.Position.TWO]=this.totalSize-this.silosSize[f.Position.ONE]-this.silosSize[f.Position.THREE],this.enableMinimizedState(),this.layoutContainers()},e.prototype.onSashTwoDragEnd=function(){this.sashOne.layout(),this.sashTwo.layout(),this.focusNextNonMinimized()},e.prototype.onSashTwoReset=function(){this.centerSash(f.Position.TWO,f.Position.THREE),this.sashTwo.layout()},e.prototype.getVerticalSashTop=function(e){return 0},e.prototype.getVerticalSashLeft=function(e){return e===this.sashOne?this.silosSize[f.Position.ONE]:this.silosSize[f.Position.TWO]+this.silosSize[f.Position.ONE]},e.prototype.getVerticalSashHeight=function(e){return this.dimension.height},e.prototype.getHorizontalSashTop=function(e){return e===this.sashOne?this.silosSize[f.Position.ONE]:this.silosSize[f.Position.TWO]+this.silosSize[f.Position.ONE]},e.prototype.getHorizontalSashLeft=function(e){return 0},e.prototype.getHorizontalSashWidth=function(e){return this.dimension.width},e.prototype.isDragging=function(){return this.dragging},e.prototype.layout=function(e){e instanceof s.Dimension?this.layoutControl(e):this.layoutEditor(e)},e.prototype.layoutControl=function(e){var t=this,n=this.dimension;this.dimension=e,n&&n.width&&n.height||(n=e);var i=0,r=!1,s=this.layoutVertically?n.width:n.height;if(f.POSITIONS.forEach(function(e){if(t.visibleEditors[e]){if(!t.isSiloMinimized(e)){var n=void 0;t.silosInitialRatio&&o.isNumber(t.silosInitialRatio[e])?(n=t.silosInitialRatio[e],delete t.silosInitialRatio[e],r=!0):n=t.silosSize[e]/s,t.silosSize[e]=Math.max(Math.round(t.totalSize*n),t.minSize)}i+=t.silosSize[e]}}),r&&this.enableMinimizedState(),i>0){var a=i-this.totalSize;if(a<0){var c=null;f.POSITIONS.forEach(function(e){t.visibleEditors[e]&&null===c&&!t.isSiloMinimized(e)&&(c=e)}),null===c&&(c=f.Position.ONE),this.silosSize[c]-=a}else a>0&&f.POSITIONS.forEach(function(e){var n=t.silosSize[e]-t.minSize;n>=a?(t.silosSize[e]-=a,a=0):n>0&&(t.silosSize[e]-=n,a-=n)})}this.sashOne.layout(),this.sashTwo.layout(),this.layoutContainers()},e.prototype.layoutContainers=function(){var e=this;f.POSITIONS.forEach(function(t){var n=e.layoutVertically?e.silosSize[t]:e.dimension.width,i=e.layoutVertically?e.dimension.height:e.silosSize[t];e.silos[t].size(n,i)}),this.layoutVertically?this.silos[f.Position.TWO].position(0,null,null,this.silosSize[f.Position.ONE]):this.silos[f.Position.TWO].position(this.silosSize[f.Position.ONE],null,null,0),f.POSITIONS.forEach(function(t){e.visibleEditors[t]&&e.silos[t].isHidden()?e.silos[t].show():e.visibleEditors[t]||e.silos[t].isHidden()||e.silos[t].hide()}),f.POSITIONS.forEach(function(t){e.layoutEditor(t)}),f.POSITIONS.forEach(function(t){e.getTitleAreaControl(t).layout()}),this.updateMinimizedState()},e.prototype.layoutEditor=function(t){var n=this.silosSize[t];if(n&&this.visibleEditors[t]){var i=this.layoutVertically?n:this.dimension.width,r=(this.layoutVertically?this.dimension.height:this.silosSize[t])-e.EDITOR_TITLE_HEIGHT;t!==f.Position.ONE&&(this.layoutVertically?i--:r--),this.visibleEditors[t].layout(new s.Dimension(i,r))}},e.prototype.getInstantiationService=function(t){return this.getFromContainer(t,e.INSTANTIATION_SERVICE_KEY)},e.prototype.getProgressBar=function(t){return this.getFromContainer(t,e.PROGRESS_BAR_CONTROL_KEY)},e.prototype.getTitleAreaControl=function(t){return this.getFromContainer(t,e.TITLE_AREA_CONTROL_KEY)},e.prototype.getFromContainer=function(e,t){var n=this.silos[e];return n?n.child().getProperty(t):void 0},e.prototype.updateProgress=function(e,t){var n=this.getProgressBar(e);if(n)switch(t){case R.INFINITE:n.infinite().getContainer().show();break;case R.DONE:n.done().getContainer().hide();break;case R.STOP:n.stop().getContainer().hide()}},e.prototype.dispose=function(){var e=this;w.dispose(this.toDispose),f.POSITIONS.forEach(function(t){e.clearPosition(t)}),f.POSITIONS.forEach(function(t){e.getTitleAreaControl(t).dispose(),e.getProgressBar(t).dispose()}),this.sashOne.dispose(),this.sashTwo.dispose(),this.silos.forEach(function(e){e.destroy()}),this.lastActiveEditor=null,this.lastActivePosition=null,this.visibleEditors=null,this._onGroupFocusChanged.dispose()},e.TITLE_AREA_CONTROL_KEY="__titleAreaControl",e.PROGRESS_BAR_CONTROL_KEY="__progressBar",e.INSTANTIATION_SERVICE_KEY="__instantiationService",e.MIN_EDITOR_WIDTH=170,e.MIN_EDITOR_HEIGHT=70,e.EDITOR_TITLE_HEIGHT=35,e.SNAP_TO_MINIMIZED_THRESHOLD_WIDTH=50,e.SNAP_TO_MINIMIZED_THRESHOLD_HEIGHT=20,e=g([v(2,p.IWorkbenchEditorService),v(3,m.IEditorGroupService),v(4,y.ITelemetryService),v(5,b.IConfigurationService),v(6,_.IContextKeyService),v(7,C.IExtensionService),v(8,S.IInstantiationService),v(9,L.IWindowService)],e)}();t.EditorGroupsControl=O}),define(l[1144],h([1,0,7,125,5,55,56,51,25,33]),function(e,t,n,i,r,o,s,a,c,u){"use strict";var l=u.CONTENT_CHANGE_EVENT_BUFFER_DELAY+500,h=function(){function e(e,t,n,i,r){this.backupFileService=e,this.textFileService=t,this.untitledEditorService=n,this.environmentService=i,this.configurationService=r,this.toDispose=[],this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.environmentService.isExtensionDevelopment||(this.toDispose.push(this.textFileService.models.onModelContentChanged(function(t){return e.onTextFileModelChanged(t)})),this.toDispose.push(this.textFileService.models.onModelSaved(function(t){return e.discardBackup(t.resource)})),this.toDispose.push(this.textFileService.models.onModelDisposed(function(t){return e.discardBackup(t)})),this.toDispose.push(this.untitledEditorService.onDidChangeContent(function(t){return e.onUntitledModelChanged(t)})),this.toDispose.push(this.untitledEditorService.onDidDisposeModel(function(t){return e.discardBackup(t)})),this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationChange(t.config)})))},e.prototype.onConfigurationChange=function(e){return e&&e.files?void(this.configuredAutoSaveAfterDelay=e.files.autoSave===u.AutoSaveConfiguration.AFTER_DELAY&&e.files.autoSaveDelay<=l):void(this.configuredAutoSaveAfterDelay=!1)},e.prototype.onTextFileModelChanged=function(e){if(e.kind===o.StateChange.REVERTED)this.discardBackup(e.resource);else if(e.kind===o.StateChange.CONTENT_CHANGE&&!this.configuredAutoSaveAfterDelay){var t=this.textFileService.models.get(e.resource);this.backupFileService.backupResource(t.getResource(),t.getValue(),t.getVersionId()).done(null,n.onUnexpectedError)}},e.prototype.onUntitledModelChanged=function(e){var t=this,i=this.untitledEditorService.get(e);i.isDirty()?i.resolve().then(function(n){return t.backupFileService.backupResource(e,n.getValue(),n.getVersionId())}).done(null,n.onUnexpectedError):this.discardBackup(e)},e.prototype.discardBackup=function(e){this.backupFileService.discardResourceBackup(e).done(null,n.onUnexpectedError)},e.prototype.dispose=function(){this.toDispose=r.dispose(this.toDispose)},e.prototype.getId=function(){return"vs.backup.backupModelTracker"},e=g([v(0,i.IBackupFileService),v(1,o.ITextFileService),v(2,s.IUntitledEditorService),v(3,a.IEnvironmentService),v(4,c.IConfigurationService)],e)}();t.BackupModelTracker=h}),define(l[1145],h([1,0,16,2,56,51,45,7,125,41,73,22,66]),function(e,t,n,i,r,o,s,a,c,u,l,h,d){"use strict";var p=function(){function e(e,t,n,i,r,o,s){this.untitledEditorService=e,this.environmentService=t,this.partService=n,this.editorService=i,this.backupFileService=r,this.textModelResolverService=o,this.groupService=s,this.restoreBackups()}return e.prototype.restoreBackups=function(){var e=this;this.environmentService.isExtensionDevelopment||this.partService.joinCreation().then(function(){e.doRestoreBackups().done(null,a.onUnexpectedError)})},e.prototype.doRestoreBackups=function(){var e=this;return this.backupFileService.getWorkspaceFileBackups().then(function(t){return e.doResolveOpenedBackups(t).then(function(t){if(t.length>0)return e.doOpenEditors(t).then(function(){return e.doResolveOpenedBackups(t)})})})},e.prototype.doResolveOpenedBackups=function(e){var t=this,n=this.groupService.getStacksModel(),r=[],o=[];return e.forEach(function(e){n.isOpen(e)?"file"===e.scheme?r.push(t.textModelResolverService.createModelReference(e).then(null,function(){return o.push(e)})):"untitled"===e.scheme&&r.push(t.untitledEditorService.get(e).resolve().then(null,function(){return o.push(e)})):o.push(e)}),i.TPromise.join(r).then(function(){return o},function(){return o})},e.prototype.doOpenEditors=function(e){var t=this,n=this.groupService.getStacksModel(),r=n.groups.length>0;return i.TPromise.join(e.map(function(e){return t.createInput(e)})).then(function(e){var n=e.map(function(e,t){return{input:e,options:{pinned:!0,preserveFocus:!0,inactive:t>0||r},position:d.Position.ONE}});return t.editorService.openEditors(n).then(function(){})})},e.prototype.createInput=function(t){return"untitled"!==t.scheme||e.UNTITLED_REGEX.test(t.fsPath)?this.editorService.createInput({resource:t}):i.TPromise.as(this.untitledEditorService.createOrGet(n.default.file(t.fsPath)))},e.prototype.getId=function(){return"vs.backup.backupRestorer"},e.UNTITLED_REGEX=/Untitled-\d+/,e=g([v(0,r.IUntitledEditorService),v(1,o.IEnvironmentService),v(2,s.IPartService),v(3,h.IWorkbenchEditorService),v(4,c.IBackupFileService),v(5,l.ITextModelResolverService),v(6,u.IEditorGroupService)],e)}();t.BackupRestorer=p}),define(l[1146],h([1,0,14,71,1144,1145]),function(e,t,n,i,r,o){"use strict";n.Registry.as(i.Extensions.Workbench).registerWorkbenchContribution(r.BackupModelTracker),n.Registry.as(i.Extensions.Workbench).registerWorkbenchContribution(o.BackupRestorer)}),define(l[1147],h([1,0,558,7,92,55,13,66,63,41,69,5,22,165,56,35]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m){"use strict";var y=function(){function e(e,t,n,i,r,o,s){this.textFileService=e,this.lifecycleService=t,this.editorService=i,this.activityBarService=r,this.windowService=o,this.untitledEditorService=s,this.toUnbind=[],this.isDocumentedEdited=!1,this.pendingDirtyResources=[],this.stacks=n.getStacksModel(),this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.untitledEditorService.onDidChangeDirty(function(t){return e.onUntitledDidChangeDirty(t)})),this.toUnbind.push(this.textFileService.models.onModelDirty(function(t){return e.onTextFileDirty(t)})),this.toUnbind.push(this.textFileService.models.onModelSaved(function(t){return e.onTextFileSaved(t)})),this.toUnbind.push(this.textFileService.models.onModelSaveError(function(t){return e.onTextFileSaveError(t)})),this.toUnbind.push(this.textFileService.models.onModelReverted(function(t){return e.onTextFileReverted(t)})),this.lifecycleService.onShutdown(this.dispose,this)},e.prototype.onUntitledDidChangeDirty=function(e){var t=this.untitledEditorService.isDirty(e);(!this.isDocumentedEdited&&t||this.isDocumentedEdited&&!t)&&this.updateDocumentEdited(),(t||this.lastDirtyCount>0)&&this.updateActivityBadge()},e.prototype.onTextFileDirty=function(e){var t=this;this.textFileService.getAutoSaveMode()===o.AutoSaveMode.AFTER_SHORT_DELAY||this.isDocumentedEdited||this.updateDocumentEdited(),this.textFileService.getAutoSaveMode()!==o.AutoSaveMode.AFTER_SHORT_DELAY&&this.updateActivityBadge(),this.pendingDirtyResources.push(e.resource),this.pendingDirtyHandle||(this.pendingDirtyHandle=setTimeout(function(){return t.doOpenDirtyResources()},250))},e.prototype.doOpenDirtyResources=function(){var e=this,t=m.distinct(this.pendingDirtyResources.filter(function(t){return!e.stacks.isOpen(t)&&e.textFileService.isDirty(t)}),function(e){return e.toString()});this.pendingDirtyHandle=void 0,this.pendingDirtyResources=[];var n=this.editorService.getActiveEditor(),r=n?n.position:a.Position.ONE;this.editorService.openEditors(t.map(function(e){return{input:{resource:e,options:{inactive:!0,pinned:!0,preserveFocus:!0}},position:r}})).done(null,i.onUnexpectedError)},e.prototype.onTextFileSaved=function(e){this.isDocumentedEdited&&this.updateDocumentEdited(),this.lastDirtyCount>0&&this.updateActivityBadge()},e.prototype.onTextFileSaveError=function(e){this.isDocumentedEdited||this.updateDocumentEdited(),this.updateActivityBadge()},e.prototype.onTextFileReverted=function(e){this.isDocumentedEdited&&this.updateDocumentEdited(),this.lastDirtyCount>0&&this.updateActivityBadge()},e.prototype.updateActivityBadge=function(){var e=this.textFileService.getDirty().length;this.lastDirtyCount=e,e>0?this.activityBarService.showActivity(r.VIEWLET_ID,new p.NumberBadge(e,function(t){return n.localize(0,null,e)}),"explorer-viewlet-label"):this.activityBarService.clearActivity(r.VIEWLET_ID)},e.prototype.updateDocumentEdited=function(){if(s.platform===s.Platform.Mac){var e=this.textFileService.isDirty();this.isDocumentedEdited=e,this.windowService.setDocumentEdited(e)}},e.prototype.getId=function(){return"vs.files.dirtyFilesTracker"},e.prototype.dispose=function(){this.toUnbind=h.dispose(this.toUnbind)},e=g([v(0,o.ITextFileService),v(1,l.ILifecycleService),v(2,u.IEditorGroupService),v(3,d.IWorkbenchEditorService),v(4,p.IActivityBarService),v(5,c.IWindowService),v(6,f.IUntitledEditorService)],e)}();t.DirtyFilesTracker=y}),define(l[1148],h([1,0,589,5,19,38,25,47,6,18,113,23,381,86,347,356,26,22,80,56]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_){"use strict";var C=function(e){function t(t,n,i,r,o,s,a,c,u,l,h,d){e.call(this,t,n,i,r,o,s,a,c,u,h),this.outputService=l,this.contextKeyService=d,this.scopedInstantiationService=n,this.toDispose=[]}return d(t,e),t.prototype.getId=function(){return f.OUTPUT_PANEL_ID},t.prototype.getActions=function(){var e=this;return this.actions||(this.actions=[this.instantiationService.createInstance(y.SwitchOutputAction),this.instantiationService.createInstance(y.ClearOutputAction,y.ClearOutputAction.ID,y.ClearOutputAction.LABEL)],this.actions.forEach(function(t){e.toDispose.push(t)})),this.actions},t.prototype.getActionItem=function(t){return t.id===y.SwitchOutputAction.ID?this.instantiationService.createInstance(y.SwitchOutputActionItem,t):e.prototype.getActionItem.call(this,t)},t.prototype.getCodeEditorOptions=function(){var t=e.prototype.getCodeEditorOptions.call(this);t.wrappingColumn=0,t.lineNumbers="off",t.glyphMargin=!1,t.lineDecorationsWidth=20,t.rulers=[],t.folding=!1,t.scrollBeyondLastLine=!1,t.renderLineHighlight="none";var i=this.outputService.getActiveChannel();return t.ariaLabel=i?n.localize(0,null,i.label):n.localize(1,null),t},t.prototype.setInput=function(t,n){var i=this;return e.prototype.setInput.call(this,t,n).then(function(){return i.revealLastLine()})},t.prototype.createEditor=function(t){var n=this.contextKeyService.createScoped(t.getHTMLElement());this.toDispose.push(n),this.scopedInstantiationService=this.instantiationService.createChild(new l.ServiceCollection([h.IContextKeyService,n])),e.prototype.createEditor.call(this,t),f.CONTEXT_IN_OUTPUT.bindTo(n).set(!0),this.setInput(m.OutputEditorInput.getInstance(this.instantiationService,this.outputService.getActiveChannel()),null)},Object.defineProperty(t.prototype,"instantiationService",{get:function(){return this.scopedInstantiationService},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose),e.prototype.dispose.call(this)},t=g([v(0,r.ITelemetryService),v(1,c.IInstantiationService),v(2,b.IWorkspaceContextService),v(3,o.IStorageService),v(4,u.IMessageService),v(5,s.IConfigurationService),v(6,a.IEventService),v(7,S.IWorkbenchEditorService),v(8,E.IThemeService),v(9,f.IOutputService),v(10,_.IUntitledEditorService),v(11,h.IContextKeyService)],t)}(p.StringEditor);t.OutputPanel=C}),define(l[272],h([1,0,2,592,8,17,5,35,188,11,103,14,158,77,10,193,173,15,6,155,324,58,39,322,23,27,19,80,40,54,26,38,25,47,18,22,56,73,342,341,215]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P,R,O,M,N,F,W,V,B,H,z,U){"use strict";var G=function(e){function t(t,n){e.call(this,i.localize(0,null),"",t,n),this._willDispose=new u.Emitter,this.willDispose=this._willDispose.event}return d(t,e),t.prototype.getResource=function(){return this.resource},t.prototype.getTypeId=function(){return t.ID},t.prototype.supportsSplitEditor=function(){return!1},t.prototype.matches=function(n){return!!e.prototype.matches.call(this,n)&&n instanceof t},t.prototype.dispose=function(){this._willDispose.fire(),this._willDispose.dispose(),e.prototype.dispose.call(this)},t.ID="workbench.editorinputs.defaultpreferences",t=g([v(1,B.ITextModelResolverService)],t)}(p.ResourceEditorInput);t.DefaultPreferencesEditorInput=G;var K=function(e){function t(n,i,r,s,a,c,u,l,h,d,p,f,g){e.call(this,t.ID,n,i,r,s,a,c,u,l,h),this.untitledEditorService=d,this.preferencesService=p,this.modelService=f,this.modeService=g,this.delayedFilterLogging=new o.Delayer(1e3)}return d(t,e),t.prototype.createEditorControl=function(e){var t=this,n=e.getHTMLElement();this.defaultSettingHeaderWidget=this._register(this.instantiationService.createInstance(T.DefaultSettingsHeaderWidget,n)),this._register(this.defaultSettingHeaderWidget.onDidChange(function(e){return t.filterPreferences(e)})),this._register(this.defaultSettingHeaderWidget.onEnter(function(e){return t.focusNextPreference()}));var i=this.instantiationService.createInstance(j,n,this.getCodeEditorOptions());return i},t.prototype.getCodeEditorOptions=function(){var t=e.prototype.getCodeEditorOptions.call(this);return t.readOnly=!0,this.input&&(t.lineNumbers="off",t.renderLineHighlight="none",t.scrollBeyondLastLine=!1,t.folding=!1,t.renderWhitespace="none",t.wrappingColumn=0,t.overviewRulerLanes=0,t.renderIndentGuides=!1,t.rulers=[]),t},t.prototype.setInput=function(t,n){var i=this;return this.listenToInput(t),e.prototype.setInput.call(this,t,n).then(function(){return i.updateInput()})},t.prototype.layout=function(e){this.defaultSettingHeaderWidget.layout(e);var t=r.getDomNodePagePosition(this.defaultSettingHeaderWidget.domNode);this.getControl().layout({height:e.height-t.height,width:e.width})},t.prototype.focus=function(){this.input?this.defaultSettingHeaderWidget.focus():e.prototype.focus.call(this)},t.prototype.updateInput=function(){var e=this;return this.input.resolve().then(function(e){return e.load()}).then(function(t){return e.getControl().setModel(t.textEditorModel)})},t.prototype.filterPreferences=function(e){var t=this;this.delayedFilterLogging.trigger(function(){return t.reportFilteringUsed(e)}),this.getDefaultPreferencesContribution().getPreferencesRenderer().filterPreferences(e)},t.prototype.focusNextPreference=function(){this.getDefaultPreferencesContribution().getPreferencesRenderer().focusNextSetting()},t.prototype.clearInput=function(){this.getControl().setModel(null),this.saveState(this.input),this.inputDisposeListener&&this.inputDisposeListener.dispose(),e.prototype.clearInput.call(this)},t.prototype.getDefaultPreferencesContribution=function(){return this.getControl().getContribution(q.ID)},t.prototype.restoreViewState=function(e){var n=t.VIEW_STATE.get(e.getResource());n&&this.getControl().restoreViewState(n)},t.prototype.saveState=function(e){var n=this.getControl().saveViewState();if(n){var i=e.getResource();t.VIEW_STATE.has(i)&&t.VIEW_STATE.delete(i),t.VIEW_STATE.set(i,n)}},t.prototype.listenToInput=function(e){var t=this;this.inputDisposeListener&&this.inputDisposeListener.dispose(),e instanceof G&&(this.inputDisposeListener=e.willDispose(function(){return t.saveState(e)}))},t.prototype.reportFilteringUsed=function(e){var t={};t.filter=e,this.telemetryService.publicLog("defaultSettings.filter",t)},t.ID="workbench.editor.defaultPreferences",t.VIEW_STATE=new l.LinkedMap,t=g([v(0,D.ITelemetryService),v(1,E.IInstantiationService),v(2,R.IWorkspaceContextService),v(3,O.IStorageService),v(4,F.IMessageService),v(5,M.IConfigurationService),v(6,N.IEventService),v(7,W.IWorkbenchEditorService),v(8,L.IThemeService),v(9,V.IUntitledEditorService),v(10,_.IPreferencesService),v(11,k.IModelService),v(12,P.IModeService)],t)}(y.BaseTextEditor);t.DefaultPreferencesEditor=K;var j=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype._getContributions=function(){var t=e.prototype._getContributions.call(this),n=[H.FoldingController.prototype,U.SelectionHighlighter.prototype,z.FindController.prototype];return t.filter(function(e){return n.indexOf(e.prototype)===-1}),t.push($),t},t}(b.CodeEditor),q=function(e){function t(t,n,i){var r=this;e.call(this),this.editor=t,this.instantiationService=n,this.preferencesService=i,this._register(t.onDidChangeModel(function(){return r.onModelChanged()}))}return d(t,e),t.prototype.onModelChanged=function(){var e=this,t=this.editor.getModel();
this.disposePreferencesRenderer(),t&&this.preferencesService.resolvePreferencesEditorModel(t.uri).then(function(t){t&&(e.preferencesRenderer=e.createPreferencesRenderer(t),e.preferencesRenderer&&e.preferencesRenderer.render())})},t.prototype.getId=function(){return t.ID},t.prototype.getPreferencesRenderer=function(){return this.preferencesRenderer},t.prototype.disposePreferencesRenderer=function(){this.preferencesRenderer&&(this.preferencesRenderer.dispose(),this.preferencesRenderer=null)},t.prototype.dispose=function(){this.disposePreferencesRenderer(),e.prototype.dispose.call(this)},t.ID="editor.contrib.preferences",t=g([v(1,E.IInstantiationService),v(2,_.IPreferencesService)],t)}(s.Disposable);t.PreferencesEditorContribution=q;var $=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.createPreferencesRenderer=function(e){return e instanceof C.DefaultSettingsEditorModel?this.instantiationService.createInstance(Q,this.editor,e):null},t}(q);t.DefaultSettingsEditorContribution=$;var Y=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.createPreferencesRenderer=function(e){return e instanceof C.SettingsEditorModel?this.instantiationService.createInstance(X,this.editor,e):null},t=g([w.editorContribution],t)}(q);t.SettingsEditorContribution=Y;var X=function(e){function t(t,n,i,r){var s=this;e.call(this),this.editor=t,this.settingsEditorModel=n,this.preferencesService=i,this.instantiationService=r,this.modelChangeDelayer=new o.Delayer(200),this.copySettingActionRenderer=this._register(r.createInstance(ie,t,!1)),this._register(t.getModel().onDidChangeContent(function(){return s.modelChangeDelayer.trigger(function(){return s.onModelChanged()})}))}return d(t,e),t.prototype.render=function(){this.copySettingActionRenderer.render(this.settingsEditorModel.settingsGroups)},t.prototype.onModelChanged=function(){this.editor.getModel()&&this.render()},t=g([v(2,_.IPreferencesService),v(3,E.IInstantiationService)],t)}(s.Disposable);t.SettingsRenderer=X;var Q=function(e){function t(t,n,i,r,o){e.call(this),this.editor=t,this.settingsEditorModel=n,this.preferencesService=i,this.instantiationService=o,this.defaultSettingsEditorContextKey=_.CONTEXT_DEFAULT_SETTINGS_EDITOR.bindTo(r),this.settingsGroupTitleRenderer=this._register(o.createInstance(J,t)),this.filteredMatchesRenderer=this._register(o.createInstance(te,t)),this.focusNextSettingRenderer=this._register(o.createInstance(ne,t)),this.copySettingActionRenderer=this._register(o.createInstance(ie,t,!0)),this.settingsCountWidget=this._register(o.createInstance(T.SettingsCountWidget,t,this.getCount(n.settingsGroups)));var s=this._register(o.createInstance(Z,t,n.settingsGroups));this.hiddenAreasRenderer=this._register(o.createInstance(ee,t,[this.settingsGroupTitleRenderer,this.filteredMatchesRenderer,s]))}return d(t,e),t.prototype.render=function(){this.defaultSettingsEditorContextKey.set(!0),this.settingsGroupTitleRenderer.render(this.settingsEditorModel.settingsGroups),this.copySettingActionRenderer.render(this.settingsEditorModel.settingsGroups),this.settingsCountWidget.render(),this.hiddenAreasRenderer.render(),this.focusNextSettingRenderer.render([]),this.settingsGroupTitleRenderer.showGroup(1)},t.prototype.filterPreferences=function(e){var t=this.settingsEditorModel.filterSettings(e);this.filteredMatchesRenderer.render(t),this.settingsGroupTitleRenderer.render(t.filteredGroups),this.settingsCountWidget.show(this.getCount(t.filteredGroups)),e?this.focusNextSettingRenderer.render(t.filteredGroups):(this.focusNextSettingRenderer.render([]),this.settingsGroupTitleRenderer.showGroup(1))},t.prototype.focusNextSetting=function(){var e=this.focusNextSettingRenderer.focusNext();e&&this.settingsGroupTitleRenderer.showSetting(e)},t.prototype.collapseAll=function(){this.settingsGroupTitleRenderer.collapseAll()},t.prototype.getCount=function(e){for(var t=0,n=0,i=e;n<i.length;n++)for(var r=i[n],o=0,s=r.sections;o<s.length;o++){var a=s[o];t+=a.settings.length}return t},t.prototype.dispose=function(){this.defaultSettingsEditorContextKey.set(!1),e.prototype.dispose.call(this)},t=g([v(2,_.IPreferencesService),v(3,x.IContextKeyService),v(4,E.IInstantiationService)],t)}(s.Disposable);t.DefaultSettingsRenderer=Q;var Z=function(e){function t(t,n){e.call(this),this.editor=t,this.settingsGroups=n,this._onHiddenAreasChanged=new u.Emitter}return d(t,e),Object.defineProperty(t.prototype,"onHiddenAreasChanged",{get:function(){return this._onHiddenAreasChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenAreas",{get:function(){var e=this.editor.getModel();return[{startLineNumber:1,startColumn:e.getLineMinColumn(1),endLineNumber:2,endColumn:e.getLineMaxColumn(2)},{startLineNumber:this.settingsGroups[0].range.endLineNumber+1,startColumn:e.getLineMinColumn(this.settingsGroups[0].range.endLineNumber+1),endLineNumber:this.settingsGroups[0].range.endLineNumber+4,endColumn:e.getLineMaxColumn(this.settingsGroups[0].range.endLineNumber+4)},{startLineNumber:e.getLineCount()-1,startColumn:e.getLineMinColumn(e.getLineCount()-1),endLineNumber:e.getLineCount(),endColumn:e.getLineMaxColumn(e.getLineCount())}]},enumerable:!0,configurable:!0}),t}(s.Disposable);t.StaticContentHidingRenderer=Z;var J=function(e){function t(t,n){e.call(this),this.editor=t,this.instantiationService=n,this._onHiddenAreasChanged=new u.Emitter,this.hiddenGroups=[],this.disposables=[]}return d(t,e),Object.defineProperty(t.prototype,"onHiddenAreasChanged",{get:function(){return this._onHiddenAreasChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenAreas",{get:function(){for(var e=[],t=0,n=this.hiddenGroups;t<n.length;t++){var i=n[t];e.push(i.range)}return e},enumerable:!0,configurable:!0}),t.prototype.render=function(e){var t=this;this.disposeWidgets(),this.settingsGroups=e.slice(),this.settingsGroupTitleWidgets=[];for(var n=function(e){var n=i.instantiationService.createInstance(T.SettingsGroupTitleWidget,i.editor,e);n.render(),i.settingsGroupTitleWidgets.push(n),i.disposables.push(n),i.disposables.push(n.onToggled(function(e){return t.onToggled(e,n.settingsGroup)}))},i=this,r=0,o=this.settingsGroups.slice().reverse();r<o.length;r++){var s=o[r];n(s)}this.settingsGroupTitleWidgets.reverse()},t.prototype.showGroup=function(e){this.hiddenGroups=this.settingsGroups.filter(function(t,n){return n!==e-1});for(var t=0,n=this.settingsGroupTitleWidgets.filter(function(t,n){return n!==e-1});t<n.length;t++){var i=n[t];i.toggleCollapse(!0)}this._onHiddenAreasChanged.fire()},t.prototype.showSetting=function(e){var t=this.settingsGroupTitleWidgets.filter(function(t){return S.Range.containsRange(t.settingsGroup.range,e.range)})[0];t&&t.isCollapsed()&&(t.toggleCollapse(!1),this.hiddenGroups.splice(this.hiddenGroups.indexOf(t.settingsGroup),1),this._onHiddenAreasChanged.fire())},t.prototype.collapseAll=function(){this.editor.setPosition({lineNumber:1,column:1}),this.hiddenGroups=this.settingsGroups.slice();for(var e=0,t=this.settingsGroupTitleWidgets;e<t.length;e++){var n=t[e];n.toggleCollapse(!0)}this._onHiddenAreasChanged.fire()},t.prototype.onToggled=function(e,t){var n=this.hiddenGroups.indexOf(t);if(e){var i=this.editor.getPosition();t.range.startLineNumber<=i.lineNumber&&t.range.endLineNumber>=i.lineNumber&&this.editor.setPosition({lineNumber:t.range.startLineNumber-1,column:1}),this.hiddenGroups.push(t)}else this.hiddenGroups.splice(n,1);this._onHiddenAreasChanged.fire()},t.prototype.disposeWidgets=function(){this.hiddenGroups=[],this.disposables=s.dispose(this.disposables)},t.prototype.dispose=function(){this.disposeWidgets(),e.prototype.dispose.call(this)},t=g([v(1,E.IInstantiationService)],t)}(s.Disposable);t.SettingsGroupTitleRenderer=J;var ee=function(e){function t(t,n,i){var r=this;e.call(this),this.editor=t,this.hiddenAreasProviders=n,this.instantiationService=i;for(var o=0,s=n;o<s.length;o++){var a=s[o];this._register(a.onHiddenAreasChanged(function(){return r.render()}))}}return d(t,e),t.prototype.render=function(){for(var e=[],t=0,n=this.hiddenAreasProviders;t<n.length;t++){var i=n[t];e.push.apply(e,i.hiddenAreas)}this.editor.setHiddenAreas(e)},t.prototype.dispose=function(){this.editor.setHiddenAreas([]),e.prototype.dispose.call(this)},t=g([v(2,E.IInstantiationService)],t)}(s.Disposable);t.HiddenAreasRenderer=ee;var te=function(e){function t(t,n){e.call(this),this.editor=t,this.instantiationService=n,this.decorationIds=[],this.hiddenAreas=[],this._onHiddenAreasChanged=new u.Emitter}return d(t,e),Object.defineProperty(t.prototype,"onHiddenAreasChanged",{get:function(){return this._onHiddenAreasChanged.event},enumerable:!0,configurable:!0}),t.prototype.render=function(e){var t=this,n=this.editor.getModel();this.hiddenAreas=[],this.editor.changeDecorations(function(e){t.decorationIds=e.deltaDecorations(t.decorationIds,[])}),e&&(this.hiddenAreas=this.computeHiddenRanges(e.filteredGroups,e.allGroups,n),this.editor.changeDecorations(function(i){t.decorationIds=i.deltaDecorations(t.decorationIds,a.flatten(e.matches.values()).map(function(e){return t.createDecoration(e,n)}))})),this._onHiddenAreasChanged.fire()},t.prototype.createDecoration=function(e,t){return{range:e,options:{stickiness:m.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"findMatch"}}},t.prototype.computeHiddenRanges=function(e,t,n){for(var i=[],r=function(t){var r=e.filter(function(e){return e.title===t.title})[0];if(r)for(var s=0,a=t.sections;s<a.length;s++){var c=a[s];c.descriptionRange&&(o.containsLine(c.descriptionRange.startLineNumber,r)||i.push(o.createCompleteRange(c.descriptionRange,n)));for(var u=0,l=c.settings;u<l.length;u++){var h=l[u];o.containsLine(h.range.startLineNumber,r)||i.push(o.createCompleteRange(h.range,n))}}else i.push({startLineNumber:t.range.startLineNumber-1,startColumn:n.getLineMinColumn(t.range.startLineNumber-1),endLineNumber:t.range.endLineNumber,endColumn:n.getLineMaxColumn(t.range.endLineNumber)})},o=this,s=0,a=t;s<a.length;s++){var c=a[s];r(c)}return i},t.prototype.containsLine=function(e,t){if(t.titleRange&&e>=t.titleRange.startLineNumber&&e<=t.titleRange.endLineNumber)return!0;for(var n=0,i=t.sections;n<i.length;n++){var r=i[n];if(r.descriptionRange&&e>=r.descriptionRange.startLineNumber&&e<=r.descriptionRange.endLineNumber)return!0;for(var o=0,s=r.settings;o<s.length;o++){var a=s[o];if(e>=a.range.startLineNumber&&e<=a.range.endLineNumber)return!0}}return!1},t.prototype.createCompleteRange=function(e,t){return{startLineNumber:e.startLineNumber,startColumn:t.getLineMinColumn(e.startLineNumber),endLineNumber:e.endLineNumber,endColumn:t.getLineMaxColumn(e.endLineNumber)}},t.prototype.dispose=function(){var t=this;this.decorationIds&&(this.decorationIds=this.editor.changeDecorations(function(e){return e.deltaDecorations(t.decorationIds,[])})),e.prototype.dispose.call(this)},t=g([v(1,E.IInstantiationService)],t)}(s.Disposable);t.FilteredMatchesRenderer=te;var ne=function(e){function t(t){e.call(this),this.editor=t,this.decorationIds=[]}return d(t,e),t.prototype.focusNext=function(){var e=this;this.clear();var t=this.iterator.next()||this.iterator.first();if(t){var n=this.editor.getModel();return this.editor.changeDecorations(function(i){e.decorationIds=i.deltaDecorations(e.decorationIds,[{range:{startLineNumber:t.valueRange.startLineNumber,startColumn:n.getLineMinColumn(t.valueRange.startLineNumber),endLineNumber:t.valueRange.endLineNumber,endColumn:n.getLineMaxColumn(t.valueRange.endLineNumber)},options:{stickiness:m.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"rangeHighlight",isWholeLine:!0}}])}),this.editor.revealLinesInCenterIfOutsideViewport(t.valueRange.startLineNumber,t.valueRange.endLineNumber-1),t}return null},t.prototype.render=function(e){this.clear();for(var t=[],n=0,i=e;n<i.length;n++)for(var r=i[n],o=0,s=r.sections;o<s.length;o++){var a=s[o];t.push.apply(t,a.settings)}this.iterator=new c.ArrayIterator(t)},t.prototype.clear=function(){var e=this;this.editor.changeDecorations(function(t){e.decorationIds=t.deltaDecorations(e.decorationIds,[])})},t.prototype.dispose=function(){this.clear(),e.prototype.dispose.call(this)},t}(s.Disposable);t.FocusNextSettingRenderer=ne;var ie=function(e){function t(t,n,i,r){var o=this;e.call(this),this.editor=t,this.isDefaultSettings=n,this.settingsService=i,this.contextMenuService=r,this.decorationIds=[],this._register(t.onMouseUp(function(e){return o.onEditorMouseUp(e)}))}return d(t,e),t.prototype.render=function(e){var t=this;this.model=this.editor.getModel(),this.settingsGroups=e,this.model.changeDecorations(function(e){t.decorationIds=e.deltaDecorations(t.decorationIds,[])}),this.model.changeDecorations(function(e){t.decorationIds=e.deltaDecorations(t.decorationIds,t.createDecorations(t.model))})},t.prototype.createDecorations=function(e){for(var t=[],n=0,i=this.settingsGroups;n<i.length;n++)for(var r=i[n],o=0,s=r.sections;o<s.length;o++)for(var a=s[o],c=0,u=a.settings;c<u.length;c++){var l=u[c],h=this.createSettingDecoration(l,e);h&&t.push(h)}return t},t.prototype.createSettingDecoration=function(e,t){var n=this.getConfigurationsMap()[e.key];if(n){var r=n.enum||"boolean"===n.type;if(this.isDefaultSettings||r){var o=e.keyRange.startLineNumber;return{range:{startLineNumber:o,startColumn:t.getLineMaxColumn(o),endLineNumber:o,endColumn:t.getLineMaxColumn(o)},options:{afterContentClassName:"copySetting",stickiness:m.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,hoverMessage:r?this.isDefaultSettings?i.localize(1,null):i.localize(2,null):i.localize(3,null)}}}}return null},t.prototype.onEditorMouseUp=function(e){var t=e.target.range;if(t&&t.isEmpty&&e.event.leftButton)switch(e.target.type){case m.MouseTargetType.CONTENT_EMPTY:return void(r.hasClass(e.target.element,"copySetting")&&this.onClick(e));default:return}},t.prototype.getConfigurationsMap=function(){return h.Registry.as(f.Extensions.Configuration).getConfigurationProperties()},t.prototype.onClick=function(e){var t=this.getSetting(e.target.range.startLineNumber);if(t){var i=this.getConfigurationsMap()[t.key],o=this.getActions(t,i),s=r.getDomNodePagePosition(e.target.element),a={x:s.left,y:s.top+s.height+10};this.contextMenuService.showContextMenu({getAnchor:function(){return a},getActions:function(){return n.TPromise.wrap(o)}})}},t.prototype.getSetting=function(e){for(var t=0,n=this.settingsGroups;t<n.length;t++){var i=n[t];if(e>=i.range.startLineNumber&&e<=i.range.endLineNumber)for(var r=0,o=i.sections;r<o.length;r++)for(var s=o[r],a=0,c=s.settings;a<c.length;a++){var u=c[a];if(e>=u.keyRange.startLineNumber&&e<=u.keyRange.endLineNumber)return u}}return null},t.prototype.getActions=function(e,t){var n=this;return"boolean"===t.type?[{id:"truthyValue",label:"true",enabled:!0,run:function(){return n.settingsService.copyConfiguration({key:e.key,value:!0})}},{id:"falsyValue",label:"false",enabled:!0,run:function(){return n.settingsService.copyConfiguration({key:e.key,value:!1})}}]:t.enum?t.enum.map(function(t){return{id:t,label:JSON.stringify(t),enabled:!0,run:function(){return n.settingsService.copyConfiguration({key:e.key,value:t})}}}):[{id:"copyToSettings",label:i.localize(4,null),enabled:!0,run:function(){return n.settingsService.copyConfiguration(e)}}]},t.prototype.dispose=function(){this.model&&this.model.deltaDecorations(this.decorationIds,[]),e.prototype.dispose.call(this)},t=g([v(2,_.IPreferencesService),v(3,I.IContextMenuService)],t)}(s.Disposable);t.CopySettingActionRenderer=ie;var re=A.EditorCommand.bindToContribution(function(e){return e.getContribution(q.ID)});A.CommonEditorRegistry.registerEditorCommand(new re({id:_.DEFAULT_EDITOR_COMMAND_COLLAPSE_ALL,precondition:x.ContextKeyExpr.and(_.CONTEXT_DEFAULT_SETTINGS_EDITOR),handler:function(e){return e.getPreferencesRenderer().collapseAll()}}))}),define(l[273],h([1,0,2,591,24,155,22,291,272]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(e){function t(t,n,i){e.call(this,t,n),this.preferencesService=i}return d(t,e),t.prototype.run=function(e){return this.preferencesService.openGlobalSettings()},t.ID="workbench.action.openGlobalSettings",t.LABEL=i.localize(0,null),t=g([v(2,o.IPreferencesService)],t)}(r.Action);t.OpenGlobalSettingsAction=u;var l=function(e){function t(t,n,i){e.call(this,t,n),this.preferencesService=i}return d(t,e),t.prototype.run=function(e){return this.preferencesService.openGlobalKeybindingSettings()},t.ID="workbench.action.openGlobalKeybindings",t.LABEL=i.localize(1,null),t=g([v(2,o.IPreferencesService)],t)}(r.Action);t.OpenGlobalKeybindingsAction=l;var h=function(e){function t(t,n,i){e.call(this,t,n),this.preferencesService=i}return d(t,e),t.prototype.run=function(e){return this.preferencesService.openWorkspaceSettings()},t.ID="workbench.action.openWorkspaceSettings",t.LABEL=i.localize(2,null),t=g([v(2,o.IPreferencesService)],t)}(r.Action);t.OpenWorkspaceSettingsAction=h;var p=function(e){function t(t,n,i){e.call(this,t,n),this.workbenchEditorService=i}return d(t,e),Object.defineProperty(t.prototype,"enabled",{get:function(){return null!==this.getDefaultPreferencesEditor()},enumerable:!0,configurable:!0}),t.prototype.run=function(e){var t=this.getDefaultPreferencesEditor();return t&&t.focus(),n.TPromise.as(null)},t.prototype.getDefaultPreferencesEditor=function(){var e=this.workbenchEditorService.getActiveEditor();if(e instanceof a.SideBySideEditor){var t=e.getDetailsEditor();if(t instanceof c.DefaultPreferencesEditor)return t}return null},t.ID="defaultSettings.action.focusSearch",t.LABEL=i.localize(3,null),t=g([v(2,s.IWorkbenchEditorService)],t)}(r.Action);t.StartSearchDefaultSettingsAction=p}),define(l[1151],h([1,0,120,2,593,16,103,81,5,96,28,22,26,134,66,41,38,33,18,75,6,51,114,324,19,272,73,809]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D){"use strict";var L="settings.workspace.info.ignore",k=function(e){function t(t,n,i,r,o,a,c,u,l,h,d,p,f,g){e.call(this),this.editorService=t,this.editorGroupService=n,this.fileService=i,this.configurationService=r,this.messageService=o,this.choiceService=a,this.contextService=c,this.instantiationService=u,this.storageService=l,this.environmentService=h,this.telemetryService=d,this.textModelResolverService=p,this.configurationEditingService=f,this.extensionService=g,this.defaultPreferencesEditorModels=new s.LinkedMap}return d(t,e),t.prototype.createDefaultPreferencesEditorModel=function(e){var n=this,r=this.defaultPreferencesEditorModels.get(e);if(r)return i.TPromise.as(r);if(t.DEFAULT_SETTINGS_URI.fsPath===e.fsPath)return i.TPromise.join([this.extensionService.onReady(),this.fetchMostCommonlyUsedSettings()]).then(function(t){var i=t[1],r=n.instantiationService.createInstance(T.DefaultSettingsEditorModel,e,i);return n.defaultPreferencesEditorModels.set(e,r),r});if(t.DEFAULT_KEY_BINDINGS_URI.fsPath===e.fsPath){var o=this.instantiationService.createInstance(T.DefaultKeybindingsEditorModel,e);return this.defaultPreferencesEditorModels.set(e,o),i.TPromise.wrap(o)}return null},t.prototype.resolvePreferencesEditorModel=function(e){var t=this.defaultPreferencesEditorModels.get(e);if(t)return i.TPromise.wrap(t);if(this.getEditableSettingsURI(I.ConfigurationTarget.USER).fsPath===e.fsPath)return this.resolveSettingsEditorModel(I.ConfigurationTarget.USER);var n=this.getEditableSettingsURI(I.ConfigurationTarget.WORKSPACE);return n&&n.fsPath===e.fsPath?this.resolveSettingsEditorModel(I.ConfigurationTarget.WORKSPACE):i.TPromise.wrap(null)},t.prototype.openGlobalSettings=function(){return this.configurationService.hasWorkspaceConfiguration()&&!this.storageService.getBoolean(L,b.StorageScope.WORKSPACE)&&this.promptToOpenWorkspaceSettings(),this.openSettings(I.ConfigurationTarget.USER)},t.prototype.openWorkspaceSettings=function(){return this.contextService.getWorkspace()?this.openSettings(I.ConfigurationTarget.WORKSPACE):void this.messageService.show(E.Severity.Info,r.localize(0,null))},t.prototype.openGlobalKeybindingSettings=function(){var e=this,n="// "+r.localize(1,null)+"\n[\n]";return this.editorService.createInput({resource:t.DEFAULT_KEY_BINDINGS_URI}).then(function(t){return e.openTwoEditors(t,o.default.file(e.environmentService.appKeybindingsPath),n)}).then(function(){return null})},t.prototype.openEditableSettings=function(e){var t=this,n=this.getEmptyEditableSettingsContent(e),i=this.getEditableSettingsURI(e);return this.createIfNotExists(i,n).then(function(){return t.editorService.openEditor({resource:i,options:{pinned:!0}})})},t.prototype.copyConfiguration=function(e){var t=this,n=this.getConfigurationTargetForCurrentActiveEditor();if(null!==n){this.telemetryService.publicLog("defaultSettingsActions.copySetting",{userConfigurationKeys:[e.key]});var i=this.editorService.getActiveEditor().getControl();this.configurationEditingService.writeConfiguration(n,e,{writeToBuffer:!0,autoSave:!0}).then(function(){i.focus(),i.setSelection(t.getSelectionRange(e.key,i.getModel()))},function(e){return t.messageService.show(E.Severity.Error,e)})}},t.prototype.resolveSettingsEditorModel=function(e){var t=this,n=this.getEditableSettingsURI(e);return n?this.textModelResolverService.createModelReference(n).then(function(n){return t.instantiationService.createInstance(T.SettingsEditorModel,n.object.textEditorModel,e)}):i.TPromise.wrap(null)},t.prototype.getEmptyEditableSettingsContent=function(e){switch(e){case I.ConfigurationTarget.USER:var t=r.localize(2,null);return"// "+t+"\n{\n}";case I.ConfigurationTarget.WORKSPACE:return["// "+r.localize(3,null),"{","}"].join("\n")}},t.prototype.getEditableSettingsURI=function(e){switch(e){case I.ConfigurationTarget.USER:return o.default.file(this.environmentService.appSettingsPath);case I.ConfigurationTarget.WORKSPACE:if(this.contextService.getWorkspace())return this.contextService.toResource(".vscode/settings.json")}return null},t.prototype.promptToOpenWorkspaceSettings=function(){var e=this;this.choiceService.choose(E.Severity.Info,r.localize(4,null),[r.localize(5,null),r.localize(6,null),r.localize(7,null)]).then(function(t){switch(t){case 0:var n=e.editorService.getVisibleEditors().length;return e.editorService.createInput({resource:e.contextService.toResource(f.WORKSPACE_CONFIG_DEFAULT_PATH)}).then(function(t){return e.editorService.openEditor(t,{pinned:!0},2===n?m.Position.THREE:1===n?m.Position.TWO:void 0)});case 1:e.storageService.store(L,!0,b.StorageScope.WORKSPACE);default:return i.TPromise.as(!0)}})},t.prototype.openSettings=function(e){var t=!!this.configurationService.getConfiguration().workbench.settings.openDefaultSettings;if(t){var n=this.getEmptyEditableSettingsContent(e),i=this.getEditableSettingsURI(e);return this.openSideBySideEditor(this.getDefaultSettingsEditorInput(e),i,n).then(function(){return null})}return this.openEditableSettings(e).then(function(){return null})},t.prototype.getDefaultSettingsEditorInput=function(e){switch(e){case I.ConfigurationTarget.USER:return this.defaultSettingsEditorInputForUser||(this.defaultSettingsEditorInputForUser=this._register(this.instantiationService.createInstance(A.DefaultPreferencesEditorInput,t.DEFAULT_SETTINGS_URI))),this.defaultSettingsEditorInputForUser;case I.ConfigurationTarget.WORKSPACE:return this.defaultSettingsEditorInputForWorkspace||(this.defaultSettingsEditorInputForWorkspace=this._register(this.instantiationService.createInstance(A.DefaultPreferencesEditorInput,t.DEFAULT_SETTINGS_URI))),this.defaultSettingsEditorInputForWorkspace}},t.prototype.openSideBySideEditor=function(e,t,n){var i=this;return this.createIfNotExists(t,n).then(function(){return i.editorService.createInput({resource:t}).then(function(t){var n=new l.SideBySideEditorInput(t.getName(),t.getDescription(),e,t);return i.editorService.openEditor(n)})})},t.prototype.openTwoEditors=function(e,t,n){var i=this;return this.createIfNotExists(t,n).then(function(){return i.editorService.createInput({resource:t}).then(function(t){var n=[{input:e,position:m.Position.ONE,options:{pinned:!0}},{input:t,position:m.Position.TWO,options:{pinned:!0}}];return i.editorService.openEditors(n).then(function(e){i.editorGroupService.focusGroup(m.Position.TWO)})})})},t.prototype.createIfNotExists=function(e,t){var n=this;return this.fileService.resolveContent(e,{acceptTextOnly:!0}).then(null,function(o){return o.fileOperationResult===S.FileOperationResult.FILE_NOT_FOUND?n.fileService.updateContent(e,t).then(null,function(t){return i.TPromise.wrapError(new Error(r.localize(8,null,a.getPathLabel(e,n.contextService),t)))}):i.TPromise.wrapError(o)})},t.prototype.getConfigurationTargetForCurrentActiveEditor=function(){var e=this.editorService.getActiveEditor();if(e){var t=l.asFileEditorInput(e.input,!0);if(t)return this.getConfigurationTarget(t.getResource())}return null},t.prototype.getConfigurationTarget=function(e){if(this.getEditableSettingsURI(I.ConfigurationTarget.USER).fsPath===e.fsPath)return I.ConfigurationTarget.USER;var t=this.getEditableSettingsURI(I.ConfigurationTarget.WORKSPACE);return t&&t.fsPath===e.fsPath?I.ConfigurationTarget.WORKSPACE:null},t.prototype.getSelectionRange=function(e,t){var n=u.parseTree(t.getValue()),i=u.findNodeAtLocation(n,[e]),r=t.getPositionAt(i.offset);return{startLineNumber:r.lineNumber,startColumn:r.column,endLineNumber:r.lineNumber,endColumn:r.column+i.length}},t.prototype.fetchMostCommonlyUsedSettings=function(){return i.TPromise.wrap(["editor.fontSize","files.autoSave","editor.fontFamily","editor.tabSize","editor.renderWhitespace","files.exclude","editor.cursorStyle","editor.insertSpaces","editor.wrappingColumn","files.associations"])},t.prototype.dispose=function(){this.defaultPreferencesEditorModels.clear(),e.prototype.dispose.call(this)},t.DEFAULT_SETTINGS_URI=o.default.from({scheme:n.Schemas.vscode,authority:"defaultsettings",path:"/settings.json"}),t.DEFAULT_KEY_BINDINGS_URI=o.default.from({scheme:n.Schemas.vscode,authority:"defaultsettings",path:"/keybindings.json"}),t=g([v(0,h.IWorkbenchEditorService),v(1,y.IEditorGroupService),v(2,S.IFileService),v(3,f.IWorkspaceConfigurationService),v(4,E.IMessageService),v(5,E.IChoiceService),v(6,p.IWorkspaceContextService),v(7,C.IInstantiationService),v(8,b.IStorageService),v(9,w.IEnvironmentService),v(10,x.ITelemetryService),v(11,D.ITextModelResolverService),v(12,I.IConfigurationEditingService),v(13,_.IExtensionService)],t)}(c.Disposable);t.PreferencesService=k}),define(l[1152],h([1,0,590,16,14,37,28,72,31,102,52,87,272,273,155,1151,23]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,g,v){"use strict";u.registerSingleton(f.IPreferencesService,g.PreferencesService),r.Registry.as(s.Extensions.Editors).registerEditor(new a.EditorDescriptor(d.DefaultPreferencesEditor.ID,n.localize(0,null),"vs/workbench/parts/preferences/browser/preferencesEditor","DefaultPreferencesEditor"),[new h.SyncDescriptor(d.DefaultPreferencesEditorInput)]);var m=function(){function e(){}return e.prototype.serialize=function(e){var t=e,n={resource:t.getResource().toString()};return JSON.stringify(n)},e.prototype.deserialize=function(e,t){var n=JSON.parse(t);return e.createInstance(d.DefaultPreferencesEditorInput,i.default.parse(n.resource))},e}();r.Registry.as(s.Extensions.Editors).registerEditorInputFactory(d.DefaultPreferencesEditorInput.ID,m);var y=n.localize(1,null),b=r.Registry.as(o.Extensions.WorkbenchActions);b.registerWorkbenchAction(new c.SyncActionDescriptor(p.OpenGlobalSettingsAction,p.OpenGlobalSettingsAction.ID,p.OpenGlobalSettingsAction.LABEL,{primary:null,mac:{primary:32850}}),"Preferences: Open User Settings",y),b.registerWorkbenchAction(new c.SyncActionDescriptor(p.OpenGlobalKeybindingsAction,p.OpenGlobalKeybindingsAction.ID,p.OpenGlobalKeybindingsAction.LABEL,{primary:l.KeyChord(32809,32817)}),"Preferences: Open Keyboard Shortcuts",y),b.registerWorkbenchAction(new c.SyncActionDescriptor(p.OpenWorkspaceSettingsAction,p.OpenWorkspaceSettingsAction.ID,p.OpenWorkspaceSettingsAction.LABEL),"Preferences: Open Workspace Settings",y),b.registerWorkbenchAction(new c.SyncActionDescriptor(p.StartSearchDefaultSettingsAction,p.StartSearchDefaultSettingsAction.ID,"",{primary:32804},v.ContextKeyExpr.and(f.CONTEXT_DEFAULT_SETTINGS_EDITOR)),""),c.MenuRegistry.appendMenuItem(c.MenuId.EditorTitle,{command:{id:f.DEFAULT_EDITOR_COMMAND_COLLAPSE_ALL,iconClass:"collapseAll",title:n.localize(2,null)},when:v.ContextKeyExpr.and(f.CONTEXT_DEFAULT_SETTINGS_EDITOR),group:"navigation"})}),define(l[1153],h([1,0,13,125,25,5,56,2,51,63,69,19]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";var d=function(){function e(e,t,n,i,r,o){this.backupFileService=e,this.configurationService=t,this.untitledEditorService=n,this.environmentService=i,this.windowsService=r,this.telemetryService=o,this.toDispose=[],this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationChange(t.config)}))},e.prototype.onConfigurationChange=function(e){this.configuredHotExit=e&&e.files&&e.files.hotExit},e.prototype.backupAll=function(e,t){var n=[],i=[];return e.forEach(function(e){"file"===e.scheme?n.push(t.get(e)):"untitled"===e.scheme&&i.push(e)}),this.doBackupAll(n,i)},e.prototype.doBackupAll=function(e,t){var n=this;return a.TPromise.join(e.map(function(e){return n.backupFileService.backupResource(e.getResource(),e.getValue(),e.getVersionId())})).then(function(e){var i=t.map(function(e){return n.untitledEditorService.get(e)}).filter(function(e){return!!e}).map(function(e){return e.resolve()});return a.TPromise.join(i).then(function(e){var t=e.map(function(e){return n.backupFileService.backupResource(e.getResource(),e.getValue(),e.getVersionId())});return a.TPromise.join(t).then(function(){})})})},Object.defineProperty(e.prototype,"isHotExitEnabled",{get:function(){return!this.environmentService.isExtensionDevelopment&&this.configuredHotExit},enumerable:!0,configurable:!0}),e.prototype.backupBeforeShutdown=function(e,t,i){var r=this;return this.windowsService.getWindowCount().then(function(o){var s;switch(i){case l.ShutdownReason.CLOSE:s=!(o>1||n.isMacintosh);break;case l.ShutdownReason.QUIT:s=!0;break;case l.ShutdownReason.RELOAD:s=!0;break;case l.ShutdownReason.LOAD:s=!1}return s?(r.telemetryService.publicLog("hotExit:triggered",{reason:i,windowCount:o,fileCount:e.length}),r.backupAll(e,t).then(function(){return{didBackup:!0}})):a.TPromise.as({didBackup:!1})})},e.prototype.cleanupBackupsBeforeShutdown=function(){return this.environmentService.isExtensionDevelopment?a.TPromise.as(void 0):this.backupFileService.discardAllWorkspaceBackups()},e.prototype.dispose=function(){this.toDispose=o.dispose(this.toDispose)},e=g([v(0,i.IBackupFileService),v(1,r.IConfigurationService),v(2,s.IUntitledEditorService),v(3,c.IEnvironmentService),v(4,u.IWindowsService),v(5,h.ITelemetryService)],e)}();t.BackupModelService=d}),define(l[274],h([1,0,2,16,120,14,20,28,158,145,56,22,6]),function(e,t,n,i,r,o,s,a,c,u,l,h,p){"use strict";var f=function(){function e(e,t,n){this.untitledEditorService=t,this.instantiationService=n,this.editorPart=e,this.fileInputDescriptor=o.Registry.as(a.Extensions.Editors).getDefaultFileInput()}return e.prototype.getActiveEditor=function(){return this.editorPart.getActiveEditor()},e.prototype.getActiveEditorInput=function(){return this.editorPart.getActiveEditorInput()},e.prototype.getVisibleEditors=function(){return this.editorPart.getVisibleEditors()},e.prototype.isVisible=function(e,t){return!!e&&this.getVisibleEditors().some(function(n){if(!n.input)return!1;if(e.matches(n.input))return!0;if(t&&n.input instanceof a.SideBySideEditorInput){var i=n.input;return e.matches(i.master)||e.matches(i.details)}return!1})},e.prototype.openEditor=function(e,t,o){var s=this;if(!e)return n.TPromise.as(null);if(e instanceof a.EditorInput)return this.doOpenEditor(e,this.toOptions(t),o);var c=e;if(c.resource instanceof i.default){var u=c.resource.scheme;if(u===r.Schemas.http||u===r.Schemas.https)return window.open(c.resource.toString(!0)),n.TPromise.as(null)}var l=e;return this.createInput(l).then(function(e){
return e?s.doOpenEditor(e,a.TextEditorOptions.from(l),t):n.TPromise.as(null)})},e.prototype.toOptions=function(e){if(!e||e instanceof a.EditorOptions)return e;var t=e;return t.selection?a.TextEditorOptions.create(e):a.EditorOptions.create(e)},e.prototype.doOpenEditor=function(e,t,n){return this.editorPart.openEditor(e,t,n)},e.prototype.openEditors=function(e){var t=this;return n.TPromise.join(e.map(function(e){return t.createInput(e.input)})).then(function(n){var i=n.map(function(n,i){var r=e[i].input instanceof a.EditorInput?t.toOptions(e[i].options):a.TextEditorOptions.from(e[i].input);return{input:n,options:r,position:e[i].position}});return t.editorPart.openEditors(i)})},e.prototype.replaceEditors=function(e){var t=this;return n.TPromise.join(e.map(function(e){return t.createInput(e.toReplace)})).then(function(i){return n.TPromise.join(e.map(function(e){return t.createInput(e.replaceWith)})).then(function(n){var r=e.map(function(e,r){var o=e.toReplace instanceof a.EditorInput?t.toOptions(e.options):a.TextEditorOptions.from(e.replaceWith);return{toReplace:i[r],replaceWith:n[r],options:o}});return t.editorPart.replaceEditors(r)})})},e.prototype.closeEditor=function(e,t){return this.editorPart.closeEditor(e,t)},e.prototype.closeEditors=function(e,t,n){return this.editorPart.closeEditors(e,t,n)},e.prototype.closeAllEditors=function(e){return this.editorPart.closeAllEditors(e)},e.prototype.createInput=function(e){if(e instanceof a.EditorInput)return n.TPromise.as(e);var t=e;return t.resource instanceof i.default&&t.resource.scheme===u.UntitledEditorInput.SCHEMA?n.TPromise.as(this.untitledEditorService.createOrGet(t.resource)):this.fileInputDescriptor&&t.resource instanceof i.default&&t.resource.scheme===r.Schemas.file?this.createFileInput(t.resource,t.encoding):t.resource instanceof i.default?n.TPromise.as(this.instantiationService.createInstance(c.ResourceEditorInput,s.basename(t.resource.fsPath),s.dirname(t.resource.fsPath),t.resource)):n.TPromise.as(null)},e.prototype.createFileInput=function(e,t){return this.instantiationService.createInstance(this.fileInputDescriptor).then(function(n){return n.setResource(e),n.setPreferredEncoding(t),n})},e=g([v(1,l.IUntitledEditorService),v(2,p.IInstantiationService)],e)}();t.WorkbenchEditorService=f;var m=function(e){function t(t,n,i,r){e.call(this,r,n,i),this.handler=t}return d(t,e),t.prototype.doOpenEditor=function(t,i,r){var o=this;return this.handler(t,i,r).then(function(s){return s?n.TPromise.as(s):e.prototype.doOpenEditor.call(o,t,i,r)})},t=g([v(1,l.IUntitledEditorService),v(2,p.IInstantiationService),v(3,h.IWorkbenchEditorService)],t)}(f);t.DelegatingWorkbenchEditorService=m}),define(l[275],h([1,0,2,473,24,7,21,193,28,178,158,126,354,364,386,274,33,19,26,38,25,47,6,113,18,22,23,80,740]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L){"use strict";t.TextCompareEditorVisible=new D.RawContextKey("textCompareEditorVisible",(!1));var k=function(e){function a(n,i,r,o,s,c,u,l,h,d){e.call(this,a.ID,n,i,r,o,s,c,u,l,d),this.textDiffEditorVisible=t.TextCompareEditorVisible.bindTo(h)}return d(a,e),a.prototype.getTitle=function(){return this.input?this.input.getName():i.localize(0,null)},a.prototype.createEditorControl=function(e){var t=this;this.nextDiffAction=new P(this,(!0)),this.previousDiffAction=new P(this,(!1));var i=this.instantiationService.createInstance(y.DelegatingWorkbenchEditorService,function(e,i,r){if(s.isUndefinedOrNull(r)||r===!1||r===t.position){var o=t.getInput();if(e&&i&&o){if(e.matches(o.modifiedInput))return t.setInput(t.getInput(),i).then(function(){return t});if(e.matches(o.originalInput)){var a=t.getControl().getOriginalEditor();if(i instanceof c.TextEditorOptions)return i.apply(a),n.TPromise.as(t)}}}return n.TPromise.as(null)}),r=this.instantiationService.createChild(new T.ServiceCollection([A.IWorkbenchEditorService,i]));return r.createInstance(f.DiffEditorWidget,e.getHTMLElement(),this.getCodeEditorOptions())},a.prototype.setInput=function(t,i){var r=this,o=this.getInput();e.prototype.setInput.call(this,t,i);var a=i&&i.forceOpen;if(!a&&t.matches(o)){var u=i;return u&&s.isFunction(u.apply)&&u.apply(this.getControl()),n.TPromise.as(null)}return this.diffNavigator&&this.diffNavigator.dispose(),t.resolve(!0).then(function(e){if(!(e instanceof m.TextDiffEditorModel)&&r.openAsBinary(t,i))return null;if(!r.getInput()||r.getInput()!==t)return null;var n=r.getControl();n.setModel(e.textDiffEditorModel);var o=!0;if(i instanceof c.TextDiffEditorOptions){var a=i;o=s.isUndefinedOrNull(a.autoRevealFirstChange)?o:a.autoRevealFirstChange}r.diffNavigator=new p.DiffNavigator(n,{alwaysRevealFirst:o}),r.diffNavigator.addListener2(p.DiffNavigator.Events.UPDATED,function(){r.nextDiffAction.updateEnablement(),r.previousDiffAction.updateEnablement()}),i&&s.isFunction(i.apply)&&i.apply(n),n.updateOptions(r.getCodeEditorOptions())},function(e){return r.isFileBinaryError(e)&&r.openAsBinary(t,i)?null:n.TPromise.wrapError(e)})},a.prototype.openAsBinary=function(e,t){if(e instanceof h.DiffEditorInput){var n=e.originalInput,i=e.modifiedInput,r=new h.DiffEditorInput(e.getName(),e.getDescription(),n,i,(!0));return this.editorService.openEditor(r,t,this.position).done(null,o.onUnexpectedError),!0}return!1},a.prototype.getCodeEditorOptions=function(){var t=e.prototype.getCodeEditorOptions.call(this),n=this.input;if(n instanceof h.DiffEditorInput){var r=n.modifiedInput,o=r instanceof u.StringEditorInput||r instanceof l.ResourceEditorInput;t.readOnly=o;var s=void 0,a=n&&n.getName();s=o?a?i.localize(1,null,a):i.localize(2,null):a?i.localize(3,null,a):i.localize(4,null),t.ariaLabel=s}return t},a.prototype.isFileBinaryError=function(e){var t=this;if(s.isArray(e)){var n=e;return n.some(function(e){return t.isFileBinaryError(e)})}return e.fileOperationResult===b.FileOperationResult.FILE_IS_BINARY},a.prototype.clearInput=function(){this.diffNavigator&&this.diffNavigator.dispose(),this.getControl().setModel(null),e.prototype.clearInput.call(this)},a.prototype.setEditorVisible=function(t,n){this.textDiffEditorVisible.set(t),e.prototype.setEditorVisible.call(this,t,n)},a.prototype.getDiffNavigator=function(){return this.diffNavigator},a.prototype.getActions=function(){return[this.previousDiffAction,this.nextDiffAction]},a.prototype.getSecondaryActions=function(){var t=this,o=e.prototype.getSecondaryActions.call(this),s=this.getControl(),a=s&&!s.renderSideBySide,c=i.localize(5,null),u=i.localize(6,null),l=new r.Action("toggle.diff.editorMode",a?u:c,null,(!0),function(){return t.getControl().updateOptions({renderSideBySide:a}),a=!a,l.label=a?u:c,n.TPromise.as(!0)});return l.order=50,o.push.apply(o,[l]),o},a.prototype.getControl=function(){return e.prototype.getControl.call(this)},a.prototype.dispose=function(){this.diffNavigator&&this.diffNavigator.dispose(),e.prototype.dispose.call(this)},a.ID=c.TEXT_DIFF_EDITOR_ID,a=g([v(0,S.ITelemetryService),v(1,I.IInstantiationService),v(2,E.IWorkspaceContextService),v(3,_.IStorageService),v(4,x.IMessageService),v(5,C.IConfigurationService),v(6,w.IEventService),v(7,A.IWorkbenchEditorService),v(8,D.IContextKeyService),v(9,L.IThemeService)],a)}(a.BaseTextEditor);t.TextDiffEditor=k;var P=function(e){function t(n,r){e.call(this,r?t.ID_NEXT:t.ID_PREV),this.editor=n,this.next=r,this.label=this.next?i.localize(7,null):i.localize(8,null),this.class=this.next?"textdiff-editor-action next":"textdiff-editor-action previous",this.enabled=!1}return d(t,e),t.prototype.run=function(){return this.next?this.editor.getDiffNavigator().next():this.editor.getDiffNavigator().previous(),null},t.prototype.updateEnablement=function(){this.enabled=this.editor.getDiffNavigator().canNavigate()},t.ID_NEXT="workbench.action.compareEditor.nextChange",t.ID_PREV="workbench.action.compareEditor.previousChange",t}(r.Action)}),define(l[1156],h([1,0,467,21,84,25,41,28,22,66,10,275,34,18,24]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f){"use strict";function g(){v(),S(),E()}function v(){r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:a.EditorCommands.MoveActiveEditor,weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:l.EditorContextKeys.TextFocus,primary:null,handler:function(e,t){return m(t,e)},description:{description:n.localize(0,null),args:[{name:n.localize(1,null),description:n.localize(2,null),constraint:_}]}})}function m(e,t){void 0===e&&(e={});var n=t.get(o.IConfigurationService).getConfiguration(),r=n.workbench&&n.workbench.editor&&n.workbench.editor.showTabs;e.to=e.to||a.ActiveEditorMovePositioning.RIGHT,e.by=r?e.by||a.ActiveEditorMovePositioningBy.TAB:a.ActiveEditorMovePositioningBy.GROUP,e.value=i.isUndefined(e.value)?1:e.value;var s=t.get(c.IWorkbenchEditorService).getActiveEditor();if(s)switch(e.by){case a.ActiveEditorMovePositioningBy.TAB:return y(e,s,t);case a.ActiveEditorMovePositioningBy.GROUP:return b(e,s,t)}}function y(e,t,n){var i=n.get(s.IEditorGroupService),r=i.getStacksModel().groupAt(t.position),o=r.indexOf(t.input);switch(e.to){case a.ActiveEditorMovePositioning.FIRST:o=0;break;case a.ActiveEditorMovePositioning.LAST:o=r.count-1;break;case a.ActiveEditorMovePositioning.LEFT:o-=e.value;break;case a.ActiveEditorMovePositioning.RIGHT:o+=e.value;break;case a.ActiveEditorMovePositioning.CENTER:o=Math.round(r.count/2)-1;break;case a.ActiveEditorMovePositioning.POSITION:o=e.value-1}o=o<0?0:o>=r.count?r.count-1:o,i.moveEditor(t.input,r,r,o)}function b(e,t,n){var i=t.position;switch(e.to){case a.ActiveEditorMovePositioning.LEFT:i-=1;break;case a.ActiveEditorMovePositioning.RIGHT:i+=1;break;case a.ActiveEditorMovePositioning.FIRST:i=u.Position.ONE;break;case a.ActiveEditorMovePositioning.LAST:i=u.Position.THREE;break;case a.ActiveEditorMovePositioning.CENTER:i=u.Position.TWO;break;case a.ActiveEditorMovePositioning.POSITION:i=e.value-1}i=u.POSITIONS.indexOf(i)!==-1?i:t.position,n.get(s.IEditorGroupService).moveEditor(t.input,t.position,i)}function S(){function e(e,t){var n=e.get(c.IWorkbenchEditorService),i=[n.getActiveEditor()].concat(n.getVisibleEditors()).filter(function(e){return e instanceof h.TextDiffEditor});i.length>0&&(t?i[0].getDiffNavigator().next():i[0].getDiffNavigator().previous())}r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.compareEditor.nextChange",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:h.TextCompareEditorVisible,primary:null,handler:function(t){return e(t,!0)}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.compareEditor.previousChange",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:h.TextCompareEditorVisible,primary:null,handler:function(t){return e(t,!1)}}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"_workbench.printStacksModel",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(0),handler:function(e){console.log(e.get(s.IEditorGroupService).getStacksModel().toString()+"\n\n")},when:void 0,primary:void 0}),r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"_workbench.validateStacksModel",weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(0),handler:function(e){e.get(s.IEditorGroupService).getStacksModel().validate()},when:void 0,primary:void 0})}function E(){var e={"workbench.action.focusFirstEditor":"workbench.action.focusFirstEditorGroup","workbench.action.focusSecondEditor":"workbench.action.focusSecondEditorGroup","workbench.action.focusThirdEditor":"workbench.action.focusThirdEditorGroup","workbench.action.focusLeftEditor":"workbench.action.focusPreviousGroup","workbench.action.focusRightEditor":"workbench.action.focusNextGroup","workbench.action.moveActiveEditorLeft":"workbench.action.moveActiveEditorGroupLeft","workbench.action.moveActiveEditorRight":"workbench.action.moveActiveEditorGroupRight","workbench.action.openPreviousEditor":"workbench.action.openPreviousEditorFromHistory","workbench.files.action.addToWorkingFiles":"workbench.action.keepEditor","workbench.files.action.closeAllFiles":"workbench.action.closeAllEditors","workbench.files.action.closeFile":"workbench.action.closeActiveEditor","workbench.files.action.closeOtherFiles":"workbench.action.closeOtherEditors","workbench.files.action.focusWorkingFiles":"workbench.files.action.focusOpenEditorsView","workbench.files.action.openNextWorkingFile":"workbench.action.nextEditor","workbench.files.action.openPreviousWorkingFile":"workbench.action.previousEditor","workbench.files.action.reopenClosedFile":"workbench.action.reopenClosedEditor","workbench.files.action.workingFilesPicker":"workbench.action.showAllEditors","workbench.action.cycleEditor":"workbench.action.navigateEditorGroups","workbench.action.terminal.focus":"workbench.action.focusPanel","workbench.action.showEditorsInLeftGroup":"workbench.action.showEditorsInFirstGroup","workbench.action.showEditorsInCenterGroup":"workbench.action.showEditorsInSecondGroup","workbench.action.showEditorsInRightGroup":"workbench.action.showEditorsInThirdGroup","workbench.action.moveEditorToLeftGroup":"workbench.action.moveEditorToPreviousGroup","workbench.action.moveEditorToRightGroup":"workbench.action.moveEditorToNextGroup"};Object.keys(e).forEach(function(t){var i=e[t];r.KeybindingsRegistry.registerCommandAndKeybindingRule({id:t,weight:r.KeybindingsRegistry.WEIGHT.workbenchContrib(0),handler:function(e){var r=e.get(p.IMessageService),o=e.get(d.ICommandService);r.show(p.Severity.Warning,{message:n.localize(3,null,t,i),actions:[new f.Action("openKeybindings",n.localize(4,null),null,(!0),function(){return o.executeCommand("workbench.action.openGlobalKeybindings")}),p.CloseAction]})},when:void 0,primary:void 0})})}t.setup=g;var _=function(e){if(!i.isObject(e))return!1;var t=e;return!!i.isString(t.to)&&(!(!i.isUndefined(t.by)&&!i.isString(t.by))&&!(!i.isUndefined(t.value)&&!i.isNumber(t.value)))}}),define(l[1157],h([1,0,2,16,142,30,209,12,110,211,144,56,40,26,25,1084,51]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y){"use strict";var b=function(){function e(e,t,n,i,r){this.modelService=e,this.untitledEditorService=t,this.contextService=i,this.configurationService=r,this.diskSearch=new S(!n.isBuilt||n.verbose)}return e.prototype.extendQuery=function(e){var t=this.configurationService.getConfiguration();if(!e.fileEncoding){var n=t&&t.files&&t.files.encoding;e.fileEncoding=n}var i=t&&t.files&&t.files.exclude;i&&(e.excludePattern?o.mixin(e.excludePattern,i,!1):e.excludePattern=i)},e.prototype.search=function(e){var t=this;this.extendQuery(e);var i;return new n.PPromise(function(n,r,o){var s=!1,a=t.getLocalResults(e),c=function(){s||(s=!0,Object.keys(a).map(function(e){return a[e]}).filter(function(e){return!!e}).forEach(o))};i=t.diskSearch.search(e).then(function(e){c(),n({limitHit:e.limitHit,results:e.results.filter(function(e){return"undefined"==typeof a[e.resource.toString()]}),stats:e.stats})},function(e){c(),r(e)},function(e){c(),e.resource?"undefined"==typeof a[e.resource.toString()]&&o(e):o(e)})},function(){return i&&i.cancel()})},e.prototype.getLocalResults=function(e){var t=this,n=Object.create(null);if(e.type===l.QueryType.Text){var i=this.modelService.getModels();i.forEach(function(i){var r=i.uri;if(r){if("untitled"===r.scheme){if(!t.untitledEditorService.get(r))return}else if("file"!==r.scheme)return;if(t.matches(r,e.filePattern,e.includePattern,e.excludePattern)){var o=i.findMatches(e.contentPattern.pattern,!1,e.contentPattern.isRegExp,e.contentPattern.isCaseSensitive,e.contentPattern.isWordMatch);if(o.length){var s=new l.FileMatch(r);n[r.toString()]=s,o.forEach(function(e){s.lineMatches.push(new l.LineMatch(i.getLineContent(e.startLineNumber),e.startLineNumber-1,[[e.startColumn-1,e.endColumn-e.startColumn]]))})}else n[r.toString()]=!1}}})}return n},e.prototype.matches=function(e,t,n,i){var o=this.contextService.toWorkspaceRelativePath(e);if(t){if("file"!==e.scheme)return!1;if(!s.matches(e.fsPath,a.stripWildcards(t).toLowerCase()))return!1}if(n){if("file"!==e.scheme)return!1;if(!r.match(n,o||e.fsPath))return!1}if(i){if("file"!==e.scheme)return!0;if(r.match(i,o||e.fsPath))return!1}return!0},e.prototype.clearCache=function(e){return this.diskSearch.clearCache(e)},e=g([v(0,d.IModelService),v(1,h.IUntitledEditorService),v(2,y.IEnvironmentService),v(3,p.IWorkspaceContextService),v(4,f.IConfigurationService)],e)}();t.SearchService=b;var S=function(){function t(t){var n=new u.Client(i.default.parse(e.toUrl("bootstrap")).fsPath,{serverName:"Search",timeout:36e5,args:["--type=searchService"],env:{AMD_ENTRYPOINT:"vs/workbench/services/search/node/searchApp",PIPE_LOGGING:"true",VERBOSE_LOGGING:t}}),r=c.getNextTickChannel(n.getChannel("search"));this.raw=new m.SearchChannelClient(r)}return t.prototype.search=function(e){var n,i={rootFolders:e.folderResources?e.folderResources.map(function(e){return e.fsPath}):[],extraFiles:e.extraFileResources?e.extraFileResources.map(function(e){return e.fsPath}):[],filePattern:e.filePattern,excludePattern:e.excludePattern,includePattern:e.includePattern,maxResults:e.maxResults,sortByScore:e.sortByScore,cacheKey:e.cacheKey};return e.type===l.QueryType.Text&&(i.contentPattern=e.contentPattern,i.fileEncoding=e.fileEncoding),n=e.type===l.QueryType.File?this.raw.fileSearch(i):this.raw.textSearch(i),t.collectResults(n)},t.collectResults=function(e){var t=this,i=[];return new n.PPromise(function(n,r,o){e.done(function(e){n({limitHit:e.limitHit,results:i,stats:e.stats})},r,function(e){if(Array.isArray(e)){var n=e.map(function(e){return t.createFileMatch(e)});i=i.concat(n),n.forEach(o)}else if(e.path){var r=t.createFileMatch(e);i.push(r),o(r)}else o(e)})},function(){return e.cancel()})},t.createFileMatch=function(e){var t=new l.FileMatch(i.default.file(e.path));if(e.lineMatches)for(var n=0;n<e.lineMatches.length;n++)t.lineMatches.push(new l.LineMatch(e.lineMatches[n].preview,e.lineMatches[n].lineNumber,e.lineMatches[n].offsetAndLengths));return t},t.prototype.clearCache=function(e){return this.raw.clearCache(e)},t}();t.DiskSearch=S}),define(l[1158],h([1,0,637,2,16,20,8,7,30,11,55,28,69,26,33,25,19,5,41,56,1099,6,125,18]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S,E,_,C,w,I){"use strict";var T=function(){function e(e,t,n,i,r,o,s,a,c,l){this.lifecycleService=e,this.contextService=t,this.configurationService=n,this.telemetryService=i,this.editorGroupService=r,this.fileService=o,this.untitledEditorService=s,this.instantiationService=a,this.backupService=c,this.messageService=l,this.toUnbind=[],this._onAutoSaveConfigurationChange=new u.Emitter,this.toUnbind.push(this._onAutoSaveConfigurationChange),this._onFilesAssociationChange=new u.Emitter,this.toUnbind.push(this._onFilesAssociationChange),this._models=this.instantiationService.createInstance(_.TextFileEditorModelManager);var h=this.configurationService.getConfiguration();this.currentFilesAssociationConfig=h&&h.files&&h.files.associations,this.onConfigurationChange(h),this.telemetryService.publicLog("autoSave",this.getAutoSaveConfiguration()),this.registerListeners()}return Object.defineProperty(e.prototype,"models",{get:function(){return this._models},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onAutoSaveConfigurationChange",{get:function(){return this._onAutoSaveConfigurationChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onFilesAssociationChange",{get:function(){return this._onFilesAssociationChange.event},enumerable:!0,configurable:!0}),e.prototype.registerListeners=function(){var e=this;this.lifecycleService.onWillShutdown(function(t){return t.veto(e.beforeShutdown(t.reason))}),this.lifecycleService.onShutdown(this.dispose,this),this.toUnbind.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationChange(t.config)})),this.toUnbind.push(s.addDisposableListener(window,s.EventType.BLUR,function(){return e.onWindowFocusLost()})),this.toUnbind.push(s.addDisposableListener(window,s.EventType.BLUR,function(){return e.onEditorFocusChanged()},!0)),this.toUnbind.push(this.editorGroupService.onEditorsChanged(function(){return e.onEditorFocusChanged()}))},e.prototype.beforeShutdown=function(e){var t=this,r=this.getDirty();if(r.length){var o=void 0;return o=this.getAutoSaveMode()!==l.AutoSaveMode.OFF?this.saveAll(!1).then(function(){return t.getDirty()}):i.TPromise.as(r),o.then(function(i){if(i.length)return t.backupService.isHotExitEnabled?(t.showHotExitMessage(),t.backupService.backupBeforeShutdown(i,t.models,e).then(function(e){return e.didBackup?t.noVeto({cleanUpBackups:!1}):t.confirmBeforeShutdown()},function(e){var i=e[0];return t.messageService.show(I.Severity.Error,n.localize(0,null,i.message)),!0})):t.confirmBeforeShutdown()})}return this.noVeto({cleanUpBackups:!0})},e.prototype.confirmBeforeShutdown=function(){var e=this,t=this.confirmSave();return t===h.ConfirmResult.SAVE?this.saveAll(!0).then(function(t){return!!t.results.some(function(e){return!e.success})||e.noVeto({cleanUpBackups:!0})}):t===h.ConfirmResult.DONT_SAVE?this.noVeto({cleanUpBackups:!0}):t===h.ConfirmResult.CANCEL||void 0},e.prototype.noVeto=function(e){return!!e.cleanUpBackups&&this.backupService.cleanupBackupsBeforeShutdown().then(function(){return!1},function(){return!1})},e.prototype.onWindowFocusLost=function(){this.configuredAutoSaveOnWindowChange&&this.isDirty()&&this.saveAll(void 0,l.SaveReason.WINDOW_CHANGE).done(null,a.onUnexpectedError)},e.prototype.onEditorFocusChanged=function(){this.configuredAutoSaveOnFocusChange&&this.isDirty()&&this.saveAll(void 0,l.SaveReason.FOCUS_CHANGE).done(null,a.onUnexpectedError)},e.prototype.onConfigurationChange=function(e){var t=this.getAutoSaveMode()!==l.AutoSaveMode.OFF,n=e&&e.files&&e.files.autoSave||f.AutoSaveConfiguration.OFF;switch(n){case f.AutoSaveConfiguration.AFTER_DELAY:this.configuredAutoSaveDelay=e&&e.files&&e.files.autoSaveDelay,this.configuredAutoSaveOnFocusChange=!1,this.configuredAutoSaveOnWindowChange=!1;break;case f.AutoSaveConfiguration.ON_FOCUS_CHANGE:this.configuredAutoSaveDelay=void 0,this.configuredAutoSaveOnFocusChange=!0,this.configuredAutoSaveOnWindowChange=!1;break;case f.AutoSaveConfiguration.ON_WINDOW_CHANGE:this.configuredAutoSaveDelay=void 0,this.configuredAutoSaveOnFocusChange=!1,this.configuredAutoSaveOnWindowChange=!0;break;default:this.configuredAutoSaveDelay=void 0,this.configuredAutoSaveOnFocusChange=!1,this.configuredAutoSaveOnWindowChange=!1}this._onAutoSaveConfigurationChange.fire(this.getAutoSaveConfiguration()),t||this.getAutoSaveMode()===l.AutoSaveMode.OFF||this.saveAll().done(null,a.onUnexpectedError);var i=e&&e.files&&e.files.associations;c.equals(this.currentFilesAssociationConfig,i)||(this.currentFilesAssociationConfig=i,this._onFilesAssociationChange.fire())},e.prototype.getDirty=function(e){var t=this,n=this.getDirtyFileModels(e).map(function(e){return e.getResource()});if(e){var i=e.map(function(e){return t.untitledEditorService.get(e)}).filter(function(e){return e&&e.isDirty()}).map(function(e){return e.getResource()});n.push.apply(n,i)}else n.push.apply(n,this.untitledEditorService.getDirty());return n},e.prototype.isDirty=function(e){return!!this._models.getAll(e).some(function(e){return e.isDirty()})||this.untitledEditorService.getDirty().some(function(t){return!e||t.toString()===e.toString()})},e.prototype.save=function(e,t){return t&&t.force&&"file"===e.scheme&&!this.isDirty(e)?this.fileService.touchFile(e).then(function(){return!0},function(){return!0}):this.saveAll([e]).then(function(e){return 1===e.results.length&&e.results[0].success})},e.prototype.saveAll=function(e,t){var n=[];n=Array.isArray(e)?this.getDirty(e):this.getDirty();var i=[],r=[];return n.forEach(function(t){"file"===t.scheme?i.push(t):!Array.isArray(e)&&e!==!0||"untitled"!==t.scheme||r.push(t)}),this.doSaveAll(i,r,t)},e.prototype.doSaveAll=function(e,t,n){var o=this;return this.doSaveAllFiles(e,n).then(function(n){for(var s=[],a=0;a<t.length;a++){var c=o.untitledEditorService.get(t[a]);if(c){var u=void 0;if(o.untitledEditorService.hasAssociatedFilePath(c.getResource()))u=c.getResource().fsPath;else if(u=o.promptForPath(o.suggestFileName(t[a])),!u)return i.TPromise.as({results:e.concat(t).map(function(e){return{source:e}})});s.push(r.default.file(u))}}var l=[];return s.forEach(function(e,i){var r=o.saveAs(t[i],e).then(function(e){n.results.push({source:t[i],target:e,success:!!e})});l.push(r)}),i.TPromise.join(l).then(function(){return n})})},e.prototype.doSaveAllFiles=function(e,t){var n=this.getDirtyFileModels(Array.isArray(e)?e:void 0),r=Object.create(null);return n.forEach(function(e){r[e.getResource().toString()]={source:e.getResource()}}),i.TPromise.join(n.map(function(e){return e.save({reason:t}).then(function(){e.isDirty()||(r[e.getResource().toString()].success=!0)})})).then(function(e){return{results:Object.keys(r).map(function(e){return r[e]})}})},e.prototype.getFileModels=function(e){var t=this;if(Array.isArray(e)){var n=[];return e.forEach(function(e){n.push.apply(n,t.getFileModels(e))}),n}return this._models.getAll(e)},e.prototype.getDirtyFileModels=function(e){return this.getFileModels(e).filter(function(e){return e.isDirty()})},e.prototype.saveAs=function(e,t){if(!t){var n=e.fsPath;"untitled"===e.scheme&&(n=this.suggestFileName(e));var o=this.promptForPath(n);o&&(t=r.default.file(o))}return t?e.toString()===t.toString()?this.save(e).then(function(){return e}):this.doSaveAs(e,t):i.TPromise.as(null)},e.prototype.doSaveAs=function(e,t){var n=this,r=i.TPromise.as(null);if("file"===e.scheme)r=i.TPromise.as(this._models.get(e));else if("untitled"===e.scheme){var o=this.untitledEditorService.get(e);o&&(r=o.resolve())}return r.then(function(i){return i?n.doSaveTextFileAs(i,e,t):n.fileService.copyFile(e,t)}).then(function(){return n.revert(e).then(function(){return t})})},e.prototype.doSaveTextFileAs=function(e,t,n){var r=this;return this.fileService.resolveFile(n).then(function(e){return e},function(){return null}).then(function(e){return e||r.fileService.createFile(n)}).then(function(o){return r.models.loadOrCreate(n).then(function(t){return t.updatePreferredEncoding(e.getEncoding()),t.textEditorModel.setValue(e.getValue()),t.save()},function(o){return o.fileOperationResult===f.FileOperationResult.FILE_IS_BINARY||o.fileOperationResult===f.FileOperationResult.FILE_TOO_LARGE?r.fileService.del(n).then(function(){return r.doSaveTextFileAs(e,t,n)}):i.TPromise.wrapError(o)})})},e.prototype.suggestFileName=function(e){var t=this.contextService.getWorkspace();return t?r.default.file(o.join(t.resource.fsPath,this.untitledEditorService.get(e).suggestFileName())).fsPath:this.untitledEditorService.get(e).suggestFileName()},e.prototype.revert=function(e,t){return this.revertAll([e],t).then(function(e){return 1===e.results.length&&e.results[0].success})},e.prototype.revertAll=function(e,t){var n=this;return this.doRevertAllFiles(e,t).then(function(t){var i=n.untitledEditorService.revertAll(e);return i.forEach(function(e){return t.results.push({source:e,success:!0})}),t})},e.prototype.doRevertAllFiles=function(e,t){var n=t?this.getFileModels(e):this.getDirtyFileModels(e),r=Object.create(null);return n.forEach(function(e){r[e.getResource().toString()]={source:e.getResource()}}),i.TPromise.join(n.map(function(e){return e.revert().then(function(){e.isDirty()||(r[e.getResource().toString()].success=!0)},function(t){return t.fileOperationResult!==f.FileOperationResult.FILE_NOT_FOUND?i.TPromise.wrapError(t):void(r[e.getResource().toString()].success=!0)})})).then(function(e){return{results:Object.keys(r).map(function(e){return r[e]})}})},e.prototype.getAutoSaveMode=function(){return this.configuredAutoSaveOnFocusChange?l.AutoSaveMode.ON_FOCUS_CHANGE:this.configuredAutoSaveOnWindowChange?l.AutoSaveMode.ON_WINDOW_CHANGE:this.configuredAutoSaveDelay&&this.configuredAutoSaveDelay>0?this.configuredAutoSaveDelay<=1e3?l.AutoSaveMode.AFTER_SHORT_DELAY:l.AutoSaveMode.AFTER_LONG_DELAY:l.AutoSaveMode.OFF},e.prototype.getAutoSaveConfiguration=function(){return{autoSaveDelay:this.configuredAutoSaveDelay&&this.configuredAutoSaveDelay>0?this.configuredAutoSaveDelay:void 0,autoSaveFocusChange:this.configuredAutoSaveOnFocusChange,autoSaveApplicationChange:this.configuredAutoSaveOnWindowChange}},e.prototype.dispose=function(){this.toUnbind=b.dispose(this.toUnbind),this._models.clear()},e=g([v(0,d.ILifecycleService),v(1,p.IWorkspaceContextService),v(2,m.IConfigurationService),v(3,y.ITelemetryService),v(4,S.IEditorGroupService),v(5,f.IFileService),v(6,E.IUntitledEditorService),v(7,C.IInstantiationService),v(8,w.IBackupModelService),v(9,I.IMessageService)],e)}();t.TextFileService=T}),define(l[1159],h([1,0,2,16,17,6,5,40,393,55,120,56,145]),function(e,t,n,i,r,o,s,a,c,u,l,h,p){"use strict";var f=function(e){function t(t){e.call(this),this.instantiationService=t,this.providers=Object.create(null)}return d(t,e),t.prototype.createReferencedObject=function(e){var t=this,n=i.default.parse(e);return this.resolveTextModelContent(e).then(function(){return t.instantiationService.createInstance(c.ResourceEditorModel,n)})},t.prototype.destroyReferencedObject=function(e){e.done(function(e){return e.dispose()})},t.prototype.registerTextModelContentProvider=function(e,t){var n=this.providers,i=n[e]||(n[e]=[]);return i.unshift(t),s.toDisposable(function(){var i=n[e];if(i){var r=i.indexOf(t);r!==-1&&(i.splice(r,1),0===i.length&&delete n[e])}})},t.prototype.resolveTextModelContent=function(e){var t=i.default.parse(e),o=this.providers[t.scheme]||[],s=o.map(function(e){return function(){return e.provideTextContent(t)}});return r.first(s).then(function(e){return e?e:(console.error("Could not resolve any model with uri '"+t+"'."),n.TPromise.wrapError("Could not resolve any model with provided uri."))})},t=g([v(0,o.IInstantiationService)],t)}(s.ReferenceCollection),m=function(){function e(e,t,n,i){this.textFileService=e,this.untitledEditorService=t,this.instantiationService=n,this.modelService=i,this.promiseCache=Object.create(null),this.resourceModelCollection=n.createInstance(f)}return e.prototype.createModelReference=function(e){var t=this,n=e.toString(),i=this.promiseCache[n];return i?i:(i=this.promiseCache[n]=this._createModelReference(e),r.always(i,function(){return delete t.promiseCache[n]}))},e.prototype._createModelReference=function(e){if(e.scheme===l.Schemas.file)return this.textFileService.models.loadOrCreate(e).then(function(e){return new s.ImmortalReference(e)});if(e.scheme===p.UntitledEditorInput.SCHEMA)return this.untitledEditorService.createOrGet(e).resolve().then(function(e){return new s.ImmortalReference(e)});if("inmemory"===e.scheme){var t=this.modelService.getModel(e);return t?n.TPromise.as(new s.ImmortalReference(this.instantiationService.createInstance(c.ResourceEditorModel,e))):n.TPromise.wrapError("Cant resolve inmemory resource")}var i=this.resourceModelCollection.acquire(e.toString());return i.object.then(function(e){return{object:e,dispose:function(){return i.dispose()}}})},e.prototype.registerTextModelContentProvider=function(e,t){return this.resourceModelCollection.registerTextModelContentProvider(e,t)},e=g([v(0,u.ITextFileService),v(1,h.IUntitledEditorService),v(2,o.IInstantiationService),v(3,a.IModelService)],e)}();t.TextModelResolverService=m}),define(l[53],h([1,0,6]),function(e,t,n){"use strict";t.IViewletService=n.createDecorator("viewletService")}),define(l[1161],h([1,0,29,141,22,45,53,38,39,47,80,5,41,48]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p){"use strict";var f=170,m=77,y=70,b=220,S=.4,E=50,_=50,C=function(){function e(t,n,r,o,s,c,u,l,h,d,p,f){var g=this;this.storageService=s,this.contextViewService=u,this.editorService=l,this.editorGroupService=h,this.partService=d,this.viewletService=p,this.parent=t,this.workbenchContainer=n,this.titlebar=r.titlebar,this.activitybar=r.activitybar,this.editor=r.editor,this.sidebar=r.sidebar,this.panel=r.panel,this.statusbar=r.statusbar,this.quickopen=o,this.toUnbind=[],this.computedStyles=null,this.panelHeightBeforeMaximized=0,this.sashX=new i.Sash(this.workbenchContainer.getHTMLElement(),this,{baseSize:5}),this.sashY=new i.Sash(this.workbenchContainer.getHTMLElement(),this,{
baseSize:4,orientation:i.Orientation.HORIZONTAL}),this.sidebarWidth=this.storageService.getInteger(e.sashXWidthSettingsKey,a.StorageScope.GLOBAL,-1),this.panelHeight=this.storageService.getInteger(e.sashYHeightSettingsKey,a.StorageScope.GLOBAL,0),this.layoutEditorGroupsVertically="horizontal"!==this.editorGroupService.getGroupOrientation(),this.toUnbind.push(f.onDidColorThemeChange(function(e){return g.relayout()})),this.toUnbind.push(h.onEditorsChanged(function(){return g.onEditorsChanged()})),this.toUnbind.push(h.onGroupOrientationChanged(function(e){return g.onGroupOrientationChanged()})),this.registerSashListeners()}return e.prototype.registerSashListeners=function(){var t=this,n=0,i=0;this.sashX.addListener2("start",function(e){t.startSidebarWidth=t.sidebarWidth,n=e.startX}),this.sashY.addListener2("start",function(e){t.startPanelHeight=t.panelHeight,i=e.startY}),this.sashX.addListener2("change",function(e){var i=!1,r=t.partService.getSideBarPosition(),s=t.partService.isVisible(o.Parts.SIDEBAR_PART),a=r===o.Position.LEFT?t.startSidebarWidth+e.currentX-n:t.startSidebarWidth-e.currentX+n;if(s)if(a+E<t.computedStyles.sidebar.minWidth){var c=f-E;t.partService.setSideBarHidden(!0),n=r===o.Position.LEFT?Math.max(t.activitybarWidth,e.currentX-c):Math.min(e.currentX+c,t.workbenchSize.width-t.activitybarWidth),t.sidebarWidth=t.startSidebarWidth}else t.sidebarWidth=Math.max(t.computedStyles.sidebar.minWidth,a),i=a>=t.computedStyles.sidebar.minWidth;else(r===o.Position.LEFT&&e.currentX-n>=t.computedStyles.sidebar.minWidth||r===o.Position.RIGHT&&n-e.currentX>=t.computedStyles.sidebar.minWidth)&&(t.startSidebarWidth=t.computedStyles.sidebar.minWidth-(r===o.Position.LEFT?e.currentX-n:n-e.currentX),t.sidebarWidth=t.computedStyles.sidebar.minWidth,t.partService.setSideBarHidden(!1));i&&t.layout()}),this.sashY.addListener2("change",function(e){var n=!1,r=t.partService.isVisible(o.Parts.PANEL_PART),s=t.startPanelHeight-(e.currentY-i);if(r)if(s+_<t.computedStyles.panel.minHeight){var a=m-_;t.partService.setPanelHidden(!0),i=Math.min(t.sidebarHeight-t.statusbarHeight-t.titlebarHeight,e.currentY+a),t.panelHeight=t.startPanelHeight}else t.panelHeight=Math.max(t.computedStyles.panel.minHeight,s),n=s>=t.computedStyles.panel.minHeight;else i-e.currentY>=t.computedStyles.panel.minHeight&&(t.startPanelHeight=0,t.panelHeight=t.computedStyles.panel.minHeight,t.partService.setPanelHidden(!1));n&&t.layout()}),this.sashX.addListener2("end",function(){t.storageService.store(e.sashXWidthSettingsKey,t.sidebarWidth,a.StorageScope.GLOBAL)}),this.sashY.addListener2("end",function(){t.storageService.store(e.sashYHeightSettingsKey,t.panelHeight,a.StorageScope.GLOBAL)}),this.sashY.addListener2("reset",function(){t.panelHeight=t.sidebarHeight*S,t.storageService.store(e.sashYHeightSettingsKey,t.panelHeight,a.StorageScope.GLOBAL),t.partService.setPanelHidden(!1),t.layout()}),this.sashX.addListener2("reset",function(){var n=t.viewletService.getActiveViewlet(),i=n&&n.getOptimalWidth();t.sidebarWidth=Math.max(f,i||0),t.storageService.store(e.sashXWidthSettingsKey,t.sidebarWidth,a.StorageScope.GLOBAL),t.partService.setSideBarHidden(!1),t.layout()})},e.prototype.onEditorsChanged=function(){if(this.workbenchSize&&(this.sidebarWidth||this.panelHeight)){var e=this.editorService.getVisibleEditors().length;if(e>1){var t=this.layoutEditorGroupsVertically&&this.workbenchSize.width-this.sidebarWidth<e*b,n=!this.layoutEditorGroupsVertically&&this.workbenchSize.height-this.panelHeight<e*y;(t||n)&&this.layout()}}},e.prototype.onGroupOrientationChanged=function(){var e="horizontal"!==this.editorGroupService.getGroupOrientation(),t=this.layoutEditorGroupsVertically!==e;this.layoutEditorGroupsVertically=e,t&&this.layout()},e.prototype.relayout=function(){this.computeStyle(),this.editor.getLayout().computeStyle(),this.sidebar.getLayout().computeStyle(),this.panel.getLayout().computeStyle(),this.layout()},e.prototype.computeStyle=function(){var e=this.titlebar.getContainer().getComputedStyle(),t=this.sidebar.getContainer().getComputedStyle(),n=this.panel.getContainer().getComputedStyle(),i=this.editor.getContainer().getComputedStyle(),r=this.activitybar.getContainer().getComputedStyle(),o=this.statusbar.getContainer().getComputedStyle();this.computedStyles={titlebar:{height:parseInt(e.getPropertyValue("height"),10)},activitybar:{width:parseInt(r.getPropertyValue("width"),10)},sidebar:{minWidth:parseInt(t.getPropertyValue("min-width"),10)||f},panel:{minHeight:parseInt(n.getPropertyValue("min-height"),10)||m},editor:{minWidth:parseInt(i.getPropertyValue("min-width"),10)||b,minHeight:y},statusbar:{height:parseInt(o.getPropertyValue("height"),10)}},this.initialComputedStyles||(this.initialComputedStyles=this.computedStyles)},e.prototype.layout=function(t){t&&t.forceStyleRecompute&&(this.computeStyle(),this.editor.getLayout().computeStyle(),this.sidebar.getLayout().computeStyle(),this.panel.getLayout().computeStyle()),this.computedStyles||this.computeStyle(),this.workbenchSize=this.getWorkbenchArea();var i,r=!this.partService.isVisible(o.Parts.ACTIVITYBAR_PART),s=!this.partService.isVisible(o.Parts.TITLEBAR_PART),c=!this.partService.isVisible(o.Parts.PANEL_PART),u=!this.partService.isVisible(o.Parts.STATUSBAR_PART),l=!this.partService.isVisible(o.Parts.SIDEBAR_PART),h=this.partService.getSideBarPosition();l?i=0:this.sidebarWidth!==-1?i=Math.max(this.computedStyles.sidebar.minWidth,this.sidebarWidth):(i=this.workbenchSize.width/5,this.sidebarWidth=i),this.statusbarHeight=u?0:this.computedStyles.statusbar.height,this.titlebarHeight=s?0:this.initialComputedStyles.titlebar.height/p.getZoomFactor(),this.sidebarHeight=this.workbenchSize.height-this.statusbarHeight-this.titlebarHeight;var d=new n.Dimension(i,this.sidebarHeight);this.activitybarWidth=r?0:this.computedStyles.activitybar.width;var g,v=new n.Dimension(this.activitybarWidth,d.height),b=d.height-y;if(g=c?0:this.panelHeight>0?Math.min(b,Math.max(this.computedStyles.panel.minHeight,this.panelHeight)):d.height*S,t&&t.toggleMaximizedPanel){var E=g;g=g===b?Math.max(this.computedStyles.panel.minHeight,Math.min(this.panelHeightBeforeMaximized,b)):b,this.panelHeightBeforeMaximized=E}var _=new n.Dimension(this.workbenchSize.width-d.width-v.width,g);this.panelWidth=_.width;var C={width:0,height:0,remainderLeft:0,remainderRight:0};C.width=_.width,C.height=d.height-_.height,l&&(C.width=Math.min(this.workbenchSize.width-v.width,this.workbenchSize.width-this.activitybarWidth),h===o.Position.LEFT?(C.remainderLeft=Math.round((this.workbenchSize.width-C.width+v.width)/2),C.remainderRight=this.workbenchSize.width-C.width-C.remainderLeft):(C.remainderRight=Math.round((this.workbenchSize.width-C.width+v.width)/2),C.remainderLeft=this.workbenchSize.width-C.width-C.remainderRight));var w=this.computedStyles.editor.minWidth,I=this.computedStyles.editor.minHeight,T=this.editorService.getVisibleEditors().length;if(T>1&&(this.layoutEditorGroupsVertically?w*=T:I*=T),C.width<w){var x=w-C.width;C.width=w,_.width=w,d.width-=x,d.width=Math.max(f,d.width)}if(C.height<I){var x=I-C.height;C.height=I,_.height-=x,_.height=Math.max(m,_.height)}l||(this.sidebarWidth=d.width,this.storageService.store(e.sashXWidthSettingsKey,this.sidebarWidth,a.StorageScope.GLOBAL)),c||(this.panelHeight=_.height,this.storageService.store(e.sashYHeightSettingsKey,this.panelHeight,a.StorageScope.GLOBAL)),this.workbenchContainer.position(0,0,0,0,"relative").size(this.workbenchSize.width,this.workbenchSize.height);var A=this.workbenchContainer.getHTMLElement();A.scrollTop>0&&(A.scrollTop=0),A.scrollLeft>0&&(A.scrollLeft=0),s?this.titlebar.getContainer().hide():this.titlebar.getContainer().show(),this.editor.getContainer().size(C.width,C.height),this.panel.getContainer().size(_.width,_.height);var D=this.statusbarHeight+_.height;l?(this.editor.getContainer().position(this.titlebarHeight,C.remainderRight,D,C.remainderLeft),this.panel.getContainer().position(C.height+this.titlebarHeight,C.remainderRight,this.statusbarHeight,C.remainderLeft)):h===o.Position.LEFT?(this.editor.getContainer().position(this.titlebarHeight,0,D,d.width+v.width),this.panel.getContainer().position(C.height+this.titlebarHeight,0,this.statusbarHeight,d.width+v.width)):(this.editor.getContainer().position(this.titlebarHeight,d.width,D,0),this.panel.getContainer().position(C.height+this.titlebarHeight,d.width,this.statusbarHeight,0)),this.activitybar.getContainer().size(null,v.height),h===o.Position.LEFT?(this.activitybar.getContainer().getHTMLElement().style.right="",this.activitybar.getContainer().position(this.titlebarHeight,null,0,0)):(this.activitybar.getContainer().getHTMLElement().style.left="",this.activitybar.getContainer().position(this.titlebarHeight,0,0,null)),r?this.activitybar.getContainer().hide():this.activitybar.getContainer().show(),this.sidebar.getContainer().size(d.width,d.height),h===o.Position.LEFT?this.sidebar.getContainer().position(this.titlebarHeight,C.width,0,v.width):this.sidebar.getContainer().position(this.titlebarHeight,null,0,C.width),this.statusbar.getContainer().position(this.workbenchSize.height-this.statusbarHeight),u?this.statusbar.getContainer().hide():this.statusbar.getContainer().show(),this.quickopen.layout(this.workbenchSize),this.sashX.layout(),this.sashY.layout(),this.titlebar.layout(new n.Dimension(this.workbenchSize.width,this.titlebarHeight)),this.editor.layout(new n.Dimension(C.width,C.height)),this.sidebar.layout(d),this.panel.layout(_),this.activitybar.layout(v),this.contextViewService.layout()},e.prototype.getWorkbenchArea=function(){var e=this.parent.getClientArea();return e},e.prototype.getVerticalSashTop=function(e){return this.titlebarHeight},e.prototype.getVerticalSashLeft=function(e){var t=this.partService.isVisible(o.Parts.SIDEBAR_PART),n=this.partService.getSideBarPosition();return n===o.Position.LEFT?t?this.sidebarWidth+this.activitybarWidth:this.activitybarWidth:t?this.workbenchSize.width-this.sidebarWidth-this.activitybarWidth:this.workbenchSize.width-this.activitybarWidth},e.prototype.getVerticalSashHeight=function(e){return this.sidebarHeight},e.prototype.getHorizontalSashTop=function(e){return 2+(this.partService.isVisible(o.Parts.PANEL_PART)?this.sidebarHeight-this.panelHeight+this.titlebarHeight:this.sidebarHeight+this.titlebarHeight)},e.prototype.getHorizontalSashLeft=function(e){return this.partService.getSideBarPosition()===o.Position.LEFT?this.getVerticalSashLeft(e):0},e.prototype.getHorizontalSashWidth=function(e){return this.panelWidth},e.prototype.dispose=function(){this.toUnbind&&(h.dispose(this.toUnbind),this.toUnbind=null)},e.sashXWidthSettingsKey="workbench.sidebar.width",e.sashYHeightSettingsKey="workbench.panel.height",e=g([v(4,a.IStorageService),v(5,u.IEventService),v(6,c.IContextViewService),v(7,r.IWorkbenchEditorService),v(8,d.IEditorGroupService),v(9,o.IPartService),v(10,s.IViewletService),v(11,l.IThemeService)],e)}();t.WorkbenchLayout=C}),define(l[387],h([1,0,460,8,7,2,29,176,24,43,165,11,39,34,6,36,5,53,45,725]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E){"use strict";var _=function(e){function t(t,n,i){e.call(this,t,n,i),this._onDidChangeBadge=new h.Emitter,this.badge=null}return d(t,e),Object.defineProperty(t.prototype,"onDidChangeBadge",{get:function(){return this._onDidChangeBadge.event},enumerable:!0,configurable:!0}),t.prototype.activate=function(){this.checked||this._setChecked(!0)},t.prototype.deactivate=function(){this.checked&&this._setChecked(!1)},t.prototype.getBadge=function(){return this.badge},t.prototype.setBadge=function(e){this.badge=e,this._onDidChangeBadge.fire(this)},t}(c.Action);t.ActivityAction=_;var C=function(e){function t(t,n,i){e.call(this,t.id,t.name,t.cssClass),this.viewlet=t,this.viewletService=n,this.partService=i,this.lastRun=0}return d(t,e),t.prototype.run=function(e){if(e instanceof MouseEvent&&2===e.button)return o.TPromise.as(!1);var n=Date.now();if(n-this.lastRun<t.preventDoubleClickDelay)return o.TPromise.as(!0);this.lastRun=n;var i=this.partService.isVisible(E.Parts.SIDEBAR_PART),s=this.viewletService.getActiveViewlet();return i&&s&&s.getId()===this.viewlet.id?this.partService.setSideBarHidden(!0):(this.viewletService.openViewlet(this.viewlet.id,!0).done(null,r.onUnexpectedError),this.activate()),o.TPromise.as(!0)},t.preventDoubleClickDelay=300,t=g([v(1,S.IViewletService),v(2,E.IPartService)],t)}(_);t.ViewletActivityAction=C;var w=function(e){function t(n,i,r,o,s,a){e.call(this,null,n,{draggable:!0}),this.viewlet=i,this.contextMenuService=r,this.activityBarService=o,this.keybindingService=s,this.cssClass=n.class,this.name=i.name,this._keybinding=this.getKeybindingLabel(i.id),t.manageExtensionAction||(t.manageExtensionAction=a.createInstance(x)),t.toggleViewletPinnedAction||(t.toggleViewletPinnedAction=a.createInstance(D,void 0)),n.onDidChangeBadge(this.handleBadgeChangeEvenet,this,this._callOnDispose)}return d(t,e),t.prototype.getKeybindingLabel=function(e){var t=this,n=this.keybindingService.lookupKeybindings(e).map(function(e){return t.keybindingService.getLabelFor(e)});return n&&n.length?n[0]:null},t.prototype.render=function(n){var r=this;e.prototype.render.call(this,n),this.$e=s.$("a.action-label").attr({tabIndex:"0",role:"button"}).appendTo(this.builder),this.$e.on(i.EventType.MOUSE_DOWN,function(){r.$e.addClass("clicked")}),this.$e.on(i.EventType.MOUSE_UP,function(){r.mouseUpTimeout&&clearTimeout(r.mouseUpTimeout),r.mouseUpTimeout=setTimeout(function(){r.$e.removeClass("clicked")},800)}),s.$(n).on("contextmenu",function(e){i.EventHelper.stop(e,!0),r.showContextMenu(n)}),this.cssClass&&this.$e.addClass(this.cssClass),this.$badge=this.builder.div({class:"badge"},function(e){r.$badgeContent=e.div({class:"badge-content"})}),this.$badge.hide(),this.keybinding=this._keybinding,[this.$badge,this.$e].forEach(function(e){return new a.DelayedDragHandler(e.getHTMLElement(),function(){t.getDraggedViewlet()||r.getAction().checked||r.getAction().run()})}),s.$(n).on(i.EventType.DRAG_START,function(e){e.dataTransfer.effectAllowed="move",r.setDraggedViewlet(r.viewlet),r.getAction().checked||r.getAction().run()});var o=0;s.$(n).on(i.EventType.DRAG_ENTER,function(e){var s=t.getDraggedViewlet();s&&s.id!==r.viewlet.id&&(o++,i.addClass(n,"dropfeedback"))}),s.$(n).on(i.EventType.DRAG_LEAVE,function(e){var r=t.getDraggedViewlet();r&&(o--,0===o&&i.removeClass(n,"dropfeedback"))}),s.$(n).on(i.EventType.DRAG_END,function(e){var r=t.getDraggedViewlet();r&&(o=0,i.removeClass(n,"dropfeedback"),t.clearDraggedViewlet())}),s.$(n).on(i.EventType.DROP,function(e){i.EventHelper.stop(e,!0);var o=t.getDraggedViewlet();o&&o.id!==r.viewlet.id&&(i.removeClass(n,"dropfeedback"),t.clearDraggedViewlet(),r.activityBarService.move(o.id,r.viewlet.id))})},t.getDraggedViewlet=function(){return t.draggedViewlet},t.prototype.setDraggedViewlet=function(e){t.draggedViewlet=e},t.clearDraggedViewlet=function(){t.draggedViewlet=void 0},t.prototype.showContextMenu=function(e){var i=this,r=[t.toggleViewletPinnedAction];this.viewlet.extensionId&&(r.push(new u.Separator),r.push(t.manageExtensionAction));var s=this.activityBarService.isPinned(this.viewlet.id);s?t.toggleViewletPinnedAction.label=n.localize(0,null):t.toggleViewletPinnedAction.label=n.localize(1,null),this.contextMenuService.showContextMenu({getAnchor:function(){return e},getActionsContext:function(){return i.viewlet},getActions:function(){return o.TPromise.as(r)}})},t.prototype.focus=function(){this.$e.domFocus()},t.prototype.setBadge=function(e){this.updateBadge(e)},Object.defineProperty(t.prototype,"keybinding",{set:function(e){if(this._keybinding=e,this.$e){var t;t=e?n.localize(2,null,this.name,e):this.name,this.$e.title(t),this.$badge.title(t)}},enumerable:!0,configurable:!0}),t.prototype.updateBadge=function(e){this.$badgeContent.empty(),this.$badge.hide(),e&&(e instanceof l.NumberBadge?e.number&&(this.$badgeContent.text(e.number>99?"99+":e.number.toString()),this.$badge.show()):e instanceof l.TextBadge?(this.$badgeContent.text(e.text),this.$badge.show()):e instanceof l.IconBadge?this.$badge.show():e instanceof l.ProgressBadge&&this.$badge.show(),this.$e.attr("aria-label",this.name+" - "+e.getDescription()))},t.prototype._updateClass=function(){this.cssClass&&this.$badge.removeClass(this.cssClass),this.cssClass=this.getAction().class,this.$badge.addClass(this.cssClass)},t.prototype._updateChecked=function(){this.getAction().checked?this.$e.addClass("active"):this.$e.removeClass("active")},t.prototype.handleBadgeChangeEvenet=function(){var e=this.getAction();e instanceof _&&this.updateBadge(e.getBadge())},t.prototype._updateEnabled=function(){this.getAction().enabled?this.builder.removeClass("disabled"):this.builder.addClass("disabled")},t.prototype.dispose=function(){e.prototype.dispose.call(this),t.clearDraggedViewlet(),this.mouseUpTimeout&&clearTimeout(this.mouseUpTimeout),this.$badge.destroy(),this.$e.destroy()},t=g([v(2,p.IContextMenuService),v(3,l.IActivityBarService),v(4,y.IKeybindingService),v(5,m.IInstantiationService)],t)}(u.BaseActionItem);t.ActivityActionItem=w;var I=function(e){function t(t){e.call(this,"activitybar.additionalViewlets.action",n.localize(3,null),"toggle-more"),this.showMenu=t}return d(t,e),t.prototype.run=function(e){return this.showMenu(),o.TPromise.as(!0)},t}(_);t.ViewletOverflowActivityAction=I;var T=function(e){function t(t,n,i,r,o,s,a){e.call(this,null,t),this.getOverflowingViewlets=n,this.getBadge=i,this.instantiationService=r,this.viewletService=o,this.keybindingService=s,this.contextMenuService=a,this.cssClass=t.class,this.name=t.label}return d(t,e),t.prototype.render=function(t){e.prototype.render.call(this,t),this.$e=s.$("a.action-label").attr({tabIndex:"0",role:"button",title:this.name,class:this.cssClass}).appendTo(this.builder)},t.prototype.showMenu=function(){var e=this;this.actions&&b.dispose(this.actions),this.actions=this.getActions(),this.contextMenuService.showContextMenu({getAnchor:function(){return e.builder.getHTMLElement()},getActions:function(){return o.TPromise.as(e.actions)},getKeyBinding:function(t){return e.getKeybinding(t)},onHide:function(){return b.dispose(e.actions)}})},t.prototype.getKeybinding=function(e){var t=this.keybindingService.lookupKeybindings(e.id);return t.length>0?t[0]:null},t.prototype.getActions=function(){var e=this,t=this.viewletService.getActiveViewlet();return this.getOverflowingViewlets().map(function(i){var r=e.instantiationService.createInstance(A,i);r.radio=t&&t.getId()===r.id;var o,s=e.getBadge(r.viewlet);return s instanceof l.NumberBadge?o=s.number:s instanceof l.TextBadge&&(o=s.text),o?r.label=n.localize(4,null,r.viewlet.name,o):r.label=r.viewlet.name,r})},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.actions=b.dispose(this.actions)},t=g([v(3,m.IInstantiationService),v(4,S.IViewletService),v(5,y.IKeybindingService),v(6,p.IContextMenuService)],t)}(u.BaseActionItem);t.ViewletOverflowActivityActionItem=T;var x=function(e){function t(t){e.call(this,"activitybar.manage.extension",n.localize(5,null)),this.commandService=t}return d(t,e),t.prototype.run=function(e){return this.commandService.executeCommand("_extensions.manage",e.extensionId)},t=g([v(0,f.ICommandService)],t)}(c.Action),A=function(e){function t(t,n,i){e.call(this,t.id,t.name),this._viewlet=t,this.partService=n,this.viewletService=i}return d(t,e),Object.defineProperty(t.prototype,"viewlet",{get:function(){return this._viewlet},enumerable:!0,configurable:!0}),t.prototype.run=function(){var e=this.partService.isVisible(E.Parts.SIDEBAR_PART),t=this.viewletService.getActiveViewlet();return e&&t&&t.getId()===this.viewlet.id?this.partService.setSideBarHidden(!0):this.viewletService.openViewlet(this.viewlet.id,!0).done(null,r.onUnexpectedError),o.TPromise.as(!0)},t=g([v(1,E.IPartService),v(2,S.IViewletService)],t)}(c.Action),D=function(e){function t(t,i){e.call(this,"activitybar.show.toggleViewletPinned",t?t.name:n.localize(6,null)),this.viewlet=t,this.activityBarService=i,this.checked=this.viewlet&&this.activityBarService.isPinned(this.viewlet.id)}return d(t,e),t.prototype.run=function(e){var t=this.viewlet||e;return this.activityBarService.isPinned(t.id)?this.activityBarService.unpin(t.id):this.activityBarService.pin(t.id),o.TPromise.as(!0)},t=g([v(1,l.IActivityBarService)],t)}(c.Action);t.ToggleViewletPinnedAction=D}),define(l[1163],h([1,0,461,2,8,35,29,43,179,387,53,45,6,75,38,146,39,79,5,350,726]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_){"use strict";var C=function(e){function t(n,i,r,o,s,a,c){var u=this;e.call(this,n),this.viewletService=i,this.extensionService=r,this.storageService=o,this.contextMenuService=s,this.instantiationService=a,this.partService=c,this.viewletIdToActionItems=Object.create(null),this.viewletIdToActions=Object.create(null),this.viewletIdToActivity=Object.create(null),this.memento=this.getMemento(this.storageService,y.Scope.GLOBAL),this.pinnedViewlets=this.memento[t.PINNED_VIEWLETS]||this.viewletService.getViewlets().map(function(e){return e.id}),this.extensionService.onReady().then(function(){return u.updateViewletSwitcher()}),this.registerListeners()}return d(t,e),t.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.viewletService.onDidViewletOpen(function(t){return e.onDidViewletOpen(t)})),this.toUnbind.push(this.viewletService.onDidViewletClose(function(t){return e.onDidViewletClose(t)}))},t.prototype.onDidViewletOpen=function(e){var t=e.getId();this.viewletIdToActions[t]&&this.viewletIdToActions[t].activate();var n=this.activeUnpinnedViewlet&&this.activeUnpinnedViewlet.id!==e.getId(),i=!this.getPinnedViewlets().some(function(t){return t.id===e.getId()});(i||n)&&this.updateViewletSwitcher()},t.prototype.onDidViewletClose=function(e){var t=e.getId();this.viewletIdToActions[t]&&this.viewletIdToActions[t].deactivate()},t.prototype.showActivity=function(e,t,n){var i=this.viewletIdToActions[e];i&&(i.setBadge(t),n&&(i.class=n)),t?this.viewletIdToActivity[e]={badge:t,clazz:n}:delete this.viewletIdToActivity[e]},t.prototype.clearActivity=function(e){this.showActivity(e,null)},t.prototype.createContentArea=function(e){var t=this,n=s.$(e),i=s.$(".content").appendTo(n);return this.createViewletSwitcher(i.clone()),s.$(e).on("contextmenu",function(e){r.EventHelper.stop(e,!0),t.showContextMenu(e)},this.toUnbind),s.$(e).on(r.EventType.DROP,function(e){var n=u.ActivityActionItem.getDraggedViewlet();if(n){r.EventHelper.stop(e,!0),u.ActivityActionItem.clearDraggedViewlet();var i=t.pinnedViewlets[t.pinnedViewlets.length-1];i!==n.id&&t.move(n.id,t.pinnedViewlets[t.pinnedViewlets.length-1])}}),i},t.prototype.showContextMenu=function(e){var t=this,r=new S.StandardMouseEvent(e),o=this.viewletService.getViewlets().map(function(e){return t.instantiationService.createInstance(u.ToggleViewletPinnedAction,e)});o.push(new a.Separator),o.push(this.instantiationService.createInstance(_.ToggleActivityBarVisibilityAction,_.ToggleActivityBarVisibilityAction.ID,n.localize(0,null))),this.contextMenuService.showContextMenu({getAnchor:function(){return{x:r.posx+1,y:r.posy}},getActions:function(){return i.TPromise.as(o)},onHide:function(){return E.dispose(o)}})},t.prototype.createViewletSwitcher=function(e){var t=this;this.viewletSwitcherBar=new a.ActionBar(e,{actionItemProvider:function(e){return e instanceof u.ViewletOverflowActivityAction?t.viewletOverflowActionItem:t.viewletIdToActionItems[e.id]},orientation:a.ActionsOrientation.VERTICAL,ariaLabel:n.localize(1,null),animated:!1}),this.updateViewletSwitcher()},t.prototype.updateViewletSwitcher=function(){var e=this,n=this.getPinnedViewlets(),i=this.viewletService.getActiveViewlet();i&&!n.some(function(e){return e.id===i.getId()})?(this.activeUnpinnedViewlet=this.viewletService.getViewlet(i.getId()),n.push(this.activeUnpinnedViewlet)):this.activeUnpinnedViewlet=void 0;var r=!1;if(this.dimension){var s=Math.floor(this.dimension.height/t.ACTIVITY_ACTION_HEIGHT);r=n.length>s,r&&(n=n.slice(0,s-1))}var a=Object.keys(this.viewletIdToActions),c=!o.equals(n.map(function(e){return e.id}),a);this.viewletOverflowAction&&c&&(this.viewletSwitcherBar.pull(this.viewletSwitcherBar.length()-1),this.viewletOverflowAction.dispose(),this.viewletOverflowAction=null,this.viewletOverflowActionItem.dispose(),this.viewletOverflowActionItem=null);var l=n.map(function(e){return e.id});a.forEach(function(t){l.indexOf(t)===-1&&e.pullViewlet(t)});var h=n.filter(function(t){return!e.viewletIdToActions[t.id]}).map(function(t){return e.toAction(t)});if(h.length){this.viewletSwitcherBar.push(h,{label:!0,icon:!0});var d=this.viewletService.getActiveViewlet();if(d){var p=this.viewletIdToActions[d.getId()];p&&p.activate()}Object.keys(this.viewletIdToActions).forEach(function(t){var n=e.viewletIdToActivity[t];n?e.showActivity(t,n.badge,n.clazz):e.showActivity(t)})}c&&r&&(this.viewletOverflowAction=this.instantiationService.createInstance(u.ViewletOverflowActivityAction,function(){return e.viewletOverflowActionItem.showMenu()}),this.viewletOverflowActionItem=this.instantiationService.createInstance(u.ViewletOverflowActivityActionItem,this.viewletOverflowAction,function(){return e.getOverflowingViewlets()},function(t){return e.viewletIdToActivity[t.id]&&e.viewletIdToActivity[t.id].badge}),this.viewletSwitcherBar.push(this.viewletOverflowAction,{label:!0,icon:!0}))},t.prototype.getOverflowingViewlets=function(){var e=this.getPinnedViewlets();this.activeUnpinnedViewlet&&e.push(this.activeUnpinnedViewlet);var t=Object.keys(this.viewletIdToActions);return e.filter(function(e){return t.indexOf(e.id)===-1})},t.prototype.getVisibleViewlets=function(){var e=this.viewletService.getViewlets(),t=Object.keys(this.viewletIdToActions);return e.filter(function(e){return t.indexOf(e.id)>=0})},t.prototype.getPinnedViewlets=function(){var e=this;return this.pinnedViewlets.map(function(t){return e.viewletService.getViewlet(t)}).filter(function(e){return!!e})},t.prototype.pullViewlet=function(e){var t=Object.keys(this.viewletIdToActions).indexOf(e);if(t>=0){this.viewletSwitcherBar.pull(t);var n=this.viewletIdToActions[e];n.dispose(),delete this.viewletIdToActions[e];var i=this.viewletIdToActionItems[n.id];i.dispose(),delete this.viewletIdToActionItems[n.id]}},t.prototype.toAction=function(e){var t=this.instantiationService.createInstance(u.ViewletActivityAction,e);return this.viewletIdToActionItems[t.id]=this.instantiationService.createInstance(u.ActivityActionItem,t,e),this.viewletIdToActions[e.id]=t,t},t.prototype.getPinned=function(){return this.pinnedViewlets},t.prototype.unpin=function(e){var t=this;if(this.isPinned(e)){var n,r=this.viewletService.getActiveViewlet(),o=this.viewletService.getDefaultViewletId(),s=this.getVisibleViewlets();n=r&&r.getId()===e?o!==e&&this.isPinned(o)?this.viewletService.openViewlet(o,!0):1===s.length?i.TPromise.as(this.partService.setSideBarHidden(!0)):this.viewletService.openViewlet(s.filter(function(t){return t.id!==e})[0].id,!0):i.TPromise.as(null),n.then(function(){var n=t.pinnedViewlets.indexOf(e);t.pinnedViewlets.splice(n,1),t.updateViewletSwitcher()})}},t.prototype.isPinned=function(e){return this.pinnedViewlets.indexOf(e)>=0},t.prototype.pin=function(e,t){var n=this;void 0===t&&(t=!0),this.isPinned(e)||this.viewletService.openViewlet(e,!0).then(function(){n.pinnedViewlets.push(e),n.pinnedViewlets=o.distinct(n.pinnedViewlets),t&&n.updateViewletSwitcher()})},t.prototype.move=function(e,t){var n=this;this.isPinned(e)||this.pin(e,!1);var i=this.pinnedViewlets.indexOf(e),r=this.pinnedViewlets.indexOf(t);this.pinnedViewlets.splice(i,1),this.pinnedViewlets.splice(r,0,e);for(var o=Object.keys(this.viewletIdToActions),s=Math.min(i,r);s<o.length;s++)this.pullViewlet(o[s]);setTimeout(function(){n.updateViewletSwitcher()},0)},t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return this.dimension=n[1],this.updateViewletSwitcher(),n},t.prototype.dispose=function(){this.viewletSwitcherBar&&(this.viewletSwitcherBar.dispose(),this.viewletSwitcherBar=null),e.prototype.dispose.call(this)},t.prototype.shutdown=function(){this.memento[t.PINNED_VIEWLETS]=this.pinnedViewlets,e.prototype.shutdown.call(this)},t.ACTIVITY_ACTION_HEIGHT=50,t.PINNED_VIEWLETS="workbench.activity.pinnedViewlets",t=g([v(1,l.IViewletService),v(2,f.IExtensionService),v(3,m.IStorageService),v(4,b.IContextMenuService),v(5,p.IInstantiationService),v(6,h.IPartService)],t)}(c.Part);t.ActivitybarPart=C}),define(l[1164],h([1,0,470,2,8,12,20,21,16,7,24,13,145,28,5,18,56,114,10,345,363,290,289,22,50,134,33,6,54,40,67,46,41,139,55,88,53,106,62,733]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P,R,O,M,N,F,W,V,B,H){"use strict";function z(e){if(e){if(e.getEditorType()===E.EditorType.IDiffEditor)return e.getModifiedEditor();if(e.getEditorType()===E.EditorType.ICodeEditor)return e}return null}function U(e){return e=z(e),e?e.getModel():null}function G(e){return e instanceof p.UntitledEditorInput?e:f.asFileEditorInput(e,!0)}function K(e){R.StyleMutator.setDisplay(e,"")}function j(e){R.StyleMutator.setDisplay(e,"none")}function q(e){var t=H.getCodeEditor(e);return!!t&&(t.getEditorType()===E.EditorType.IDiffEditor&&(t=t.getModifiedEditor()),t.getEditorType()===E.EditorType.ICodeEditor&&!t.getConfiguration().readOnly)}var $=function(){function e(){this.indentation=!1,this.selectionStatus=!1,this.mode=!1,this.encoding=!1,this.EOL=!1,this.tabFocusMode=!1,this.metadata=!1}return e.prototype.combine=function(e){this.indentation=this.indentation||e.indentation,this.selectionStatus=this.selectionStatus||e.selectionStatus,this.mode=this.mode||e.mode,this.encoding=this.encoding||e.encoding,this.EOL=this.EOL||e.EOL,this.tabFocusMode=this.tabFocusMode||e.tabFocusMode,this.metadata=this.metadata||e.metadata},e}(),Y=function(){function e(){this._selectionStatus=null,this._mode=null,this._encoding=null,this._EOL=null,this._tabFocusMode=!1,this._metadata=null}return Object.defineProperty(e.prototype,"selectionStatus",{get:function(){return this._selectionStatus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encoding",{get:function(){return this._encoding},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EOL",{get:function(){return this._EOL},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indentation",{get:function(){return this._indentation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabFocusMode",{get:function(){return this._tabFocusMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._metadata},enumerable:!0,configurable:!0}),e.prototype.update=function(e){var t=new $,n=!1;return"undefined"!=typeof e.selectionStatus&&this._selectionStatus!==e.selectionStatus&&(this._selectionStatus=e.selectionStatus,n=!0,t.selectionStatus=!0),"undefined"!=typeof e.indentation&&this._indentation!==e.indentation&&(this._indentation=e.indentation,n=!0,t.indentation=!0),"undefined"!=typeof e.mode&&this._mode!==e.mode&&(this._mode=e.mode,n=!0,t.mode=!0),"undefined"!=typeof e.encoding&&this._encoding!==e.encoding&&(this._encoding=e.encoding,n=!0,t.encoding=!0),"undefined"!=typeof e.EOL&&this._EOL!==e.EOL&&(this._EOL=e.EOL,n=!0,t.EOL=!0),"undefined"!=typeof e.tabFocusMode&&this._tabFocusMode!==e.tabFocusMode&&(this._tabFocusMode=e.tabFocusMode,n=!0,t.tabFocusMode=!0),"undefined"!=typeof e.metadata&&this._metadata!==e.metadata&&(this._metadata=e.metadata,n=!0,t.metadata=!0),n?t:null},e}(),X=n.localize(0,null),Q=n.localize(1,null),Z=n.localize(2,null),J=n.localize(3,null),ee=n.localize(4,null),te=n.localize(5,null),ne=n.localize(6,null),ie=function(){function e(e,t,n,i,r,o,s){this.editorService=e,this.editorGroupService=t,this.quickOpenService=n,this.instantiationService=i,this.untitledEditorService=r,this.modeService=o,this.textFileService=s,this.toDispose=[],this.activeEditorListeners=[],this.state=new Y}return e.prototype.render=function(e){
var t=this;return this.element=r.append(e,r.$(".editor-statusbar-item")),this.tabFocusModeElement=r.append(this.element,r.$("a.editor-status-tabfocusmode")),this.tabFocusModeElement.title=n.localize(7,null),this.tabFocusModeElement.onclick=function(){return t.onTabFocusModeClick()},this.tabFocusModeElement.textContent=ne,j(this.tabFocusModeElement),this.selectionElement=r.append(this.element,r.$("a.editor-status-selection")),this.selectionElement.title=n.localize(8,null),this.selectionElement.onclick=function(){return t.onSelectionClick()},j(this.selectionElement),this.indentationElement=r.append(this.element,r.$("a.editor-status-indentation")),this.indentationElement.title=n.localize(9,null),this.indentationElement.onclick=function(){return t.onIndentationClick()},j(this.indentationElement),this.encodingElement=r.append(this.element,r.$("a.editor-status-encoding")),this.encodingElement.title=n.localize(10,null),this.encodingElement.onclick=function(){return t.onEncodingClick()},j(this.encodingElement),this.eolElement=r.append(this.element,r.$("a.editor-status-eol")),this.eolElement.title=n.localize(11,null),this.eolElement.onclick=function(){return t.onEOLClick()},j(this.eolElement),this.modeElement=r.append(this.element,r.$("a.editor-status-mode")),this.modeElement.title=n.localize(12,null),this.modeElement.onclick=function(){return t.onModeClick()},j(this.modeElement),this.metadataElement=r.append(this.element,r.$("span.editor-status-metadata")),this.metadataElement.title=n.localize(13,null),j(this.metadataElement),this.delayedRender=null,this.toRender=null,this.toDispose.push({dispose:function(){t.delayedRender&&(t.delayedRender.dispose(),t.delayedRender=null)}},this.editorGroupService.onEditorsChanged(function(){return t.onEditorsChanged()}),this.untitledEditorService.onDidChangeEncoding(function(e){return t.onResourceEncodingChange(e)}),this.textFileService.models.onModelEncodingChanged(function(e){return t.onResourceEncodingChange(e.resource)}),N.TabFocus.onDidChangeTabFocus(function(e){return t.onTabFocusModeChange()})),m.combinedDisposable(this.toDispose)},e.prototype.updateState=function(e){var t=this,n=this.state.update(e);n&&(this.toRender?this.toRender.combine(n):(this.toRender=n,this.delayedRender=r.runAtThisOrScheduleAtNextAnimationFrame(function(){t.delayedRender=null;var e=t.toRender;t.toRender=null,t._renderNow(e)})))},e.prototype._renderNow=function(e){e.tabFocusMode&&(this.state.tabFocusMode&&this.state.tabFocusMode===!0?K(this.tabFocusModeElement):j(this.tabFocusModeElement)),e.indentation&&(this.state.indentation?(this.indentationElement.textContent=this.state.indentation,K(this.indentationElement)):j(this.indentationElement)),e.selectionStatus&&(this.state.selectionStatus?(this.selectionElement.textContent=this.state.selectionStatus,K(this.selectionElement)):j(this.selectionElement)),e.encoding&&(this.state.encoding?(this.encodingElement.textContent=this.state.encoding,K(this.encodingElement)):j(this.encodingElement)),e.EOL&&(this.state.EOL?(this.eolElement.textContent="\r\n"===this.state.EOL?te:ee,K(this.eolElement)):j(this.eolElement)),e.mode&&(this.state.mode?(this.modeElement.textContent=this.state.mode,K(this.modeElement)):j(this.modeElement)),e.metadata&&(this.state.metadata?(this.metadataElement.textContent=this.state.metadata,K(this.metadataElement)):j(this.metadataElement))},e.prototype.getSelectionLabel=function(e){return e&&e.selections?1===e.selections.length?e.charactersSelected?o.format(X,e.selections[0].positionLineNumber,e.selections[0].positionColumn,e.charactersSelected):o.format(Q,e.selections[0].positionLineNumber,e.selections[0].positionColumn):e.charactersSelected?o.format(Z,e.selections.length,e.charactersSelected):e.selections.length>0?o.format(J,e.selections.length):null:null},e.prototype.onModeClick=function(){var e=this.instantiationService.createInstance(oe,oe.ID,oe.LABEL);e.run().done(null,u.onUnexpectedError),e.dispose()},e.prototype.onIndentationClick=function(){var e=this.instantiationService.createInstance(se,se.ID,se.LABEL);e.run().done(null,u.onUnexpectedError),e.dispose()},e.prototype.onSelectionClick=function(){this.quickOpenService.show(":")},e.prototype.onEOLClick=function(){var e=this.instantiationService.createInstance(ae,ae.ID,ae.LABEL);e.run().done(null,u.onUnexpectedError),e.dispose()},e.prototype.onEncodingClick=function(){var e=this.instantiationService.createInstance(ce,ce.ID,ce.LABEL);e.run().done(null,u.onUnexpectedError),e.dispose()},e.prototype.onTabFocusModeClick=function(){N.TabFocus.setTabFocusMode(!1)},e.prototype.onEditorsChanged=function(){var e=this,t=this.editorService.getActiveEditor(),n=H.getCodeEditor(t);this.onSelectionChange(n),this.onModeChange(n),this.onEOLChange(n),this.onEncodingChange(t),this.onIndentationChange(n),this.onMetadataChange(t),m.dispose(this.activeEditorListeners),n?(this.activeEditorListeners.push(n.onDidChangeCursorPosition(function(t){e.onSelectionChange(n)})),this.activeEditorListeners.push(n.onDidChangeModelMode(function(t){e.onModeChange(n)})),this.activeEditorListeners.push(n.onDidChangeModelRawContent(function(t){e.onEOLChange(n)})),this.activeEditorListeners.push(n.onDidChangeModelOptions(function(t){e.onIndentationChange(n)}))):(t instanceof w.BaseBinaryResourceEditor||t instanceof I.BinaryResourceDiffEditor)&&this.activeEditorListeners.push(t.onMetadataChanged(function(n){e.onMetadataChange(t)}))},e.prototype.onModeChange=function(e){var t={mode:null};if(e){var n=U(e);if(n){"function"!=typeof n.getMode&&(console.log(Object.getPrototypeOf(n).toString()),console.log(Object.getOwnPropertyNames(n)));var i=n.getMode();i&&(t={mode:this.modeService.getLanguageName(i.getId())})}}this.updateState(t)},e.prototype.onIndentationChange=function(e){var t={indentation:null};if(e){e.getEditorType()===E.EditorType.IDiffEditor&&(e=e.getModifiedEditor());var i=e.getModel();if(i){var r=i.getOptions();t.indentation=r.insertSpaces?n.localize(14,null,r.tabSize):n.localize(15,null,r.tabSize)}}this.updateState(t)},e.prototype.onMetadataChange=function(e){var t={metadata:null};(e instanceof w.BaseBinaryResourceEditor||e instanceof I.BinaryResourceDiffEditor)&&(t.metadata=e.getMetadata()),this.updateState(t)},e.prototype.onSelectionChange=function(e){var t={};if(e){t.selections=e.getSelections()||[],t.charactersSelected=0;var n=U(e);if(n&&t.selections.forEach(function(e){t.charactersSelected+=n.getValueLengthInRange(e)}),1===t.selections.length){var i=e.getVisibleColumnFromPosition(e.getPosition()),r=t.selections[0].clone();r=new O.Selection(r.selectionStartLineNumber,r.selectionStartColumn,r.positionLineNumber,i),t.selections[0]=r}}this.updateState({selectionStatus:this.getSelectionLabel(t)})},e.prototype.onEOLChange=function(e){var t={EOL:null},n=z(e);if(n&&!n.getConfiguration().readOnly){var i=n.getModel();i&&(t.EOL=i.getEOL())}this.updateState(t)},e.prototype.onEncodingChange=function(e){if(!e||this.isActiveEditor(e)){var t={encoding:null};if(H.getCodeEditor(e)){var n=G(e.input);if(n&&a.isFunction(n.getEncoding)){var i=n.getEncoding(),r=D.SUPPORTED_ENCODINGS[i];r?t.encoding=r.labelShort:t.encoding=i}}this.updateState(t)}},e.prototype.onResourceEncodingChange=function(e){var t=this.editorService.getActiveEditor();if(t){var n=f.getUntitledOrFileResource(t.input,!0);if(n&&n.toString()===e.toString())return this.onEncodingChange(t)}},e.prototype.onTabFocusModeChange=function(){var e={tabFocusMode:N.TabFocus.getTabFocusMode()};this.updateState(e)},e.prototype.isActiveEditor=function(e){var t=this.editorService.getActiveEditor();return t&&e&&t===e},e=g([v(0,T.IWorkbenchEditorService),v(1,M.IEditorGroupService),v(2,x.IQuickOpenService),v(3,L.IInstantiationService),v(4,b.IUntitledEditorService),v(5,k.IModeService),v(6,F.ITextFileService)],e)}();t.EditorStatus=ie;var re=function(e){function t(i,r,o){e.call(this,t.ID,n.localize(16,null,i),null,!0),this.extension=i,this.viewletService=r,this.enabled=o.isEnabled()}return d(t,e),t.prototype.run=function(){var e=this;return this.viewletService.openViewlet(B.VIEWLET_ID,!0).then(function(e){return e}).then(function(t){t.search("ext:"+e.extension.replace(/^\./,"")),t.focus()})},t.ID="workbench.extensions.action.showLanguageExtensions",t=g([v(1,V.IViewletService),v(2,W.IExtensionGalleryService)],t)}(l.Action);t.ShowLanguageExtensionsAction=re;var oe=function(e){function t(t,n,i,r,o,s,a,c,u,l){e.call(this,t,n),this.modeService=i,this.modelService=r,this.editorService=o,this.configurationEditingService=s,this.messageService=a,this.configurationService=c,this.quickOpenService=u,this.instantiationService=l}return d(t,e),t.prototype.run=function(){var e=this,t=this.editorService.getActiveEditor(),i=H.getCodeEditor(t);if(!i)return this.quickOpenService.pick([{label:n.localize(18,null)}]);var r,o=U(i),a=f.asFileEditorInput(t.input,!0);if(o){var u=o.getMode();u&&(r=this.modeService.getLanguageName(u.getId()))}var l=this.modeService.getRegisteredLanguageNames(),h=l.sort().map(function(t,i){var o;o=r===t?n.localize(19,null,e.modeService.getModeIdForLanguageName(t.toLowerCase())):n.localize(20,null,e.modeService.getModeIdForLanguageName(t.toLowerCase()));var s,a=e.modeService.getExtensions(t);if(a&&a.length)s=c.default.file(a[0]);else{var u=e.modeService.getFilenames(t);u&&u.length&&(s=c.default.file(u[0]))}return{label:t,resource:s,description:o}});a&&(h[0].separator={border:!0,label:n.localize(21,null)});var d,p;if(a){var g=a.getResource(),v=s.extname(g.fsPath)||s.basename(g.fsPath);p=this.instantiationService.createInstance(re,v),p.enabled&&h.unshift(p),d={label:n.localize(22,null,v)},h.unshift(d)}var m={label:n.localize(23,null)};return a&&h.unshift(m),this.quickOpenService.pick(h,{placeHolder:n.localize(24,null)}).then(function(n){if(n){if(n===p)return void p.run();if(n===d)return void e.configureFileAssociation(a.getResource());t=e.editorService.getActiveEditor();var i=H.getCodeEditor(t);if(i){var r=[],o=U(i);o&&r.push(o);var s=i.getModel();s&&s.original&&r.push(s.original);var c;c=n===m?e.modeService.getOrCreateModeByFilenameOrFirstLine(f.getUntitledOrFileResource(t.input,!0).fsPath,o.getLineContent(1)):e.modeService.getOrCreateModeByLanguageName(n.label),r.forEach(function(t){e.modelService.setMode(t,c)})}}})},t.prototype.configureFileAssociation=function(e){var r=this,o=s.extname(e.fsPath),a=s.basename(e.fsPath),c=this.modeService.getModeIdByFilenameOrFirstLine(a),u=this.modeService.getRegisteredLanguageNames(),l=u.sort().map(function(e,t){var i=r.modeService.getModeIdForLanguageName(e.toLowerCase());return{id:i,label:e,description:i===c?n.localize(25,null):void 0}});i.TPromise.timeout(50).done(function(){r.quickOpenService.pick(l,{placeHolder:n.localize(26,null,o||a)}).done(function(e){if(e){var n=r.configurationService.lookup(t.FILE_ASSOCIATION_KEY),i=void 0;i=o&&"."!==a[0]?"*"+o:a;var s=S.ConfigurationTarget.USER;n.workspace&&n.workspace[i]&&(s=S.ConfigurationTarget.WORKSPACE);var c=s===S.ConfigurationTarget.WORKSPACE?n.workspace:n.user;c||(c=Object.create(null)),c[i]=e.id,r.configurationEditingService.writeConfiguration(s,{key:t.FILE_ASSOCIATION_KEY,value:c}).done(null,function(e){return r.messageService.show(y.Severity.Error,e.toString())})}})})},t.ID="workbench.action.editor.changeLanguageMode",t.LABEL=n.localize(17,null),t.FILE_ASSOCIATION_KEY="files.associations",t=g([v(2,k.IModeService),v(3,P.IModelService),v(4,T.IWorkbenchEditorService),v(5,S.IConfigurationEditingService),v(6,y.IMessageService),v(7,A.IWorkspaceConfigurationService),v(8,x.IQuickOpenService),v(9,L.IInstantiationService)],t)}(l.Action);t.ChangeModeAction=oe;var se=function(e){function t(t,n,i,r){e.call(this,t,n),this.editorService=i,this.quickOpenService=r}return d(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor(),t=H.getCodeEditor(e);if(!t)return this.quickOpenService.pick([{label:n.localize(28,null)}]);if(!q(e))return this.quickOpenService.pick([{label:n.localize(29,null)}]);var i=[t.getAction(C.IndentUsingSpaces.ID),t.getAction(C.IndentUsingTabs.ID),t.getAction(C.DetectIndentation.ID),t.getAction(C.IndentationToSpacesAction.ID),t.getAction(C.IndentationToTabsAction.ID),t.getAction(_.TrimTrailingWhitespaceAction.ID)].map(function(e){return{id:e.id,label:e.label,detail:h.language===h.LANGUAGE_DEFAULT?null:e.alias,run:function(){t.focus(),e.run()}}});return i[0].separator={label:n.localize(30,null)},i[3].separator={label:n.localize(31,null),border:!0},this.quickOpenService.pick(i,{placeHolder:n.localize(32,null),matchOnDetail:!0}).then(function(e){return e&&e.run()})},t.ID="workbench.action.editor.changeIndentation",t.LABEL=n.localize(27,null),t=g([v(2,T.IWorkbenchEditorService),v(3,x.IQuickOpenService)],t)}(l.Action),ae=function(e){function t(t,n,i,r){e.call(this,t,n),this.editorService=i,this.quickOpenService=r}return d(t,e),t.prototype.run=function(){var e=this,t=this.editorService.getActiveEditor(),i=H.getCodeEditor(t);if(!i)return this.quickOpenService.pick([{label:n.localize(34,null)}]);if(!q(t))return this.quickOpenService.pick([{label:n.localize(35,null)}]);var r=U(i),o=[{label:ee,eol:E.EndOfLineSequence.LF},{label:te,eol:E.EndOfLineSequence.CRLF}],s=r&&"\n"===r.getEOL()?0:1;return this.quickOpenService.pick(o,{placeHolder:n.localize(36,null),autoFocus:{autoFocusIndex:s}}).then(function(n){if(n){t=e.editorService.getActiveEditor();var i=H.getCodeEditor(t);if(i&&q(t)){var r=U(i);r.setEOL(n.eol)}}})},t.ID="workbench.action.editor.changeEOL",t.LABEL=n.localize(33,null),t=g([v(2,T.IWorkbenchEditorService),v(3,x.IQuickOpenService)],t)}(l.Action);t.ChangeEOLAction=ae;var ce=function(e){function t(t,n,i,r,o){e.call(this,t,n),this.editorService=i,this.quickOpenService=r,this.configurationService=o}return d(t,e),t.prototype.run=function(){var e=this,t=this.editorService.getActiveEditor();if(!H.getCodeEditor(t)||!t.input)return this.quickOpenService.pick([{label:n.localize(38,null)}]);var r=G(t.input);if(!a.areFunctions(r.setEncoding,r.getEncoding))return this.quickOpenService.pick([{label:n.localize(39,null)}]);var o,s,c;return h.language===h.LANGUAGE_DEFAULT?(s={label:n.localize(40,null)},c={label:n.localize(41,null)}):(s={label:n.localize(42,null),detail:"Save with Encoding"},c={label:n.localize(43,null),detail:"Reopen with Encoding"}),o=r instanceof p.UntitledEditorInput?i.TPromise.as(s):q(t)?this.quickOpenService.pick([c,s],{placeHolder:n.localize(44,null),matchOnDetail:!0}):i.TPromise.as(c),o.then(function(o){if(o)return i.TPromise.timeout(50).then(function(){var i,s,u=e.configurationService.getConfiguration(),l=o===c,h=u&&u.files&&u.files.encoding,d=Object.keys(D.SUPPORTED_ENCODINGS).sort(function(e,t){return e===h?-1:t===h?1:D.SUPPORTED_ENCODINGS[e].order-D.SUPPORTED_ENCODINGS[t].order}).filter(function(e){return!l||!D.SUPPORTED_ENCODINGS[e].encodeOnly}).map(function(e,t){return e===r.getEncoding()?i=t:D.SUPPORTED_ENCODINGS[e].alias===r.getEncoding()&&(s=t),{id:e,label:D.SUPPORTED_ENCODINGS[e].labelLong}});return e.quickOpenService.pick(d,{placeHolder:l?n.localize(45,null):n.localize(46,null),autoFocus:{autoFocusIndex:"number"==typeof i?i:"number"==typeof s?s:void 0}}).then(function(n){n&&(t=e.editorService.getActiveEditor(),r=G(t.input),r&&a.areFunctions(r.setEncoding,r.getEncoding)&&r.getEncoding()!==n.id&&r.setEncoding(n.id,l?f.EncodingMode.Decode:f.EncodingMode.Encode))})})})},t.ID="workbench.action.editor.changeEncoding",t.LABEL=n.localize(37,null),t=g([v(2,T.IWorkbenchEditorService),v(3,x.IQuickOpenService),v(4,A.IWorkspaceConfigurationService)],t)}(l.Action);t.ChangeEncodingAction=ce}),define(l[1165],h([1,0,14,465,16,56,64,175,72,28,178,381,291,126,145,158,6,84,275,22,289,41,1164,37,68,31,87,52,190,1156]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P){"use strict";function R(e){switch(e){case 0:return 21;case 1:return 22;case 2:return 23;case 3:return 24;case 4:return 25;case 5:return 26;case 6:return 27;case 7:return 28;case 8:return 29;case 9:return 30}}n.Registry.as(u.Extensions.Editors).registerEditor(new c.EditorDescriptor(h.StringEditor.ID,i.localize(0,null),"vs/workbench/browser/parts/editor/stringEditor","StringEditor"),[new D.SyncDescriptor(l.StringEditorInput),new D.SyncDescriptor(m.UntitledEditorInput),new D.SyncDescriptor(y.ResourceEditorInput)]),n.Registry.as(u.Extensions.Editors).registerEditor(new c.EditorDescriptor(E.TextDiffEditor.ID,i.localize(1,null),"vs/workbench/browser/parts/editor/textDiffEditor","TextDiffEditor"),[new D.SyncDescriptor(f.DiffEditorInput)]),n.Registry.as(u.Extensions.Editors).registerEditor(new c.EditorDescriptor(C.BinaryResourceDiffEditor.ID,i.localize(2,null),"vs/workbench/browser/parts/editor/binaryDiffEditor","BinaryResourceDiffEditor"),[new D.SyncDescriptor(f.DiffEditorInput)]),n.Registry.as(u.Extensions.Editors).registerEditor(new c.EditorDescriptor(p.SideBySideEditor.ID,i.localize(3,null),"vs/workbench/browser/parts/editor/sideBySideEditor","SideBySideEditor"),[new D.SyncDescriptor(u.SideBySideEditorInput)]);var O,M=function(){function e(e){this.untitledEditorService=e}return e=g([v(0,o.IUntitledEditorService)],e)}(),N=function(){function e(){}return e.prototype.serialize=function(e){var t=e,n=t.getResource();t.hasAssociatedFilePath&&(n=r.default.file(n.fsPath));var i={resource:n.toString()};return JSON.stringify(i)},e.prototype.deserialize=function(e,t){var n=JSON.parse(t);return O||(O=e.createInstance(M)),O.untitledEditorService.createOrGet(r.default.parse(n.resource))},e}();n.Registry.as(u.Extensions.Editors).registerEditorInputFactory(m.UntitledEditorInput.ID,N);var F=function(){function e(){}return e.prototype.serialize=function(e){var t=e;if(t.details&&t.master){var i=n.Registry.as(u.Extensions.Editors),r=i.getEditorInputFactory(t.details.getTypeId()),o=i.getEditorInputFactory(t.master.getTypeId());if(r&&o){var s=r.serialize(t.details),a=o.serialize(t.master);if(s&&a)return JSON.stringify({name:t.getName(),description:t.getDescription(),detailsSerialized:s,masterSerialized:a,detailsTypeId:t.details.getTypeId(),masterTypeId:t.master.getTypeId()})}}return null},e.prototype.deserialize=function(e,t){var i=JSON.parse(t),r=n.Registry.as(u.Extensions.Editors),o=r.getEditorInputFactory(i.detailsTypeId),s=r.getEditorInputFactory(i.masterTypeId);if(o&&s){var a=o.deserialize(e,i.detailsSerialized),c=s.deserialize(e,i.masterSerialized);if(a&&c)return new u.SideBySideEditorInput(i.name,i.description,a,c)}return null},e}();n.Registry.as(u.Extensions.Editors).registerEditorInputFactory(u.SideBySideEditorInput.ID,F);var W=n.Registry.as(a.Extensions.Statusbar);W.registerStatusbarItem(new a.StatusbarItemDescriptor(I.EditorStatus,a.StatusbarAlignment.RIGHT,100));var V=n.Registry.as(T.Extensions.WorkbenchActions);V.registerWorkbenchAction(new A.SyncActionDescriptor(I.ChangeModeAction,I.ChangeModeAction.ID,I.ChangeModeAction.LABEL,{primary:L.KeyChord(32809,43)}),"Change Language Mode"),V.registerWorkbenchAction(new A.SyncActionDescriptor(I.ChangeEOLAction,I.ChangeEOLAction.ID,I.ChangeEOLAction.LABEL),"Change End of Line Sequence"),V.registerWorkbenchAction(new A.SyncActionDescriptor(I.ChangeEncodingAction,I.ChangeEncodingAction.ID,I.ChangeEncodingAction.LABEL),"Change File Encoding");var B=function(e){function t(t){e.call(this),this.instantiationService=t}return d(t,e),t.prototype.hasActions=function(e){var t=this.getEntry(e);return!!t},t.prototype.getActions=function(e){var t=[],n=this.getEntry(e);return n&&(this.openToSideActionInstance?this.openToSideActionInstance.updateClass():this.openToSideActionInstance=this.instantiationService.createInstance(k.OpenToSideAction),t.push(this.openToSideActionInstance)),t},t.prototype.getEntry=function(e){return e&&e.element?k.toEditorQuickOpenEntry(e.element):null},t=g([v(0,b.IInstantiationService)],t)}(x.ActionBarContributor);t.QuickOpenActionContributor=B;var H=n.Registry.as(x.Extensions.Actionbar);H.registerActionBarContributor(x.Scope.VIEWER,B),n.Registry.as(s.Extensions.Quickopen).registerQuickOpenHandler(new s.QuickOpenHandlerDescriptor("vs/workbench/browser/parts/editor/editorPicker","GroupOnePicker",k.NAVIGATE_IN_GROUP_ONE_PREFIX,[{prefix:k.NAVIGATE_IN_GROUP_ONE_PREFIX,needsEditor:!1,description:i.localize(4,null)}])),n.Registry.as(s.Extensions.Quickopen).registerQuickOpenHandler(new s.QuickOpenHandlerDescriptor("vs/workbench/browser/parts/editor/editorPicker","GroupTwoPicker",k.NAVIGATE_IN_GROUP_TWO_PREFIX,[{prefix:k.NAVIGATE_IN_GROUP_TWO_PREFIX,needsEditor:!1,description:i.localize(5,null)}])),n.Registry.as(s.Extensions.Quickopen).registerQuickOpenHandler(new s.QuickOpenHandlerDescriptor("vs/workbench/browser/parts/editor/editorPicker","GroupThreePicker",k.NAVIGATE_IN_GROUP_THREE_PREFIX,[{prefix:k.NAVIGATE_IN_GROUP_THREE_PREFIX,needsEditor:!1,description:i.localize(6,null)}])),n.Registry.as(s.Extensions.Quickopen).registerQuickOpenHandler(new s.QuickOpenHandlerDescriptor("vs/workbench/browser/parts/editor/editorPicker","AllEditorsPicker",k.NAVIGATE_ALL_EDITORS_GROUP_PREFIX,[{prefix:k.NAVIGATE_ALL_EDITORS_GROUP_PREFIX,needsEditor:!1,description:i.localize(7,null)}]));var z=i.localize(8,null);V.registerWorkbenchAction(new A.SyncActionDescriptor(k.OpenNextEditorInGroup,k.OpenNextEditorInGroup.ID,k.OpenNextEditorInGroup.LABEL),"View: Open Next Editor in Group",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.OpenPreviousEditorInGroup,k.OpenPreviousEditorInGroup.ID,k.OpenPreviousEditorInGroup.LABEL),"View: Open Next Recently Used Editor in Group",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.OpenNextRecentlyUsedEditorInGroupAction,k.OpenNextRecentlyUsedEditorInGroupAction.ID,k.OpenNextRecentlyUsedEditorInGroupAction.LABEL,{primary:32770,mac:{primary:4098}}),"Open Next Recently Used Editor in Group"),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.OpenPreviousRecentlyUsedEditorInGroupAction,k.OpenPreviousRecentlyUsedEditorInGroupAction.ID,k.OpenPreviousRecentlyUsedEditorInGroupAction.LABEL,{primary:49154,mac:{primary:20482}}),"Open Previous Recently Used Editor in Group"),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.ShowAllEditorsAction,k.ShowAllEditorsAction.ID,k.ShowAllEditorsAction.LABEL,{primary:L.KeyChord(32809,32814),mac:{primary:40962}}),"View: Show All Editors",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.ShowEditorsInGroupOneAction,k.ShowEditorsInGroupOneAction.ID,k.ShowEditorsInGroupOneAction.LABEL),"View: Show Editors in First Group",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.ShowEditorsInGroupTwoAction,k.ShowEditorsInGroupTwoAction.ID,k.ShowEditorsInGroupTwoAction.LABEL),"View: Show Editors in Second Group",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.ShowEditorsInGroupThreeAction,k.ShowEditorsInGroupThreeAction.ID,k.ShowEditorsInGroupThreeAction.LABEL),"View: Show Editors in Third Group",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.OpenNextEditor,k.OpenNextEditor.ID,k.OpenNextEditor.LABEL,{primary:32780,mac:{primary:40977}}),"View: Open Next Editor",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.OpenPreviousEditor,k.OpenPreviousEditor.ID,k.OpenPreviousEditor.LABEL,{primary:32779,mac:{primary:40975}}),"View: Open Previous Editor",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.ReopenClosedEditorAction,k.ReopenClosedEditorAction.ID,k.ReopenClosedEditorAction.LABEL,{primary:49202}),"View: Reopen Closed Editor",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.KeepEditorAction,k.KeepEditorAction.ID,k.KeepEditorAction.LABEL,{primary:L.KeyChord(32809,3)}),"View: Keep Editor",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.CloseAllEditorsAction,k.CloseAllEditorsAction.ID,k.CloseAllEditorsAction.LABEL,{primary:L.KeyChord(32809,32821)}),"View: Close All Editors",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.CloseLeftEditorsInGroupAction,k.CloseLeftEditorsInGroupAction.ID,k.CloseLeftEditorsInGroupAction.LABEL),"View: Close Editors to the Left",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.CloseRightEditorsInGroupAction,k.CloseRightEditorsInGroupAction.ID,k.CloseRightEditorsInGroupAction.LABEL),"View: Close Editors to the Right",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.CloseEditorsInGroupAction,k.CloseEditorsInGroupAction.ID,k.CloseEditorsInGroupAction.LABEL,{primary:L.KeyChord(32809,53)}),"View: Close All Editors in Group",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.CloseOtherEditorsInGroupAction,k.CloseOtherEditorsInGroupAction.ID,k.CloseOtherEditorsInGroupAction.LABEL,{primary:null,mac:{primary:41010}}),"View: Close Other Editors",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.CloseEditorsInOtherGroupsAction,k.CloseEditorsInOtherGroupsAction.ID,k.CloseEditorsInOtherGroupsAction.LABEL),"View: Close Editors in Other Groups",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.SplitEditorAction,k.SplitEditorAction.ID,k.SplitEditorAction.LABEL,{primary:32856}),"View: Split Editor",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.NavigateBetweenGroupsAction,k.NavigateBetweenGroupsAction.ID,k.NavigateBetweenGroupsAction.LABEL),"View: Navigate Between Editor Groups",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.FocusActiveGroupAction,k.FocusActiveGroupAction.ID,k.FocusActiveGroupAction.LABEL),"View: Focus Active Editor Group",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.FocusFirstGroupAction,k.FocusFirstGroupAction.ID,k.FocusFirstGroupAction.LABEL,{primary:32790}),"View: Focus First Editor Group",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.FocusSecondGroupAction,k.FocusSecondGroupAction.ID,k.FocusSecondGroupAction.LABEL,{primary:32791}),"View: Focus Second Editor Group",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.FocusThirdGroupAction,k.FocusThirdGroupAction.ID,k.FocusThirdGroupAction.LABEL,{primary:32792}),"View: Focus Third Editor Group",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.FocusLastEditorInStackAction,k.FocusLastEditorInStackAction.ID,k.FocusLastEditorInStackAction.LABEL,{primary:8213,mac:{primary:4117}}),"View: Focus Last Editor in Group",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.EvenGroupWidthsAction,k.EvenGroupWidthsAction.ID,k.EvenGroupWidthsAction.LABEL),"View: Even Editor Group Widths",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.MaximizeGroupAction,k.MaximizeGroupAction.ID,k.MaximizeGroupAction.LABEL),"View: Maximize Editor Group and Hide Sidebar",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.MinimizeOtherGroupsAction,k.MinimizeOtherGroupsAction.ID,k.MinimizeOtherGroupsAction.LABEL),"View: Minimize Other Editor Groups",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.MoveEditorLeftInGroupAction,k.MoveEditorLeftInGroupAction.ID,k.MoveEditorLeftInGroupAction.LABEL,{primary:49163,mac:{primary:L.KeyChord(32809,49167)}}),"View: Move Editor Left",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.MoveEditorRightInGroupAction,k.MoveEditorRightInGroupAction.ID,k.MoveEditorRightInGroupAction.LABEL,{primary:49164,mac:{primary:L.KeyChord(32809,49169)}}),"View: Move Editor Right",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.MoveGroupLeftAction,k.MoveGroupLeftAction.ID,k.MoveGroupLeftAction.LABEL,{primary:L.KeyChord(32809,15)}),"View: Move Editor Group Left",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.MoveGroupRightAction,k.MoveGroupRightAction.ID,k.MoveGroupRightAction.LABEL,{primary:L.KeyChord(32809,17)}),"View: Move Editor Group Right",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.MoveEditorToPreviousGroupAction,k.MoveEditorToPreviousGroupAction.ID,k.MoveEditorToPreviousGroupAction.LABEL,{primary:40975,mac:{primary:36879}}),"View: Move Editor into Previous Group",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.MoveEditorToNextGroupAction,k.MoveEditorToNextGroupAction.ID,k.MoveEditorToNextGroupAction.LABEL,{primary:40977,mac:{primary:36881}}),"View: Move Editor into Next Group",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.FocusPreviousGroup,k.FocusPreviousGroup.ID,k.FocusPreviousGroup.LABEL,{primary:L.KeyChord(32809,32783)}),"View: Focus Previous Group",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.FocusNextGroup,k.FocusNextGroup.ID,k.FocusNextGroup.LABEL,{primary:L.KeyChord(32809,32785)}),"View: Focus Next Group",z),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.NavigateForwardAction,k.NavigateForwardAction.ID,k.NavigateForwardAction.LABEL,{primary:null,win:{primary:8209},mac:{primary:20563},linux:{primary:49235}}),"Go Forward"),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.NavigateBackwardsAction,k.NavigateBackwardsAction.ID,k.NavigateBackwardsAction.LABEL,{primary:null,win:{primary:8207},mac:{primary:4179},linux:{primary:41043}}),"Go Back"),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.OpenPreviousEditorFromHistoryAction,k.OpenPreviousEditorFromHistoryAction.ID,k.OpenPreviousEditorFromHistoryAction.LABEL),"Open Previous Editor from History"),V.registerWorkbenchAction(new A.SyncActionDescriptor(k.ClearEditorHistoryAction,k.ClearEditorHistoryAction.ID,k.ClearEditorHistoryAction.LABEL),"Clear Editor History");for(var U=function(e){var t=e,n=e+1;S.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.openEditorAtIndex"+n,weight:S.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:void 0,primary:8192|R(n),mac:{primary:4096|R(n)},handler:function(e){var n=e.get(_.IWorkbenchEditorService),i=e.get(w.IEditorGroupService),r=n.getActiveEditor();if(r){var o=i.getStacksModel().groupAt(r.position),s=o.getEditor(t);if(s)return n.openEditor(s)}}})},G=0;G<9;G++)U(G);P.setup()}),define(l[65],h([1,0,481,2,8,7,14,29,24,43,68,257,176,5,149,53,22,285]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S){"use strict";function E(e){var t=document.createElement("div");return e.appendChild(t),t}function _(e,t){e&&(t?a.$(e.getHTMLElement()).show():a.$(e.getHTMLElement()).hide(),t?e.onVisible():e.onHidden())}function C(e){if(e){var t=e.getSelection();t.length>0&&w(e,t[0],.5).done(null,o.onUnexpectedError),e.DOMFocus()}}function w(e,t,n){return e?e.reveal(t,n):i.TPromise.as(null)}var I=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getOptimalWidth=function(){return null},t}(S.Composite);t.Viewlet=I;var T=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.create=function(t){var n=this;return e.prototype.create.call(this,t),this.viewerContainer=t.div(),this.viewer=this.createViewer(this.viewerContainer),this.toUnbind.push(this.viewer.addListener2("selection",function(e){return n.onSelection(e)})),this.toUnbind.push(this.viewer.addListener2("focus",function(e){return n.onFocus(e)})),i.TPromise.as(null)},t.prototype.getViewer=function(){return this.viewer},t.prototype.setVisible=function(t){var n;return t?(n=e.prototype.setVisible.call(this,t),this.getViewer().onVisible()):(this.getViewer().onHidden(),n=e.prototype.setVisible.call(this,t)),n},t.prototype.focus=function(){if(this.viewer){var e=this.viewer.getSelection();e.length>0&&this.reveal(e[0],.5).done(null,o.onUnexpectedError),this.viewer.DOMFocus()}},t.prototype.reveal=function(e,t){return this.viewer?(this.wasLayouted||this.viewer.layout(),this.viewer.reveal(e,t)):i.TPromise.as(null)},t.prototype.layout=function(e){this.viewer&&(this.wasLayouted=!0,this.viewer.layout(e.height))},t.prototype.getControl=function(){return this.viewer},t.prototype.dispose=function(){this.viewer&&this.viewer.dispose(),e.prototype.dispose.call(this)},t}(I);t.ViewerViewlet=T;var x=function(e){function t(t,n,i,r,o,s,a){e.call(this,t,n,i,r,o,s),this._extensionId=a,a&&this.appendStaticArguments([i])}return d(t,e),Object.defineProperty(t.prototype,"extensionId",{get:function(){return this._extensionId},enumerable:!0,configurable:!0}),t}(S.CompositeDescriptor);t.ViewletDescriptor=x,t.Extensions={Viewlets:"workbench.contributions.viewlets"};var A=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.registerViewlet=function(t){e.prototype.registerComposite.call(this,t);
},t.prototype.getViewlet=function(e){return this.getComposite(e)},t.prototype.getViewlets=function(){return this.getComposits()},t.prototype.setDefaultViewletId=function(e){this.defaultViewletId=e},t.prototype.getDefaultViewletId=function(){return this.defaultViewletId},t}(S.CompositeRegistry);t.ViewletRegistry=A,s.Registry.add(t.Extensions.Viewlets,new A);var D=function(e){function t(t,n,i,r,o){e.call(this,t,n),this.viewletService=r,this.editorService=o,this.viewletId=i,this.enabled=!!this.viewletService&&!!this.editorService}return d(t,e),t.prototype.run=function(){if(this.otherViewletShowing()||!this.sidebarHasFocus())return this.viewletService.openViewlet(this.viewletId,!0);var e=this.editorService.getActiveEditor();return e&&e.focus(),i.TPromise.as(!0)},t.prototype.otherViewletShowing=function(){var e=this.viewletService.getActiveViewlet();return!e||e.getId()!==this.viewletId},t.prototype.sidebarHasFocus=function(){var e=this.viewletService.getActiveViewlet(),t=document.activeElement;return e&&t&&r.isAncestor(t,e.getContainer().getHTMLElement())},t=g([v(3,y.IViewletService),v(4,b.IWorkbenchEditorService)],t)}(c.Action);t.ToggleViewletAction=D;var L=function(e){function t(t,r,o){e.call(this,"workbench.action.collapse",n.localize(0,null),o,r,function(e){return t.getHighlight()?i.TPromise.as(null):(t.collapseAll(),t.clearSelection(),t.clearFocus(),t.DOMFocus(),t.focusFirst(),i.TPromise.as(null))})}return d(t,e),t}(c.Action);t.CollapseAction=L;var k=function(e){function t(t,n,i,r,o,s){e.call(this,{expandedBodySize:n,headerSize:22,initialState:i?m.CollapsibleState.COLLAPSED:m.CollapsibleState.EXPANDED,ariaHeaderLabel:r}),this.viewName=r,this.keybindingService=o,this.contextMenuService=s,this.actionRunner=t,this.toDispose=[]}return d(t,e),t.prototype.create=function(){return i.TPromise.as(null)},t.prototype.renderHeader=function(e){var t=this;this.toolBar=new h.ToolBar(a.$("div.actions").appendTo(e).getHTMLElement(),this.contextMenuService,{orientation:u.ActionsOrientation.HORIZONTAL,actionItemProvider:function(e){return t.getActionItem(e)},ariaLabel:n.localize(1,null,this.viewName),getKeyBinding:function(e){var n=t.keybindingService.lookupKeybindings(e.id);return n.length>0?n[0]:null},getKeyBindingLabel:function(e){return t.keybindingService.getLabelFor(e)}}),this.toolBar.actionRunner=this.actionRunner,this.toolBar.setActions(l.prepareActions(this.getActions()),l.prepareActions(this.getSecondaryActions()))(),this.dragHandler=new p.DelayedDragHandler(e,function(){t.isExpanded()||t.expand()})},t.prototype.changeState=function(t){_(this.tree,t===m.CollapsibleState.EXPANDED),e.prototype.changeState.call(this,t)},t.prototype.renderViewTree=function(e){return E(e)},t.prototype.getViewer=function(){return this.tree},t.prototype.setVisible=function(e){return this.isVisible=e,_(this.tree,e&&this.state===m.CollapsibleState.EXPANDED),i.TPromise.as(null)},t.prototype.focusBody=function(){C(this.tree)},t.prototype.reveal=function(e,t){return w(this.tree,e,t)},t.prototype.layoutBody=function(e){this.treeContainer.style.height=e+"px",this.tree.layout(e)},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.getActionItem=function(e){return null},t.prototype.shutdown=function(){},t.prototype.dispose=function(){this.isDisposed=!0,this.treeContainer=null,this.tree.dispose(),this.dragHandler.dispose(),this.toDispose=f.dispose(this.toDispose),this.toolBar&&this.toolBar.dispose(),e.prototype.dispose.call(this)},t}(m.FixedCollapsibleView);t.AdaptiveCollapsibleViewletView=k;var P=function(e){function t(t,n,i,r,o,s,a){e.call(this,{minimumSize:44,initialState:n?m.CollapsibleState.COLLAPSED:m.CollapsibleState.EXPANDED,ariaHeaderLabel:i,headerSize:a}),this.viewName=i,this.messageService=r,this.keybindingService=o,this.contextMenuService=s,this.actionRunner=t,this.toDispose=[]}return d(t,e),t.prototype.changeState=function(t){_(this.tree,t===m.CollapsibleState.EXPANDED),e.prototype.changeState.call(this,t)},t.prototype.create=function(){return i.TPromise.as(null)},t.prototype.renderHeader=function(e){var t=this;this.toolBar=new h.ToolBar(a.$("div.actions").appendTo(e).getHTMLElement(),this.contextMenuService,{orientation:u.ActionsOrientation.HORIZONTAL,actionItemProvider:function(e){return t.getActionItem(e)},ariaLabel:n.localize(2,null,this.viewName),getKeyBinding:function(e){var n=t.keybindingService.lookupKeybindings(e.id);return n.length>0?n[0]:null},getKeyBindingLabel:function(e){return t.keybindingService.getLabelFor(e)}}),this.toolBar.actionRunner=this.actionRunner,this.toolBar.setActions(l.prepareActions(this.getActions()),l.prepareActions(this.getSecondaryActions()))(),this.dragHandler=new p.DelayedDragHandler(e,function(){t.isExpanded()||t.expand()})},t.prototype.renderViewTree=function(e){return E(e)},t.prototype.getViewer=function(){return this.tree},t.prototype.setVisible=function(e){return this.isVisible=e,_(this.tree,e&&this.state===m.CollapsibleState.EXPANDED),i.TPromise.as(null)},t.prototype.focusBody=function(){C(this.tree)},t.prototype.reveal=function(e,t){return w(this.tree,e,t)},t.prototype.layoutBody=function(e){this.treeContainer.style.height=e+"px",this.tree.layout(e)},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.getActionItem=function(e){return null},t.prototype.shutdown=function(){},t.prototype.dispose=function(){this.isDisposed=!0,this.treeContainer=null,this.tree.dispose(),this.dragHandler&&this.dragHandler.dispose(),this.toDispose=f.dispose(this.toDispose),this.toolBar&&this.toolBar.dispose(),e.prototype.dispose.call(this)},t}(m.CollapsibleView);t.CollapsibleViewletView=P}),define(l[1167],h([1,0,494,2,52,15,10,27,23,82,76,53]),function(e,t,n,i,r,o,s,a,c,u,l,h){"use strict";var p=(function(e){function t(){e.call(this,{id:"editor.debug.action.toggleBreakpoint",label:n.localize(0,null),alias:"Debug: Toggle Breakpoint",precondition:null,kbOpts:{kbExpr:s.EditorContextKeys.TextFocus,primary:67}})}return d(t,e),t.prototype.run=function(e,t){var n=e.get(u.IDebugService),i=t.getPosition().lineNumber,r=t.getModel().uri,o=n.getModel().getBreakpoints().filter(function(e){return e.lineNumber===i&&e.uri.toString()===r.toString()}).pop();return o?n.removeBreakpoints(o.getId()):n.getConfigurationManager().canSetBreakpointsIn(t.getModel())?n.addBreakpoints(r,[{lineNumber:i}]):void 0},t=g([a.editorAction],t)}(a.EditorAction),function(e){function t(){e.call(this,{id:"editor.debug.action.conditionalBreakpoint",label:n.localize(1,null),alias:"Debug: Add Conditional Breakpoint...",precondition:null})}return d(t,e),t.prototype.run=function(e,t){var n=e.get(u.IDebugService),i=t.getPosition().lineNumber;n.getConfigurationManager().canSetBreakpointsIn(t.getModel())&&t.getContribution(u.EDITOR_CONTRIBUTION_ID).showBreakpointWidget(i)},t=g([a.editorAction],t)}(a.EditorAction),function(e){function t(){e.call(this,{id:"editor.debug.action.runToCursor",label:n.localize(2,null),alias:"Debug: Run to Cursor",precondition:c.ContextKeyExpr.and(u.CONTEXT_IN_DEBUG_MODE,u.CONTEXT_NOT_IN_DEBUG_REPL),menuOpts:{group:"debug",order:2}})}return d(t,e),t.prototype.run=function(e,t){var n=e.get(u.IDebugService);if(n.state!==u.State.Stopped)return i.TPromise.as(null);var r=t.getPosition().lineNumber,o=t.getModel().uri,s=n.getViewModel().focusedProcess.session.onDidEvent(function(e){if("stopped"===e.event||"exit"===e.event){var t=n.getModel().getBreakpoints().filter(function(e){return e.lineNumber===r&&e.uri.toString()===o.toString()}).pop();t&&n.removeBreakpoints(t.getId()),s.dispose()}}),a=!!n.getModel().getBreakpoints().filter(function(e){return e.lineNumber===r&&e.uri.toString()===o.toString()}).pop();return(a?i.TPromise.as(null):n.addBreakpoints(o,[{lineNumber:r}])).then(function(){n.getViewModel().focusedThread.continue()})},t=g([a.editorAction],t)}(a.EditorAction),function(e){function t(){e.call(this,{id:"editor.debug.action.selectionToRepl",label:n.localize(3,null),alias:"Debug: Evaluate",precondition:c.ContextKeyExpr.and(s.EditorContextKeys.HasNonEmptySelection,u.CONTEXT_IN_DEBUG_MODE,u.CONTEXT_NOT_IN_DEBUG_REPL),menuOpts:{group:"debug",order:0}})}return d(t,e),t.prototype.run=function(e,t){var n=e.get(u.IDebugService),i=e.get(l.IPanelService),r=t.getModel().getValueInRange(t.getSelection());return n.addReplExpression(r).then(function(){return i.openPanel(u.REPL_ID,!0)}).then(function(e){})},t=g([a.editorAction],t)}(a.EditorAction),function(e){function t(){e.call(this,{id:"editor.debug.action.selectionToWatch",label:n.localize(4,null),alias:"Debug: Add to Watch",precondition:c.ContextKeyExpr.and(s.EditorContextKeys.HasNonEmptySelection,u.CONTEXT_IN_DEBUG_MODE,u.CONTEXT_NOT_IN_DEBUG_REPL),menuOpts:{group:"debug",order:1}})}return d(t,e),t.prototype.run=function(e,t){var n=e.get(u.IDebugService),i=e.get(h.IViewletService),r=t.getModel().getValueInRange(t.getSelection());return i.openViewlet(u.VIEWLET_ID).then(function(){return n.addWatchExpression(r)})},t=g([a.editorAction],t)}(a.EditorAction),function(e){function t(){e.call(this,{id:"editor.debug.action.showDebugHover",label:n.localize(5,null),alias:"Debug: Show Hover",precondition:u.CONTEXT_IN_DEBUG_MODE,kbOpts:{kbExpr:s.EditorContextKeys.TextFocus,primary:r.KeyChord(32809,32807)}})}return d(t,e),t.prototype.run=function(e,t){var n=t.getPosition(),r=t.getModel().getWordAtPosition(n);if(!r)return i.TPromise.as(null);var s=new o.Range(n.lineNumber,n.column,n.lineNumber,r.endColumn);return t.getContribution(u.EDITOR_CONTRIBUTION_ID).showHover(s,r.word,!0)},t=g([a.editorAction],t)}(a.EditorAction),function(e){function t(){e.call(this,{id:"closeBreakpointWidget",precondition:u.CONTEXT_BREAKPOINT_WIDGET_VISIBLE,kbOpts:{weight:a.CommonEditorRegistry.commandWeight(8),kbExpr:s.EditorContextKeys.Focus,primary:9,secondary:[16393]}})}return d(t,e),t.prototype.runEditorCommand=function(e,t,n){return t.getContribution(u.EDITOR_CONTRIBUTION_ID).closeBreakpointWidget()},t}(a.EditorCommand));a.CommonEditorRegistry.registerEditorCommand(new p)}),define(l[1168],h([1,0,496,29,2,5,149,146,65,82,294,116,296,6,123,26,19,38,763]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S){"use strict";var E=function(e){function t(t,n,i,r,o,s){var c=this;e.call(this,u.VIEWLET_ID,t),this.progressService=n,this.debugService=i,this.instantiationService=r,this.contextService=o,this.progressRunner=null,this.viewletSettings=this.getMemento(s,a.Scope.WORKSPACE),this.toDispose=[],this.views=[],this.toDispose.push(this.debugService.onDidChangeState(function(){c.onDebugServiceStateChange()}))}return d(t,e),t.prototype.create=function(t){var o=this;if(e.prototype.create.call(this,t),this.$el=t.div().addClass("debug-viewlet"),this.contextService.getWorkspace()){var a=this.getActionRunner();this.views=l.DebugViewRegistry.getDebugViews().map(function(e){return o.instantiationService.createInstance(e,a,o.viewletSettings)}),this.splitView=new s.SplitView(this.$el.getHTMLElement()),this.toDispose.push(this.splitView),this.views.forEach(function(e){return o.splitView.addView(e)}),this.toDispose.push(this.splitView.onFocus(function(e){o.lastFocusedView=e}))}else this.$el.append(i.$(['<div class="noworkspace-view">',"<p>",n.localize(0,null),"</p>","<p>",n.localize(1,null),"</p>","</div>"].join("")));return r.TPromise.as(null)},t.prototype.setVisible=function(t){var n=this;return e.prototype.setVisible.call(this,t).then(function(){return r.TPromise.join(n.views.map(function(e){return e.setVisible(t)}))})},t.prototype.layout=function(e){this.splitView&&this.splitView.layout(e.height)},t.prototype.focus=function(){return e.prototype.focus.call(this),this.lastFocusedView&&this.lastFocusedView.isExpanded()?void this.lastFocusedView.focusBody():void(this.views.length>0&&this.views[0].focusBody())},t.prototype.getActions=function(){var e=this;return this.debugService.state===u.State.Disabled?[]:(this.actions||(this.actions=[this.instantiationService.createInstance(h.StartAction,h.StartAction.ID,h.StartAction.LABEL),this.instantiationService.createInstance(h.ConfigureAction,h.ConfigureAction.ID,h.ConfigureAction.LABEL),this.instantiationService.createInstance(h.ToggleReplAction,h.ToggleReplAction.ID,h.ToggleReplAction.LABEL)],this.actions.forEach(function(t){e.toDispose.push(t)})),this.actions)},t.prototype.getActionItem=function(e){return e.id===h.StartAction.ID?this.instantiationService.createInstance(p.StartDebugActionItem,null,e):null},t.prototype.onDebugServiceStateChange=function(){this.progressRunner&&this.progressRunner.done(),this.debugService.state===u.State.Initializing?this.progressRunner=this.progressService.show(!0):this.progressRunner=null},t.prototype.dispose=function(){this.toDispose=o.dispose(this.toDispose),e.prototype.dispose.call(this)},t.prototype.shutdown=function(){this.views.forEach(function(e){return e.shutdown()}),e.prototype.shutdown.call(this)},t=g([v(0,b.ITelemetryService),v(1,m.IProgressService),v(2,u.IDebugService),v(3,f.IInstantiationService),v(4,y.IWorkspaceContextService),v(5,S.IStorageService)],t)}(c.Viewlet);t.DebugViewlet=E}),define(l[1169],h([1,0,504,20,17,8,29,2,7,109,68,111,149,65,82,151,252,116,39,6,31,19,18,36]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T){"use strict";function x(e){var t=document.createElement("div");return o.addClass(t,"debug-view-content"),e.appendChild(t),t}var A=s.$,D=20,L=function(e){function t(i,o,s,a,u,l,h,d){var p=this;e.call(this,i,!!o[t.MEMENTO],n.localize(0,null),s,h,a),this.settings=o,this.telemetryService=u,this.debugService=l,this.instantiationService=d,this.onFocusStackFrameScheduler=new r.RunOnceScheduler(function(){p.tree.clearHighlight(),p.tree.refresh().then(function(){var e=p.debugService.getViewModel().focusedStackFrame;if(e)return e.getScopes().then(function(e){if(e.length>0&&!e[0].expensive)return p.tree.expand(e[0])})}).done(null,c.onUnexpectedError)},700)}return d(t,e),t.prototype.renderHeader=function(t){var i=A("div.title").appendTo(t);A("span").text(n.localize(1,null)).appendTo(i),e.prototype.renderHeader.call(this,t)},t.prototype.renderBody=function(e){var t=this;o.addClass(e,"debug-variables"),this.treeContainer=x(e),this.tree=new h.Tree(this.treeContainer,{dataSource:new b.VariablesDataSource,renderer:this.instantiationService.createInstance(b.VariablesRenderer),accessibilityProvider:new b.VariablesAccessibilityProvider,controller:this.instantiationService.createInstance(b.VariablesController,new b.VariablesActionProvider(this.instantiationService),C.MenuId.DebugVariablesContext)},{ariaLabel:n.localize(2,null),twistiePixels:D});var i=this.debugService.getViewModel();this.tree.setInput(i);var r=this.instantiationService.createInstance(f.CollapseAction,this.tree,!1,"explorer-action collapse-explorer");this.toolBar.setActions(l.prepareActions([r]))(),this.toDispose.push(i.onDidFocusStackFrame(function(e){e?t.onFocusStackFrameScheduler.schedule(0):t.onFocusStackFrameScheduler.isScheduled()||t.onFocusStackFrameScheduler.schedule()})),this.toDispose.push(this.debugService.onDidChangeState(function(){var e=t.debugService.state;r.enabled=e===m.State.Running||e===m.State.Stopped})),this.toDispose.push(this.debugService.getViewModel().onDidSelectExpression(function(e){e&&e instanceof y.Variable&&t.tree.refresh(e,!1).then(function(){t.tree.setHighlight(e),t.tree.addOneTimeDisposableListener(u.EventType.HIGHLIGHT,function(e){e.highlight||t.debugService.getViewModel().setSelectedExpression(null)})}).done(null,c.onUnexpectedError)}))},t.prototype.shutdown=function(){this.settings[t.MEMENTO]=this.state===p.CollapsibleState.COLLAPSED,e.prototype.shutdown.call(this)},t.MEMENTO="variablesview.memento",t=g([v(2,I.IMessageService),v(3,E.IContextMenuService),v(4,w.ITelemetryService),v(5,m.IDebugService),v(6,T.IKeybindingService),v(7,_.IInstantiationService)],t)}(f.CollapsibleViewletView);t.VariablesView=L;var k=function(e){function t(i,o,s,u,l,h,d){var p=this;e.call(this,i,!!o[t.MEMENTO],n.localize(3,null),s,h,u),this.settings=o,this.debugService=l,this.instantiationService=d,this.toDispose.push(this.debugService.getModel().onDidChangeWatchExpressions(function(e){e instanceof y.Expression&&p.expand()})),this.onWatchExpressionsUpdatedScheduler=new r.RunOnceScheduler(function(){p.tree.refresh().done(function(){return p.toReveal instanceof y.Expression?p.tree.reveal(p.toReveal):a.TPromise.as(!0)},c.onUnexpectedError)},50)}return d(t,e),t.prototype.renderHeader=function(t){var i=A("div.title").appendTo(t);A("span").text(n.localize(4,null)).appendTo(i),e.prototype.renderHeader.call(this,t)},t.prototype.renderBody=function(e){var t=this;o.addClass(e,"debug-watch"),this.treeContainer=x(e);var i=new b.WatchExpressionsActionProvider(this.instantiationService);this.tree=new h.Tree(this.treeContainer,{dataSource:new b.WatchExpressionsDataSource,renderer:this.instantiationService.createInstance(b.WatchExpressionsRenderer,i,this.actionRunner),accessibilityProvider:new b.WatchExpressionsAccessibilityProvider,controller:this.instantiationService.createInstance(b.WatchExpressionsController,i,C.MenuId.DebugWatchContext),dnd:this.instantiationService.createInstance(b.WatchExpressionsDragAndDrop)},{ariaLabel:n.localize(5,null),twistiePixels:D}),this.tree.setInput(this.debugService.getModel());var r=this.instantiationService.createInstance(S.AddWatchExpressionAction,S.AddWatchExpressionAction.ID,S.AddWatchExpressionAction.LABEL),s=this.instantiationService.createInstance(f.CollapseAction,this.tree,!0,"explorer-action collapse-explorer"),a=this.instantiationService.createInstance(S.RemoveAllWatchExpressionsAction,S.RemoveAllWatchExpressionsAction.ID,S.RemoveAllWatchExpressionsAction.LABEL);this.toolBar.setActions(l.prepareActions([r,s,a]))(),this.toDispose.push(this.debugService.getModel().onDidChangeWatchExpressions(function(e){t.onWatchExpressionsUpdatedScheduler.isScheduled()||t.onWatchExpressionsUpdatedScheduler.schedule(),t.toReveal=e})),this.toDispose.push(this.debugService.getViewModel().onDidSelectExpression(function(e){e&&e instanceof y.Expression&&t.tree.refresh(e,!1).then(function(){t.tree.setHighlight(e),t.tree.addOneTimeDisposableListener(u.EventType.HIGHLIGHT,function(e){e.highlight||t.debugService.getViewModel().setSelectedExpression(null)})}).done(null,c.onUnexpectedError)}))},t.prototype.shutdown=function(){this.settings[t.MEMENTO]=this.state===p.CollapsibleState.COLLAPSED,e.prototype.shutdown.call(this)},t.MEMENTO="watchexpressionsview.memento",t=g([v(2,I.IMessageService),v(3,E.IContextMenuService),v(4,m.IDebugService),v(5,T.IKeybindingService),v(6,_.IInstantiationService)],t)}(f.CollapsibleViewletView);t.WatchExpressionsView=k;var P=function(e){function t(i,o,s,a,u,l,h,d){var p=this;e.call(this,i,!!o[t.MEMENTO],n.localize(6,null),s,h,a),this.settings=o,this.telemetryService=u,this.debugService=l,this.instantiationService=d,this.onCallStackChangeScheduler=new r.RunOnceScheduler(function(){var e=p.debugService.getModel(),t=p.debugService.getModel().getProcesses();if(!p.debugService.getViewModel().isMultiProcessView()&&t.length){var i=t[0].getAllThreads();e=1===i.length?i[0]:t[0]}e instanceof y.Thread&&e.stoppedDetails?(p.pauseMessageLabel.text(n.localize(7,null,e.stoppedDetails.reason)),e.stoppedDetails.text&&p.pauseMessageLabel.title(e.stoppedDetails.text),"exception"===e.stoppedDetails.reason?p.pauseMessageLabel.addClass("exception"):p.pauseMessageLabel.removeClass("exception"),p.pauseMessage.show()):p.pauseMessage.hide(),(p.tree.getInput()===e?p.tree.refresh():p.tree.setInput(e)).done(function(){var e=p.debugService.getViewModel().focusedStackFrame;if(e){var t=e.thread;return p.tree.expandAll([t.process,t]).done(function(){return p.tree.setSelection([e]),p.tree.reveal(e)})}},c.onUnexpectedError)},50)}return d(t,e),t.prototype.renderHeader=function(t){var i=A("div.debug-call-stack-title").appendTo(t);A("span.title").text(n.localize(8,null)).appendTo(i),this.pauseMessage=A("span.pause-message").appendTo(i),this.pauseMessage.hide(),this.pauseMessageLabel=A("span.label").appendTo(this.pauseMessage),e.prototype.renderHeader.call(this,t)},t.prototype.renderBody=function(e){var t=this;o.addClass(e,"debug-call-stack"),this.treeContainer=x(e);var i=this.instantiationService.createInstance(b.CallStackActionProvider);this.tree=new h.Tree(this.treeContainer,{dataSource:this.instantiationService.createInstance(b.CallStackDataSource),renderer:this.instantiationService.createInstance(b.CallStackRenderer),accessibilityProvider:this.instantiationService.createInstance(b.CallstackAccessibilityProvider),controller:this.instantiationService.createInstance(b.CallStackController,i,C.MenuId.DebugCallStackContext)},{ariaLabel:n.localize(9,null),twistiePixels:D}),this.toDispose.push(this.debugService.getModel().onDidChangeCallStack(function(){t.onCallStackChangeScheduler.isScheduled()||t.onCallStackChangeScheduler.schedule()})),this.debugService.state===m.State.Stopped&&this.onCallStackChangeScheduler.schedule()},t.prototype.shutdown=function(){this.settings[t.MEMENTO]=this.state===p.CollapsibleState.COLLAPSED,e.prototype.shutdown.call(this)},t.MEMENTO="callstackview.memento",t=g([v(2,I.IMessageService),v(3,E.IContextMenuService),v(4,w.ITelemetryService),v(5,m.IDebugService),v(6,T.IKeybindingService),v(7,_.IInstantiationService)],t)}(f.CollapsibleViewletView);t.CallStackView=P;var R=function(e){function t(i,r,o,s,a,c){var u=this;e.call(this,i,t.getExpandedBodySize(s.getModel().getBreakpoints().length+s.getModel().getFunctionBreakpoints().length+s.getModel().getExceptionBreakpoints().length),!!r[t.MEMENTO],n.localize(10,null),a,o),this.settings=r,this.debugService=s,this.instantiationService=c,this.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(function(){return u.onBreakpointsChange()}))}return d(t,e),t.prototype.renderHeader=function(t){var i=A("div.title").appendTo(t);A("span").text(n.localize(11,null)).appendTo(i),e.prototype.renderHeader.call(this,t)},t.prototype.renderBody=function(e){var t=this;o.addClass(e,"debug-breakpoints"),this.treeContainer=x(e);var r=new b.BreakpointsActionProvider(this.instantiationService);this.tree=new h.Tree(this.treeContainer,{dataSource:new b.BreakpointsDataSource,renderer:this.instantiationService.createInstance(b.BreakpointsRenderer,r,this.actionRunner),accessibilityProvider:this.instantiationService.createInstance(b.BreakpointsAccessibilityProvider),controller:this.instantiationService.createInstance(b.BreakpointsController,r,C.MenuId.DebugBreakpointsContext),sorter:{compare:function(e,t,n){var r=t,o=n;return r instanceof y.ExceptionBreakpoint?-1:o instanceof y.ExceptionBreakpoint?1:r instanceof y.FunctionBreakpoint?-1:o instanceof y.FunctionBreakpoint?1:r.uri.toString()!==o.uri.toString()?i.basename(r.uri.fsPath).localeCompare(i.basename(o.uri.fsPath)):r.lineNumber-o.lineNumber}}},{ariaLabel:n.localize(12,null),twistiePixels:D});var s=this.debugService.getModel();this.tree.setInput(s),this.toDispose.push(this.debugService.getViewModel().onDidSelectFunctionBreakpoint(function(e){e&&e instanceof y.FunctionBreakpoint&&t.tree.refresh(e,!1).then(function(){t.tree.setHighlight(e),t.tree.addOneTimeDisposableListener(u.EventType.HIGHLIGHT,function(e){e.highlight||t.debugService.getViewModel().setSelectedFunctionBreakpoint(null)})}).done(null,c.onUnexpectedError)}))},t.prototype.getActions=function(){return[this.instantiationService.createInstance(S.AddFunctionBreakpointAction,S.AddFunctionBreakpointAction.ID,S.AddFunctionBreakpointAction.LABEL),this.instantiationService.createInstance(S.ToggleBreakpointsActivatedAction,S.ToggleBreakpointsActivatedAction.ID,S.ToggleBreakpointsActivatedAction.ACTIVATE_LABEL),this.instantiationService.createInstance(S.RemoveAllBreakpointsAction,S.RemoveAllBreakpointsAction.ID,S.RemoveAllBreakpointsAction.LABEL)]},t.prototype.onBreakpointsChange=function(){var e=this.debugService.getModel();this.expandedBodySize=t.getExpandedBodySize(e.getBreakpoints().length+e.getExceptionBreakpoints().length+e.getFunctionBreakpoints().length),this.tree&&this.tree.refresh()},t.getExpandedBodySize=function(e){return 22*Math.min(t.MAX_VISIBLE_FILES,e)},t.prototype.shutdown=function(){this.settings[t.MEMENTO]=this.state===p.CollapsibleState.COLLAPSED,e.prototype.shutdown.call(this)},t.MAX_VISIBLE_FILES=9,t.MEMENTO="breakopintsview.memento",t=g([v(2,E.IContextMenuService),v(3,m.IDebugService),v(4,T.IKeybindingService),v(5,_.IInstantiationService)],t)}(f.AdaptiveCollapsibleViewletView);t.BreakpointsView=R}),define(l[1170],h([1,0,531,20,8,14,104,219,921,102,65,303,71,37,31,53,22,766]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b){"use strict";u.registerSingleton(a.ITreeExplorerService,c.TreeExplorerService);var S={description:n.localize(0,null),type:"object",properties:{treeExplorerNodeProviderId:{description:n.localize(1,null),type:"string"},treeLabel:{description:n.localize(2,null),type:"string"},icon:{description:n.localize(3,null),type:"string"}}},E=function(e){function t(t,n,i,r){e.call(this,t,n,t,i,r)}return d(t,e),t=g([v(2,y.IViewletService),v(3,b.IWorkbenchEditorService)],t)}(l.ToggleViewletAction);t.OpenViewletAction=E;var _=function(){function e(){this.init()}return e.prototype.getId=function(){return"vs.explorers.extensionExplorers"},e.prototype.init=function(){s.ExtensionsRegistry.registerExtensionPoint("explorer",[],S).setHandler(function(e){for(var t=0,s=e;t<s.length;t++){var a=s[t],c=a.value,u=c.treeExplorerNodeProviderId,d=c.treeLabel,p=c.icon;if(h.isValidViewletId(u)){var g=h.toViewletId(u),v=h.toViewletCSSClass(u);if(p){var y=".monaco-workbench > .activitybar .monaco-action-bar .action-label."+v,b=i.join(a.description.extensionFolderPath,p);r.createCSSRule(y,"background-image: url('"+b+"')")}var S=o.Registry.as(f.Extensions.WorkbenchActions);S.registerWorkbenchAction(new m.SyncActionDescriptor(E,g,n.localize(4,null,d)),"View: Show {0}",n.localize(5,null)),o.Registry.as(l.Extensions.Viewlets).registerViewlet(new l.ViewletDescriptor("vs/workbench/parts/explorers/browser/treeExplorerViewlet","TreeExplorerViewlet",g,d,v,(-1),a.description.id))}else console.warn("Tree Explorer extension '"+d+"' has invalid id and failed to activate.")}})},e}();t.ExtensionExplorersContribtion=_,o.Registry.as(p.Extensions.Workbench).registerWorkbenchContribution(_)}),define(l[1171],h([1,0,534,2,8,29,26,65,18,36,39,6,219,111,305,923]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y){"use strict";var b=function(e){function t(t,i,r,o,s,a,c,u,l,h){e.call(this,r,!1,n.localize(0,null),s,a,c,o),this.viewletState=t,this.treeNodeProviderId=i,this.instantiationService=l,this.treeExplorerService=h,this.workspace=u.getWorkspace(),this.create()}return d(t,e),t.prototype.renderBody=function(t){this.treeContainer=e.prototype.renderViewTree.call(this,t),r.addClass(this.treeContainer,"tree-explorer-viewlet-tree-view"),this.tree=this.createViewer(o.$(this.treeContainer))},t.prototype.createViewer=function(e){var t=this.instantiationService.createInstance(m.TreeDataSource,this.treeNodeProviderId),n=this.instantiationService.createInstance(m.TreeRenderer,this.viewletState,this.actionRunner,e.getHTMLElement()),i=this.instantiationService.createInstance(m.TreeController,this.treeNodeProviderId),r=null,o=null,s=null,a=null;return new f.Tree(e.getHTMLElement(),{dataSource:t,renderer:n,controller:i,sorter:r,filter:o,dnd:s,accessibilityProvider:a})},t.prototype.getActions=function(){var e=this.instantiationService.createInstance(y.RefreshViewExplorerAction,this);return[e]},t.prototype.create=function(){return this.updateInput()},t.prototype.setVisible=function(t){return e.prototype.setVisible.call(this,t)},t.prototype.updateInput=function(){var e=this;return this.treeExplorerService.hasProvider(this.treeNodeProviderId)?this.treeExplorerService.provideRootNode(this.treeNodeProviderId).then(function(t){e.tree.setInput(t)}):(this.treeExplorerService.onTreeExplorerNodeProviderRegistered(function(t){if(e.treeNodeProviderId===t)return e.treeExplorerService.provideRootNode(e.treeNodeProviderId).then(function(t){e.tree.setInput(t)})}),i.TPromise.as(null))},t.prototype.getOptimalWidth=function(){var e=this.tree.getHTMLElement(),t=[].slice.call(e.querySelectorAll(".outline-item-label > a"));return r.getLargestChildWidth(e,t)},t=g([v(4,c.IMessageService),v(5,u.IKeybindingService),v(6,l.IContextMenuService),v(7,s.IWorkspaceContextService),v(8,h.IInstantiationService),v(9,p.ITreeExplorerService)],t)}(a.CollapsibleViewletView);t.TreeExplorerView=b}),define(l[1172],h([1,0,2,149,65,19,6,1171,305]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(e){function t(t,n,i){e.call(this,t,n),this.instantiationService=i,this.viewletState=new c.TreeExplorerViewletState,this.viewletId=t;var r=t.split(".");this.treeNodeProviderId=r[r.length-1]}return d(t,e),t.prototype.getId=function(){return this.viewletId},t.prototype.create=function(t){return e.prototype.create.call(this,t),this.viewletContainer=t.div(),this.addTreeView(),n.TPromise.as(null)},t.prototype.layout=function(e){this.view.layout(e.height,i.Orientation.VERTICAL)},t.prototype.setVisible=function(t){var n=this;return e.prototype.setVisible.call(this,t).then(function(){n.view.setVisible(t).done()})},t.prototype.getActions=function(){return this.view.getActions()},t.prototype.addTreeView=function(){var e=0;this.view=this.instantiationService.createInstance(a.TreeExplorerView,this.viewletState,this.treeNodeProviderId,this.getActionRunner(),e),this.view.render(this.viewletContainer.getHTMLElement(),i.Orientation.VERTICAL)},t.prototype.focus=function(){e.prototype.focus.call(this),this.view&&this.view.focusBody()},t.prototype.shutdown=function(){this.view&&this.view.shutdown(),e.prototype.shutdown.call(this)},t.prototype.dispose=function(){this.view&&(this.view=null,this.view.dispose()),e.prototype.dispose.call(this)},t=g([v(1,o.ITelemetryService),v(2,s.IInstantiationService)],t)}(r.Viewlet);t.TreeExplorerViewlet=u}),define(l[162],h([1,0,538,2,24,17,8,32,20,43,39,5,106,309,88,6,18,65,53,22,306,33,26,63,75,16,767]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A){"use strict";var D=function(e){function t(n){var i=this;e.call(this,"extensions.install",t.InstallLabel,t.Class,!1),this.extensionsWorkbenchService=n,this.disposables=[],this.disposables.push(this.extensionsWorkbenchService.onChange(function(){return i.update()})),this.update()}return d(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){return this.extension&&this.extension.type!==m.LocalExtensionType.System?(this.enabled=this.extensionsWorkbenchService.canInstall(this.extension)&&this.extension.state===p.ExtensionState.Uninstalled,void(this.extension.state===p.ExtensionState.Installing?(this.label=t.InstallingLabel,this.class=t.InstallingClass):(this.label=t.InstallLabel,this.class=t.Class))):(this.enabled=!1,this.class=t.Class,void(this.label=t.InstallLabel))},t.prototype.run=function(){return this.extensionsWorkbenchService.install(this.extension)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=h.dispose(this.disposables)},t.InstallLabel=n.localize(0,null),t.InstallingLabel=n.localize(1,null),t.Class="extension-action install",t.InstallingClass="extension-action install installing",t=g([v(0,p.IExtensionsWorkbenchService)],t)}(r.Action);t.InstallAction=D;var L=function(e){function t(n,i,r){var o=this;e.call(this,"extensions.uninstall",t.UninstallLabel,t.UninstallClass,!1),this.extensionsWorkbenchService=n,this.messageService=i,this.instantiationService=r,this.disposables=[],this.disposables.push(this.extensionsWorkbenchService.onChange(function(){return o.update()})),this.update()}return d(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=this;if(!this.extension)return void(this.enabled=!1);var n=this.extension.state;
if(n===p.ExtensionState.Uninstalling)return this.label=t.UninstallingLabel,this.class=t.UnInstallingClass,void(this.enabled=!1);this.label=t.UninstallLabel,this.class=t.UninstallClass;var i=this.extensionsWorkbenchService.local.filter(function(t){return t.identifier===e.extension.identifier});return i.length?i[0].type!==m.LocalExtensionType.User?void(this.enabled=!1):void(this.enabled=!0):void(this.enabled=!1)},t.prototype.run=function(){return this.extensionsWorkbenchService.uninstall(this.extension)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=h.dispose(this.disposables)},t.UninstallLabel=n.localize(2,null),t.UninstallingLabel=n.localize(3,null),t.UninstallClass="extension-action uninstall",t.UnInstallingClass="extension-action uninstall uninstalling",t=g([v(0,p.IExtensionsWorkbenchService),v(1,b.IMessageService),v(2,y.IInstantiationService)],t)}(r.Action);t.UninstallAction=L;var k=function(e){function t(t){e.call(this,"extensions.combinedInstall","","",!1),this.disposables=[],this.installAction=t.createInstance(D),this.uninstallAction=t.createInstance(L),this.disposables.push(this.installAction,this.uninstallAction),this.installAction.onDidChange(this.update,this,this.disposables),this.uninstallAction.onDidChange(this.update,this,this.disposables),this.update()}return d(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.installAction.extension=e,this.uninstallAction.extension=e},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.extension&&this.extension.type!==m.LocalExtensionType.System?this.installAction.enabled?(this.enabled=!0,this.label=this.installAction.label,this.class=this.installAction.class):this.uninstallAction.enabled?(this.enabled=!0,this.label=this.uninstallAction.label,this.class=this.uninstallAction.class):this.extension.state===p.ExtensionState.Installing?(this.enabled=!1,this.label=this.installAction.label,this.class=this.installAction.class):this.extension.state===p.ExtensionState.Uninstalling?(this.enabled=!1,this.label=this.uninstallAction.label,this.class=this.uninstallAction.class):(this.enabled=!1,this.label=this.installAction.label,this.class=this.installAction.class):(this.enabled=!1,this.class=t.NoExtensionClass)},t.prototype.run=function(){return this.installAction.enabled?this.installAction.run():this.uninstallAction.enabled?this.uninstallAction.run():i.TPromise.as(null)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=h.dispose(this.disposables)},t.NoExtensionClass="extension-action install no-extension",t=g([v(0,y.IInstantiationService)],t)}(r.Action);t.CombinedInstallAction=k;var P=function(e){function t(n){var i=this;e.call(this,"extensions.update",t.Label,t.DisabledClass,!1),this.extensionsWorkbenchService=n,this.disposables=[],this.disposables.push(this.extensionsWorkbenchService.onChange(function(){return i.update()})),this.update()}return d(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){if(!this.extension)return this.enabled=!1,this.class=t.DisabledClass,void(this.label=t.Label);if(this.extension.type!==m.LocalExtensionType.User)return this.enabled=!1,this.class=t.DisabledClass,void(this.label=t.Label);var e=this.extensionsWorkbenchService.canInstall(this.extension),i=this.extension.state===p.ExtensionState.Installed;this.enabled=e&&i&&this.extension.outdated,this.class=this.enabled?t.EnabledClass:t.DisabledClass,this.label=n.localize(5,null,this.extension.latestVersion)},t.prototype.run=function(){return this.extensionsWorkbenchService.install(this.extension)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=h.dispose(this.disposables)},t.EnabledClass="extension-action update",t.DisabledClass=t.EnabledClass+" disabled",t.Label=n.localize(4,null),t=g([v(0,p.IExtensionsWorkbenchService)],t)}(r.Action);t.UpdateAction=P;var R=function(e){function t(t,n,i){e.call(this,null,t,{icon:!0,label:!0}),this.menuActionGroups=n,this.contextMenuService=i,this.disposables=[];for(var r=0,o=n;r<o.length;r++){var s=o[r];this.disposables=this.disposables.concat(s)}}return d(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e;for(var t=0,n=this.menuActionGroups;t<n.length;t++)for(var i=n[t],r=0,o=i;r<o.length;r++){var s=o[r];s.extension=e}},enumerable:!0,configurable:!0}),t.prototype.showMenu=function(){var e=this.getActions(),t=s.getDomNodePagePosition(this.builder.getHTMLElement()),n={x:t.left,y:t.top+t.height+10};this.contextMenuService.showContextMenu({getAnchor:function(){return n},getActions:function(){return i.TPromise.wrap(e)}})},t.prototype.getActions=function(){for(var e=[],t=0,n=this.menuActionGroups;t<n.length;t++){var i=n[t],r=i.filter(function(e){return e.enabled});r.length>0&&(e=e.concat(r,[new u.Separator]))}return e.length?e.slice(0,e.length-1):e},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=h.dispose(this.disposables)},t}(u.ActionItem);t.DropDownMenuActionItem=R;var O=function(e){function t(t,i,r){e.call(this,t,[[i.createInstance(N,n.localize(6,null)),i.createInstance(F,n.localize(7,null)),i.createInstance(V,n.localize(8,null)),i.createInstance(B,n.localize(9,null))],[i.createInstance(L)]],r)}return d(t,e),t=g([v(1,y.IInstantiationService),v(2,l.IContextMenuService)],t)}(R);t.ManageExtensionActionItem=O;var M=function(e){function t(n,i,r,o){var s=this;e.call(this,t.ID),this.workspaceContextService=n,this.extensionsWorkbenchService=i,this.extensionEnablementService=r,this.instantiationService=o,this.disposables=[],this._actionItem=this.instantiationService.createInstance(O,this),this.disposables.push(this._actionItem),this.disposables.push(this.extensionsWorkbenchService.onChange(function(){return s.update()})),this.update()}return d(t,e),Object.defineProperty(t.prototype,"actionItem",{get:function(){return this._actionItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this._actionItem.extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){if(this.class=t.NoExtensionClass,this.tooltip="",this.enabled=!1,this.extension){var e=this.extension.state;this.enabled=e===p.ExtensionState.Installed,this.class=this.enabled||e===p.ExtensionState.Uninstalling?t.Class:t.NoExtensionClass,this.tooltip=e===p.ExtensionState.Uninstalling?n.localize(10,null):""}},t.prototype.run=function(){return this._actionItem.showMenu(),i.TPromise.wrap(null)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=h.dispose(this.disposables)},t.ID="extensions.manage",t.Class="extension-action manage",t.NoExtensionClass=t.Class+" no-extension",t=g([v(0,I.IWorkspaceContextService),v(1,p.IExtensionsWorkbenchService),v(2,m.IExtensionEnablementService),v(3,y.IInstantiationService)],t)}(r.Action);t.ManageExtensionAction=M;var N=function(e){function t(n,i,r,o,s){var a=this;e.call(this,t.ID,n),this.workspaceContextService=i,this.extensionsWorkbenchService=r,this.extensionEnablementService=o,this.instantiationService=s,this.disposables=[],this.disposables.push(this.extensionsWorkbenchService.onChange(function(){return a.update()})),this.update()}return d(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.enabled=!1,this.extension&&(this.enabled=!this.extension.disabledGlobally&&this.extension.disabledForWorkspace&&this.extensionEnablementService.canEnable(this.extension.identifier))},t.prototype.run=function(){return this.extensionsWorkbenchService.setEnablement(this.extension,!0,!0)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=h.dispose(this.disposables)},t.ID="extensions.enableForWorkspace",t.LABEL=n.localize(11,null),t=g([v(1,I.IWorkspaceContextService),v(2,p.IExtensionsWorkbenchService),v(3,m.IExtensionEnablementService),v(4,y.IInstantiationService)],t)}(r.Action);t.EnableForWorkspaceAction=N;var F=function(e){function t(n,i,r,o){var s=this;e.call(this,t.ID,n),this.extensionsWorkbenchService=i,this.extensionEnablementService=r,this.instantiationService=o,this.disposables=[],this.disposables.push(this.extensionsWorkbenchService.onChange(function(){return s.update()})),this.update()}return d(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.enabled=!1,this.extension&&(this.enabled=this.extension.disabledGlobally&&this.extensionEnablementService.canEnable(this.extension.identifier))},t.prototype.run=function(){return this.extensionsWorkbenchService.setEnablement(this.extension,!0,!1)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=h.dispose(this.disposables)},t.ID="extensions.enableGlobally",t.LABEL=n.localize(12,null),t=g([v(1,p.IExtensionsWorkbenchService),v(2,m.IExtensionEnablementService),v(3,y.IInstantiationService)],t)}(r.Action);t.EnableGloballyAction=F;var W=function(e){function t(i,r,o){var s=this;e.call(this,t.ID,n.localize(13,null),t.DisabledClass,!1),this.instantiationService=i,this.extensionsWorkbenchService=r,this.extensionEnablementService=o,this.disposables=[],this._actionItem=this.instantiationService.createInstance(z,this),this.disposables.push(this._actionItem),this.disposables.push(this.extensionsWorkbenchService.onChange(function(){return s.update()})),this.update()}return d(t,e),Object.defineProperty(t.prototype,"actionItem",{get:function(){return this._actionItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this._actionItem.extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){return this.extension?(this.enabled=this.extension.state===p.ExtensionState.Installed&&(this.extension.disabledGlobally||this.extension.disabledForWorkspace)&&this.extensionEnablementService.canEnable(this.extension.identifier),void(this.class=this.enabled?t.EnabledClass:t.DisabledClass)):(this.enabled=!1,void(this.class=t.DisabledClass))},t.prototype.run=function(){return this._actionItem.showMenu(),i.TPromise.wrap(null)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=h.dispose(this.disposables)},t.ID="extensions.enable",t.EnabledClass="extension-action enable",t.DisabledClass=t.EnabledClass+" disabled",t=g([v(0,y.IInstantiationService),v(1,p.IExtensionsWorkbenchService),v(2,m.IExtensionEnablementService)],t)}(r.Action);t.EnableAction=W;var V=function(e){function t(n,i,r,o){var s=this;e.call(this,t.ID,n),this.workspaceContextService=i,this.extensionsWorkbenchService=r,this.instantiationService=o,this.disposables=[],this.disposables.push(this.extensionsWorkbenchService.onChange(function(){return s.update()})),this.update()}return d(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.enabled=!1,this.extension&&this.workspaceContextService.getWorkspace()&&(this.enabled=this.extension.type!==m.LocalExtensionType.System&&!this.extension.disabledGlobally&&!this.extension.disabledForWorkspace)},t.prototype.run=function(){return this.extensionsWorkbenchService.setEnablement(this.extension,!1,!0)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=h.dispose(this.disposables)},t.ID="extensions.disableForWorkspace",t.LABEL=n.localize(14,null),t=g([v(1,I.IWorkspaceContextService),v(2,p.IExtensionsWorkbenchService),v(3,y.IInstantiationService)],t)}(r.Action);t.DisableForWorkspaceAction=V;var B=function(e){function t(n,i,r){var o=this;e.call(this,t.ID,n),this.extensionsWorkbenchService=i,this.instantiationService=r,this.disposables=[],this.disposables.push(this.extensionsWorkbenchService.onChange(function(){return o.update()})),this.update()}return d(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.enabled=!1,this.extension&&(this.enabled=this.extension.type!==m.LocalExtensionType.System&&!this.extension.disabledGlobally&&!this.extension.disabledForWorkspace)},t.prototype.run=function(){return this.extensionsWorkbenchService.setEnablement(this.extension,!1,!1)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=h.dispose(this.disposables)},t.ID="extensions.disableGlobally",t.LABEL=n.localize(15,null),t=g([v(1,p.IExtensionsWorkbenchService),v(2,y.IInstantiationService)],t)}(r.Action);t.DisableGloballyAction=B;var H=function(e){function t(i,r){var o=this;e.call(this,t.ID,n.localize(16,null),t.DisabledClass,!1),this.instantiationService=i,this.extensionsWorkbenchService=r,this.disposables=[],this._actionItem=this.instantiationService.createInstance(U,this),this.disposables.push(this._actionItem),this.disposables.push(this.extensionsWorkbenchService.onChange(function(){return o.update()})),this.update()}return d(t,e),Object.defineProperty(t.prototype,"actionItem",{get:function(){return this._actionItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this._actionItem.extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){return this.extension?(this.enabled=this.extension.state===p.ExtensionState.Installed&&this.extension.type!==m.LocalExtensionType.System&&!this.extension.disabledGlobally&&!this.extension.disabledForWorkspace,void(this.class=this.enabled?t.EnabledClass:t.DisabledClass)):(this.enabled=!1,void(this.class=t.DisabledClass))},t.prototype.run=function(){return this._actionItem.showMenu(),i.TPromise.wrap(null)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=h.dispose(this.disposables)},t.ID="extensions.disable",t.EnabledClass="extension-action disable",t.DisabledClass=t.EnabledClass+" disabled",t=g([v(0,y.IInstantiationService),v(1,p.IExtensionsWorkbenchService)],t)}(r.Action);t.DisableAction=H;var z=function(e){function t(t,n,i){e.call(this,t,[[n.createInstance(N,N.LABEL),n.createInstance(F,F.LABEL)]],i)}return d(t,e),t=g([v(1,y.IInstantiationService),v(2,l.IContextMenuService)],t)}(R);t.EnableActionItem=z;var U=function(e){function t(t,n,i){e.call(this,t,[[n.createInstance(V,V.LABEL),n.createInstance(B,B.LABEL)]],i)}return d(t,e),t=g([v(1,y.IInstantiationService),v(2,l.IContextMenuService)],t)}(R);t.DisableActionItem=U;var G=function(e){function t(t,n,i){void 0===t&&(t=K.ID),void 0===n&&(n=K.LABEL),e.call(this,t,n,"",!0),this.extensionsWorkbenchService=i}return d(t,e),t.prototype.run=function(){return this.extensionsWorkbenchService.checkForUpdates()},t.ID="workbench.extensions.action.checkForUpdates",t.LABEL=n.localize(17,null),t=g([v(2,p.IExtensionsWorkbenchService)],t)}(r.Action);t.CheckForUpdatesAction=G;var K=function(e){function t(n,i,r){var o=this;void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,i,"",!1),this.extensionsWorkbenchService=r,this.disposables=[],this.disposables.push(this.extensionsWorkbenchService.onChange(function(){return o.update()})),this.update()}return d(t,e),Object.defineProperty(t.prototype,"outdated",{get:function(){return this.extensionsWorkbenchService.local.filter(function(e){return e.outdated&&e.state!==p.ExtensionState.Installing})},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.enabled=this.outdated.length>0},t.prototype.run=function(){var e=this;return i.TPromise.join(this.outdated.map(function(t){return e.extensionsWorkbenchService.install(t)}))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=h.dispose(this.disposables)},t.ID="workbench.extensions.action.updateAllExtensions",t.LABEL=n.localize(18,null),t=g([v(2,p.IExtensionsWorkbenchService)],t)}(r.Action);t.UpdateAllAction=K;var j=function(e){function t(i,r,s,a){var c=this;e.call(this,"extensions.reload",n.localize(19,null),t.DisabledClass,!1),this.extensionsWorkbenchService=i,this.messageService=r,this.windowService=s,this.extensionService=a,this.disposables=[],this.reloadMessaage="",this.throttler=new o.Throttler,this.disposables.push(this.extensionsWorkbenchService.onChange(function(){return c.update()})),this.update()}return d(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=this;this.throttler.queue(function(){if(e.enabled=!1,e.tooltip="",e.reloadMessaage="",!e.extension)return i.TPromise.wrap(null);var t=e.extension.state;return t===p.ExtensionState.Installing||t===p.ExtensionState.Uninstalling?i.TPromise.wrap(null):e.extensionService.getExtensions().then(function(t){return e.computeReloadState(t)})}).done(function(){e.class=e.enabled?t.EnabledClass:t.DisabledClass})},t.prototype.computeReloadState=function(e){var t=this,i=this.extensionsWorkbenchService.local.some(function(e){return e.identifier===t.extension.identifier}),r=this.extension.state===p.ExtensionState.Uninstalled,o=this.extension.disabledForWorkspace||this.extension.disabledGlobally,s=e.filter(function(e){return e.id===t.extension.identifier}),a=s.length>0,c=s.length>0&&this.extension.version!==s[0].version;if(i){if(c&&!o)return this.enabled=!0,this.tooltip=n.localize(20,null),void(this.reloadMessaage=n.localize(21,null,this.extension.displayName));if(!a&&!o)return this.enabled=!0,this.tooltip=n.localize(22,null),void(this.reloadMessaage=n.localize(23,null,this.extension.displayName));if(a&&o)return this.enabled=!0,this.tooltip=n.localize(24,null),void(this.reloadMessaage=n.localize(25,null,this.extension.displayName))}else if(r&&a)return this.enabled=!0,this.tooltip=n.localize(26,null),void(this.reloadMessaage=n.localize(27,null,this.extension.displayName))},t.prototype.run=function(){return this.messageService.confirm({message:this.reloadMessaage,primaryButton:n.localize(28,null)})?this.windowService.reloadWindow():i.TPromise.wrap(null)},t.EnabledClass="extension-action reload",t.DisabledClass=t.EnabledClass+" disabled",t=g([v(0,p.IExtensionsWorkbenchService),v(1,b.IMessageService),v(2,T.IWindowService),v(3,x.IExtensionService)],t)}(r.Action);t.ReloadAction=j;var q=function(e){function t(t,n,i,r){e.call(this,t,n,p.VIEWLET_ID,i,r)}return d(t,e),t.ID=p.VIEWLET_ID,t.LABEL=n.localize(29,null),t=g([v(2,E.IViewletService),v(3,_.IWorkbenchEditorService)],t)}(S.ToggleViewletAction);t.OpenExtensionsViewletAction=q;var $=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.ID="workbench.extensions.action.installExtensions",t.LABEL=n.localize(30,null),t}(q);t.InstallExtensionsAction=$;var Y=function(e){function t(t,n,i,r){e.call(this,t,n,"clear-extensions",!0),this.viewletService=i,this.extensionsWorkbenchService=r}return d(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(p.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search(""),e.focus()})},t.ID="workbench.extensions.action.showInstalledExtensions",t.LABEL=n.localize(31,null),t=g([v(2,E.IViewletService),v(3,p.IExtensionsWorkbenchService)],t)}(r.Action);t.ShowInstalledExtensionsAction=Y;var X=function(e){function t(t,n,i,r){e.call(this,t,n,"null",!0),this.viewletService=i,this.extensionsWorkbenchService=r}return d(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(p.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search("@disabled "),e.focus()})},t.ID="workbench.extensions.action.showDisabledExtensions",t.LABEL=n.localize(32,null),t=g([v(2,E.IViewletService),v(3,p.IExtensionsWorkbenchService)],t)}(r.Action);t.ShowDisabledExtensionsAction=X;var Q=function(e){function t(t,n,i,r,o){e.call(this,t,n,r,o),this.disposables=[],this.enabled=!1,i(this.onSearchChange,this,this.disposables)}return d(t,e),t.prototype.onSearchChange=function(e){this.enabled=!!e},t.prototype.dispose=function(){this.disposables=h.dispose(this.disposables)},t.ID="workbench.extensions.action.clearExtensionsInput",t.LABEL=n.localize(33,null),t=g([v(3,E.IViewletService),v(4,p.IExtensionsWorkbenchService)],t)}(Y);t.ClearExtensionsInputAction=Q;var Z=function(e){function t(t,n,i){e.call(this,t,n,null,!0),this.viewletService=i}return d(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(p.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search("@outdated "),e.focus()})},t.prototype.isEnabled=function(){return!0},t.ID="workbench.extensions.action.listOutdatedExtensions",t.LABEL=n.localize(34,null),t=g([v(2,E.IViewletService)],t)}(r.Action);t.ShowOutdatedExtensionsAction=Z;var J=function(e){function t(t,n,i){e.call(this,t,n,null,!0),this.viewletService=i}return d(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(p.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search("@sort:installs "),e.focus()})},t.prototype.isEnabled=function(){return!0},t.ID="workbench.extensions.action.showPopularExtensions",t.LABEL=n.localize(35,null),t=g([v(2,E.IViewletService)],t)}(r.Action);t.ShowPopularExtensionsAction=J;var ee=function(e){function t(t,n,i){e.call(this,t,n,null,!0),this.viewletService=i}return d(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(p.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search("@recommended "),e.focus()})},t.prototype.isEnabled=function(){return!0},t.ID="workbench.extensions.action.showRecommendedExtensions",t.LABEL=n.localize(36,null),t=g([v(2,E.IViewletService)],t)}(r.Action);t.ShowRecommendedExtensionsAction=ee;var te=function(e){function t(t,n,i,r){e.call(this,t,n,null,!!i.getWorkspace()),this.viewletService=r}return d(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(p.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search("@recommended:workspace "),e.focus()})},t.prototype.isEnabled=function(){return!0},t.ID="workbench.extensions.action.showWorkspaceRecommendedExtensions",t.LABEL=n.localize(37,null),t=g([v(2,I.IWorkspaceContextService),v(3,E.IViewletService)],t)}(r.Action);t.ShowWorkspaceRecommendedExtensionsAction=te;var ne=function(e){function t(t,n,i){e.call(this,t,n,null,!0),this.viewletService=i}return d(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(p.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search("@recommended:keymaps "),e.focus()})},t.prototype.isEnabled=function(){return!0},t.ID="workbench.extensions.action.showRecommendedKeymapExtensions",t.LABEL=n.localize(38,null),t.SHORT_LABEL=n.localize(39,null),t=g([v(2,E.IViewletService)],t)}(r.Action);t.ShowRecommendedKeymapExtensionsAction=ne;var ie=function(e){function t(t,n,i,r,o,s){if(e.call(this,t,n,null,!0),this.sortBy=r,this.sortOrder=o,this.viewletService=s,this.disposables=[],void 0===r&&void 0===o)throw new Error("bad arguments");this.query=C.Query.parse(""),this.enabled=!1,i(this.onSearchChange,this,this.disposables)}return d(t,e),t.prototype.onSearchChange=function(e){var t=C.Query.parse(e);this.query=new C.Query(t.value,this.sortBy||t.sortBy,this.sortOrder||t.sortOrder),this.enabled=e&&this.query.isValid()&&!this.query.equals(t)},t.prototype.run=function(){var e=this;return this.viewletService.openViewlet(p.VIEWLET_ID,!0).then(function(e){return e}).then(function(t){t.search(e.query.toString()),t.focus()})},t.prototype.isEnabled=function(){return!0},t=g([v(5,E.IViewletService)],t)}(r.Action);t.ChangeSortAction=ie;var re=function(e){function t(t,n,i,r,o,s,a){e.call(this,t,n,null,!!r.getWorkspace()),this.fileService=i,this.contextService=r,this.extensionsService=o,this.editorService=s,this.messageService=a}return d(t,e),t.prototype.run=function(e){return this.openExtensionsFile()},t.prototype.openExtensionsFile=function(){var e=this;return this.contextService.getWorkspace()?this.getOrCreateExtensionsFile().then(function(t){return e.editorService.openEditor({resource:t.extensionsFileResource,options:{forceOpen:!0,pinned:t.created}})},function(e){return i.TPromise.wrapError(new Error(n.localize(42,null,e)))}):(this.messageService.show(a.default.Info,n.localize(41,null)),i.TPromise.as(void 0))},t.prototype.getOrCreateExtensionsFile=function(){var e=this,t=A.default.file(c.join(this.contextService.getWorkspace().resource.fsPath,".vscode","extensions.json"));return this.fileService.resolveContent(t).then(function(e){return{created:!1,extensionsFileResource:t}},function(n){return e.fileService.updateContent(t,f.ExtensionsConfigurationInitialContent).then(function(){return{created:!0,extensionsFileResource:t}})})},t.ID="workbench.extensions.action.configureWorkspaceRecommendedExtensions",t.LABEL=n.localize(40,null),t=g([v(2,w.IFileService),v(3,I.IWorkspaceContextService),v(4,p.IExtensionsWorkbenchService),v(5,_.IWorkbenchEditorService),v(6,b.IMessageService)],t)}(r.Action);t.ConfigureWorkspaceRecommendedExtensionsAction=re;var oe=function(e){function t(){e.call(this,"extensions.install",n.localize(43,null),"",!1)}return d(t,e),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},set:function(e){this._extension=e,this.update()},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.extension&&this.extension.type===m.LocalExtensionType.System?this.class=t.Class+" system":this.class=t.Class+" user"},t.prototype.run=function(){return i.TPromise.as(null)},t.Class="extension-action built-in-status",t}(r.Action);t.BuiltinStatusLabelAction=oe;var se=function(e){function t(n,i,r,o){var s=this;void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,i),this.extensionsWorkbenchService=r,this.extensionEnablementService=o,this.disposables=[],this.update(),this.disposables.push(this.extensionsWorkbenchService.onChange(function(){return s.update()}))}return d(t,e),t.prototype.update=function(){this.enabled=this.extensionsWorkbenchService.local.some(function(e){return e.type===m.LocalExtensionType.User&&!e.disabledForWorkspace&&!e.disabledGlobally})},t.prototype.run=function(){var e=this;return i.TPromise.join(this.extensionsWorkbenchService.local.map(function(t){return e.extensionsWorkbenchService.setEnablement(t,!1)}))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=h.dispose(this.disposables)},t.ID="workbench.extensions.action.disableAll",t.LABEL=n.localize(44,null),t=g([v(2,p.IExtensionsWorkbenchService),v(3,m.IExtensionEnablementService)],t)}(r.Action);t.DisableAllAction=se;var ae=function(e){function t(n,i,r,o,s){var a=this;void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,i),this.workspaceContextService=r,this.extensionsWorkbenchService=o,this.extensionEnablementService=s,this.disposables=[],this.update(),this.disposables.push(this.extensionsWorkbenchService.onChange(function(){return a.update()}))}return d(t,e),t.prototype.update=function(){this.enabled=!!this.workspaceContextService.getWorkspace()&&this.extensionsWorkbenchService.local.some(function(e){return e.type===m.LocalExtensionType.User&&!e.disabledForWorkspace&&!e.disabledGlobally})},t.prototype.run=function(){var e=this;return i.TPromise.join(this.extensionsWorkbenchService.local.map(function(t){return e.extensionsWorkbenchService.setEnablement(t,!1,!0)}))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=h.dispose(this.disposables)},t.ID="workbench.extensions.action.disableAllWorkspace",t.LABEL=n.localize(45,null),t=g([v(2,I.IWorkspaceContextService),v(3,p.IExtensionsWorkbenchService),v(4,m.IExtensionEnablementService)],t)}(r.Action);t.DisableAllWorkpsaceAction=ae;var ce=function(e){function t(n,i,r,o){var s=this;void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,i),this.extensionsWorkbenchService=r,this.extensionEnablementService=o,this.disposables=[],this.update(),this.disposables.push(this.extensionsWorkbenchService.onChange(function(){return s.update()}))}return d(t,e),t.prototype.update=function(){var e=this;this.enabled=this.extensionsWorkbenchService.local.some(function(t){return e.extensionEnablementService.canEnable(t.identifier)&&t.disabledGlobally})},t.prototype.run=function(){var e=this;return i.TPromise.join(this.extensionsWorkbenchService.local.map(function(t){return e.extensionsWorkbenchService.setEnablement(t,!0)}))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=h.dispose(this.disposables)},t.ID="workbench.extensions.action.enableAll",t.LABEL=n.localize(46,null),t=g([v(2,p.IExtensionsWorkbenchService),v(3,m.IExtensionEnablementService)],t)}(r.Action);t.EnableAllAction=ce;var ue=function(e){function t(n,i,r,o,s){var a=this;void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,i),this.workspaceContextService=r,this.extensionsWorkbenchService=o,this.extensionEnablementService=s,this.disposables=[],this.update(),this.disposables.push(this.extensionsWorkbenchService.onChange(function(){return a.update()}))}return d(t,e),t.prototype.update=function(){var e=this;this.enabled=!!this.workspaceContextService.getWorkspace()&&this.extensionsWorkbenchService.local.some(function(t){return e.extensionEnablementService.canEnable(t.identifier)&&!t.disabledGlobally&&t.disabledForWorkspace})},t.prototype.run=function(){var e=this;return i.TPromise.join(this.extensionsWorkbenchService.local.map(function(t){return e.extensionsWorkbenchService.setEnablement(t,!0,!0)}))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=h.dispose(this.disposables)},t.ID="workbench.extensions.action.enableAllWorkspace",t.LABEL=n.localize(47,null),t=g([v(2,I.IWorkspaceContextService),v(3,p.IExtensionsWorkbenchService),v(4,m.IExtensionEnablementService)],t)}(r.Action);t.EnableAllWorkpsaceAction=ue}),define(l[1174],h([1,0,536,2,249,17,35,11,1024,24,7,32,5,130,8,72,53,19,6,88,80,106,928,25,308,61,43,162,197,52,152,36,124,18,131,111,769]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P,R,O,M,N,F,W){"use strict";function V(t){return'<!DOCTYPE html>\n\t\t<html>\n\t\t\t<head>\n\t\t\t\t<meta http-equiv="Content-type" content="text/html;charset=UTF-8">\n\t\t\t\t<link rel="stylesheet" type="text/css" href="'+e.toUrl("./media/markdown.css")+'" >\n\t\t\t</head>\n\t\t\t<body>'+t+"</body>\n\t\t</html>"}var B=function(){function e(e){this._onChange=new a.Emitter,this.currentId=null;var t=m.append(e,m.$(".navbar"));this.actions=[],this.actionbar=new D.ActionBar(t,{animated:!1})}return Object.defineProperty(e.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!0,configurable:!0}),e.prototype.push=function(e,t){var n=this,i=function(){return n._update(e)},r=new u.Action(e,t,null,(!0),i);this.actions.push(r),this.actionbar.push(r),1===this.actions.length&&i()},e.prototype.clear=function(){this.actions=p.dispose(this.actions),this.actionbar.clear()},e.prototype.update=function(){this._update(this.currentId)},e.prototype._update=function(e){return void 0===e&&(e=this.currentId),this.currentId=e,this._onChange.fire(e),this.actions.forEach(function(t){return t.enabled=t.id!==e}),i.TPromise.as(null)},e.prototype.dispose=function(){this.actionbar=p.dispose(this.actionbar)},e}(),H={Readme:"readme",Contributions:"contributions",Changelog:"changelog",Dependencies:"dependencies"},z=function(e){function t(n,i,r,o,s,a,c,u,l,h){e.call(this,t.ID,n),this.galleryService=i,this.configurationService=r,this.instantiationService=o,this.viewletService=s,this.extensionsWorkbenchService=a,
this.themeService=c,this.keybindingService=u,this.messageService=l,this.openerService=h,this.layoutParticipants=[],this.contentDisposables=[],this.transientDisposables=[],this._highlight=null,this.highlightDisposable=p.empty,this.disposables=[],this.extensionReadme=null,this.extensionChangelog=null,this.extensionManifest=null,this.extensionDependencies=null}return d(t,e),t.prototype.createEditor=function(e){var t=e.getHTMLElement(),i=m.append(t,m.$(".extension-editor")),r=m.append(i,m.$(".header"));this.icon=m.append(r,m.$("img.icon",{draggable:!1}));var o=m.append(r,m.$(".details")),s=m.append(o,m.$(".title"));this.name=m.append(s,m.$("span.name.clickable",{title:n.localize(0,null)})),this.identifier=m.append(s,m.$("span.identifier",{title:n.localize(1,null)}));var c=m.append(o,m.$(".subtitle"));this.publisher=m.append(c,m.$("span.publisher.clickable",{title:n.localize(2,null)})),this.installCount=m.append(c,m.$("span.install",{title:n.localize(3,null)})),this.rating=m.append(c,m.$("span.rating.clickable",{title:n.localize(4,null)})),this.license=m.append(c,m.$("span.license.clickable")),this.license.textContent=n.localize(5,null),this.license.style.display="none",this.description=m.append(o,m.$(".description"));var u=m.append(o,m.$(".actions"));this.extensionActionBar=new D.ActionBar(u,{animated:!1,actionItemProvider:function(e){return e.id===L.EnableAction.ID?e.actionItem:e.id===L.DisableAction.ID?e.actionItem:null}}),this.disposables.push(this.extensionActionBar),a.chain(a.fromEventEmitter(this.extensionActionBar,"run")).map(function(e){var t=e.error;return t}).filter(function(e){return!!e}).on(this.onError,this,this.disposables);var l=m.append(i,m.$(".body"));this.navbar=new B(l),this.content=m.append(l,m.$(".content"))},t.prototype.setInput=function(t,i){var r=this,o=t.extension;this.transientDisposables=p.dispose(this.transientDisposables),this.telemetryService.publicLog("extensionGallery:openExtension",o.telemetryData),this.extensionReadme=new c.default(function(){return o.getReadme()}),this.extensionChangelog=new c.default(function(){return o.getChangelog()}),this.extensionManifest=new c.default(function(){return o.getManifest()}),this.extensionDependencies=new c.default(function(){return r.extensionsWorkbenchService.loadDependencies(o)});var s=a.once(f.domEvent(this.icon,"error"));if(s(function(){return r.icon.src=o.iconUrlFallback},null,this.transientDisposables),this.icon.src=o.iconUrl,this.name.textContent=o.displayName,this.identifier.textContent=o.publisher+"."+o.name,this.publisher.textContent=o.publisherDisplayName,this.description.textContent=o.description,A.default.extensionsGallery){var u=A.default.extensionsGallery.itemUrl+"?itemName="+o.publisher+"."+o.name;this.name.onclick=m.finalHandler(function(){return window.open(u)}),this.rating.onclick=m.finalHandler(function(){return window.open(u+"#review-details")}),this.publisher.onclick=m.finalHandler(function(){r.viewletService.openViewlet(w.VIEWLET_ID,!0).then(function(e){return e}).done(function(e){return e.search('publisher:"'+o.publisherDisplayName+'"')})}),o.licenseUrl?(this.license.onclick=m.finalHandler(function(){return window.open(o.licenseUrl)}),this.license.style.display="initial"):(this.license.onclick=null,this.license.style.display="none")}var l=this.instantiationService.createInstance(x.InstallWidget,this.installCount,{extension:o});this.transientDisposables.push(l);var h=this.instantiationService.createInstance(x.RatingsWidget,this.rating,{extension:o});this.transientDisposables.push(h);var d=this.instantiationService.createInstance(L.BuiltinStatusLabelAction),g=this.instantiationService.createInstance(L.CombinedInstallAction),v=this.instantiationService.createInstance(L.UpdateAction),y=this.instantiationService.createInstance(L.EnableAction),b=this.instantiationService.createInstance(L.DisableAction),S=this.instantiationService.createInstance(L.ReloadAction);return g.extension=o,d.extension=o,v.extension=o,y.extension=o,b.extension=o,S.extension=o,this.extensionActionBar.clear(),this.extensionActionBar.push([S,v,y,b,g,d],{icon:!0,label:!0}),this.transientDisposables.push(y,v,S,b,g,d),this.navbar.clear(),this.navbar.onChange(this.onNavbarChange.bind(this,o),this,this.transientDisposables),this.navbar.push(H.Readme,n.localize(6,null)),this.navbar.push(H.Contributions,n.localize(7,null)),this.navbar.push(H.Changelog,n.localize(8,null)),this.navbar.push(H.Dependencies,n.localize(9,null)),this.content.innerHTML="",e.prototype.setInput.call(this,t,i)},t.prototype.changePosition=function(t){this.navbar.update(),e.prototype.changePosition.call(this,t)},t.prototype.onNavbarChange=function(e,t){switch(this.contentDisposables=p.dispose(this.contentDisposables),this.content.innerHTML="",t){case H.Readme:return this.openReadme();case H.Contributions:return this.openContributions();case H.Changelog:return this.openChangelog();case H.Dependencies:return this.openDependencies(e)}},t.prototype.openMarkdown=function(e,t){var n=this;return this.loadContents(function(){return e.then(r.marked.parse).then(V).then(function(e){var t=new k.default(n.content,document.querySelector(".monaco-editor-background"),{nodeintegration:!1});t.style(n.themeService.getColorTheme()),t.contents=[e],t.onDidClickLink(function(e){return n.openerService.open(e)},null,n.contentDisposables),n.themeService.onDidColorThemeChange(function(e){return t.style(e)},null,n.contentDisposables),n.contentDisposables.push(t)}).then(null,function(){var e=m.append(n.content,m.$("p.nocontent"));e.textContent=t})})},t.prototype.openReadme=function(){return this.openMarkdown(this.extensionReadme.get(),n.localize(10,null))},t.prototype.openChangelog=function(){return this.openMarkdown(this.extensionChangelog.get(),n.localize(11,null))},t.prototype.openContributions=function(){var e=this;return this.loadContents(function(){return e.extensionManifest.get().then(function(i){var r=m.$("div",{class:"subcontent"}),o=new M.DomScrollableElement(r,{canUseTranslate3d:!1}),a=function(){return o.scanDomNode()},c=s.insert(e.layoutParticipants,{layout:a});e.contentDisposables.push(p.toDisposable(c));var u=[t.renderSettings(r,i,a),e.renderCommands(r,i,a),t.renderLanguages(r,i,a),t.renderThemes(r,i,a),t.renderJSONValidation(r,i,a),t.renderDebuggers(r,i,a)],l=!u.reduce(function(e,t){return t||e},!1);return o.scanDomNode(),l?void(m.append(e.content,m.$("p.nocontent")).textContent=n.localize(12,null)):(m.append(e.content,o.getDomNode()),void e.contentDisposables.push(o))})})},t.prototype.openDependencies=function(e){var i=this;return 0===e.dependencies.length?void(m.append(this.content,m.$("p.nocontent")).textContent=n.localize(13,null)):(m.addClass(this.content,"loading"),void this.extensionDependencies.get().then(function(e){m.removeClass(i.content,"loading");var n=m.$("div",{class:"subcontent"}),r=new M.DomScrollableElement(n,{canUseTranslate3d:!1});m.append(i.content,r.getDomNode()),i.contentDisposables.push(r);var o=t.renderDependencies(n,e,i.instantiationService),a=function(){r.scanDomNode(),o.layout(r.getHeight())},c=s.insert(i.layoutParticipants,{layout:a});i.contentDisposables.push(p.toDisposable(c)),i.contentDisposables.push(o),r.scanDomNode()},function(e){m.removeClass(i.content,"loading"),m.append(i.content,m.$("p.nocontent")).textContent=e,i.messageService.show(h.default.Error,e)}))},t.renderDependencies=function(e,t,n){var i=n.createInstance(I.Renderer),r=n.createInstance(I.Controller),o=new W.Tree(e,{dataSource:new I.DataSource,renderer:i,controller:r},{indentPixels:40,twistiePixels:20});return o.setInput(t),o},t.renderSettings=function(e,t,i){var r=t.contributes,o=r&&r.configuration,s=o&&o.properties,a=s?Object.keys(s):[];if(!a.length)return!1;var c=m.$("details",{open:!0,ontoggle:i},m.$("summary",null,n.localize(14,null,a.length)),m.$.apply(void 0,["table",null,m.$("tr",null,m.$("th",null,n.localize(15,null)),m.$("th",null,n.localize(16,null)),m.$("th",null,n.localize(17,null)))].concat(a.map(function(e){return m.$("tr",null,m.$("td",null,m.$("code",null,e)),m.$("td",null,s[e].description),m.$("td",null,m.$("code",null,s[e].default)))}))));return m.append(e,c),!0},t.renderDebuggers=function(e,t,i){var r=t.contributes,o=r&&r.debuggers||[];if(!o.length)return!1;var s=m.$("details",{open:!0,ontoggle:i},m.$("summary",null,n.localize(18,null,o.length)),m.$.apply(void 0,["table",null,m.$("tr",null,m.$("th",null,n.localize(19,null)))].concat(o.map(function(e){return m.$("tr",null,m.$("td",null,e.label||e.type))}))));return m.append(e,s),!0},t.renderThemes=function(e,t,i){var r=t.contributes,o=r&&r.themes||[];if(!o.length)return!1;var s=m.$("details",{open:!0,ontoggle:i},m.$("summary",null,n.localize(20,null,o.length)),m.$.apply(void 0,["ul",null].concat(o.map(function(e){return m.$("li",null,e.label)}))));return m.append(e,s),!0},t.renderJSONValidation=function(e,t,i){var r=t.contributes,o=r&&r.jsonValidation||[];if(!o.length)return!1;var s=m.$("details",{open:!0,ontoggle:i},m.$("summary",null,n.localize(21,null,o.length)),m.$.apply(void 0,["ul",null].concat(o.map(function(e){return m.$("li",null,e.fileMatch)}))));return m.append(e,s),!0},t.prototype.renderCommands=function(e,t,i){var r=this,o=t.contributes,a=o&&o.commands||[],c=a.map(function(e){return{id:e.command,title:e.title,keybindings:[],menus:[]}}),u=s.index(c,function(e){return e.id}),l=o&&o.menus||{};Object.keys(l).forEach(function(e){l[e].forEach(function(t){var n=u[t.command];n?n.menus.push(e):(n={id:t.command,title:"",keybindings:[],menus:[e]},u[n.id]=n,c.push(n))})});var h=o&&o.keybindings||[];if(h.forEach(function(e){var t=r.keybindingToLabel(e);if(t){var n=u[e.command];n?n.keybindings.push(t):(n={id:e.command,title:"",keybindings:[t],menus:[]},u[n.id]=n,c.push(n))}}),!c.length)return!1;var d=m.$("details",{open:!0,ontoggle:i},m.$("summary",null,n.localize(22,null,c.length)),m.$.apply(void 0,["table",null,m.$("tr",null,m.$("th",null,n.localize(23,null)),m.$("th",null,n.localize(24,null)),m.$("th",null,n.localize(25,null)),m.$("th",null,n.localize(26,null)))].concat(c.map(function(e){return m.$("tr",null,m.$("td",null,m.$("code",null,e.id)),m.$("td",null,e.title),m.$.apply(void 0,["td",null].concat(m.join(e.keybindings.map(function(e){return m.$("code",null,e)})," "))),m.$.apply(void 0,["td",null].concat(e.menus.map(function(e){return m.$("code",null,e)}))))}))));return m.append(e,d),!0},t.renderLanguages=function(e,t,i){var r=t.contributes,o=r&&r.languages||[],a=o.map(function(e){return{id:e.id,name:(e.aliases||[])[0]||e.id,extensions:e.extensions||[],hasGrammar:!1,hasSnippets:!1}}),c=s.index(a,function(e){return e.id}),u=r&&r.grammars||[];u.forEach(function(e){var t=c[e.language];t?t.hasGrammar=!0:(t={id:e.language,name:e.language,extensions:[],hasGrammar:!0,hasSnippets:!1},c[t.id]=t,a.push(t))});var l=r&&r.snippets||[];if(l.forEach(function(e){var t=c[e.language];t?t.hasSnippets=!0:(t={id:e.language,name:e.language,extensions:[],hasGrammar:!1,hasSnippets:!0},c[t.id]=t,a.push(t))}),!a.length)return!1;var h=m.$("details",{open:!0,ontoggle:i},m.$("summary",null,n.localize(27,null,a.length)),m.$.apply(void 0,["table",null,m.$("tr",null,m.$("th",null,n.localize(28,null)),m.$("th",null,n.localize(29,null)),m.$("th",null,n.localize(30,null)),m.$("th",null,n.localize(31,null)),m.$("th",null,n.localize(32,null)))].concat(a.map(function(e){return m.$("tr",null,m.$("td",null,e.id),m.$("td",null,e.name),m.$.apply(void 0,["td",null].concat(m.join(e.extensions.map(function(e){return m.$("code",null,e)})," "))),m.$("td",null,document.createTextNode(e.hasGrammar?"":"")),m.$("td",null,document.createTextNode(e.hasSnippets?"":"")))}))));return m.append(e,h),!0},t.prototype.keybindingToLabel=function(e){var t;switch(process.platform){case"win32":t=e.win;break;case"linux":t=e.linux;break;case"darwin":t=e.mac}var n=new P.Keybinding(R.KeybindingLabels.fromUserSettingsLabel(t||e.key)),i=this.keybindingService.getLabelFor(n);return"unknown"===i?null:i},t.prototype.loadContents=function(e){var t=this;m.addClass(this.content,"loading");var n=e();n=o.always(n,function(){return m.removeClass(t.content,"loading")}),this.contentDisposables.push(p.toDisposable(function(){return n.cancel()}))},t.prototype.layout=function(){this.layoutParticipants.forEach(function(e){return e.layout()})},t.prototype.onError=function(e){l.isPromiseCanceledError(e)||this.messageService.show(h.default.Error,e)},t.prototype.dispose=function(){this._highlight=null,this.transientDisposables=p.dispose(this.transientDisposables),this.disposables=p.dispose(this.disposables),e.prototype.dispose.call(this)},t.ID="workbench.editor.extension",t=g([v(0,S.ITelemetryService),v(1,_.IExtensionGalleryService),v(2,T.IConfigurationService),v(3,E.IInstantiationService),v(4,b.IViewletService),v(5,w.IExtensionsWorkbenchService),v(6,C.IThemeService),v(7,O.IKeybindingService),v(8,N.IMessageService),v(9,F.IOpenerService)],t)}(y.BaseEditor);t.ExtensionEditor=z}),define(l[1175],h([1,0,537,20,2,108,5,142,96,88,40,38,61,18,6,162,32,26,120,33]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S,E){"use strict";var _=function(){function e(e,t,n,i,r,o,s,a){this._galleryService=e,this._modelService=t,this.storageService=n,this.choiceService=i,this.extensionsService=r,this.instantiationService=o,this.fileService=s,this.contextService=a,this._recommendations=Object.create(null),this._availableRecommendations=Object.create(null),this._disposables=[],this._galleryService.isEnabled()&&(this._suggestTips(),this._suggestWorkspaceRecommendations())}return e.prototype.getWorkspaceRecommendations=function(){return this.contextService.getWorkspace()?this.fileService.resolveContent(this.contextService.toResource(i.join(".vscode","extensions.json"))).then(function(e){var t=c.parse(e.value,[]);if(t.recommendations){var n=new RegExp(u.EXTENSION_IDENTIFIER_PATTERN);return t.recommendations.filter(function(e,i){return t.recommendations.indexOf(e)===i&&n.test(e)})}return[]},function(e){return[]}):r.TPromise.as([])},e.prototype.getRecommendations=function(){return Object.keys(this._recommendations)},e.prototype.getKeymapRecommendations=function(){return d.default.keymapExtensionTips||[]},e.prototype._suggestTips=function(){var e=this,t=d.default.extensionTips;if(t){this.importantRecommendations=d.default.extensionImportantTips||Object.create(null),this.importantRecommendationsIgnoreList=JSON.parse(this.storageService.get("extensionsAssistant/importantRecommendationsIgnore",h.StorageScope.GLOBAL,"[]"));for(var n=JSON.parse(this.storageService.get("extensionsAssistant/recommendations",h.StorageScope.GLOBAL,"[]")),i=0,r=n;i<r.length;i++){var s=r[i];this._recommendations[s]=!0}this._availableRecommendations=Object.create(null),o.forEach(t,function(t){var n=t.key,i=t.value,r=e._availableRecommendations[i];r?r.push(n):e._availableRecommendations[i]=[n]}),this._modelService.onModelAdded(this._suggest,this,this._disposables),this._modelService.getModels().forEach(function(t){return e._suggest(t)})}},e.prototype._suggest=function(e){var t=this,i=e.uri;i&&i.scheme!==S.Schemas.inMemory&&i.scheme!==S.Schemas.internal&&i.scheme!==S.Schemas.vscode&&setImmediate(function(){o.forEach(t._availableRecommendations,function(e){var n=e.key,r=e.value;if(a.match(n,i.fsPath))for(var o=0,s=r;o<s.length;o++){var c=s[o];t._recommendations[c]=!0}}),t.storageService.store("extensionsAssistant/recommendations",JSON.stringify(Object.keys(t._recommendations)),h.StorageScope.GLOBAL),t.extensionsService.getInstalled(u.LocalExtensionType.User).done(function(e){Object.keys(t.importantRecommendations).filter(function(e){return t.importantRecommendationsIgnoreList.indexOf(e)===-1}).filter(function(t){return e.every(function(e){return e.manifest.publisher+"."+e.manifest.name!==t})}).forEach(function(e){var r=t.importantRecommendations[e],o=r.pattern,s=r.name;if(a.match(o,i.fsPath)){var c=n.localize(0,null,s),u=t.instantiationService.createInstance(m.ShowRecommendedExtensionsAction,m.ShowRecommendedExtensionsAction.ID,n.localize(1,null)),l=[u.label,n.localize(2,null),n.localize(3,null)];t.choiceService.choose(y.default.Info,c,l).done(function(n){switch(n){case 0:return u.run();case 1:return t.importantRecommendationsIgnoreList.push(e),t.storageService.store("extensionsAssistant/importantRecommendationsIgnore",JSON.stringify(t.importantRecommendationsIgnoreList),h.StorageScope.GLOBAL)}})}})})})},e.prototype._suggestWorkspaceRecommendations=function(){var e=this,t="extensionsAssistant/workspaceRecommendationsIgnore";this.storageService.getBoolean(t,h.StorageScope.WORKSPACE,!1)||this.getWorkspaceRecommendations().done(function(i){i.length&&e.extensionsService.getInstalled(u.LocalExtensionType.User).done(function(r){var o=i.filter(function(e){return r.every(function(t){return t.manifest.publisher+"."+t.manifest.name!==e})});if(o.length){var s=n.localize(4,null),a=e.instantiationService.createInstance(m.ShowWorkspaceRecommendedExtensionsAction,m.ShowWorkspaceRecommendedExtensionsAction.ID,n.localize(5,null)),c=[a.label,n.localize(6,null),n.localize(7,null)];e.choiceService.choose(y.default.Info,s,c).done(function(n){switch(n){case 0:return a.run();case 1:return e.storageService.store(t,!0,h.StorageScope.WORKSPACE)}})}})})},e.prototype.dispose=function(){this._disposables=s.dispose(this._disposables)},e=g([v(0,u.IExtensionGalleryService),v(1,l.IModelService),v(2,h.IStorageService),v(3,p.IChoiceService),v(4,u.IExtensionManagementService),v(5,f.IInstantiationService),v(6,E.IFileService),v(7,b.IWorkspaceContextService)],e)}();t.ExtensionTipsService=_}),define(l[1176],h([1,0,8,5,43,6,18,11,130,106,162,308,109,39,75]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f){"use strict";var m=function(){function e(){}return e.prototype.getHeight=function(){return 62},e.prototype.getTemplateId=function(){return"extension"},e}();t.Delegate=m;var y={icon:!0,label:!0},b=function(){function e(e,t,n,i,r){this.instantiationService=e,this.contextMenuService=t,this.messageService=n,this.extensionsWorkbenchService=i,this.extensionService=r}return Object.defineProperty(e.prototype,"templateId",{get:function(){return"extension"},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){var t=this,i=n.append(e,n.$(".extension")),o=n.append(i,n.$("img.icon")),a=n.append(i,n.$(".details")),c=n.append(a,n.$(".header-container")),u=n.append(c,n.$(".header")),p=n.append(u,n.$("span.name")),f=n.append(u,n.$("span.version")),g=n.append(u,n.$("span.install-count")),v=n.append(u,n.$("span.ratings")),m=n.append(a,n.$(".description.ellipsis")),b=n.append(a,n.$(".footer")),S=n.append(b,n.$(".author.ellipsis")),E=new r.ActionBar(b,{animated:!1,actionItemProvider:function(e){return e.id===l.ManageExtensionAction.ID?e.actionItem:null}});E.addListener2(d.EventType.RUN,function(e){var n=e.error;return n&&t.messageService.show(s.Severity.Error,n)});var _=this.instantiationService.createInstance(h.Label,f,function(e){return e.version}),C=this.instantiationService.createInstance(h.InstallWidget,g,{small:!0}),w=this.instantiationService.createInstance(h.RatingsWidget,v,{small:!0}),I=this.instantiationService.createInstance(l.BuiltinStatusLabelAction),T=this.instantiationService.createInstance(l.InstallAction),x=this.instantiationService.createInstance(l.UpdateAction),A=this.instantiationService.createInstance(l.ReloadAction),D=this.instantiationService.createInstance(l.ManageExtensionAction);E.push([A,x,T,I,D],y);var L=[_,C,w,I,x,A,D,E];return{element:i,icon:o,name:p,installCount:g,ratings:v,author:S,description:m,disposables:L,extensionDisposables:[],set extension(e){_.extension=e,C.extension=e,w.extension=e,I.extension=e,T.extension=e,x.extension=e,A.extension=e,D.extension=e}}},e.prototype.renderPlaceholder=function(e,t){n.addClass(t.element,"loading"),t.extensionDisposables=i.dispose(t.extensionDisposables),t.icon.src="",t.name.textContent="",t.author.textContent="",t.description.textContent="",t.installCount.style.display="none",t.ratings.style.display="none",t.extension=null},e.prototype.renderElement=function(e,t,r){var o=this;n.removeClass(r.element,"loading"),r.extensionDisposables=i.dispose(r.extensionDisposables),this.extensionService.getExtensions().then(function(t){var i=t.some(function(t){return t.id===e.identifier}),s=o.extensionsWorkbenchService.local.some(function(t){return t.identifier===e.identifier});n.toggleClass(r.element,"disabled",s&&!i)});var s=a.once(c.domEvent(r.icon,"error"));s(function(){return r.icon.src=e.iconUrlFallback},null,r.extensionDisposables),r.icon.src=e.iconUrl,r.icon.complete?r.icon.style.visibility="inherit":(r.icon.style.visibility="hidden",r.icon.onload=function(){return r.icon.style.visibility="inherit"}),r.name.textContent=e.displayName,r.author.textContent=e.publisherDisplayName,r.description.textContent=e.description,r.installCount.style.display="",r.ratings.style.display="",r.extension=e},e.prototype.disposeTemplate=function(e){e.disposables=i.dispose(e.disposables)},e=g([v(0,o.IInstantiationService),v(1,p.IContextMenuService),v(2,s.IMessageService),v(3,u.IExtensionsWorkbenchService),v(4,f.IExtensionService)],e)}();t.Renderer=b}),define(l[1177],h([1,0,539,2,99,93,64,106,53]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(e){function t(t,n){e.call(this),this.label=t,this.action=n}return d(t,e),t.prototype.getLabel=function(){return this.label},t.prototype.getAriaLabel=function(){return this.label},t.prototype.run=function(e){return e!==r.Mode.PREVIEW&&(this.action(),!0)},t}(o.QuickOpenEntry),l=function(e){function t(t){e.call(this),this.viewletService=t}return d(t,e),t.prototype.getResults=function(e){var t=this,r=n.localize(0,null),s=function(){t.viewletService.openViewlet(a.VIEWLET_ID,!0).then(function(e){return e}).done(function(e){e.search(""),e.focus()})};return i.TPromise.as(new o.QuickOpenModel([new u(r,s)]))},t.prototype.getEmptyLabel=function(e){return""},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0}},t=g([v(0,c.IViewletService)],t)}(s.QuickOpenHandler);t.ExtensionsHandler=l;var h=function(e){function t(t){e.call(this),this.viewletService=t}return d(t,e),t.prototype.getResults=function(e){var t=this,r=[];if(e){var s=n.localize(1,null,e),c=function(){t.viewletService.openViewlet(a.VIEWLET_ID,!0).then(function(e){return e}).done(function(t){t.search(e),t.focus()})};r.push(new u(s,c))}return i.TPromise.as(new o.QuickOpenModel(r))},t.prototype.getEmptyLabel=function(e){return n.localize(2,null)},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0}},t=g([v(0,c.IViewletService)],t)}(s.QuickOpenHandler);t.GalleryExtensionsHandler=h}),define(l[1178],h([1,0,2,548,7,97,21,20,24,146,92,193,210,53,33,19,26,38,25,47,186,6,18,22,80]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x){"use strict";var A="textEditorViewState",D=function(e){function t(n,i,r,o,s,a,c,u,l,h,d,p){var f=this;e.call(this,t.ID,n,o,s,a,u,l,h,d,p),this.fileService=i,this.viewletService=r,this.historyService=c,this.toUnbind.push(this.eventService.addListener2(m.EventType.FILE_CHANGES,function(e){return f.onFilesChanged(e)}))}return d(t,e),t.prototype.onFilesChanged=function(e){var t=e.getDeleted();t&&t.length&&this.clearTextEditorViewState(this.storageService,t.map(function(e){return e.resource.toString()}))},t.prototype.getTitle=function(){return this.getInput()?this.getInput().getName():i.localize(0,null)},t.prototype.getInput=function(){return e.prototype.getInput.call(this)},t.prototype.setInput=function(t,u){var l=this,h=this.getInput();e.prototype.setInput.call(this,t,u);var d=u&&u.forceOpen;if(h){var f=this.getControl().getSelection();f&&this.historyService.add(h,{selection:{startLineNumber:f.startLineNumber,startColumn:f.startColumn}})}return!d&&t.matches(h)?(u&&s.isFunction(u.apply)&&u.apply(this.getControl()),n.TPromise.as(null)):(h&&this.saveTextEditorViewState(this.storageService,h.getResource().toString()),t.resolve(!0).then(function(e){if(e instanceof p.BinaryEditorModel)return l.openAsBinary(t,u);var n=e,i=!!l.getInput(),r=n.isDisposed(),o=i&&l.getInput().getResource().toString()!==n.getResource().toString();if(!i||r||o)return null;var a=l.getControl();a.setModel(n.textEditorModel);var c=l.loadTextEditorViewState(l.storageService,l.getInput().getResource().toString());c&&a.restoreViewState(c),u&&s.isFunction(u.apply)&&u.apply(a)},function(e){if(e.fileOperationResult===m.FileOperationResult.FILE_IS_BINARY)return l.openAsBinary(t,u);if(e.fileOperationResult!==m.FileOperationResult.FILE_IS_DIRECTORY||!l.openAsFolder(t))return e.fileOperationResult===m.FileOperationResult.FILE_NOT_FOUND&&a.isValidBasename(a.basename(t.getResource().fsPath))?n.TPromise.wrapError(r.create(o.toErrorMessage(e),{actions:[new c.Action("workbench.files.action.createMissingFile",i.localize(1,null),null,(!0),function(){return l.fileService.updateContent(t.getResource(),"").then(function(){return l.editorService.openEditor({resource:t.getResource(),options:{pinned:!0}})})}),I.CancelAction]})):n.TPromise.wrapError(e)}))},t.prototype.openAsBinary=function(e,t){e.setForceOpenAsBinary(),this.editorService.openEditor(e,t,this.position).done(null,r.onUnexpectedError)},t.prototype.openAsFolder=function(e){var t=this;return this.editorService.closeEditor(this.position,this.input).done(function(){t.contextService.isInsideWorkspace(e.getResource())&&t.viewletService.openViewlet(l.VIEWLET_ID,!0).done(function(t){return t.getExplorerView().select(e.getResource(),!0)},r.onUnexpectedError)},r.onUnexpectedError),!0},t.prototype.getCodeEditorOptions=function(){var t=e.prototype.getCodeEditorOptions.call(this),n=this.getInput(),r=n&&n.getName();return t.ariaLabel=r?i.localize(2,null,r):i.localize(3,null),t},t.prototype.saveTextEditorViewState=function(e,t){var n=this.getMemento(e,u.Scope.WORKSPACE),i=n[A];i||(i=Object.create(null),n[A]=i);var r=this.getControl().saveViewState(),o=i[t];o||(o=Object.create(null),i[t]=o),"number"==typeof this.position&&(o[this.position]=r)},t.prototype.clearTextEditorViewState=function(e,t){var n=this.getMemento(e,u.Scope.WORKSPACE),i=n[A];i&&t.forEach(function(e){return delete i[e]})},t.prototype.loadTextEditorViewState=function(e,t){var n=this.getMemento(e,u.Scope.WORKSPACE),i=n[A];if(i){var r=i[t];if(r)return r[this.position]}return null},t.prototype.clearInput=function(){this.input&&this.saveTextEditorViewState(this.storageService,this.getInput().getResource().toString()),this.getControl().setModel(null),e.prototype.clearInput.call(this)},t.prototype.shutdown=function(){this.input&&this.saveTextEditorViewState(this.storageService,this.getInput().getResource().toString()),e.prototype.shutdown.call(this)},t.ID=l.TEXT_FILE_EDITOR_ID,t=g([v(0,y.ITelemetryService),v(1,m.IFileService),v(2,f.IViewletService),v(3,w.IInstantiationService),v(4,b.IWorkspaceContextService),v(5,S.IStorageService),v(6,C.IHistoryService),v(7,I.IMessageService),v(8,E.IConfigurationService),v(9,_.IEventService),v(10,T.IWorkbenchEditorService),v(11,x.IThemeService)],t)}(h.BaseTextEditor);t.TextFileEditor=D}),define(l[140],h([1,0,2,549,13,17,20,16,7,97,12,109,32,346,24,101,5,92,81,55,33,126,28,192,181,56,22,65,41,50,186,53,66,47,6,18,26,52,62,785]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P,R,O,M,N,F,W,V,B,H){"use strict";function z(e,t){switch(e){case J.ID:return new B.Keybinding(32812);case j.ID:return new B.Keybinding(r.isMacintosh?3:60);case Ee.ID:return new B.Keybinding(32817);case se.ID:return new B.Keybinding(r.isMacintosh?32769:20);case le.ID:return new B.Keybinding(32801);case he.ID:return new B.Keybinding(32820);case pe.ID:return r.isMacintosh?new B.Keybinding(4099):new B.Keybinding(32771)}if(t){var n=t.lookupKeybindings(e);if(n.length>0)return n[0]}return null}function U(e,t,n){if(void 0===n&&(n=!1),t=G(t),!t||0===t.length||/^\s+$/.test(t))return i.localize(60,null);if(!n&&e.children&&e.children.some(function(e){return r.isLinux?e.name===t:e.name.toLowerCase()===t.toLowerCase()}))return i.localize(61,null,t);if(!s.isValidBasename(t))return i.localize(62,null,t);if(r.isWindows){var o=t.length+e.resource.fsPath.length+1;if(o>255)return i.localize(63,null,t)}return null}function G(e){return e?(e=l.trim(l.trim(e," "),"\t"),e=l.rtrim(e,".")):e}var K=function(e){function t(t,n,i,r,o,s,a,c){e.call(this,t,n),this._contextService=i,this._editorService=r,this._fileService=o,this._messageService=s,this._textFileService=a,this._eventService=c,this.enabled=!1}return d(t,e),Object.defineProperty(t.prototype,"contextService",{get:function(){return this._contextService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"messageService",{get:function(){return this._messageService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editorService",{get:function(){return this._editorService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fileService",{get:function(){return this._fileService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eventService",{get:function(){return this._eventService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textFileService",{get:function(){return this._textFileService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},set:function(e){this._element=e},enumerable:!0,configurable:!0}),t.prototype._isEnabled=function(){return!0},t.prototype._updateEnablement=function(){this.enabled=!!(this._contextService&&this._fileService&&this._editorService&&this._isEnabled())},t.prototype.onError=function(e){this._messageService.show(W.Severity.Error,e)},t.prototype.onWarning=function(e){this._messageService.show(W.Severity.Warning,e)},t.prototype.onErrorWithRetry=function(e,t,n){var r=[new m.Action(this.id,i.localize(0,null),null,(!0),function(){return t()}),W.CancelAction];n&&r.unshift(n);var o={actions:r,message:u.toErrorMessage(e,!1)};this._messageService.show(W.Severity.Error,o)},t=g([v(2,V.IWorkspaceContextService),v(3,D.IWorkbenchEditorService),v(4,C.IFileService),v(5,W.IMessageService),v(6,_.ITextFileService),v(7,N.IEventService)],t)}(m.Action);t.BaseFileAction=K;var j=function(e){function t(n,r,o,s,a,c,u,l,h){e.call(this,t.ID,i.localize(1,null),o,s,a,c,u,l),this.tree=n,this.element=r,this.renameAction=h.createInstance($,r),this._updateEnablement()}return d(t,e),t.prototype.validateFileName=function(e,t){return this.renameAction.validateFileName(this.element.parent,t)},t.prototype.run=function(e){var t=this;if(!e)return n.TPromise.wrapError("No context provided to BaseEnableFileRenameAction.");var i=e.viewletState;if(!i)return n.TPromise.wrapError("Invalid viewlet state provided to BaseEnableFileRenameAction.");var r=e.stat;return r?(i.setEditable(r,{action:this.renameAction,validator:function(e){var n=t.validateFileName(t.element.parent,e);return n?{content:n,formatContent:!0,type:y.MessageType.ERROR}:null}}),void this.tree.refresh(r,!1).then(function(){t.tree.setHighlight(r);var e=t.tree.addListener2(h.EventType.HIGHLIGHT,function(n){n.highlight||(i.clearEditable(r),t.tree.refresh(r).done(null,c.onUnexpectedError),e.dispose())})}).done(null,c.onUnexpectedError)):n.TPromise.wrapError("Invalid stat provided to BaseEnableFileRenameAction.")},t.ID="workbench.files.action.triggerRename",t=g([v(2,V.IWorkspaceContextService),v(3,D.IWorkbenchEditorService),v(4,C.IFileService),v(5,W.IMessageService),v(6,_.ITextFileService),v(7,N.IEventService),v(8,F.IInstantiationService)],t)}(K);t.TriggerRenameFileAction=j;var q=function(e){function t(t,n,i,r,o,s,a,c,u){e.call(this,t,n,r,o,s,a,c,u),this.element=i}return d(t,e),t.prototype.run=function(e){var t=this;if(!e)return n.TPromise.wrapError("No context provided to BaseRenameFileAction.");var i=e.value;if(!i)return n.TPromise.wrapError("No new name provided to BaseRenameFileAction.");i=G(i);var r=G(this.element.name);if(i===r||this.validateFileName(this.element.parent,i))return n.TPromise.as(null);var o=this.runAction(i).then(function(e){e&&t.onSuccess(e)},function(e){t.onError(e)});return o},t.prototype.validateFileName=function(e,t){
var n=this.element.name,i=t;return r.isLinux||(n=n.toLowerCase(),i=i.toLowerCase()),G(n)===G(i)?null:U(e,t,!1)},t.prototype.onSuccess=function(e){var t=null;this.element instanceof x.NewStatPlaceholder||(t=this.element.clone()),this.eventService.emit("files.internal:fileChanged",new _.LocalFileChangeEvent(t,e))},t=g([v(3,V.IWorkspaceContextService),v(4,D.IWorkbenchEditorService),v(5,C.IFileService),v(6,W.IMessageService),v(7,_.ITextFileService),v(8,N.IEventService)],t)}(K);t.BaseRenameAction=q;var $=function(e){function t(n,r,o,s,a,c,u){e.call(this,t.ID,i.localize(2,null),n,r,o,s,a,c,u),this._updateEnablement()}return d(t,e),t.prototype.runAction=function(e){var t=this,r=n.TPromise.as(null),o=this.textFileService.getDirty().filter(function(e){return s.isEqualOrParent(e.fsPath,t.element.resource.fsPath)});if(o.length){var a=void 0;a=this.element.isDirectory?1===o.length?i.localize(3,null):i.localize(4,null,o.length):i.localize(5,null);var c=this.messageService.confirm({message:a,type:"warning",detail:i.localize(6,null),primaryButton:i.localize(7,null)});if(!c)return n.TPromise.as(null);r=this.textFileService.revertAll(o)}return r.then(function(){return t.fileService.rename(t.element.resource,e).then(null,function(n){t.onErrorWithRetry(n,function(){return t.runAction(e)})})})},t.ID="workbench.files.action.renameFile",t=g([v(1,V.IWorkspaceContextService),v(2,D.IWorkbenchEditorService),v(3,C.IFileService),v(4,W.IMessageService),v(5,_.ITextFileService),v(6,N.IEventService)],t)}(q);t.RenameFileAction=$;var Y=function(e){function t(t,n,i,r,o,s,a,c,u,l,h,d){e.call(this,t,n,a,c,u,l,h,d),s&&(this.presetFolder=s.isDirectory?s:s.parent),this.tree=i,this.isFile=r,this.renameAction=o}return d(t,e),t.prototype.run=function(e){var t=this;if(!e)return n.TPromise.wrapError("No context provided to BaseNewAction.");var i=e.viewletState;if(!i)return n.TPromise.wrapError("Invalid viewlet state provided to BaseNewAction.");var r=this.presetFolder;if(!r){var o=this.tree.getFocus();r=o?o.isDirectory?o:o.parent:this.tree.getInput()}return r?this.tree.reveal(r,.5).then(function(){return t.tree.expand(r).then(function(){var e=x.NewStatPlaceholder.addNewStatPlaceholder(r,!t.isFile);return t.renameAction.element=e,i.setEditable(e,{action:t.renameAction,validator:function(e){var n=t.renameAction.validateFileName(r,e);return n?{content:n,formatContent:!0,type:y.MessageType.ERROR}:null}}),t.tree.refresh(r).then(function(){return t.tree.expand(r).then(function(){return t.tree.reveal(e,.5).then(function(){t.tree.setHighlight(e);var n=t.tree.addListener2(h.EventType.HIGHLIGHT,function(i){i.highlight||(e.destroy(),t.tree.refresh(r).done(null,c.onUnexpectedError),n.dispose())})})})})})}):n.TPromise.wrapError("Invalid parent folder to create.")},t=g([v(6,V.IWorkspaceContextService),v(7,D.IWorkbenchEditorService),v(8,C.IFileService),v(9,W.IMessageService),v(10,_.ITextFileService),v(11,N.IEventService)],t)}(K);t.BaseNewAction=Y;var X=function(e){function t(t,n,r,o,s,a,c,u,l){e.call(this,"workbench.action.files.newFile",i.localize(8,null),t,!0,l.createInstance(ie,n),null,r,o,s,a,c,u),this.class="explorer-action new-file",this._updateEnablement()}return d(t,e),t=g([v(2,V.IWorkspaceContextService),v(3,D.IWorkbenchEditorService),v(4,C.IFileService),v(5,W.IMessageService),v(6,_.ITextFileService),v(7,N.IEventService),v(8,F.IInstantiationService)],t)}(Y);t.NewFileAction=X;var Q=function(e){function t(t,n,r,o,s,a,c,u,l){e.call(this,"workbench.action.files.newFolder",i.localize(9,null),t,!1,l.createInstance(re,n),null,r,o,s,a,c,u),this.class="explorer-action new-folder",this._updateEnablement()}return d(t,e),t=g([v(2,V.IWorkspaceContextService),v(3,D.IWorkbenchEditorService),v(4,C.IFileService),v(5,W.IMessageService),v(6,_.ITextFileService),v(7,N.IEventService),v(8,F.IInstantiationService)],t)}(Y);t.NewFolderAction=Q;var Z=function(e){function t(t,n,i,r,o){e.call(this,t,n),this.viewletService=i,this.instantiationService=r,this.messageService=o}return d(t,e),t.prototype.run=function(){var e=this;return this.viewletService.openViewlet(S.VIEWLET_ID,!0).then(function(t){return n.TPromise.timeout(100).then(function(){t.focus();var n=t,r=n.getExplorerView();if(!r)return e.messageService.show(W.Severity.Info,i.localize(10,null));r.isExpanded()||r.expand();var o=e.toDispose=e.instantiationService.createInstance(e.getAction(),r.getViewer(),null);return n.getActionRunner().run(o)})})},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.toDispose&&(this.toDispose.dispose(),this.toDispose=null)},t=g([v(2,O.IViewletService),v(3,F.IInstantiationService),v(4,W.IMessageService)],t)}(m.Action);t.BaseGlobalNewAction=Z;var J=function(e){function t(t,n,i,r){e.call(this,t,n),this.editorService=i,this.untitledEditorService=r}return d(t,e),t.prototype.run=function(){var e=this.untitledEditorService.createOrGet();return this.editorService.openEditor(e,{pinned:!0})},t.ID="workbench.action.files.newUntitledFile",t.LABEL=i.localize(11,null),t=g([v(2,D.IWorkbenchEditorService),v(3,A.IUntitledEditorService)],t)}(m.Action);t.GlobalNewUntitledFileAction=J;var ee=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getAction=function(){return X},t.ID="workbench.action.files.newFile",t.LABEL=i.localize(12,null),t}(Z);t.GlobalNewFileAction=ee;var te=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getAction=function(){return Q},t.ID="workbench.action.files.newFolder",t.LABEL=i.localize(13,null),t}(Z);t.GlobalNewFolderAction=te;var ne=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.validateFileName=function(t,n){return this.element instanceof x.NewStatPlaceholder?U(t,n,!1):e.prototype.validateFileName.call(this,t,n)},t}(q);t.BaseCreateAction=ne;var ie=function(e){function t(n,i,r,o,s,a,c){e.call(this,t.ID,t.LABEL,n,i,r,o,s,a,c),this._updateEnablement()}return d(t,e),t.prototype.runAction=function(e){var t=this;return this.fileService.createFile(a.default.file(s.join(this.element.parent.resource.fsPath,e))).then(null,function(n){t.onErrorWithRetry(n,function(){return t.runAction(e)})})},t.ID="workbench.files.action.createFileFromExplorer",t.LABEL=i.localize(14,null),t=g([v(1,V.IWorkspaceContextService),v(2,D.IWorkbenchEditorService),v(3,C.IFileService),v(4,W.IMessageService),v(5,_.ITextFileService),v(6,N.IEventService)],t)}(ne);t.CreateFileAction=ie;var re=function(e){function t(n,i,r,o,s,a,c){e.call(this,t.ID,t.LABEL,null,i,r,o,s,a,c),this._updateEnablement()}return d(t,e),t.prototype.runAction=function(e){var t=this;return this.fileService.createFolder(a.default.file(s.join(this.element.parent.resource.fsPath,e))).then(null,function(n){t.onErrorWithRetry(n,function(){return t.runAction(e)})})},t.ID="workbench.files.action.createFolderFromExplorer",t.LABEL=i.localize(15,null),t=g([v(1,V.IWorkspaceContextService),v(2,D.IWorkbenchEditorService),v(3,C.IFileService),v(4,W.IMessageService),v(5,_.ITextFileService),v(6,N.IEventService)],t)}(ne);t.CreateFolderAction=re;var oe=function(e){function t(t,n,i,r,o,a,c,u,l,h,d){e.call(this,t,n,a,c,u,l,h,d),this.tree=i,this.element=r,this.useTrash=o&&!s.isUNC(r.resource.fsPath),this._updateEnablement()}return d(t,e),t.prototype.run=function(e){var t=this;if(this.tree&&this.tree.clearHighlight(),e&&e.event){var o=r.isMacintosh&&e.event.altKey||!r.isMacintosh&&e.event.shiftKey;o&&(this.useTrash=!1)}var a;a=this.useTrash?r.isWindows?i.localize(16,null):i.localize(17,null):i.localize(18,null);var c=n.TPromise.as(null),u=this.textFileService.getDirty().filter(function(e){return s.isEqualOrParent(e.fsPath,t.element.resource.fsPath)});if(u.length){var l=void 0;l=this.element.isDirectory?1===u.length?i.localize(19,null):i.localize(20,null,u.length):i.localize(21,null);var h=this.messageService.confirm({message:l,type:"warning",detail:i.localize(22,null),primaryButton:a});if(!h)return n.TPromise.as(null);this.skipConfirm=!0,c=this.textFileService.revertAll(u)}return c.then(function(){if(!t.skipConfirm){var e;if(e=t.useTrash?{message:t.element.isDirectory?i.localize(23,null,t.element.name):i.localize(24,null,t.element.name),detail:r.isWindows?i.localize(25,null):i.localize(26,null),primaryButton:a}:{message:t.element.isDirectory?i.localize(27,null,t.element.name):i.localize(28,null,t.element.name),detail:i.localize(29,null),primaryButton:a},!t.messageService.confirm(e))return n.TPromise.as(null)}t.eventService.emit("files.internal:fileChanged",new _.LocalFileChangeEvent(t.element.clone(),null));var o=t.fileService.del(t.element.resource,t.useTrash).then(function(){t.element.parent&&t.tree.setFocus(t.element.parent)},function(e){var n;t.useTrash&&(n=new m.Action("permanentDelete",i.localize(30,null),null,(!0),function(){return t.useTrash=!1,t.skipConfirm=!0,t.run()})),t.onErrorWithRetry(e,function(){return t.run()},n);var r=new _.LocalFileChangeEvent(new x.FileStat(t.contextService.getWorkspace().resource,(!0),(!0)),new x.FileStat(t.contextService.getWorkspace().resource,(!0),(!0)));t.eventService.emit("files.internal:fileChanged",r),t.tree.DOMFocus()});return o})},t=g([v(5,V.IWorkspaceContextService),v(6,D.IWorkbenchEditorService),v(7,C.IFileService),v(8,W.IMessageService),v(9,_.ITextFileService),v(10,N.IEventService)],t)}(K);t.BaseDeleteFileAction=oe;var se=function(e){function t(n,r,o,s,a,c,u,l){e.call(this,t.ID,i.localize(31,null),n,r,!0,o,s,a,c,u,l)}return d(t,e),t.ID="workbench.files.action.moveFileToTrash",t=g([v(2,V.IWorkspaceContextService),v(3,D.IWorkbenchEditorService),v(4,C.IFileService),v(5,W.IMessageService),v(6,_.ITextFileService),v(7,N.IEventService)],t)}(oe);t.MoveFileToTrashAction=se;var ae=function(e){function t(n,r,o,s,a,c,u,l,h){e.call(this,t.ID,i.localize(32,null),s,a,c,u,l,h),this.tree=n,this.element=r,o&&(this.class=o),this._updateEnablement()}return d(t,e),t.prototype.getViewer=function(){return this.tree},t.prototype.run=function(e){var t=this,s=n.TPromise.as(null).then(function(){var n=e.input;if(n.files&&n.files.length>0){var s;s=t.element?t.element:t.tree.getFocus()||t.tree.getInput(),s.isDirectory||(s=s.parent);for(var c=[],u=0;u<n.files.length;u++){var l=n.files[u];c.push(l)}return t.fileService.resolveFile(s.resource).then(function(n){var u={};n.children.forEach(function(e){u[r.isLinux?e.name:e.name.toLowerCase()]=e});var l=!0;if(c.some(function(e){return!!u[r.isLinux?e.name:e.name.toLowerCase()]})){var h={message:i.localize(33,null),detail:i.localize(34,null),primaryButton:i.localize(35,null)};l=t.messageService.confirm(h)}if(l){var d=[];return c.forEach(function(n){d.push(function(){var i=a.default.file(n.path);return t.fileService.importFile(i,s.resource).then(function(i){if(i.stat){var o=u[r.isLinux?n.name:n.name.toLowerCase()];o&&o.resource.fsPath!==i.stat.resource.fsPath&&t.eventService.emit("files.internal:fileChanged",new _.LocalFileChangeEvent(o,null)),t.eventService.emit("files.internal:fileChanged",new ce(i.stat,i.isNew,e.event))}},function(e){t.messageService.show(W.Severity.Error,e)})})}),o.sequence(d)}})}});return s.then(function(){t.tree.clearHighlight()},function(e){t.onError(e),t.tree.clearHighlight()})},t.ID="workbench.files.action.importFile",t=g([v(3,V.IWorkspaceContextService),v(4,D.IWorkbenchEditorService),v(5,C.IFileService),v(6,W.IMessageService),v(7,_.ITextFileService),v(8,N.IEventService)],t)}(K);t.ImportFileAction=ae;var ce=function(e){function t(t,n,i){e.call(this,null,t,i),this.isNew=n}return d(t,e),t.prototype.gotAdded=function(){return this.isNew},t.prototype.gotMoved=function(){return!1},t.prototype.gotUpdated=function(){return!this.isNew},t.prototype.gotDeleted=function(){return!1},t}(_.LocalFileChangeEvent);t.FileImportedEvent=ce;var ue,le=function(e){function t(n,r,o,s,a,c,u,l){e.call(this,t.ID,i.localize(36,null),o,s,a,c,u,l),this.tree=n,this.element=r,this._updateEnablement()}return d(t,e),t.prototype.run=function(){return ue=this.element,this.tree&&this.tree.clearHighlight(),this.tree.DOMFocus(),n.TPromise.as(null)},t.ID="workbench.files.action.copyFile",t=g([v(2,V.IWorkspaceContextService),v(3,D.IWorkbenchEditorService),v(4,C.IFileService),v(5,W.IMessageService),v(6,_.ITextFileService),v(7,N.IEventService)],t)}(K);t.CopyFileAction=le;var he=function(e){function t(n,r,o,s,a,c,u,l,h){e.call(this,t.ID,i.localize(37,null),o,s,a,c,u,l),this.instantiationService=h,this.tree=n,this.element=r,this._updateEnablement()}return d(t,e),t.prototype._isEnabled=function(){if(!ue)return!1;var e=this.tree.getInput(),t=e.find(ue.resource);return t?this.element.resource.toString()===ue.resource.toString()||!s.isEqualOrParent(this.element.resource.fsPath,ue.resource.fsPath):(ue=null,!1)},t.prototype.run=function(){var e,t=this;e=this.element.resource.toString()===ue.resource.toString()?this.element.parent:this.element.isDirectory?this.element:this.element.parent;var n=this.instantiationService.createInstance(de,this.tree,ue,e);return n.run().then(function(){t.tree.DOMFocus()})},t.ID="workbench.files.action.pasteFile",t=g([v(2,V.IWorkspaceContextService),v(3,D.IWorkbenchEditorService),v(4,C.IFileService),v(5,W.IMessageService),v(6,_.ITextFileService),v(7,N.IEventService),v(8,F.IInstantiationService)],t)}(K);t.PasteFileAction=he;var de=function(e){function t(t,n,r,o,s,a,c,u,l){e.call(this,"workbench.files.action.duplicateFile",i.localize(38,null),o,s,a,c,u,l),this.tree=t,this.element=n,this.target=r&&r.isDirectory?r:n.parent,this._updateEnablement()}return d(t,e),t.prototype.run=function(){var e=this;this.tree&&this.tree.clearHighlight();var t=this.fileService.copyFile(this.element.resource,this.findTarget()).then(function(t){e.eventService.emit("files.internal:fileChanged",new _.LocalFileChangeEvent(null,t))},function(t){e.onError(t)});return t},t.prototype.onError=function(e){this.messageService.show(W.Severity.Error,e)},t.prototype.findTarget=function(){for(var e=this.tree.getInput(),t=this.element.name,n=a.default.file(s.join(this.target.resource.fsPath,t));;){if(!e.find(n))break;t=this.toCopyName(t,this.element.isDirectory),n=a.default.file(s.join(this.target.resource.fsPath,t))}return n},t.prototype.toCopyName=function(e,t){if(!t&&e.match(/(\d+)(\..*)$/))return e.replace(/(\d+)(\..*)$/,function(e,t,n){return parseInt(t)+1+n});var n=e.lastIndexOf(".");return!t&&n>=0?l.format("{0}.1{1}",e.substr(0,n),e.substr(n)):t&&e.match(/(\d+)$/)?e.replace(/(\d+)$/,function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return String(parseInt(t[0])+1)}):l.format("{0}.1",e)},t=g([v(3,V.IWorkspaceContextService),v(4,D.IWorkbenchEditorService),v(5,C.IFileService),v(6,W.IMessageService),v(7,_.ITextFileService),v(8,N.IEventService)],t)}(K);t.DuplicateFileAction=de;var pe=function(e){function t(n,i,r,o){e.call(this,t.ID,t.LABEL),this.editorService=o,this.tree=n,this.preserveFocus=r,this.resource=i,this.updateEnablement()}return d(t,e),t.prototype.updateEnablement=function(){var e=this.editorService.getActiveEditor();this.enabled=!e||e.position!==M.Position.THREE},t.prototype.run=function(){return this.tree.clearHighlight(),this.editorService.openEditor({resource:this.resource,options:{preserveFocus:this.preserveFocus}},!0)},t.ID="workbench.files.action.openToSide",t.LABEL=i.localize(39,null),t=g([v(3,D.IWorkbenchEditorService)],t)}(m.Action);t.OpenToSideAction=pe;var fe,ge=function(e){function t(t,n){e.call(this,"workbench.files.action.selectForCompare",i.localize(40,null)),this.tree=n,this.resource=t,this.enabled=!0}return d(t,e),t.prototype.run=function(){return fe=this.resource,this.tree&&(this.tree.clearHighlight(),this.tree.DOMFocus()),n.TPromise.as(null)},t}(m.Action);t.SelectResourceForCompareAction=ge;var ve=function(e){function t(t,n,i,r,o,s,a,c){e.call(this,t,n),this.quickOpenService=i,this.instantiationService=r,this.editorService=o,this.historyService=s,this.contextService=a,this.messageService=c}return d(t,e),t.prototype.run=function(){var e=this,t=I.asFileEditorInput(this.editorService.getActiveEditorInput());if(t){fe=t.getResource();var r=this.historyService.getHistory(),o=r.map(function(t){var n,i,r;if(!(t instanceof I.EditorInput)){var o=t;return n=o.resource,i=s.basename(o.resource.fsPath),r=E.getPathLabel(s.dirname(n.fsPath),e.contextService),{input:t,resource:n,label:i,description:r}}}).filter(function(e){return!!e});return this.quickOpenService.pick(o,{placeHolder:i.localize(42,null),autoFocus:{autoFocusFirstEntry:!0},matchOnDescription:!0}).then(function(t){if(t){var n=e.instantiationService.createInstance(me,t.resource,null);n._isEnabled()?n.run().done(function(){return n.dispose()}):e.messageService.show(W.Severity.Info,i.localize(43,null,s.basename(fe.fsPath)))}})}return this.messageService.show(W.Severity.Info,i.localize(44,null)),n.TPromise.as(!0)},t.ID="workbench.files.action.compareFileWith",t.LABEL=i.localize(41,null),t=g([v(2,P.IQuickOpenService),v(3,F.IInstantiationService),v(4,D.IWorkbenchEditorService),v(5,R.IHistoryService),v(6,V.IWorkspaceContextService),v(7,W.IMessageService)],t)}(m.Action);t.GlobalCompareResourcesAction=ve;var me=function(e){function t(n,i,r,o,s){e.call(this,"workbench.files.action.compareFiles",t.computeLabel()),this.contextService=r,this.instantiationService=o,this.editorService=s,this.tree=i,this.resource=n}return d(t,e),t.computeLabel=function(){return fe?i.localize(45,null,s.basename(fe.fsPath)):i.localize(46,null)},t.prototype.getLabel=function(){return t.computeLabel()},t.prototype._isEnabled=function(){if(!fe)return!1;if(this.tree){var e=this.tree.getInput();if(e instanceof x.FileStat){var t=e.find(fe);if(!t)return fe=null,!1}}return this.resource.toString()!==fe.toString()},t.prototype.run=function(){this.tree&&this.tree.clearHighlight();var e=this.instantiationService.createInstance(T.FileEditorInput,fe,void 0),t=this.instantiationService.createInstance(T.FileEditorInput,this.resource,void 0);return this.editorService.openEditor(new w.DiffEditorInput(w.toDiffLabel(fe,this.resource,this.contextService),null,e,t))},t=g([v(2,V.IWorkspaceContextService),v(3,F.IInstantiationService),v(4,D.IWorkbenchEditorService)],t)}(m.Action);t.CompareResourcesAction=me;var ye=function(e){function t(t,n){e.call(this,"workbench.files.action.refreshFilesExplorer",i.localize(47,null),n,!0,function(e){return t.refresh()})}return d(t,e),t}(m.Action);t.RefreshViewExplorerAction=ye;var be=function(e){function t(t,n,i){e.call(this,t,n),this.messageService=i}return d(t,e),t.prototype.run=function(e){var t=this;return this.doRun(e).then(function(){return!0},function(e){t.messageService.show(W.Severity.Error,u.toErrorMessage(e,!1))})},t}(m.Action);t.BaseActionWithErrorReporting=be;var Se=function(e){function t(t,n,i,r,o,s){e.call(this,t,n,s),this.editorService=i,this.textFileService=r,this.untitledEditorService=o,this.enabled=!0}return d(t,e),t.prototype.setResource=function(e){this.resource=e},t.prototype.doRun=function(e){var t,i=this;if(t=this.resource?this.resource:I.getUntitledOrFileResource(this.editorService.getActiveEditorInput(),!0)){if(this.isSaveAs()||"untitled"===t.scheme){var r;if("untitled"===t.scheme)r=this.untitledEditorService.get(t).getEncoding();else if("file"===t.scheme){var o=this.textFileService.models.get(t);r=o&&o.getEncoding()}var s,c=this.editorService.getActiveEditor(),u=H.getCodeEditor(c);if(u){var l=I.getUntitledOrFileResource(c.input,!0);l&&l.toString()===t.toString()&&(s=u.getSelection())}var h=void 0;return h=!this.isSaveAs()&&"untitled"===t.scheme&&this.untitledEditorService.hasAssociatedFilePath(t)?this.textFileService.save(t).then(function(e){return e?a.default.file(t.fsPath):null}):this.textFileService.saveAs(t),h.then(function(e){if(e&&e.toString()!==t.toString()){var n={resource:e,encoding:r,options:{pinned:!0,selection:s}};return i.editorService.replaceEditors([{toReplace:{resource:t},replaceWith:n}]).then(function(){return!0})}})}return this.textFileService.save(t,{force:!0})}return n.TPromise.as(!1)},t=g([v(2,D.IWorkbenchEditorService),v(3,_.ITextFileService),v(4,A.IUntitledEditorService),v(5,W.IMessageService)],t)}(be);t.BaseSaveFileAction=Se;var Ee=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.isSaveAs=function(){return!1},t.ID="workbench.action.files.save",t.LABEL=i.localize(48,null),t}(Se);t.SaveFileAction=Ee;var _e=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.isSaveAs=function(){return!0},t.ID="workbench.action.files.saveAs",t.LABEL=i.localize(49,null),t}(Se);t.SaveFileAsAction=_e;var Ce=function(e){function t(t,n,i,r,o,s,a){e.call(this,t,n,a),this.editorService=i,this.editorGroupService=r,this.textFileService=o,this.untitledEditorService=s,this.toDispose=[],this.lastIsDirty=this.textFileService.isDirty(),this.enabled=this.lastIsDirty,this.registerListeners()}return d(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.textFileService.models.onModelDirty(function(t){return e.updateEnablement(!0)})),this.toDispose.push(this.textFileService.models.onModelSaved(function(t){return e.updateEnablement(!1)})),this.toDispose.push(this.textFileService.models.onModelReverted(function(t){return e.updateEnablement(!1)})),this.toDispose.push(this.textFileService.models.onModelSaveError(function(t){return e.updateEnablement(!0)})),this.includeUntitled()&&this.toDispose.push(this.untitledEditorService.onDidChangeDirty(function(t){return e.updateEnablement(e.untitledEditorService.isDirty(t))}))},t.prototype.updateEnablement=function(e){this.lastIsDirty!==e&&(this.enabled=this.textFileService.isDirty(),this.lastIsDirty=this.enabled)},t.prototype.doRun=function(e){var t=this,n=this.editorGroupService.getStacksModel(),i=Object.create(null);return this.textFileService.getDirty().filter(function(e){return"untitled"===e.scheme}).map(function(e){return t.untitledEditorService.get(e)}).filter(function(e){return!!e}).forEach(function(e){i[e.getResource().toString()]={encoding:e.getEncoding(),indexInGroups:n.groups.map(function(t){return t.indexOf(e)}),activeInGroups:n.groups.map(function(t){return t.isActive(e)})}}),this.textFileService.saveAll(this.getSaveAllArguments(e)).then(function(e){var n=[];if(e.results.forEach(function(e){if(e.success&&"untitled"===e.source.scheme){var t=i[e.source.toString()];t&&t.indexInGroups.forEach(function(i,r){i>=0&&n.push({input:{resource:e.target,encoding:t.encoding,options:{pinned:!0,index:i,preserveFocus:!0,inactive:!t.activeInGroups[r]}},position:r})})}}),n.length)return t.editorService.openEditors(n).then(function(){return!0})})},t.prototype.dispose=function(){this.toDispose=b.dispose(this.toDispose),e.prototype.dispose.call(this)},t=g([v(2,D.IWorkbenchEditorService),v(3,k.IEditorGroupService),v(4,_.ITextFileService),v(5,A.IUntitledEditorService),v(6,W.IMessageService)],t)}(be);t.BaseSaveAllAction=Ce;var we=function(e){function t(){e.apply(this,arguments)}return d(t,e),Object.defineProperty(t.prototype,"class",{get:function(){return"explorer-action save-all"},enumerable:!0,configurable:!0}),t.prototype.getSaveAllArguments=function(){return this.includeUntitled()},t.prototype.includeUntitled=function(){return!0},t.ID="workbench.action.files.saveAll",t.LABEL=i.localize(50,null),t}(Ce);t.SaveAllAction=we;var Ie=function(e){function t(){e.apply(this,arguments)}return d(t,e),Object.defineProperty(t.prototype,"class",{get:function(){return"explorer-action save-all"},enumerable:!0,configurable:!0}),t.prototype.getSaveAllArguments=function(e){if(!e)return this.includeUntitled();var t=e.group,n=[];return t.getEditors().forEach(function(e){var t=I.getUntitledOrFileResource(e,!0);t&&n.push(t)}),n},t.prototype.includeUntitled=function(){return!0},t.ID="workbench.files.action.saveAllInGroup",t.LABEL=i.localize(51,null),t}(Ce);t.SaveAllInGroupAction=Ie;var Te=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getSaveAllArguments=function(){return this.includeUntitled()},t.prototype.includeUntitled=function(){return!1},t.ID="workbench.action.files.saveFiles",t.LABEL=i.localize(52,null),t}(Ce);t.SaveFilesAction=Te;var xe=function(e){function t(t,n,i,r){e.call(this,t,n),this.editorService=i,this.textFileService=r,this.enabled=!0}return d(t,e),t.prototype.setResource=function(e){this.resource=e},t.prototype.run=function(){var e;if(this.resource)e=this.resource;else{var t=I.asFileEditorInput(this.editorService.getActiveEditorInput(),!0);t&&(e=t.getResource())}return e&&"untitled"!==e.scheme?this.textFileService.revert(e,!0):n.TPromise.as(!0)},t.ID="workbench.action.files.revert",t.LABEL=i.localize(53,null),t=g([v(2,D.IWorkbenchEditorService),v(3,_.ITextFileService)],t)}(m.Action);t.RevertFileAction=xe;var Ae=function(e){function t(t,n,i){e.call(this,t,n),this.viewletService=i}return d(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(S.VIEWLET_ID,!0).then(function(e){var t=e.getOpenEditorsView();t&&(t.expand(),t.getViewer().DOMFocus())})},t.ID="workbench.files.action.focusOpenEditorsView",t.LABEL=i.localize(54,null),t=g([v(2,O.IViewletService)],t)}(m.Action);t.FocusOpenEditorsView=Ae;var De=function(e){function t(t,n,i){e.call(this,t,n),this.viewletService=i}return d(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(S.VIEWLET_ID,!0).then(function(e){var t=e.getExplorerView();t&&(t.expand(),t.getViewer().DOMFocus())})},t.ID="workbench.files.action.focusFilesExplorer",t.LABEL=i.localize(55,null),t=g([v(2,O.IViewletService)],t)}(m.Action);t.FocusFilesExplorer=De;var Le=function(e){function t(t,n,i,r,o,s){e.call(this,t,n),this.editorService=i,this.viewletService=r,this.contextService=o,this.messageService=s}return d(t,e),t.prototype.run=function(){var e=this,t=I.asFileEditorInput(this.editorService.getActiveEditorInput(),!0);return t?this.viewletService.openViewlet(S.VIEWLET_ID,!1).then(function(n){var i=e.contextService.isInsideWorkspace(t.getResource());if(i){var r=n.getExplorerView();r&&(r.expand(),r.select(t.getResource(),!0))}else{var o=n.getOpenEditorsView();o&&o.expand()}}):(this.messageService.show(p.default.Info,i.localize(57,null)),n.TPromise.as(!0))},t.ID="workbench.files.action.showActiveFileInExplorer",t.LABEL=i.localize(56,null),t=g([v(2,D.IWorkbenchEditorService),v(3,O.IViewletService),v(4,V.IWorkspaceContextService),v(5,W.IMessageService)],t)}(m.Action);t.ShowActiveFileInExplorer=Le;var ke=function(e){function t(t,n,i){e.call(this,t,n),this.viewletService=i}return d(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(S.VIEWLET_ID,!0).then(function(e){var t=e.getExplorerView();if(t){var n=t.getViewer();if(n){var i=new L.CollapseAction(n,(!0),null);i.run().done(),i.dispose()}}})},t.ID="workbench.files.action.collapseExplorerFolders",t.LABEL=i.localize(58,null),t=g([v(2,O.IViewletService)],t)}(m.Action);t.CollapseExplorerView=ke;var Pe=function(e){function t(t,n,i){e.call(this,t,n),this.viewletService=i}return d(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(S.VIEWLET_ID,!0).then(function(e){var t=e.getExplorerView();t&&t.refresh()})},t.ID="workbench.files.action.refreshFilesExplorer",t.LABEL=i.localize(59,null),t=g([v(2,O.IViewletService)],t)}(m.Action);t.RefreshExplorerView=Pe,t.keybindingForAction=z,t.validateFileName=U,t.getWellFormedFileName=G;var Re;Re||(Re=f.register("FileActionsDiagnostics",function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];console.log(e[1]+" - "+e[0]+" (time: "+e[2].getTime()+" ["+e[2].toUTCString()+"])")}))}),define(l[391],h([1,0,2,552,7,97,20,24,16,61,72,158,126,192,140,33,22,55,6,18,54,40,5,265,73]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x){"use strict";function A(){for(;k.length>0;)k.pop()()}var D=function(){function e(e,t,n,i,r,o){this.messageService=e,this.textFileService=t,this.textModelResolverService=n,this.modelService=i,this.modeService=r,this.instantiationService=o,this.messages=Object.create(null),this.toUnbind=[],this.textModelResolverService.registerTextModelContentProvider("disk",this),T.TextFileEditorModel.setSaveErrorHandler(this),this.registerListeners()}return e.prototype.provideTextContent=function(e){var t=this;return this.textFileService.resolveTextContent(c.default.file(e.fsPath)).then(function(n){var i=t.modelService.getModel(e);return i?i.setValueFromRawText(n.value):i=t.modelService.createModel(n.value,t.modeService.getOrCreateModeByFilenameOrFirstLine(e.fsPath),e),i})},e.prototype.getId=function(){return"vs.files.saveerrorhandler"},e.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.textFileService.models.onModelSaved(function(t){return e.onFileSavedOrReverted(t.resource)})),this.toUnbind.push(this.textFileService.models.onModelReverted(function(t){return e.onFileSavedOrReverted(t.resource)}))},e.prototype.onFileSavedOrReverted=function(e){var t=this.messages[e.toString()];t&&(t(),this.messages[e.toString()]=void 0)},e.prototype.onSaveError=function(e,t){var c,u=this,l=t.getResource();if(e.fileOperationResult===y.FileOperationResult.FILE_MODIFIED_SINCE)c=this.instantiationService.createInstance(P,t,null);else{var h=e.fileOperationResult===y.FileOperationResult.FILE_READ_ONLY,d=[];d.push(new a.Action("workbench.files.action.saveAs",m.SaveFileAsAction.LABEL,null,(!0),function(){var e=u.instantiationService.createInstance(m.SaveFileAsAction,m.SaveFileAsAction.ID,m.SaveFileAsAction.LABEL);return e.setResource(l),e.run().done(function(){return e.dispose()},r.onUnexpectedError),n.TPromise.as(!0)})),d.push(new a.Action("workbench.files.action.discard",i.localize(0,null),null,(!0),function(){var e=u.instantiationService.createInstance(m.RevertFileAction,m.RevertFileAction.ID,m.RevertFileAction.LABEL);return e.setResource(l),e.run().done(function(){return e.dispose()},r.onUnexpectedError),n.TPromise.as(!0)})),h?d.push(new a.Action("workbench.files.action.overwrite",i.localize(1,null),null,(!0),function(){return t.isDisposed()||t.save({overwriteReadonly:!0}).done(null,r.onUnexpectedError),n.TPromise.as(!0)})):d.push(new a.Action("workbench.files.action.retry",i.localize(2,null),null,(!0),function(){var e=u.instantiationService.createInstance(m.SaveFileAction,m.SaveFileAction.ID,m.SaveFileAction.LABEL);return e.setResource(l),e.run().done(function(){return e.dispose()},r.onUnexpectedError),n.TPromise.as(!0)})),d.push(_.CancelAction);var p=void 0;p=h?i.localize(3,null,s.basename(l.fsPath)):i.localize(4,null,s.basename(l.fsPath),o.toErrorMessage(e,!1)),c={message:p,actions:d}}this.messages[t.getResource().toString()]=this.messageService.show(_.Severity.Error,c)},e.prototype.dispose=function(){this.toUnbind=I.dispose(this.toUnbind)},e=g([v(0,_.IMessageService),v(1,S.ITextFileService),v(2,x.ITextModelResolverService),v(3,w.IModelService),v(4,C.IModeService),v(5,E.IInstantiationService)],e)}();t.SaveErrorHandler=D;var L=function(e){function t(t,n,i,r,o){e.call(this,n,i,r,o),this.model=t}return d(t,e),t.prototype.getModel=function(){return this.model},t.prototype.getTypeId=function(){return t.ID},t.ID="workbench.editors.files.conflictResolutionDiffEditorInput",t}(p.DiffEditorInput);t.ConflictResolutionDiffEditorInput=L;var k=[],P=function(){function e(e,t,r,o,l){var d=this;this.messageService=r,this.instantiationService=o,this.editorService=l,this.model=e;var p=e.getResource();t?this.message=t:this.message=i.localize(5,null,s.basename(p.fsPath)),this.actions=[new a.Action("workbench.files.action.resolveConflict",i.localize(6,null),null,(!0),function(){if(!d.model.isDisposed()){var e=d.instantiationService.createInstance(h.ResourceEditorInput,s.basename(p.fsPath),p.fsPath,c.default.from({scheme:"disk",path:p.fsPath})),t=d.instantiationService.createInstance(f.FileEditorInput,p,void 0),r=d.instantiationService.createInstance(L,d.model,i.localize(7,null,t.getName(),t.getName(),u.default.nameLong),i.localize(8,null),e,t);return d.editorService.openEditor(r).then(function(){d.model.setConflictResolutionMode(),k.push(d.messageService.show(_.Severity.Info,i.localize(9,null)))})}return n.TPromise.as(!0)})]}return e=g([v(2,_.IMessageService),v(3,E.IInstantiationService),v(4,b.IWorkbenchEditorService)],e)}(),R=function(e){function t(t){e.call(this,"workbench.files.action.acceptLocalChanges",i.localize(10,null),"conflict-editor-action accept-changes"),
this.editorService=t}return d(t,e),t.prototype.run=function(){var e=this,t=this.input,n=t.getModel(),i=n.getValue();return A(),n.revert().then(function(){return n.textEditorModel.setValue(i),n.save().then(function(){return e.editorService.openEditor({resource:n.getResource()},e.position).then(function(){t.dispose()})})})},t=g([v(0,b.IWorkbenchEditorService)],t)}(l.EditorInputAction);t.AcceptLocalChangesAction=R;var O=function(e){function t(t){e.call(this,"workbench.action.files.revert",i.localize(11,null),"conflict-editor-action revert-changes"),this.editorService=t}return d(t,e),t.prototype.run=function(){var e=this,t=this.input,n=t.getModel();return A(),n.revert().then(function(){return e.editorService.openEditor({resource:n.getResource()},e.position).then(function(){t.dispose()})})},t=g([v(0,b.IWorkbenchEditorService)],t)}(l.EditorInputAction);t.RevertLocalChangesAction=O}),define(l[1181],h([1,0,550,14,43,68,72,140,391,31,37,6,26,36,181,52]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y){"use strict";var b=function(e){function t(t,n,i){e.call(this),this.instantiationService=t,this.contextService=n,this.keybindingService=i}return d(t,e),t.prototype.hasSecondaryActions=function(e){var t=e.element;return t instanceof m.FileStat},t.prototype.getSecondaryActions=function(e){var t=e.element,n=e.viewer,i=[],o=!1;if(t.isDirectory||(i.push(this.instantiationService.createInstance(a.OpenToSideAction,n,t.resource,!1)),o=!0),o&&i.push(new r.Separator(null,50)),t.isDirectory)i.push(this.instantiationService.createInstance(a.NewFileAction,n,t)),i.push(this.instantiationService.createInstance(a.NewFolderAction,n,t)),i.push(new r.Separator(null,50));else if(!t.isDirectory){var s=this.instantiationService.createInstance(a.CompareResourcesAction,t.resource,n);s._isEnabled()&&i.push(s),i.push(this.instantiationService.createInstance(a.SelectResourceForCompareAction,t.resource,n)),i.push(new r.Separator(null,100))}var c=this.contextService.getWorkspace(),u=c&&t.resource.toString()===c.resource.toString();u||i.push(this.instantiationService.createInstance(a.CopyFileAction,n,t)),t.isDirectory&&i.push(this.instantiationService.createInstance(a.PasteFileAction,n,t)),u||(i.push(new r.Separator(null,150)),i.push(this.instantiationService.createInstance(a.TriggerRenameFileAction,n,t))),u||i.push(this.instantiationService.createInstance(a.MoveFileToTrashAction,n,t));for(var l=10,h=0;h<i.length;h++){var d=i[h];d.order?l=d.order:(l+=10,d.order=l)}return i},t.prototype.getActionItem=function(e,t){if(e&&e.element instanceof m.FileStat){var n=a.keybindingForAction(t.id,this.keybindingService);if(n)return new r.ActionItem(e,t,{label:!0,keybinding:this.keybindingService.getLabelFor(n)})}return null},t=g([v(0,h.IInstantiationService),v(1,p.IWorkspaceContextService),v(2,f.IKeybindingService)],t)}(o.ActionBarContributor),S=function(e){function t(t){e.call(this),this.instantiationService=t}return d(t,e),t.prototype.hasActionsForEditorInput=function(e){return e.input instanceof c.ConflictResolutionDiffEditorInput},t.prototype.getActionsForEditorInput=function(e){return[this.instantiationService.createInstance(c.AcceptLocalChangesAction),this.instantiationService.createInstance(c.RevertLocalChangesAction)]},t=g([v(0,h.IInstantiationService)],t)}(s.EditorInputActionContributor),E=i.Registry.as(o.Extensions.Actionbar);E.registerActionBarContributor(o.Scope.VIEWER,b),E.registerActionBarContributor(o.Scope.EDITOR,S);var _=n.localize(0,null),C=i.Registry.as(l.Extensions.WorkbenchActions);C.registerWorkbenchAction(new u.SyncActionDescriptor(a.SaveFileAction,a.SaveFileAction.ID,a.SaveFileAction.LABEL,{primary:32817}),"Files: Save",_),C.registerWorkbenchAction(new u.SyncActionDescriptor(a.SaveAllAction,a.SaveAllAction.ID,a.SaveAllAction.LABEL,{primary:41009,win:{primary:y.KeyChord(32809,49)}}),"Files: Save All",_),C.registerWorkbenchAction(new u.SyncActionDescriptor(a.SaveFilesAction,a.SaveFilesAction.ID,null),null),C.registerWorkbenchAction(new u.SyncActionDescriptor(a.RevertFileAction,a.RevertFileAction.ID,a.RevertFileAction.LABEL),"Files: Revert File",_),C.registerWorkbenchAction(new u.SyncActionDescriptor(a.GlobalNewFileAction,a.GlobalNewFileAction.ID,a.GlobalNewFileAction.LABEL),"Files: New File",_),C.registerWorkbenchAction(new u.SyncActionDescriptor(a.GlobalNewFolderAction,a.GlobalNewFolderAction.ID,a.GlobalNewFolderAction.LABEL),"Files: New Folder",_),C.registerWorkbenchAction(new u.SyncActionDescriptor(a.GlobalCompareResourcesAction,a.GlobalCompareResourcesAction.ID,a.GlobalCompareResourcesAction.LABEL),"Files: Compare Active File With...",_),C.registerWorkbenchAction(new u.SyncActionDescriptor(a.FocusOpenEditorsView,a.FocusOpenEditorsView.ID,a.FocusOpenEditorsView.LABEL,{primary:y.KeyChord(32809,35)}),"Files: Focus on Open Editors View",_),C.registerWorkbenchAction(new u.SyncActionDescriptor(a.FocusFilesExplorer,a.FocusFilesExplorer.ID,a.FocusFilesExplorer.LABEL),"Files: Focus on Files Explorer",_),C.registerWorkbenchAction(new u.SyncActionDescriptor(a.ShowActiveFileInExplorer,a.ShowActiveFileInExplorer.ID,a.ShowActiveFileInExplorer.LABEL),"Files: Show Active File in Explorer",_),C.registerWorkbenchAction(new u.SyncActionDescriptor(a.CollapseExplorerView,a.CollapseExplorerView.ID,a.CollapseExplorerView.LABEL),"Files: Collapse Folders in Explorer",_),C.registerWorkbenchAction(new u.SyncActionDescriptor(a.RefreshExplorerView,a.RefreshExplorerView.ID,a.RefreshExplorerView.LABEL),"Files: Refresh Explorer",_)}),define(l[1182],h([1,0,16,65,551,31,14,77,37,71,28,33,72,92,1093,391,192,1178,937,87,53,22,13,787]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I){"use strict";var T=function(e){function t(t,n,i,r){e.call(this,t,n,f.VIEWLET_ID,i,r)}return d(t,e),t.ID=f.VIEWLET_ID,t.LABEL=r.localize(0,null),t=g([v(2,C.IViewletService),v(3,w.IWorkbenchEditorService)],t)}(i.ToggleViewletAction);t.OpenExplorerViewletAction=T,s.Registry.as(i.Extensions.Viewlets).registerViewlet(new i.ViewletDescriptor("vs/workbench/parts/files/browser/explorerViewlet","ExplorerViewlet",f.VIEWLET_ID,r.localize(1,null),"explore",0)),s.Registry.as(i.Extensions.Viewlets).setDefaultViewletId(f.VIEWLET_ID);var x={primary:49187},A=s.Registry.as(c.Extensions.WorkbenchActions);A.registerWorkbenchAction(new o.SyncActionDescriptor(T,T.ID,T.LABEL,x),"View: Show Explorer",r.localize(2,null)),s.Registry.as(l.Extensions.Editors).registerEditor(new p.EditorDescriptor(S.TextFileEditor.ID,r.localize(3,null),"vs/workbench/parts/files/browser/editors/textFileEditor","TextFileEditor"),[new _.SyncDescriptor(b.FileEditorInput)]),s.Registry.as(l.Extensions.Editors).registerEditor(new p.EditorDescriptor(E.BinaryFileEditor.ID,r.localize(4,null),"vs/workbench/parts/files/browser/editors/binaryFileEditor","BinaryFileEditor"),[new _.SyncDescriptor(b.FileEditorInput)]);var D=new _.AsyncDescriptor("vs/workbench/parts/files/common/editors/fileEditorInput","FileEditorInput",(void 0),(void 0));s.Registry.as(l.Extensions.Editors).registerDefaultFileInput(D);var L=function(){function e(){}return e.prototype.serialize=function(e){var t=e,n={resource:t.getResource().toString()};return JSON.stringify(n)},e.prototype.deserialize=function(e,t){var i=JSON.parse(t);return e.createInstance(b.FileEditorInput,n.default.parse(i.resource),void 0)},e}();s.Registry.as(l.Extensions.Editors).registerEditorInputFactory(f.FILE_EDITOR_INPUT_ID,L),s.Registry.as(u.Extensions.Workbench).registerWorkbenchContribution(m.FileEditorTracker),s.Registry.as(u.Extensions.Workbench).registerWorkbenchContribution(y.SaveErrorHandler);var k=s.Registry.as(a.Extensions.Configuration);k.registerConfiguration({id:"files",order:9,title:r.localize(5,null),type:"object",properties:{"files.exclude":{type:"object",description:r.localize(6,null),default:{"**/.git":!0,"**/.svn":!0,"**/.hg":!0,"**/.DS_Store":!0},additionalProperties:{anyOf:[{type:"boolean",description:r.localize(7,null)},{type:"object",properties:{when:{type:"string",pattern:"\\w*\\$\\(basename\\)\\w*",default:"$(basename).ext",description:r.localize(8,null)}}}]}},"files.associations":{type:"object",description:r.localize(9,null)},"files.encoding":{type:"string",enum:Object.keys(h.SUPPORTED_ENCODINGS),default:"utf8",description:r.localize(10,null)},"files.eol":{type:"string",enum:["\n","\r\n"],default:I.isLinux||I.isMacintosh?"\n":"\r\n",description:r.localize(11,null)},"files.trimTrailingWhitespace":{type:"boolean",default:!1,description:r.localize(12,null)},"files.insertFinalNewline":{type:"boolean",default:!1,description:r.localize(13,null)},"files.autoSave":{type:"string",enum:[h.AutoSaveConfiguration.OFF,h.AutoSaveConfiguration.AFTER_DELAY,h.AutoSaveConfiguration.ON_FOCUS_CHANGE,,h.AutoSaveConfiguration.ON_WINDOW_CHANGE],default:h.AutoSaveConfiguration.OFF,description:r.localize(14,null,h.AutoSaveConfiguration.OFF,h.AutoSaveConfiguration.AFTER_DELAY,h.AutoSaveConfiguration.ON_FOCUS_CHANGE,h.AutoSaveConfiguration.ON_WINDOW_CHANGE,h.AutoSaveConfiguration.AFTER_DELAY)},"files.autoSaveDelay":{type:"number",default:1e3,description:r.localize(15,null,h.AutoSaveConfiguration.AFTER_DELAY)},"files.watcherExclude":{type:"object",default:I.isLinux||I.isMacintosh?{"**/.git/objects/**":!0,"**/node_modules/**":!0}:{"**/.git/objects/**":!0},description:r.localize(16,null)},"files.hotExit":{type:"boolean",default:!0,description:r.localize(17,null)}}}),k.registerConfiguration({id:"editor",order:5,title:r.localize(18,null),type:"object",properties:{"editor.formatOnSave":{type:"boolean",default:!1,description:r.localize(19,null)}}}),k.registerConfiguration({id:"explorer",order:10,title:r.localize(20,null),type:"object",properties:{"explorer.openEditors.visible":{type:"number",description:r.localize(21,null),default:9},"explorer.openEditors.dynamicHeight":{type:"boolean",description:r.localize(22,null),default:!0},"explorer.autoReveal":{type:"boolean",description:r.localize(23,null),default:!0},"explorer.enableDragAndDrop":{type:"boolean",description:r.localize(24,null),default:!0}}})}),define(l[392],h([1,0,2,555,5,30,8,16,98,17,20,7,21,24,225,101,29,13,142,138,68,55,33,140,174,206,85,242,181,36,22,45,26,25,23,39,47,6,18,123,19,31,241]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P,R,O,M,N,F,W,V,B,H,z,U,G,K){"use strict";var j=function(){function e(e,t,n,i,r){this.progressService=e,this.messageService=t,this.fileService=n,this.partService=i,this.workspace=r.getWorkspace()}return e.prototype.getId=function(e,t){return t.getId()},e.prototype.hasChildren=function(e,t){return t.isDirectory},e.prototype.getChildren=function(e,t){var i=this;if(t.isDirectoryResolved)return n.TPromise.as(t.children);var r=this.fileService.resolveFile(t.resource,{resolveSingleChildDescendants:!0}).then(function(e){for(var n=k.FileStat.create(e),i=0;i<n.children.length;i++)t.addChild(n.children[i]);return t.isDirectoryResolved=!0,t.children},function(e){return i.messageService.show(H.Severity.Error,e),[]});return this.progressService.showWhile(r,this.partService.isCreated()?800:3200),r},e.prototype.getParent=function(e,t){return t?this.workspace&&t.resource.toString()===this.workspace.resource.toString()?n.TPromise.as(null):t.parent?n.TPromise.as(t.parent):n.TPromise.as(null):n.TPromise.as(null)},e=g([v(0,z.IProgressService),v(1,H.IMessageService),v(2,I.IFileService),v(3,O.IPartService),v(4,M.IWorkspaceContextService)],e)}();t.FileDataSource=j;var q=function(e){function t(t){e.call(this),this.state=t}return d(t,e),t.prototype.hasActions=function(t,n){return!(n instanceof k.NewStatPlaceholder)&&e.prototype.hasActions.call(this,t,n)},t.prototype.getActions=function(t,i){return i instanceof k.NewStatPlaceholder?n.TPromise.as([]):e.prototype.getActions.call(this,t,i)},t.prototype.hasSecondaryActions=function(t,n){return!(n instanceof k.NewStatPlaceholder)&&e.prototype.hasSecondaryActions.call(this,t,n)},t.prototype.getSecondaryActions=function(t,i){return i instanceof k.NewStatPlaceholder?n.TPromise.as([]):e.prototype.getSecondaryActions.call(this,t,i)},t.prototype.runAction=function(e,t,i,r){var s=this;if(void 0===r&&(r={}),r=o.mixin({viewletState:this.state,stat:t},r),!p.isString(i)){var a=i;return a.enabled?a.run(r):null}var c=i,u=this.hasActions(e,t)?this.getActions(e,t):n.TPromise.as([]);return u.then(function(i){for(var o=0,a=i.length;o<a;o++)if(i[o].id===c&&i[o].enabled)return i[o].run(r);return u=s.hasSecondaryActions(e,t)?s.getSecondaryActions(e,t):n.TPromise.as([]),u.then(function(e){for(var t=0,n=e.length;t<n;t++)if(e[t].id===c&&e[t].enabled)return e[t].run(r);return null})})},t}(C.ContributableActionProvider);t.FileActionProvider=q;var $=function(){function e(){this._actionProvider=new q(this),this.editableStats=Object.create(null)}return Object.defineProperty(e.prototype,"actionProvider",{get:function(){return this._actionProvider},enumerable:!0,configurable:!0}),e.prototype.getEditableData=function(e){return this.editableStats[e.resource&&e.resource.toString()]},e.prototype.setEditable=function(e,t){t&&(this.editableStats[e.resource&&e.resource.toString()]=t)},e.prototype.clearEditable=function(e){delete this.editableStats[e.resource&&e.resource.toString()]},e}();t.FileViewletState=$;var Y=function(e){function t(t){e.call(this),this.viewletState=t}return d(t,e),t.prototype.run=function(t,n){return e.prototype.run.call(this,t,{viewletState:this.viewletState})},t}(f.ActionRunner);t.ActionRunner=Y;var X=function(e){function t(t,n,i,r){e.call(this,{actionProvider:t.actionProvider,actionRunner:n}),this.contextViewService=i,this.instantiationService=r,this.state=t}return d(t,e),t.prototype.getContentHeight=function(e,n){return t.ITEM_HEIGHT},t.prototype.renderContents=function(e,t,n,i){var r=b.$(n).clearChildren(),o=this.state.getEditableData(t);return o?this.renderInputBox(r,e,t,o):this.renderLabel(r,t)},t.prototype.renderLabel=function(e,t){var n=this.instantiationService.createInstance(_.FileLabel,e.getHTMLElement(),void 0),i=["explorer-item"];return n.setFile(t.resource,{hidePath:!0,isFolder:t.isDirectory,extraClasses:i}),function(){return n.dispose()}},t.prototype.renderInputBox=function(e,t,n,o){var c=this,h=this.instantiationService.createInstance(_.FileLabel,e.getHTMLElement(),void 0),d=["explorer-item","explorer-item-edited"],p=n.isDirectory||n instanceof k.NewStatPlaceholder&&n.isDirectoryPlaceholder(),f={hidePath:!0,hideLabel:!0,isFolder:p,extraClasses:d};h.setFile(n.resource,f);var g=new y.InputBox(h.element,this.contextViewService,{validationOptions:{validation:o.validator,showMessage:!0},ariaLabel:i.localize(0,null)}),v=l.dirname(n.resource.fsPath);g.onDidChange(function(e){h.setFile(a.default.file(l.join(v,e)),f)});var m=n.name||"",b=m.lastIndexOf(".");g.value=m,g.select({start:0,end:b>0&&!n.isDirectory?b:m.length}),g.focus();var S=u.once(function(e){t.clearHighlight(),e&&g.value&&c.state.actionProvider.runAction(t,n,o.action,{value:g.value}),setTimeout(function(){t.DOMFocus(),r.dispose(E)},0)}),E=[g,s.addStandardDisposableListener(g.inputElement,s.EventType.KEY_DOWN,function(e){e.equals(3)?g.validate()&&S(!0):e.equals(9)&&S(!1)}),s.addDisposableListener(g.inputElement,"blur",function(){S(g.isInputValid())}),h];return function(){return S(!0)}},t.ITEM_HEIGHT=22,t=g([v(2,W.IContextViewService),v(3,B.IInstantiationService)],t)}(L.ActionsRenderer);t.FileRenderer=X;var Q=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return i.localize(1,null,t.name)},e}();t.FileAccessibilityProvider=Q;var Z=function(e){function t(t,n,i,r,o,s,a,c,u){e.call(this,{clickBehavior:D.ClickBehavior.ON_MOUSE_UP}),this.editorService=n,this.contextMenuService=i,this.instantiationService=r,this.telemetryService=o,this.keybindingService=u,this.contributedContextMenu=a.createMenu(G.MenuId.ExplorerContext,c),this.workspace=s.getWorkspace(),this.didCatchEnterDown=!1,this.downKeyBindingDispatcher.set(S.isMacintosh?32786:3,this.onEnterDown.bind(this)),this.upKeyBindingDispatcher.set(S.isMacintosh?32786:3,this.onEnterUp.bind(this)),S.isMacintosh?this.upKeyBindingDispatcher.set(4099,this.onModifierEnterUp.bind(this)):this.upKeyBindingDispatcher.set(32771,this.onModifierEnterUp.bind(this)),this.downKeyBindingDispatcher.set(S.isMacintosh?3:60,this.onF2.bind(this)),this.downKeyBindingDispatcher.set(32801,this.onCopy.bind(this)),this.downKeyBindingDispatcher.set(32820,this.onPaste.bind(this)),S.isMacintosh?(this.downKeyBindingDispatcher.set(32784,this.onLeft.bind(this)),this.downKeyBindingDispatcher.set(32769,this.onDelete.bind(this)),this.downKeyBindingDispatcher.set(40961,this.onDelete.bind(this))):(this.downKeyBindingDispatcher.set(20,this.onDelete.bind(this)),this.downKeyBindingDispatcher.set(16404,this.onDelete.bind(this))),this.state=t}return d(t,e),t.prototype.onLeftClick=function(e,t,n,i){void 0===i&&(i="mouse");var r={origin:i},o="mouse"===i&&2===n.detail;if(e.getHighlight())return n.preventDefault(),n.stopPropagation(),e.clearHighlight(r),!1;if(this.workspace&&t.resource.toString()===this.workspace.resource.toString())return e.clearFocus(r),e.clearSelection(r),!1;var s=n&&n.browserEvent&&"mousedown"===n.browserEvent.type;if(s||n.preventDefault(),n.stopPropagation(),e.DOMFocus(),e.toggleExpansion(t),!n.shiftKey||t instanceof k.NewStatPlaceholder){if(!(t instanceof k.NewStatPlaceholder)){var a=!o;e.setFocus(t,r),o&&n.preventDefault(),e.setSelection([t],r),t.isDirectory||this.openEditor(t,a,n&&(n.ctrlKey||n.metaKey),o)}}else{var c=e.getSelection();c&&c.length>0&&c[0]===t&&e.clearSelection(r)}return!0},t.prototype.onContextMenu=function(e,t,n){var i=this;if(n.target&&n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!1;if(n.preventDefault(),n.stopPropagation(),e.setFocus(t),!this.state.actionProvider.hasSecondaryActions(e,t))return!0;var r={x:n.posx+1,y:n.posy};return this.contextMenuService.showContextMenu({getAnchor:function(){return r},getActions:function(){return i.state.actionProvider.getSecondaryActions(e,t).then(function(e){return K.fillInActions(i.contributedContextMenu,t.resource,e),e})},getActionItem:this.state.actionProvider.getActionItem.bind(this.state.actionProvider,e,t),getKeyBinding:function(e){return T.keybindingForAction(e.id,i.keybindingService)},getActionsContext:function(e){return{viewletState:i.state,stat:t,event:e}},onHide:function(t){t&&e.DOMFocus()}}),!0},t.prototype.onEnterDown=function(e,t){if(e.getHighlight())return!1;var n={origin:"keyboard"},i=e.getFocus();return i&&(i.isDirectory?e.toggleExpansion(i):(e.setFocus(i,n),this.openEditor(i,!1,!1))),this.didCatchEnterDown=!0,!0},t.prototype.onEnterUp=function(e,t){if(!this.didCatchEnterDown||e.getHighlight())return!1;var n=e.getFocus();return n&&!n.isDirectory&&this.openEditor(n,!1,!1),this.didCatchEnterDown=!1,!0},t.prototype.onModifierEnterUp=function(e,t){if(e.getHighlight())return!1;var n=e.getFocus();return n&&!n.isDirectory&&this.openEditor(n,!1,!0),this.didCatchEnterDown=!1,!0},t.prototype.onCopy=function(e,t){var n=e.getFocus();return!!n&&(this.runAction(e,n,"workbench.files.action.copyFile").done(),!0)},t.prototype.onPaste=function(e,t){var n=e.getFocus()||e.getInput();if(n){var i=this.instantiationService.createInstance(T.PasteFileAction,e,n);if(i._isEnabled())return i.run().done(null,h.onUnexpectedError),!0}return!1},t.prototype.openEditor=function(e,t,n,i){void 0===i&&(i=!1),e&&!e.isDirectory&&(this.telemetryService.publicLog("workbenchActionExecuted",{id:"workbench.files.openFile",from:"explorer"}),this.editorService.openEditor({resource:e.resource,options:{preserveFocus:t,pinned:i}},n).done(null,h.onUnexpectedError))},t.prototype.onF2=function(e,t){var n=e.getFocus();return!!n&&(this.runAction(e,n,"workbench.files.action.triggerRename").done(),!0)},t.prototype.onDelete=function(e,t){var n=e.getFocus();return!!n&&(this.runAction(e,n,"workbench.files.action.moveFileToTrash",t).done(),!0)},t.prototype.runAction=function(e,t,n,i){return this.state.actionProvider.runAction(e,t,n,{event:i})},t=g([v(1,R.IWorkbenchEditorService),v(2,W.IContextMenuService),v(3,B.IInstantiationService),v(4,U.ITelemetryService),v(5,M.IWorkspaceContextService),v(6,G.IMenuService),v(7,F.IContextKeyService),v(8,P.IKeybindingService)],t)}(D.DefaultController);t.FileController=Z;var J=function(){function e(){}return e.prototype.compare=function(e,t,n){return t.isDirectory&&!n.isDirectory?-1:n.isDirectory&&!t.isDirectory?1:t.isDirectory&&n.isDirectory?t.name.toLowerCase().localeCompare(n.name.toLowerCase()):t instanceof k.NewStatPlaceholder?-1:n instanceof k.NewStatPlaceholder?1:m.compareFileNames(t.name,n.name)},e}();t.FileSorter=J;var ee=function(){function e(e){this.contextService=e,this.hiddenExpression=Object.create(null)}return e.prototype.updateConfiguration=function(e){var t=e&&e.files&&e.files.exclude||Object.create(null),n=!o.equals(this.hiddenExpression,t);return this.hiddenExpression=o.clone(t),n},e.prototype.isVisible=function(e,t){return this.doIsVisible(t)},e.prototype.doIsVisible=function(t){if(t instanceof k.NewStatPlaceholder)return!0;var n=t.parent&&t.parent.children&&t.parent.children;n&&n.length>e.MAX_SIBLINGS_FILTER_THRESHOLD&&(n=void 0);var i=function(){return n&&n.map(function(e){return e.name})};return!E.match(this.hiddenExpression,this.contextService.toWorkspaceRelativePath(t.resource),i)},e.MAX_SIBLINGS_FILTER_THRESHOLD=2e3,e=g([v(0,M.IWorkspaceContextService)],e)}();t.FileFilter=ee;var te=function(){function e(e,t,n,i,r,o,s,a){this.messageService=e,this.contextService=t,this.eventService=n,this.progressService=i,this.fileService=r,this.configurationService=o,this.instantiationService=s,this.textFileService=a,this.toDispose=[],this.onConfigurationUpdated(o.getConfiguration()),this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationUpdated(t.config)}))},e.prototype.onConfigurationUpdated=function(e){this.dropEnabled=e&&e.explorer&&e.explorer.enableDragAndDrop},e.prototype.getDragURI=function(e,t){return t.isDirectory?a.default.from({scheme:"folder",path:t.resource.fsPath}).toString():t.resource.toString()},e.prototype.getDragLabel=function(e,t){if(t.length>1)return String(t.length);var n=t[0];return l.basename(n.resource.fsPath)},e.prototype.onDragStart=function(e,t,n){var i=t.getData(),r=null;i.length>0&&(r=i[0]),r&&r.isDirectory&&e.isExpanded(r)&&e.collapse(r,!1),t instanceof A.DesktopDragAndDropData||r&&!r.isDirectory&&n.dataTransfer.setData("DownloadURL",[c.MIME_BINARY,r.name,r.resource.toString()].join(":"))},e.prototype.onDragOver=function(e,t,n,i){if(!this.dropEnabled)return x.DRAG_OVER_REJECT;var r=i&&(i.ctrlKey&&!S.isMacintosh||i.altKey&&S.isMacintosh),o=t instanceof A.DesktopDragAndDropData;if(o){for(var s=t.getData(),a=s.types,c=[],u=0;u<a.length;u++)c.push(a[u]);if(0===c.length||!c.some(function(e){return"Files"===e}))return x.DRAG_OVER_REJECT}else{if(t instanceof A.ExternalElementsDragAndDropData)return x.DRAG_OVER_REJECT;var h=t.getData();if(!Array.isArray(h))return x.DRAG_OVER_REJECT;if(h.some(function(e){return e instanceof k.NewStatPlaceholder||(e.resource.toString()===n.resource.toString()||(!r&&l.dirname(e.resource.fsPath)===n.resource.fsPath||!!l.isEqualOrParent(n.resource.fsPath,e.resource.fsPath)))}))return x.DRAG_OVER_REJECT}return n.isDirectory?o||r?x.DRAG_OVER_ACCEPT_BUBBLE_DOWN_COPY:x.DRAG_OVER_ACCEPT_BUBBLE_DOWN:n.resource.toString()!==this.contextService.getWorkspace().resource.toString()?o||r?x.DRAG_OVER_ACCEPT_BUBBLE_UP_COPY:x.DRAG_OVER_ACCEPT_BUBBLE_UP:x.DRAG_OVER_REJECT},e.prototype.drop=function(e,t,r,o){var s=this,c=n.TPromise.as(null);if(t instanceof A.DesktopDragAndDropData){var u=this.instantiationService.createInstance(T.ImportFileAction,e,r,null);c=u.run({input:{files:t.getData().files}})}else{var d=t.getData()[0],p=o.ctrlKey&&!S.isMacintosh||o.altKey&&S.isMacintosh;c=e.expand(r).then(function(){if(p){var t=s.instantiationService.createInstance(T.DuplicateFileAction,e,d,r);return t.run()}var o=n.TPromise.as(null),c=s.textFileService.getDirty().filter(function(e){return l.isEqualOrParent(e.fsPath,d.resource.fsPath)});if(c.length){var u=void 0;u=d.isDirectory?1===c.length?i.localize(2,null):i.localize(3,null,c.length):i.localize(4,null);var h=s.messageService.confirm({message:u,type:"warning",detail:i.localize(5,null),primaryButton:i.localize(6,null)});if(!h)return n.TPromise.as(null);o=s.textFileService.revertAll(c)}return o.then(function(){var e=a.default.file(l.join(r.resource.fsPath,d.name)),t=!1,n=function(e){s.eventService.emit("files.internal:fileChanged",new w.LocalFileChangeEvent(d.clone(),e))};return s.fileService.moveFile(d.resource,e).then(n,function(r){if(r.fileOperationResult!==I.FileOperationResult.FILE_MOVE_CONFLICT)s.messageService.show(H.Severity.Error,r);else{t=!0;var o={message:i.localize(7,null,d.name),detail:i.localize(8,null),primaryButton:i.localize(9,null)};if(s.messageService.confirm(o))return s.fileService.moveFile(d.resource,e,!0).then(function(t){var i=new k.FileStat(e);s.eventService.emit("files.internal:fileChanged",new w.LocalFileChangeEvent(i,null)),n(t)},function(e){s.messageService.show(H.Severity.Error,e)})}})})},h.onUnexpectedError)}this.progressService.showWhile(c,800),c.done(null,h.onUnexpectedError)},e=g([v(0,H.IMessageService),v(1,M.IWorkspaceContextService),v(2,V.IEventService),v(3,z.IProgressService),v(4,I.IFileService),v(5,N.IConfigurationService),v(6,B.IInstantiationService),v(7,w.ITextFileService)],e)}();t.FileDragAndDrop=te}),define(l[1184],h([1,0,554,2,29,16,17,7,81,20,68,111,33,140,192,392,5,145,41,8,65,181,22,45,26,25,47,36,6,123,39,18,23,292]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P,R,O,M,N){"use strict";var F=function(e){function t(i,r,o,a,c,u,l,h,d,p,f,g,v,m,y,b,S){e.call(this,r,!1,n.localize(0,null),c,y,u,a),this.instantiationService=l,this.editorGroupService=h,this.eventService=d,this.contextService=p,this.progressService=f,this.editorService=g,this.fileService=v,this.partService=m,this.configurationService=S,this.workspace=p.getWorkspace(),this.settings=o,this.viewletState=i,this.actionRunner=r,this.autoReveal=!0,this.explorerRefreshDelayer=new s.ThrottledDelayer(t.EXPLORER_FILE_CHANGES_REFRESH_DELAY),this.explorerImportDelayer=new s.ThrottledDelayer(t.EXPLORER_IMPORT_REFRESH_DELAY),this.resourceContext=l.createInstance(N.ResourceContextKey),this.folderContext=new M.RawContextKey("explorerResourceIsFolder",(void 0)).bindTo(b)}return d(t,e),t.prototype.renderHeader=function(t){var n=r.$("div.title").appendTo(t);r.$("span").text(this.workspace.name).title(c.getPathLabel(this.workspace.resource.fsPath)).appendTo(n),e.prototype.renderHeader.call(this,t)},t.prototype.renderBody=function(t){this.treeContainer=e.prototype.renderViewTree.call(this,t),_.addClass(this.treeContainer,"explorer-folders-view"),_.addClass(this.treeContainer,"show-file-icons"),this.tree=this.createViewer(r.$(this.treeContainer)),this.toolBar&&this.toolBar.setActions(l.prepareActions(this.getActions()),[])()},t.prototype.getActions=function(){var e=[];e.push(this.instantiationService.createInstance(f.NewFileAction,this.getViewer(),null)),e.push(this.instantiationService.createInstance(f.NewFolderAction,this.getViewer(),null)),e.push(this.instantiationService.createInstance(f.RefreshViewExplorerAction,this,"explorer-action refresh-explorer")),e.push(this.instantiationService.createInstance(C.CollapseAction,this.getViewer(),!0,"explorer-action collapse-explorer"));for(var t=0;t<e.length;t++){var n=e[t];n.order=10*(t+1)}return e},t.prototype.create=function(){var e=this,t=this.configurationService.getConfiguration();return this.onConfigurationUpdated(t),this.doRefresh().then(function(){e.toDispose.push(e.editorGroupService.onEditorsChanged(function(){return e.onEditorsChanged()})),e.toDispose.push(e.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationUpdated(t.config,!0)}))})},t.prototype.onEditorsChanged=function(){var e=this.editorService.getActiveEditorInput(),n=!0,i=!1;if(e instanceof m.FileEditorInput){var r=e.getResource();if(this.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]=r.toString(),this.isVisible&&this.contextService.isInsideWorkspace(r)){var o=this.hasSelection(r);o||this.select(r).done(null,a.onUnexpectedError),n=!1}}(e instanceof S.UntitledEditorInput||!e)&&(this.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]=void 0,i=!0),n&&this.explorerViewer.clearSelection(),i&&this.explorerViewer.clearFocus()},t.prototype.onConfigurationUpdated=function(e,t){if(!this.isDisposed){this.autoReveal=e&&e.explorer&&e.explorer.autoReveal;var n=!1;this.filter&&(n=this.filter.updateConfiguration(e)),t&&n&&this.doRefresh().done(null,a.onUnexpectedError)}},t.prototype.focusBody=function(){var e=!1;if(this.explorerViewer){if(this.autoReveal){var t=this.explorerViewer.getSelection();t.length>0&&this.reveal(t[0],.5).done(null,a.onUnexpectedError)}this.explorerViewer.DOMFocus(),e=!0}var n=this.editorService.getActiveEditorInput();n&&n instanceof m.FileEditorInput||this.openFocusedElement(e)},t.prototype.setVisible=function(n){var r=this;return e.prototype.setVisible.call(this,n).then(function(){if(n){var e=i.TPromise.as(null);r.shouldRefresh&&(e=r.doRefresh(),r.shouldRefresh=!1);var s=r.getActiveEditorInputResource();if(s)return e.then(function(){return r.select(s)});if(!r.partService.isCreated())return i.TPromise.as(null);var c=r.getInput(),u=void 0;return r.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]&&(u=o.default.parse(r.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE])),u&&c&&c.find(u)?(r.editorService.openEditor({resource:u,options:{revealIfVisible:!0}}).done(null,a.onUnexpectedError),e):e.then(function(){r.openFocusedElement()})}})},t.prototype.openFocusedElement=function(e){var t=this.explorerViewer.getFocus();t&&!t.isDirectory&&this.editorService.openEditor({resource:t.resource,options:{preserveFocus:e,revealIfVisible:!0}}).done(null,a.onUnexpectedError)},t.prototype.getActiveEditorInputResource=function(){var e=this.editorService.getActiveEditorInput();return e&&e instanceof m.FileEditorInput?e.getResource():null},t.prototype.getInput=function(){return this.explorerViewer?this.explorerViewer.getInput():null},t.prototype.createViewer=function(e){var t=this,i=this.instantiationService.createInstance(y.FileDataSource),r=this.instantiationService.createInstance(y.FileRenderer,this.viewletState,this.actionRunner),o=this.instantiationService.createInstance(y.FileController,this.viewletState),s=new y.FileSorter;this.filter=this.instantiationService.createInstance(y.FileFilter);var a=this.instantiationService.createInstance(y.FileDragAndDrop),c=this.instantiationService.createInstance(y.FileAccessibilityProvider);return this.explorerViewer=new h.Tree(e.getHTMLElement(),{dataSource:i,renderer:r,controller:o,sorter:s,filter:this.filter,dnd:a,accessibilityProvider:c},{autoExpandSingleChildren:!0,ariaLabel:n.localize(1,null)}),this.toDispose.push(b.toDisposable(function(){return r.dispose()})),this.toDispose.push(this.eventService.addListener2("files.internal:fileChanged",function(e){return t.onLocalFileChange(e)})),this.toDispose.push(this.eventService.addListener2(p.EventType.FILE_CHANGES,function(e){return t.onFileChanges(e)})),this.toDispose.push(this.explorerViewer.addListener2("focus",function(e){t.resourceContext.set(e.focus&&e.focus.resource),t.folderContext.set(e.focus&&e.focus.isDirectory)})),this.explorerViewer},t.prototype.getOptimalWidth=function(){var e=this.explorerViewer.getHTMLElement(),t=[].slice.call(e.querySelectorAll(".explorer-item > a"));return _.getLargestChildWidth(e,t)},t.prototype.onLocalFileChange=function(e){var t,n,i,r,s=this;if(e.gotAdded()){var c=e.getAfter();if(i=o.default.file(u.dirname(c.resource.fsPath)),r=this.getInput().find(i)){var l=w.FileStat.create(c);r.removeChild(l),r.addChild(l);var h=function(){return s.explorerViewer.refresh(r).then(function(){return s.reveal(l,.5).then(function(){if(s.explorerViewer.setFocus(l),!l.isDirectory)return s.editorService.openEditor({resource:l.resource,options:{pinned:!0}})})})};
e instanceof f.FileImportedEvent?this.explorerImportDelayer.trigger(h).done(null,a.onUnexpectedError):h().done(null,a.onUnexpectedError)}}else if(e.gotMoved()){var d=e.getBefore(),p=e.getAfter(),g=o.default.file(u.dirname(d.resource.fsPath)),v=o.default.file(u.dirname(p.resource.fsPath)),m=!1,y=this.explorerViewer.getFocus();if(y&&y.resource&&y.resource.toString()===d.resource.toString()&&(m=!0),g&&v&&g.toString()===v.toString())t=this.getInput().find(d.resource),t&&(t.rename(p),n=t.parent,n&&this.explorerViewer.refresh(n).done(function(){m&&s.explorerViewer.setFocus(t)},a.onUnexpectedError));else if(g&&v){var b=this.getInput().find(g),S=this.getInput().find(v);t=this.getInput().find(d.resource),b&&S&&t&&t.move(S,function(e){s.explorerViewer.refresh(b,!0).done(e,a.onUnexpectedError)},function(){s.explorerViewer.refresh(S,!0).done(function(){return s.explorerViewer.expand(S)},a.onUnexpectedError)})}}else if(e.gotDeleted()){var E=e.getBefore();t=this.getInput().find(E.resource),t&&t.parent&&(n=t.parent,n.removeChild(t),this.explorerViewer.refresh(n).done(function(){s.explorerViewer.DOMFocus()},a.onUnexpectedError))}else if(e instanceof f.FileImportedEvent){var _=e.getAfter();i=o.default.file(u.dirname(_.resource.fsPath)),r=this.getInput().find(i),r&&this.explorerViewer.refresh(r).then(function(){return s.editorService.openEditor({resource:_.resource,options:{pinned:!0}})}).done(null,a.onUnexpectedError)}else this.workspace&&e.gotUpdated()&&e.getAfter().resource.toString()===this.workspace.resource.toString()&&!this.explorerViewer.getHighlight()&&this.refreshFromEvent()},t.prototype.onFileChanges=function(e){var n=this;setTimeout(function(){var i=n.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE];i&&e.contains(o.default.parse(i),p.FileChangeType.DELETED)&&(n.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]=null)}),setTimeout(function(){!n.shouldRefresh&&n.shouldRefreshFromEvent(e)&&n.refreshFromEvent()},t.EXPLORER_FILE_CHANGES_REACT_DELAY)},t.prototype.shouldRefreshFromEvent=function(e){if(e=this.filterToAddRemovedOnWorkspacePath(e,function(e,t){return".git"!==t[0]||1===t.length}),e.gotAdded()||e.gotDeleted()){var t=e.getAdded(),n=e.getDeleted(),i=this.getInput();if(!i)return!1;for(var r={},s=0;s<t.length;s++){var a=t[s];if(this.contextService.isInsideWorkspace(a.resource)){var c=u.dirname(a.resource.fsPath);if(!r[c]){var l=i.find(o.default.file(c));if(l&&l.isDirectoryResolved&&!i.find(a.resource))return!0;l&&l.isDirectoryResolved||(r[c]=!0)}}}for(var h=0;h<n.length;h++){var d=n[h];if(this.contextService.isInsideWorkspace(d.resource)&&i.find(d.resource))return!0}}return!1},t.prototype.filterToAddRemovedOnWorkspacePath=function(e,t){var n=this;return new p.FileChangesEvent(e.changes.filter(function(e){if(e.type===p.FileChangeType.UPDATED)return!1;var i=n.contextService.toWorkspaceRelativePath(e.resource);if(!i)return!1;var r=i.split(/\//);return t(e,r)}))},t.prototype.refreshFromEvent=function(){var e=this;this.isVisible?this.explorerRefreshDelayer.trigger(function(){return e.explorerViewer.getHighlight()?i.TPromise.as(null):e.doRefresh()}).done(null,a.onUnexpectedError):this.shouldRefresh=!0},t.prototype.refresh=function(){var e=this;if(!this.explorerViewer||this.explorerViewer.getHighlight())return i.TPromise.as(null);this.explorerViewer.DOMFocus();var t;if(this.autoReveal&&(t=this.getActiveEditorInputResource(),!t)){var n=this.explorerViewer.getSelection();n&&1===n.length&&(t=n[0].resource)}return this.doRefresh().then(function(){return t?e.select(t,!0):i.TPromise.as(null)})},t.prototype.doRefresh=function(){var e=this,n=this.getInput(),r=[],s=[];if(this.settings[t.MEMENTO_EXPANDED_FOLDER_RESOURCES]&&(s=this.settings[t.MEMENTO_EXPANDED_FOLDER_RESOURCES].map(function(e){return o.default.parse(e)})),n)this.getResolvedDirectories(n,r);else{var a=this.getActiveEditorInputResource();a&&r.push(a),s.length&&r.push.apply(r,s)}var c={resolveTo:r},u=this.fileService.resolveFile(this.workspace.resource,c).then(function(t){var r,o=w.FileStat.create(t,c.resolveTo);return n?(w.FileStat.mergeLocalWithDisk(o,n),r=e.explorerViewer.refresh(n)):r=e.explorerViewer.setInput(o).then(function(){return s?e.explorerViewer.expandAll(s.map(function(t){return e.getInput().find(t)})):i.TPromise.as(null)}),r},function(e){return i.TPromise.wrapError(e)});return this.progressService.showWhile(u,this.partService.isCreated()?800:3200),u},t.prototype.getResolvedDirectories=function(e,t){if(e.isDirectoryResolved){if(e.resource.toString()!==this.workspace.resource.toString()){for(var n=t.length-1;n>=0;n--){var i=t[n];0===e.resource.toString().indexOf(i.toString())&&t.splice(n)}t.push(e.resource)}for(var n=0;n<e.children.length;n++){var r=e.children[n];this.getResolvedDirectories(r,t)}}},t.prototype.select=function(e,t){var n=this;if(void 0===t&&(t=this.autoReveal),!e||e.toString()===this.workspace.resource.toString())return i.TPromise.as(null);var r=this.hasSelection(e);if(r)return t?this.reveal(r,.5):i.TPromise.as(null);var o=this.getInput();if(!o)return i.TPromise.as(null);var s=o.find(e);if(s)return this.doSelect(s,t);var a={resolveTo:[e]};return this.fileService.resolveFile(this.workspace.resource,a).then(function(i){var r=w.FileStat.create(i,a.resolveTo);return w.FileStat.mergeLocalWithDisk(r,o),n.explorerViewer.refresh(o).then(function(){return n.doSelect(o.find(e),t)})},function(e){return n.messageService.show(O.Severity.Error,e)})},t.prototype.hasSelection=function(e){for(var t=this.explorerViewer.getSelection(),n=0;n<t.length;n++)if(t[n].resource.toString()===e.toString())return t[n];return null},t.prototype.doSelect=function(e,t){var n=this;if(!e)return i.TPromise.as(null);if(!this.filter.isVisible(this.tree,e)&&(e=e.parent,!e))return i.TPromise.as(null);var r;return r=t?this.reveal(e,.5):i.TPromise.as(null),r.then(function(){e.isDirectory||n.explorerViewer.setSelection([e]),n.explorerViewer.setFocus(e)})},t.prototype.shutdown=function(){var n=this,i=this.getInput();if(i){var r=this.explorerViewer.getExpandedElements().filter(function(e){return e.resource.toString()!==n.workspace.resource.toString()}).map(function(e){return e.resource.toString()});this.settings[t.MEMENTO_EXPANDED_FOLDER_RESOURCES]=r}e.prototype.shutdown.call(this)},t.prototype.dispose=function(){this.toolBar&&this.toolBar.dispose(),e.prototype.dispose.call(this)},t.EXPLORER_FILE_CHANGES_REACT_DELAY=500,t.EXPLORER_FILE_CHANGES_REFRESH_DELAY=100,t.EXPLORER_IMPORT_REFRESH_DELAY=300,t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE="explorer.memento.lastActiveFileResource",t.MEMENTO_EXPANDED_FOLDER_RESOURCES="explorer.memento.expandedFolderResources",t=g([v(4,O.IMessageService),v(5,R.IContextMenuService),v(6,k.IInstantiationService),v(7,E.IEditorGroupService),v(8,D.IEventService),v(9,x.IWorkspaceContextService),v(10,P.IProgressService),v(11,I.IWorkbenchEditorService),v(12,p.IFileService),v(13,T.IPartService),v(14,L.IKeybindingService),v(15,M.IContextKeyService),v(16,A.IConfigurationService)],t)}(C.CollapsibleViewletView);t.ExplorerView=F}),define(l[1185],h([1,0,557,7,2,138,85,174,206,43,8,66,6,19,41,39,36,28,68,92,55,22,385,140,56,190]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A){"use strict";var D=l.$,L=function(){function e(e,t){this.editor=e,this.group=t}return Object.defineProperty(e.prototype,"editorInput",{get:function(){return this.editor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editorGroup",{get:function(){return this.group},enumerable:!0,configurable:!0}),e.prototype.getId=function(){return"openeditor:"+this.group.id+":"+this.group.indexOf(this.editor)+":"+this.editor.getName()+":"+this.editor.getDescription()},e.prototype.isPreview=function(){return this.group.isPreview(this.editor)},e.prototype.isUntitled=function(){return this.editor instanceof S.UntitledEditorInput},e.prototype.isDirty=function(){return this.editor.isDirty()},e.prototype.getResource=function(){return S.getUntitledOrFileResource(this.editor,!0)},e}();t.OpenEditor=L;var k=function(){function e(){}return e.prototype.getId=function(e,t){return t instanceof I.EditorStacksModel?"root":t instanceof I.EditorGroup?t.id.toString():t.getId()},e.prototype.hasChildren=function(e,t){return t instanceof I.EditorStacksModel||t instanceof I.EditorGroup},e.prototype.getChildren=function(e,t){if(t instanceof I.EditorStacksModel)return r.TPromise.as(t.groups);var n=t;return r.TPromise.as(n.getEditors().map(function(e){return new L(e,n)}))},e.prototype.getParent=function(e,t){return r.TPromise.as(null)},e}();t.DataSource=k;var P=function(){function e(e,t,n){this.actionProvider=e,this.instantiationService=t,this.keybindingService=n}return e.prototype.getHeight=function(t,n){return e.ITEM_HEIGHT},e.prototype.getTemplateId=function(t,n){return n instanceof I.EditorGroup?e.EDITOR_GROUP_TEMPLATE_ID:e.OPEN_EDITOR_TEMPLATE_ID},e.prototype.renderTemplate=function(t,n,i){var r=this;if(n===e.EDITOR_GROUP_TEMPLATE_ID){var s=Object.create(null);s.root=l.append(i,D(".editor-group")),s.name=l.append(s.root,D("span.name")),s.actionBar=new u.ActionBar(i);var a=this.actionProvider.getEditorGroupActions();return a.forEach(function(e){var t=T.keybindingForAction(e.id,r.keybindingService);s.actionBar.push(e,{icon:!0,label:!1,keybinding:t?r.keybindingService.getLabelFor(t):void 0})}),s}var c=Object.create(null);c.container=i,c.actionBar=new u.ActionBar(i);var h=this.actionProvider.getOpenEditorActions();return h.forEach(function(e){var t=T.keybindingForAction(e.id,r.keybindingService);c.actionBar.push(e,{icon:!0,label:!1,keybinding:t?r.keybindingService.getLabelFor(t):void 0})}),c.root=this.instantiationService.createInstance(o.EditorLabel,i,void 0),c},e.prototype.renderElement=function(t,n,i,r){i===e.EDITOR_GROUP_TEMPLATE_ID?this.renderEditorGroup(t,n,r):this.renderOpenEditor(t,n,r)},e.prototype.renderEditorGroup=function(e,t,n){n.name.textContent=t.label,n.actionBar.context={group:t}},e.prototype.renderOpenEditor=function(e,t,n){t.isDirty()?l.addClass(n.container,"dirty"):l.removeClass(n.container,"dirty"),n.root.setEditor(t.editorInput,{italic:t.isPreview(),extraClasses:["open-editor"]}),n.actionBar.context={group:t.editorGroup,editor:t.editorInput}},e.prototype.disposeTemplate=function(t,n,i){n===e.OPEN_EDITOR_TEMPLATE_ID&&(i.actionBar.dispose(),i.root.dispose()),n===e.EDITOR_GROUP_TEMPLATE_ID&&i.actionBar.dispose()},e.ITEM_HEIGHT=22,e.EDITOR_GROUP_TEMPLATE_ID="editorgroup",e.OPEN_EDITOR_TEMPLATE_ID="openeditor",e=g([v(1,p.IInstantiationService),v(2,b.IKeybindingService)],e)}();t.Renderer=P;var R=function(e){function t(t,n,i,r,o,a,c){e.call(this,{clickBehavior:s.ClickBehavior.ON_MOUSE_DOWN}),this.actionProvider=t,this.model=n,this.editorService=i,this.editorGroupService=r,this.contextMenuService=o,this.telemetryService=a,this.keybindingService=c}return d(t,e),t.prototype.onClick=function(t,n,r){if(n instanceof L&&r.browserEvent&&1===r.browserEvent.button){var o=this.model.positionOfGroup(n.editorGroup);return this.editorService.closeEditor(o,n.editorInput).done(null,i.onUnexpectedError),!0}return e.prototype.onClick.call(this,t,n,r)},t.prototype.onLeftClick=function(e,t,n,i){void 0===i&&(i="mouse");var r={origin:i},o="mouse"===i&&2===n.detail,s=n&&n.browserEvent&&"mousedown"===n.browserEvent.type;if(s||n.preventDefault(),n.stopPropagation(),!(t instanceof L))return!0;if(e.DOMFocus(),n.shiftKey){var a=e.getSelection();a&&a.length>0&&a[0]===t&&e.clearSelection(r)}else e.setFocus(t,r),o&&n.preventDefault(),e.setSelection([t],r),this.openEditor(t,o,n.ctrlKey||n.metaKey);return!0},t.prototype.onLeft=function(e,t){return!0},t.prototype.onRight=function(e,t){return!0},t.prototype.onEnter=function(t,n){var i=t.getFocus();return i instanceof I.EditorGroup?(n.preventDefault(),n.stopPropagation(),!0):(this.openEditor(i,!1,n.ctrlKey||n.metaKey),e.prototype.onEnter.call(this,t,n))},t.prototype.onContextMenu=function(e,t,n){var i=this;if(n.target&&n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!1;if(t===e.getInput())return!1;n.preventDefault(),n.stopPropagation(),e.setFocus(t);var r=t instanceof I.EditorGroup?t:t.editorGroup,o=t instanceof L?t.editorInput:void 0,s={x:n.posx+1,y:n.posy};return this.contextMenuService.showContextMenu({getAnchor:function(){return s},getActions:function(){return i.actionProvider.getSecondaryActions(e,t)},getKeyBinding:function(e){return T.keybindingForAction(e.id,i.keybindingService)},onHide:function(t){t&&e.DOMFocus()},getActionsContext:function(){return{group:r,editor:o}}}),!0},t.prototype.openEditor=function(e,t,n){var r=this;if(e){this.telemetryService.publicLog("workbenchActionExecuted",{id:"workbench.files.openFile",from:"openEditors"});var o=this.model.positionOfGroup(e.editorGroup);n&&o!==h.Position.THREE&&o++,this.editorGroupService.activateGroup(this.model.groupAt(o)),this.editorService.openEditor(e.editorInput,{preserveFocus:!t,pinned:t},o).done(function(){return r.editorGroupService.activateGroup(r.model.groupAt(o))},i.onUnexpectedError)}},t=g([v(2,w.IWorkbenchEditorService),v(3,m.IEditorGroupService),v(4,y.IContextMenuService),v(5,f.ITelemetryService),v(6,b.IKeybindingService)],t)}(s.DefaultController);t.Controller=R;var O=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return t instanceof I.EditorGroup?n.localize(0,null,t.label):n.localize(1,null,t.editorInput.getName())},e}();t.AccessibilityProvider=O;var M=function(e){function t(t,n,i,r){e.call(this),this.model=t,this.instantiationService=n,this.textFileService=i,this.untitledEditorService=r}return d(t,e),t.prototype.hasActions=function(e,t){var n=this.model.groups.length>1;return t instanceof L||t instanceof I.EditorGroup&&n},t.prototype.getActions=function(e,t){return t instanceof L?r.TPromise.as(this.getOpenEditorActions()):t instanceof I.EditorGroup?r.TPromise.as(this.getEditorGroupActions()):r.TPromise.as([])},t.prototype.getOpenEditorActions=function(){return[this.instantiationService.createInstance(A.CloseEditorAction,A.CloseEditorAction.ID,A.CloseEditorAction.LABEL)]},t.prototype.getEditorGroupActions=function(){var e=this.instantiationService.createInstance(T.SaveAllInGroupAction,T.SaveAllInGroupAction.ID,T.SaveAllInGroupAction.LABEL);return[e,this.instantiationService.createInstance(A.CloseEditorsInGroupAction,A.CloseEditorsInGroupAction.ID,A.CloseEditorsInGroupAction.LABEL)]},t.prototype.hasSecondaryActions=function(e,t){return t instanceof L||t instanceof I.EditorGroup},t.prototype.getSecondaryActions=function(t,i){var r=this;return e.prototype.getSecondaryActions.call(this,t,i).then(function(e){var o=r.textFileService.getAutoSaveMode()===C.AutoSaveMode.AFTER_SHORT_DELAY;if(i instanceof I.EditorGroup)o||(e.push(r.instantiationService.createInstance(T.SaveAllInGroupAction,T.SaveAllInGroupAction.ID,n.localize(2,null))),e.push(new u.Separator)),e.push(r.instantiationService.createInstance(A.CloseEditorsInGroupAction,A.CloseEditorsInGroupAction.ID,n.localize(3,null)));else{var s=i,a=s.getResource();if(a){if(e.unshift(r.instantiationService.createInstance(T.OpenToSideAction,t,a,!1)),s.isUntitled()){if(e.push(new u.Separator),r.untitledEditorService.hasAssociatedFilePath(a)){var c=r.instantiationService.createInstance(T.SaveFileAction,T.SaveFileAction.ID,T.SaveFileAction.LABEL);c.setResource(a),e.push(c)}var l=r.instantiationService.createInstance(T.SaveFileAsAction,T.SaveFileAsAction.ID,T.SaveFileAsAction.LABEL);l.setResource(a),e.push(l)}else{if(!o){e.push(new u.Separator);var h=r.instantiationService.createInstance(T.SaveFileAction,T.SaveFileAction.ID,T.SaveFileAction.LABEL);h.setResource(a),h.enabled=s.isDirty(),e.push(h);var d=r.instantiationService.createInstance(T.RevertFileAction,T.RevertFileAction.ID,T.RevertFileAction.LABEL);d.setResource(a),d.enabled=s.isDirty(),e.push(d)}e.push(new u.Separator);var p=r.instantiationService.createInstance(T.CompareResourcesAction,a,t);p._isEnabled()&&e.push(p),e.push(r.instantiationService.createInstance(T.SelectResourceForCompareAction,a,t))}e.push(new u.Separator)}e.push(r.instantiationService.createInstance(A.CloseEditorAction,A.CloseEditorAction.ID,n.localize(4,null)));var f=r.instantiationService.createInstance(A.CloseOtherEditorsInGroupAction,A.CloseOtherEditorsInGroupAction.ID,n.localize(5,null));f.enabled=s.editorGroup.count>1,e.push(f),e.push(r.instantiationService.createInstance(A.CloseEditorsInGroupAction,A.CloseEditorsInGroupAction.ID,n.localize(6,null)))}return e})},t=g([v(1,p.IInstantiationService),v(2,C.ITextFileService),v(3,x.IUntitledEditorService)],t)}(E.ContributableActionProvider);t.ActionProvider=M;var N=function(e){function t(t,n){e.call(this),this.editorService=t,this.editorGroupService=n}return d(t,e),t.prototype.getDragURI=function(e,t){if(!(t instanceof L))return null;var n=t.getResource();return n?n.toString():t.editorInput.getName()},t.prototype.getDragLabel=function(e,t){return t.length>1?String(t.length):t[0].editorInput.getName()},t.prototype.onDragOver=function(e,t,n,i){if(!(n instanceof L||n instanceof I.EditorGroup))return a.DRAG_OVER_REJECT;if(t instanceof c.ExternalElementsDragAndDropData){var r=_.asFileResource(t.getData()[0]);return r?r.isDirectory?a.DRAG_OVER_REJECT:a.DRAG_OVER_ACCEPT:a.DRAG_OVER_REJECT}return t instanceof c.DesktopDragAndDropData?a.DRAG_OVER_REJECT:t instanceof c.ElementsDragAndDropData?a.DRAG_OVER_ACCEPT:a.DRAG_OVER_REJECT},t.prototype.drop=function(e,t,n,r){var o,s=this.editorGroupService.getStacksModel(),a=s.positionOfGroup(n instanceof I.EditorGroup?n:n.editorGroup),u=n instanceof L?n.editorGroup.indexOf(n.editorInput):void 0;if(t instanceof c.ExternalElementsDragAndDropData){var l=_.asFileResource(t.getData()[0]);l.options={index:u,pinned:!0},this.editorService.openEditor(l,a).done(null,i.onUnexpectedError)}else{var h=t.getData();Array.isArray(h)&&(o=h[0])}o&&(o instanceof L?this.editorGroupService.moveEditor(o.editorInput,s.positionOfGroup(o.editorGroup),a,u):this.editorGroupService.moveGroup(s.positionOfGroup(o),a))},t=g([v(0,w.IWorkbenchEditorService),v(1,m.IEditorGroupService)],t)}(s.DefaultDragAndDrop);t.DragAndDrop=N}),define(l[1186],h([1,0,556,7,17,8,149,111,39,6,41,25,36,140,65,92,55,53,1185,56,190,351]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w){"use strict";var I=o.$,T=function(e){function t(i,o,s,a,c,u,l,h,d,p){var f=this;e.call(this,i,t.computeExpandedBodySize(u.getStacksModel()),!!o[t.MEMENTO_COLLAPSED],n.localize(0,null),h,a),this.instantiationService=s,this.textFileService=c,this.configurationService=l,this.untitledEditorService=d,this.viewletService=p,this.settings=o,this.model=u.getStacksModel(),this.structuralRefreshDelay=0,this.structuralTreeRefreshScheduler=new r.RunOnceScheduler(function(){return f.structuralTreeUpdate()},this.structuralRefreshDelay)}return d(t,e),t.prototype.renderHeader=function(t){var i=o.append(t,I(".title")),r=o.append(i,I("span"));r.textContent=n.localize(1,null),this.dirtyCountElement=o.append(i,I(".monaco-count-badge")),this.updateDirtyIndicator(),e.prototype.renderHeader.call(this,t)},t.prototype.getActions=function(){return[this.instantiationService.createInstance(w.ToggleEditorLayoutAction,w.ToggleEditorLayoutAction.ID,w.ToggleEditorLayoutAction.LABEL),this.instantiationService.createInstance(f.SaveAllAction,f.SaveAllAction.ID,f.SaveAllAction.LABEL),this.instantiationService.createInstance(C.CloseAllEditorsAction,C.CloseAllEditorsAction.ID,C.CloseAllEditorsAction.LABEL)]},t.prototype.renderBody=function(t){this.treeContainer=e.prototype.renderViewTree.call(this,t),o.addClass(this.treeContainer,"explorer-open-editors"),o.addClass(this.treeContainer,"show-file-icons");var i=this.instantiationService.createInstance(E.DataSource),r=this.instantiationService.createInstance(E.ActionProvider,this.model),s=this.instantiationService.createInstance(E.Renderer,r),c=this.instantiationService.createInstance(E.Controller,r,this.model),u=this.instantiationService.createInstance(E.AccessibilityProvider),l=this.instantiationService.createInstance(E.DragAndDrop);this.tree=new a.Tree(this.treeContainer,{dataSource:i,renderer:s,controller:c,accessibilityProvider:u,dnd:l},{indentPixels:0,twistiePixels:20,ariaLabel:n.localize(2,null)}),this.fullRefreshNeeded=!0,this.structuralTreeUpdate()},t.prototype.create=function(){var t=this.configurationService.getConfiguration();return this.onConfigurationUpdated(t),this.registerListeners(),e.prototype.create.call(this)},t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.model.onModelChanged(function(t){return e.onEditorStacksModelChanged(t)})),this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationUpdated(t.config)})),this.toDispose.push(this.textFileService.models.onModelDirty(function(t){return e.updateDirtyIndicator()})),this.toDispose.push(this.viewletService.onDidViewletOpen(function(t){t.getId()===y.VIEWLET_ID&&(e.fullRefreshNeeded=!0,e.structuralTreeUpdate(),e.updateDirtyIndicator())}))},t.prototype.onEditorStacksModelChanged=function(e){var t=this;if(!this.isDisposed&&this.isVisible&&this.tree)if(e.structural)e.editor&&!this.groupToRefresh?this.groupToRefresh=e.group:this.fullRefreshNeeded=!0,this.structuralTreeRefreshScheduler.schedule(this.structuralRefreshDelay);else{var n=e.editor?new E.OpenEditor(e.editor,e.group):e.group;this.updateDirtyIndicator(),this.tree.refresh(n,!1).done(function(){return t.highlightActiveEditor()},i.onUnexpectedError)}},t.prototype.structuralTreeUpdate=function(){var e=this;this.expandedBodySize=this.getExpandedBodySize(this.model);var t=1===this.model.groups.length?this.model.groups[0]:this.model;this.fullRefreshNeeded=!0;var n=this.fullRefreshNeeded?null:this.groupToRefresh;(t!==this.tree.getInput()?this.tree.setInput(t):this.tree.refresh(n)).done(function(){return e.fullRefreshNeeded=!1,e.groupToRefresh=null,e.tree.expandAll(e.model.groups).then(function(){return e.highlightActiveEditor()})},i.onUnexpectedError)},t.prototype.highlightActiveEditor=function(){if(this.model.activeGroup&&this.model.activeGroup.activeEditor){var e=new E.OpenEditor(this.model.activeGroup.activeEditor,this.model.activeGroup);if(this.tree.clearFocus(),this.tree.clearSelection(),e){this.tree.setFocus(e),this.tree.setSelection([e]);var t=this.tree.getRelativeTop(e);(t<=0||t>=1)&&this.tree.reveal(e).done(null,i.onUnexpectedError)}}},t.prototype.onConfigurationUpdated=function(e){if(!this.isDisposed){var n=e&&e.explorer&&e.explorer.openEditors&&e.explorer.openEditors.visible;"number"==typeof n?this.visibleOpenEditors=n:this.visibleOpenEditors=t.DEFAULT_VISIBLE_OPEN_EDITORS;var i=e&&e.explorer&&e.explorer.openEditors&&e.explorer.openEditors.dynamicHeight;"boolean"==typeof i?this.dynamicHeight=i:this.dynamicHeight=t.DEFAULT_DYNAMIC_HEIGHT,this.expandedBodySize=this.getExpandedBodySize(this.model)}},t.prototype.updateDirtyIndicator=function(){var e=this.textFileService.getAutoSaveMode()!==b.AutoSaveMode.AFTER_SHORT_DELAY?this.textFileService.getDirty().length:this.untitledEditorService.getDirty().length;0===e?o.addClass(this.dirtyCountElement,"hidden"):(this.dirtyCountElement.textContent=n.localize(3,null,e),o.removeClass(this.dirtyCountElement,"hidden"))},t.prototype.getExpandedBodySize=function(e){return t.computeExpandedBodySize(e,this.visibleOpenEditors,this.dynamicHeight)},t.computeExpandedBodySize=function(e,n,i){void 0===n&&(n=t.DEFAULT_VISIBLE_OPEN_EDITORS),void 0===i&&(i=t.DEFAULT_DYNAMIC_HEIGHT);var r=e.groups.reduce(function(e,t){return e+t.count},0);e.groups.length>1&&(r+=e.groups.length);var o;return o=i?Math.min(Math.max(n,1),r):Math.max(n,1),o*E.Renderer.ITEM_HEIGHT},t.prototype.setStructuralRefreshDelay=function(e){this.structuralRefreshDelay=e},t.prototype.getOptimalWidth=function(){var e=this.tree.getHTMLElement(),t=[].slice.call(e.querySelectorAll(".open-editor > a"));return o.getLargestChildWidth(e,t)},t.prototype.shutdown=function(){this.settings[t.MEMENTO_COLLAPSED]=this.state===s.CollapsibleState.COLLAPSED,e.prototype.shutdown.call(this)},t.MEMENTO_COLLAPSED="openEditors.memento.collapsed",t.DEFAULT_VISIBLE_OPEN_EDITORS=9,t.DEFAULT_DYNAMIC_HEIGHT=!0,t=g([v(2,u.IInstantiationService),v(3,c.IContextMenuService),v(4,b.ITextFileService),v(5,l.IEditorGroupService),v(6,h.IConfigurationService),v(7,p.IKeybindingService),v(8,_.IUntitledEditorService),v(9,S.IViewletService)],t)}(m.AdaptiveCollapsibleViewletView);t.OpenEditorsView=T}),define(l[1187],h([1,0,2,146,92,65,149,25,392,1184,1044,1186,38,6,26,19,274,113,22,41,23,784]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C){"use strict";var w=function(e){function t(t,n,o,s,a,u,l,h){var d=this;e.call(this,r.VIEWLET_ID,t),this.contextService=n,this.editorGroupService=s,this.editorService=a,this.configurationService=u,this.instantiationService=l,this.views=[],this.viewletState=new c.FileViewletState,this.viewletVisibleContextKey=r.ExplorerViewletVisible.bindTo(h),this.viewletSettings=this.getMemento(o,i.Scope.WORKSPACE),this.configurationService.onDidUpdateConfiguration(function(e){return d.onConfigurationUpdated(e.config)})}return d(t,e),t.prototype.create=function(t){e.prototype.create.call(this,t),this.viewletContainer=t.div().addClass("explorer-viewlet");var n=this.configurationService.getConfiguration();return this.onConfigurationUpdated(n)},t.prototype.getActions=function(){return this.openEditorsVisible?[]:this.explorerView?this.explorerView.getActions():[]},t.prototype.onConfigurationUpdated=function(e){var t=this;this.delayEditorOpeningInOpenedEditors=!!e.workbench.editor.enablePreview;var i=!this.contextService.getWorkspace()||0!==e.explorer.openEditors.visible;return this.openEditorsVisible!==i?(this.dispose(),this.openEditorsVisible=i,this.views=[],this.viewletContainer.clearChildren(),this.openEditorsVisible&&(this.splitView=new s.SplitView(this.viewletContainer.getHTMLElement()),this.addOpenEditorsView(),this.focusListener=this.splitView.onFocus(function(e){t.lastFocusedView=e})),this.addExplorerView(),this.lastFocusedView=this.explorerView,n.TPromise.join(this.views.map(function(e){return e.create()})).then(function(){}).then(function(){return t.dimension&&t.layout(t.dimension),t.updateTitleArea(),t.setVisible(t.isVisible()).then(function(){return t.focus()})})):n.TPromise.as(null)},t.prototype.addOpenEditorsView=function(){this.openEditorsView=this.instantiationService.createInstance(h.OpenEditorsView,this.getActionRunner(),this.viewletSettings),this.splitView.addView(this.openEditorsView),this.views.push(this.openEditorsView)},t.prototype.addExplorerView=function(){var e,t=this;if(this.contextService.getWorkspace()){var n=this.instantiationService.createInstance(b.DelegatingWorkbenchEditorService,function(e,n,i){if(t.openEditorsView){var r=0;if(t.delayEditorOpeningInOpenedEditors&&(i===!1||"number"!=typeof i)){var o=t.editorGroupService.getStacksModel().activeGroup;o&&o.previewEditor||(r=250)}t.openEditorsView.setStructuralRefreshDelay(r)}var s=function(e){return t.openEditorsView&&t.openEditorsView.setStructuralRefreshDelay(0),e};return t.editorService.openEditor(e,n,i).then(s,s)}),i=this.instantiationService.createChild(new S.ServiceCollection([E.IWorkbenchEditorService,n])),r=this.openEditorsVisible?void 0:0;this.explorerView=e=i.createInstance(u.ExplorerView,this.viewletState,this.getActionRunner(),this.viewletSettings,r)}else this.emptyView=e=this.instantiationService.createInstance(l.EmptyView);this.openEditorsVisible?this.splitView.addView(e):e.render(this.viewletContainer.getHTMLElement(),s.Orientation.VERTICAL),this.views.push(e)},t.prototype.getExplorerView=function(){return this.explorerView},t.prototype.getOpenEditorsView=function(){return this.openEditorsView},t.prototype.setVisible=function(t){var i=this;return this.viewletVisibleContextKey.set(t),e.prototype.setVisible.call(this,t).then(function(){return n.TPromise.join(i.views.map(function(e){return e.setVisible(t)})).then(function(){})})},t.prototype.focus=function(){e.prototype.focus.call(this);var t=!!this.editorGroupService.getStacksModel().activeGroup;return this.lastFocusedView&&this.lastFocusedView.isExpanded()&&this.hasSelectionOrFocus(this.lastFocusedView)&&(this.lastFocusedView!==this.openEditorsView||t)?void this.lastFocusedView.focusBody():this.hasSelectionOrFocus(this.openEditorsView)&&t?this.openEditorsView.focusBody():this.hasSelectionOrFocus(this.explorerView)?this.explorerView.focusBody():this.openEditorsView&&this.openEditorsView.isExpanded()&&t?this.openEditorsView.focusBody():this.explorerView&&this.explorerView.isExpanded()?this.explorerView.focusBody():this.emptyView&&this.emptyView.isExpanded()?this.emptyView.focusBody():this.openEditorsView.focus()},t.prototype.hasSelectionOrFocus=function(e){if(!e)return!1;if(!e.isExpanded())return!1;if(e instanceof u.ExplorerView||e instanceof h.OpenEditorsView){var t=e.getViewer();return!!t&&(!!t.getFocus()||t.getSelection()&&t.getSelection().length>0)}return!1},t.prototype.layout=function(e){this.dimension=e,this.openEditorsVisible?this.splitView.layout(e.height):this.explorerView&&this.explorerView.layout(e.height,s.Orientation.VERTICAL)},t.prototype.getActionRunner=function(){return this.actionRunner||(this.actionRunner=new c.ActionRunner(this.viewletState)),this.actionRunner},t.prototype.getOptimalWidth=function(){var e=16,t=this.openEditorsVisible?this.openEditorsView.getOptimalWidth():0,n=this.getExplorerView(),i=n?n.getOptimalWidth():0,r=Math.max(t,i);return r+e},t.prototype.shutdown=function(){this.views.forEach(function(e){return e.shutdown()}),e.prototype.shutdown.call(this)},t.prototype.dispose=function(){this.splitView&&(this.splitView.dispose(),this.splitView=null),this.explorerView&&(this.explorerView.dispose(),this.explorerView=null),this.openEditorsView&&(this.openEditorsView.dispose(),this.openEditorsView=null),this.emptyView&&(this.emptyView.dispose(),this.emptyView=null),this.focusListener&&(this.focusListener.dispose(),this.focusListener=null)},t=g([v(0,y.ITelemetryService),v(1,m.IWorkspaceContextService),v(2,p.IStorageService),v(3,_.IEditorGroupService),v(4,E.IWorkbenchEditorService),v(5,a.IConfigurationService),v(6,f.IInstantiationService),v(7,C.IContextKeyService)],t)}(o.Viewlet);t.ExplorerViewlet=w}),define(l[1188],h([1,0,560,14,68,37,31,13,92,71,140,1147,344,6,52,34,63]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b){"use strict";var S=function(e){function t(t){e.call(this),this.instantiationService=t}return d(t,e),t.prototype.hasSecondaryActions=function(e){var t=e.element;return!!c.asFileResource(t)||t&&t.getResource&&t.getResource()},t.prototype.getSecondaryActions=function(e){var t=[];if(this.hasSecondaryActions(e)){var n=c.asFileResource(e.element),i=n?n.resource:e.element.getResource();t.push(this.instantiationService.createInstance(p.RevealInOSAction,i)),t.push(this.instantiationService.createInstance(p.CopyPathAction,i))}return t},t=g([v(0,f.IInstantiationService)],t)}(r.ActionBarContributor),E=n.localize(0,null),_=i.Registry.as(o.Extensions.WorkbenchActions);_.registerWorkbenchAction(new s.SyncActionDescriptor(l.SaveFileAsAction,l.SaveFileAsAction.ID,l.SaveFileAsAction.LABEL,{primary:49201}),"Files: Save As...",E),_.registerWorkbenchAction(new s.SyncActionDescriptor(l.GlobalNewUntitledFileAction,l.GlobalNewUntitledFileAction.ID,l.GlobalNewUntitledFileAction.LABEL,{primary:32812}),"Files: New Untitled File",E),_.registerWorkbenchAction(new s.SyncActionDescriptor(p.GlobalCopyPathAction,p.GlobalCopyPathAction.ID,p.GlobalCopyPathAction.LABEL,{primary:m.KeyChord(32809,46)}),"Files: Copy Path of Active File",E),_.registerWorkbenchAction(new s.SyncActionDescriptor(p.GlobalRevealInOSAction,p.GlobalRevealInOSAction.ID,p.GlobalRevealInOSAction.LABEL,{primary:m.KeyChord(32809,48)}),"Files: Reveal Active File",E),_.registerWorkbenchAction(new s.SyncActionDescriptor(p.ShowOpenedFileInNewWindow,p.ShowOpenedFileInNewWindow.ID,p.ShowOpenedFileInNewWindow.LABEL,{primary:m.KeyChord(32809,45)}),"Files: Open Active File in New Window",E),a.isMacintosh?_.registerWorkbenchAction(new s.SyncActionDescriptor(p.OpenFileFolderAction,p.OpenFileFolderAction.ID,p.OpenFileFolderAction.LABEL,{
primary:32813}),"Files: Open...",E):(_.registerWorkbenchAction(new s.SyncActionDescriptor(p.OpenFileAction,p.OpenFileAction.ID,p.OpenFileAction.LABEL,{primary:32813}),"Files: Open File...",E),_.registerWorkbenchAction(new s.SyncActionDescriptor(p.OpenFolderAction,p.OpenFolderAction.ID,p.OpenFolderAction.LABEL,{primary:m.KeyChord(32809,32813)}),"Files: Open Folder...",E));var C=i.Registry.as(r.Extensions.Actionbar);C.registerActionBarContributor(r.Scope.VIEWER,S),i.Registry.as(u.Extensions.Workbench).registerWorkbenchContribution(h.DirtyFilesTracker),y.CommandsRegistry.registerCommand("_files.openFolderPicker",function(e,t){var n=e.get(b.IWindowService);n.openFolderPicker(t)}),y.CommandsRegistry.registerCommand("_files.windowOpen",function(e,t,n){var i=e.get(b.IWindowsService);i.windowOpen(t,n)})}),define(l[279],h([1,0,566,17,5,71,57,65,175,14,1065,37,962,86,31,77,25,64,165,47,18,53,22,788,944]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I){"use strict";function T(){u.Registry.as(c.Extensions.Statusbar).registerStatusbarItem(new c.StatusbarItemDescriptor(l.GitStatusbarItem,c.StatusbarAlignment.LEFT,100));var e=u.Registry.as(f.Extensions.OutputChannels);e.registerChannel("Git",n.localize(3,null)),u.Registry.as(o.Extensions.Workbench).registerWorkbenchContribution(p.GitOutput),u.Registry.as(a.Extensions.Viewlets).registerViewlet(new a.ViewletDescriptor("vs/workbench/parts/git/browser/gitViewlet","GitViewlet",t.VIEWLET_ID,n.localize(4,null),"git",35)),u.Registry.as(h.Extensions.WorkbenchActions).registerWorkbenchAction(new m.SyncActionDescriptor(D,D.ID,D.LABEL,{primary:null,win:{primary:49189},linux:{primary:49189},mac:{primary:20517}}),"View: Show Git",n.localize(5,null)),u.Registry.as(o.Extensions.Workbench).registerWorkbenchContribution(A),u.Registry.as(S.Extensions.Quickopen).registerQuickOpenHandler(new S.QuickOpenHandlerDescriptor("vs/workbench/parts/git/browser/gitQuickOpen","GitCommandQuickOpenHandler","git ",n.localize(6,null)));var i=u.Registry.as(y.Extensions.Configuration);i.registerConfiguration({id:"git",order:15,title:n.localize(7,null),type:"object",properties:{"git.enabled":{type:"boolean",description:n.localize(8,null),default:!0},"git.path":{type:["string","null"],description:n.localize(9,null),default:null},"git.autorefresh":{type:"boolean",description:n.localize(10,null),default:!0},"git.autofetch":{type:"boolean",description:n.localize(11,null),default:!0},"git.enableLongCommitWarning":{type:"boolean",description:n.localize(12,null),default:!0},"git.allowLargeRepositories":{type:"boolean",description:n.localize(13,null),default:!1},"git.confirmSync":{type:"boolean",description:n.localize(14,null),default:!0},"git.countBadge":{type:"string",enum:["all","tracked","off"],default:"all",description:n.localize(15,null)}}})}var x=s.IGitService,A=function(){function e(e,t,n,r,o){var s=this;this.gitService=e,this.eventService=t,this.activityBarService=n,this.messageService=r,this.configurationService=o,this.progressBadgeDelayer=new i.Delayer(200),this.toDispose=[],this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(e){return s.onGitServiceChange()})),this.toDispose.push(this.gitService.addBulkListener2(function(e){return s.onGitServiceChange()}))}return e.prototype.onGitServiceChange=function(){var e=this;this.gitService.getState()!==s.ServiceState.OK?(this.progressBadgeDelayer.cancel(),this.activityBarService.showActivity("workbench.view.git",null,"git-viewlet-label")):this.gitService.isIdle()?this.showChangesBadge():this.progressBadgeDelayer.trigger(function(){e.activityBarService.showActivity("workbench.view.git",new E.ProgressBadge(function(){return n.localize(0,null)}),"git-viewlet-label-progress")})},e.prototype.showChangesBadge=function(){this.progressBadgeDelayer.cancel();var e=this.configurationService.getConfiguration("git").countBadge;if("off"!==e){var t="tracked"===e?function(e){return e.getStatus()!==s.Status.UNTRACKED}:function(){return!0},i=this.gitService.getModel().getStatus().getGroups().map(function(e){return e.all()}).reduce(function(e,t){return e.concat(t)},[]).filter(t),r=new E.NumberBadge(i.length,function(e){return n.localize(1,null,e)});this.activityBarService.showActivity("workbench.view.git",r,"git-viewlet-label")}},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.toDispose=r.dispose(this.toDispose)},e.ID="vs.git.statusUpdater",e=g([v(0,x),v(1,_.IEventService),v(2,E.IActivityBarService),v(3,C.IMessageService),v(4,b.IConfigurationService)],e)}();t.StatusUpdater=A,t.VIEWLET_ID="workbench.view.git";var D=function(e){function i(n,i,r,o){e.call(this,n,i,t.VIEWLET_ID,r,o)}return d(i,e),i.ID=t.VIEWLET_ID,i.LABEL=n.localize(2,null),i=g([v(2,w.IViewletService),v(3,I.IWorkbenchEditorService)],i)}(a.ToggleViewletAction);t.registerContributions=T}),define(l[1190],h([1,0,562,5,14,68,2,72,28,275,193,92,279,57,207,948,22,53,45,26,33,6,37,31,191,20,16]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D){"use strict";function L(e,t,n){var i=e.getModel(),r=i.getRepositoryRoot(),o=i.getStatus(),s=A.normalize(A.relative(r,n.getResource().fsPath));return o.getWorkingTreeStatus().find(s)||o.getIndexStatus().find(s)||o.getMergeStatus().find(s)}var k=function(e){function t(n,i,r,o,s){var a=this;e.call(this,t.ID,t.Label),this.class="git-action open-in-diff",this.gitService=i,this.viewletService=r,this.editorService=n,this.partService=o,this.contextService=s,this.toDispose=[this.gitService.addBulkListener2(function(){return a.onGitStateChanged()})],this.enabled=this.isEnabled()}return d(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;var t=this.gitService.getModel();if(!t||"string"!=typeof t.getRepositoryRoot())return!1;var n=this.getStatus();return n&&(n.getStatus()===f.Status.MODIFIED||n.getStatus()===f.Status.INDEX_MODIFIED||n.getStatus()===f.Status.INDEX_RENAMED)},t.prototype.onGitStateChanged=function(){this.gitService.isIdle()&&(this.enabled=this.isEnabled())},t.prototype.getStatus=function(){return L(this.gitService,this.contextService,this.input)},t.prototype.run=function(e){var t=this,n=e?e.event:null,i=!(!n||!n.ctrlKey&&!n.metaKey),r=this.editorService.getActiveEditor().getControl(),o=r?r.saveViewState():null;return this.gitService.getInput(this.getStatus()).then(function(e){var n=s.TPromise.as(null);return t.partService.isVisible(E.Parts.SIDEBAR_PART)&&(n=t.viewletService.openViewlet(p.VIEWLET_ID,!1)),n.then(function(){var n=new c.TextDiffEditorOptions;return n.forceOpen=!0,n.autoRevealFirstChange=!1,t.editorService.openEditor(e,n,i).then(function(e){if(o){var n=t.editorService.getActiveEditor().getControl();n.restoreViewState({original:{},modified:o})}})})})},t.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose)},t.ID="workbench.action.git.openInDiff",t.Label=n.localize(0,null),t=g([v(0,b.IWorkbenchEditorService),v(1,f.IGitService),v(2,S.IViewletService),v(3,E.IPartService),v(4,_.IWorkspaceContextService)],t)}(a.EditorInputAction),P=function(e){function t(n,i,r,o,s,a){e.call(this,t.ID,t.LABEL),this.class="git-action open-in-editor",this.gitService=r,this.fileService=n,this.viewletService=o,this.editorService=i,this.partService=s,this.contextService=a,this.enabled=this.isEnabled()}return d(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;var n=this.gitService.getModel();if(!n||"string"!=typeof n.getRepositoryRoot())return!1;var i=this.input.getFileStatus();return!(t.DELETED_STATES.indexOf(i.getStatus())>-1)},t.prototype.run=function(e){var t=this,n=this.gitService.getModel(),i=D.default.file(A.join(n.getRepositoryRoot(),this.getRepositoryRelativePath())),r=e?e.event:null,o=!(!r||!r.ctrlKey&&!r.metaKey),s=this.saveTextViewState();return this.fileService.resolveFile(i).then(function(e){return t.editorService.openEditor({resource:e.resource,options:{forceOpen:!0}},o).then(function(e){if(t.restoreTextViewState(s),t.partService.isVisible(E.Parts.SIDEBAR_PART))return t.viewletService.openViewlet(h.VIEWLET_ID,!1)})})},t.prototype.saveTextViewState=function(){var e=this.getTextEditor();return e?e.saveViewState():null},t.prototype.restoreTextViewState=function(e){var t=this.getTextEditor();if(t)return t.restoreViewState(e)},t.prototype.getTextEditor=function(){var e=this.editorService.getActiveEditor();return e instanceof u.TextDiffEditor?e.getControl().getModifiedEditor():e instanceof l.BaseTextEditor?e.getControl():null},t.prototype.getRepositoryRelativePath=function(){var e=this.input.getFileStatus();if(e.getStatus()===f.Status.INDEX_RENAMED)return e.getRename();var t=this.gitService.getModel().getStatus().find(e.getPath(),f.StatusType.INDEX);return t&&t.getStatus()===f.Status.INDEX_RENAMED?t.getRename():e.getPath()},t.DELETED_STATES=[f.Status.BOTH_DELETED,f.Status.DELETED,f.Status.DELETED_BY_US,f.Status.INDEX_DELETED],t.ID="workbench.action.git.openInEditor",t.LABEL=n.localize(1,null),t=g([v(0,C.IFileService),v(1,b.IWorkbenchEditorService),v(2,f.IGitService),v(3,S.IViewletService),v(4,E.IPartService),v(5,_.IWorkspaceContextService)],t)}(a.EditorInputAction),R=function(e){function t(n,i,r,o,s){void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,i,"",r,o),this.contextService=s,this.onGitServiceChange()}return d(t,e),t.prototype.updateEnablement=function(){this.contextService?this.enabled=this.isEnabled():this.enabled=e.prototype.isEnabled.call(this)},t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;var t=this.editorService.getActiveEditor();return!!(t&&t instanceof a.BaseEditor)},t.prototype.run=function(t){var n,i=this.editorService.getActiveEditor().input;if(m.isGitEditorInput(i)){var r=i;n=r.getFileStatus()}else n=L(this.gitService,this.contextService,i);return n?e.prototype.run.call(this,n):s.TPromise.as(null)},t.ID="workbench.action.git.stage",t.LABEL=n.localize(2,null),t=g([v(2,f.IGitService),v(3,b.IWorkbenchEditorService),v(4,_.IWorkspaceContextService)],t)}(x.BaseStageAction);t.WorkbenchStageAction=R;var O=function(e){function t(n,i,r,o,s){void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,i,"",r,o),this.contextService=s,this.onGitServiceChange()}return d(t,e),t.prototype.updateEnablement=function(){this.contextService?this.enabled=this.isEnabled():this.enabled=e.prototype.isEnabled.call(this)},t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;var t=this.editorService.getActiveEditor();return!!(t&&t instanceof a.BaseEditor)},t.prototype.run=function(t){var n,i=this.editorService.getActiveEditor().input;if(m.isGitEditorInput(i)){var r=i;n=r.getFileStatus()}else n=L(this.gitService,this.contextService,i);return n?e.prototype.run.call(this,n):s.TPromise.as(null)},t.ID="workbench.action.git.unstage",t.LABEL=n.localize(3,null),t=g([v(2,f.IGitService),v(3,b.IWorkbenchEditorService),v(4,_.IWorkspaceContextService)],t)}(x.BaseUnstageAction);t.WorkbenchUnstageAction=O;var M=function(e){function t(t,n,i,r,o){var s=this;e.call(this,t,n),this.editorService=o,this.gitService=r,this.editor=i.getControl(),this.editor.onDidChangeCursorSelection(function(){return s.updateEnablement()}),this.editor.onDidUpdateDiff(function(){return s.updateEnablement()}),this.class="git-action stage-ranges"}return d(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;if(!this.gitService||!this.editorService)return!1;var t=this.editor.getLineChanges(),n=this.editor.getSelections();return!(!t||!n||0===n.length)&&y.getSelectedChanges(t,n).length>0},t.prototype.getRangesAppliedResult=function(e){var t=e.getSelections(),n=y.getSelectedChanges(e.getLineChanges(),t);return y.applyChangesToModel(e.getModel().original,e.getModel().modified,n)},t.prototype.run=function(){var e=this,t=this.getRangesAppliedResult(this.editor),n=this.input.getFileStatus(),i=n.getPath(),r=this.editor.saveViewState();return this.gitService.stage(n.getPath(),t).then(function(){var t=e.gitService.getModel().getStatus();if(n=t.getWorkingTreeStatus().find(i)||t.getIndexStatus().find(i))return e.gitService.getInput(n).then(function(t){var n=new c.TextDiffEditorOptions;return n.forceOpen=!0,n.autoRevealFirstChange=!1,e.editorService.openEditor(t,n,e.position).then(function(){e.editor.restoreViewState(r)})})})},t.prototype.updateEnablement=function(){this.enabled=this.isEnabled()},t=g([v(3,f.IGitService),v(4,b.IWorkbenchEditorService)],t)}(a.EditorInputAction);t.BaseStageRangesAction=M;var N=function(e){function t(n,i,r){e.call(this,t.ID,t.LABEL,n,i,r)}return d(t,e),t.ID="workbench.action.git.stageRanges",t.LABEL=n.localize(4,null),t=g([v(1,f.IGitService),v(2,b.IWorkbenchEditorService)],t)}(M);t.StageRangesAction=N;var F=function(e){function t(n,i,r){e.call(this,t.ID,t.LABEL,n,i,r)}return d(t,e),t.prototype.getRangesAppliedResult=function(e){var t=e.getSelections(),n=y.getSelectedChanges(e.getLineChanges(),t).map(function(e){return{modifiedStartLineNumber:e.originalStartLineNumber,modifiedEndLineNumber:e.originalEndLineNumber,originalStartLineNumber:e.modifiedStartLineNumber,originalEndLineNumber:e.modifiedEndLineNumber}});return y.applyChangesToModel(e.getModel().modified,e.getModel().original,n)},t.ID="workbench.action.git.unstageRanges",t.LABEL=n.localize(5,null),t=g([v(1,f.IGitService),v(2,b.IWorkbenchEditorService)],t)}(M);t.UnstageRangesAction=F;var W=function(e){function t(t){e.call(this),this.instantiationService=t}return d(t,e),t.prototype.hasActionsForEditorInput=function(e){return e.input instanceof h.FileEditorInput},t.prototype.getActionsForEditorInput=function(e){return[this.instantiationService.createInstance(k)]},t=g([v(0,w.IInstantiationService)],t)}(a.EditorInputActionContributor),V=function(e){function t(t){e.call(this),this.instantiationService=t}return d(t,e),t.prototype.hasActionsForEditorInput=function(e){return m.isGitEditorInput(e.input)},t.prototype.getActionsForEditorInput=function(e){return[this.instantiationService.createInstance(P)]},t=g([v(0,w.IInstantiationService)],t)}(a.EditorInputActionContributor),B=function(e){function t(t){e.call(this),this.instantiationService=t}return d(t,e),t.prototype.hasSecondaryActionsForEditorInput=function(e){return e.input instanceof m.GitDiffEditorInput&&e.editor instanceof u.TextDiffEditor},t.prototype.getSecondaryActionsForEditorInput=function(e){return e.input instanceof m.GitIndexDiffEditorInput?[this.instantiationService.createInstance(F,e.editor)]:[this.instantiationService.createInstance(N,e.editor)]},t=g([v(0,w.IInstantiationService)],t)}(a.EditorInputActionContributor),H=function(e){function t(t,n,i,r,o,s,a){e.call(this,i,r),this.contextService=o,this.viewletService=s,this.partService=a}return d(t,e),t.prototype.getInput=function(){return c.asFileEditorInput(this.editorService.getActiveEditorInput())},t.prototype.run=function(e){var t=this,n=this.getInput();if(!n)return s.TPromise.as(null);var i=L(this.gitService,this.contextService,n);if(!i)return s.TPromise.as(null);var r=!(!e||!e.ctrlKey&&!e.metaKey),o=this.editorService.getActiveEditor().getControl(),a=o?o.saveViewState():null;return this.gitService.getInput(i).then(function(e){var n=s.TPromise.as(null);return t.partService.isVisible(E.Parts.SIDEBAR_PART)&&(n=t.viewletService.openViewlet(p.VIEWLET_ID,!1)),n.then(function(){var n=new c.TextDiffEditorOptions;return n.forceOpen=!0,n.autoRevealFirstChange=!1,t.editorService.openEditor(e,n,r).then(function(e){if(a){var n=t.editorService.getActiveEditor().getControl();n.restoreViewState({original:{},modified:a})}})})})},t.ID="workbench.action.git.globalOpenChange",t.LABEL=n.localize(6,null),t=g([v(2,b.IWorkbenchEditorService),v(3,f.IGitService),v(4,_.IWorkspaceContextService),v(5,S.IViewletService),v(6,E.IPartService)],t)}(x.OpenChangeAction),z=function(e){function t(n,i,r,o,s,a){void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL),e.call(this,r,o,s,a)}return d(t,e),t.prototype.run=function(t){var n=c.asFileEditorInput(this.editorService.getActiveEditorInput(),!0);if(!n)return s.TPromise.as(null);var i=L(this.gitService,this.contextService,n);return i?e.prototype.run.call(this,i):s.TPromise.as(null)},t.ID="workbench.action.git.globalOpenFile",t.LABEL=n.localize(7,null),t=g([v(2,b.IWorkbenchEditorService),v(3,C.IFileService),v(4,f.IGitService),v(5,_.IWorkspaceContextService)],t)}(x.OpenFileAction),U=r.Registry.as(o.Extensions.Actionbar);U.registerActionBarContributor(o.Scope.EDITOR,W),U.registerActionBarContributor(o.Scope.EDITOR,V),U.registerActionBarContributor(o.Scope.EDITOR,B);var G=r.Registry.as(I.Extensions.WorkbenchActions),K=n.localize(8,null);G.registerWorkbenchAction(new T.SyncActionDescriptor(H,H.ID,H.LABEL),"Git: Open Change",K),G.registerWorkbenchAction(new T.SyncActionDescriptor(z,z.ID,z.LABEL),"Git: Open File",K),G.registerWorkbenchAction(new T.SyncActionDescriptor(x.PullAction,x.PullAction.ID,x.PullAction.LABEL),"Git: Pull",K),G.registerWorkbenchAction(new T.SyncActionDescriptor(x.PushAction,x.PushAction.ID,x.PushAction.LABEL),"Git: Push",K),G.registerWorkbenchAction(new T.SyncActionDescriptor(x.PushToRemoteAction,x.PushToRemoteAction.ID,x.PushToRemoteAction.LABEL),"Git: Push to...",K),G.registerWorkbenchAction(new T.SyncActionDescriptor(x.SyncAction,x.SyncAction.ID,x.SyncAction.LABEL),"Git: Sync",K),G.registerWorkbenchAction(new T.SyncActionDescriptor(x.PublishAction,x.PublishAction.ID,x.PublishAction.LABEL),"Git: Publish",K),G.registerWorkbenchAction(new T.SyncActionDescriptor(x.StartGitBranchAction,x.StartGitBranchAction.ID,x.StartGitBranchAction.LABEL),"Git: Branch",K),G.registerWorkbenchAction(new T.SyncActionDescriptor(x.StartGitCheckoutAction,x.StartGitCheckoutAction.ID,x.StartGitCheckoutAction.LABEL),"Git: Checkout",K),G.registerWorkbenchAction(new T.SyncActionDescriptor(x.InputCommitAction,x.InputCommitAction.ID,x.InputCommitAction.LABEL),"Git: Commit",K),G.registerWorkbenchAction(new T.SyncActionDescriptor(x.UndoLastCommitAction,x.UndoLastCommitAction.ID,x.UndoLastCommitAction.LABEL),"Git: Undo Last Commit",K),G.registerWorkbenchAction(new T.SyncActionDescriptor(R,R.ID,R.LABEL),"Git: Stage",K),G.registerWorkbenchAction(new T.SyncActionDescriptor(O,O.ID,O.LABEL),"Git: Unstage",K)}),define(l[1191],h([1,0,2,5,65,57,279,1067,1068,940,941,942,939,945,6,123,19,789]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b){"use strict";var S=o.IGitService,E=function(e){function t(t,n,i,r){var o=this;e.call(this,s.VIEWLET_ID,t),this.progressService=n,this.instantiationService=i,this.gitService=r,this.progressRunner=null,this.views={},this.toDispose=[];var d=[this.instantiationService.createInstance(a.ChangesView,this.getActionRunner()),this.instantiationService.createInstance(c.EmptyView,this,this.getActionRunner()),this.instantiationService.createInstance(u.GitlessView),new l.NotRootView,new h.NoWorkspaceView,new p.DisabledView,this.instantiationService.createInstance(f.HugeView)];d.forEach(function(e){o.views[e.ID]=e,o.toDispose.push(e)}),this.toUnbind.push(this.gitService.addBulkListener2(function(){return o.onGitServiceChanges()}))}return d(t,e),t.prototype.setView=function(e){if(!this.$el)return n.TPromise.as(null);var t=this.views[e];if(!t)return n.Promise.wrapError(new Error("Could not find view."));if(this.currentView===t)return n.TPromise.as(null);var i=n.TPromise.as(null);this.currentView&&(i=this.currentView.setVisible(!1));var r=t.element;this.currentView=t,this.updateTitleArea();for(var o=this.$el.getHTMLElement();o.firstChild;)o.removeChild(o.firstChild);return o.appendChild(r),t.layout(this.currentDimension),i.then(function(){return t.setVisible(!0)})},t.prototype.create=function(t){return e.prototype.create.call(this,t),this.$el=t.div().addClass("git-viewlet"),n.TPromise.as(null)},t.prototype.setVisible=function(t){var i=this;return t?(this.onGitServiceChanges(),this.gitService.status().done(),e.prototype.setVisible.call(this,t).then(function(){if(i.currentView)return i.currentView.setVisible(t)})):(this.currentView?this.currentView.setVisible(t):n.TPromise.as(null)).then(function(){e.prototype.setVisible.call(i,t)})},t.prototype.focus=function(){e.prototype.focus.call(this),this.currentView&&this.currentView.focus()},t.prototype.layout=function(e){void 0===e&&(e=this.currentDimension),this.currentDimension=e,this.currentView&&this.currentView.layout(e)},t.prototype.getActions=function(){return this.currentView?this.currentView.getActions():[]},t.prototype.getSecondaryActions=function(){return this.currentView?this.currentView.getSecondaryActions():[]},t.prototype.getControl=function(){return this.currentView?this.currentView.getControl():null},t.prototype.onGitServiceChanges=function(){this.progressRunner&&this.progressRunner.done(),this.gitService.getState()===o.ServiceState.NoGit?(this.setView("gitless"),this.progressRunner=null):this.gitService.getState()===o.ServiceState.Disabled?(this.setView("disabled"),this.progressRunner=null):this.gitService.getState()===o.ServiceState.NotARepo?(this.setView("empty"),this.progressRunner=null):this.gitService.getState()===o.ServiceState.NotAWorkspace?(this.setView("noworkspace"),this.progressRunner=null):this.gitService.getState()===o.ServiceState.NotAtRepoRoot?(this.setView("notroot"),this.progressRunner=null):this.gitService.getState()===o.ServiceState.Huge?(this.setView("huge"),this.progressRunner=null):this.gitService.isIdle()?(this.setView("changes"),this.progressRunner=null):this.progressRunner=this.progressService.show(!0)},t.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose),this.views=null,e.prototype.dispose.call(this)},t=g([v(0,b.ITelemetryService),v(1,y.IProgressService),v(2,m.IInstantiationService),v(3,S)],t)}(r.Viewlet);t.GitViewlet=E}),define(l[1192],h([1,0,575,279,1095,57,102,31,14,1069,1080,37,71]),function(e,t,n,i,r,o,s,a,c,u,l,h,d){"use strict";i.registerContributions(),s.registerSingleton(o.IGitService,r.ElectronGitService);var p=n.localize(0,null);c.Registry.as(h.Extensions.WorkbenchActions).registerWorkbenchAction(new a.SyncActionDescriptor(u.CloneAction,u.CloneAction.ID,u.CloneAction.LABEL),"Git: Clone",p),c.Registry.as(d.Extensions.Workbench).registerWorkbenchContribution(l.GitContentProvider)}),define(l[220],h([1,0,607,8,7,2,24,65,53,208,202,184,85,155,22,19,52,36,28]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E){"use strict";function _(e){var t=e.getActiveViewlet(),n=document.activeElement;return t&&t.getId()===h.VIEWLET_ID&&n&&i.isAncestor(n,t.getContainer().getHTMLElement())}function C(e,t,n){return t="number"==typeof t?new b.Keybinding(t):t,t?e+" ("+n.getLabelFor(t)+")":e}t.isSearchViewletFocussed=_,t.appendKeyBindingLabel=C;var w=function(e){function t(t,n,i){e.call(this,t,n),this.viewletService=i}return d(t,e),t.prototype.run=function(){var e=this.viewletService.getActiveViewlet();return e.toggleCaseSensitive(),o.TPromise.as(null)},t=g([v(2,c.IViewletService)],t)}(s.Action);t.ToggleCaseSensitiveAction=w;var I=function(e){function t(t,n,i){e.call(this,t,n),this.viewletService=i}return d(t,e),t.prototype.run=function(){var e=this.viewletService.getActiveViewlet();return e.toggleWholeWords(),o.TPromise.as(null)},t=g([v(2,c.IViewletService)],t)}(s.Action);t.ToggleWholeWordAction=I;var T=function(e){function t(t,n,i){e.call(this,t,n),this.viewletService=i}return d(t,e),t.prototype.run=function(){var e=this.viewletService.getActiveViewlet();return e.toggleRegex(),o.TPromise.as(null)},t=g([v(2,c.IViewletService)],t)}(s.Action);t.ToggleRegexAction=T;var x=function(e){function t(t,n,i){e.call(this,t,n),this.viewletService=i}return d(t,e),t.prototype.run=function(){var e=this.viewletService.getActiveViewlet().searchAndReplaceWidget;return e.showNextSearchTerm(),o.TPromise.as(null)},t.ID="search.history.showNext",t.LABEL=n.localize(0,null),t=g([v(2,c.IViewletService)],t)}(s.Action);t.ShowNextSearchTermAction=x;var A=function(e){function t(t,n,i){e.call(this,t,n),this.viewletService=i}return d(t,e),t.prototype.run=function(){var e=this.viewletService.getActiveViewlet().searchAndReplaceWidget;return e.showPreviousSearchTerm(),o.TPromise.as(null)},t.ID="search.history.showPrevious",t.LABEL=n.localize(1,null),t=g([v(2,c.IViewletService)],t)}(s.Action);t.ShowPreviousSearchTermAction=A;var D=function(e){function t(t,n,i){e.call(this,t,n),this.viewletService=i}return d(t,e),t.prototype.run=function(){return this.viewletService.getActiveViewlet().focusNextInputBox(),o.TPromise.as(null)},t.ID="search.focus.nextInputBox",t.LABEL=n.localize(2,null),t=g([v(2,c.IViewletService)],t)}(s.Action);t.FocusNextInputAction=D;var L=function(e){function t(t,n,i){e.call(this,t,n),this.viewletService=i}return d(t,e),t.prototype.run=function(){return this.viewletService.getActiveViewlet().focusPreviousInputBox(),o.TPromise.as(null)},t.ID="search.focus.previousInputBox",t.LABEL=n.localize(3,null),t=g([v(2,c.IViewletService)],t)}(s.Action);t.FocusPreviousInputAction=L;var k=function(e){function t(t,n,i,r){e.call(this,t,n,h.VIEWLET_ID,i,r)}return d(t,e),t=g([v(2,c.IViewletService),v(3,m.IWorkbenchEditorService)],t)}(a.ToggleViewletAction);t.OpenSearchViewletAction=k;var P=function(e){function t(t,n,i){e.call(this,t,n),this.editorService=i}return d(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();return e&&e.focus(),o.TPromise.as(!0)},t=g([v(2,m.IWorkbenchEditorService)],t)}(s.Action);t.FocusActiveEditorAction=P;var R=function(e){function t(t,n,i){e.call(this,t,n),this.viewletService=i}return d(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(h.VIEWLET_ID,!0)},t=g([v(2,c.IViewletService)],t)}(s.Action);t.FindInFilesAction=R;var O=function(e){function t(t,n,i){e.call(this,t,n),this.viewletService=i}return d(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(h.VIEWLET_ID,!0).then(function(e){var t=e.searchAndReplaceWidget;t.toggleReplace(!0),t.focus(!1,!0)})},t.ID="workbench.action.replaceInFiles",t.LABEL=n.localize(4,null),t=g([v(2,c.IViewletService)],t)}(s.Action);t.ReplaceInFilesAction=O;var M=function(e){function t(t,n,i){e.call(this,t,n),this.viewletService=i}return d(t,e),t.prototype.run=function(){var e=this.viewletService.getActiveViewlet().searchAndReplaceWidget;return e.toggleReplace(!1),e.focus(),o.TPromise.as(null)},t=g([v(2,c.IViewletService)],t)}(s.Action);t.CloseReplaceAction=M;var N=function(e){function t(t,i){e.call(this,"workbench.search.action.findInFolder",n.localize(5,null)),this.viewletService=i,this.resource=t}return d(t,e),t.prototype.run=function(e){var t=this;return this.viewletService.openViewlet(h.VIEWLET_ID,!0).then(function(e){e.searchInFolder(t.resource)})},t=g([v(1,c.IViewletService)],t)}(s.Action);t.FindInFolderAction=N;var F=function(e){function t(t){e.call(this,"refresh"),this.viewlet=t,this.label=n.localize(6,null),this.enabled=!1,this.class="search-action refresh"}return d(t,e),t.prototype.run=function(){return this.viewlet.onQueryChanged(!0),o.TPromise.as(null)},t}(s.Action);t.RefreshAction=F;var W=function(e){function t(t){e.call(this,t.getControl(),!1),this.class="search-action collapse"}return d(t,e),t}(p.CollapseAllAction);t.CollapseAllAction=W;var V=function(e){function t(t){e.call(this,"clearSearchResults"),this.viewlet=t,this.label=n.localize(7,null),this.enabled=!1,this.class="search-action clear-search-results"}return d(t,e),t.prototype.run=function(){return this.viewlet.clearSearchResults(),o.TPromise.as(null)},t}(s.Action);t.ClearSearchResultsAction=V;var B=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.getElementToFocusAfterRemoved=function(e,t){var n=this.getNextElementAfterRemoved(e,t);return n||(n=this.getPreviousElementAfterRemoved(e,t)),n},t.prototype.getNextElementAfterRemoved=function(e,t){var n=this.getNavigatorAt(t,e);if(t instanceof u.FileMatch)for(;n.next()&&!(n.current()instanceof u.FileMatch););else n.next();return n.current()},t.prototype.getPreviousElementAfterRemoved=function(e,t){var n=this.getNavigatorAt(t,e),i=n.previous();return t instanceof u.Match&&1===t.parent().matches().length&&(i=n.previous()),i},t.prototype.getNavigatorAt=function(e,t){for(var n=t.getNavigator();n.current()!==e&&n.next(););return n},t}(s.Action);t.AbstractSearchAndReplaceAction=B;var H=function(e){function t(t,i){e.call(this,"remove",n.localize(8,null),"action-remove"),this.viewer=t,this.element=i}return d(t,e),t.prototype.run=function(){var e=this.getElementToFocusAfterRemoved(this.viewer,this.element);e&&this.viewer.setFocus(e);var t;if(this.element instanceof u.FileMatch){var n=this.element.parent();n.remove(this.element),t=n}else{var i=this.element.parent();i.remove(this.element),t=0===i.count()?i.parent():i}return this.viewer.DOMFocus(),this.viewer.refresh(t)},t}(B);t.RemoveAction=H;var z=function(e){function t(i,r,o,s,a,c){e.call(this,"file-action-replace-all",C(n.localize(9,null),t.KEY_BINDING,a),"action-replace-all"),this.viewer=i,this.fileMatch=r,this.viewlet=o,this.replaceService=s,this.telemetryService=c}return d(t,e),Object.defineProperty(t,"KEY_BINDING",{get:function(){return 49155},enumerable:!0,configurable:!0}),t.prototype.run=function(){var e=this;this.telemetryService.publicLog("replaceAll.action.selected");var t=this.getElementToFocusAfterRemoved(this.viewer,this.fileMatch);return this.fileMatch.parent().replace(this.fileMatch).then(function(){t&&e.viewer.setFocus(t),e.viewer.DOMFocus(),e.viewlet.open(e.fileMatch,!0)})},t=g([v(3,l.IReplaceService),v(4,S.IKeybindingService),v(5,y.ITelemetryService)],t)}(B);t.ReplaceAllAction=z;var U=function(e){function t(i,r,o,s,a,c,u){e.call(this,"action-replace",C(n.localize(10,null),t.KEY_BINDING,a),"action-replace"),this.viewer=i,this.element=r,this.viewlet=o,this.replaceService=s,this.editorService=c,this.telemetryService=u}return d(t,e),Object.defineProperty(t,"KEY_BINDING",{get:function(){return 49174},enumerable:!0,configurable:!0}),t.prototype.run=function(){var e=this;return this.enabled=!1,this.telemetryService.publicLog("replace.action.selected"),this.element.parent().replace(this.element).then(function(){var t=e.getElementToFocusAfterReplace();t&&e.viewer.setFocus(t);var n=e.getElementToShowReplacePreview(t);e.viewer.DOMFocus(),!n||e.hasToOpenFile()?e.viewlet.open(e.element,!0):e.replaceService.openReplacePreviewEditor(n,!0)})},t.prototype.getElementToFocusAfterReplace=function(){var e=this.viewer.getNavigator(),t=!1,n=null;do if(n=e.current(),n instanceof u.Match){if(n.parent().id()===this.element.parent().id()){if(t=!0,this.element.range().getStartPosition().isBeforeOrEqual(n.range().getStartPosition()))break}else if(t)break}else if(t&&!this.viewer.isExpanded(n))break;while(e.next());return n},t.prototype.getElementToShowReplacePreview=function(e){if(this.hasSameParent(e))return e;var t=this.getPreviousElementAfterRemoved(this.viewer,this.element);return this.hasSameParent(t)?t:null},t.prototype.hasSameParent=function(e){return e&&e instanceof u.Match&&e.parent().resource()===this.element.parent().resource()},t.prototype.hasToOpenFile=function(){var e=E.asFileEditorInput(this.editorService.getActiveEditorInput());return!!e&&e.getResource().fsPath===this.element.parent().resource().fsPath},t=g([v(3,l.IReplaceService),v(4,S.IKeybindingService),v(5,m.IWorkbenchEditorService),v(6,y.ITelemetryService)],t)}(B);t.ReplaceAction=U;var G=function(e){function t(t){e.call(this,"configureGlobalExclusionsAction"),this.preferencesService=t,this.label=n.localize(11,null),this.enabled=!0,this.class="search-configure-exclusions"}return d(t,e),t.prototype.run=function(){return this.preferencesService.openGlobalSettings().then(null,r.onUnexpectedError)},t=g([v(0,f.IPreferencesService)],t)}(s.Action);t.ConfigureGlobalExclusionsAction=G}),define(l[1194],h([1,0,608,12,13,7,20,8,29,2,242,218,138,371,85,68,208,26,15,220,6]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C){"use strict";var w=function(){function e(){}return e.prototype.getId=function(e,t){return t instanceof b.FileMatch?t.id():t instanceof b.Match?t.id():"root"},e.prototype.getChildren=function(e,t){var n=[];return t instanceof b.FileMatch?n=t.matches():t instanceof b.SearchResult&&(n=t.matches()),
u.TPromise.as(n)},e.prototype.hasChildren=function(e,t){return t instanceof b.FileMatch||t instanceof b.SearchResult},e.prototype.getParent=function(e,t){var n=null;return t instanceof b.Match?n=t.parent():t instanceof b.FileMatch&&(n=t.parent()),u.TPromise.as(n)},e}();t.SearchDataSource=w;var I=function(){function e(){}return e.prototype.compare=function(e,t,n){return t instanceof b.FileMatch&&n instanceof b.FileMatch?t.resource().fsPath.localeCompare(n.resource().fsPath)||t.name().localeCompare(n.name()):t instanceof b.Match&&n instanceof b.Match?E.Range.compareRangesUsingStarts(t.range(),n.range()):void 0},e}();t.SearchSorter=I;var T=function(e){function t(t,n){e.call(this),this.viewlet=t,this.instantiationService=n}return d(t,e),t.prototype.hasActions=function(t,n){var i=t.getInput();return n instanceof b.FileMatch||i.searchModel.isReplaceActive()||n instanceof b.Match||e.prototype.hasActions.call(this,t,n)},t.prototype.getActions=function(t,n){var i=this;return e.prototype.getActions.call(this,t,n).then(function(e){var r=t.getInput();return n instanceof b.FileMatch&&(e.unshift(new _.RemoveAction(t,n)),r.searchModel.isReplaceActive()&&n.count()>0&&e.unshift(i.instantiationService.createInstance(_.ReplaceAllAction,t,n,i.viewlet))),n instanceof b.Match&&r.searchModel.isReplaceActive()&&e.unshift(i.instantiationService.createInstance(_.ReplaceAction,t,n,i.viewlet),new _.RemoveAction(t,n)),e})},t=g([v(1,C.IInstantiationService)],t)}(y.ContributableActionProvider),x=function(e){function t(t,n,i,r){e.call(this,{actionProvider:r.createInstance(T,n),actionRunner:t}),this.contextService=i,this.instantiationService=r}return d(t,e),t.prototype.getContentHeight=function(e,t){return 22},t.prototype.renderContents=function(e,t,r,o){var s=this;if(t instanceof b.FileMatch){var u=t,l=c.$(".filematch"),d=void 0,g=void 0,v=void 0;return d=function(e){var t=s.instantiationService.createInstance(p.FileLabel,e,void 0);return t.setFile(u.resource()),function(){return t.dispose()}},g=function(e){var t=u.count();return new h.CountBadge(e,t,t>1?n.localize(0,null,t):n.localize(1,null,t))},v=new f.LeftRightWidget(l,d,g),l.appendTo(r),v.dispose.bind(v)}if(t instanceof b.Match){a.addClass(r,"linematch");var m=t,y=[],S=m.preview();y.push("<span>"),y.push(i.escape(S.before));var E=e.getInput().searchModel,_=E.isReplaceActive()&&!!E.replaceString;y.push('</span><span class="'+(_?"replace ":"")+'findInFileMatch">'),y.push(i.escape(S.inside)),_&&(y.push('</span><span class="replaceMatch">'),y.push(i.escape(m.replaceString))),y.push("</span><span>"),y.push(i.escape(S.after)),y.push("</span>"),c.$("a.plain").innerHtml(y.join(i.empty)).title((S.before+(_?m.replaceString:S.inside)+S.after).trim().substr(0,999)).appendTo(r)}return null},t=g([v(2,S.IWorkspaceContextService),v(3,C.IInstantiationService)],t)}(l.ActionsRenderer);t.SearchRenderer=x;var A=function(){function e(e){this.contextService=e}return e.prototype.getAriaLabel=function(e,t){if(t instanceof b.FileMatch){var i=this.contextService.toWorkspaceRelativePath(t.resource())||t.resource().fsPath;return n.localize(2,null,t.count(),t.name(),s.dirname(i))}if(t instanceof b.Match){var r=t,o=e.getInput();if(o.searchModel.isReplaceActive()){var a=r.preview();return n.localize(3,null,a.before+r.replaceString+a.after)}return n.localize(4,null,r.text())}},e=g([v(0,S.IWorkspaceContextService)],e)}();t.SearchAccessibilityProvider=A;var D=function(e){function t(t,n){var i=this;e.call(this,{clickBehavior:m.ClickBehavior.ON_MOUSE_DOWN}),this.viewlet=t,this.instantiationService=n,r.isMacintosh?(this.downKeyBindingDispatcher.set(32769,function(e,t){i.onDelete(e,t)}),this.upKeyBindingDispatcher.set(4099,this.onEnter.bind(this))):(this.downKeyBindingDispatcher.set(20,function(e,t){i.onDelete(e,t)}),this.upKeyBindingDispatcher.set(32771,this.onEnter.bind(this))),this.downKeyBindingDispatcher.set(_.ReplaceAllAction.KEY_BINDING,function(e,t){i.onReplaceAll(e,t)}),this.downKeyBindingDispatcher.set(_.ReplaceAction.KEY_BINDING,function(e,t){i.onReplace(e,t)}),this.downKeyBindingDispatcher.set(9,function(e,t){i.onEscape(e,t)})}return d(t,e),t.prototype.onEscape=function(t,n){return!!this.viewlet.cancelSearch()||e.prototype.onEscape.call(this,t,n)},t.prototype.onDelete=function(e,t){var n=e.getInput(),i=!1,r=e.getFocus();return(r instanceof b.FileMatch||r instanceof b.Match&&n.searchModel.isReplaceActive())&&(new _.RemoveAction(e,r).run().done(null,o.onUnexpectedError),i=!0),i},t.prototype.onReplace=function(e,t){var n=e.getInput(),i=!1,r=e.getFocus();return r instanceof b.Match&&n.searchModel.isReplaceActive()&&(this.instantiationService.createInstance(_.ReplaceAction,e,r,this.viewlet).run().done(null,o.onUnexpectedError),i=!0),i},t.prototype.onReplaceAll=function(e,t){var n=!1,i=e.getFocus();return i instanceof b.FileMatch&&i.count()>0&&(this.instantiationService.createInstance(_.ReplaceAllAction,e,i,this.viewlet).run().done(null,o.onUnexpectedError),n=!0),n},t.prototype.onUp=function(t,n){return t.getNavigator().first()===t.getFocus()?(this.viewlet.moveFocusFromResults(),!0):e.prototype.onUp.call(this,t,n)},t.prototype.onSpace=function(t,n){var i=t.getFocus();return i instanceof b.Match?this.onEnter(t,n):void e.prototype.onSpace.call(this,t,n)},t=g([v(1,C.IInstantiationService)],t)}(m.DefaultController);t.SearchController=D;var L=function(){function e(){}return e.prototype.isVisible=function(e,t){return!(t instanceof b.FileMatch)||t.matches().length>0},e}();t.SearchFilter=L}),define(l[395],h([1,0,610,12,8,2,94,24,43,263,101,214,84,23,11,53,220,215,321,184]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,g,v,m,y,b,S){"use strict";function E(){p.KeybindingsRegistry.registerCommandAndKeybindingRule({id:_.ID,weight:p.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:f.ContextKeyExpr.and(S.SearchViewletVisibleKey,S.ReplaceActiveKey,y.CONTEXT_FIND_WIDGET_NOT_VISIBLE),primary:40963,handler:function(e){m.isSearchViewletFocussed(e.get(v.IViewletService))&&_.INSTANCE.run()}})}var _=function(e){function t(){e.call(this,t.ID,"","action-replace-all",!1),this._searchWidget=null}return d(t,e),Object.defineProperty(t,"INSTANCE",{get:function(){return null===t.fgInstance&&(t.fgInstance=new t),t.fgInstance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchWidget",{set:function(e){this._searchWidget=e},enumerable:!0,configurable:!0}),t.prototype.run=function(){return this._searchWidget?this._searchWidget.triggerReplaceAll():o.TPromise.as(null)},t.fgInstance=null,t.ID="search.action.replaceAll",t}(a.Action),C=function(e){function t(t,n,i,r,o,s){void 0===i&&(i=Object.create(null)),e.call(this),this.contextViewService=n,this.keyBindingService=r,this.keyBindingService2=o,this.instantiationService=s,this._onSearchSubmit=this._register(new g.Emitter),this.onSearchSubmit=this._onSearchSubmit.event,this._onSearchCancel=this._register(new g.Emitter),this.onSearchCancel=this._onSearchCancel.event,this._onReplaceToggled=this._register(new g.Emitter),this.onReplaceToggled=this._onReplaceToggled.event,this._onReplaceStateChange=this._register(new g.Emitter),this.onReplaceStateChange=this._onReplaceStateChange.event,this._onReplaceValueChanged=this._register(new g.Emitter),this.onReplaceValueChanged=this._onReplaceValueChanged.event,this._onReplaceAll=this._register(new g.Emitter),this.onReplaceAll=this._onReplaceAll.event,this.searchHistory=new b.HistoryNavigator,this.replaceActive=S.ReplaceActiveKey.bindTo(this.keyBindingService),this.searchInputBoxFocussed=S.SearchInputBoxFocussedKey.bindTo(this.keyBindingService),this.replaceInputBoxFocussed=S.ReplaceInputBoxFocussedKey.bindTo(this.keyBindingService),this.render(t,i)}return d(t,e),t.prototype.focus=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!1),!t&&this.searchInput.inputBox.hasFocus()||t&&this.replaceInput.hasFocus()||(t&&this.isReplaceShown()?(this.replaceInput.focus(),e&&this.replaceInput.select()):(this.searchInput.focus(),e&&this.searchInput.select()))},t.prototype.setWidth=function(e){this.searchInput.setWidth(e-2),this.replaceInput.width=e-28},t.prototype.clear=function(){this.searchInput.clear(),this.replaceInput.value="",this.setReplaceAllActionState(!1)},t.prototype.isReplaceShown=function(){return!r.hasClass(this.replaceContainer,"disabled")},t.prototype.getReplaceValue=function(){return this.replaceInput.value},t.prototype.toggleReplace=function(e){void 0!==e&&e===this.isReplaceShown()||this.onToggleReplaceButton()},t.prototype.showNextSearchTerm=function(){var e=this.searchHistory.next();e&&this.searchInput.setValue(e)},t.prototype.showPreviousSearchTerm=function(){var e=this.searchHistory.previous();e&&this.searchInput.setValue(e)},t.prototype.searchInputHasFocus=function(){return this.searchInputBoxFocussed.get()},t.prototype.replaceInputHasFocus=function(){return this.replaceInput.hasFocus()},t.prototype.render=function(e,t){this.domNode=e.div({class:"search-widget"}).style({position:"relative"}).getHTMLElement(),this.renderToggleReplaceButton(this.domNode),this.renderSearchInput(this.domNode,t),this.renderReplaceInput(this.domNode)},t.prototype.renderToggleReplaceButton=function(e){var t=this;this.toggleReplaceButton=this._register(new h.Button(e)),this.toggleReplaceButton.icon="toggle-replace-button collapse",this.toggleReplaceButton.addListener2("click",function(){return t.onToggleReplaceButton()}),this.toggleReplaceButton.getElement().title=n.localize(2,null)},t.prototype.renderSearchInput=function(e,t){var i=this,o={label:n.localize(3,null),validation:function(e){return i.validatSearchInput(e)},placeholder:n.localize(4,null),appendCaseSensitiveLabel:m.appendKeyBindingLabel("",this.keyBindingService2.lookupKeybindings(S.ToggleCaseSensitiveActionId)[0],this.keyBindingService2),appendWholeWordsLabel:m.appendKeyBindingLabel("",this.keyBindingService2.lookupKeybindings(S.ToggleWholeWordActionId)[0],this.keyBindingService2),appendRegexLabel:m.appendKeyBindingLabel("",this.keyBindingService2.lookupKeybindings(S.ToggleRegexActionId)[0],this.keyBindingService2)},s=r.append(e,r.$(".search-container.input-box"));this.searchInput=this._register(new u.FindInput(s,this.contextViewService,o)),this.searchInput.onKeyUp(function(e){return i.onSearchInputKeyUp(e)}),this.searchInput.setValue(t.value||""),this.searchInput.setRegex(!!t.isRegex),this.searchInput.setCaseSensitive(!!t.isCaseSensitive),this.searchInput.setWholeWords(!!t.isWholeWords),this._register(this.onSearchSubmit(function(){i.searchHistory.add(i.searchInput.getValue())})),this.searchInputFocusTracker=this._register(r.trackFocus(this.searchInput.inputBox.inputElement)),this._register(this.searchInputFocusTracker.addFocusListener(function(){i.searchInputBoxFocussed.set(!0)})),this._register(this.searchInputFocusTracker.addBlurListener(function(){i.searchInputBoxFocussed.set(!1)}))},t.prototype.renderReplaceInput=function(e){var i=this;this.replaceContainer=r.append(e,r.$(".replace-container.disabled"));var o=r.append(this.replaceContainer,r.$(".input-box"));this.replaceInput=this._register(new l.InputBox(o,this.contextViewService,{ariaLabel:n.localize(5,null),placeholder:n.localize(6,null)})),this.onkeyup(this.replaceInput.inputElement,function(e){return i.onReplaceInputKeyUp(e)}),this.replaceInput.onDidChange(function(){return i._onReplaceValueChanged.fire()}),this.searchInput.inputBox.onDidChange(function(){return i.onSearchInputChanged()}),this.replaceAllAction=_.INSTANCE,this.replaceAllAction.searchWidget=this,this.replaceAllAction.label=t.REPLACE_ALL_DISABLED_LABEL,this.replaceActionBar=this._register(new c.ActionBar(this.replaceContainer)),this.replaceActionBar.push([this.replaceAllAction],{icon:!0,label:!1}),this.replaceInputFocusTracker=this._register(r.trackFocus(this.replaceInput.inputElement)),this._register(this.replaceInputFocusTracker.addFocusListener(function(){i.replaceInputBoxFocussed.set(!0)})),this._register(this.replaceInputFocusTracker.addBlurListener(function(){i.replaceInputBoxFocussed.set(!1)}))},t.prototype.triggerReplaceAll=function(){return this._onReplaceAll.fire(),o.TPromise.as(null)},t.prototype.onToggleReplaceButton=function(){r.toggleClass(this.replaceContainer,"disabled"),r.toggleClass(this.toggleReplaceButton.getElement(),"collapse"),r.toggleClass(this.toggleReplaceButton.getElement(),"expand"),this.updateReplaceActiveState(),this._onReplaceToggled.fire()},t.prototype.setReplaceAllActionState=function(e){this.replaceAllAction.enabled!==e&&(this.replaceAllAction.enabled=e,this.replaceAllAction.label=e?t.REPLACE_ALL_ENABLED_LABEL(this.keyBindingService2):t.REPLACE_ALL_DISABLED_LABEL,this.updateReplaceActiveState())},t.prototype.isReplaceActive=function(){return this.replaceActive.get()},t.prototype.updateReplaceActiveState=function(){var e=this.isReplaceActive(),t=this.isReplaceShown()&&this.replaceAllAction.enabled;e!==t&&(this.replaceActive.set(t),this._onReplaceStateChange.fire(t))},t.prototype.validatSearchInput=function(e){if(0===e.length)return null;if(!this.searchInput.getRegex())return null;var t;try{t=new RegExp(e)}catch(e){return{content:e.message}}return i.regExpLeadsToEndlessLoop(t)?{content:n.localize(7,null)}:void 0},t.prototype.onSearchInputChanged=function(){this.setReplaceAllActionState(!1)},t.prototype.onSearchInputKeyUp=function(e){switch(e.keyCode){case 3:return void this.submitSearch();case 9:return void this._onSearchCancel.fire();default:return}},t.prototype.onReplaceInputKeyUp=function(e){switch(e.keyCode){case 3:return void this.submitSearch();default:return}},t.prototype.submitSearch=function(e){void 0===e&&(e=!0),this.searchInput.getValue()&&this._onSearchSubmit.fire(e)},t.prototype.dispose=function(){this.setReplaceAllActionState(!1),this.replaceAllAction.searchWidget=null,this.replaceActionBar=null,e.prototype.dispose.call(this)},t.REPLACE_ALL_DISABLED_LABEL=n.localize(0,null),t.REPLACE_ALL_ENABLED_LABEL=function(e){var t=e.lookupKeybindings(_.ID);return m.appendKeyBindingLabel(n.localize(1,null),t[0],e)},t}(s.Widget);t.SearchWidget=C,t.registerContributions=E}),define(l[1196],h([1,0,14,65,77,606,92,31,43,68,37,64,84,6,87,26,50,53,220,184,1006,395,23,244,833]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T){"use strict";C.registerContributions(),w.registerContributions(),p.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.search.toggleQueryDetails",weight:p.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:_.SearchViewletVisibleKey,primary:49192,handler:function(e){var t=e.get(S.IViewletService);t.openViewlet(_.VIEWLET_ID,!0).then(function(e){return e.toggleFileTypes()})}});var x=function(e){function t(t,n){e.call(this),this._instantiationService=t,this._contextService=n}return d(t,e),t.prototype.hasSecondaryActions=function(e){var t=e.element,n=s.asFileResource(t);return!!n&&n.isDirectory},t.prototype.getSecondaryActions=function(e){var t=[];if(this.hasSecondaryActions(e)){var n=s.asFileResource(e.element),i=new a.DeferredAction(this._instantiationService,new m.AsyncDescriptor("vs/workbench/parts/search/browser/searchActions","FindInFolderAction",n.resource),"workbench.search.action.findInFolder",o.localize(0,null));i.order=55,t.push(i),t.push(new c.Separator("",56))}return t},t=g([v(0,f.IInstantiationService),v(1,y.IWorkspaceContextService)],t)}(u.ActionBarContributor),A="workbench.action.showAllSymbols",D=o.localize(1,null),L="#",k=function(e){function t(t,n,i){e.call(this,t,n,L,i)}return d(t,e),t=g([v(2,b.IQuickOpenService)],t)}(h.QuickOpenAction);n.Registry.as(i.Extensions.Viewlets).registerViewlet(new i.ViewletDescriptor("vs/workbench/parts/search/browser/searchViewlet","SearchViewlet",_.VIEWLET_ID,o.localize(2,null),"search",10));var P=n.Registry.as(l.Extensions.WorkbenchActions);P.registerWorkbenchAction(new a.SyncActionDescriptor(E.OpenSearchViewletAction,_.VIEWLET_ID,o.localize(3,null),{primary:49188},_.SearchViewletVisibleKey.toNegated()),"View: Show Search",o.localize(4,null)),P.registerWorkbenchAction(new a.SyncActionDescriptor(E.FocusActiveEditorAction,_.FocusActiveEditorActionId,"",{primary:49188},I.ContextKeyExpr.and(_.SearchViewletVisibleKey,_.SearchInputBoxFocussedKey)),""),P.registerWorkbenchAction(new a.SyncActionDescriptor(E.FindInFilesAction,_.FindInFilesActionId,o.localize(5,null),{primary:49188},_.SearchInputBoxFocussedKey.toNegated()),"Find in Files"),P.registerWorkbenchAction(new a.SyncActionDescriptor(E.ReplaceInFilesAction,E.ReplaceInFilesAction.ID,E.ReplaceInFilesAction.LABEL,{primary:49190}),"Replace in Files"),P.registerWorkbenchAction(new a.SyncActionDescriptor(E.CloseReplaceAction,_.CloseReplaceWidgetActionId,"",{primary:9},I.ContextKeyExpr.and(_.SearchViewletVisibleKey,_.ReplaceInputBoxFocussedKey)),""),P.registerWorkbenchAction(new a.SyncActionDescriptor(E.ShowNextSearchTermAction,E.ShowNextSearchTermAction.ID,E.ShowNextSearchTermAction.LABEL,T.ShowNextFindTermKeybinding,I.ContextKeyExpr.and(_.SearchViewletVisibleKey,_.SearchInputBoxFocussedKey)),""),P.registerWorkbenchAction(new a.SyncActionDescriptor(E.ShowPreviousSearchTermAction,E.ShowPreviousSearchTermAction.ID,E.ShowPreviousSearchTermAction.LABEL,T.ShowPreviousFindTermKeybinding,I.ContextKeyExpr.and(_.SearchViewletVisibleKey,_.SearchInputBoxFocussedKey)),""),P.registerWorkbenchAction(new a.SyncActionDescriptor(E.FocusNextInputAction,E.FocusNextInputAction.ID,E.FocusNextInputAction.LABEL,{primary:18},I.ContextKeyExpr.and(_.SearchViewletVisibleKey,_.InputBoxFocussedKey)),""),P.registerWorkbenchAction(new a.SyncActionDescriptor(E.FocusPreviousInputAction,E.FocusPreviousInputAction.ID,E.FocusPreviousInputAction.LABEL,{primary:16},I.ContextKeyExpr.and(_.SearchViewletVisibleKey,_.InputBoxFocussedKey,_.SearchInputBoxFocussedKey.toNegated())),""),P.registerWorkbenchAction(new a.SyncActionDescriptor(E.ToggleCaseSensitiveAction,_.ToggleCaseSensitiveActionId,"",T.ToggleCaseSensitiveKeybinding,I.ContextKeyExpr.and(_.SearchViewletVisibleKey,_.SearchInputBoxFocussedKey)),""),P.registerWorkbenchAction(new a.SyncActionDescriptor(E.ToggleWholeWordAction,_.ToggleWholeWordActionId,"",T.ToggleWholeWordKeybinding,I.ContextKeyExpr.and(_.SearchViewletVisibleKey,_.SearchInputBoxFocussedKey)),""),P.registerWorkbenchAction(new a.SyncActionDescriptor(E.ToggleRegexAction,_.ToggleRegexActionId,"",T.ToggleRegexKeybinding,I.ContextKeyExpr.and(_.SearchViewletVisibleKey,_.SearchInputBoxFocussedKey)),""),P.registerWorkbenchAction(new a.SyncActionDescriptor(k,A,D,{primary:32818}),"Go to Symbol in Workspace...");var R=n.Registry.as(u.Extensions.Actionbar);R.registerActionBarContributor(u.Scope.VIEWER,x),n.Registry.as(h.Extensions.Quickopen).registerDefaultQuickOpenHandler(new h.QuickOpenHandlerDescriptor("vs/workbench/parts/search/browser/openAnythingHandler","OpenAnythingHandler","",o.localize(6,null))),n.Registry.as(h.Extensions.Quickopen).registerQuickOpenHandler(new h.QuickOpenHandlerDescriptor("vs/workbench/parts/search/browser/openAnythingHandler","OpenSymbolHandler",L,[{prefix:L,needsEditor:!1,description:o.localize(7,null)}]));var O=n.Registry.as(r.Extensions.Configuration);O.registerConfiguration({id:"search",order:13,title:o.localize(8,null),type:"object",properties:{"search.exclude":{type:"object",description:o.localize(9,null),default:{"**/node_modules":!0,"**/bower_components":!0},additionalProperties:{anyOf:[{type:"boolean",description:o.localize(10,null)},{type:"object",properties:{when:{type:"string",pattern:"\\w*\\$\\(basename\\)\\w*",default:"$(basename).ext",description:o.localize(11,null)}}}]}},"search.quickOpen.includeSymbols":{type:"boolean",description:o.localize(12,null),default:!1}}})}),define(l[1197],h([1,0,609,2,10,5,7,148,21,12,8,78,29,263,111,146,155,41,28,33,65,208,328,101,144,22,38,25,39,47,6,18,123,26,36,23,19,968,1194,395,220,202,32,56,184,835]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P,R,O,M,N,F,W,V,B,H,z,U,G,K,j,q){"use strict";var $=function(e){function t(t,n,i,r,o,s,a,c,u,l,h,d,p,f,g,v,m){var b=this;e.call(this,q.VIEWLET_ID,t),this.eventService=n,this.editorService=i,this.editorGroupService=r,this.progressService=o,this.messageService=s,this.storageService=a,this.contextViewService=c,this.instantiationService=u,this.configurationService=l,this.contextService=h,this.searchService=d,this.contextKeyService=p,this.keybindingService=f,this.replaceService=g,this.untitledEditorService=v,this.preferencesService=m,this.toDispose=[],this.viewletVisible=q.SearchViewletVisibleKey.bindTo(p),this.inputBoxFocussed=q.InputBoxFocussedKey.bindTo(this.contextKeyService),this.callOnModelChange=[],this.queryBuilder=this.instantiationService.createInstance(I.QueryBuilder),this.viewletSettings=this.getMemento(a,y.Scope.WORKSPACE),this.toUnbind.push(this.eventService.addListener2(_.EventType.FILE_CHANGES,function(e){return b.onFilesChanged(e)})),this.toUnbind.push(this.untitledEditorService.onDidChangeDirty(function(e){return b.onUntitledDidChangeDirty(e)})),this.toUnbind.push(this.configurationService.onDidUpdateConfiguration(function(e){return b.onConfigurationUpdated(e.config)}))}return d(t,e),t.prototype.onConfigurationUpdated=function(e){this.updateGlobalPatternExclusions(e)},t.prototype.create=function(t){var r=this;e.prototype.create.call(this,t),this.viewModel=this.instantiationService.createInstance(w.SearchModel);var o;this.domNode=t.div({class:"search-viewlet"},function(e){o=e}),o.div({class:["search-widgets-container"]},function(e){r.searchWidgetsContainer=e}),this.createSearchWidget(this.searchWidgetsContainer);var s=this.viewletSettings["query.filePatterns"]||"",a=this.viewletSettings["query.folderExclusions"]||"",c=this.viewletSettings["query.exclusionsUsePattern"],u=this.viewletSettings["query.includesUsePattern"],d=this.viewletSettings["query.folderIncludes"]||"";this.queryDetails=this.searchWidgetsContainer.div({class:["query-details"]},function(e){e.div({class:"more",tabindex:0,role:"button",title:n.localize(0,null)}).on(l.EventType.CLICK,function(e){l.EventHelper.stop(e),r.toggleFileTypes(!0)}).on(l.EventType.KEY_UP,function(e){var t=new h.StandardKeyboardEvent(e);(t.equals(3)||t.equals(10))&&(l.EventHelper.stop(e),r.toggleFileTypes())}),e.div({class:"file-types"},function(e){var t=n.localize(1,null);e.element("h4",{text:t}),r.inputPatternIncludes=new B.PatternInputWidget(e.getContainer(),r.contextViewService,{ariaLabel:n.localize(2,null)}),r.inputPatternIncludes.setIsGlobPattern(u),r.inputPatternIncludes.setValue(d),r.inputPatternIncludes.on(f.FindInput.OPTION_CHANGE,function(e){r.onQueryChanged(!1)}),r.inputPatternIncludes.onSubmit(function(){return r.onQueryChanged(!0)}),r.trackInputBox(r.inputPatternIncludes.inputFocusTracker)}),e.div({class:"file-types"},function(e){var t=n.localize(3,null);e.element("h4",{text:t}),r.inputPatternExclusions=new B.PatternInputWidget(e.getContainer(),r.contextViewService,{ariaLabel:n.localize(4,null)}),r.inputPatternExclusions.setIsGlobPattern(c),r.inputPatternExclusions.setValue(a),r.inputPatternExclusions.on(f.FindInput.OPTION_CHANGE,function(e){r.onQueryChanged(!1)}),r.inputPatternExclusions.onSubmit(function(){return r.onQueryChanged(!0)}),r.trackInputBox(r.inputPatternExclusions.inputFocusTracker)}),r.inputPatternGlobalExclusionsContainer=e.div({class:"file-types global-exclude disabled"},function(e){var t=n.localize(5,null);e.element("h4",{text:t}),r.inputPatternGlobalExclusions=new T.InputBox(e.getContainer(),r.contextViewService,{actions:[r.instantiationService.createInstance(U.ConfigureGlobalExclusionsAction)],ariaLabel:n.localize(6,null)}),r.inputPatternGlobalExclusions.inputElement.readOnly=!0,p.$(r.inputPatternGlobalExclusions.inputElement).attr("aria-readonly","true"),p.$(r.inputPatternGlobalExclusions.inputElement).addClass("disabled")}).hide()}).getHTMLElement(),this.messages=o.div({class:"messages"}).hide().clone(),this.createSearchResultsView(o),this.actionRegistry={};var g=[new U.CollapseAllAction(this),new U.RefreshAction(this),new U.ClearSearchResultsAction(this)];return g.forEach(function(e){r.actionRegistry[e.id]=e}),""===s&&""===a&&""===d||this.toggleFileTypes(!0,!0,!0),this.updateGlobalPatternExclusions(this.configurationService.getConfiguration()),this.toUnbind.push(this.viewModel.searchResult.onChange(function(e){return r.onSearchResultsChanged(e)})),i.TPromise.as(null)},Object.defineProperty(t.prototype,"searchAndReplaceWidget",{get:function(){return this.searchWidget},enumerable:!0,configurable:!0}),t.prototype.createSearchWidget=function(e){var n=this,i=this.viewletSettings["query.contentPattern"]||"",r=this.viewletSettings["query.regex"]===!0,o=this.viewletSettings["query.wholeWords"]===!0,s=this.viewletSettings["query.caseSensitive"]===!0;this.searchWidget=new z.SearchWidget(e,this.contextViewService,{value:i,isRegex:r,isCaseSensitive:s,isWholeWords:o},this.contextKeyService,this.keybindingService,this.instantiationService),this.storageService.getBoolean(t.SHOW_REPLACE_STORAGE_KEY,D.StorageScope.WORKSPACE,!0)&&this.searchWidget.toggleReplace(!0),this.toUnbind.push(this.searchWidget),this.toUnbind.push(this.searchWidget.onSearchSubmit(function(e){return n.onQueryChanged(e)})),this.toUnbind.push(this.searchWidget.onSearchCancel(function(){return n.cancelSearch()})),this.toUnbind.push(this.searchWidget.searchInput.onDidOptionChange(function(e){return n.onQueryChanged(!0,e)})),this.toUnbind.push(this.searchWidget.onReplaceToggled(function(){return n.onReplaceToggled()})),this.toUnbind.push(this.searchWidget.onReplaceStateChange(function(e){n.viewModel.replaceActive=e,n.tree.refresh()})),this.toUnbind.push(this.searchWidget.onReplaceValueChanged(function(e){n.viewModel.replaceString=n.searchWidget.getReplaceValue(),n.refreshInputs(),n.tree.refresh()})),this.toUnbind.push(this.searchWidget.onReplaceAll(function(){return n.replaceAll()})),this.trackInputBox(this.searchWidget.searchInputFocusTracker),this.trackInputBox(this.searchWidget.replaceInputFocusTracker)},t.prototype.trackInputBox=function(e){var t=this;this.toUnbind.push(e.addFocusListener(function(){t.inputBoxFocussed.set(!0)})),this.toUnbind.push(e.addBlurListener(function(){t.inputBoxFocussed.set(t.searchWidget.searchInputHasFocus()||t.searchWidget.replaceInputHasFocus()||t.inputPatternIncludes.inputHasFocus()||t.inputPatternExclusions.inputHasFocus())}))},t.prototype.onReplaceToggled=function(){this.layout(this.size),this.storageService.store(t.SHOW_REPLACE_STORAGE_KEY,this.searchAndReplaceWidget.isReplaceShown(),D.StorageScope.WORKSPACE)},t.prototype.onSearchResultsChanged=function(e){var t=this;return this.refreshTree(e).then(function(){t.searchWidget.setReplaceAllActionState(!t.viewModel.searchResult.isEmpty())})},t.prototype.refreshTree=function(e){var t=this;return e?e.added||e.removed?this.tree.refresh(this.viewModel.searchResult).then(function(){e.added&&e.elements.forEach(function(e){t.autoExpandFileMatch(e,!0)})}):1===e.elements.length?this.tree.refresh(e.elements[0]):this.tree.refresh(e.elements):this.tree.refresh(this.viewModel.searchResult)},t.prototype.refreshInputs=function(){var e=this;this.viewModel.searchResult.matches().forEach(function(t){e.replaceService.refreshInput(t)})},t.prototype.replaceAll=function(){var e=this;if(0!==this.viewModel.searchResult.count()){var t=this.progressService.show(100),i=this.viewModel.searchResult.count(),r=this.viewModel.searchResult.fileCount(),o=this.searchWidget.getReplaceValue()||"",a=o?n.localize(7,null,i,r,o):n.localize(8,null,i,r),c={title:n.localize(9,null),message:o?n.localize(10,null,i,r,o):n.localize(11,null,i,r),primaryButton:n.localize(12,null)};this.messageService.confirm(c)&&(this.searchWidget.setReplaceAllActionState(!1),this.viewModel.searchResult.replaceAll(t).then(function(){t.done(),e.showMessage(a)},function(n){t.done(),s.isPromiseCanceledError(n),e.messageService.show(K.default.Error,n)}))}},t.prototype.showMessage=function(e){return this.messages.empty().show().asContainer().div({class:"message",text:e})},t.prototype.createSearchResultsView=function(e){var t=this;e.div({class:"results"},function(e){t.results=e,t.results.addClass("show-file-icons");var i=new H.SearchDataSource,r=t.instantiationService.createInstance(H.SearchRenderer,t.getActionRunner(),t);t.tree=new m.Tree(e.getHTMLElement(),{dataSource:i,renderer:r,sorter:new H.SearchSorter,filter:new H.SearchFilter,controller:new H.SearchController(t,t.instantiationService),accessibilityProvider:t.instantiationService.createInstance(H.SearchAccessibilityProvider)},{ariaLabel:n.localize(13,null)}),t.tree.setInput(t.viewModel.searchResult),t.toUnbind.push(r),t.toUnbind.push(t.tree.addListener2("selection",function(e){var n,i=e.payload&&"keyboard"===e.payload.origin;n=i?t.tree.getFocus():e.selection[0];var r=e.payload&&e.payload.originalEvent,o=e.payload&&"mouse"===e.payload.origin&&r&&2===r.detail;o&&r.preventDefault();var s=r&&(r.ctrlKey||r.metaKey),a=i&&3===r.keyCode||o;if(n instanceof w.Match){var c=n;t.currentSelectedFileMatch&&t.currentSelectedFileMatch.setSelectedMatch(null),t.currentSelectedFileMatch=c.parent(),t.currentSelectedFileMatch.setSelectedMatch(c),t.onFocus(c,!a,s,o)}}))})},t.prototype.updateGlobalPatternExclusions=function(e){if(this.inputPatternGlobalExclusionsContainer){var t=I.getExcludes(e);if(t){var i=Object.getOwnPropertyNames(t).filter(function(e){return t[e]===!0||"string"==typeof t[e].when}).map(function(e){return t[e]===!0?e:n.localize(14,null,e,t[e].when)});if(i.length){var r=i.join(", ");this.inputPatternGlobalExclusions.value=r,this.inputPatternGlobalExclusions.inputElement.title=r,this.inputPatternGlobalExclusionsContainer.show()}else this.inputPatternGlobalExclusionsContainer.hide()}}},t.prototype.setVisible=function(t){var n;if(this.viewletVisible.set(t),t?(n=e.prototype.setVisible.call(this,t),this.tree.onVisible()):(this.tree.onHidden(),n=e.prototype.setVisible.call(this,t)),this.viewModel&&this.viewModel.searchResult.toggleHighlights(t),t&&!this.editorService.getActiveEditor()){var i=this.tree.getFocus();i&&this.onFocus(i)}return n},t.prototype.focus=function(){e.prototype.focus.call(this);var t=this.getSearchTextFromEditor();t&&this.searchWidget.searchInput.setValue(t),this.searchWidget.focus()},t.prototype.focusNextInputBox=function(){return this.searchWidget.searchInputHasFocus()?void(this.searchWidget.isReplaceShown()?this.searchWidget.focus(!0,!0):this.moveFocusFromSearchOrReplace()):this.searchWidget.replaceInputHasFocus()?void this.moveFocusFromSearchOrReplace():this.inputPatternIncludes.inputHasFocus()?(this.inputPatternExclusions.focus(),void this.inputPatternExclusions.select()):this.inputPatternExclusions.inputHasFocus()?void this.selectTreeIfNotSelected():void 0},t.prototype.moveFocusFromSearchOrReplace=function(){this.showsFileTypes()?this.toggleFileTypes(!0,this.showsFileTypes()):this.selectTreeIfNotSelected()},t.prototype.focusPreviousInputBox=function(){if(!this.searchWidget.searchInputHasFocus())return this.searchWidget.replaceInputHasFocus()?void this.searchWidget.focus(!0):this.inputPatternIncludes.inputHasFocus()?void this.searchWidget.focus(!0,!0):this.inputPatternExclusions.inputHasFocus()?(this.inputPatternIncludes.focus(),void this.inputPatternIncludes.select()):void 0},t.prototype.moveFocusFromResults=function(){this.showsFileTypes()?this.toggleFileTypes(!0,!0,!1,!0):this.searchWidget.focus(!0,!0)},t.prototype.reLayout=function(){if(!this.isDisposed){this.searchWidget.setWidth(this.size.width-25),this.inputPatternExclusions.setWidth(this.size.width-28),this.inputPatternIncludes.setWidth(this.size.width-28),this.inputPatternGlobalExclusions.width=this.size.width-28-24;var e=this.size.height-l.getTotalHeight(this.searchWidgetsContainer.getContainer())-6;this.results.style({height:e+"px"}),this.tree.layout(e)}},t.prototype.layout=function(e){this.size=e,this.reLayout()},t.prototype.getControl=function(){return this.tree},t.prototype.clearSearchResults=function(){this.viewModel.searchResult.clear(),this.showEmptyStage(),this.searchWidget.clear(),this.viewModel.cancelSearch()},t.prototype.cancelSearch=function(){return!!this.viewModel.cancelSearch()&&(this.searchWidget.focus(),
!0)},t.prototype.selectTreeIfNotSelected=function(){if(this.tree.getInput()){this.tree.DOMFocus();var e=this.tree.getSelection();0===e.length&&this.tree.focusNext()}},t.prototype.getSearchTextFromEditor=function(){if(!this.editorService.getActiveEditor())return null;var e=this.editorService.getActiveEditor().getControl();if(!e||!c.isFunction(e.getEditorType)||e.getEditorType()!==r.EditorType.ICodeEditor)return null;var t=e.getSelection();if(t&&!t.isEmpty()&&t.startLineNumber===t.endLineNumber){var n=e.getModel().getLineContent(t.startLineNumber);return n=n.substring(t.startColumn-1,t.endColumn-1)}return null},t.prototype.showsFileTypes=function(){return l.hasClass(this.queryDetails,"more")},t.prototype.toggleCaseSensitive=function(){this.searchWidget.searchInput.setCaseSensitive(!this.searchWidget.searchInput.getCaseSensitive()),this.onQueryChanged(!0,!0)},t.prototype.toggleWholeWords=function(){this.searchWidget.searchInput.setWholeWords(!this.searchWidget.searchInput.getWholeWords()),this.onQueryChanged(!0,!0)},t.prototype.toggleRegex=function(){this.searchWidget.searchInput.setRegex(!this.searchWidget.searchInput.getRegex()),this.onQueryChanged(!0,!0)},t.prototype.toggleFileTypes=function(e,t,n,i){var r="more";t="undefined"==typeof t?!l.hasClass(this.queryDetails,r):Boolean(t),n=Boolean(n),t?(l.addClass(this.queryDetails,r),e&&(i?(this.inputPatternExclusions.focus(),this.inputPatternExclusions.select()):(this.inputPatternIncludes.focus(),this.inputPatternIncludes.select()))):(l.removeClass(this.queryDetails,r),e&&this.searchWidget.focus()),!n&&this.size&&this.layout(this.size)},t.prototype.searchInFolder=function(e){var t=this.contextService.getWorkspace();if(t){if(t.resource.toString()===e.toString())return this.inputPatternIncludes.setValue(""),void this.searchWidget.focus();this.showsFileTypes()||this.toggleFileTypes(!0,!0);var n=this.contextService.toWorkspaceRelativePath(e);n&&(this.inputPatternIncludes.setIsGlobPattern(!1),this.inputPatternIncludes.setValue(n),this.searchWidget.focus(!1))}},t.prototype.onQueryChanged=function(e,n){var i=this.searchWidget.searchInput.getRegex(),r=this.searchWidget.searchInput.getWholeWords(),o=this.searchWidget.searchInput.getCaseSensitive(),s=this.searchWidget.searchInput.getValue(),a=this.inputPatternExclusions.getValue().trim(),c=this.inputPatternExclusions.isGlobPattern(),l=this.inputPatternIncludes.getValue().trim(),h=this.inputPatternIncludes.isGlobPattern();if(this.viewletSettings["query.contentPattern"]=s,this.viewletSettings["query.regex"]=i,this.viewletSettings["query.wholeWords"]=r,this.viewletSettings["query.caseSensitive"]=o,this.viewletSettings["query.folderExclusions"]=a,this.viewletSettings["query.exclusionsUsePattern"]=c,this.viewletSettings["query.folderIncludes"]=l,this.viewletSettings["query.includesUsePattern"]=h,e&&0!==s.length){if(i){var d=void 0;try{d=new RegExp(s)}catch(e){return}if(u.regExpLeadsToEndlessLoop(d))return}var p={pattern:s,isRegExp:i,isCaseSensitive:o,isWordMatch:r},f=this.inputPatternExclusions.getGlob(),g=this.inputPatternIncludes.getGlob(),v={folderResources:this.contextService.getWorkspace()?[this.contextService.getWorkspace().resource]:[],extraFileResources:E.getOutOfWorkspaceEditorResources(this.editorGroupService,this.contextService),excludePattern:f,maxResults:t.MAX_TEXT_RESULTS,includePattern:g};this.onQueryTriggered(this.queryBuilder.text(p,v),a,l),n||this.searchWidget.focus(!1)}},t.prototype.autoExpandFileMatch=function(e,t){var n=e.matches().length;n<10||t&&1===this.viewModel.searchResult.count()&&n<50?this.tree.expand(e).done(null,s.onUnexpectedError):this.tree.collapse(e).done(null,s.onUnexpectedError)},t.prototype.onQueryTriggered=function(e,t,i){var r=this;this.viewModel.cancelSearch();var o=100,c=this.progressService.show(o),u=0;this.loading=!0,this.searchWidget.searchInput.clearMessage(),this.showEmptyStage();var h=Object.create(null),d=function(e){var t=r.viewModel.searchResult.matches();t.forEach(function(t){h[t.id()]||(h[t.id()]=!0,r.autoExpandFileMatch(t,e))})},f=!1,g=function(e){f=!0,e?(c.worked(o-u),setTimeout(function(){return c.done()},200)):c.done(),r.onSearchResultsChanged().then(function(){return d(!0)}),r.viewModel.replaceString=r.searchWidget.getReplaceValue();var h=!r.viewModel.searchResult.isEmpty();if(r.loading=!1,r.actionRegistry.refresh.enabled=!0,r.actionRegistry["vs.tree.collapse"].enabled=h,r.actionRegistry.clearSearchResults.enabled=h,e&&e.limitHit&&r.searchWidget.searchInput.showMessage({content:n.localize(15,null),type:T.MessageType.WARNING}),h)r.viewModel.searchResult.toggleHighlights(!0),a.status(n.localize(24,null,r.viewModel.searchResult.count(),r.viewModel.searchResult.fileCount()));else{var g=!!t,v=!!i,m=void 0;m=e?v&&g?n.localize(17,null,i,t):v?n.localize(18,null,i):g?n.localize(19,null,t):n.localize(20,null):n.localize(16,null),a.status(m),r.tree.onHidden(),r.results.hide();var y=r.showMessage(m);e?v||g?p.$(y).a({class:["pointer","prominent"],tabindex:"0",text:n.localize(22,null)}).on(l.EventType.CLICK,function(e){l.EventHelper.stop(e,!1),r.inputPatternExclusions.setValue(""),r.inputPatternIncludes.setValue(""),r.onQueryChanged(!0)}):p.$(y).a({class:["pointer","prominent"],tabindex:"0",text:n.localize(23,null)}).on(l.EventType.CLICK,function(e){l.EventHelper.stop(e,!1),r.preferencesService.openWorkspaceSettings().done(function(){return null},s.onUnexpectedError)}):p.$(y).a({class:["pointer","prominent"],text:n.localize(21,null)}).on(l.EventType.CLICK,function(e){l.EventHelper.stop(e,!1),r.onQueryChanged(!0)})}},v=function(e){s.isPromiseCanceledError(e)?g(null):(r.loading=!1,f=!0,c.done(),r.messageService.show(2,e))},m=0,y=0,b=0,S=function(e){e.total&&(m=e.total),e.worked&&(y=e.worked)},E=setInterval(function(){if(f)return void window.clearInterval(E);var e=!0;if(m>0&&y>0){var t=Math.round(y/m*100);t>u&&(c.worked(t-u),u=t,e=!1)}e&&u<90&&(u++,c.worked(1));var n=r.viewModel.searchResult.fileCount();b!==n&&(b=n,r.tree.refresh().then(function(){d(!1)}).done(null,s.onUnexpectedError)),n>0&&(r.actionRegistry["vs.tree.collapse"].enabled||(r.actionRegistry["vs.tree.collapse"].enabled=!0))},200);this.searchWidget.setReplaceAllActionState(!1),this.replaceService.disposeAllInputs(),this.viewModel.search(e).done(g,v,S)},t.prototype.showEmptyStage=function(){this.actionRegistry.refresh.enabled=!1,this.actionRegistry["vs.tree.collapse"].enabled=!1,this.actionRegistry.clearSearchResults.enabled=!1,this.replaceService.disposeAllInputs(),this.messages.hide(),this.results.show(),this.tree.onVisible(),this.currentSelectedFileMatch=null},t.prototype.onFocus=function(e,t,n,r){return e instanceof w.Match?(this.telemetryService.publicLog("searchResultChosen"),this.viewModel.isReplaceActive()&&this.viewModel.replaceString?this.replaceService.openReplacePreviewEditor(e,t,n,r):this.open(e,t,n,r)):(this.viewModel.searchResult.rangeHighlightDecorations.removeHighlightRange(),i.TPromise.as(!0))},t.prototype.open=function(e,t,n,i){var r=this,o=this.getSelectionFrom(e),a=e instanceof w.Match?e.parent().resource():e.resource();return this.editorService.openEditor({resource:a,options:{preserveFocus:t,pinned:i,selection:o,revealIfVisible:!0}},n).then(function(n){e instanceof w.Match&&t?r.viewModel.searchResult.rangeHighlightDecorations.highlightRange({resource:a,range:e.range()},n):r.viewModel.searchResult.rangeHighlightDecorations.removeHighlightRange()},s.onUnexpectedError)},t.prototype.getSelectionFrom=function(e){var t=null;if(e instanceof w.Match&&(t=e),e instanceof w.FileMatch&&e.count()>0&&(t=e.matches()[e.matches().length-1]),t){var n=t.range();if(this.viewModel.isReplaceActive()&&this.viewModel.replaceString){var i=t.replaceString;return{startLineNumber:n.startLineNumber,startColumn:n.startColumn,endLineNumber:n.startLineNumber,endColumn:n.startColumn+i.length}}return n}},t.prototype.onUntitledDidChangeDirty=function(e){if(this.viewModel&&!this.untitledEditorService.isDirty(e))for(var t=this.viewModel.searchResult.matches(),n=0,i=t.length;n<i;n++)e.toString()===t[n].resource().toString()&&this.viewModel.searchResult.remove(t[n])},t.prototype.onFilesChanged=function(e){if(this.viewModel)for(var t=this.viewModel.searchResult.matches(),n=0,i=t.length;n<i;n++)e.contains(t[n].resource(),_.FileChangeType.DELETED)&&this.viewModel.searchResult.remove(t[n])},t.prototype.getActions=function(){return[this.actionRegistry.refresh,this.actionRegistry["vs.tree.collapse"],this.actionRegistry.clearSearchResults]},t.prototype.dispose=function(){this.isDisposed=!0,this.toDispose=o.dispose(this.toDispose),this.tree&&this.tree.dispose(),this.searchWidget.dispose(),this.inputPatternIncludes.dispose(),this.inputPatternExclusions.dispose(),this.viewModel.dispose(),e.prototype.dispose.call(this)},t.MAX_TEXT_RESULTS=2048,t.SHOW_REPLACE_STORAGE_KEY="vs.search.show.replace",t=g([v(0,V.ITelemetryService),v(1,P.IEventService),v(2,A.IWorkbenchEditorService),v(3,S.IEditorGroupService),v(4,M.IProgressService),v(5,O.IMessageService),v(6,D.IStorageService),v(7,k.IContextViewService),v(8,R.IInstantiationService),v(9,L.IConfigurationService),v(10,N.IWorkspaceContextService),v(11,x.ISearchService),v(12,W.IContextKeyService),v(13,F.IKeybindingService),v(14,G.IReplaceService),v(15,j.IUntitledEditorService),v(16,b.IPreferencesService)],t)}(C.Viewlet);t.SearchViewlet=$}),define(l[396],h([1,0,623,24,35,52,31,18,14,37,50,80,106,88,53,17]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y){"use strict";function b(e,t){return{id:"themes.findmore",label:n.localize(8,null),separator:{border:!0},alwaysShow:!0,run:function(){return e.openViewlet(p.VIEWLET_ID,!0).then(function(e){e.search(t),e.focus()})}}}var S=function(e){function t(t,n,i,r,o,s,a){e.call(this,t,n),this.quickOpenService=i,this.messageService=r,this.themeService=o,this.extensionGalleryService=s,this.viewletService=a}return d(t,e),t.prototype.run=function(){var e=this;return this.themeService.getColorThemes().then(function(t){var i=e.themeService.getColorTheme(),o=t.filter(function(e){return e.id===i})[0],s=b(e.viewletService,"category:themes"),c=t.map(function(e){return{id:e.id,label:e.label,description:e.description}}).sort(function(e,t){return e.label.localeCompare(t.label)}),u=function(t,i){t===s&&(t=o),e.themeService.setColorTheme(t.id,i).done(null,function(t){return e.messageService.show(a.Severity.Info,n.localize(1,null,t))})},l=n.localize(2,null),h=r.firstIndex(c,function(e){return e.id===i}),d=new y.Delayer(100);return e.extensionGalleryService.isEnabled()&&c.push(s),e.quickOpenService.pick(c,{placeHolder:l,autoFocus:{autoFocusIndex:h}}).then(function(e){return d.trigger(function(){return u(e||o,!0)},0)},null,function(e){return d.trigger(function(){return u(e,!1)})})})},t.ID="workbench.action.selectTheme",t.LABEL=n.localize(0,null),t=g([v(2,l.IQuickOpenService),v(3,a.IMessageService),v(4,h.IThemeService),v(5,f.IExtensionGalleryService),v(6,m.IViewletService)],t)}(i.Action);t.SelectColorThemeAction=S;var E=function(e){function t(t,n,i,r,o,s,a){e.call(this,t,n),this.quickOpenService=i,this.messageService=r,this.themeService=o,this.extensionGalleryService=s,this.viewletService=a}return d(t,e),t.prototype.run=function(){var e=this;return this.themeService.getFileIconThemes().then(function(t){var i=e.themeService.getFileIconTheme(),o=t.filter(function(e){return e.id===i})[0],s=b(e.viewletService,"tag:icon-theme"),c=t.map(function(e){return{id:e.id,label:e.label,description:e.description}}).sort(function(e,t){return e.label.localeCompare(t.label)});c.splice(0,0,{id:"",label:n.localize(4,null),description:n.localize(5,null)});var u=function(t,i){t===s&&(t=o),e.themeService.setFileIconTheme(t&&t.id,i).done(null,function(t){return e.messageService.show(a.Severity.Info,n.localize(6,null,t.message))})},l=n.localize(7,null),h=r.firstIndex(c,function(e){return e.id===i}),d=new y.Delayer(100);return e.extensionGalleryService.isEnabled()&&c.push(s),e.quickOpenService.pick(c,{placeHolder:l,autoFocus:{autoFocusIndex:h}}).then(function(e){return d.trigger(function(){return u(e||o,!0)},0)},null,function(e){return d.trigger(function(){return u(e,!1)})})})},t.ID="workbench.action.selectIconTheme",t.LABEL=n.localize(3,null),t=g([v(2,l.IQuickOpenService),v(3,a.IMessageService),v(4,h.IThemeService),v(5,f.IExtensionGalleryService),v(6,m.IViewletService)],t)}(i.Action),_=n.localize(9,null),C=new s.SyncActionDescriptor(S,S.ID,S.LABEL,{primary:o.KeyChord(32809,32818)});c.Registry.as(u.Extensions.WorkbenchActions).registerWorkbenchAction(C,"Preferences: Color Theme",_);var w=new s.SyncActionDescriptor(E,E.ID,E.LABEL);c.Registry.as(u.Extensions.WorkbenchActions).registerWorkbenchAction(w,"Preferences: File Icon Theme",_)}),define(l[1199],h([1,0,2,627,14,89,7,12,209,99,93,64,53,86,136,76,50,24,36]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E){"use strict";t.VIEW_PICKER_PREFIX="view ";var _=function(e){function t(t,n,i){e.call(this),this.label=t,this.category=n,this.open=i}return d(t,e),t.prototype.getLabel=function(){return this.label},t.prototype.getCategory=function(){return this.category},t.prototype.getAriaLabel=function(){return i.localize(0,null,this.getLabel())},t.prototype.run=function(t,n){return t===u.Mode.OPEN?this.runOpen(n):e.prototype.run.call(this,t,n)},t.prototype.runOpen=function(e){var t=this;return setTimeout(function(){t.open()},0),!0},t}(l.QuickOpenEntryGroup);t.ViewEntry=_;var C=function(e){function t(t,n,i,r){e.call(this),this.viewletService=t,this.outputService=n,this.terminalService=i,this.panelService=r}return d(t,e),t.prototype.getResults=function(e){e=e.trim();var t,i=a.stripWildcards(e).toLowerCase(),r=this.getViewEntries(),o=r.filter(function(t){if(!e)return!0;if(!c.matches(t.getLabel(),i)&&!c.matches(t.getCategory(),i))return!1;var n=l.QuickOpenEntry.highlight(t,e),r=n.labelHighlights,o=n.descriptionHighlights;return t.setHighlights(r,o),!0});return o.forEach(function(e,n){t!==e.getCategory()?(t=e.getCategory(),e.setShowBorder(n>0),e.setGroupLabel(t)):(e.setShowBorder(!1),e.setGroupLabel(void 0))}),n.TPromise.as(new l.QuickOpenModel(o))},t.prototype.getViewEntries=function(){var e=this,t=[],n=this.viewletService.getViewlets();n.forEach(function(n,r){var o=i.localize(1,null),a=new _(n.name,o,function(){return e.viewletService.openViewlet(n.id,!0).done(null,s.onUnexpectedError)});t.push(a)});var a=this.terminalService.terminalInstances,c=r.Registry.as(o.Extensions.Panels).getPanels().filter(function(e){return e.id!==f.OUTPUT_PANEL_ID&&!(e.id===m.TERMINAL_PANEL_ID&&a.length>0)});c.forEach(function(n,r){var o=i.localize(2,null),a=new _(n.name,o,function(){return e.panelService.openPanel(n.id,!0).done(null,s.onUnexpectedError)});t.push(a)}),a.forEach(function(n,r){var o=i.localize(3,null),a=new _(i.localize(4,null,r+1,n.title),o,function(){e.terminalService.showPanel(!0).done(function(){e.terminalService.setActiveInstance(n)},s.onUnexpectedError)});t.push(a)});var u=r.Registry.as(f.Extensions.OutputChannels).getChannels();return u.forEach(function(n,r){var o=i.localize(5,null),a=new _(n.label,o,function(){return e.outputService.getChannel(n.id).show().done(null,s.onUnexpectedError)});t.push(a)}),t},t.prototype.getAutoFocus=function(e,t){return{autoFocusFirstEntry:!!e||!!t}},t=g([v(0,p.IViewletService),v(1,f.IOutputService),v(2,m.ITerminalService),v(3,y.IPanelService)],t)}(h.QuickOpenHandler);t.ViewPickerHandler=C;var w=function(e){function n(n,i,r){e.call(this,n,i,t.VIEW_PICKER_PREFIX,r)}return d(n,e),n.ID="workbench.action.openView",n.LABEL=i.localize(6,null),n=g([v(2,b.IQuickOpenService)],n)}(h.QuickOpenAction);t.OpenViewPickerAction=w;var I=function(e){function r(t,n,i,r){e.call(this,t,n),this.quickOpenService=i,this.keybindingService=r}return d(r,e),r.prototype.run=function(){var e=this.keybindingService.lookupKeybindings(this.id);return this.quickOpenService.show(t.VIEW_PICKER_PREFIX,{quickNavigateConfiguration:{keybindings:e}}),n.TPromise.as(!0)},r.ID="workbench.action.quickOpenView",r.LABEL=i.localize(7,null),r=g([v(2,b.IQuickOpenService),v(3,E.IKeybindingService)],r)}(S.Action);t.QuickOpenViewPickerAction=I}),define(l[1200],h([1,0,14,628,64,1199,37,31]),function(e,t,n,i,r,o,s,a){"use strict";n.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor("vs/workbench/parts/viewpicker/browser/viewPickerHandler","ViewPickerHandler",o.VIEW_PICKER_PREFIX,[{prefix:o.VIEW_PICKER_PREFIX,needsEditor:!1,description:i.localize(0,null)}]));var c=n.Registry.as(s.Extensions.WorkbenchActions);c.registerWorkbenchAction(new a.SyncActionDescriptor(o.OpenViewPickerAction,o.OpenViewPickerAction.ID,o.OpenViewPickerAction.LABEL),"Open View"),c.registerWorkbenchAction(new a.SyncActionDescriptor(o.QuickOpenViewPickerAction,o.QuickOpenViewPickerAction.ID,o.QuickOpenViewPickerAction.LABEL,{primary:32815,mac:{primary:4143},linux:{primary:null}}),"Quick Open View")}),define(l[397],h([1,0,5,2,21,53,76]),function(e,t,n,i,r,o,s){"use strict";var a=function(){function e(e,t,n){this.viewletService=e,this.panelService=t,this.scopeId=n,this.toDispose=[],this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.viewletService.onDidViewletOpen(function(t){return e.onScopeOpened(t.getId())})),this.toDispose.push(this.panelService.onDidPanelOpen(function(t){return e.onScopeOpened(t.getId())})),this.toDispose.push(this.viewletService.onDidViewletClose(function(t){return e.onScopeClosed(t.getId())})),this.toDispose.push(this.panelService.onDidPanelClose(function(t){return e.onScopeClosed(t.getId())}))},e.prototype.onScopeClosed=function(e){e===this.scopeId&&this.onScopeDeactivated()},e.prototype.onScopeOpened=function(e){e===this.scopeId&&this.onScopeActivated()},e}();t.ScopedService=a;var c=function(e){function t(t,n,i,o,s){e.call(this,o,s,n),this.progressbar=t,this.isActive=i||r.isUndefinedOrNull(n),this.progressState=Object.create(null)}return d(t,e),t.prototype.onScopeDeactivated=function(){this.isActive=!1},t.prototype.onScopeActivated=function(){this.isActive=!0,this.progressState.done||(this.progressState.whilePromise?this.doShowWhile():this.progressState.infinite?this.progressbar.infinite().getContainer().show():(this.progressState.total&&this.progressbar.total(this.progressState.total).getContainer().show(),this.progressState.worked&&this.progressbar.worked(this.progressState.worked).getContainer().show()))},t.prototype.clearProgressState=function(){this.progressState.infinite=void 0,this.progressState.done=void 0,this.progressState.worked=void 0,this.progressState.total=void 0,this.progressState.whilePromise=void 0},t.prototype.show=function(e,t){var n,i,o=this;return e===!1||e===!0?n=e:i=e,this.clearProgressState(),this.progressState.infinite=n,this.progressState.total=i,this.isActive&&(r.isUndefinedOrNull(n)?r.isUndefinedOrNull(i)||(r.isUndefinedOrNull(t)?this.progressbar.total(i).getContainer().show():this.progressbar.total(i).getContainer().showDelayed(t)):r.isUndefinedOrNull(t)?this.progressbar.infinite().getContainer().show():this.progressbar.infinite().getContainer().showDelayed(t)),{total:function(e){o.progressState.infinite=!1,o.progressState.total=e,o.isActive&&o.progressbar.total(e)},worked:function(e){!o.isActive||o.progressbar.hasTotal()?(o.progressState.infinite=!1,o.progressState.worked?o.progressState.worked+=e:o.progressState.worked=e,o.isActive&&o.progressbar.worked(e)):(o.progressState.infinite=!0,o.progressState.worked=void 0,o.progressState.total=void 0,o.progressbar.infinite().getContainer().show())},done:function(){o.progressState.infinite=!1,o.progressState.done=!0,o.isActive&&o.progressbar.stop().getContainer().hide()}}},t.prototype.showWhile=function(e,t){var n=this,r=!!this.progressState.whilePromise;r?e=i.TPromise.join([e,this.progressState.whilePromise]):this.clearProgressState(),this.progressState.whilePromise=e;var o=function(){n.progressState.whilePromise&&n.progressState.whilePromise!==e||(n.clearProgressState(),n.isActive&&n.progressbar.stop().getContainer().hide())};return this.doShowWhile(t),e.then(o,o)},t.prototype.doShowWhile=function(e){this.isActive&&(r.isUndefinedOrNull(e)?this.progressbar.infinite().getContainer().show():this.progressbar.infinite().getContainer().showDelayed(e))},t.prototype.dispose=function(){this.toDispose=n.dispose(this.toDispose)},t=g([v(3,o.IViewletService),v(4,s.IPanelService)],t)}(a);t.WorkbenchProgressService=c}),define(l[398],h([1,0,462,129,95,2,14,5,29,109,12,11,21,7,257,43,264,68,179,397,38,113,18,123,744]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,g,v,m,y,b,S,E,_,C,w){"use strict";var I=function(e){function t(t,n,i,r,o,s,a,c,u,l,d,p,f){e.call(this,f),this.messageService=t,this.storageService=n,this.telemetryService=i,this.contextMenuService=r,this.partService=o,this.keybindingService=s,this.instantiationService=a,this.registry=c,this.activeCompositeSettingsKey=u,this.nameForTelemetry=l,this.compositeCSSClass=d,this.actionContributionScope=p,this._onDidCompositeOpen=new h.Emitter,this._onDidCompositeClose=new h.Emitter,this.instantiatedCompositeListeners=[],this.mapCompositeToCompositeContainer={},this.mapActionsBindingToComposite={},this.mapProgressServiceToComposite={},this.activeComposite=null,this.instantiatedComposits=[],this.compositeLoaderPromises={}}return d(t,e),t.prototype.openComposite=function(e,t){return this.activeComposite&&this.activeComposite.getId()===e?(t&&this.activeComposite.focus(),o.TPromise.as(this.activeComposite)):this.doOpenComposite(e,t)},t.prototype.doOpenComposite=function(e,t){var n=this,s=i.start(i.Topic.WORKBENCH,l.format("Open Composite {0}",e.substr(e.lastIndexOf(".")+1))),a=r.generateUuid();this.currentCompositeOpenToken=a;var c;return c=this.activeComposite?this.hideActiveComposite():o.TPromise.as(null),c.then(function(){return n.updateTitle(e),n.createComposite(e,!0).then(function(e){return n.currentCompositeOpenToken!==a||n.activeComposite&&n.activeComposite.getId()!==e.getId()?(s.stop(),o.TPromise.as(null)):n.activeComposite&&n.activeComposite.getId()===e.getId()?(t&&e.focus(),s.stop(),o.TPromise.as(e)):n.showComposite(e).then(function(){return t&&e.focus(),s.stop(),e})})}).then(function(e){return e&&n._onDidCompositeOpen.fire(e),e})},t.prototype.createComposite=function(e,t){for(var n=this,i=0;i<this.instantiatedComposits.length;i++)if(this.instantiatedComposits[i].getId()===e)return o.TPromise.as(this.instantiatedComposits[i]);var r=this.registry.getComposite(e);if(r){var s=this.compositeLoaderPromises[e];if(!s){var a=this.instantiationService.createInstance(S.WorkbenchProgressService,this.progressBar,r.id,t),c=this.instantiationService.createChild(new _.ServiceCollection([w.IProgressService,a]));s=c.createInstance(r).then(function(t){return n.mapProgressServiceToComposite[t.getId()]=a,n.instantiatedComposits.push(t),n.instantiatedCompositeListeners.push(t.onTitleAreaUpdate(function(){return n.onTitleAreaUpdate(t.getId())})),delete n.compositeLoaderPromises[e],t}),a.showWhile(s,this.partService.isCreated()?800:3200),this.compositeLoaderPromises[e]=s}return s}throw new Error(l.format("Unable to find composite with id {0}",e))},t.prototype.showComposite=function(e){var t=this;this.activeComposite=e,this.storageService.store(this.activeCompositeSettingsKey,this.activeComposite.getId(),E.StorageScope.WORKSPACE),this.lastActiveCompositeId=this.activeComposite.getId();var n,i=this.mapCompositeToCompositeContainer[e.getId()];i?n=o.TPromise.as(null):(i=c.$().div({class:["composite",this.compositeCSSClass],id:e.getId()},function(t){n=e.create(t)}),this.mapCompositeToCompositeContainer[e.getId()]=i);var r=this.mapProgressServiceToComposite[e.getId()];return r&&!i&&this.mapProgressServiceToComposite[e.getId()].showWhile(n,this.partService.isCreated()?800:3200),n.then(function(){if(t.activeComposite&&e.getId()===t.activeComposite.getId()){i.build(t.getContentArea()),i.show(),t.toolBar.actionRunner=e.getActionRunner();var n=t.registry.getComposite(e.getId());n&&n.name!==e.getTitle()&&t.updateTitle(e.getId(),e.getTitle());var r=t.mapActionsBindingToComposite[e.getId()];return r||(r=t.collectCompositeActions(e),t.mapActionsBindingToComposite[e.getId()]=r),r(),t.telemetryActionsListener&&(t.telemetryActionsListener.dispose(),t.telemetryActionsListener=null),t.telemetryActionsListener=t.toolBar.actionRunner.addListener2(u.EventType.RUN,function(e){e.error&&!f.isPromiseCanceledError(e.error)&&t.messageService.show(C.Severity.Error,e.error),t.telemetryService&&t.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:t.nameForTelemetry})}),e.setVisible(!0).then(function(){t.activeComposite&&e.getId()===t.activeComposite.getId()&&t.contentAreaSize&&e.layout(t.contentAreaSize)})}},function(e){return t.onError(e)})},t.prototype.onTitleAreaUpdate=function(e){if(this.activeComposite&&this.activeComposite.getId()===e){this.updateTitle(this.activeComposite.getId(),this.activeComposite.getTitle());var t=this.collectCompositeActions(this.activeComposite);this.mapActionsBindingToComposite[this.activeComposite.getId()]=t,t()}else delete this.mapActionsBindingToComposite[e]},t.prototype.updateTitle=function(e,t){var i=this,r=this.registry.getComposite(e);if(r){t||(t=r.name);var o=null,s=this.keybindingService.lookupKeybindings(e).map(function(e){return i.keybindingService.getLabelFor(e)});s&&s.length&&(o=s[0]),this.titleLabel.safeInnerHtml(t),this.titleLabel.title(o?n.localize(0,null,t,o):t),this.toolBar.setAriaLabel(n.localize(1,null,t))}},t.prototype.collectCompositeActions=function(e){var t=e.getActions().slice(0),n=e.getSecondaryActions().slice(0);t.push.apply(t,this.getActions()),n.push.apply(n,this.getSecondaryActions());var i=s.Registry.as(y.Extensions.Actionbar);return t.push.apply(t,i.getActionBarActionsForContext(this.actionContributionScope,e)),n.push.apply(n,i.getSecondaryActionBarActionsForContext(this.actionContributionScope,e)),this.toolBar.setActions(y.prepareActions(t),y.prepareActions(n))},t.prototype.getActiveComposite=function(){return this.activeComposite},t.prototype.getLastActiveCompositetId=function(){return this.lastActiveCompositeId},t.prototype.hideActiveComposite=function(){var e=this;if(!this.activeComposite)return o.TPromise.as(null);var t=this.activeComposite;this.activeComposite=null;var n=this.mapCompositeToCompositeContainer[t.getId()];return t.setVisible(!1).then(function(){return n.offDOM(),n.hide(),e.progressBar.stop().getContainer().hide(),e.toolBar.setActions([])(),e._onDidCompositeClose.fire(t),t})},t.prototype.createTitleArea=function(e){var t=this,n=c.$(e).div({class:["composite","title"]});return c.$(n).div({class:"title-label"},function(e){t.titleLabel=e.span()}),c.$(n).div({class:"title-actions"},function(e){t.toolBar=new g.ToolBar(e.getHTMLElement(),t.contextMenuService,{actionItemProvider:function(e){return t.actionItemProvider(e)},orientation:v.ActionsOrientation.HORIZONTAL,getKeyBinding:function(e){var n=t.keybindingService.lookupKeybindings(e.id);return n.length>0?n[0]:null},getKeyBindingLabel:function(e){return t.keybindingService.getLabelFor(e)}})}),n},t.prototype.actionItemProvider=function(e){var t;if(this.activeComposite&&(t=this.activeComposite.getActionItem(e)),!t){var n=s.Registry.as(y.Extensions.Actionbar);t=n.getActionItemForContext(this.actionContributionScope,g.CONTEXT,e)}return t},t.prototype.createContentArea=function(e){var t=this;return c.$(e).div({class:"content"},function(e){t.progressBar=new m.ProgressBar(e),t.progressBar.getContainer().hide()})},t.prototype.onError=function(e){this.messageService.show(C.Severity.Error,p.isString(e)?new Error(e):e)},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return this.contentAreaSize=n[1],this.activeComposite&&this.activeComposite.layout(this.contentAreaSize),n},t.prototype.shutdown=function(){this.instantiatedComposits.forEach(function(e){return e.shutdown()}),e.prototype.shutdown.call(this)},t.prototype.dispose=function(){this.mapCompositeToCompositeContainer=null,this.mapProgressServiceToComposite=null,this.mapActionsBindingToComposite=null;for(var t=0;t<this.instantiatedComposits.length;t++)this.instantiatedComposits[t].dispose();this.instantiatedComposits=[],this.instantiatedCompositeListeners=a.dispose(this.instantiatedCompositeListeners),this.progressBar.dispose(),this.toolBar.dispose(),e.prototype.dispose.call(this)},t}(b.Part);t.CompositePart=I}),define(l[1203],h([1,0,2,14,129,29,468,12,35,21,7,62,97,146,179,72,28,1143,397,25,45,66,38,6,113,18,19,123,385,11,729,1165]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P){"use strict";var R=function(){function e(e,t){this._token=e,this.progressPromise=t}return Object.defineProperty(e.prototype,"token",{get:function(){return this._token},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){this.progressPromise.cancel()},e}(),O=function(e){function t(t,n,i,r,o,s,a,u){e.call(this,t),this.messageService=i,this.telemetryService=r,this.storageService=o,this.partService=s,this.configurationService=a,this.instantiationService=u,this._onEditorsChanged=new P.Emitter,this._onEditorsMoved=new P.Emitter,this._onEditorOpenFail=new P.Emitter,this._onGroupOrientationChanged=new P.Emitter,this.visibleEditors=[],this.editorOpenToken=c.fill(w.POSITIONS.length,function(){return 0}),this.instantiatedEditors=c.fill(w.POSITIONS.length,function(){return[]}),this.mapEditorInstantiationPromiseToEditor=c.fill(w.POSITIONS.length,function(){return Object.create(null)}),this.pendingEditorInputsToClose=[],this.pendingEditorInputCloseTimeout=null,this.stacks=this.instantiationService.createInstance(k.EditorStacksModel,n);var l=a.getConfiguration();if(l&&l.workbench&&l.workbench.editor){var h=l.workbench.editor;this.previewEditors=h.enablePreview,this.telemetryService.publicLog("workbenchEditorConfiguration",h)}this.registerListeners()}return d(t,e),t.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.stacks.onEditorDirty(function(t){return e.onEditorDirty(t)})),this.toUnbind.push(this.stacks.onEditorDisposed(function(t){return e.onEditorDisposed(t)})),this.toUnbind.push(this.stacks.onEditorOpened(function(t){return e.onEditorOpened(t)})),this.toUnbind.push(this.stacks.onEditorClosed(function(t){return e.onEditorClosed(t)})),this.toUnbind.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationUpdated(t.config)}))},t.prototype.onConfigurationUpdated=function(e){var t=this;if(e&&e.workbench&&e.workbench.editor){var n=e.workbench.editor,i=n.enablePreview;this.previewEditors===i||i||this.stacks.groups.forEach(function(e){e.previewEditor&&t.pinEditor(e,e.previewEditor)}),this.previewEditors=i}},t.prototype.onEditorDirty=function(e){this.pinEditor(e.group,e.editor)},t.prototype.onEditorDisposed=function(e){this.pendingEditorInputsToClose.push(e),this.startDelayedCloseEditorsFromInputDispose()},t.prototype.onEditorOpened=function(e){this.telemetryService.publicLog("editorOpened",e.editor.getTelemetryDescriptor())},t.prototype.onEditorClosed=function(e){this.telemetryService.publicLog("editorClosed",e.editor.getTelemetryDescriptor())},Object.defineProperty(t.prototype,"onEditorsChanged",{get:function(){return this._onEditorsChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onEditorsMoved",{get:function(){return this._onEditorsMoved.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onEditorOpenFail",{get:function(){return this._onEditorOpenFail.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onGroupOrientationChanged",{get:function(){return this._onGroupOrientationChanged.event},enumerable:!0,configurable:!0}),t.prototype.openEditor=function(e,t,r,o){t||(t=null);var s=this.findPosition(e,t,r,o);if(!e||null===s||Object.keys(this.mapEditorInstantiationPromiseToEditor[s]).length>0||this.editorGroupsControl.isDragging())return n.TPromise.as(null);var c=i.Registry.as(b.Extensions.Editors).getEditor(e);return c?(s!==w.Position.ONE&&this.telemetryService.publicLog("workbenchSideEditorOpened",{
position:s}),this.doOpenEditor(s,c,e,t,o)):n.TPromise.wrapError(new Error(a.format("Can not find a registered editor for the input {0}",e)))},t.prototype.doOpenEditor=function(e,t,i,r,o){var s=this,a=this.ensureGroup(e,!r||!r.preserveFocus),c=!this.previewEditors||r&&(r.pinned||"number"==typeof r.index)||i.isDirty(),u=0===a.count||!r||!r.inactive;if(a.openEditor(i,{active:u,pinned:c,index:r&&r.index}),!u)return n.TPromise.as(null);this.editorOpenToken[e]++;var l=this.editorOpenToken[e],h=new R(l,n.TPromise.timeout(this.partService.isCreated()?800:3200).then(function(){var e=s.stacks.positionOfGroup(a);l===s.editorOpenToken[e]&&s.editorGroupsControl.updateProgress(e,S.ProgressState.INFINITE)}));return this.doShowEditor(a,t,i,r,o,h).then(function(e){return e?s.doSetInput(a,e,i,r,h):n.TPromise.as(null)})},t.prototype.doShowEditor=function(e,t,i,o,s,c){var l=this,h=this.stacks.positionOfGroup(e),d=this.visibleEditors[h];if(d&&t.describes(d))return n.TPromise.as(d);d&&this.doHideEditor(h,!1);var p=r.start(r.Topic.WORKBENCH,a.format("Creating Editor: {0}",t.getName()));return this.doCreateEditor(e,t,c).then(function(t){var n=l.stacks.positionOfGroup(e);return t&&l.visibleEditors[n]&&t.getId()===l.visibleEditors[n].getId()?(l.editorGroupsControl.show(t,n,o&&o.preserveFocus,s),t.setVisible(!0,n),l.editorGroupsControl.layout(n),p.stop(),t):(p.stop(),c.cancel(),null)},function(e){return l.messageService.show(A.Severity.Error,u.isString(e)?new Error(e):e)})},t.prototype.doCreateEditor=function(e,t,n){var i=this;return this.doInstantiateEditor(e,t).then(function(r){var s=i.stacks.positionOfGroup(e);return n.token!==i.editorOpenToken[s]?(n.cancel(),null):(i.visibleEditors[s]=r,r.getContainer()||r.create(o.$().div({class:"editor-container",role:"tabpanel",id:t.getId()})),r)})},t.prototype.doInstantiateEditor=function(e,t){var i=this,r=this.stacks.positionOfGroup(e),o=this.instantiatedEditors[r].filter(function(e){return t.describes(e)})[0];if(o)return n.TPromise.as(o);var s=this.mapEditorInstantiationPromiseToEditor[r][t.getId()];if(s)return s;var a=this.instantiationService.createInstance(E.WorkbenchProgressService,this.editorGroupsControl.getProgressBar(r),t.getId(),!0),c=this.editorGroupsControl.getInstantiationService(r).createChild(new x.ServiceCollection([L.IProgressService,a])),u=!1,l=function(r){var o=i.stacks.positionOfGroup(e);return u=!0,delete i.mapEditorInstantiationPromiseToEditor[o][t.getId()],r instanceof y.BaseEditor?(i.instantiatedEditors[o].push(r),n.TPromise.as(r)):n.TPromise.wrapError(r)},h=c.createInstance(t).then(l,l);return u||(this.mapEditorInstantiationPromiseToEditor[r][t.getId()]=h),h.then(function(e){return a.dispose(),e})},t.prototype.doSetInput=function(e,t,n,i,o){var s=this,c=t.getInput(),u=!c||!c.matches(n)||i&&i.forceOpen,l=r.start(r.Topic.WORKBENCH,a.format("Set Editor Input: {0}",n.getName()));return t.setInput(n,i).then(function(){o.cancel();var n=s.stacks.positionOfGroup(e);if(n===-1)return null;var r=!i||!i.preserveFocus;return r&&t.focus(),s.editorGroupsControl.updateProgress(n,S.ProgressState.DONE),u&&s._onEditorsChanged.fire(),l.stop(),t},function(r){return s.doHandleSetInputError(r,e,t,n,i,o)})},t.prototype.doHandleSetInputError=function(e,t,n,i,r,o){var a=this.stacks.positionOfGroup(t);if(o.cancel(),this.partService.isCreated()&&!l.isPromiseCanceledError(e)){var c=s.localize(6,null,i.getName(),p.toErrorMessage(e)),h=void 0;h=e&&e.actions&&e.actions.length?l.create(c,{actions:e.actions}):c,this.messageService.show(A.Severity.Error,u.isString(h)?new Error(h):h)}this.editorGroupsControl.updateProgress(a,S.ProgressState.DONE),this._onEditorOpenFail.fire(i),t.activeEditor===i&&this.doCloseActiveEditor(t)},t.prototype.closeEditor=function(e,t){var i=this,r=this.stacks.groupAt(e);return r?this.handleDirty([{group:r,editor:t}],!0).then(function(e){e||i.doCloseEditor(r,t)}):n.TPromise.as(null)},t.prototype.doCloseEditor=function(e,t,n){void 0===n&&(n=this.stacks.isActive(e)),e.activeEditor&&e.activeEditor.matches(t)?this.doCloseActiveEditor(e,n):this.doCloseInactiveEditor(e,t)},t.prototype.doCloseActiveEditor=function(e,t){void 0===t&&(t=!0);var n=this.stacks.positionOfGroup(e);e.closeEditor(e.activeEditor),0===e.count?this.doCloseGroup(e,t):this.openEditor(e.activeEditor,t?null:b.EditorOptions.create({preserveFocus:!0}),n).done(null,l.onUnexpectedError)},t.prototype.doCloseInactiveEditor=function(e,t){e.closeEditor(t)},t.prototype.doCloseGroup=function(e,t){var n=this;void 0===t&&(t=!0);var i=this.stacks.positionOfGroup(e);this.modifyGroups(function(){return n.stacks.closeGroup(e)}),this.doHideEditor(i,!0),this._onEditorsChanged.fire();var r=this.stacks.activeGroup;r&&(t?this.focusGroup(r):this.activateGroup(r),this.onGroupFocusChanged())},t.prototype.doHideEditor=function(e,t){var n=this.visibleEditors[e],i=this.editorGroupsControl.hide(n,e,t);this.editorGroupsControl.updateProgress(e,S.ProgressState.STOP),n.clearInput(),n.setVisible(!1),this.visibleEditors[e]=null,this.rochade(i),i!==S.Rochade.NONE&&this._onEditorsMoved.fire()},t.prototype.closeAllEditors=function(e){var t=this,n=this.stacks.groups.reverse();"number"==typeof e&&(n=n.filter(function(n){return t.stacks.positionOfGroup(n)!==e}));var i=c.flatten(n.map(function(e){return e.getEditors().map(function(t){return{group:e,editor:t}})}));return this.handleDirty(i).then(function(e){e||n.forEach(function(e){return t.doCloseEditors(e)})})},t.prototype.closeEditors=function(e,t,i){var r=this,o=this.stacks.groupAt(e);if(!o)return n.TPromise.as(null);var s;return s=u.isUndefinedOrNull(i)?o.getEditors().filter(function(e){return!t||!e.matches(t)}):i===w.Direction.LEFT?o.getEditors().slice(0,o.indexOf(t)):o.getEditors().slice(o.indexOf(t)+1),this.handleDirty(s.map(function(e){return{group:o,editor:e}}),!0).then(function(e){e||r.doCloseEditors(o,t,i)})},t.prototype.doCloseEditors=function(e,t,n){var i=this;t?t.matches(e.activeEditor)?e.closeEditors(e.activeEditor,n):this.openEditor(t,null,this.stacks.positionOfGroup(e)).done(function(){t.matches(e.activeEditor)&&i.doCloseEditors(e,t,n)},l.onUnexpectedError):(e.closeEditors(e.activeEditor),this.doCloseActiveEditor(e))},t.prototype.handleDirty=function(e,t){var i=this;return e.length?this.doHandleDirty(e.shift(),t).then(function(n){return n?n:i.handleDirty(e,t)}):n.TPromise.as(!1)},t.prototype.doHandleDirty=function(e,t){if(!e||!e.editor||!e.editor.isDirty()||t&&this.countEditors(e.editor)>1)return n.TPromise.as(!1);var i=e.editor,r=i.confirmSave();switch(r){case b.ConfirmResult.SAVE:return i.save().then(function(e){return!e});case b.ConfirmResult.DONT_SAVE:return i.revert().then(function(e){return!e});case b.ConfirmResult.CANCEL:return n.TPromise.as(!0)}},t.prototype.countEditors=function(e){var t=this,n=[e];return e instanceof b.SideBySideEditorInput&&n.push(e.master),n.reduce(function(e,n){return e+=t.stacks.count(n)},0)},t.prototype.getStacksModel=function(){return this.stacks},t.prototype.getActiveEditorInput=function(){var e=this.getActiveEditor();return e?e.input:null},t.prototype.getActiveEditor=function(){return this.editorGroupsControl?this.editorGroupsControl.getActiveEditor():null},t.prototype.getVisibleEditors=function(){return this.visibleEditors?this.visibleEditors.filter(function(e){return!!e}):[]},t.prototype.moveGroup=function(e,t){var n=this,i="number"==typeof e?this.stacks.groupAt(e):e,r="number"==typeof t?this.stacks.groupAt(t):t;if(i&&r&&i!==r){var o=this.stacks.positionOfGroup(i),s=this.stacks.positionOfGroup(r);this.modifyGroups(function(){return n.stacks.moveGroup(i,s)}),this.editorGroupsControl.move(o,s),c.move(this.visibleEditors,o,s),c.move(this.editorOpenToken,o,s),c.move(this.mapEditorInstantiationPromiseToEditor,o,s),c.move(this.instantiatedEditors,o,s),this.focusGroup(i),this._onEditorsMoved.fire()}},t.prototype.moveEditor=function(e,t,n,i){var r="number"==typeof t?this.stacks.groupAt(t):t;if(r)if(t===n)this.doMoveEditorInsideGroups(e,r,i);else{var o="number"==typeof n?n:this.stacks.positionOfGroup(n);this.doMoveEditorAcrossGroups(e,r,o,i)}},t.prototype.doMoveEditorInsideGroups=function(e,t,n){if("number"==typeof n){var i=t.indexOf(e);i!==n&&(t.moveEditor(e,n),t.pin(e))}},t.prototype.doMoveEditorAcrossGroups=function(e,t,n,i){if(1===t.count){var r=this.stacks.groupAt(n);if(!r&&this.stacks.positionOfGroup(t)<n)return}var o=b.EditorOptions.create({pinned:!0,index:i}),s=this.getActiveEditor(),a=h.getCodeEditor(s);a&&s.position===this.stacks.positionOfGroup(t)&&e.matches(s.input)&&(o=b.TextEditorOptions.create({pinned:!0,index:i}),o.fromEditor(a)),this.openEditor(e,o,n).done(null,l.onUnexpectedError),this.doCloseEditor(t,e,!1)},t.prototype.arrangeGroups=function(e){this.editorGroupsControl.arrangeGroups(e)},t.prototype.setGroupOrientation=function(e){this.editorGroupsControl.setGroupOrientation(e),this._onGroupOrientationChanged.fire(),this.renameGroups()},t.prototype.getGroupOrientation=function(){return this.editorGroupsControl.getGroupOrientation()},t.prototype.createContentArea=function(e){var n=this,i=o.$(e).div().addClass("content");this.memento=this.getMemento(this.storageService,f.Scope.WORKSPACE);var r=this.memento[t.EDITOR_PART_UI_STATE_STORAGE_KEY];return this.editorGroupsControl=this.instantiationService.createInstance(S.EditorGroupsControl,i,r&&r.groupOrientation),this.toUnbind.push(this.editorGroupsControl.onGroupFocusChanged(function(){return n.onGroupFocusChanged()})),i},t.prototype.onGroupFocusChanged=function(){var e=this.editorGroupsControl.getActivePosition();"number"==typeof e&&this.stacks.setActive(this.stacks.groupAt(e));var t=this.editorGroupsControl.getActiveEditor();t&&this._onEditorsChanged.fire()},t.prototype.replaceEditors=function(e){var t=this,n=[],i=[];e.forEach(function(e){e.toReplace.isDirty()||t.stacks.groups.forEach(function(t){var r=t.indexOf(e.toReplace);if(r>=0){e.options?e.options.index=r:e.options=b.EditorOptions.create({index:r});var o={group:t,editor:e.toReplace,replaceWith:e.replaceWith,options:e.options};t.activeEditor.matches(e.toReplace)?n.push(o):i.push(o)}})}),i.forEach(function(e){var t=e.group;t.openEditor(e.replaceWith,{active:!1,pinned:!0,index:e.options.index}),t.closeEditor(e.editor)});var r=this.openEditors(n.map(function(e){var n=e.group;return{input:e.replaceWith,position:t.stacks.positionOfGroup(n),options:e.options}}));return n.forEach(function(e){t.doCloseEditor(e.group,e.editor,!1)}),r},t.prototype.openEditors=function(e){if(!e.length)return n.TPromise.as([]);var t;this.stacks.activeGroup&&(t=this.stacks.positionOfGroup(this.stacks.activeGroup));var i=this.editorGroupsControl.getRatio();return this.doOpenEditors(e,t,i)},t.prototype.restoreEditors=function(){var e=this.stacks.groups.map(function(e,t){return{input:e.activeEditor,position:t,options:e.isPinned(e.activeEditor)?b.EditorOptions.create({pinned:!0}):void 0}});if(!e.length)return n.TPromise.as([]);var i;this.stacks.groups.length&&(i=this.stacks.positionOfGroup(this.stacks.activeGroup));var r=this.memento[t.EDITOR_PART_UI_STATE_STORAGE_KEY];return this.doOpenEditors(e,i,r&&r.ratio)},t.prototype.doOpenEditors=function(e,t,i){var r=this,o=e.filter(function(e){return e.position===w.Position.ONE}),s=e.filter(function(e){return e.position===w.Position.TWO}),a=e.filter(function(e){return e.position===w.Position.THREE}),c=this.stacks.groupAt(w.Position.ONE),u=this.stacks.groupAt(w.Position.TWO),l=this.stacks.groupAt(w.Position.THREE),h=o.length+(c?c.count:0),d=s.length+(u?u.count:0),p=a.length+(l?l.count:0);(!h&&(d||p)||!d&&p)&&(o.push.apply(o,s),o.push.apply(o,a),s.splice(0,s.length),a.splice(0,a.length)),"number"!=typeof t&&(t=w.Position.ONE);var f=a.length?3:s.length?2:1;i&&i.length===f||(i=this.getVisibleEditors().length?void 0:3===f?[.33,.33,.34]:2===f?[.5,.5]:[1]);var g=!1,v=this.stacks.groupAt(t);g=!this.stacks.activeGroup||!v||e.some(function(e){return!e.options||!e.options.inactive&&!e.options.preserveFocus});var m=[];return[o.shift(),s.shift(),a.shift()].forEach(function(e,n){if(e){var o,s=e.input,a=t!==n;e.options?(o=e.options,"boolean"!=typeof o.preserveFocus&&(o.preserveFocus=a)):o=b.EditorOptions.create({preserveFocus:a}),m.push(r.openEditor(s,o,n,i))}}),n.TPromise.join(m).then(function(e){return g&&r.focusGroup(t),[o,s,a].forEach(function(e,t){var n=r.stacks.groupAt(t);n&&e.forEach(function(e){return n.openEditor(e.input,{pinned:!0})})}),r.editorGroupsControl.layout(r.dimension),e})},t.prototype.activateGroup=function(e){var t="number"==typeof e?this.stacks.groupAt(e):e;if(t){this.stacks.setActive(t);var n=this.visibleEditors[this.stacks.positionOfGroup(t)];n&&this.editorGroupsControl.setActive(n)}},t.prototype.focusGroup=function(e){var t="number"==typeof e?this.stacks.groupAt(e):e;if(t){this.activateGroup(t);var n=this.visibleEditors[this.stacks.positionOfGroup(t)];n&&n.focus()}},t.prototype.pinEditor=function(e,t){var n="number"==typeof e?this.stacks.groupAt(e):e;if(n){if(n.isPinned(t))return;n.pin(t)}},t.prototype.unpinEditor=function(e,t){var i=this;if(!t.isDirty()){var r="number"==typeof e?this.stacks.groupAt(e):e;if(r){if(r.isPreview(t))return;var o=n.TPromise.as(!1);r.previewEditor&&(o=this.handleDirty([{group:r,editor:r.previewEditor}],!0)),o.done(function(e){e||(r.isPreview(r.activeEditor)&&!r.activeEditor.matches(t)&&i.doCloseActiveEditor(r),r.unpin(t))})}}},t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return this.dimension=n[1],this.editorGroupsControl.layout(this.dimension),n},t.prototype.shutdown=function(){var n={ratio:this.editorGroupsControl.getRatio(),groupOrientation:this.editorGroupsControl.getGroupOrientation()};this.memento[t.EDITOR_PART_UI_STATE_STORAGE_KEY]=n;for(var i=0;i<this.instantiatedEditors.length;i++)for(var r=0;r<this.instantiatedEditors[i].length;r++)this.instantiatedEditors[i][r].shutdown();e.prototype.shutdown.call(this)},t.prototype.dispose=function(){var t=this;this._onEditorsChanged.dispose(),this._onEditorsMoved.dispose(),this._onEditorOpenFail.dispose(),this.editorOpenToken=[];for(var n=0;n<w.POSITIONS.length;n++)this.editorOpenToken[n]=0;this.editorGroupsControl.dispose(),this.visibleEditors.forEach(function(e){e&&e.dispose()});for(var i=function(e){for(var n=function(n){return r.visibleEditors.some(function(i){return i===t.instantiatedEditors[e][n]})?"continue":void r.instantiatedEditors[e][n].dispose()},i=0;i<r.instantiatedEditors[e].length;i++)n(i)},r=this,n=0;n<this.instantiatedEditors.length;n++)i(n);this.visibleEditors=null,e.prototype.dispose.call(this)},t.prototype.findPosition=function(e,t,n,i){if(i&&u.isNumber(n))return n;var r=this.getVisibleEditors(),o=this.getActiveEditor();if(0===r.length||!o)return w.Position.ONE;if(t&&t.revealIfVisible){var s=[];o&&s.push(o),r.forEach(function(e){e!==o&&s.push(e)});for(var a=0;a<s.length;a++){var c=s[a];if(e.matches(c.input))return c.position}}if(u.isUndefinedOrNull(n)||n===!1){var l=this.editorGroupsControl.getActivePosition();return l||w.Position.ONE}if(n===!0){switch(o.position){case w.Position.ONE:return w.Position.TWO;case w.Position.TWO:return w.Position.THREE;case w.Position.THREE:return null}return null}return n===w.Position.THREE&&1===r.length?w.Position.TWO:n},t.prototype.startDelayedCloseEditorsFromInputDispose=function(){var e=this;null===this.pendingEditorInputCloseTimeout&&(this.pendingEditorInputCloseTimeout=setTimeout(function(){var t=[],n=[];e.pendingEditorInputsToClose.forEach(function(e){var i=e.group,r=e.editor;i.isActive(r)?t.push(e):i.contains(r)&&n.push(e)}),n.forEach(function(t){return e.doCloseEditor(t.group,t.editor,!1)}),t.sort(function(t,n){return e.stacks.positionOfGroup(n.group)-e.stacks.positionOfGroup(t.group)}).forEach(function(t){return e.doCloseEditor(t.group,t.editor,!1)}),e.pendingEditorInputCloseTimeout=null,e.pendingEditorInputsToClose=[]},0))},t.prototype.rochade=function(e,t){if(u.isUndefinedOrNull(t)){var n=e;switch(n){case S.Rochade.TWO_TO_ONE:this.rochade(w.Position.TWO,w.Position.ONE);break;case S.Rochade.THREE_TO_TWO:this.rochade(w.Position.THREE,w.Position.TWO);break;case S.Rochade.TWO_AND_THREE_TO_ONE:this.rochade(w.Position.TWO,w.Position.ONE),this.rochade(w.Position.THREE,w.Position.TWO)}}else{var i=e,r=t;this.doRochade(this.visibleEditors,i,r,null),this.doRochade(this.editorOpenToken,i,r,null),this.doRochade(this.mapEditorInstantiationPromiseToEditor,i,r,Object.create(null)),this.doRochade(this.instantiatedEditors,i,r,[])}},t.prototype.doRochade=function(e,t,n,i){e[n]=e[t],e[t]=i},t.prototype.ensureGroup=function(e,t){var n=this;void 0===t&&(t=!0);var i=this.stacks.groupAt(e);return i?this.renameGroups():this.modifyGroups(function(){for(var r=0;r<e;r++)n.hasGroup(r)||n.stacks.openGroup("",!1,r);i=n.stacks.openGroup("",t,e)}),t&&this.stacks.setActive(i),i},t.prototype.modifyGroups=function(e){e(),this.renameGroups()},t.prototype.renameGroups=function(){var e=this.stacks.groups;if(e.length>0){var n="horizontal"!==this.editorGroupsControl.getGroupOrientation();e.length>2?(this.stacks.renameGroup(this.stacks.groupAt(w.Position.ONE),n?t.GROUP_LEFT:t.GROUP_TOP),this.stacks.renameGroup(this.stacks.groupAt(w.Position.TWO),n?t.GROUP_CENTER:t.GROUP_MIDDLE),this.stacks.renameGroup(this.stacks.groupAt(w.Position.THREE),n?t.GROUP_RIGHT:t.GROUP_BOTTOM)):e.length>1?(this.stacks.renameGroup(this.stacks.groupAt(w.Position.ONE),n?t.GROUP_LEFT:t.GROUP_TOP),this.stacks.renameGroup(this.stacks.groupAt(w.Position.TWO),n?t.GROUP_RIGHT:t.GROUP_BOTTOM)):this.stacks.renameGroup(this.stacks.groupAt(w.Position.ONE),n?t.GROUP_LEFT:t.GROUP_TOP)}},t.prototype.hasGroup=function(e){return!!this.stacks.groupAt(e)},t.GROUP_LEFT=s.localize(0,null),t.GROUP_CENTER=s.localize(1,null),t.GROUP_RIGHT=s.localize(2,null),t.GROUP_TOP=s.localize(3,null),t.GROUP_MIDDLE=s.localize(4,null),t.GROUP_BOTTOM=s.localize(5,null),t.EDITOR_PART_UI_STATE_STORAGE_KEY="editorpart.uiState",t=g([v(2,A.IMessageService),v(3,D.ITelemetryService),v(4,I.IStorageService),v(5,C.IPartService),v(6,_.IConfigurationService),v(7,T.IInstantiationService)],t)}(m.Part);t.EditorPart=O}),define(l[1204],h([1,0,475,2,24,14,387,68,31,37,398,89,76,45,38,39,18,19,36,6,745]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_){"use strict";var C=function(e){function t(n,i,r,s,c,u,l,d){e.call(this,i,r,s,c,u,l,d,o.Registry.as(h.Extensions.Panels),t.activePanelSettingsKey,"panel","panel",a.Scope.PANEL,n)}return d(t,e),Object.defineProperty(t.prototype,"onDidPanelOpen",{get:function(){return this._onDidCompositeOpen.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidPanelClose",{get:function(){return this._onDidCompositeClose.event},enumerable:!0,configurable:!0}),t.prototype.create=function(t){e.prototype.create.call(this,t)},t.prototype.openPanel=function(e,t){if(this.blockOpeningPanel)return i.TPromise.as(null);if(!this.partService.isVisible(f.Parts.PANEL_PART))try{this.blockOpeningPanel=!0,this.partService.setPanelHidden(!1)}finally{this.blockOpeningPanel=!1}return this.openComposite(e,t)},t.prototype.getActions=function(){return[this.instantiationService.createInstance(w,w.ID,w.LABEL)]},t.prototype.getActivePanel=function(){return this.getActiveComposite()},t.prototype.getLastActivePanelId=function(){return this.getLastActiveCompositetId()},t.prototype.hideActivePanel=function(){return this.hideActiveComposite().then(function(e){})},t.activePanelSettingsKey="workbench.panelpart.activepanelid",t=g([v(1,b.IMessageService),v(2,m.IStorageService),v(3,S.ITelemetryService),v(4,y.IContextMenuService),v(5,f.IPartService),v(6,E.IKeybindingService),v(7,_.IInstantiationService)],t)}(l.CompositePart);t.PanelPart=C;var w=function(e){function t(t,n,i){e.call(this,t,n,"hide-panel-action"),this.partService=i}return d(t,e),t.prototype.run=function(){return this.partService.setPanelHidden(!0),i.TPromise.as(!0)},t.ID="workbench.action.closePanel",t.LABEL=n.localize(0,null),t=g([v(2,f.IPartService)],t)}(r.Action),I=function(e){function t(t,n,i){e.call(this,t,n,i.isVisible(f.Parts.PANEL_PART)?"panel expanded":"panel"),this.partService=i}return d(t,e),t.prototype.run=function(){return this.partService.setPanelHidden(this.partService.isVisible(f.Parts.PANEL_PART)),i.TPromise.as(!0)},t.ID="workbench.action.togglePanel",t.LABEL=n.localize(1,null),t=g([v(2,f.IPartService)],t)}(s.ActivityAction);t.TogglePanelAction=I;var T=function(e){function t(t,n,i,r){e.call(this,t,n),this.panelService=i,this.partService=r}return d(t,e),t.prototype.run=function(){if(this.partService.isVisible(f.Parts.PANEL_PART)){var e=this.panelService.getActivePanel();e&&e.focus()}else this.partService.setPanelHidden(!1);return i.TPromise.as(!0)},t.ID="workbench.action.focusPanel",t.LABEL=n.localize(2,null),t=g([v(2,p.IPanelService),v(3,f.IPartService)],t)}(r.Action),x=function(e){function t(t,n,i){e.call(this,t,n),this.partService=i}return d(t,e),t.prototype.run=function(){return this.partService.setPanelHidden(!1),this.partService.toggleMaximizedPanel(),i.TPromise.as(!0)},t.ID="workbench.action.toggleMaximizedPanel",t.LABEL=n.localize(3,null),t=g([v(2,f.IPartService)],t)}(r.Action),A=o.Registry.as(u.Extensions.WorkbenchActions);A.registerWorkbenchAction(new c.SyncActionDescriptor(I,I.ID,I.LABEL,{primary:32808}),"View: Toggle Panel Visibility",n.localize(4,null)),A.registerWorkbenchAction(new c.SyncActionDescriptor(T,T.ID,T.LABEL),"View: Focus into Panel",n.localize(5,null)),A.registerWorkbenchAction(new c.SyncActionDescriptor(x,x.ID,x.LABEL),"View: Toggle Maximized Panel",n.localize(6,null)),A.registerWorkbenchAction(new c.SyncActionDescriptor(w,w.ID,w.LABEL),"View: Close Panel",n.localize(7,null))}),define(l[1205],h([1,0,2,478,14,24,398,65,37,31,53,45,68,38,39,18,19,36,6,747]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E){"use strict";var _=function(e){function t(n,i,o,s,c,u,l,h){e.call(this,i,o,s,c,u,l,h,r.Registry.as(a.Extensions.Viewlets),t.activeViewletSettingsKey,"sideBar","viewlet",p.Scope.VIEWLET,n)}return d(t,e),Object.defineProperty(t.prototype,"onDidViewletOpen",{get:function(){return this._onDidCompositeOpen.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidViewletClose",{get:function(){return this._onDidCompositeClose.event},enumerable:!0,configurable:!0}),t.prototype.openViewlet=function(e,t){if(this.blockOpeningViewlet)return n.TPromise.as(null);if(!this.partService.isVisible(h.Parts.SIDEBAR_PART))try{this.blockOpeningViewlet=!0,this.partService.setSideBarHidden(!1)}finally{this.blockOpeningViewlet=!1}return this.openComposite(e,t)},t.prototype.getActiveViewlet=function(){return this.getActiveComposite()},t.prototype.getLastActiveViewletId=function(){return this.getLastActiveCompositetId()},t.prototype.hideActiveViewlet=function(){return this.hideActiveComposite().then(function(e){})},t.activeViewletSettingsKey="workbench.sidebar.activeviewletid",t=g([v(1,y.IMessageService),v(2,f.IStorageService),v(3,b.ITelemetryService),v(4,m.IContextMenuService),v(5,h.IPartService),v(6,S.IKeybindingService),v(7,E.IInstantiationService)],t)}(s.CompositePart);t.SidebarPart=_;var C=function(e){function t(t,n,i,r){e.call(this,t,n),this.viewletService=i,this.partService=r}return d(t,e),t.prototype.run=function(){if(this.partService.isVisible(h.Parts.SIDEBAR_PART)){var e=this.viewletService.getActiveViewlet();e&&e.focus()}else this.partService.setSideBarHidden(!1);return n.TPromise.as(!0)},t.ID="workbench.action.focusSideBar",t.LABEL=i.localize(0,null),t=g([v(2,l.IViewletService),v(3,h.IPartService)],t)}(o.Action),w=r.Registry.as(c.Extensions.WorkbenchActions);w.registerWorkbenchAction(new u.SyncActionDescriptor(C,C.ID,C.LABEL,{primary:32789}),"View: Focus into Side Bar",i.localize(1,null))}),define(l[1206],h([1,0,2,14,65,75]),function(e,t,n,i,r,o){"use strict";var s=function(){function e(e,t){this.extensionService=t,this.sidebarPart=e,this.viewletRegistry=i.Registry.as(r.Extensions.Viewlets),this.loadExtensionViewlets()}return Object.defineProperty(e.prototype,"onDidViewletOpen",{get:function(){return this.sidebarPart.onDidViewletOpen},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidViewletClose",{get:function(){return this.sidebarPart.onDidViewletClose},enumerable:!0,configurable:!0}),e.prototype.loadExtensionViewlets=function(){var e=this;this.extensionViewlets=[],this.extensionViewletsLoaded=new n.TPromise(function(t){e.extensionViewletsLoadedPromiseComplete=t}),this.extensionService.onReady().then(function(){var t=e.viewletRegistry.getViewlets();t.forEach(function(t){t.extensionId&&e.extensionViewlets.push(t)}),e.extensionViewletsLoadedPromiseComplete(void 0)})},e.prototype.openViewlet=function(e,t){var n=this,i=this.getBuiltInViewlets().map(function(e){return e.id}),r=i.indexOf(e)!==-1;return r?this.sidebarPart.openViewlet(e,t):this.extensionViewletsLoaded.then(function(){return n.viewletRegistry.getViewlet(e)?n.sidebarPart.openViewlet(e,t):n.sidebarPart.openViewlet(n.getDefaultViewletId(),t)})},e.prototype.getActiveViewlet=function(){return this.sidebarPart.getActiveViewlet()},e.prototype.getViewlets=function(){var e=this.getBuiltInViewlets();return e.concat(this.extensionViewlets)},e.prototype.getBuiltInViewlets=function(){return this.viewletRegistry.getViewlets().filter(function(e){return!e.extensionId}).sort(function(e,t){return e.order-t.order})},e.prototype.getDefaultViewletId=function(){return this.viewletRegistry.getDefaultViewletId()},e.prototype.getViewlet=function(e){return this.getViewlets().filter(function(t){return t.id===e})[0]},e=g([v(1,o.IExtensionService)],e)}();t.ViewletService=s}),define(l[122],h([1,0,6,11,83]),function(e,t,n,i,r){"use strict";var o=r.remote.getCurrentWindow().id;t.IWindowIPCService=n.createDecorator("windowIPCService");var s=function(){function e(){this._onBroadcast=new i.Emitter,this.windowId=o,this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;r.ipcRenderer.on("vscode:broadcast",function(t,n){e._onBroadcast.fire(n)})},Object.defineProperty(e.prototype,"onBroadcast",{get:function(){return this._onBroadcast.event},enumerable:!0,configurable:!0}),e.prototype.getWindowId=function(){return this.windowId},e.prototype.getWindow=function(){return this.win},e.prototype.registerWindow=function(e){this.win=e},e.prototype.broadcast=function(e,t){r.ipcRenderer.send("vscode:broadcast",this.getWindowId(),t,{channel:e.channel,payload:e.payload})},e}();t.WindowIPCService=s}),define(l[167],h([1,0,16,2,24,122,63,22,126,483,61,132,7,18,26,51,114,88,134,34,20,13,50,48,196,107,83]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D){"use strict";var L=function(e){function t(t,n,i){e.call(this,t,n),this.editorService=i}return d(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();return e?this.editorService.closeEditor(e.position,e.input):i.TPromise.as(!1)},t.ID="workbench.action.closeActiveEditor",t.LABEL=u.localize(0,null),t=g([v(2,a.IWorkbenchEditorService)],t)}(r.Action);t.CloseEditorAction=L;var k=function(e){function t(t,n,i){e.call(this,t,n),this.windowService=i}return d(t,e),t.prototype.run=function(){return this.windowService.getWindow().close(),i.TPromise.as(!0)},t.ID="workbench.action.closeWindow",t.LABEL=u.localize(1,null),t=g([v(2,o.IWindowIPCService)],t)}(r.Action);t.CloseWindowAction=k;var P=function(e){function t(t,n,i,r,o){e.call(this,t,n),this.windowsService=i,this.windowService=r,this.quickOpenService=o}return d(t,e),t.prototype.run=function(){var e=this,t=this.windowService.getCurrentWindowId();return this.windowsService.getWindows().then(function(n){var i=u.localize(3,null),r=n.map(function(n){return{label:n.title,description:t===n.id?u.localize(4,null):void 0,run:function(){return e.windowsService.showWindow(n.id)}}});e.quickOpenService.pick(r,{placeHolder:i})})},t.ID="workbench.action.switchWindow",t.LABEL=u.localize(2,null),t=g([v(2,s.IWindowsService),v(3,s.IWindowService),v(4,I.IQuickOpenService)],t)}(r.Action);t.SwitchWindow=P;var R=function(e){function t(t,n,i,r,o){e.call(this,t,n),this.contextService=i,this.messageService=r,this.windowService=o}return d(t,e),t.prototype.run=function(){return this.contextService.getWorkspace()?this.windowService.closeFolder():(this.messageService.show(f.Severity.Info,u.localize(6,null)),i.TPromise.as(null))},t.ID="workbench.action.closeFolder",t.LABEL=u.localize(5,null),t=g([v(2,m.IWorkspaceContextService),v(3,f.IMessageService),v(4,s.IWindowService)],t)}(r.Action);t.CloseFolderAction=R;var O=function(e){function t(t,n,i){e.call(this,t,n),this.windowsService=i}return d(t,e),t.prototype.run=function(){return this.windowsService.openNewWindow()},t.ID="workbench.action.newWindow",t.LABEL=u.localize(7,null),t=g([v(2,s.IWindowsService)],t)}(r.Action);t.NewWindowAction=O;var M=function(e){function t(t,n,i){e.call(this,t,n),this.windowService=i}return d(t,e),t.prototype.run=function(){return this.windowService.toggleFullScreen()},t.ID="workbench.action.toggleFullScreen",t.LABEL=u.localize(8,null),t=g([v(2,s.IWindowService)],t)}(r.Action);t.ToggleFullScreenAction=M;var N=function(e){function t(t,n,i){e.call(this,t,n),this.windowService=i}return d(t,e),t.prototype.run=function(){return this.windowService.toggleMenuBar()},t.ID="workbench.action.toggleMenuBar",t.LABEL=u.localize(9,null),t=g([v(2,s.IWindowService)],t)}(r.Action);t.ToggleMenuBarAction=N;var F=function(e){function t(t,n,i){e.call(this,t,n),this.windowsService=i}return d(t,e),t.prototype.run=function(){return this.windowsService.toggleDevTools()},t.ID="workbench.action.toggleDevTools",t.LABEL=u.localize(10,null),t=g([v(2,s.IWindowService)],t)}(r.Action);t.ToggleDevToolsAction=F;var W=function(e){function t(t,n,i,r){e.call(this,t,n),this.configurationService=i,this.configurationEditingService=r}return d(t,e),t.prototype.setConfiguredZoomLevel=function(e){var n=b.ConfigurationTarget.USER;"number"==typeof this.configurationService.lookup(t.SETTING_KEY).workspace&&(n=b.ConfigurationTarget.WORKSPACE),e=Math.round(e);var i=function(){D.webFrame.setZoomLevel(e),T.setZoomFactor(D.webFrame.getZoomFactor()),T.setZoomLevel(e)};this.configurationEditingService.writeConfiguration(n,{key:t.SETTING_KEY,value:e}).done(function(){return i()},function(e){return i()})},t.SETTING_KEY="window.zoomLevel",t=g([v(2,E.IWorkspaceConfigurationService),v(3,b.IConfigurationEditingService)],t)}(r.Action);t.BaseZoomAction=W;var V=function(e){function t(t,n,i,r){e.call(this,t,n,i,r)}return d(t,e),t.prototype.run=function(){return this.setConfiguredZoomLevel(D.webFrame.getZoomLevel()+1),i.TPromise.as(!0)},t.ID="workbench.action.zoomIn",t.LABEL=u.localize(11,null),t=g([v(2,E.IWorkspaceConfigurationService),v(3,b.IConfigurationEditingService)],t)}(W);t.ZoomInAction=V;var B=function(e){function t(t,n,i,r){e.call(this,t,n,i,r)}return d(t,e),t.prototype.run=function(){return this.setConfiguredZoomLevel(D.webFrame.getZoomLevel()-1),i.TPromise.as(!0)},t.ID="workbench.action.zoomOut",t.LABEL=u.localize(12,null),t=g([v(2,E.IWorkspaceConfigurationService),v(3,b.IConfigurationEditingService)],t)}(W);t.ZoomOutAction=B;var H=function(e){function t(t,n,i,r){e.call(this,t,n,i,r)}return d(t,e),t.prototype.run=function(){return this.setConfiguredZoomLevel(0),i.TPromise.as(!0)},t.ID="workbench.action.zoomReset",t.LABEL=u.localize(13,null),t=g([v(2,E.IWorkspaceConfigurationService),v(3,b.IConfigurationEditingService)],t)}(W);t.ZoomResetAction=H;var z;!function(e){e[e.LoaderAvailable=1]="LoaderAvailable",e[e.BeginLoadingScript=10]="BeginLoadingScript",e[e.EndLoadingScriptOK=11]="EndLoadingScriptOK",e[e.EndLoadingScriptError=12]="EndLoadingScriptError",e[e.BeginInvokeFactory=21]="BeginInvokeFactory",e[e.EndInvokeFactory=22]="EndInvokeFactory",e[e.NodeBeginEvaluatingScript=31]="NodeBeginEvaluatingScript",e[e.NodeEndEvaluatingScript=32]="NodeEndEvaluatingScript",e[e.NodeBeginNativeRequire=33]="NodeBeginNativeRequire",e[e.NodeEndNativeRequire=34]="NodeEndNativeRequire"}(z||(z={}));var U=window.MonacoEnvironment.timers,G=function(t){function n(e,n,i,r){t.call(this,e,n),this.windowService=i,this.environmentService=r}return d(n,t),n.prototype.run=function(){var e=this;
return this.windowService.openDevTools(),setTimeout(function(){console.group("Startup Performance Measurement");var t=U.fingerprint;console.log("OS: "+t.platform+" ("+t.release+")"),console.log("CPUs: "+t.cpus.model+" ("+t.cpus.count+" x "+t.cpus.speed+")"),console.log("Memory (System): "+(t.totalmem/1073741824).toFixed(2)+"GB ("+(t.freemem/1073741824).toFixed(2)+"GB free)"),console.log("Memory (Process): "+(t.meminfo.workingSetSize/1024).toFixed(2)+"MB working set ("+(t.meminfo.peakWorkingSetSize/1024).toFixed(2)+"MB peak, "+(t.meminfo.privateBytes/1024).toFixed(2)+"MB private, "+(t.meminfo.sharedBytes/1024).toFixed(2)+"MB shared)"),console.log("Initial Startup: "+t.initialStartup),console.log("Screen Reader Active: "+t.hasAccessibilitySupport),console.log("Empty Workspace: "+t.emptyWorkbench);var n,i;if(e.environmentService.performance){var r=e.analyzeNodeModulesLoadTimes();n=r.duration,i=r.table}console.table(e.getFingerprintTable(n)),i&&(console.groupCollapsed("node_modules Load Details"),console.table(i),console.groupEnd()),console.groupEnd()},1e3),i.TPromise.as(!0)},n.prototype.getFingerprintTable=function(e){var t=[],n=U.fingerprint;return n.initialStartup&&t.push({Topic:"[main] start => window.loadUrl()","Took (ms)":n.timers.ellapsedWindowLoad}),t.push({Topic:"[renderer] window.loadUrl() => begin to require(workbench.main.js)","Took (ms)":n.timers.ellapsedWindowLoadToRequire}),t.push({Topic:"[renderer] require(workbench.main.js)","Took (ms)":n.timers.ellapsedRequire}),e&&t.push({Topic:"[renderer] -> of which require() node_modules","Took (ms)":e}),t.push({Topic:"[renderer] create extension host => extensions onReady()","Took (ms)":n.timers.ellapsedExtensions}),t.push({Topic:"[renderer] restore viewlet","Took (ms)":n.timers.ellapsedViewletRestore}),t.push({Topic:"[renderer] restore editor view state","Took (ms)":n.timers.ellapsedEditorRestore}),t.push({Topic:"[renderer] overall workbench load","Took (ms)":n.timers.ellapsedWorkbench}),t.push({Topic:"------------------------------------------------------"}),t.push({Topic:"[main, renderer] start => extensions ready","Took (ms)":n.timers.ellapsedExtensionsReady}),t.push({Topic:"[main, renderer] start => workbench ready","Took (ms)":n.ellapsed}),t},n.prototype.analyzeNodeModulesLoadTimes=function(){for(var t=e.getStats(),n=[],i=0,r=0,o=t.length;r<o;r++)if(t[r].type===z.NodeEndNativeRequire&&t[r-1].type===z.NodeBeginNativeRequire&&t[r-1].detail===t[r].detail){var s={},a=t[r].timestamp-t[r-1].timestamp;s.Event="nodeRequire "+t[r].detail,s["Took (ms)"]=a.toFixed(2),i+=a,s["Start (ms)"]="**"+t[r-1].timestamp.toFixed(2),s["End (ms)"]="**"+t[r-1].timestamp.toFixed(2),n.push(s)}if(i>0){n.push({Event:"------------------------------------------------------"});var s={};s.Event="[renderer] total require() node_modules",s["Took (ms)"]=i.toFixed(2),s["Start (ms)"]="**",s["End (ms)"]="**",n.push(s)}return{table:n,duration:Math.round(i)}},n.ID="workbench.action.appPerf",n.LABEL=u.localize(14,null),n=g([v(2,s.IWindowService),v(3,y.IEnvironmentService)],n)}(r.Action);t.ShowStartupPerformance=G;var K=function(e){function t(t,n,i){e.call(this,t,n),this.windowService=i}return d(t,e),t.prototype.run=function(){return this.windowService.reloadWindow().then(function(){return!0})},t.ID="workbench.action.reloadWindow",t.LABEL=u.localize(15,null),t=g([v(2,s.IWindowService)],t)}(r.Action);t.ReloadWindowAction=K;var j=function(e){function t(t,n,i,r,o,s){e.call(this,t,n),this.windowsService=i,this.windowService=r,this.quickOpenService=o,this.contextService=s}return d(t,e),t.prototype.run=function(){var e=this;return this.windowService.getRecentlyOpen().then(function(t){var n=t.files,i=t.folders;return e.openRecent(n,i)})},t.prototype.openRecent=function(e,t){function i(e,t,i){return{resource:n.default.file(e),isFolder:i,label:C.basename(e),description:C.dirname(e),separator:t,run:function(t){return o(e,t)}}}var r=this,o=function(e,t){var n=t.keymods.indexOf(32768)>=0;r.windowsService.windowOpen([e],n)},s=t.map(function(e,t){return i(e,0===t?{label:u.localize(17,null)}:void 0,!0)}),a=e.map(function(e,t){return i(e,0===t?{label:u.localize(18,null),border:!0}:void 0,!1)}),c=!!this.contextService.getWorkspace();this.quickOpenService.pick(s.concat.apply(s,a),{autoFocus:{autoFocusFirstEntry:!c,autoFocusSecondEntry:c},placeHolder:w.isMacintosh?u.localize(19,null):u.localize(20,null),matchOnDescription:!0}).done(null,p.onUnexpectedError)},t.ID="workbench.action.openRecent",t.LABEL=u.localize(16,null),t=g([v(2,s.IWindowsService),v(3,s.IWindowService),v(4,I.IQuickOpenService),v(5,m.IWorkspaceContextService)],t)}(r.Action);t.OpenRecentAction=j;var q=function(e){function t(t,n,i,r){e.call(this,t,n),this.messageService=i,this.editorService=r}return d(t,e),t.prototype.run=function(){this.messageService.hideAll();var e=this.editorService.getActiveEditor();return e&&e.focus(),i.TPromise.as(!0)},t.ID="workbench.action.closeMessages",t.LABEL=u.localize(21,null),t=g([v(2,f.IMessageService),v(3,a.IWorkbenchEditorService)],t)}(r.Action);t.CloseMessagesAction=q;var $=function(e){function t(t,n,i,r){e.call(this,t,n),this.integrityService=i,this.extensionManagementService=r}return d(t,e),t.prototype.run=function(){var e=this;return this.integrityService.isPure().then(function(t){return e.extensionManagementService.getInstalled(S.LocalExtensionType.User).then(function(n){var r=e.generateNewIssueUrl(l.default.reportIssueUrl,h.default.name,h.default.version,l.default.commit,l.default.date,t.isPure,n);return window.open(r),i.TPromise.as(!0)})})},t.prototype.generateNewIssueUrl=function(e,t,n,i,r,o,s){var a=A.type()+" "+A.arch()+" "+A.release(),c=e.indexOf("?")===-1?"?":"&",u=encodeURIComponent("- VSCode Version: "+t+" "+n+(o?"":" **[Unsupported]**")+" ("+(l.default.commit||"Commit unknown")+", "+(l.default.date||"Date unknown")+")\n- OS Version: "+a+"\n- Extensions:\n\n"+this.generateExtensionTable(s)+"\n\n---\n\nSteps to Reproduce:\n\n1.\n2.");return""+e+c+"body="+u},t.prototype.generateExtensionTable=function(e){var t="|Extension|Author|Version|\n|---|---|---|",n=e.map(function(e){return"|"+e.manifest.name+"|"+e.manifest.publisher+"|"+e.manifest.version+"|"}).join("\n");return t+"\n"+n},t.ID="workbench.action.reportIssues",t.LABEL=u.localize(22,null),t=g([v(2,x.IIntegrityService),v(3,S.IExtensionManagementService)],t)}(r.Action);t.ReportIssueAction=$;var Y=function(e){function t(t,n){e.call(this,t,n)}return d(t,e),t.prototype.run=function(){return window.open(t.URL),null},t.ID="workbench.action.keybindingsReference",t.LABEL=u.localize(23,null),t.URL=w.isLinux?l.default.keyboardShortcutsUrlLinux:w.isMacintosh?l.default.keyboardShortcutsUrlMac:l.default.keyboardShortcutsUrlWin,t.AVAILABLE=!!t.URL,t}(r.Action);t.KeybindingsReferenceAction=Y,_.CommandsRegistry.registerCommand("_workbench.diff",function(e,t){var n=e.get(a.IWorkbenchEditorService),r=t[0],o=t[1],s=t[2];return s||(s=u.localize(24,null,r.toString(!0),o.toString(!0))),i.TPromise.join([n.createInput({resource:r}),n.createInput({resource:o})]).then(function(e){var t=e[0],i=e[1],r=new c.DiffEditorInput(s,(void 0),t,i);return n.openEditor(r)}).then(function(){})}),_.CommandsRegistry.registerCommand("_workbench.open",function(e,t){var n=e.get(a.IWorkbenchEditorService),i=t[0],r=t[1];return n.openEditor({resource:i},r).then(function(){})})}),define(l[401],h([1,0,485,97,213,30,16,2,13,964,18,69,63,26,19,122,121,83,61,51,167,6,11,901,177,134]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S,E,_,C,w,I,T,x){"use strict";t.EXTENSION_LOG_BROADCAST_CHANNEL="vscode:extensionLog",t.EXTENSION_ATTACH_BROADCAST_CHANNEL="vscode:extensionAttach",t.EXTENSION_TERMINATE_BROADCAST_CHANNEL="vscode:extensionTerminate";var A=function(){function A(e,t,n,i,r,o,s,a,c){var u=this;this.contextService=e,this.messageService=t,this.windowsService=n,this.windowService=i,this.instantiationService=o,this.environmentService=s,this.configurationService=a,this.telemetryService=c,this.extHostWatchDog=new I.WatchDog(250,4),this._onMessage=new w.Emitter,this.isExtensionDevelopmentHost=s.isExtensionDevelopment,this.isExtensionDevelopmentDebugging=!!s.debugExtensionHost.break,this.isExtensionDevelopmentTestFromCli=this.isExtensionDevelopmentHost&&!!s.extensionTestsPath&&!s.debugExtensionHost.break,this.unsentMessages=[],this.extensionHostProcessReady=!1,r.onWillShutdown(this._onWillShutdown,this),r.onShutdown(function(e){return u.terminate()})}return Object.defineProperty(A.prototype,"onMessage",{get:function(){return this._onMessage.event},enumerable:!0,configurable:!0}),A.prototype.start=function(e){var t=this;this.extensionService=e;var i={env:o.mixin(o.clone(process.env),{AMD_ENTRYPOINT:"vs/workbench/node/extensionHostProcess",PIPE_LOGGING:"true",VERBOSE_LOGGING:!0,VSCODE_WINDOW_ID:String(this.windowService.getWindowId()),ELECTRON_NO_ASAR:"1"}),detached:!!c.isWindows};this.environmentService.isBuilt&&!this.isExtensionDevelopmentHost||(this.initializeTimer=setTimeout(function(){var e=t.isExtensionDevelopmentDebugging?n.localize(0,null):n.localize(1,null);t.messageService.show(l.Severity.Warning,e)},1e4)),this.initializeExtensionHostProcess=this.doInitializeExtensionHostProcess(i),this.environmentService.isBuilt&&this.initializeExtensionHostProcess.done(function(){t.extHostWatchDog.start(),t.extHostWatchDog.onAlert(function(){t.extHostWatchDog.reset(),t.extensionService.getExtensions().then(function(e){for(var n=[],i=0,r=e;i<r.length;i++){var o=r[i];o.main&&t.extensionService.isActivated(o.id)&&n.push(o.id)}t.telemetryService.publicLog("extHostUnresponsive2",{extensionIds:n})})})})},Object.defineProperty(A.prototype,"messagingProtocol",{get:function(){return this},enumerable:!0,configurable:!0}),A.prototype.doInitializeExtensionHostProcess=function(n){var i=this;return new a.TPromise(function(r,o){i.resolveDebugPort(i.environmentService.debugExtensionHost.port).then(function(o){o&&(n.execArgv=["--nolazy",(i.isExtensionDevelopmentDebugging?"--debug-brk=":"--debug=")+o]),i.extensionHostProcessHandle=y.fork(s.default.parse(e.toUrl("bootstrap")).fsPath,["--type=extensionHost"],n),i.extensionHostProcessQueuedSender=T.createQueuedSender(i.extensionHostProcessHandle),i.isExtensionDevelopmentHost&&o&&i.windowService.broadcast({channel:t.EXTENSION_ATTACH_BROADCAST_CHANNEL,payload:{port:o}},i.environmentService.extensionDevelopmentPath),i.extensionHostProcessHandle.on("message",function(e){i.onMessaage(e)&&r(i.extensionHostProcessHandle)});var a=function(){return i.terminate()};process.once("exit",a),i.extensionHostProcessHandle.on("error",function(e){return i.onError(e)}),i.extensionHostProcessHandle.on("exit",function(e,t){return i.onExit(e,t,a)})})},function(){return i.terminate()})},A.prototype.resolveDebugPort=function(e){var t=this;return"number"!=typeof e?a.TPromise.wrap(void 0):new a.TPromise(function(n,i){u.findFreePort(e,10,5e3,function(i){return i?(i!==e&&console.warn("%c[Extension Host] %cProvided debugging port "+e+" is not free, using "+i+" instead.","color: blue","color: black"),t.isExtensionDevelopmentDebugging?console.warn("%c[Extension Host] %cSTOPPED on first line for debugging on port "+i,"color: blue","color: black"):console.info("%c[Extension Host] %cdebugger listening on port "+i,"color: blue","color: black"),n(i)):(console.warn("%c[Extension Host] %cCould not find a free port for debugging","color: blue","color: black"),n(void 0))})})},A.prototype.onMessaage=function(e){var t=this;return"ready"===e?(this.initializeExtensionHost(),!1):"initialized"===e?(this.unsentMessages.forEach(function(e){return t.send(e)}),this.unsentMessages=[],this.extensionHostProcessReady=!0,!0):"__$heartbeat"===e?(this.extHostWatchDog.reset(),!1):e&&"__$console"===e.type?(this.logExtensionHostMessage(e),!1):(this._onMessage.fire(e),!1)},A.prototype.initializeExtensionHost=function(){var e=this;this.initializeTimer&&window.clearTimeout(this.initializeTimer),a.TPromise.join([this.telemetryService.getTelemetryInfo(),this.extensionService.getExtensions()]).then(function(t){var n=t[0],i=t[1],o={parentPid:process.pid,environment:{appSettingsHome:e.environmentService.appSettingsHome,disableExtensions:e.environmentService.disableExtensions,userExtensionsHome:e.environmentService.extensionsPath,extensionDevelopmentPath:e.environmentService.extensionDevelopmentPath,extensionTestsPath:e.environmentService.extensionTestsPath,enableProposedApi:!e.environmentService.isBuilt||!!e.environmentService.extensionDevelopmentPath&&S.default.nameLong.indexOf("Insiders")>=0},contextService:{workspace:e.contextService.getWorkspace()},extensions:i,configuration:e.configurationService.values(),telemetryInfo:n};e.extensionHostProcessQueuedSender.send(r.stringify(o))})},A.prototype.logExtensionHostMessage=function(e){var n=[];try{var i=JSON.parse(e.arguments);n.push.apply(n,Object.getOwnPropertyNames(i).map(function(e){return i[e]}))}catch(t){n.push(e.arguments)}var r=[];r="string"==typeof n[0]&&n[0].indexOf("%")>=0?["%c[Extension Host]%c "+n[0],"color: blue","color: black"].concat(n.slice(1)):["%c[Extension Host]","color: blue"].concat(n),this.isExtensionDevelopmentTestFromCli||console[e.severity].apply(console,r),this.isExtensionDevelopmentTestFromCli?(o=this.windowsService).log.apply(o,[e.severity].concat(n)):this.environmentService.isBuilt&&!this.isExtensionDevelopmentHost||this.windowService.broadcast({channel:t.EXTENSION_LOG_BROADCAST_CHANNEL,payload:e},this.environmentService.extensionDevelopmentPath);var o},A.prototype.onError=function(e){var t=i.toErrorMessage(e);t!==this.lastExtensionHostError&&(this.lastExtensionHostError=t,this.messageService.show(l.Severity.Error,n.localize(2,null,t)))},A.prototype.onExit=function(e,t,i){process.removeListener("exit",i),this.terminating||(this.isExtensionDevelopmentHost?this.isExtensionDevelopmentTestFromCli?b.ipcRenderer.send("vscode:exit",e):this.windowService.getWindow().close():(this.messageService.show(l.Severity.Error,{message:n.localize(3,null),actions:[this.instantiationService.createInstance(_.ReloadWindowAction,_.ReloadWindowAction.ID,_.ReloadWindowAction.LABEL)]}),console.error("Extension host terminated unexpectedly. Code: ",e," Signal: ",t)))},A.prototype.send=function(e){var t=this;this.extensionHostProcessReady?this.extensionHostProcessQueuedSender.send(e):this.initializeExtensionHostProcess?this.initializeExtensionHostProcess.done(function(){return t.extensionHostProcessQueuedSender.send(e)}):this.unsentMessages.push(e)},A.prototype.terminate=function(){this.terminating=!0,this.extensionHostProcessHandle&&this.extensionHostProcessQueuedSender.send({type:"__$terminate"})},A.prototype._onWillShutdown=function(e){!this.isExtensionDevelopmentHost||this.isExtensionDevelopmentTestFromCli||this.isExtensionDevelopmentDebugging||(this.windowService.broadcast({channel:t.EXTENSION_TERMINATE_BROADCAST_CHANNEL,payload:!0},this.environmentService.extensionDevelopmentPath),e.veto(a.TPromise.timeout(100).then(function(){return!1})))},A=g([v(0,p.IWorkspaceContextService),v(1,l.IMessageService),v(2,d.IWindowsService),v(3,m.IWindowIPCService),v(4,h.ILifecycleService),v(5,C.IInstantiationService),v(6,E.IEnvironmentService),v(7,x.IWorkspaceConfigurationService),v(8,f.ITelemetryService)],A)}();t.ExtensionHostProcessWorker=A}),define(l[1210],h([1,0,486,14,2,37,31,7,21,35,32,43,24,45,18,6,39,34,36,26,80,122,33,114,134,1137,48,126,66,22,56,16,167,51,53,75,83]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P,R,O,M,N,F,W){"use strict";var V=W.remote.getCurrentWindow(),B=[new d.Action("undo",n.localize(0,null),null,(!0),function(){return document.execCommand("undo")&&r.TPromise.as(!0)}),new d.Action("redo",n.localize(1,null),null,(!0),function(){return document.execCommand("redo")&&r.TPromise.as(!0)}),new h.Separator,new d.Action("editor.action.clipboardCutAction",n.localize(2,null),null,(!0),function(){return document.execCommand("cut")&&r.TPromise.as(!0)}),new d.Action("editor.action.clipboardCopyAction",n.localize(3,null),null,(!0),function(){return document.execCommand("copy")&&r.TPromise.as(!0)}),new d.Action("editor.action.clipboardPasteAction",n.localize(4,null),null,(!0),function(){return document.execCommand("paste")&&r.TPromise.as(!0)}),new h.Separator,new d.Action("editor.action.selectAll",n.localize(5,null),null,(!0),function(){return document.execCommand("selectAll")&&r.TPromise.as(!0)})],H=function(){function e(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,g){this.instantiationService=e,this.windowService=t,this.partService=n,this.contextService=i,this.configurationService=r,this.commandService=o,this.configurationEditingService=s,this.keybindingService=a,this.messageService=c,this.contextMenuService=u,this.editorService=l,this.untitledEditorService=h,this.environmentService=d,this.extensionService=p,this.themeService=f,this.viewletService=g}return e.prototype.integrate=function(e){var t=this,c=this.instantiationService.createInstance(x.ElectronWindow,V,e);this.windowService.registerWindow(c),W.ipcRenderer.on("vscode:runAction",function(e,n){t.commandService.executeCommand(n,{from:"menu"}).done(void 0,function(e){return t.messageService.show(l.default.Error,e)})}),W.ipcRenderer.on("vscode:resolveKeybindings",function(e,n){var i=[];try{i=JSON.parse(n)}catch(e){}t.resolveKeybindings(i).done(function(e){e.length&&W.ipcRenderer.send("vscode:keybindingsResolved",JSON.stringify(e))},function(){return a.onUnexpectedError})}),this.extensionService.onReady().then(function(){W.ipcRenderer.send("vscode:extensionViewlets",JSON.stringify(t.viewletService.getViewlets().filter(function(e){return!!e.extensionId}).map(function(e){return{id:e.id,label:e.name}})))}),W.ipcRenderer.on("vscode:reportError",function(e,t){if(t){var n=JSON.parse(t);n.mainProcess=!0,a.onUnexpectedError(n)}}),W.ipcRenderer.on("vscode:openFiles",function(e,n){return t.onOpenFiles(n)}),this.partService.joinCreation().then(function(){W.ipcRenderer.send("vscode:workbenchLoaded",t.windowService.getWindowId())}),W.ipcRenderer.on("vscode:showInfoMessage",function(e,n){t.messageService.show(l.default.Info,n)}),W.ipcRenderer.on("vscode.toggleAutoSave",function(e){t.toggleAutoSave()}),W.ipcRenderer.on("vscode:enterFullScreen",function(e){t.partService.joinCreation().then(function(){A.setFullscreen(!0)})}),W.ipcRenderer.on("vscode:leaveFullScreen",function(e){t.partService.joinCreation().then(function(){A.setFullscreen(!1)})}),W.ipcRenderer.on("vscode:enterHighContrast",function(e){t.partService.joinCreation().then(function(){t.themeService.setColorTheme(_.VS_HC_THEME,!1)})}),W.ipcRenderer.on("vscode:leaveHighContrast",function(e){t.partService.joinCreation().then(function(){t.themeService.setColorTheme(_.VS_DARK_THEME,!1)})});var u;this.configurationService.onDidUpdateConfiguration(function(e){var t=e.config,n=0;if(t.window&&"number"==typeof t.window.zoomLevel){if(n=t.window.zoomLevel,u===n)return;u=n}W.webFrame.getZoomLevel()!==n&&(W.webFrame.setZoomLevel(n),A.setZoomFactor(W.webFrame.getZoomFactor()),A.setZoomLevel(W.webFrame.getZoomLevel()))}),window.document.addEventListener("contextmenu",function(e){if(e.target instanceof HTMLElement){var n=e.target;!n.nodeName||"input"!==n.nodeName.toLowerCase()&&"textarea"!==n.nodeName.toLowerCase()||(e.preventDefault(),e.stopPropagation(),t.contextMenuService.showContextMenu({getAnchor:function(){return n},getActions:function(){return r.TPromise.as(B)},getKeyBinding:function(e){var n=t.keybindingService.lookupKeybindings(e.id);return n.length>0?n[0]:null}}))}});var h=n.localize(6,null),d=i.Registry.as(o.Extensions.WorkbenchActions),p=!this.environmentService.isBuilt||this.environmentService.isExtensionDevelopment;d.registerWorkbenchAction(new s.SyncActionDescriptor(O.ReloadWindowAction,O.ReloadWindowAction.ID,O.ReloadWindowAction.LABEL,p?{primary:32816}:void 0),"Reload Window"),d.registerWorkbenchAction(new s.SyncActionDescriptor(O.ToggleDevToolsAction,O.ToggleDevToolsAction.ID,O.ToggleDevToolsAction.LABEL,p?{primary:49191,mac:{primary:40999}}:void 0),"Developer: Toggle Developer Tools",h),d.registerWorkbenchAction(new s.SyncActionDescriptor(O.ShowStartupPerformance,O.ShowStartupPerformance.ID,O.ShowStartupPerformance.LABEL),"Developer: Startup Performance",h);var f=n.localize(7,null);d.registerWorkbenchAction(new s.SyncActionDescriptor(O.OpenRecentAction,O.OpenRecentAction.ID,O.OpenRecentAction.LABEL,{primary:p?null:32816,mac:{primary:4144}}),"File: Open Recent",f)},e.prototype.resolveKeybindings=function(e){var t=this;return this.partService.joinCreation().then(function(){return u.coalesce(e.map(function(e){for(var n=t.keybindingService.lookupKeybindings(e),i=0;i<n.length;i++){var r=n[i],o=t.keybindingService.getElectronAcceleratorFor(r);if(o)return{id:e,binding:r.value}}return null}))})},e.prototype.onOpenFiles=function(e){var t=[],n=2===e.filesToDiff.length;!n&&e.filesToOpen&&t.push.apply(t,this.toInputs(e.filesToOpen,!1)),!n&&e.filesToCreate&&t.push.apply(t,this.toInputs(e.filesToCreate,!0)),n&&t.push.apply(t,this.toInputs(e.filesToDiff,!1)),t.length&&this.openResources(t,n).done(null,a.onUnexpectedError)},e.prototype.openResources=function(e,t){var n=this;return this.partService.joinCreation().then(function(){if(t)return r.TPromise.join(e.map(function(e){return n.editorService.createInput(e)})).then(function(t){return n.editorService.openEditor(new D.DiffEditorInput(D.toDiffLabel(e[0].resource,e[1].resource,n.contextService),null,t[0],t[1]))});if(1===e.length)return n.editorService.openEditor(e[0]);var i=n.editorService.getActiveEditor();return n.editorService.openEditors(e.map(function(e,t){return{input:e,position:i?i.position:L.Position.ONE}}))})},e.prototype.toInputs=function(e,t){var n=this;return e.map(function(e){var i={resource:t?n.untitledEditorService.createOrGet(R.default.file(e.filePath)).getResource():R.default.file(e.filePath),options:{pinned:!0}};return!t&&e.lineNumber&&(i.options.selection={startLineNumber:e.lineNumber,startColumn:e.columnNumber}),i})},e.prototype.toggleAutoSave=function(){var t=this,n=this.configurationService.lookup(e.AUTO_SAVE_SETTING),i=n.user;c.isUndefinedOrNull(i)&&(i=n.default);var r;r=[w.AutoSaveConfiguration.AFTER_DELAY,w.AutoSaveConfiguration.ON_FOCUS_CHANGE,w.AutoSaveConfiguration.ON_WINDOW_CHANGE].some(function(e){return e===i})?w.AutoSaveConfiguration.OFF:w.AutoSaveConfiguration.AFTER_DELAY,this.configurationEditingService.writeConfiguration(I.ConfigurationTarget.USER,{key:e.AUTO_SAVE_SETTING,value:r}).done(null,function(e){return t.messageService.show(l.default.Error,e)})},e.AUTO_SAVE_SETTING="files.autoSave",e=g([v(0,m.IInstantiationService),v(1,C.IWindowIPCService),v(2,p.IPartService),v(3,E.IWorkspaceContextService),v(4,T.IWorkspaceConfigurationService),v(5,b.ICommandService),v(6,I.IConfigurationEditingService),v(7,S.IKeybindingService),v(8,f.IMessageService),v(9,y.IContextMenuService),v(10,k.IWorkbenchEditorService),v(11,P.IUntitledEditorService),v(12,M.IEnvironmentService),v(13,F.IExtensionService),v(14,_.IThemeService),v(15,N.IViewletService)],e)}();t.ElectronIntegration=H}),define(l[1211],h([1,0,502,5,98,11,20,95,16,24,35,21,7,32,2,148,211,23,128,69,75,6,33,47,18,63,19,359,358,38,41,28,82,983,151,293,299,116,1060,297,253,236,154,92,53,76,45,55,25,26,22,122,401]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P,R,O,M,N,F,W,V,B,H,z,U,G,K,j,q,$,Y,X,Q,Z,J,ee){"use strict";var te="debug.breakpoint",ne="debug.breakpointactivated",ie="debug.functionbreakpoint",re="debug.exceptionbreakpoint",oe="debug.watchexpressions",se="debug.selectedconfigname",ae=function(){function t(e,t,n,i,r,s,a,c,u,l,h,d,p,f,g,v,m,y,b,S,E){this.storageService=e,this.editorService=t,this.textFileService=n,this.viewletService=i,this.panelService=r,this.fileService=s,this.messageService=a,this.partService=c,this.windowsService=u,this.windowService=l,this.telemetryService=h,this.contextService=d,this.editorGroupService=f,this.instantiationService=m,this.extensionService=y,this.markerService=b,this.taskService=S,this.configurationService=E,this.toDispose=[],this.toDisposeOnSessionEnd={},this.breakpointsToSendOnResourceSaved={},this._onDidChangeState=new o.Emitter,this.sessionStates={},this.configurationManager=this.instantiationService.createInstance(B.ConfigurationManager),this.inDebugMode=O.CONTEXT_IN_DEBUG_MODE.bindTo(p),this.model=new N.Model(this.loadBreakpoints(),this.storageService.getBoolean(ne,k.StorageScope.WORKSPACE,!0),this.loadFunctionBreakpoints(),this.loadExceptionBreakpoints(),this.loadWatchExpressions()),this.toDispose.push(this.model),this.viewModel=new W.ViewModel(this.storageService.get(se,k.StorageScope.WORKSPACE,null)),this.registerListeners(g,v)}return t.prototype.registerListeners=function(e,t){var n=this;this.toDispose.push(e.addListener2(w.EventType.FILE_CHANGES,function(e){return n.onFileChanges(e)})),this.taskService&&(this.toDispose.push(this.taskService.addListener2(U.TaskServiceEvents.Active,function(e){n.lastTaskEvent=e})),this.toDispose.push(this.taskService.addListener2(U.TaskServiceEvents.Inactive,function(e){e.type===U.TaskType.SingleRun&&(n.lastTaskEvent=null)})),this.toDispose.push(this.taskService.addListener2(U.TaskServiceEvents.Terminated,function(e){n.lastTaskEvent=null}))),t.onShutdown(this.store,this),t.onShutdown(this.dispose,this),this.toDispose.push(this.windowService.onBroadcast(this.onBroadcast,this))},t.prototype.onBroadcast=function(e){var t=this.model.getProcesses().map(function(e){return e.session}).filter(function(e){return"extensionHost"===e.configuration.type}).pop();if(e.channel===ee.EXTENSION_ATTACH_BROADCAST_CHANNEL)return void this.rawAttach(t,e.payload.port);if(e.channel===ee.EXTENSION_TERMINATE_BROADCAST_CHANNEL)return void this.onSessionEnd(t);if(t&&e.channel===ee.EXTENSION_LOG_BROADCAST_CHANNEL){var i=e.payload,r="warn"===i.severity?p.default.Warning:"error"===i.severity?p.default.Error:p.default.Info,o=[];try{var s=JSON.parse(i.arguments);o.push.apply(o,Object.getOwnPropertyNames(s).map(function(e){return s[e]}))}catch(e){o.push(i.arguments)}for(var a=[],c=0;c<o.length;c++){var u=o[c];if("undefined"==typeof u)a.push("undefined");else if(null===u)a.push("null");else if(h.isObject(u)||Array.isArray(u))a.length&&(this.model.appendToRepl(a.join(" "),r),a=[]),this.model.appendToRepl(new N.OutputNameValueElement(u.prototype,u,n.localize(0,null)),r);else if("string"==typeof u){for(var l="",d=0,f=u.length;d<f;d++)"%"!==u[d]||"s"!==u[d+1]&&"i"!==u[d+1]&&"d"!==u[d+1]?l+=u[d]:(c++,l+=h.isUndefinedOrNull(o[c])?"":o[c],d++);a.push(l)}else a.push(u)}a.length&&this.model.appendToRepl(a.join(" "),r)}},t.prototype.registerSessionListeners=function(e,t){var i=this;this.toDisposeOnSessionEnd[t.getId()].push(t),this.toDisposeOnSessionEnd[t.getId()].push(t.onDidInitialize(function(r){m.status(n.localize(1,null));var o=function(){if(t&&t.configuration.capabilities.supportsConfigurationDoneRequest)return t.configurationDone().done(null,function(e){t&&t.disconnect().done(null,d.onUnexpectedError),i.messageService.show(p.default.Error,e.message)})};i.sendAllBreakpoints(e).then(o,o).done(function(){return i.fetchThreads(t)},d.onUnexpectedError)})),this.toDisposeOnSessionEnd[t.getId()].push(t.onDidStop(function(r){i.setStateAndEmit(t.getId(),O.State.Stopped);var o=r.body.threadId;t.threads().then(function(s){if(s&&s.body&&s.body.threads){var a=s.body.threads.filter(function(e){return e.id===o}).pop();i.model.rawUpdate({sessionId:t.getId(),thread:a,threadId:o,stoppedDetails:r.body,allThreadsStopped:r.body.allThreadsStopped});var c=e&&e.getThread(o);c&&c.fetchCallStack().then(function(e){if(e.length>0){var t=l.first(e,function(e){return e.source&&e.source.available},e[0]);return i.focusStackFrameAndEvaluate(t).done(null,d.onUnexpectedError),i.windowService.getWindow().focus(),m.alert(n.localize(2,null,r.body.reason,t.source?t.source.name:"",t.lineNumber)),i.openOrRevealSource(t.source,t.lineNumber,!1,!1)}i.focusStackFrameAndEvaluate(null).done(null,d.onUnexpectedError)})}},d.onUnexpectedError)})),this.toDisposeOnSessionEnd[t.getId()].push(t.onDidThread(function(e){"started"===e.body.reason?i.fetchThreads(t).done(void 0,d.onUnexpectedError):"exited"===e.body.reason&&i.model.clearThreads(t.getId(),!0,e.body.threadId)})),this.toDisposeOnSessionEnd[t.getId()].push(t.onDidTerminateDebugee(function(r){m.status(n.localize(3,null)),t&&t.getId()===r.body.sessionId&&(r.body&&"boolean"==typeof r.body.restart&&r.body.restart?i.restartProcess(e).done(null,function(e){return i.messageService.show(p.default.Error,e.message)}):t.disconnect().done(null,d.onUnexpectedError))})),this.toDisposeOnSessionEnd[t.getId()].push(t.onDidContinued(function(e){i.transitionToRunningState(t,e.body.allThreadsContinued?void 0:e.body.threadId)})),this.toDisposeOnSessionEnd[t.getId()].push(t.onDidOutput(function(t){if(t.body&&"telemetry"===t.body.category)i.customTelemetryService&&i.telemetryService.isOptedIn&&i.customTelemetryService.publicLog(t.body.output,t.body.data);else if(t.body&&"string"==typeof t.body.output&&t.body.output.length>0)if(t.body.variablesReference){var n=new N.ExpressionContainer(e,t.body.variablesReference,a.generateUuid());n.getChildren().then(function(e){e.forEach(function(e){e.name=null,i.model.appendToRepl(e,null)})})}else{var r="stderr"===t.body.category?p.default.Error:"console"===t.body.category?p.default.Warning:p.default.Info;i.model.appendToRepl(t.body.output,r)}})),this.toDisposeOnSessionEnd[t.getId()].push(t.onDidBreakpoint(function(e){var t=e.body&&e.body.breakpoint?e.body.breakpoint.id:void 0,n=i.model.getBreakpoints().filter(function(e){return e.idFromAdapter===t}).pop();if(n)i.model.updateBreakpoints((o={},o[n.getId()]=e.body.breakpoint,o));else{var r=i.model.getFunctionBreakpoints().filter(function(e){return e.idFromAdapter===t}).pop();r&&i.model.updateFunctionBreakpoints((s={},s[r.getId()]=e.body.breakpoint,s))}var o,s})),this.toDisposeOnSessionEnd[t.getId()].push(t.onDidExitAdapter(function(e){t&&"extensionHost"===t.configuration.type&&i.sessionStates[t.getId()]===O.State.RunningNoDebug&&i.windowsService.closeExtensionHostWindow(i.contextService.getWorkspace().resource.fsPath),t&&t.getId()===e.body.sessionId&&i.onSessionEnd(t)}))},t.prototype.fetchThreads=function(e){var t=this;return e.threads().then(function(n){n&&n.body&&n.body.threads&&n.body.threads.forEach(function(n){return t.model.rawUpdate({sessionId:e.getId(),threadId:n.id,thread:n})})})},t.prototype.loadBreakpoints=function(){var e;try{e=JSON.parse(this.storageService.get(te,k.StorageScope.WORKSPACE,"[]")).map(function(e){return new N.Breakpoint(c.default.parse(e.uri.external||e.source.uri.external),e.lineNumber,e.enabled,e.condition,e.hitCondition)})}catch(e){}return e||[]},t.prototype.loadFunctionBreakpoints=function(){var e;try{e=JSON.parse(this.storageService.get(ie,k.StorageScope.WORKSPACE,"[]")).map(function(e){return new N.FunctionBreakpoint(e.name,e.enabled,e.hitCondition)})}catch(e){}return e||[]},t.prototype.loadExceptionBreakpoints=function(){var e;try{e=JSON.parse(this.storageService.get(re,k.StorageScope.WORKSPACE,"[]")).map(function(e){return new N.ExceptionBreakpoint(e.filter||e.name,e.label,e.enabled)})}catch(e){}return e||[]},t.prototype.loadWatchExpressions=function(){var e;try{e=JSON.parse(this.storageService.get(oe,k.StorageScope.WORKSPACE,"[]")).map(function(e){return new N.Expression(e.name,e.id)})}catch(e){}return e||[]},Object.defineProperty(t.prototype,"state",{get:function(){if(!this.contextService.getWorkspace())return O.State.Disabled;var e=this.viewModel.focusedProcess;if(e)return this.sessionStates[e.getId()];var t=this.model.getProcesses();return t.length>0?this.sessionStates[t[0].getId()]:O.State.Inactive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeState",{get:function(){return this._onDidChangeState.event},enumerable:!0,configurable:!0}),t.prototype.setStateAndEmit=function(e,t){this.sessionStates[e]=t,this._onDidChangeState.fire()},Object.defineProperty(t.prototype,"enabled",{get:function(){return!!this.contextService.getWorkspace()},enumerable:!0,configurable:!0
}),t.prototype.focusStackFrameAndEvaluate=function(e,t){var n=this.model.getProcesses();return t||(t=e?e.thread.process:n.length?n[0]:null),this.viewModel.setFocusedStackFrame(e,t),this._onDidChangeState.fire(),this.model.evaluateWatchExpressions(this.viewModel.focusedProcess,this.viewModel.focusedStackFrame)},t.prototype.enableOrDisableBreakpoints=function(e,t){return t?(this.model.setEnablement(t,e),t instanceof N.Breakpoint?this.sendBreakpoints(t.uri):t instanceof N.FunctionBreakpoint?this.sendFunctionBreakpoints():this.sendExceptionBreakpoints()):(this.model.enableOrDisableAllBreakpoints(e),this.sendAllBreakpoints())},t.prototype.addBreakpoints=function(e,t){return this.model.addBreakpoints(e,t),t.forEach(function(t){return m.status(n.localize(4,null,t.lineNumber,e.fsPath))}),this.sendBreakpoints(e)},t.prototype.removeBreakpoints=function(e){var t=this,i=this.model.getBreakpoints().filter(function(t){return!e||t.getId()===e});i.forEach(function(e){return m.status(n.localize(5,null,e.lineNumber,e.uri.fsPath))});var r=l.distinct(i,function(e){return e.uri.toString()}).map(function(e){return e.uri});return this.model.removeBreakpoints(i),f.TPromise.join(r.map(function(e){return t.sendBreakpoints(e)}))},t.prototype.setBreakpointsActivated=function(e){return this.model.setBreakpointsActivated(e),this.sendAllBreakpoints()},t.prototype.addFunctionBreakpoint=function(){this.model.addFunctionBreakpoint("")},t.prototype.renameFunctionBreakpoint=function(e,t){return this.model.updateFunctionBreakpoints((n={},n[e]={name:t},n)),this.sendFunctionBreakpoints();var n},t.prototype.removeFunctionBreakpoints=function(e){return this.model.removeFunctionBreakpoints(e),this.sendFunctionBreakpoints()},t.prototype.addReplExpression=function(e){var t=this;return this.telemetryService.publicLog("debugService/addReplExpression"),this.model.addReplExpression(this.viewModel.focusedProcess,this.viewModel.focusedStackFrame,e).then(function(){return t.focusStackFrameAndEvaluate(t.viewModel.focusedStackFrame)})},t.prototype.removeReplExpressions=function(){this.model.removeReplExpressions()},t.prototype.addWatchExpression=function(e){return this.model.addWatchExpression(this.viewModel.focusedProcess,this.viewModel.focusedStackFrame,e)},t.prototype.renameWatchExpression=function(e,t){var n=this;return this.model.renameWatchExpression(this.viewModel.focusedProcess,this.viewModel.focusedStackFrame,e,t).then(function(){return n.focusStackFrameAndEvaluate(n.viewModel.focusedStackFrame)})},t.prototype.moveWatchExpression=function(e,t){this.model.moveWatchExpression(e,t)},t.prototype.removeWatchExpressions=function(e){this.model.removeWatchExpressions(e)},t.prototype.createProcess=function(e){var t=this;0===this.model.getProcesses().length&&this.removeReplExpressions();var i=a.generateUuid();return this.setStateAndEmit(i,O.State.Initializing),this.textFileService.saveAll().then(function(){return t.configurationService.reloadConfiguration().then(function(){return t.extensionService.onReady().then(function(){var r="string"==typeof e?t.configurationManager.getCompound(e):null;return r?r.configurations?f.TPromise.join(r.configurations.map(function(e){return t.createProcess(e)})):f.TPromise.wrapError(new Error(n.localize(6,null))):t.configurationManager.getConfiguration(e).then(function(e){return e?t.configurationManager.getAdapter(e.type)?t.runPreLaunchTask(e.preLaunchTask).then(function(r){var o=e.preLaunchTask?t.markerService.getStatistics().errors:0,s=r&&0===r.exitCode,a=r&&void 0!==r.exitCode&&0!==r.exitCode;return s||0===o&&!a?t.doCreateProcess(i,e):void t.messageService.show(p.default.Error,{message:o>1?n.localize(10,null,e.preLaunchTask):1===o?n.localize(11,null,e.preLaunchTask):n.localize(12,null,e.preLaunchTask,r.exitCode),actions:[new u.Action("debug.continue",n.localize(13,null),null,(!0),function(){return t.messageService.hideAll(),t.doCreateProcess(i,e)}),t.instantiationService.createInstance(z.ToggleMarkersPanelAction,z.ToggleMarkersPanelAction.ID,z.ToggleMarkersPanelAction.LABEL),T.CloseAction]})},function(e){if(e.code!==G.TaskErrors.NotConfigured)throw e;t.messageService.show(e.severity,{message:e.message,actions:[t.taskService.configureAction(),T.CloseAction]})}):e.type?f.TPromise.wrapError(new Error(n.localize(8,null,e.type))):f.TPromise.wrapError(d.create(n.localize(9,null),{actions:[t.instantiationService.createInstance(V.ConfigureAction,V.ConfigureAction.ID,V.ConfigureAction.LABEL),T.CloseAction]})):t.configurationManager.openConfigFile(!1).then(function(e){e&&t.messageService.show(p.default.Info,n.localize(7,null))})})})})})},t.prototype.doCreateProcess=function(t,i){var r=this;return this.telemetryService.getTelemetryInfo().then(function(e){var t=Object.create(null);return t["common.vscodemachineid"]=e.machineId,t["common.vscodesessionid"]=e.sessionId,t}).then(function(o){var s=r.configurationManager.getAdapter(i.type),a=s.aiKey,u=s.type,l=s.extensionDescription.publisher;r.customTelemetryService=null;var h;if(a){h=new y.Client(c.default.parse(e.toUrl("bootstrap")).fsPath,{serverName:"Debug Telemetry",timeout:3e5,args:[l+"."+u,JSON.stringify(o),a],env:{ELECTRON_RUN_AS_NODE:1,PIPE_LOGGING:"true",AMD_ENTRYPOINT:"vs/workbench/parts/debug/node/telemetryApp"}});var p=h.getChannel("telemetryAppender"),g=new L.TelemetryAppenderClient(p);r.customTelemetryService=new D.TelemetryService({appender:g},r.configurationService)}var v=r.instantiationService.createInstance(M.RawDebugSession,t,i.debugServer,s,r.customTelemetryService),m=r.model.addProcess(i.name,v);return r.model.getProcesses().length>1&&r.viewModel.setMultiProcessView(!0),r.viewModel.focusedProcess||(r.viewModel.setFocusedStackFrame(null,m),r._onDidChangeState.fire()),r.toDisposeOnSessionEnd[v.getId()]=[],h&&r.toDisposeOnSessionEnd[v.getId()].push(h),r.registerSessionListeners(m,v),v.initialize({adapterID:i.type,pathFormat:"path",linesStartAt1:!0,columnsStartAt1:!0,supportsVariableType:!0,supportsVariablePaging:!0,supportsRunInTerminalRequest:!0}).then(function(e){return v.disconnected?f.TPromise.wrapError(new Error(n.localize(14,null))):(r.model.setExceptionBreakpoints(v.configuration.capabilities.exceptionBreakpointFilters),"attach"===i.request?v.attach(i):v.launch(i))}).then(function(e){return v.disconnected?f.TPromise.as(null):(("openOnSessionStart"===i.internalConsoleOptions||!r.viewModel.changedWorkbenchViewState&&"neverOpen"!==i.internalConsoleOptions)&&r.panelService.openPanel(O.REPL_ID,!1).done(void 0,d.onUnexpectedError),!r.viewModel.changedWorkbenchViewState&&r.partService.isVisible($.Parts.SIDEBAR_PART)&&(r.viewModel.changedWorkbenchViewState=!0,r.viewletService.openViewlet(O.VIEWLET_ID)),i.noDebug||r.partService.addClass("debugging"),r.extensionService.activateByEvent("onDebug:"+i.type).done(null,d.onUnexpectedError),r.inDebugMode.set(!0),r.transitionToRunningState(v),void r.telemetryService.publicLog("debugSessionStart",{type:i.type,breakpointCount:r.model.getBreakpoints().length,exceptionBreakpoints:r.model.getExceptionBreakpoints(),watchExpressionsCount:r.model.getWatchExpressions().length,extensionName:s.extensionDescription.publisher+"."+s.extensionDescription.name,isBuiltin:s.extensionDescription.isBuiltin}))}).then(void 0,function(e){if(e instanceof Error&&"Canceled"===e.message)return f.TPromise.as(null);r.telemetryService.publicLog("debugMisconfiguration",{type:i?i.type:void 0}),r.setStateAndEmit(v.getId(),O.State.Inactive),v.disconnected||v.disconnect().done(null,d.onUnexpectedError),r.model.getReplElements().length>0&&r.panelService.openPanel(O.REPL_ID,!1).done(void 0,d.onUnexpectedError);var t=r.instantiationService.createInstance(V.ConfigureAction,V.ConfigureAction.ID,V.ConfigureAction.LABEL),n=e.actions&&e.actions.length?e.actions.concat([t]):[T.CloseAction,t];return f.TPromise.wrapError(d.create(e.message,{actions:n}))})})},t.prototype.runPreLaunchTask=function(e){var t=this;return e?this.taskService.tasks().then(function(i){var r=i.filter(function(t){return t.name===e});if(1!==r.length)return f.TPromise.wrapError(d.create(n.localize(15,null,e),{actions:[t.instantiationService.createInstance(V.ConfigureAction,V.ConfigureAction.ID,V.ConfigureAction.LABEL),t.taskService.configureAction(),T.CloseAction]}));if(t.lastTaskEvent&&t.lastTaskEvent.taskName===e)return f.TPromise.as(null);if(t.lastTaskEvent)return f.TPromise.wrapError(d.create(n.localize(16,null,t.lastTaskEvent.taskName,e)));var o=t.taskService.run(r[0].id).then(function(e){return t.lastTaskEvent=null,e},function(e){t.lastTaskEvent=null});return r[0].isWatching?new f.TPromise(function(e,n){return t.taskService.addOneTimeDisposableListener(U.TaskServiceEvents.Inactive,function(){return e(null)})}):o}):f.TPromise.as(null)},t.prototype.rawAttach=function(e,t){var n=this;if(e)return e.attach({port:t});var i=a.generateUuid();return this.setStateAndEmit(i,O.State.Initializing),this.configurationManager.getConfiguration(this.viewModel.selectedConfigurationName).then(function(e){e.request="attach",e.port=t,n.doCreateProcess(i,e)})},t.prototype.restartProcess=function(e){var t=this;return e?e.session.configuration.capabilities.supportsRestartRequest?e.session.custom("restart",null):e.session.disconnect(!0).then(function(){return new f.TPromise(function(n,i){setTimeout(function(){t.createProcess(e.name).then(function(){return n(null)},function(e){return i(e)})},300)})}):this.createProcess(this.viewModel.selectedConfigurationName)},t.prototype.onSessionEnd=function(e){var t=this.model.getBreakpoints().length>0;this.telemetryService.publicLog("debugSessionStop",{type:e.configuration.type,success:e.emittedStopped||!t,sessionLengthInSeconds:e.getLengthInSeconds(),breakpointCount:this.model.getBreakpoints().length,watchExpressionsCount:this.model.getWatchExpressions().length});try{this.toDisposeOnSessionEnd[e.getId()]=i.dispose(this.toDisposeOnSessionEnd[e.getId()])}catch(e){}if(this.model.removeProcess(e.getId()),this.focusStackFrameAndEvaluate(null).done(null,d.onUnexpectedError),this.setStateAndEmit(e.getId(),O.State.Inactive),0===this.model.getProcesses().length){this.partService.removeClass("debugging");var n={};this.model.getBreakpoints().forEach(function(e){n[e.getId()]={line:e.lineNumber,verified:!1}}),this.model.updateBreakpoints(n),this.inDebugMode.reset(),this.viewModel.setMultiProcessView(!1),this.partService.isVisible($.Parts.SIDEBAR_PART)&&this.configurationService.getConfiguration("debug").openExplorerOnEnd&&this.viewletService.openViewlet(K.VIEWLET_ID).done(null,d.onUnexpectedError)}},t.prototype.getModel=function(){return this.model},t.prototype.getViewModel=function(){return this.viewModel},t.prototype.openOrRevealSource=function(e,t,n,i){for(var o=this,s=this.editorService.getVisibleEditors(),a=e instanceof H.Source?e.uri:e,c=e instanceof H.Source?e:null,u=0;u<s.length;u++){var l=R.asFileEditorInput(s[u].input);if(l&&l.getResource().toString()===a.toString()||s[u].input instanceof F.DebugStringEditorInput&&s[u].input.getResource().toString()===a.toString()){var h=s[u].getControl();return h&&(h.revealLineInCenterIfOutsideViewport(t),h.setSelection({startLineNumber:t,startColumn:1,endLineNumber:t,endColumn:1}),this.editorGroupService.activateGroup(u),n||this.editorGroupService.focusGroup(u)),f.TPromise.as(null)}}var d=this.viewModel.focusedProcess;return d&&c&&c.inMemory?0!==c.reference&&c.available?d.session.source({sourceReference:c.reference}).then(function(e){var t=e&&e.body&&e.body.mimeType?e.body.mimeType:r.guessMimeTypes(c.name)[0],n=e&&e.body?e.body.content:"";return o.getDebugStringEditorInput(d,c,n,t)},function(e){return o.getDebugErrorEditorInput(d,c,e.message)}).then(function(e){return o.editorService.openEditor(e,{preserveFocus:n,selection:{startLineNumber:t,startColumn:1,endLineNumber:t,endColumn:1}},i)}):this.sourceIsUnavailable(d,c,i):H.Source.isInMemory(a)?f.TPromise.as(null):this.fileService.resolveFile(a).then(function(){return o.editorService.openEditor({resource:a,options:{selection:{startLineNumber:t,startColumn:1,endLineNumber:t,endColumn:1},preserveFocus:n}},i)},function(e){return o.sourceIsUnavailable(d,c,i)})},t.prototype.sourceIsUnavailable=function(e,t,i){this.model.sourceIsUnavailable(t);var r=this.getDebugErrorEditorInput(e,t,n.localize(17,null,t.name));return this.editorService.openEditor(r,{preserveFocus:!0},i)},t.prototype.getConfigurationManager=function(){return this.configurationManager},t.prototype.transitionToRunningState=function(e,t){this.model.clearThreads(e.getId(),!1,t),this.setStateAndEmit(e.getId(),e.requestType===O.SessionRequestType.LAUNCH_NO_DEBUG?O.State.RunningNoDebug:O.State.Running),this.focusStackFrameAndEvaluate(null).done(null,d.onUnexpectedError)},t.prototype.getDebugStringEditorInput=function(e,t,n,i){var r=this.instantiationService.createInstance(F.DebugStringEditorInput,t.name,t.uri,t.origin,n,i,void 0);return this.toDisposeOnSessionEnd[e.getId()].push(r),r},t.prototype.getDebugErrorEditorInput=function(e,t,n){var i=this.instantiationService.createInstance(F.DebugErrorEditorInput,t.name,n);return this.toDisposeOnSessionEnd[e.getId()].push(i),i},t.prototype.sendAllBreakpoints=function(e){var t=this;return f.TPromise.join(l.distinct(this.model.getBreakpoints(),function(e){return e.uri.toString()}).map(function(n){return t.sendBreakpoints(n.uri,!1,e)})).then(function(){return t.sendFunctionBreakpoints(e)}).then(function(){return t.sendExceptionBreakpoints(e)})},t.prototype.sendBreakpoints=function(e,t,n){var i=this;void 0===t&&(t=!1);var r=function(n){var r=n.session;if(!r.readyForBreakpoints)return f.TPromise.as(null);if(i.textFileService.isDirty(e))return i.breakpointsToSendOnResourceSaved[e.toString()]=!0,f.TPromise.as(null);for(var o,a=l.distinct(i.model.getBreakpoints().filter(function(t){return i.model.areBreakpointsActivated()&&t.enabled&&t.uri.toString()===e.toString()}),function(e){return e.lineNumber.toString()}),c=0,u=n.getAllThreads();c<u.length;c++){var h=u[c],d=h.getCallStack();if(d)for(var p=0,g=d;p<g.length;p++){var v=g[p];if(v.source.uri.toString()===e.toString()){o=v.source.raw;break}}}return o=o||{path:s.normalize(e.fsPath,!0),name:s.basename(e.fsPath)},r.setBreakpoints({source:o,lines:a.map(function(e){return e.lineNumber}),breakpoints:a.map(function(e){return{line:e.lineNumber,condition:e.condition,hitCondition:e.hitCondition}}),sourceModified:t}).then(function(e){if(e&&e.body){for(var t={},n=0;n<a.length;n++)t[a[n].getId()]=e.body.breakpoints[n];i.model.updateBreakpoints(t)}})};return this.sendToOneOrAllProcesses(n,r)},t.prototype.sendFunctionBreakpoints=function(e){var t=this,n=function(e){var n=e.session;if(!n.readyForBreakpoints||!n.configuration.capabilities.supportsFunctionBreakpoints)return f.TPromise.as(null);var i=t.model.getFunctionBreakpoints().filter(function(e){return e.enabled&&t.model.areBreakpointsActivated()});return n.setFunctionBreakpoints({breakpoints:i}).then(function(e){if(e&&e.body){for(var n={},r=0;r<i.length;r++)n[i[r].getId()]=e.body.breakpoints[r];t.model.updateFunctionBreakpoints(n)}})};return this.sendToOneOrAllProcesses(e,n)},t.prototype.sendExceptionBreakpoints=function(e){var t=this,n=function(e){var n=e.session;if(!n.readyForBreakpoints||0===t.model.getExceptionBreakpoints().length)return f.TPromise.as(null);var i=t.model.getExceptionBreakpoints().filter(function(e){return e.enabled});return n.setExceptionBreakpoints({filters:i.map(function(e){return e.filter})})};return this.sendToOneOrAllProcesses(e,n)},t.prototype.sendToOneOrAllProcesses=function(e,t){return e?t(e):f.TPromise.join(this.model.getProcesses().map(function(e){return t(e)})).then(function(){})},t.prototype.onFileChanges=function(e){var t=this;this.model.removeBreakpoints(this.model.getBreakpoints().filter(function(t){return e.contains(t.uri,w.FileChangeType.DELETED)})),e.getUpdated().forEach(function(e){t.breakpointsToSendOnResourceSaved[e.resource.toString()]&&(t.breakpointsToSendOnResourceSaved[e.resource.toString()]=!1,t.sendBreakpoints(e.resource,!0).done(null,d.onUnexpectedError))})},t.prototype.store=function(){this.storageService.store(te,JSON.stringify(this.model.getBreakpoints()),k.StorageScope.WORKSPACE),this.storageService.store(ne,this.model.areBreakpointsActivated()?"true":"false",k.StorageScope.WORKSPACE),this.storageService.store(ie,JSON.stringify(this.model.getFunctionBreakpoints()),k.StorageScope.WORKSPACE),this.storageService.store(re,JSON.stringify(this.model.getExceptionBreakpoints()),k.StorageScope.WORKSPACE),this.storageService.store(se,this.viewModel.selectedConfigurationName,k.StorageScope.WORKSPACE),this.storageService.store(oe,JSON.stringify(this.model.getWatchExpressions().map(function(e){return{name:e.name,id:e.getId()}})),k.StorageScope.WORKSPACE)},t.prototype.dispose=function(){var e=this;Object.keys(this.toDisposeOnSessionEnd).forEach(function(t){return i.dispose(e.toDisposeOnSessionEnd[t])}),this.toDispose=i.dispose(this.toDispose)},t=g([v(0,k.IStorageService),v(1,Z.IWorkbenchEditorService),v(2,Y.ITextFileService),v(3,j.IViewletService),v(4,q.IPanelService),v(5,w.IFileService),v(6,T.IMessageService),v(7,$.IPartService),v(8,x.IWindowsService),v(9,J.IWindowIPCService),v(10,A.ITelemetryService),v(11,Q.IWorkspaceContextService),v(12,b.IContextKeyService),v(13,P.IEditorGroupService),v(14,I.IEventService),v(15,E.ILifecycleService),v(16,C.IInstantiationService),v(17,_.IExtensionService),v(18,S.IMarkerService),v(19,U.ITaskService),v(20,X.IConfigurationService)],t)}();t.DebugService=ae}),define(l[1212],h([1,0,499,31,14,102,84,87,77,37,65,89,294,1169,71,72,82,45,76,907,116,1038,1211,293,902,53,28,22,758,762,1041]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L){"use strict";var k=b.IDebugService,P=function(e){function t(t,n,i,r){e.call(this,t,n,b.VIEWLET_ID,i,r)}return d(t,e),t.ID=b.VIEWLET_ID,t.LABEL=n.localize(0,null),t=g([v(2,A.IViewletService),v(3,L.IWorkbenchEditorService)],t)}(l.ToggleViewletAction),R=function(e){function t(t,n,i,r){e.call(this,t,n,b.REPL_ID,i,r)}return d(t,e),t.ID="workbench.debug.action.toggleRepl",t.LABEL=n.localize(1,null),t=g([v(2,E.IPanelService),v(3,S.IPartService)],t)}(h.TogglePanelAction);r.Registry.as(l.Extensions.Viewlets).registerViewlet(new l.ViewletDescriptor("vs/workbench/parts/debug/browser/debugViewlet","DebugViewlet",b.VIEWLET_ID,n.localize(2,null),"debug",40));var O={primary:49186},M={primary:49207};r.Registry.as(h.Extensions.Panels).registerPanel(new h.PanelDescriptor("vs/workbench/parts/debug/electron-browser/repl","Repl",b.REPL_ID,n.localize(3,null),"repl",30)),r.Registry.as(h.Extensions.Panels).setDefaultPanelId(b.REPL_ID),p.DebugViewRegistry.registerDebugView(f.VariablesView,10),p.DebugViewRegistry.registerDebugView(f.WatchExpressionsView,20),p.DebugViewRegistry.registerDebugView(f.CallStackView,30),p.DebugViewRegistry.registerDebugView(f.BreakpointsView,40);var N=r.Registry.as(u.Extensions.WorkbenchActions);N.registerWorkbenchAction(new i.SyncActionDescriptor(R,R.ID,R.LABEL,M),"View: Debug Console",n.localize(4,null)),N.registerWorkbenchAction(new i.SyncActionDescriptor(P,P.ID,P.LABEL,O),"View: Show Debug",n.localize(5,null)),r.Registry.as(m.Extensions.Workbench).registerWorkbenchContribution(_.DebugEditorModelManager),r.Registry.as(m.Extensions.Workbench).registerWorkbenchContribution(w.DebugActionsWidget);var F=n.localize(6,null);N.registerWorkbenchAction(new i.SyncActionDescriptor(C.StartAction,C.StartAction.ID,C.StartAction.LABEL,{primary:63},b.CONTEXT_NOT_IN_DEBUG_MODE),"Debug: Start Debugging",F),N.registerWorkbenchAction(new i.SyncActionDescriptor(C.StepOverAction,C.StepOverAction.ID,C.StepOverAction.LABEL,{primary:68},b.CONTEXT_IN_DEBUG_MODE),"Debug: Step Over",F),N.registerWorkbenchAction(new i.SyncActionDescriptor(C.StepIntoAction,C.StepIntoAction.ID,C.StepIntoAction.LABEL,{primary:69},b.CONTEXT_IN_DEBUG_MODE,s.KeybindingsRegistry.WEIGHT.workbenchContrib(1)),"Debug: Step Into",F),N.registerWorkbenchAction(new i.SyncActionDescriptor(C.StepOutAction,C.StepOutAction.ID,C.StepOutAction.LABEL,{primary:16453},b.CONTEXT_IN_DEBUG_MODE),"Debug: Step Out",F),N.registerWorkbenchAction(new i.SyncActionDescriptor(C.RestartAction,C.RestartAction.ID,C.RestartAction.LABEL,{primary:49215},b.CONTEXT_IN_DEBUG_MODE),"Debug: Restart",F),N.registerWorkbenchAction(new i.SyncActionDescriptor(C.StopAction,C.StopAction.ID,C.StopAction.LABEL,{primary:16447},b.CONTEXT_IN_DEBUG_MODE),"Debug: Stop",F),N.registerWorkbenchAction(new i.SyncActionDescriptor(C.DisconnectAction,C.DisconnectAction.ID,C.DisconnectAction.LABEL),"Debug: Disconnect",F),N.registerWorkbenchAction(new i.SyncActionDescriptor(C.ContinueAction,C.ContinueAction.ID,C.ContinueAction.LABEL,{primary:63},b.CONTEXT_IN_DEBUG_MODE),"Debug: Continue",F),N.registerWorkbenchAction(new i.SyncActionDescriptor(C.PauseAction,C.PauseAction.ID,C.PauseAction.LABEL),"Debug: Pause",F),N.registerWorkbenchAction(new i.SyncActionDescriptor(C.ConfigureAction,C.ConfigureAction.ID,C.ConfigureAction.LABEL),"Debug: Open launch.json",F),N.registerWorkbenchAction(new i.SyncActionDescriptor(C.AddFunctionBreakpointAction,C.AddFunctionBreakpointAction.ID,C.AddFunctionBreakpointAction.LABEL),"Debug: Add Function Breakpoint",F),N.registerWorkbenchAction(new i.SyncActionDescriptor(C.ReapplyBreakpointsAction,C.ReapplyBreakpointsAction.ID,C.ReapplyBreakpointsAction.LABEL),"Debug: Reapply All Breakpoints",F),N.registerWorkbenchAction(new i.SyncActionDescriptor(C.RunAction,C.RunAction.ID,C.RunAction.LABEL,{primary:32831},b.CONTEXT_NOT_IN_DEBUG_MODE),"Debug: Start Without Debugging",F),N.registerWorkbenchAction(new i.SyncActionDescriptor(C.RemoveAllBreakpointsAction,C.RemoveAllBreakpointsAction.ID,C.RemoveAllBreakpointsAction.LABEL),"Debug: Remove All Breakpoints",F),N.registerWorkbenchAction(new i.SyncActionDescriptor(C.EnableAllBreakpointsAction,C.EnableAllBreakpointsAction.ID,C.EnableAllBreakpointsAction.LABEL),"Debug: Enable All Breakpoints",F),N.registerWorkbenchAction(new i.SyncActionDescriptor(C.DisableAllBreakpointsAction,C.DisableAllBreakpointsAction.ID,C.DisableAllBreakpointsAction.LABEL),"Debug: Disable All Breakpoints",F),N.registerWorkbenchAction(new i.SyncActionDescriptor(C.ClearReplAction,C.ClearReplAction.ID,C.ClearReplAction.LABEL),"Debug: Clear Debug Console",F),N.registerWorkbenchAction(new i.SyncActionDescriptor(C.FocusReplAction,C.FocusReplAction.ID,C.FocusReplAction.LABEL),"Debug: Focus Debug Console",F),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"_workbench.startDebug",weight:s.KeybindingsRegistry.WEIGHT.workbenchContrib(0),handler:function(e,t){var n=e.get(b.IDebugService);return n.createProcess(t)},when:b.CONTEXT_NOT_IN_DEBUG_MODE,primary:void 0}),o.registerSingleton(k,I.DebugService),r.Registry.as(D.Extensions.Editors).registerEditor(new y.EditorDescriptor(x.DebugErrorEditor.ID,n.localize(7,null),"vs/workbench/parts/debug/browser/debugErrorEditor","DebugErrorEditor"),[new a.SyncDescriptor(T.DebugErrorEditorInput)]);var W=r.Registry.as(c.Extensions.Configuration);W.registerConfiguration({id:"debug",order:20,title:n.localize(8,null),type:"object",properties:{"debug.allowBreakpointsEverywhere":{type:"boolean",description:n.localize(9,null),default:!1},"debug.openExplorerOnEnd":{type:"boolean",description:n.localize(10,null),default:!1}}})}),define(l[402],h([1,0,543,2,24,32,20,167,106,6,18,51,83,63]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f){"use strict";var m=p.remote.dialog,y=function(e){function t(t,n,i,r){e.call(this,t,n,null,!0),this.windowsService=i,this.environmentService=r}return d(t,e),t.prototype.run=function(){var e=this.environmentService.extensionsPath;return this.windowsService.showItemInFolder(s.normalize(e,!0))},t.prototype.isEnabled=function(){return!0},t.ID="workbench.extensions.action.openExtensionsFolder",t.LABEL=n.localize(0,null),t=g([v(2,f.IWindowsService),v(3,h.IEnvironmentService)],t)}(r.Action);t.OpenExtensionsFolderAction=y;var b=function(e){function t(n,i,r,o,s){void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,i,"extension-action install-vsix",!0),this.extensionsWorkbenchService=r,this.messageService=o,this.instantiationService=s}return d(t,e),t.prototype.run=function(){var e=this,t=m.showOpenDialog(p.remote.getCurrentWindow(),{filters:[{name:"VSIX Extensions",extensions:["vsix"]}],properties:["openFile"]});return t?i.TPromise.join(t.map(function(t){return e.extensionsWorkbenchService.install(t)})).then(function(){e.messageService.show(o.default.Info,{message:n.localize(2,null),actions:[e.instantiationService.createInstance(a.ReloadWindowAction,a.ReloadWindowAction.ID,n.localize(3,null))]})}):i.TPromise.as(null)},t.ID="workbench.extensions.action.installVSIX",t.LABEL=n.localize(1,null),t=g([v(2,c.IExtensionsWorkbenchService),v(3,l.IMessageService),v(4,u.IInstantiationService)],t)}(r.Action);t.InstallVSIXAction=b}),define(l[403],h([1,0,544,17,2,7,5,30,11,130,43,78,65,53,8,390,19,1056,6,1176,106,162,402,88,280,306,273,123,22,41,18,32,165,75,779]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P,R,O,M,N){"use strict";var F=function(e){function t(t,n,r,o,s,a,c,u,l,h,d,p){e.call(this,C.VIEWLET_ID,t),this.galleryService=n,this.extensionManagementService=r,this.progressService=o,this.instantiationService=s,this.editorService=a,this.editorInputService=c,this.extensionsWorkbenchService=u,this.tipsService=l,this.messageService=h,this.viewletService=d,this.extensionService=p,this.disposables=[],this.searchDelayer=new i.ThrottledDelayer(500),this.disposables.push(d.onDidViewletOpen(this.onViewletOpen,this,this.disposables))}return d(t,e),t.prototype.create=function(t){var i=this;e.prototype.create.call(this,t),t.addClass("extensions-viewlet"),this.root=t.getHTMLElement();var o=m.append(this.root,m.$(".header"));this.searchBox=m.append(o,m.$("input.search-box")),this.searchBox.placeholder=n.localize(0,null),this.disposables.push(m.addStandardDisposableListener(this.searchBox,m.EventType.FOCUS,function(){return m.addClass(i.searchBox,"synthetic-focus")})),this.disposables.push(m.addStandardDisposableListener(this.searchBox,m.EventType.BLUR,function(){return m.removeClass(i.searchBox,"synthetic-focus")})),this.extensionsBox=m.append(this.root,m.$(".extensions")),this.messageBox=m.append(this.root,m.$(".message"));var s=new _.Delegate,a=this.instantiationService.createInstance(_.Renderer);this.list=new S.PagedList(this.extensionsBox,s,[a]);var l=c.chain(u.domEvent(this.searchBox,"keydown")).map(function(e){return new h.StandardKeyboardEvent(e)});l.filter(function(e){return 3===e.keyCode}).on(this.onEnter,this,this.disposables),l.filter(function(e){return 9===e.keyCode}).on(this.onEscape,this,this.disposables),l.filter(function(e){return 16===e.keyCode}).on(this.onUpArrow,this,this.disposables),l.filter(function(e){return 18===e.keyCode}).on(this.onDownArrow,this,this.disposables),l.filter(function(e){return 11===e.keyCode}).on(this.onPageUpArrow,this,this.disposables),l.filter(function(e){return 12===e.keyCode}).on(this.onPageDownArrow,this,this.disposables);var d=u.domEvent(this.searchBox,"input");return d(function(e){return i.triggerSearch(e.target.value,e.immediate)},null,this.disposables),this.onSearchChange=c.mapEvent(d,function(e){return e.target.value}),c.chain(this.list.onSelectionChange).map(function(e){return e.elements[0]}).filter(function(e){return!!e}).on(this.openExtension,this,this.disposables),r.TPromise.as(null)},t.prototype.setVisible=function(t){var n=this;return e.prototype.setVisible.call(this,t).then(function(){t?(n.searchBox.focus(),n.searchBox.setSelectionRange(0,n.searchBox.value.length),n.triggerSearch(n.searchBox.value,!0,!0)):n.setModel(new y.PagedModel([]))})},t.prototype.focus=function(){this.searchBox.focus()},t.prototype.layout=function(e){var t=e.height,n=e.width;this.list.layout(t-38),m.toggleClass(this.root,"narrow",n<=300)},t.prototype.getOptimalWidth=function(){return 400},t.prototype.getActions=function(){return this.primaryActions||(this.primaryActions=[this.instantiationService.createInstance(w.ClearExtensionsInputAction,w.ClearExtensionsInputAction.ID,w.ClearExtensionsInputAction.LABEL,this.onSearchChange)]),this.primaryActions},t.prototype.getSecondaryActions=function(){return this.secondaryActions||(this.secondaryActions=[this.instantiationService.createInstance(w.ShowInstalledExtensionsAction,w.ShowInstalledExtensionsAction.ID,w.ShowInstalledExtensionsAction.LABEL),this.instantiationService.createInstance(w.ShowOutdatedExtensionsAction,w.ShowOutdatedExtensionsAction.ID,w.ShowOutdatedExtensionsAction.LABEL),this.instantiationService.createInstance(w.ShowDisabledExtensionsAction,w.ShowDisabledExtensionsAction.ID,w.ShowDisabledExtensionsAction.LABEL),this.instantiationService.createInstance(w.ShowRecommendedExtensionsAction,w.ShowRecommendedExtensionsAction.ID,w.ShowRecommendedExtensionsAction.LABEL),this.instantiationService.createInstance(w.ShowWorkspaceRecommendedExtensionsAction,w.ShowWorkspaceRecommendedExtensionsAction.ID,w.ShowWorkspaceRecommendedExtensionsAction.LABEL),this.instantiationService.createInstance(w.ShowRecommendedKeymapExtensionsAction,w.ShowRecommendedKeymapExtensionsAction.ID,w.ShowRecommendedKeymapExtensionsAction.LABEL),this.instantiationService.createInstance(w.ShowPopularExtensionsAction,w.ShowPopularExtensionsAction.ID,w.ShowPopularExtensionsAction.LABEL),new l.Separator,this.instantiationService.createInstance(w.ChangeSortAction,"extensions.sort.install",n.localize(1,null),this.onSearchChange,"installs",void 0),this.instantiationService.createInstance(w.ChangeSortAction,"extensions.sort.rating",n.localize(2,null),this.onSearchChange,"rating",void 0),new l.Separator,this.instantiationService.createInstance(w.ChangeSortAction,"extensions.sort..asc",n.localize(3,null),this.onSearchChange,void 0,"asc"),this.instantiationService.createInstance(w.ChangeSortAction,"extensions.sort..desc",n.localize(4,null),this.onSearchChange,void 0,"desc"),new l.Separator,this.instantiationService.createInstance(w.CheckForUpdatesAction,w.CheckForUpdatesAction.ID,w.CheckForUpdatesAction.LABEL),this.instantiationService.createInstance(w.UpdateAllAction,w.UpdateAllAction.ID,w.UpdateAllAction.LABEL),this.instantiationService.createInstance(I.InstallVSIXAction,I.InstallVSIXAction.ID,I.InstallVSIXAction.LABEL)]),this.secondaryActions},t.prototype.setModel=function(e){this.list.model=e,this.list.scrollTop=0,m.toggleClass(this.extensionsBox,"hidden",0===e.length),m.toggleClass(this.messageBox,"hidden",e.length>0),0===e.length&&this.isVisible()?this.messageBox.textContent=n.localize(5,null):this.messageBox.textContent=""},t.prototype.search=function(e){var t=new Event("input",{bubbles:!0});t.immediate=!0,this.searchBox.value=e,this.searchBox.dispatchEvent(t)},t.prototype.triggerSearch=function(e,t,n){var i=this;void 0===t&&(t=!1),void 0===n&&(n=!1),this.searchDelayer.trigger(function(){return i.doSearch(e,n)},t||!e?0:500).done(null,function(e){return i.onError(e)})},t.prototype.doSearch=function(e,t){var n=this;return void 0===e&&(e=""),void 0===t&&(t=!1),this.progress(this.query(e)).then(function(i){return!e&&0===i.length&&t?n.search("@sort:installs "):void n.setModel(i)})},t.prototype.query=function(e){var t=this;if(!e)return this.extensionsWorkbenchService.queryLocal().then(function(e){return e.sort(function(e,t){return e.displayName.localeCompare(t.displayName)})}).then(function(e){return e.filter(function(e){return e.type===T.LocalExtensionType.User})}).then(function(e){return new y.PagedModel(e)});if(/@outdated/i.test(e))return this.extensionsWorkbenchService.queryLocal().then(function(e){return e.sort(function(e,t){return e.displayName.localeCompare(t.displayName)})}).then(function(e){return e.filter(function(e){return e.outdated})}).then(function(e){return new y.PagedModel(e)});if(/@disabled/i.test(e))return this.extensionsWorkbenchService.queryLocal().then(function(e){return e.sort(function(e,t){return e.displayName.localeCompare(t.displayName)})}).then(function(e){return t.extensionService.getExtensions().then(function(t){return e.filter(function(e){return t.every(function(t){
return t.id!==e.identifier})})})}).then(function(e){return new y.PagedModel(e)});var n=A.Query.parse(e),i={};switch(n.sortBy){case"installs":i=a.assign(i,{sortBy:T.SortBy.InstallCount});break;case"rating":i=a.assign(i,{sortBy:T.SortBy.AverageRating})}switch(n.sortOrder){case"asc":i=a.assign(i,{sortOrder:T.SortOrder.Ascending});break;case"desc":i=a.assign(i,{sortOrder:T.SortOrder.Descending})}if(/@recommended:workspace/i.test(n.value))return this.getWorkspaceRecommendationsModel(n,i);if(/@recommended:keymaps/i.test(n.value))return this.getKeymapRecommendationsModel(n,i);if(/@recommended/i.test(n.value))return this.getRecommendationsModel(n,i);var r=e=n.value.replace(/\bext:([^\s]+)\b/g,'tag:"__ext_$1"').substr(0,200);return r&&(i=a.assign(i,{text:r})),this.extensionsWorkbenchService.queryGallery(i).then(function(e){return new y.PagedModel(e)})},t.prototype.getRecommendationsModel=function(e,t){var n=this,i=e.value.replace(/@recommended/g,"").trim().toLowerCase();return this.extensionsWorkbenchService.queryLocal().then(function(e){return e.filter(function(e){return e.type===T.LocalExtensionType.User})}).then(function(e){var o=n.tipsService.getRecommendations().filter(function(t){return e.every(function(e){return e.publisher+"."+e.name!==t})}).filter(function(e){return e.toLowerCase().indexOf(i)>-1});return n.telemetryService.publicLog("extensionRecommendations:open",{count:o.length}),o.length?n.extensionsWorkbenchService.queryGallery(a.assign(t,{names:o,pageSize:o.length})).then(function(e){return new y.PagedModel(e)}):r.TPromise.as(new y.PagedModel([]))})},t.prototype.getWorkspaceRecommendationsModel=function(e,t){var n=this,i=e.value.replace(/@recommended:workspace/g,"").trim().toLowerCase();return this.tipsService.getWorkspaceRecommendations().then(function(e){var o=e.filter(function(e){return e.toLowerCase().indexOf(i)>-1});return n.telemetryService.publicLog("extensionWorkspaceRecommendations:open",{count:o.length}),o.length?n.extensionsWorkbenchService.queryGallery(a.assign(t,{names:o,pageSize:o.length})).then(function(e){return new y.PagedModel(e)}):r.TPromise.as(new y.PagedModel([]))})},t.prototype.getKeymapRecommendationsModel=function(e,t){var n=e.value.replace(/@recommended:keymaps/g,"").trim().toLowerCase(),i=this.tipsService.getKeymapRecommendations().filter(function(e){return e.toLowerCase().indexOf(n)>-1});return this.telemetryService.publicLog("extensionKeymapRecommendations:open",{count:i.length}),i.length?this.extensionsWorkbenchService.queryGallery(a.assign(t,{names:i,pageSize:i.length})).then(function(e){return new y.PagedModel(e)}):r.TPromise.as(new y.PagedModel([]))},t.prototype.openExtension=function(e){var t=this;this.extensionsWorkbenchService.open(e).done(null,function(e){return t.onError(e)})},t.prototype.onEnter=function(){(e=this.list).setSelection.apply(e,this.list.getFocus());var e},t.prototype.onEscape=function(){this.search("")},t.prototype.onUpArrow=function(){this.list.focusPrevious(),this.list.reveal(this.list.getFocus()[0])},t.prototype.onDownArrow=function(){this.list.focusNext(),this.list.reveal(this.list.getFocus()[0])},t.prototype.onPageUpArrow=function(){this.list.focusPreviousPage(),this.list.reveal(this.list.getFocus()[0])},t.prototype.onPageDownArrow=function(){this.list.focusNextPage(),this.list.reveal(this.list.getFocus()[0])},t.prototype.progress=function(e){var t=this.progressService.show(!0);return i.always(e,function(){return t.done()})},t.prototype.onViewletOpen=function(e){var t=this;if(e&&e.getId()!==C.VIEWLET_ID){var n=this.editorInputService.getStacksModel(),i=n.groups.map(function(e){var i=n.positionOfGroup(e),o=e.getEditors().filter(function(e){return e instanceof x.ExtensionsInput}),s=o.map(function(e){return t.editorService.closeEditor(i,e)});return r.TPromise.join(s)});r.TPromise.join(i).done(null,o.onUnexpectedError)}},t.prototype.onError=function(e){if(!o.isPromiseCanceledError(e)){var t=e&&e.message||"";if(/ECONNREFUSED/.test(t)){var i=o.create(n.localize(6,null),{actions:[this.instantiationService.createInstance(D.OpenGlobalSettingsAction,D.OpenGlobalSettingsAction.ID,D.OpenGlobalSettingsAction.LABEL),R.CloseAction]});return void this.messageService.show(O.default.Error,i)}this.messageService.show(O.default.Error,e)}},t.prototype.dispose=function(){this.disposables=s.dispose(this.disposables),e.prototype.dispose.call(this)},t=g([v(0,b.ITelemetryService),v(1,T.IExtensionGalleryService),v(2,T.IExtensionManagementService),v(3,L.IProgressService),v(4,E.IInstantiationService),v(5,k.IWorkbenchEditorService),v(6,P.IEditorGroupService),v(7,C.IExtensionsWorkbenchService),v(8,T.IExtensionTipsService),v(9,R.IMessageService),v(10,f.IViewletService),v(11,N.IExtensionService)],t)}(p.Viewlet);t.ExtensionsViewlet=F;var W=function(){function e(e,t){this.activityBarService=e,this.extensionsWorkbenchService=t,t.onChange(this.onServiceChange,this,this.disposables)}return e.prototype.getId=function(){return"vs.extensions.statusupdater"},e.prototype.onServiceChange=function(){if(this.extensionsWorkbenchService.local.some(function(e){return e.state===C.ExtensionState.Installing}))return void this.activityBarService.showActivity(C.VIEWLET_ID,new M.ProgressBadge(function(){return n.localize(7,null)}),"extensions-badge progress-badge");var e=this.extensionsWorkbenchService.local.reduce(function(e,t){return e+(t.outdated?1:0)},0);if(e>0){var t=new M.NumberBadge(e,function(e){return n.localize(8,null,e)});this.activityBarService.showActivity(C.VIEWLET_ID,t,"extensions-badge count-badge")}else this.activityBarService.showActivity(C.VIEWLET_ID,null,"extensions-badge")},e.prototype.dispose=function(){this.disposables=s.dispose(this.disposables)},e=g([v(0,M.IActivityBarService),v(1,C.IExtensionsWorkbenchService)],e)}();t.StatusUpdater=W}),define(l[1215],h([1,0,29,5,30,13,36,629,14,19,26,71,69,368,167,162,140,344,260,45,116,184,273,254,396,846]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S,E,_,C,w,I,T){"use strict";var x={text:a.localize(0,null),ids:[S.ShowAllCommandsAction.ID]},A={text:a.localize(1,null),ids:[p.GlobalQuickOpenAction.ID]},D={text:a.localize(2,null),ids:[b.OpenFileAction.ID],mac:!1},L={text:a.localize(3,null),ids:[b.OpenFolderAction.ID],mac:!1},k={text:a.localize(4,null),ids:[b.OpenFileFolderAction.ID],mac:!0},P={text:a.localize(5,null),ids:[f.OpenRecentAction.ID]},R={text:a.localize(6,null),ids:[y.GlobalNewUntitledFileAction.ID]},O=r.assign({mac:!0},R),M={text:a.localize(7,null),ids:[I.ToggleTerminalAction.ID]},N={text:a.localize(8,null),ids:[C.FindInFilesActionId]},F={text:a.localize(9,null),ids:[_.StartAction.ID]},W={text:a.localize(10,null),ids:[T.SelectColorThemeAction.ID]},V={text:a.localize(11,null),ids:[m.ShowRecommendedKeymapExtensionsAction.ID]},B={text:a.localize(12,null),ids:[f.KeybindingsReferenceAction.ID]},H={text:a.localize(13,null),ids:[w.OpenGlobalKeybindingsAction.ID]},z=[x,W,V,L,k,f.KeybindingsReferenceAction.AVAILABLE?B:H],U=[x,D,L,k,P,O,M],G=[x,A,N,F,M],K=a.localize(14,null),j=function(){function e(e,t,n,i,r){var o=this;this.partService=t,this.keybindingService=n,this.contextService=i,this.telemetryService=r,this.toDispose=[],e.onShutdown(this.dispose,this),this.partService.joinCreation().then(function(){o.create()})}return e.prototype.getId=function(){return"vs.watermark"},e.prototype.create=function(){var e=this,t=this.partService.getContainer(E.Parts.EDITOR_PART),i=n.$().div({class:"watermark"}),r=n.$(i).div({class:"watermark-box"}),s=!!this.contextService.getWorkspace(),a=this.telemetryService.getExperiments().showNewUserWatermark,c=(a?z:s?G:U).filter(function(e){return!("mac"in e)||e.mac===o.isMacintosh}),u=function(){var t=n.$(r);t.clearChildren(),c.map(function(n){t.element("dl",{},function(t){t.element("dt",{},function(e){return e.text(n.text)}),t.element("dd",{},function(t){return t.innerHtml(n.ids.map(function(t){return e.keybindingService.lookupKeybindings(t).slice(0,1).map(function(t){return'<span class="shortcuts">'+e.keybindingService.getLabelFor(t)+"</span>"}).join("")||'<span class="unbound">'+K+"</span>"}).join(" / "))})})})};u(),i.build(t.firstChild,0),this.toDispose.push(this.keybindingService.onDidUpdateKeybindings(u))},e.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose)},e=g([v(0,d.ILifecycleService),v(1,E.IPartService),v(2,s.IKeybindingService),v(3,l.IWorkspaceContextService),v(4,u.ITelemetryService)],e)}();t.WatermarkContribution=j,c.Registry.as(h.Extensions.Workbench).registerWorkbenchContribution(j)}),define(l[1216],h([1,0,2,32,97,18,122,83,11]),function(e,t,n,i,r,o,s,a,c){"use strict";var u=function(){function e(e,t){this.messageService=e,this.windowService=t,this._onWillShutdown=new c.Emitter,this._onShutdown=new c.Emitter,this.registerListeners()}return Object.defineProperty(e.prototype,"willShutdown",{get:function(){return this._willShutdown},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onWillShutdown",{get:function(){return this._onWillShutdown.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onShutdown",{get:function(){return this._onShutdown.event},enumerable:!0,configurable:!0}),e.prototype.registerListeners=function(){var e=this,t=this.windowService.getWindowId();a.ipcRenderer.on("vscode:beforeUnload",function(n,i){e._willShutdown=!0,e.onBeforeUnload(i.reason).done(function(n){n?(e._willShutdown=!1,a.ipcRenderer.send(i.cancelChannel,t)):(e._onShutdown.fire(i.reason),a.ipcRenderer.send(i.okChannel,t))})})},e.prototype.onBeforeUnload=function(e){var t=this,o=[];if(this._onWillShutdown.fire({veto:function(e){o.push(e)},reason:e}),0===o.length)return n.TPromise.as(!1);for(var s=[],a=!1,c=0,u=o;c<u.length;c++){var l=u[c];if(l===!0)return n.TPromise.as(!0);n.TPromise.is(l)&&s.push(l.then(function(e){e&&(a=!0)},function(e){t.messageService.show(i.default.Error,r.toErrorMessage(e)),a=!0}))}return n.TPromise.join(s).then(function(){return a})},e=g([v(0,o.IMessageService),v(1,s.IWindowIPCService)],e)}();t.LifecycleService=u}),define(l[1217],h([1,0,122,636,61,2,1022,18,13,19,24]),function(e,t,n,i,r,o,s,a,c,u,l){"use strict";var h=function(e){function t(t,n,i){e.call(this,t,i),this.windowService=n}return d(t,e),t.prototype.confirm=function(e){e.primaryButton||(e.primaryButton=i.localize(0,null)),e.secondaryButton||(e.secondaryButton=i.localize(1,null));var t={title:e.title,message:e.message,buttons:[e.primaryButton,e.secondaryButton],defaultId:0,cancelId:1};e.detail&&(t.detail=e.detail),e.type&&(t.type=e.type);var n=this.showMessageBox(t);return 0===n},t.prototype.choose=function(e,t,n,i){var r=this;if(void 0===i&&(i=!1),i){var s=e===a.Severity.Info?"question":e===a.Severity.Error?"error":e===a.Severity.Warning?"warning":"none";return o.TPromise.wrap(this.showMessageBox({message:t,buttons:n,type:s}))}var c=null,u=new o.TPromise(function(i,s){var a=function(e){return function(){return i(e),o.TPromise.as(!0)}},h=n.map(function(e,t){return new l.Action("?",e,"",(!0),a(t))});c=r.show(e,{message:t,actions:h},function(){return u.cancel()})},function(){return c()});return u},t.prototype.showMessageBox=function(e){var t=this;e.buttons=e.buttons.map(function(e){return t.mnemonicLabel(e)}),e.buttons=c.isLinux?e.buttons.reverse():e.buttons,void 0!==e.defaultId&&(e.defaultId=c.isLinux?e.buttons.length-e.defaultId-1:e.defaultId),void 0!==e.cancelId&&(e.cancelId=c.isLinux?e.buttons.length-e.cancelId-1:e.cancelId),e.noLink=!0,e.title=e.title||r.default.nameLong;var n=this.windowService.getWindow().showMessageBox(e);return c.isLinux?e.buttons.length-n-1:n},t.prototype.mnemonicLabel=function(e){return c.isWindows?e.replace(/&&/g,"&"):e.replace(/\(&&\w\)|&&/g,"")},t=g([v(1,n.IWindowIPCService),v(2,u.ITelemetryService)],t)}(s.WorkbenchMessageService);t.MessageService=h}),define(l[1218],h([1,0,639,20,12,13,28,1158,56,33,26,69,19,25,54,122,41,40,723,61,51,6,125,18,38]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w,I,T,x){"use strict";var A=function(e){function t(t,n,i,r,o,s,a,c,u,l,h,d,p,f,g){e.call(this,r,t,a,s,u,n,i,o,p,f),this.modeService=c,this.windowService=l,this.modelService=h,this.environmentService=d,this.storageService=g}return d(t,e),t.prototype.resolveTextContent=function(e,t){var n=this;return this.fileService.resolveStreamContent(e,t).then(function(e){return E.ModelBuilder.fromStringStream(e.value,n.modelService.getCreationOptions()).then(function(t){var n={resource:e.resource,name:e.name,mtime:e.mtime,etag:e.etag,encoding:e.encoding,value:t.rawText,valueLogicalHash:t.hash};return n})})},t.prototype.confirmSave=function(e){if(this.environmentService.isExtensionDevelopment)return s.ConfirmResult.DONT_SAVE;var r=this.getDirty(e);if(0===r.length)return s.ConfirmResult.DONT_SAVE;var a=[1===r.length?n.localize(0,null,i.basename(r[0].fsPath)):n.localize(1,null,r.length)];r.length>1&&(a.push(""),a.push.apply(a,r.slice(0,t.MAX_CONFIRM_FILES).map(function(e){return i.basename(e.fsPath)})),r.length>t.MAX_CONFIRM_FILES&&(r.length-t.MAX_CONFIRM_FILES===1?a.push(n.localize(2,null)):a.push(n.localize(3,null,r.length-t.MAX_CONFIRM_FILES))),a.push(""));var c={label:r.length>1?this.mnemonicLabel(n.localize(4,null)):this.mnemonicLabel(n.localize(5,null)),result:s.ConfirmResult.SAVE},u={label:this.mnemonicLabel(n.localize(6,null)),result:s.ConfirmResult.DONT_SAVE},l={label:n.localize(7,null),result:s.ConfirmResult.CANCEL},h=[];o.isWindows?h.push(c,u,l):o.isLinux?h.push(u,l,c):h.push(c,l,u);var d={title:_.default.nameLong,message:a.join("\n"),type:"warning",detail:n.localize(8,null),buttons:h.map(function(e){return e.label}),noLink:!0,cancelId:h.indexOf(l)};o.isLinux&&(d.defaultId=2);var p=this.windowService.getWindow().showMessageBox(d);return h[p].result},t.prototype.showHotExitMessage=function(){var e="hotExit/hasShownMessage",t=!!this.storageService.get(e,x.StorageScope.GLOBAL);if(!t){this.storageService.store(e,!0,x.StorageScope.GLOBAL);var i={title:_.default.nameLong,message:n.localize(9,null),type:"info",detail:n.localize(10,null),buttons:[n.localize(11,null)],noLink:!0};this.windowService.getWindow().showMessageBox(i)}},t.prototype.mnemonicLabel=function(e){return o.isWindows?e.replace(/&&/g,"&"):e.replace(/\(&&\w\)|&&/g,"")},t.prototype.promptForPath=function(e){return this.windowService.getWindow().showSaveDialog(this.getSaveDialogOptions(e?i.normalize(e,!0):void 0))},t.prototype.getSaveDialogOptions=function(e){var t=this,s={defaultPath:e};if(!o.isWindows)return s;var a,c=i.extname(e),u=this.modeService.getRegisteredLanguageNames().map(function(e){var n=t.modeService.getExtensions(e);if(!n||!n.length)return null;var i={name:e,extensions:n.slice(0,10).map(function(e){return r.trim(e,".")})};return c&&n.indexOf(c)>=0?(a=i,null):i}).filter(function(e){return!!e}),l={name:n.localize(12,null),extensions:["*"]};return a?(u.unshift(a),u.unshift(l)):u.unshift(l),u.push({name:n.localize(13,null),extensions:[""]}),s.filters=u,s},t.MAX_CONFIRM_FILES=10,t=g([v(0,l.IWorkspaceContextService),v(1,u.IFileService),v(2,c.IUntitledEditorService),v(3,h.ILifecycleService),v(4,w.IInstantiationService),v(5,p.ITelemetryService),v(6,f.IConfigurationService),v(7,m.IModeService),v(8,b.IEditorGroupService),v(9,y.IWindowIPCService),v(10,S.IModelService),v(11,C.IEnvironmentService),v(12,I.IBackupModelService),v(13,T.IMessageService),v(14,x.IStorageService)],t)}(a.TextFileService);t.TextFileService=A}),define(l[283],h([1,0,2,5,12,11,8,29,17,48,119,129,223,7,1153,991,125,97,14,13,66,71,28,1138,1163,1203,1205,1204,1035,896,1161,68,89,367,126,102,56,274,45,26,38,998,1020,25,114,1097,741,36,23,165,53,1206,1016,33,205,1007,76,270,22,50,41,186,6,87,1218,55,261,1083,1159,73,69,63,18,201,31,730,39,51,19,756]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P,R,O,M,N,F,W,V,B,H,z,U,G,K,j,q,$,Y,X,Q,Z,J,ee,te,ne,ie,re,oe,se,ae,ce,ue,le,he,de,pe,fe,ge,ve,me,ye,be,Se,Ee,_e,Ce,we,Ie,Te){"use strict";t.MessagesVisibleContext=new X.RawContextKey("globalMessageVisible",(!1)),t.EditorsVisibleContext=new X.RawContextKey("editorIsOpen",(!1)),t.InZenModeContext=new X.RawContextKey("inZenMode",(!1)),t.NoEditorsVisibleContext=t.EditorsVisibleContext.toNegated();var xe={WORKBENCH_CONTAINER:"workbench.main.container",TITLEBAR_PART:"workbench.parts.titlebar",ACTIVITYBAR_PART:"workbench.parts.activitybar",SIDEBAR_PART:"workbench.parts.sidebar",PANEL_PART:"workbench.parts.panel",EDITOR_PART:"workbench.parts.editor",STATUSBAR_PART:"workbench.parts.statusbar"},Ae=function(){function e(e,t,i,r,s,a,u,l,h,d,p,f,g,v,m){var y=this;this.instantiationService=a,this.untitledEditorService=u,this.contextService=l,this.storageService=h,this.lifecycleService=d,this.messageService=p,this.configurationService=f,this.telemetryService=g,this.environmentService=v,this.windowService=m,this.parent=e,this.container=t,this.workbenchParams={workspace:i,options:r,serviceCollection:s},this.hasFilesToCreateOpenOrDiff=r.filesToCreate&&r.filesToCreate.length>0||r.filesToOpen&&r.filesToOpen.length>0||r.filesToDiff&&r.filesToDiff.length>0,this.toDispose=[],this.toShutdown=[],this.editorBackgroundDelayer=new c.Delayer(50),this._onTitleBarVisibilityChange=new o.Emitter,this.creationPromise=new n.TPromise(function(e){y.creationPromiseComplete=e})}return Object.defineProperty(e.prototype,"onTitleBarVisibilityChange",{get:function(){return this._onTitleBarVisibilityChange.event},enumerable:!0,configurable:!0}),e.prototype.startup=function(e){var i=this;l.ok(!this.workbenchStarted,"Can not start a workbench that was already started"),l.ok(!this.workbenchShutdown,"Can not start a workbench that was shutdown");try{this.workbenchStarted=!0,this.callbacks=e,this.createWorkbench(),this.initServices(),this.callbacks&&this.callbacks.onServicesCreated&&this.callbacks.onServicesCreated(),this.messagesVisibleContext=t.MessagesVisibleContext.bindTo(this.contextKeyService),this.editorsVisibleContext=t.EditorsVisibleContext.bindTo(this.contextKeyService),this.inZenMode=t.InZenModeContext.bindTo(this.contextKeyService),this.registerListeners(),this.initSettings(),this.renderWorkbench(),this.createWorkbenchLayout();var o,s=[];if(!this.sideBarHidden){var a=void 0;this.shouldRestoreLastOpenedViewlet()&&(a=this.storageService.get(A.SidebarPart.activeViewletSettingsKey,z.StorageScope.WORKSPACE)),a||(a=this.viewletService.getDefaultViewletId()),o=d.StopWatch.create();var c=h.start(h.Topic.STARTUP,r.format("[renderer] open viewlet {0}",a));s.push(this.viewletService.openViewlet(a).then(function(){c.stop(),o.stop()}))}var u=S.Registry.as(O.Extensions.Panels),f=this.storageService.get(D.PanelPart.activePanelSettingsKey,z.StorageScope.WORKSPACE,u.getDefaultPanelId());!this.panelHidden&&f&&s.push(this.panelPart.openPanel(f,!1));var g=d.StopWatch.create(),v=h.start(h.Topic.STARTUP,"[renderer] restoring editor view state");s.push(this.resolveEditorsToOpen().then(function(e){var t;if(e.length){var n=e.map(function(e){return{input:e.input,options:e.options,position:_.Position.ONE}});t=i.editorPart.openEditors(n)}else t=i.editorPart.restoreEditors();return t.then(function(){i.onEditorsChanged(),v.stop(),g.stop()})}));var m=function(e){i.workbenchCreated=!0,i.creationPromiseComplete(!0),i.callbacks&&i.callbacks.onWorkbenchStarted&&i.callbacks.onWorkbenchStarted({customKeybindingsCount:i.keybindingService.customKeybindingsCount(),restoreViewletDuration:o?o.elapsed():0,restoreEditorsDuration:g.elapsed(),pinnedViewlets:i.activitybarPart.getPinned()}),e&&p.onUnexpectedError(e)};n.TPromise.join(s).then(function(){return m()},function(e){return m(e)})}catch(e){throw console.error(b.toErrorMessage(e,!0)),e}},e.prototype.resolveEditorsToOpen=function(){var e=this;if(this.hasFilesToCreateOpenOrDiff){var t=this.workbenchParams.options,i=t.filesToCreate||[],r=t.filesToOpen||[],o=t.filesToDiff;if(o&&o.length)return n.TPromise.join(o.map(function(t){return e.editorService.createInput(t)})).then(function(t){return[{input:new N.DiffEditorInput(N.toDiffLabel(o[0].resource,o[1].resource,e.contextService),null,t[0],t[1])}]});var s=[],a=[];s.push.apply(s,i.map(function(t){return e.untitledEditorService.createOrGet(t.resource)})),a.push.apply(a,i.map(function(e){return null}));var c=r.map(function(t){return e.editorService.createInput(t)});return n.TPromise.join(c).then(function(e){return s.push.apply(s,e),a.push.apply(a,r.map(function(e){return w.TextEditorOptions.from(e)})),s.map(function(e,t){return{input:e,options:a[t]}})})}return!this.workbenchParams.workspace&&this.telemetryService.getExperiments().openUntitledFile?n.TPromise.as([{input:this.untitledEditorService.createOrGet()}]):n.TPromise.as([])},e.prototype.initServices=function(){var e=this.workbenchParams.serviceCollection;this.toDispose.push(this.lifecycleService.onShutdown(this.shutdownComponents,this)),e.set(B.IPartService,this),this.statusbarPart=this.instantiationService.createInstance(L.StatusbarPart,xe.STATUSBAR_PART),this.toDispose.push(this.statusbarPart),this.toShutdown.push(this.statusbarPart),e.set(Ee.IStatusbarService,this.statusbarPart),this.contextKeyService=this.instantiationService.createInstance($.ContextKeyService),e.set(X.IContextKeyService,this.contextKeyService),this.keybindingService=this.instantiationService.createInstance(G.WorkbenchKeybindingService,window),e.set(Y.IKeybindingService,this.keybindingService),e.set(we.IContextMenuService,this.instantiationService.createInstance(U.ContextMenuService)),e.set(_e.IMenuService,new he.SyncDescriptor(Ce.MenuService)),this.titlebarPart=this.instantiationService.createInstance(k.TitlebarPart,xe.TITLEBAR_PART),this.toDispose.push(this.titlebarPart),this.toShutdown.push(this.titlebarPart),e.set(oe.ITitleService,this.titlebarPart),this.sidebarPart=this.instantiationService.createInstance(A.SidebarPart,xe.SIDEBAR_PART),this.toDispose.push(this.sidebarPart),this.toShutdown.push(this.sidebarPart),this.viewletService=this.instantiationService.createInstance(J.ViewletService,this.sidebarPart),e.set(Z.IViewletService,this.viewletService),this.panelPart=this.instantiationService.createInstance(D.PanelPart,xe.PANEL_PART),this.toDispose.push(this.panelPart),this.toShutdown.push(this.panelPart),e.set(re.IPanelService,this.panelPart),this.activitybarPart=this.instantiationService.createInstance(T.ActivitybarPart,xe.ACTIVITYBAR_PART),this.toDispose.push(this.activitybarPart),this.toShutdown.push(this.activitybarPart),e.set(Q.IActivityBarService,this.activitybarPart),this.editorPart=this.instantiationService.createInstance(x.EditorPart,xe.EDITOR_PART,!this.hasFilesToCreateOpenOrDiff),this.toDispose.push(this.editorPart),this.toShutdown.push(this.editorPart),this.editorService=this.instantiationService.createInstance(V.WorkbenchEditorService,this.editorPart),e.set(se.IWorkbenchEditorService,this.editorService),e.set(ce.IEditorGroupService,this.editorPart);var t=this.instantiationService.createInstance(ee.FileService);e.set(te.IFileService,t),e.set(ue.IHistoryService,this.instantiationService.createInstance(I.HistoryService));var n=this.contextService.getWorkspace();e.set(y.IBackupFileService,this.instantiationService.createInstance(m.BackupFileService,this.windowService.getCurrentWindowId())),e.set(y.IBackupModelService,this.instantiationService.createInstance(f.BackupModelService)),e.set(pe.ITextFileService,this.instantiationService.createInstance(de.TextFileService)),e.set(fe.ISCMService,this.instantiationService.createInstance(ge.SCMService)),e.set(me.ITextModelResolverService,this.instantiationService.createInstance(ve.TextModelResolverService)),this.configurationEditingService=this.instantiationService.createInstance(q.ConfigurationEditingService),e.set(j.IConfigurationEditingService,this.configurationEditingService);var i=this.instantiationService.createInstance(ie.ConfigurationResolverService,n?n.resource:null,process.env);e.set(ne.IConfigurationResolverService,i),this.quickOpen=this.instantiationService.createInstance(M.QuickOpenController),this.toDispose.push(this.quickOpen),this.toShutdown.push(this.quickOpen),e.set(ae.IQuickOpenService,this.quickOpen);for(var r=F.getServices(),o=0,s=r;o<s.length;o++){var a=s[o];e.set(a.id,a.descriptor)}S.Registry.as(R.Extensions.Actionbar).setInstantiationService(this.instantiationService),S.Registry.as(C.Extensions.Workbench).setInstantiationService(this.instantiationService),S.Registry.as(w.Extensions.Editors).setInstantiationService(this.instantiationService)},e.prototype.initSettings=function(){this.sideBarHidden=this.storageService.getBoolean(e.sidebarHiddenSettingKey,z.StorageScope.WORKSPACE,!1),this.contextService.getWorkspace()||(this.sideBarHidden=!0);var t=S.Registry.as(O.Extensions.Panels);this.panelHidden=this.storageService.getBoolean(e.panelHiddenSettingKey,z.StorageScope.WORKSPACE,!0),this.contextService.getWorkspace()&&t.getDefaultPanelId()||(this.panelHidden=!0);var n=this.configurationService.lookup(e.sidebarPositionConfigurationKey).value;this.sideBarPosition="right"===n?B.Position.RIGHT:B.Position.LEFT;var i=this.configurationService.lookup(e.statusbarVisibleConfigurationKey).value;this.statusBarHidden=!i;var r=this.configurationService.lookup(e.activityBarVisibleConfigurationKey).value;this.activityBarHidden=!r,this.zenMode={active:!1,transitionedToFullScreen:!1,wasSideBarVisible:!1,wasPanelVisible:!1}},e.prototype.isStarted=function(){return this.workbenchStarted&&!this.workbenchShutdown},e.prototype.isCreated=function(){return this.workbenchCreated&&this.workbenchStarted},e.prototype.joinCreation=function(){return this.creationPromise},e.prototype.hasFocus=function(e){var t=document.activeElement;if(!t)return!1;var n=this.getContainer(e);return s.isAncestor(t,n)},e.prototype.getContainer=function(e){var t=null;switch(e){case B.Parts.TITLEBAR_PART:t=this.titlebarPart.getContainer();break;case B.Parts.ACTIVITYBAR_PART:t=this.activitybarPart.getContainer();break;case B.Parts.SIDEBAR_PART:t=this.sidebarPart.getContainer();break;case B.Parts.PANEL_PART:t=this.panelPart.getContainer();break;case B.Parts.EDITOR_PART:t=this.editorPart.getContainer();break;case B.Parts.STATUSBAR_PART:t=this.statusbarPart.getContainer()}return t&&t.getHTMLElement()},e.prototype.isVisible=function(e){switch(e){case B.Parts.TITLEBAR_PART:return this.getCustomTitleBarStyle()&&!u.isFullscreen();case B.Parts.SIDEBAR_PART:return!this.sideBarHidden;case B.Parts.PANEL_PART:return!this.panelHidden;case B.Parts.STATUSBAR_PART:return!this.statusBarHidden;case B.Parts.ACTIVITYBAR_PART:return!this.activityBarHidden}return!0},e.prototype.getTitleBarOffset=function(){var e=0;return this.isVisible(B.Parts.TITLEBAR_PART)&&(e=22/u.getZoomFactor()),e},e.prototype.getCustomTitleBarStyle=function(){if(!E.isMacintosh)return null;var e=!this.environmentService.isBuilt||this.environmentService.isExtensionDevelopment;if(e)return null;var t=this.configurationService.getConfiguration(),n=t&&t.window&&t.window.titleBarStyle;return"custom"===n?n:null},e.prototype.setStatusBarHidden=function(e,t){this.statusBarHidden=e,t||this.workbenchLayout.layout({forceStyleRecompute:!0})},e.prototype.setActivityBarHidden=function(e,t){this.activityBarHidden=e,t||this.workbenchLayout.layout({forceStyleRecompute:!0})},e.prototype.setSideBarHidden=function(t,n){if(this.sideBarHidden=t,t?this.workbench.addClass("nosidebar"):this.workbench.removeClass("nosidebar"),n||this.workbenchLayout.layout({forceStyleRecompute:!0}),t&&this.sidebarPart.getActiveViewlet()){this.sidebarPart.hideActiveViewlet();var i=this.editorPart.getActiveEditor(),r=this.panelPart.getActivePanel();this.hasFocus(B.Parts.PANEL_PART)&&r?r.focus():i&&i.focus()}else if(!t&&!this.sidebarPart.getActiveViewlet()){var o=this.sidebarPart.getLastActiveViewletId()||this.viewletService.getDefaultViewletId();o&&this.sidebarPart.openViewlet(o,!0).done(null,p.onUnexpectedError)}this.storageService.store(e.sidebarHiddenSettingKey,t?"true":"false",z.StorageScope.WORKSPACE)},e.prototype.setPanelHidden=function(t,n){if(this.panelHidden=t,t?this.workbench.addClass("nopanel"):this.workbench.removeClass("nopanel"),n||this.workbenchLayout.layout({forceStyleRecompute:!0}),t&&this.panelPart.getActivePanel()){this.panelPart.hideActivePanel();var i=this.editorPart.getActiveEditor();i&&i.focus()}else if(!t&&!this.panelPart.getActivePanel()){var r=S.Registry.as(O.Extensions.Panels),o=this.panelPart.getLastActivePanelId()||r.getDefaultPanelId();o&&this.panelPart.openPanel(o,!0).done(null,p.onUnexpectedError)}this.storageService.store(e.panelHiddenSettingKey,t?"true":"false",z.StorageScope.WORKSPACE)},e.prototype.toggleMaximizedPanel=function(){this.workbenchLayout.layout({forceStyleRecompute:!0,toggleMaximizedPanel:!0})},e.prototype.getSideBarPosition=function(){return this.sideBarPosition},e.prototype.setSideBarPosition=function(e){this.sideBarHidden&&this.setSideBarHidden(!1,!0);var t=e===B.Position.LEFT?"left":"right",n=this.sideBarPosition===B.Position.LEFT?"left":"right";this.sideBarPosition=e,this.activitybarPart.getContainer().removeClass(n),this.sidebarPart.getContainer().removeClass(n),this.activitybarPart.getContainer().addClass(t),this.sidebarPart.getContainer().addClass(t),this.workbenchLayout.layout({forceStyleRecompute:!0})},e.prototype.dispose=function(){this.isStarted()&&(this.shutdownComponents(),this.workbenchShutdown=!0),this.toDispose=i.dispose(this.toDispose)},e.prototype.layout=function(e){this.isStarted()&&this.workbenchLayout.layout(e)},e.prototype.shutdownComponents=function(t){void 0===t&&(t=ye.ShutdownReason.QUIT),t===ye.ShutdownReason.RELOAD&&this.storageService.store(e.sidebarRestoreSettingKey,"true",z.StorageScope.WORKSPACE),this.toShutdown.forEach(function(e){return e.shutdown()})},e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.editorPart.onEditorsChanged(function(){return e.onEditorsChanged()})),this.toDispose.push(this.messageService.onMessagesShowing(function(){return e.messagesVisibleContext.set(!0)})),this.toDispose.push(this.messageService.onMessagesCleared(function(){return e.messagesVisibleContext.reset()})),this.toDispose.push(this.quickOpen.onShow(function(){return e.messageService.suspend()})),this.toDispose.push(this.quickOpen.onHide(function(){return e.messageService.resume()})),this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(){return e.onDidUpdateConfiguration()})),this.toDispose.push(u.onDidChangeFullscreen(function(){return e.onFullscreenChanged()}))},e.prototype.onFullscreenChanged=function(){if(this.isCreated){var e=u.isFullscreen();e?this.addClass("fullscreen"):(this.removeClass("fullscreen"),this.zenMode.transitionedToFullScreen&&this.zenMode.active&&this.toggleZenMode());var t="custom"===this.getCustomTitleBarStyle();t&&(this._onTitleBarVisibilityChange.fire(),this.layout())}},e.prototype.onEditorsChanged=function(){var e=this.editorService.getVisibleEditors().length,t=this.editorPart.getContainer();0===e?(this.editorsVisibleContext.reset(),this.editorBackgroundDelayer.trigger(function(){return t.addClass("empty")})):(this.editorsVisibleContext.set(!0),this.editorBackgroundDelayer.trigger(function(){return t.removeClass("empty")}))},e.prototype.onDidUpdateConfiguration=function(t){var n=this.configurationService.lookup(e.sidebarPositionConfigurationKey).value,i="right"===n?B.Position.RIGHT:B.Position.LEFT;if(i!==this.getSideBarPosition()&&this.setSideBarPosition(i),!this.zenMode.active){var r=!this.configurationService.lookup(e.statusbarVisibleConfigurationKey).value;r!==this.statusBarHidden&&this.setStatusBarHidden(r,t);var o=!this.configurationService.lookup(e.activityBarVisibleConfigurationKey).value;o!==this.activityBarHidden&&this.setActivityBarHidden(o,t)}},e.prototype.createWorkbenchLayout=function(){this.workbenchLayout=this.instantiationService.createInstance(P.WorkbenchLayout,a.$(this.container),this.workbench,{titlebar:this.titlebarPart,activitybar:this.activitybarPart,editor:this.editorPart,sidebar:this.sidebarPart,panel:this.panelPart,statusbar:this.statusbarPart},this.quickOpen),this.toDispose.push(this.workbenchLayout)},e.prototype.createWorkbench=function(){this.workbenchContainer=a.$(".monaco-workbench-container"),
this.workbench=a.$().div({class:"monaco-workbench "+(E.isWindows?"windows":E.isLinux?"linux":"mac"),id:xe.WORKBENCH_CONTAINER}).appendTo(this.workbenchContainer)},e.prototype.renderWorkbench=function(){this.sideBarHidden&&this.workbench.addClass("nosidebar"),this.panelHidden&&this.workbench.addClass("nopanel"),this.workbenchParams.workspace||this.workbench.addClass("no-workspace");var e=this.getCustomTitleBarStyle();e&&s.addClass(this.parent,"titlebar-style-"+e),u.isFullscreen()&&this.workbench.addClass("fullscreen"),this.createTitlebarPart(),this.createActivityBarPart(),this.createSidebarPart(),this.createEditorPart(),this.createPanelPart(),this.createStatusbarPart(),this.workbenchContainer.build(this.container)},e.prototype.createTitlebarPart=function(){var e=a.$(this.workbench).div({class:["part","titlebar"],id:xe.TITLEBAR_PART,role:"contentinfo"});this.titlebarPart.create(e)},e.prototype.createActivityBarPart=function(){var e=a.$(this.workbench).div({class:["part","activitybar",this.sideBarPosition===B.Position.LEFT?"left":"right"],id:xe.ACTIVITYBAR_PART,role:"navigation"});this.activitybarPart.create(e)},e.prototype.createSidebarPart=function(){var e=a.$(this.workbench).div({class:["part","sidebar",this.sideBarPosition===B.Position.LEFT?"left":"right"],id:xe.SIDEBAR_PART,role:"complementary"});this.sidebarPart.create(e)},e.prototype.createPanelPart=function(){var e=a.$(this.workbench).div({class:["part","panel","monaco-editor-background"],id:xe.PANEL_PART,role:"complementary"});this.panelPart.create(e)},e.prototype.createEditorPart=function(){var e=a.$(this.workbench).div({class:["part","editor","monaco-editor-background","empty"],id:xe.EDITOR_PART,role:"main"});this.editorPart.create(e)},e.prototype.createStatusbarPart=function(){var e=a.$(this.workbench).div({class:["part","statusbar"],id:xe.STATUSBAR_PART,role:"contentinfo"});this.statusbarPart.create(e)},e.prototype.getEditorPart=function(){return l.ok(this.workbenchStarted,"Workbench is not started. Call startup() first."),this.editorPart},e.prototype.getSidebarPart=function(){return l.ok(this.workbenchStarted,"Workbench is not started. Call startup() first."),this.sidebarPart},e.prototype.getPanelPart=function(){return l.ok(this.workbenchStarted,"Workbench is not started. Call startup() first."),this.panelPart},e.prototype.getInstantiationService=function(){return l.ok(this.workbenchStarted,"Workbench is not started. Call startup() first."),this.instantiationService},e.prototype.addClass=function(e){this.workbench&&this.workbench.addClass(e)},e.prototype.removeClass=function(e){this.workbench&&this.workbench.removeClass(e)},e.prototype.getWorkbenchElementId=function(){return xe.WORKBENCH_CONTAINER},e.prototype.toggleZenMode=function(){var e=this;this.zenMode.active=!this.zenMode.active;var t=!1;if(this.zenMode.active){var i=this.configurationService.getConfiguration();t=!u.isFullscreen()&&i.window.fullScreenZenMode,this.zenMode.transitionedToFullScreen=t,this.zenMode.wasSideBarVisible=this.isVisible(B.Parts.SIDEBAR_PART),this.zenMode.wasPanelVisible=this.isVisible(B.Parts.PANEL_PART),this.setPanelHidden(!0,!0),this.setSideBarHidden(!0,!0),this.setActivityBarHidden(!0,!0),this.setStatusBarHidden(!0,!0)}else this.zenMode.wasPanelVisible&&this.setPanelHidden(!1,!0),this.zenMode.wasSideBarVisible&&this.setSideBarHidden(!1,!0),this.onDidUpdateConfiguration(!0),t=this.zenMode.transitionedToFullScreen&&u.isFullscreen();this.inZenMode.set(this.zenMode.active),(t?this.windowService.toggleFullScreen():n.TPromise.as(null)).done(function(){return e.layout()},p.onUnexpectedError)},e.prototype.shouldRestoreLastOpenedViewlet=function(){if(!this.environmentService.isBuilt)return!0;var t=this.storageService.getBoolean(e.sidebarRestoreSettingKey,z.StorageScope.WORKSPACE);return t&&this.storageService.remove(e.sidebarRestoreSettingKey,z.StorageScope.WORKSPACE),t},e.sidebarHiddenSettingKey="workbench.sidebar.hidden",e.sidebarRestoreSettingKey="workbench.sidebar.restore",e.panelHiddenSettingKey="workbench.panel.hidden",e.sidebarPositionConfigurationKey="workbench.sideBar.location",e.statusbarVisibleConfigurationKey="workbench.statusBar.visible",e.activityBarVisibleConfigurationKey="workbench.activityBar.visible",e=g([v(5,le.IInstantiationService),v(6,W.IUntitledEditorService),v(7,H.IWorkspaceContextService),v(8,z.IStorageService),v(9,ye.ILifecycleService),v(10,Se.IMessageService),v(11,K.IConfigurationService),v(12,Te.ITelemetryService),v(13,Ie.IEnvironmentService),v(14,be.IWindowService)],e)}();t.Workbench=Ae}),define(l[1220],h([1,0,14,488,61,31,77,37,52,13,84,45,27,122,167,283,63]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,g,v){"use strict";var m={primary:32821,win:{primary:32830,secondary:[32821]}},y=i.localize(0,null),b=i.localize(1,null),S=i.localize(2,null),E=n.Registry.as(a.Extensions.WorkbenchActions);E.registerWorkbenchAction(new o.SyncActionDescriptor(f.NewWindowAction,f.NewWindowAction.ID,f.NewWindowAction.LABEL,{primary:49196}),"New Window"),E.registerWorkbenchAction(new o.SyncActionDescriptor(f.CloseWindowAction,f.CloseWindowAction.ID,f.CloseWindowAction.LABEL,{primary:49205}),"Close Window"),E.registerWorkbenchAction(new o.SyncActionDescriptor(f.SwitchWindow,f.SwitchWindow.ID,f.SwitchWindow.LABEL),"Switch Window"),E.registerWorkbenchAction(new o.SyncActionDescriptor(f.CloseFolderAction,f.CloseFolderAction.ID,f.CloseFolderAction.LABEL,{primary:c.KeyChord(32809,36)}),"File: Close Folder",S),r.default.reportIssueUrl&&E.registerWorkbenchAction(new o.SyncActionDescriptor(f.ReportIssueAction,f.ReportIssueAction.ID,f.ReportIssueAction.LABEL),"Help: Report Issues",b),f.KeybindingsReferenceAction.AVAILABLE&&E.registerWorkbenchAction(new o.SyncActionDescriptor(f.KeybindingsReferenceAction,f.KeybindingsReferenceAction.ID,f.KeybindingsReferenceAction.LABEL,{primary:c.KeyChord(32809,32816)}),"Help: Keyboard Shortcuts Reference",b),E.registerWorkbenchAction(new o.SyncActionDescriptor(f.ZoomInAction,f.ZoomInAction.ID,f.ZoomInAction.LABEL,{primary:32849,secondary:[49233,32872]}),"View: Zoom In",y),E.registerWorkbenchAction(new o.SyncActionDescriptor(f.ZoomOutAction,f.ZoomOutAction.ID,f.ZoomOutAction.LABEL,{primary:32851,secondary:[49235,32874],linux:{primary:32851,secondary:[32874]}}),"View: Zoom Out",y),E.registerWorkbenchAction(new o.SyncActionDescriptor(f.ZoomResetAction,f.ZoomResetAction.ID,f.ZoomResetAction.LABEL,{primary:32861}),"View: Reset Zoom",y),E.registerWorkbenchAction(new o.SyncActionDescriptor(f.CloseMessagesAction,f.CloseMessagesAction.ID,f.CloseMessagesAction.LABEL,{primary:9,secondary:[16393]},g.MessagesVisibleContext),"Close Notification Messages"),E.registerWorkbenchAction(new o.SyncActionDescriptor(f.CloseEditorAction,f.CloseEditorAction.ID,f.CloseEditorAction.LABEL,m),"View: Close Editor",y),E.registerWorkbenchAction(new o.SyncActionDescriptor(f.ToggleFullScreenAction,f.ToggleFullScreenAction.ID,f.ToggleFullScreenAction.LABEL,{primary:69,mac:{primary:36900}}),"View: Toggle Full Screen",y),(u.isWindows||u.isLinux)&&E.registerWorkbenchAction(new o.SyncActionDescriptor(f.ToggleMenuBarAction,f.ToggleMenuBarAction.ID,f.ToggleMenuBarAction.LABEL),"View: Toggle Menu Bar",y),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.closeWindow",weight:l.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:g.NoEditorsVisibleContext,primary:m.primary,handler:function(e){var t=e.get(p.IWindowIPCService);t.getWindow().close()}}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.exitZenMode",weight:d.CommonEditorRegistry.commandWeight(-1e3),handler:function(e,t){var n=e.get(h.IPartService);n.toggleZenMode()},when:g.InZenModeContext,primary:c.KeyChord(9,9)}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"workbench.action.quit",weight:l.KeybindingsRegistry.WEIGHT.workbenchContrib(),handler:function(e){var t=e.get(v.IWindowsService);t.quit()},when:void 0,primary:32815,win:{primary:void 0}});var _=n.Registry.as(s.Extensions.Configuration);_.registerConfiguration({id:"workbench",order:7,title:i.localize(3,null),type:"object",properties:{"workbench.editor.showTabs":{type:"boolean",description:i.localize(4,null),default:!0},"workbench.editor.showTabCloseButton":{type:"boolean",description:i.localize(5,null),default:!0},"workbench.editor.showIcons":{type:"boolean",description:i.localize(6,null),default:!0},"workbench.editor.enablePreview":{type:"boolean",description:i.localize(7,null),default:!0},"workbench.editor.enablePreviewFromQuickOpen":{type:"boolean",description:i.localize(8,null),default:!0},"workbench.editor.openPositioning":{type:"string",enum:["left","right","first","last"],default:"right",description:i.localize(9,null)},"workbench.quickOpen.closeOnFocusLost":{type:"boolean",description:i.localize(10,null),default:!0},"workbench.settings.openDefaultSettings":{type:"boolean",description:i.localize(11,null),default:!0},"workbench.sideBar.location":{type:"string",enum:["left","right"],default:"left",description:i.localize(12,null)},"workbench.statusBar.visible":{type:"boolean",default:!0,description:i.localize(13,null)},"workbench.activityBar.visible":{type:"boolean",default:!0,description:i.localize(14,null)}}});var C={"window.openFilesInNewWindow":{type:"boolean",default:!0,description:i.localize(15,null)},"window.reopenFolders":{type:"string",enum:["none","one","all"],default:"one",description:i.localize(16,null)},"window.restoreFullscreen":{type:"boolean",default:!1,description:i.localize(17,null)},"window.fullScreenZenMode":{type:"boolean",default:!0,description:i.localize(18,null)},"window.zoomLevel":{type:"number",default:0,description:i.localize(19,null)},"window.showFullPath":{type:"boolean",default:!1,description:i.localize(20,null)}};u.isMacintosh&&(C["window.titleBarStyle"]={type:"string",enum:["native","custom"],default:"custom",description:i.localize(21,null)}),_.registerConfiguration({id:"window",order:8,title:i.localize(22,null),type:"object",properties:C})}),define(l[1221],h([1,0,2,640,20,96,75,104,80,1110,172,122,38,19,14,115,29,11,1248,74]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S,E){"use strict";function _(e){switch(e){case c.VS_LIGHT_THEME:return"vs "+W+"-themes-light_vs-json";case c.VS_DARK_THEME:return"vs-dark "+W+"-themes-dark_vs-json";case c.VS_HC_THEME:return"hc-black "+W+"-themes-hc_black-json";case"vs "+V+"-themes-light_plus-tmTheme":return"vs "+W+"-themes-light_plus-json";case"vs-dark "+V+"-themes-dark_plus-tmTheme":return"vs-dark "+W+"-themes-dark_plus-json"}return e}function C(e,t){return e?e.styleSheetContent?(k(e.styleSheetContent,G),t(e),n.TPromise.as(!0)):w(e.path).then(function(n){var i=I(e.id,e.path,n);return e.styleSheetContent=i,k(i,G),t(e),!0},function(t){return n.TPromise.wrapError(i.localize(15,null,e.path))}):(k("",G),t(e),n.TPromise.as(!0))}function w(e){return E.readFile(e).then(function(e){var t=[],r=o.parse(e.toString(),t);return t.length>0?n.TPromise.wrapError(new Error(i.localize(16,null,t.map(function(e){return o.getParseErrorMessage(e.error)}).join(", ")))):n.TPromise.as(r)})}function I(e,t,n){function i(e){return r.join(r.dirname(t),e)}function o(e,t){function n(e,t){if(t){var n=s[t];n||(n=s[t]=[]),n.push(e)}}if(e){var i=".show-file-icons";t&&(i=t+" "+i);var r=".monaco-tree-row.expanded";n(i+" .folder-icon::before",e.folder),n(i+" "+r+" .folder-icon::before",e.folderExpanded),n(i+" .file-icon::before",e.file);var o=e.folderNames;if(o)for(var a in o)n(i+" ."+T(a.toLowerCase())+"-name-folder-icon.folder-icon::before",o[a]);var c=e.folderNamesExpanded;if(c)for(var a in c)n(i+" "+r+" ."+T(a.toLowerCase())+"-name-folder-icon.folder-icon::before",c[a]);var u=e.languageIds;if(u)for(var l in u)n(i+" ."+T(l)+"-lang-file-icon.file-icon::before",u[l]);var h=e.fileExtensions;if(h)for(var d in h){for(var p=[],f=d.toLowerCase().split("."),g=0;g<f.length;g++)p.push("."+T(f.slice(g).join("."))+"-ext-file-icon");n(i+" "+p.join("")+".file-icon::before",h[d])}var v=e.fileNames;if(v)for(var m in v){var p=[],f=m.toLowerCase().split(".");f[0]&&p.push("."+T(f[0])+"-name-file-icon");for(var g=1;g<f.length;g++)p.push("."+T(f.slice(g).join("."))+"-ext-file-icon");n(i+" "+p.join("")+".file-icon::before",v[m])}}}if(!n.iconDefinitions)return"";var s={};o(n),o(n.light,".vs"),o(n.highContrast,".hc-black");var a=[],c=n.fonts;Array.isArray(c)&&(c.forEach(function(e){var t=e.src.map(function(e){return"url('"+i(e.path)+"') format('"+e.format+"')"}).join(", ");a.push("@font-face { src: "+t+"; font-family: '"+e.id+"'; font-weigth: "+e.weight+"; font-style: "+e.style+"; }")}),a.push(".show-file-icons .file-icon::before, .show-file-icons .folder-icon::before { font-family: '"+c[0].id+"'; font-size: "+(c[0].size||"150%")+"}"));for(var u in s){var l=s[u],h=n.iconDefinitions[u];if(h&&(h.iconPath&&a.push(l.join(", ")+" { content: ' '; background-image: url(\""+i(h.iconPath)+'"); }'),h.fontCharacter||h.fontColor)){var d="";h.fontColor&&(d+=" color: "+h.fontColor+";"),h.fontCharacter&&(d+=" content: '"+h.fontCharacter+"';"),h.fontSize&&(d+=" font-size: "+h.fontSize+";"),h.fontId&&(d+=" font-family: "+h.fontId+";"),a.push(l.join(", ")+" { "+d+" }")}}return a.join("\n")}function T(e){return window.CSS.escape(e)}function x(e){return e=e.replace(/[^_\-a-zA-Z0-9]/g,"-"),e.charAt(0).match(/[0-9\-]/)&&(e="_"+e),e}function A(e,t){return e.styleSheetContent?(k(e.styleSheetContent,U),t(e),n.TPromise.as(!0)):D(e.path).then(function(n){var i=L(e.id,n);return e.styleSheetContent=i,k(i,U),t(e),!0},function(t){return n.TPromise.wrapError(i.localize(17,null,e.path))})}function D(e){return E.readFile(e).then(function(t){if(".json"===r.extname(e)){var s=[],a=o.parse(t.toString(),s);return s.length>0?n.TPromise.wrapError(new Error(i.localize(18,null,s.map(function(e){return o.getParseErrorMessage(e.error)}).join(", ")))):a.include?D(r.join(r.dirname(e),a.include)).then(function(e){return a.settings=e.settings.concat(a.settings),n.TPromise.as(a)}):n.TPromise.as(a)}try{return n.TPromise.as(S.parse(t.toString()))}catch(e){return n.TPromise.wrapError(new Error(i.localize(19,null,e.message)))}})}function L(e,t){var n=[],i=t.settings;return Array.isArray(i)&&((new u.TokenStylesContribution).contributeStyles(e,t,n),(new u.EditorStylesContribution).contributeStyles(e,t,n),(new u.SearchViewStylesContribution).contributeStyles(e,t,n),(new u.TerminalStylesContribution).contributeStyles(e,t,n)),n.join("\n")}function k(e,t){var n=document.head.getElementsByClassName(t);if(0===n.length){var i=document.createElement("style");i.type="text/css",i.className=t,i.innerHTML=e,document.head.appendChild(i)}else n[0].innerHTML=e}var P="vs-dark vscode-theme-defaults-themes-dark_plus-json",R="vscode:changeColorTheme",O="vscode:changeIconTheme",M="workbench.theme",N="workbench.iconTheme",F=l.getBaseThemeId(P),W="vscode-theme-defaults",V="vscode-theme-colorful-defaults",B=a.ExtensionsRegistry.registerExtensionPoint("themes",[],{description:i.localize(0,null),type:"array",items:{type:"object",defaultSnippets:[{body:{label:"${1:label}",uiTheme:c.VS_DARK_THEME,path:"./themes/${2:id}.tmTheme."}}],properties:{label:{description:i.localize(1,null),type:"string"},uiTheme:{description:i.localize(2,null),enum:[c.VS_LIGHT_THEME,c.VS_DARK_THEME,c.VS_HC_THEME]},path:{description:i.localize(3,null),type:"string"}},required:["path","uiTheme"]}}),H=a.ExtensionsRegistry.registerExtensionPoint("iconThemes",[],{description:i.localize(4,null),type:"array",items:{type:"object",defaultSnippets:[{body:{id:"${1:id}",label:"${2:label}",path:"./fileicons/${3:id}-icon-theme.json"}}],properties:{id:{description:i.localize(5,null),type:"string"},label:{description:i.localize(6,null),type:"string"},path:{description:i.localize(7,null),type:"string"}},required:["path","id"]}}),z=function(){function e(e,t,n,i){var r=this;this.extensionService=e,this.windowService=t,this.storageService=n,this.telemetryService=i,this.themeExtensionsActivated={},this.knownColorThemes=[],this.onColorThemeChange=new b.Emitter,this.knownIconThemes=[],this.currentIconTheme="",B.setHandler(function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t],o={extensionId:i.description.id,extensionPublisher:i.description.publisher,extensionName:i.description.name,extensionIsBuiltin:i.description.isBuiltin};r.onThemes(i.description.extensionFolderPath,o,i.value,i.collector)}}),t.onBroadcast(function(e){e.channel===R&&"string"==typeof e.payload&&r.setColorTheme(e.payload,!1)}),H.setHandler(function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t],o={extensionId:i.description.id,extensionPublisher:i.description.publisher,extensionName:i.description.name,extensionIsBuiltin:i.description.isBuiltin};r.onIconThemes(i.description.extensionFolderPath,o,i.value,i.collector)}}),t.onBroadcast(function(e){e.channel===O&&"string"==typeof e.payload&&r.setFileIconTheme(e.payload,!1)})}return Object.defineProperty(e.prototype,"onDidColorThemeChange",{get:function(){return this.onColorThemeChange.event},enumerable:!0,configurable:!0}),e.prototype.initialize=function(e){this.container=e;var t=this.storageService.get(M,d.StorageScope.GLOBAL,null);t||(t=P,this.storageService.store(M,t,d.StorageScope.GLOBAL));var i=this.storageService.get(N,d.StorageScope.GLOBAL,null);return n.Promise.join([this.setColorTheme(t,!1),this.setFileIconTheme(i,!1)])},e.prototype.setColorTheme=function(e,t){var i=this;if(!e)return n.TPromise.as(!1);if(e===this.currentColorTheme)return t&&this.windowService.broadcast({channel:R,payload:e}),n.TPromise.as(!0);e=_(e);var r=function(e){var n=e.id;i.container&&(i.currentColorTheme&&y.$(i.container).removeClass(i.currentColorTheme),i.currentColorTheme=n,y.$(i.container).addClass(n)),i.storageService.store(M,n,d.StorageScope.GLOBAL),t?i.windowService.broadcast({channel:R,payload:n}):i.sendTelemetry(e),i.onColorThemeChange.fire(n)};return this.applyThemeCSS(e,P,r)},e.prototype.getColorTheme=function(){return this.currentColorTheme||this.storageService.get(M,d.StorageScope.GLOBAL,P)},e.prototype.findThemeData=function(e,t){return this.getColorThemes().then(function(n){var i=n.filter(function(t){return t.id===e});if(i.length>0)return i[0];if(t){var r=n.filter(function(e){return e.id===t});if(r.length>0)return r[0]}return null})},e.prototype.applyThemeCSS=function(e,t,n){return this.findThemeData(e,t).then(function(e){return!!e&&A(e,n)})},e.prototype.getColorThemes=function(){var e=this;return this.extensionService.onReady().then(function(t){return e.knownColorThemes})},e.prototype.onThemes=function(e,t,n,o){var s=this;return Array.isArray(n)?void n.forEach(function(n){if(!n.path||"string"!=typeof n.path)return void o.error(i.localize(9,null,B.name,String(n.path)));var a=r.normalize(r.join(e,n.path));0!==a.indexOf(e)&&o.warn(i.localize(10,null,B.name,a,e));var c=x(t.extensionId+"-"+r.normalize(n.path));s.knownColorThemes.push({id:(n.uiTheme||F)+" "+c,label:n.label||r.basename(n.path),description:n.description,path:a,extensionId:t.extensionId,extensionPublisher:t.extensionPublisher,extensionName:t.extensionName,extensionIsBuiltin:t.extensionIsBuiltin})}):void o.error(i.localize(8,null,B.name))},e.prototype.onIconThemes=function(e,t,n,o){var s=this;return Array.isArray(n)?void n.forEach(function(n){if(!n.path||"string"!=typeof n.path)return void o.error(i.localize(12,null,B.name,String(n.path)));if(!n.id||"string"!=typeof n.id)return void o.error(i.localize(13,null,B.name,String(n.path)));var a=r.normalize(r.join(e,n.path));0!==a.indexOf(e)&&o.warn(i.localize(14,null,B.name,a,e)),s.knownIconThemes.push({id:t.extensionId+"-"+n.id,label:n.label||r.basename(n.path),description:n.description,path:a,extensionId:t.extensionId,extensionPublisher:t.extensionPublisher,extensionName:t.extensionName,extensionIsBuiltin:t.extensionIsBuiltin})}):void o.error(i.localize(11,null,B.name))},e.prototype.sendTelemetry=function(e){this.themeExtensionsActivated[e.extensionId]||(this.telemetryService.publicLog("activatePlugin",{id:e.extensionId,name:e.extensionName,isBuiltin:e.extensionIsBuiltin,publisherDisplayName:e.extensionPublisher,themeId:e.id}),this.themeExtensionsActivated[e.extensionId]=!0)},e.prototype.getFileIconThemes=function(){var e=this;return this.extensionService.onReady().then(function(t){return e.knownIconThemes})},e.prototype.getFileIconTheme=function(){return this.currentIconTheme||this.storageService.get(N,d.StorageScope.GLOBAL,"")},e.prototype.setFileIconTheme=function(e,t){var i=this;if(e=e||"",e===this.currentIconTheme)return t&&this.windowService.broadcast({channel:O,payload:e}),n.TPromise.as(!0);var r=function(e){var n=e?e.id:"";i.storageService.store(N,n,d.StorageScope.GLOBAL),t?i.windowService.broadcast({channel:O,payload:n}):e&&i.sendTelemetry(e)};return this.currentIconTheme=e,this._updateIconTheme(r)},e.prototype._updateIconTheme=function(e){var t=this;return this.getFileIconThemes().then(function(n){for(var i,r=0,o=n;r<o.length;r++){var s=o[r];if(s.id===t.currentIconTheme){i=s;break}}return C(i,e)})},e=g([v(0,s.IExtensionService),v(1,h.IWindowIPCService),v(2,d.IStorageService),v(3,p.ITelemetryService)],e)}();t.ThemeService=z;var U="contributedColorTheme",G="contributedIconTheme",K="vscode://schemas/icon-theme",j={type:"object",definitions:{folderExpanded:{type:"string",description:i.localize(20,null)},folder:{type:"string",description:i.localize(21,null)},file:{type:"string",description:i.localize(22,null)},folderNames:{type:"object",description:i.localize(23,null),additionalProperties:{type:"string",description:i.localize(24,null)}},folderNamesExpanded:{type:"object",description:i.localize(25,null),additionalProperties:{type:"string",description:i.localize(26,null)}},fileExtensions:{type:"object",description:i.localize(27,null),additionalProperties:{type:"string",description:i.localize(28,null)}},fileNames:{type:"object",description:i.localize(29,null),additionalProperties:{type:"string",description:i.localize(30,null)}},languageIds:{type:"object",description:i.localize(31,null),additionalProperties:{type:"string",description:i.localize(32,null)}},associations:{type:"object",properties:{folderExpanded:{$ref:"#/definitions/folderExpanded"},folder:{$ref:"#/definitions/folder"},file:{$ref:"#/definitions/file"},folderNames:{$ref:"#/definitions/folderNames"},folderNamesExpanded:{$ref:"#/definitions/folderNamesExpanded"},fileExtensions:{$ref:"#/definitions/fileExtensions"},fileNames:{$ref:"#/definitions/fileNames"},languageIds:{$ref:"#/definitions/languageIds"}}}},properties:{fonts:{type:"array",description:i.localize(33,null),items:{type:"object",properties:{id:{type:"string",description:i.localize(34,null)},src:{type:"array",description:i.localize(35,null),items:{type:"object",properties:{path:{type:"string",description:i.localize(36,null)},format:{type:"string",description:i.localize(37,null)}},required:["path","format"]}},weight:{type:"string",description:i.localize(38,null)},style:{type:"string",description:i.localize(39,null)},size:{type:"string",description:i.localize(40,null)}},required:["id","src"]}},iconDefinitions:{type:"object",description:i.localize(41,null),additionalProperties:{type:"object",description:i.localize(42,null),properties:{iconPath:{type:"string",description:i.localize(43,null)},fontCharacter:{type:"string",description:i.localize(44,null)},fontColor:{type:"string",description:i.localize(45,null)},fontSize:{type:"string",description:i.localize(46,null)},fontId:{type:"string",description:i.localize(47,null)}}}},folderExpanded:{$ref:"#/definitions/folderExpanded"},folder:{$ref:"#/definitions/folder"},file:{$ref:"#/definitions/file"},folderNames:{$ref:"#/definitions/folderNames"},fileExtensions:{$ref:"#/definitions/fileExtensions"},fileNames:{$ref:"#/definitions/fileNames"},languageIds:{$ref:"#/definitions/languageIds"},light:{$ref:"#/definitions/associations",description:i.localize(48,null)},highContrast:{$ref:"#/definitions/associations",description:i.localize(49,null)}}},q=f.Registry.as(m.Extensions.JSONContribution);q.registerSchema(K,j)}),define(l[405],h([1,0,434,7,20,12,21,11,104,49,1017,185,54,1247,153,170,251]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y){"use strict";function b(e,t,n){var i=new D(e,t,n);return{getInitialState:function(){return new l.TMState(t,null,null)},tokenize:function(e,t,n,r){return i.tokenize(e,t,n,r)}}}function S(e){for(var t=0;e;)t++,e=e._parent;return t}function E(e,t,n,i,r){for(var o=r.getModeId(),s=[],a=[],c=null,u=null,l=0,d=i.length;l<d;l++){var p=i[l],g=p.startIndex,v="",y=o,b=_(n,p.scopes);b&&(v=n.getToken(b.tokensMask),b.language&&(y=b.language)),v!==c&&(s.push(new m.Token(g+t,v)),c=v),y!==u&&(a.push(new f.ModeTransition(g+t,y)),u=y)}return new h.RawLineTokens(s,a,t+e.length,r)}function _(e,t){for(var n=e.prevTokenScopes,i=n.length,r=[e.topLevelScope],o=e.topLevelScope,s=!0,a=1,c=t.length;a<c;a++){var u=t[a];if(s&&a<i){var l=n[a];if(l.scope===u){o=l,r[a]=o;continue}}s=!1,o=new x(o,e.decodeTMScope(u)),r[a]=o}return e.prevTokenScopes=r,o}t.grammarsExtPoint=c.ExtensionsRegistry.registerExtensionPoint("grammars",[y.languagesExtPoint],{description:n.localize(0,null),type:"array",defaultSnippets:[{body:[{language:"${1:id}",scopeName:"source.${2:id}",path:"./syntaxes/${3:id}.tmLanguage."}]}],items:{type:"object",defaultSnippets:[{body:{language:"${1:id}",scopeName:"source.${2:id}",path:"./syntaxes/${3:id}.tmLanguage."}}],properties:{language:{description:n.localize(1,null),type:"string"},scopeName:{description:n.localize(2,null),type:"string"},path:{description:n.localize(3,null),type:"string"},embeddedLanguages:{description:n.localize(4,null),type:"object"},injectTo:{description:n.localize(5,null),type:"array",items:{type:"string"}}},require:["scopeName","path"]}});var C=function(){function e(){this._onDidEncounterLanguage=new a.Emitter,this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._scopeNameToLanguageRegistration=Object.create(null),this._encounteredLanguages=Object.create(null)}return e.prototype.register=function(e,t,n){this._scopeNameToLanguageRegistration[e]=new w(this,e,t,n)},e.prototype.getLanguageRegistration=function(e){return this._scopeNameToLanguageRegistration[e]||null},e.prototype.getFilePath=function(e){var t=this.getLanguageRegistration(e);return t?t.grammarFilePath:null},e.prototype.onEncounteredLanguage=function(e){this._encounteredLanguages[e]||(this._encounteredLanguages[e]=!0,this._onDidEncounterLanguage.fire(e))},e}();t.TMScopeRegistry=C;var w=function(){function e(e,t,n,i){if(this._registry=e,this.scopeName=t,this.grammarFilePath=n,this._embeddedLanguages=Object.create(null),i)for(var r=Object.keys(i),s=0,a=r.length;s<a;s++){var c=r[s],u=i[c];"string"==typeof u&&(this._embeddedLanguages[c]=u)}var l=Object.keys(this._embeddedLanguages).map(function(e){return o.escapeRegExpCharacters(e)});0===l.length?this._embeddedLanguagesRegex=null:(l.sort(),l.reverse(),this._embeddedLanguagesRegex=new RegExp("^(("+l.join(")|(")+"))($|\\.)",""))}return e.prototype.scopeToLanguage=function(e){if(!e)return null;if(!this._embeddedLanguagesRegex)return null;var t=e.match(this._embeddedLanguagesRegex);if(!t)return null;var n=this._embeddedLanguages[t[1]]||null;return n?(this._registry.onEncounteredLanguage(n),n):null},e}();t.TMLanguageRegistration=w;var I=function(){function e(e){var n=this;this._modeService=e,this._scopeRegistry=new C,this.onDidEncounterLanguage=this._scopeRegistry.onDidEncounterLanguage,this._injections={},this._grammarRegistry=new p.Registry({getFilePath:function(e){return n._scopeRegistry.getFilePath(e)},getInjections:function(e){return n._injections[e]}}),t.grammarsExtPoint.setHandler(function(e){for(var t=0;t<e.length;t++)for(var i=e[t].value,r=0;r<i.length;r++)n._handleGrammarExtensionPointUser(e[t].description.extensionFolderPath,i[r],e[t].collector)})}return e.prototype._handleGrammarExtensionPointUser=function(e,i,o){var a=this;if(i.language&&("string"!=typeof i.language||!this._modeService.isRegisteredMode(i.language)))return void o.error(n.localize(6,null,t.grammarsExtPoint.name,String(i.language)));if(!i.scopeName||"string"!=typeof i.scopeName)return void o.error(n.localize(7,null,t.grammarsExtPoint.name,String(i.scopeName)));if(!i.path||"string"!=typeof i.path)return void o.error(n.localize(8,null,t.grammarsExtPoint.name,String(i.path)));if(i.injectTo&&(!Array.isArray(i.injectTo)||i.injectTo.some(function(e){return"string"!=typeof e})))return void o.error(n.localize(9,null,t.grammarsExtPoint.name,JSON.stringify(i.injectTo)));if(i.embeddedLanguages&&!s.isObject(i.embeddedLanguages))return void o.error(n.localize(10,null,t.grammarsExtPoint.name,JSON.stringify(i.embeddedLanguages)));var c=r.normalize(r.join(e,i.path));if(0!==c.indexOf(e)&&o.warn(n.localize(11,null,t.grammarsExtPoint.name,c,e)),this._scopeRegistry.register(i.scopeName,c,i.embeddedLanguages),i.injectTo)for(var u=0,l=i.injectTo;u<l.length;u++){var h=l[u],d=this._injections[h];d||(this._injections[h]=d=[]),d.push(i.scopeName)}var p=i.language;if(p)var f=this._modeService.onDidCreateMode(function(e){e.getId()===p&&(a.registerDefinition(p,i.scopeName),f.dispose())})},e.prototype.registerDefinition=function(e,t){var n=this;this._grammarRegistry.loadGrammar(t,function(r,o){if(r)return void i.onUnexpectedError(r);var s=n._scopeRegistry.getLanguageRegistration(t);u.TokenizationRegistry.register(e,b(s,e,o))})},e=g([v(0,d.IModeService)],e)}();t.MainProcessTextMateSyntax=I;var T=function(){function e(e,t,n){this.scope=e,this.language=t,this.tokenIds=n}return e}();t.TMScopeDecodeData=T;var x=function(){function e(e,t){var n,i;e?(n=e.tokensMask.slice(0),i=e.language):(n=[],i=null);for(var r=t.tokenIds,o=0,s=r.length;o<s;o++)n[r[o]]=!0;t.language&&(i=t.language),this.scope=t.scope,this.tokensMask=n,this.language=i}return e}();t.TMScopesDecodeData=x;var A=function(){function e(e){this.lastAssignedTokenId=0,this.languageRegistration=e,this.scopeToTokenIds=Object.create(null),this.tokenToTokenId=Object.create(null),this.tokenIdToToken=[null],this.prevTokenScopes=[],this.topLevelScope=new x(null,new T(e.scopeName,this.languageRegistration.scopeToLanguage(e.scopeName),[]))}return e.prototype._getTokenId=function(e){var t=this.tokenToTokenId[e];return t||(t=++this.lastAssignedTokenId,this.tokenToTokenId[e]=t,this.tokenIdToToken[t]=e),t},e.prototype.decodeTMScope=function(e){var t=this.scopeToTokenIds[e];if(t)return t;for(var n=e.split("."),i=[],r=0;r<n.length;r++)i[r]=this._getTokenId(n[r]);return t=new T(e,this.languageRegistration.scopeToLanguage(e),i),this.scopeToTokenIds[e]=t,t},e.prototype.getToken=function(e){for(var t="",n=!0,i=1,r=e.length;i<r;i++)e[i]&&(n?(n=!1,t+=this.tokenIdToToken[i]):(t+=".",t+=this.tokenIdToToken[i]));return t},e}();t.DecodeMap=A;var D=function(){function e(e,t,n){this._modeId=t,this._grammar=n,this._decodeMap=new A(e)}return e.prototype.tokenize=function(e,t,n,i){if(void 0===n&&(n=0),e.length>=2e4||S(t.getRuleStack())>100)return new h.RawLineTokens([new m.Token(n,"")],[new f.ModeTransition(n,t.getModeId())],n,t);var r=t.clone(),o=this._grammar.tokenizeLine(e,r.getRuleStack());return r.setRuleStack(o.ruleStack),E(e,n,this._decodeMap,o.tokens,r)},e}();t.decodeTextMateTokens=E,t.decodeTextMateToken=_}),define(l[1225],h([1,0,71,14,6,90,60,75,1114,1115,1116,1140,1117,1118,1133,1123,1124,1125,1126,1127,1129,1130,1131,1132,1134,376,1120,405,313,782,764,1128,377]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P,R){"use strict";var O=function(){function e(e,t,n){this.threadService=e,this.instantiationService=t,this.extensionService=n,this.initExtensionSystem()}return e.prototype.getId=function(){return"vs.api.extHost"},e.prototype.initExtensionSystem=function(){var e=this,t=function(t){return e.instantiationService.createInstance(t)},n=new s.InstanceCollection;n.define(s.MainContext.MainThreadCommands).set(t(c.MainThreadCommands)),n.define(s.MainContext.MainThreadConfiguration).set(t(u.MainThreadConfiguration)),n.define(s.MainContext.MainThreadDiagnostics).set(t(l.MainThreadDiagnostics)),n.define(s.MainContext.MainThreadDocuments).set(t(h.MainThreadDocuments)),n.define(s.MainContext.MainThreadEditors).set(t(d.MainThreadEditors)),
n.define(s.MainContext.MainThreadErrors).set(t(p.MainThreadErrors)),n.define(s.MainContext.MainThreadExplorers).set(t(f.MainThreadTreeExplorers)),n.define(s.MainContext.MainThreadLanguageFeatures).set(t(m.MainThreadLanguageFeatures)),n.define(s.MainContext.MainThreadLanguages).set(t(y.MainThreadLanguages)),n.define(s.MainContext.MainThreadMessageService).set(t(b.MainThreadMessageService)),n.define(s.MainContext.MainThreadOutputService).set(t(S.MainThreadOutputService)),n.define(s.MainContext.MainThreadQuickOpen).set(t(E.MainThreadQuickOpen)),n.define(s.MainContext.MainThreadStatusBar).set(t(_.MainThreadStatusBar)),n.define(s.MainContext.MainThreadStorage).set(t(C.MainThreadStorage)),n.define(s.MainContext.MainThreadTelemetry).set(t(w.MainThreadTelemetry)),n.define(s.MainContext.MainThreadTerminalService).set(t(I.MainThreadTerminalService)),n.define(s.MainContext.MainThreadWorkspace).set(t(T.MainThreadWorkspace)),this.extensionService instanceof x.MainProcessExtensionService&&n.define(s.MainContext.MainProcessExtensionService).set(this.extensionService),n.finish(!0,this.threadService);var i=t(D.MainProcessTextMateSyntax);t(L.MainProcessTextMateSnippet),t(k.JSONValidationExtensionPoint),this.instantiationService.createInstance(P.LanguageConfigurationFileHandler,i),t(A.MainThreadFileSystemEventService),t(R.SaveParticipant)},e=g([v(0,o.IThreadService),v(1,r.IInstantiationService),v(2,a.IExtensionService)],e)}();t.ExtHostContribution=O,i.Registry.as(n.Extensions.Workbench).registerWorkbenchContribution(O)}),define(l[91],h([1,0,2,10,27,6,405,916,25,75]),function(e,t,n,i,r,o,s,a,c,u){"use strict";var l=function(){function e(t){null===e._grammars&&this.fillModeScopeMap(t)}return e.prototype.fillModeScopeMap=function(t){e._grammars={},t.forEach(function(t){t.value.forEach(function(t){t.language&&t.scopeName&&(e._grammars[t.language]=t.scopeName)})})},e.prototype.getGrammar=function(t){return e._grammars[t]},e._grammars=null,e}(),h=function(){function t(){this._emmetPromise=null}return t.withConfiguredEmmet=function(e,n){return t._INSTANCE.withEmmetPreferences(e,n)},t.prototype.withEmmetPreferences=function(e,t){var n=this;return this._loadEmmet().then(function(i){n._withEmmetPreferences(e,i,t)})},t.prototype._loadEmmet=function(){return this._emmetPromise||(this._emmetPromise=new n.TPromise(function(t,n){e(["emmet"],t,n)})),this._emmetPromise},t.prototype.updateEmmetPreferences=function(e,t){var n=e.getConfiguration().emmet;try{t.loadPreferences(n.preferences),t.loadProfiles(n.syntaxProfiles)}catch(e){}},t.prototype.resetEmmetPreferences=function(e,t){t.preferences.reset(),t.profile.reset()},t.prototype._withEmmetPreferences=function(e,t,n){try{this.updateEmmetPreferences(e,t),n(t)}finally{this.resetEmmetPreferences(e,t)}},t._INSTANCE=new t,t}(),p=function(){function e(e,t,n){this.editor=e,this.emmet=t,this.editorAccessor=n}return e}();t.EmmetActionContext=p;var f=function(e){function t(){e.apply(this,arguments),this._lastGrammarContributions=null,this._lastExtensionService=null}return d(t,e),t.prototype.noExpansionOccurred=function(e){},t.prototype._withGrammarContributions=function(e){return this._lastExtensionService!==e&&(this._lastExtensionService=e,this._lastGrammarContributions=e.readExtensionPointContributions(s.grammarsExtPoint).then(function(e){return new l(e)})),this._lastGrammarContributions},t.prototype.run=function(e,t){var n=this,i=e.get(c.IConfigurationService),r=e.get(o.IInstantiationService),s=e.get(u.IExtensionService);return this._withGrammarContributions(s).then(function(e){var o=new a.EditorAccessor(t,i.getConfiguration().emmet.syntaxProfiles,i.getConfiguration().emmet.excludeLanguages,e);return o.isEmmetEnabledMode()?h.withConfiguredEmmet(i,function(e){o.onBeforeEmmetAction(),r.invokeFunction(function(i){n.runEmmetAction(i,new p(t,e,o))}),o.onAfterEmmetAction()}):void n.noExpansionOccurred(t)})},t}(r.EditorAction);t.EmmetEditorAction=f;var g=function(e){function t(t,n,r,o,s){e.call(this,{id:t,label:n,alias:r,precondition:i.EditorContextKeys.Writable,kbOpts:s}),this.emmetActionName=o}return d(t,e),t.prototype.runEmmetAction=function(e,t){t.emmet.run(this.emmetActionName,t.editorAccessor)||this.noExpansionOccurred(t.editor)},t}(f);t.BasicEmmetEditorAction=g}),define(l[1227],h([1,0,513,91,27]),function(e,t,n,i,r){"use strict";(function(e){function t(){e.call(this,"editor.emmet.action.balanceInward",n.localize(0,null),"Emmet: Balance (inward)","balance_inward")}return d(t,e),t=g([r.editorAction],t)})(i.BasicEmmetEditorAction),function(e){function t(){e.call(this,"editor.emmet.action.balanceOutward",n.localize(1,null),"Emmet: Balance (outward)","balance_outward")}return d(t,e),t=g([r.editorAction],t)}(i.BasicEmmetEditorAction)}),define(l[1228],h([1,0,514,91,27]),function(e,t,n,i,r){"use strict";(function(e){function t(){e.call(this,"editor.emmet.action.previousEditPoint",n.localize(0,null),"Emmet: Previous Edit Point","prev_edit_point")}return d(t,e),t=g([r.editorAction],t)})(i.BasicEmmetEditorAction),function(e){function t(){e.call(this,"editor.emmet.action.nextEditPoint",n.localize(1,null),"Emmet: Next Edit Point","next_edit_point")}return d(t,e),t=g([r.editorAction],t)}(i.BasicEmmetEditorAction)}),define(l[1229],h([1,0,515,91,27]),function(e,t,n,i,r){"use strict";(function(e){function t(){e.call(this,"editor.emmet.action.evaluateMath",n.localize(0,null),"Emmet: Evaluate Math Expression","evaluate_math_expression")}return d(t,e),t=g([r.editorAction],t)})(i.BasicEmmetEditorAction)}),define(l[1230],h([1,0,516,91,27,10,23]),function(e,t,n,i,r,o,s){"use strict";(function(e){function t(){e.call(this,"editor.emmet.action.expandAbbreviation",n.localize(0,null),"Emmet: Expand Abbreviation","expand_abbreviation",{primary:2,kbExpr:s.ContextKeyExpr.and(o.EditorContextKeys.TextFocus,o.EditorContextKeys.HasOnlyEmptySelection,o.EditorContextKeys.HasSingleSelection,o.EditorContextKeys.TabDoesNotMoveFocus,s.ContextKeyExpr.has("config.emmet.triggerExpansionOnTab"))})}return d(t,e),t.prototype.noExpansionOccurred=function(e){e.trigger("emmet",o.Handler.Tab,{})},t=g([r.editorAction],t)})(i.BasicEmmetEditorAction)}),define(l[1231],h([1,0,517,91,27]),function(e,t,n,i,r){"use strict";(function(e){function t(){e.call(this,"editor.emmet.action.incrementNumberByOneTenth",n.localize(0,null),"Emmet: Increment by 0.1","increment_number_by_01")}return d(t,e),t=g([r.editorAction],t)})(i.BasicEmmetEditorAction),function(e){function t(){e.call(this,"editor.emmet.action.incrementNumberByOne",n.localize(1,null),"Emmet: Increment by 1","increment_number_by_1")}return d(t,e),t=g([r.editorAction],t)}(i.BasicEmmetEditorAction),function(e){function t(){e.call(this,"editor.emmet.action.incrementNumberByTen",n.localize(2,null),"Emmet: Increment by 10","increment_number_by_10")}return d(t,e),t=g([r.editorAction],t)}(i.BasicEmmetEditorAction),function(e){function t(){e.call(this,"editor.emmet.action.decrementNumberByOneTenth",n.localize(3,null),"Emmet: Decrement by 0.1","decrement_number_by_01")}return d(t,e),t=g([r.editorAction],t)}(i.BasicEmmetEditorAction),function(e){function t(){e.call(this,"editor.emmet.action.decrementNumberByOne",n.localize(4,null),"Emmet: Decrement by 1","decrement_number_by_1")}return d(t,e),t=g([r.editorAction],t)}(i.BasicEmmetEditorAction),function(e){function t(){e.call(this,"editor.emmet.action.decrementNumberByTen",n.localize(5,null),"Emmet: Decrement by 10","decrement_number_by_10")}return d(t,e),t=g([r.editorAction],t)}(i.BasicEmmetEditorAction)}),define(l[1232],h([1,0,518,91,27]),function(e,t,n,i,r){"use strict";(function(e){function t(){e.call(this,"editor.emmet.action.matchingPair",n.localize(0,null),"Emmet: Go to Matching Pair","matching_pair")}return d(t,e),t=g([r.editorAction],t)})(i.BasicEmmetEditorAction)}),define(l[1233],h([1,0,519,91,27]),function(e,t,n,i,r){"use strict";(function(e){function t(){e.call(this,"editor.emmet.action.mergeLines",n.localize(0,null),"Emmet: Merge Lines","merge_lines")}return d(t,e),t=g([r.editorAction],t)})(i.BasicEmmetEditorAction)}),define(l[1234],h([1,0,520,91,27]),function(e,t,n,i,r){"use strict";(function(e){function t(){e.call(this,"editor.emmet.action.reflectCSSValue",n.localize(0,null),"Emmet: Reflect CSS Value","reflect_css_value")}return d(t,e),t=g([r.editorAction],t)})(i.BasicEmmetEditorAction)}),define(l[1235],h([1,0,521,91,27]),function(e,t,n,i,r){"use strict";(function(e){function t(){e.call(this,"editor.emmet.action.removeTag",n.localize(0,null),"Emmet: Remove Tag","remove_tag")}return d(t,e),t=g([r.editorAction],t)})(i.BasicEmmetEditorAction)}),define(l[1236],h([1,0,522,91,27]),function(e,t,n,i,r){"use strict";(function(e){function t(){e.call(this,"editor.emmet.action.selectPreviousItem",n.localize(0,null),"Emmet: Select Previous Item","select_previous_item")}return d(t,e),t=g([r.editorAction],t)})(i.BasicEmmetEditorAction),function(e){function t(){e.call(this,"editor.emmet.action.selectNextItem",n.localize(1,null),"Emmet: Select Next Item","select_next_item")}return d(t,e),t=g([r.editorAction],t)}(i.BasicEmmetEditorAction)}),define(l[1237],h([1,0,523,91,27]),function(e,t,n,i,r){"use strict";(function(e){function t(){e.call(this,"editor.emmet.action.splitJoinTag",n.localize(0,null),"Emmet: Split/Join Tag","split_join_tag")}return d(t,e),t=g([r.editorAction],t)})(i.BasicEmmetEditorAction)}),define(l[1238],h([1,0,524,91,27]),function(e,t,n,i,r){"use strict";(function(e){function t(){e.call(this,"editor.emmet.action.toggleComment",n.localize(0,null),"Emmet: Toggle Comment","toggle_comment")}return d(t,e),t=g([r.editorAction],t)})(i.BasicEmmetEditorAction)}),define(l[1239],h([1,0,525,91,27]),function(e,t,n,i,r){"use strict";(function(e){function t(){e.call(this,"editor.emmet.action.updateImageSize",n.localize(0,null),"Emmet: Update Image Size","update_image_size")}return d(t,e),t=g([r.editorAction],t)})(i.BasicEmmetEditorAction)}),define(l[1240],h([1,0,526,91,27,10,50]),function(e,t,n,i,r,o,s){"use strict";(function(e){function t(){e.call(this,{id:"editor.emmet.action.updateTag",label:n.localize(0,null),alias:"Emmet: Update Tag",precondition:o.EditorContextKeys.Writable})}return d(t,e),t.prototype.runEmmetAction=function(e,t){var i=this,r=e.get(s.IQuickOpenService),o={prompt:n.localize(1,null),placeHolder:n.localize(2,null)};r.input(o).then(function(e){i.wrapAbbreviation(t,e)})},t.prototype.wrapAbbreviation=function(e,t){t&&!e.emmet.run("update_tag",e.editorAccessor,t)&&this.noExpansionOccurred(e.editor)},t=g([r.editorAction],t)})(i.EmmetEditorAction)}),define(l[1241],h([1,0,527,91,27,10,50]),function(e,t,n,i,r,o,s){"use strict";(function(e){function t(){e.call(this,{id:"editor.emmet.action.wrapWithAbbreviation",label:n.localize(0,null),alias:"Emmet: Wrap with Abbreviation",precondition:o.EditorContextKeys.Writable})}return d(t,e),t.prototype.runEmmetAction=function(e,t){var i=this,r=e.get(s.IQuickOpenService),o={prompt:n.localize(1,null),placeHolder:n.localize(2,null)};r.input(o).then(function(e){i.wrapAbbreviation(t,e)})},t.prototype.wrapAbbreviation=function(e,t){t&&!e.emmet.run("wrap_with_abbreviation",e.editorAccessor,t)&&this.noExpansionOccurred(e.editor)},t=g([r.editorAction],t)})(i.EmmetEditorAction)}),define(l[1242],h([1,0,528,14,77,1230,1227,1232,1241,1228,1236,1238,1237,1235,1233,1239,1229,1231,1234,1240]),function(e,t,n,i,r){"use strict";var o=i.Registry.as(r.Extensions.Configuration);o.registerConfiguration({id:"emmet",order:6,title:n.localize(0,null),type:"object",properties:{"emmet.triggerExpansionOnTab":{type:"boolean",default:!0,description:n.localize(1,null)},"emmet.preferences":{type:"object",default:{},description:n.localize(2,null)},"emmet.syntaxProfiles":{type:"object",default:{},description:n.localize(3,null)},"emmet.excludeLanguages":{type:"array",default:[],description:n.localize(4,null)}}})}),define(l[1243],h([1,0,1246,107,2,7,95,366,847]),function(e,t,n,i,r,o,s,a,c){"use strict";function u(e,t,n){return c.resolveCommonProperties(t,n).then(function(t){t["common.version.shell"]=process.versions&&process.versions.electron,t["common.version.renderer"]=process.versions&&process.versions.chrome,t["common.osVersion"]=i.release();var n=e.get("telemetry.lastSessionDate"),o=e.get("telemetry.firstSessionDate")||(new Date).toUTCString();e.store("telemetry.firstSessionDate",o),e.store("telemetry.lastSessionDate",(new Date).toUTCString()),t["common.firstSessionDate"]=o,t["common.lastSessionDate"]=n,t["common.isNewSession"]=n?"0":"1";var s=[];return s.push(l(e).then(function(e){return t["common.instanceId"]=e})),s.push(h(e).then(function(e){return t["common.machineId"]=e})),"win32"===process.platform&&(s.push(d(e).then(function(e){return t["common.sqm.userid"]=e})),s.push(p(e).then(function(e){return t["common.sqm.machineid"]=e}))),r.TPromise.join(s).then(function(){return t})})}function l(e){var t=e.get("telemetry.instanceId")||s.generateUuid();return e.store("telemetry.instanceId",t),r.TPromise.as(t)}function h(e){var t="telemetry.machineId",n=e.get(t);return n?r.TPromise.as(n):a.getMachineId().then(function(n){return e.store(t,n),n})}function d(e){var t=e.get("telemetry.sqm.userId");return t?r.TPromise.as(t):f(g,"UserId",n.HKCU).then(function(t){if(t)return e.store("telemetry.sqm.userId",t),t})}function p(e){var t=e.get("telemetry.sqm.machineId");return t?r.TPromise.as(t):f(g,"MachineId",n.HKLM).then(function(t){if(t)return e.store("telemetry.sqm.machineId",t),t})}function f(e,t,i){return new r.TPromise(function(r,s){if("win32"===process.platform)try{var a=new n({hive:i,key:e});a.get(t,function(e,t){e||!t?s(null):r(t.value)})}catch(e){o.onUnexpectedError(e),s(e)}else r(null)}).then(void 0,function(e){})}var g="\\Software\\Microsoft\\SQMClient";t.resolveWorkbenchCommonProperties=u}),define(l[1244],h([1,0,8,11,16,121,5,621,107,70,13,1254,29,23,36,18,76,136,78,139]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S,E){"use strict";var _=function(){function t(e,n,r,o,s,a,c,u,l,h){this._terminalFocusContextKey=e,this._configHelper=n,this._container=r,this._contextKeyService=c,this._keybindingService=u,this._messageService=l,this._panelService=h,this._toDispose=[],this._skipTerminalCommands=[],this._isExiting=!1,this._hadFocusOnExit=!1,this._isLaunching=!0,this._isVisible=!1,this._id=t._idCounter++,this._terminalHasTextContextKey=b.KEYBINDING_CONTEXT_TERMINAL_TEXT_SELECTED.bindTo(this._contextKeyService),this._onDisposed=new i.Emitter,this._onProcessIdReady=new i.Emitter,this._onTitleChanged=new i.Emitter,this._createProcess(o,s,a),r&&this.attachToElement(r)}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"processId",{get:function(){return this._processId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onClosed",{get:function(){return this._onDisposed.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onProcessIdReady",{get:function(){return this._onProcessIdReady.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onTitleChanged",{get:function(){return this._onTitleChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hadFocusOnExit",{get:function(){return this._hadFocusOnExit},enumerable:!0,configurable:!0}),t.prototype.addDisposable=function(e){this._toDispose.push(e)},t.prototype.attachToElement=function(e){var t=this;if(this._wrapperElement)throw new Error("The terminal instance has already been attached to a container");this._container=e,this._wrapperElement=document.createElement("div"),n.addClass(this._wrapperElement,"terminal-wrapper"),this._xtermElement=document.createElement("div"),this._xterm=h(),this._xterm.open(this._xtermElement),this._process.on("message",function(e){t._xterm&&"data"===e.type&&t._xterm.write(e.content)}),this._xterm.on("data",function(e){return t._process.send({event:"input",data:t._sanitizeInput(e)}),!1}),this._xterm.attachCustomKeydownHandler(function(e){var n=new S.StandardKeyboardEvent(e),i=n.toKeybinding(),r=t._keybindingService.resolve(i,n.target);return r&&t._skipTerminalCommands.some(function(e){return e===r.commandId})?(e.preventDefault(),!1):(!E.TabFocus.getTabFocusMode()||9!==e.keyCode)&&void 0}),this._xterm.element.addEventListener("mouseup",function(e){setTimeout(function(){t._refreshSelectionContextKey()},0)}),this._xterm.element.addEventListener("keyup",function(e){setTimeout(function(){t._refreshSelectionContextKey()},0)});var i=this._xterm.element.querySelector(".xterm-helpers"),r=document.createElement("div");r.setAttribute("tabindex","0"),n.addClass(r,"focus-trap"),r.addEventListener("focus",function(e){for(var t=r;!n.hasClass(t,"part");)t=t.parentElement;var i=t.querySelector(".hide-panel-action");i.focus()}),i.insertBefore(r,this._xterm.textarea),this._toDispose.push(n.addDisposableListener(this._xterm.textarea,"focus",function(e){t._terminalFocusContextKey.set(!0)})),this._toDispose.push(n.addDisposableListener(this._xterm.textarea,"blur",function(e){t._terminalFocusContextKey.reset(),t._refreshSelectionContextKey()})),this._toDispose.push(n.addDisposableListener(this._xterm.element,"focus",function(e){t._terminalFocusContextKey.set(!0)})),this._toDispose.push(n.addDisposableListener(this._xterm.element,"blur",function(e){t._terminalFocusContextKey.reset(),t._refreshSelectionContextKey()})),this._wrapperElement.appendChild(this._xtermElement),this._container.appendChild(this._wrapperElement);var o=window.getComputedStyle(this._container),s=parseInt(o.getPropertyValue("width").replace("px",""),10),a=parseInt(o.getPropertyValue("height").replace("px",""),10);this.layout(new d.Dimension(s,a)),this.setVisible(this._isVisible),this.setCursorBlink(this._configHelper.getCursorBlink()),this.setCommandsToSkipShell(this._configHelper.getCommandsToSkipShell()),this.setScrollback(this._configHelper.getScrollback())},t.prototype.copySelection=function(){document.activeElement.classList.contains("xterm")?document.execCommand("copy"):this._messageService.show(m.Severity.Warning,a.localize(0,null))},t.prototype.dispose=function(){this._isExiting=!0,this._xterm&&this._xterm.element&&(this._hadFocusOnExit=n.hasClass(this._xterm.element,"focus")),this._wrapperElement&&(this._container.removeChild(this._wrapperElement),this._wrapperElement=null),this._xterm&&(this._xterm.destroy(),this._xterm=null),this._process&&(this._process.connected&&this._process.kill(),this._process=null),this._onDisposed.fire(this),this._toDispose=s.dispose(this._toDispose)},t.prototype.focus=function(e){if(this._xterm){var t=window.getSelection().toString();t&&!e||this._xterm.focus()}},t.prototype.paste=function(){this.focus(),document.execCommand("paste")},t.prototype.sendText=function(e,t){t&&e.substr(e.length-c.EOL.length)!==c.EOL&&(e+=c.EOL),this._process.send({event:"input",data:e})},t.prototype.setVisible=function(e){this._isVisible=e,this._wrapperElement&&n.toggleClass(this._wrapperElement,"active",e)},t.prototype.scrollDownLine=function(){this._xterm.scrollDisp(1)},t.prototype.scrollDownPage=function(){this._xterm.scrollPages(1)},t.prototype.scrollToBottom=function(){this._xterm.scrollToBottom()},t.prototype.scrollUpLine=function(){this._xterm.scrollDisp(-1)},t.prototype.scrollUpPage=function(){this._xterm.scrollPages(-1)},t.prototype.scrollToTop=function(){this._xterm.scrollToTop()},t.prototype.clear=function(){this._xterm.clear()},t.prototype._refreshSelectionContextKey=function(){var e=this._panelService.getActivePanel(),t=e&&e.getId()===b.TERMINAL_PANEL_ID;this._terminalHasTextContextKey.set(t&&!window.getSelection().isCollapsed)},t.prototype._sanitizeInput=function(e){return"string"==typeof e?e.replace(t.EOL_REGEX,c.EOL):e},t.prototype._createProcess=function(n,i,s){var c=this,h=this._configHelper.isSetLocaleVariables()?l.locale:void 0;s.executable||(s=this._configHelper.getShell());var d=t.createTerminalEnv(process.env,s,n,h);this._title=i?i:"",this._process=o.fork("./terminalProcess",[],{env:d,cwd:r.default.parse(u.dirname(e.toUrl("./terminalProcess"))).fsPath}),i||this._process.on("message",function(e){"title"===e.type&&(c._title=e.content?e.content:"",c._onTitleChanged.fire(c._title))}),this._process.on("message",function(e){"pid"===e.type&&(c._processId=e.content,c._onProcessIdReady.fire(c))}),this._process.on("exit",function(e){if(!c._isExiting&&(c.dispose(),e))if(c._isLaunching){var t=s.args&&s.args.length?" "+s.args.map(function(e){return e.indexOf(" ")!==-1?"'"+e+"'":e}).join(" "):"";c._messageService.show(m.Severity.Error,a.localize(1,null,s.executable,t,e))}else c._messageService.show(m.Severity.Error,a.localize(2,null,e))}),setTimeout(function(){c._isLaunching=!1},t.LAUNCHING_DURATION)},t.createTerminalEnv=function(e,n,i,r){var o=t._cloneEnv(e);return o.PTYPID=process.pid.toString(),o.PTYSHELL=n.executable,n.args&&n.args.forEach(function(e,t){o["PTYSHELLARG"+t]=e}),o.PTYCWD=t._sanitizeCwd(i?i.resource.fsPath:c.homedir()),r&&(o.LANG=t._getLangEnvVariable(r)),o},t._sanitizeCwd=function(e){return l.platform===l.Platform.Windows&&e&&":"===e[1]?e[0].toUpperCase()+e.substr(1):e},t._cloneEnv=function(e){var t=Object.create(null);return Object.keys(e).forEach(function(n){t[n]=e[n]}),t},t._getLangEnvVariable=function(e){var t=e.split("-"),n=t.length;return n>1&&(t[n-1]=t[n-1].toUpperCase()),t.join("_")+".UTF-8"},t.prototype.setCursorBlink=function(e){this._xterm&&this._xterm.getOption("cursorBlink")!==e&&(this._xterm.setOption("cursorBlink",e),this._xterm.refresh(0,this._xterm.rows-1))},t.prototype.setCommandsToSkipShell=function(e){this._skipTerminalCommands=e},t.prototype.setScrollback=function(e){this._xterm&&this._xterm.getOption("scrollback")!==e&&this._xterm.setOption("scrollback",e)},t.prototype.layout=function(e){var t=this._configHelper.getFont();if(t&&t.charWidth&&t.charHeight&&e.height){this._xterm.emit("scroll",this._xterm.ydisp);var n=parseInt(getComputedStyle(document.querySelector(".terminal-outer-container")).paddingLeft.split("px")[0],10),i=e.width-n,r=Math.floor(i/t.charWidth),o=Math.floor(e.height/t.charHeight);this._xterm&&(this._xterm.resize(r,o),this._xterm.element.style.width=i+"px"),this._process.connected&&this._process.send({event:"resize",cols:r,rows:o})}},t.LAUNCHING_DURATION=500,t.EOL_REGEX=/\r?\n/g,t._idCounter=1,t=g([v(6,p.IContextKeyService),v(7,f.IKeybindingService),v(8,m.IMessageService),v(9,y.IPanelService)],t)}();t.TerminalInstance=_}),define(l[1224],h([1,0,11,13,23,6,76,45,25,136,26,2,984,1244]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p){"use strict";var f=function(){function e(e,t,r,o,s,a){var c=this;this._contextKeyService=e,this._configurationService=t,this._instantiationService=r,this._panelService=o,this._partService=s,this._workspaceContextService=a,this._terminalInstances=[],this._activeTerminalInstanceIndex=0,this._onActiveInstanceChanged=new n.Emitter,this._onInstanceDisposed=new n.Emitter,this._onInstanceProcessIdReady=new n.Emitter,this._onInstanceTitleChanged=new n.Emitter,this._onInstancesChanged=new n.Emitter,this._configurationService.onDidUpdateConfiguration(this.updateConfig.bind(this)),this._terminalFocusContextKey=u.KEYBINDING_CONTEXT_TERMINAL_FOCUS.bindTo(this._contextKeyService),this._configHelper=this._instantiationService.createInstance(d.TerminalConfigHelper,i.platform),this.onInstanceDisposed(function(e){c._removeInstance(e)})}return Object.defineProperty(e.prototype,"activeTerminalInstanceIndex",{get:function(){return this._activeTerminalInstanceIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"configHelper",{get:function(){return this._configHelper},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onActiveInstanceChanged",{get:function(){return this._onActiveInstanceChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onInstanceDisposed",{get:function(){return this._onInstanceDisposed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onInstanceProcessIdReady",{get:function(){return this._onInstanceProcessIdReady.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onInstanceTitleChanged",{get:function(){return this._onInstanceTitleChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onInstancesChanged",{get:function(){return this._onInstancesChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"terminalInstances",{get:function(){return this._terminalInstances},enumerable:!0,configurable:!0}),e.prototype.createInstance=function(e,t,n){var i={executable:t,args:n},r=this._instantiationService.createInstance(p.TerminalInstance,this._terminalFocusContextKey,this._configHelper,this._terminalContainer,this._workspaceContextService.getWorkspace(),e,i);return r.addDisposable(r.onTitleChanged(this._onInstanceTitleChanged.fire,this._onInstanceTitleChanged)),r.addDisposable(r.onClosed(this._onInstanceDisposed.fire,this._onInstanceDisposed)),r.addDisposable(r.onProcessIdReady(this._onInstanceProcessIdReady.fire,this._onInstanceProcessIdReady)),this.terminalInstances.push(r),1===this.terminalInstances.length&&this.setActiveInstanceByIndex(0),this._onInstancesChanged.fire(),r},e.prototype.getInstanceLabels=function(){return this._terminalInstances.map(function(e,t){return t+1+": "+e.title})},e.prototype._removeInstance=function(e){var t=this.terminalInstances.indexOf(e),n=e===this.getActiveInstance();if(t!==-1&&this.terminalInstances.splice(t,1),n&&this.terminalInstances.length>0){var i=t<this.terminalInstances.length?t:this.terminalInstances.length-1;this.setActiveInstanceByIndex(i),e.hadFocusOnExit&&this.getActiveInstance().focus(!0)}0===this.terminalInstances.length&&this.hidePanel(),this._onInstancesChanged.fire(),n&&this._onActiveInstanceChanged.fire()},e.prototype.getActiveInstance=function(){return this.activeTerminalInstanceIndex<0||this.activeTerminalInstanceIndex>=this.terminalInstances.length?null:this.terminalInstances[this.activeTerminalInstanceIndex]},e.prototype.getInstanceFromId=function(e){return this.terminalInstances[this._getIndexFromId(e)]},e.prototype.setActiveInstance=function(e){this.setActiveInstanceByIndex(this._getIndexFromId(e.id))},e.prototype.setActiveInstanceByIndex=function(e){var t=this._activeTerminalInstanceIndex!==e;this._activeTerminalInstanceIndex=e,this._terminalInstances.forEach(function(t,n){t.setVisible(n===e)}),t&&this._onActiveInstanceChanged.fire()},e.prototype.setActiveInstanceToNext=function(){if(!(this.terminalInstances.length<=1)){var e=this._activeTerminalInstanceIndex+1;e>=this.terminalInstances.length&&(e=0),this.setActiveInstanceByIndex(e)}},e.prototype.setActiveInstanceToPrevious=function(){if(!(this.terminalInstances.length<=1)){var e=this._activeTerminalInstanceIndex-1;e<0&&(e=this.terminalInstances.length-1),this.setActiveInstanceByIndex(e)}},e.prototype.setContainers=function(e,t){var n=this;this._configHelper.panelContainer=e,this._terminalContainer=t,this._terminalInstances.forEach(function(e){e.attachToElement(n._terminalContainer)})},e.prototype.showPanel=function(e){var t=this;return new h.TPromise(function(n){var i=t._panelService.getActivePanel();return i&&i.getId()===u.TERMINAL_PANEL_ID?(e&&t.getActiveInstance().focus(!0),void n(void 0)):t._panelService.openPanel(u.TERMINAL_PANEL_ID,e).then(function(){e&&t.getActiveInstance().focus(!0),n(void 0)})})},e.prototype.hidePanel=function(){var e=this._panelService.getActivePanel();e&&e.getId()===u.TERMINAL_PANEL_ID&&this._partService.setPanelHidden(!0)},e.prototype._getIndexFromId=function(e){var t=-1;if(this.terminalInstances.forEach(function(n,i){n.id===e&&(t=i)}),t===-1)throw new Error("Terminal with ID "+e+" does not exist (has it already been disposed?)");return t},e.prototype.updateConfig=function(){var e=this;this.terminalInstances.forEach(function(t){t.setCursorBlink(e.configHelper.getCursorBlink()),t.setCommandsToSkipShell(e.configHelper.getCommandsToSkipShell()),t.setScrollback(e.configHelper.getScrollback())})},e=g([v(0,r.IContextKeyService),v(1,c.IConfigurationService),v(2,o.IInstantiationService),v(3,s.IPanelService),v(4,a.IPartService),v(5,l.IWorkspaceContextService)],e)}();t.TerminalService=f}),define(l[1222],h([1,0,89,13,619,77,368,136,37,23,254,14,260,31,1224,224,102,116,84,190,127,839,840,845]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,g,v,m,y,b,S){"use strict";var E=h.Registry.as(o.Extensions.Configuration);E.registerConfiguration({id:"terminal",order:100,title:r.localize(0,null),type:"object",properties:{"terminal.integrated.shell.linux":{description:r.localize(1,null),type:"string",default:a.TERMINAL_DEFAULT_SHELL_LINUX},"terminal.integrated.shellArgs.linux":{description:r.localize(2,null),type:"array",items:{type:"string"},default:[]},"terminal.integrated.shell.osx":{description:r.localize(3,null),type:"string",default:a.TERMINAL_DEFAULT_SHELL_OSX},"terminal.integrated.shellArgs.osx":{description:r.localize(4,null),type:"array",items:{type:"string"},default:[]},"terminal.integrated.shell.windows":{description:r.localize(5,null),type:"string",default:a.TERMINAL_DEFAULT_SHELL_WINDOWS},"terminal.integrated.shellArgs.windows":{description:r.localize(6,null),type:"array",items:{type:"string"},default:[]},"terminal.integrated.fontFamily":{description:r.localize(7,null),type:"string"},"terminal.integrated.fontLigatures":{description:r.localize(8,null),type:"boolean",default:!1},"terminal.integrated.fontSize":{description:r.localize(9,null),type:"number",default:S.DefaultConfig.editor.fontSize},"terminal.integrated.lineHeight":{description:r.localize(10,null),type:"number",default:1.2},"terminal.integrated.cursorBlinking":{description:r.localize(11,null),type:"boolean",default:!1},"terminal.integrated.scrollback":{description:r.localize(12,null),type:"number",default:1e3},"terminal.integrated.setLocaleVariables":{description:r.localize(13,null),type:"boolean",default:i.isMacintosh},"terminal.integrated.commandsToSkipShell":{description:r.localize(14,null),type:"array",items:{type:"string"},default:[g.ToggleTabFocusModeAction.ID,s.GlobalQuickOpenAction.ID,d.ShowAllCommandsAction.ID,l.CreateNewTerminalAction.ID,l.CopyTerminalSelectionAction.ID,l.KillTerminalAction.ID,l.FocusTerminalAction.ID,l.FocusPreviousTerminalAction.ID,l.FocusNextTerminalAction.ID,l.TerminalPasteAction.ID,l.RunSelectedTextInTerminalAction.ID,l.ToggleTerminalAction.ID,l.ScrollDownTerminalAction.ID,l.ScrollDownPageTerminalAction.ID,l.ScrollToBottomTerminalAction.ID,l.ScrollUpTerminalAction.ID,l.ScrollUpPageTerminalAction.ID,l.ScrollToTopTerminalAction.ID,l.ClearTerminalAction.ID,m.StartAction.ID,m.StopAction.ID,m.RunAction.ID,m.RestartAction.ID,m.ContinueAction.ID,b.OpenNextRecentlyUsedEditorInGroupAction.ID,b.OpenPreviousRecentlyUsedEditorInGroupAction.ID].sort()}}}),v.registerSingleton(a.ITerminalService,f.TerminalService),h.Registry.as(n.Extensions.Panels).registerPanel(new n.PanelDescriptor("vs/workbench/parts/terminal/electron-browser/terminalPanel","TerminalPanel",a.TERMINAL_PANEL_ID,r.localize(15,null),"terminal",40));var _=r.localize(16,null),C=h.Registry.as(c.Extensions.WorkbenchActions);C.registerWorkbenchAction(new p.SyncActionDescriptor(l.KillTerminalAction,l.KillTerminalAction.ID,l.KillTerminalAction.LABEL),"Terminal: Kill the Active Terminal Instance",_),C.registerWorkbenchAction(new p.SyncActionDescriptor(l.CopyTerminalSelectionAction,l.CopyTerminalSelectionAction.ID,l.CopyTerminalSelectionAction.LABEL,{primary:32801,linux:{primary:49185},mac:{primary:null}},u.ContextKeyExpr.and(a.KEYBINDING_CONTEXT_TERMINAL_TEXT_SELECTED,a.KEYBINDING_CONTEXT_TERMINAL_FOCUS)),"Terminal: Copy Selection",_),C.registerWorkbenchAction(new p.SyncActionDescriptor(l.CreateNewTerminalAction,l.CreateNewTerminalAction.ID,l.CreateNewTerminalAction.LABEL,{primary:49238,mac:{primary:20566}}),"Terminal: Create New Integrated Terminal",_),C.registerWorkbenchAction(new p.SyncActionDescriptor(l.FocusTerminalAction,l.FocusTerminalAction.ID,l.FocusTerminalAction.LABEL),"Terminal: Focus Terminal",_),
C.registerWorkbenchAction(new p.SyncActionDescriptor(l.FocusNextTerminalAction,l.FocusNextTerminalAction.ID,l.FocusNextTerminalAction.LABEL),"Terminal: Focus Next Terminal",_),C.registerWorkbenchAction(new p.SyncActionDescriptor(l.FocusPreviousTerminalAction,l.FocusPreviousTerminalAction.ID,l.FocusPreviousTerminalAction.LABEL),"Terminal: Focus Previous Terminal",_),C.registerWorkbenchAction(new p.SyncActionDescriptor(l.TerminalPasteAction,l.TerminalPasteAction.ID,l.TerminalPasteAction.LABEL,{primary:32820,linux:{primary:49204},mac:{primary:null}},a.KEYBINDING_CONTEXT_TERMINAL_FOCUS),"Terminal: Paste into Active Terminal",_),C.registerWorkbenchAction(new p.SyncActionDescriptor(l.RunSelectedTextInTerminalAction,l.RunSelectedTextInTerminalAction.ID,l.RunSelectedTextInTerminalAction.LABEL),"Terminal: Run Selected Text In Active Terminal",_),C.registerWorkbenchAction(new p.SyncActionDescriptor(l.ToggleTerminalAction,l.ToggleTerminalAction.ID,l.ToggleTerminalAction.LABEL,{primary:32854,mac:{primary:4182}}),"View: Toggle Integrated Terminal",r.localize(17,null)),C.registerWorkbenchAction(new p.SyncActionDescriptor(l.ScrollDownTerminalAction,l.ScrollDownTerminalAction.ID,l.ScrollDownTerminalAction.LABEL,{primary:32786,linux:{primary:49170}},a.KEYBINDING_CONTEXT_TERMINAL_FOCUS),"Terminal: Scroll Down (Line)",_),C.registerWorkbenchAction(new p.SyncActionDescriptor(l.ScrollDownPageTerminalAction,l.ScrollDownPageTerminalAction.ID,l.ScrollDownPageTerminalAction.LABEL,{primary:16396,mac:{primary:12}},a.KEYBINDING_CONTEXT_TERMINAL_FOCUS),"Terminal: Scroll Down (Page)",_),C.registerWorkbenchAction(new p.SyncActionDescriptor(l.ScrollToBottomTerminalAction,l.ScrollToBottomTerminalAction.ID,l.ScrollToBottomTerminalAction.LABEL,{primary:32781,linux:{primary:16397}},a.KEYBINDING_CONTEXT_TERMINAL_FOCUS),"Terminal: Scroll to Bottom",_),C.registerWorkbenchAction(new p.SyncActionDescriptor(l.ScrollUpTerminalAction,l.ScrollUpTerminalAction.ID,l.ScrollUpTerminalAction.LABEL,{primary:32784,linux:{primary:49168}},a.KEYBINDING_CONTEXT_TERMINAL_FOCUS),"Terminal: Scroll Up (Line)",_),C.registerWorkbenchAction(new p.SyncActionDescriptor(l.ScrollUpPageTerminalAction,l.ScrollUpPageTerminalAction.ID,l.ScrollUpPageTerminalAction.LABEL,{primary:16395,mac:{primary:11}},a.KEYBINDING_CONTEXT_TERMINAL_FOCUS),"Terminal: Scroll Up (Page)",_),C.registerWorkbenchAction(new p.SyncActionDescriptor(l.ScrollToTopTerminalAction,l.ScrollToTopTerminalAction.ID,l.ScrollToTopTerminalAction.LABEL,{primary:32782,linux:{primary:16398}},a.KEYBINDING_CONTEXT_TERMINAL_FOCUS),"Terminal: Scroll to Top",_),C.registerWorkbenchAction(new p.SyncActionDescriptor(l.ClearTerminalAction,l.ClearTerminalAction.ID,l.ClearTerminalAction.LABEL,{primary:32809},a.KEYBINDING_CONTEXT_TERMINAL_FOCUS,y.KeybindingsRegistry.WEIGHT.workbenchContrib(1)),"Terminal: Clear",_)}),define(l[269],h([1,0,2,21,1250,1251,312,117,30,1252]),function(e,t,n,i,r,o,s,a,c,u){"use strict";function l(e){var t;return new n.TPromise(function(n,a){var h=s.parse(e.url),d="https:"===h.protocol?r.request:o.request,p={hostname:h.hostname,port:h.port?parseInt(h.port):"https:"===h.protocol?443:80,path:h.path,method:e.type||"GET",headers:e.headers,agent:e.agent,rejectUnauthorized:!i.isBoolean(e.strictSSL)||e.strictSSL};e.user&&e.password&&(p.auth=e.user+":"+e.password),t=d(p,function(t){var r=i.isNumber(e.followRedirects)?e.followRedirects:3;if(t.statusCode>=300&&t.statusCode<400&&r>0&&t.headers.location)l(c.assign({},e,{url:t.headers.location,followRedirects:r-1})).done(n,a);else{var o=t;"gzip"===t.headers["content-encoding"]&&(o=o.pipe(u.createGunzip())),n({res:t,stream:o})}}),t.on("error",a),e.timeout&&t.setTimeout(e.timeout),e.data&&t.write(e.data),t.end()},function(){return t&&t.abort()})}function h(e){return e.res.statusCode>=200&&e.res.statusCode<300||1223===e.res.statusCode}function d(e){return 204===e.res.statusCode}function p(e,t){return new n.TPromise(function(n,i){var r=a.createWriteStream(e);r.once("finish",function(){return n(null)}),t.stream.once("error",i),t.stream.pipe(r)})}function f(e){return new n.Promise(function(t,n){if(!h(e))return n("Server returned "+e.res.statusCode);if(d(e))return t(null);var i=[];e.stream.on("data",function(e){return i.push(e)}),e.stream.on("end",function(){return t(i.join(""))}),e.stream.on("error",n)})}function g(e){return new n.Promise(function(t,n){if(!h(e))return n("Server returned "+e.res.statusCode);if(d(e))return t(null);if(!/application\/json/.test(e.res.headers["content-type"]))return n("Response doesn't appear to be JSON");var i=[];e.stream.on("data",function(e){return i.push(e)}),e.stream.on("end",function(){return t(JSON.parse(i.join("")))}),e.stream.on("error",n)})}t.request=l,t.download=p,t.asText=f,t.asJson=g}),define(l[1019],h([1,0,440,107,70,2,35,7,375,156,88,379,30,199,19,269,25,132,61,380,754]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,m,y,b,S,E,_){"use strict";function C(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return String(e.reduce(function(e,t){return e|t},0))}function w(e,t){var n=(e||[]).filter(function(e){return e.statisticName===t})[0];return n?n.value:0}function I(t,n){var i=t.files.filter(function(e){return e.assetType===n})[0];if(!i){if(n===k.Icon){var r=e.toUrl("./media/defaultIcon.png");return{uri:r,fallbackUri:r}}return null}return n===k.VSIX?{uri:t.fallbackAssetUri+"/"+n+"?redirect=true&install=true",fallbackUri:t.fallbackAssetUri+"/"+n+"?install=true"}:{uri:t.assetUri+"/"+n,fallbackUri:t.fallbackAssetUri+"/"+n}}function T(e){var t=e.properties?e.properties.filter(function(e){return e.key===P.Dependency}):[],n=t.length>0&&t[0].value;return n?n.split(","):[]}function x(e){var t=e.properties?e.properties.filter(function(e){return e.key===P.Engine}):[];return t.length>0&&t[0].value||""}function A(e,t){var n=e.versions[0],i={manifest:I(n,k.Manifest),readme:I(n,k.Details),changelog:I(n,k.Changelog),download:I(n,k.VSIX),icon:I(n,k.Icon),license:I(n,k.License)};return{id:e.extensionId,name:e.extensionName,version:n.version,date:n.lastUpdated,displayName:e.displayName,publisherId:e.publisher.publisherId,publisher:e.publisher.publisherName,publisherDisplayName:e.publisher.displayName,description:e.shortDescription||"",installCount:w(e.statistics,"install"),rating:w(e.statistics,"averagerating"),ratingCount:w(e.statistics,"ratingcount"),assets:i,properties:{dependencies:T(n),engine:x(n)}}}var D;!function(e){e[e.None=0]="None",e[e.IncludeVersions=1]="IncludeVersions",e[e.IncludeFiles=2]="IncludeFiles",e[e.IncludeCategoryAndTags=4]="IncludeCategoryAndTags",e[e.IncludeSharedAccounts=8]="IncludeSharedAccounts",e[e.IncludeVersionProperties=16]="IncludeVersionProperties",e[e.ExcludeNonValidated=32]="ExcludeNonValidated",e[e.IncludeInstallationTargets=64]="IncludeInstallationTargets",e[e.IncludeAssetUri=128]="IncludeAssetUri",e[e.IncludeStatistics=256]="IncludeStatistics",e[e.IncludeLatestVersionOnly=512]="IncludeLatestVersionOnly",e[e.Unpublished=4096]="Unpublished"}(D||(D={}));var L;!function(e){e[e.Tag=1]="Tag",e[e.ExtensionId=4]="ExtensionId",e[e.Category=5]="Category",e[e.ExtensionName=7]="ExtensionName",e[e.Target=8]="Target",e[e.Featured=9]="Featured",e[e.SearchText=10]="SearchText",e[e.ExcludeWithFlags=12]="ExcludeWithFlags"}(L||(L={}));var k={Icon:"Microsoft.VisualStudio.Services.Icons.Default",Details:"Microsoft.VisualStudio.Services.Content.Details",Changelog:"Microsoft.VisualStudio.Services.Content.Changelog",Manifest:"Microsoft.VisualStudio.Code.Manifest",VSIX:"Microsoft.VisualStudio.Services.VSIXPackage",License:"Microsoft.VisualStudio.Services.Content.License"},P={Dependency:"Microsoft.VisualStudio.Code.ExtensionDependencies",Engine:"Microsoft.VisualStudio.Code.Engine"},R=10,O={pageNumber:1,pageSize:R,sortBy:l.SortBy.NoneOrRelevance,sortOrder:l.SortOrder.Default,flags:D.None,criteria:[],assetTypes:[]},M=function(){function e(e){void 0===e&&(e=O),this.state=e}return Object.defineProperty(e.prototype,"pageNumber",{get:function(){return this.state.pageNumber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageSize",{get:function(){return this.state.pageSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortBy",{get:function(){return this.state.sortBy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortOrder",{get:function(){return this.state.sortOrder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this.state.flags},enumerable:!0,configurable:!0}),e.prototype.withPage=function(t,n){return void 0===n&&(n=this.state.pageSize),new e(d.assign({},this.state,{pageNumber:t,pageSize:n}))},e.prototype.withFilter=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=this.state.criteria.concat(n.map(function(e){return{filterType:t,value:e}}));return new e(d.assign({},this.state,{criteria:r}))},e.prototype.withSortBy=function(t){return new e(d.assign({},this.state,{sortBy:t}))},e.prototype.withSortOrder=function(t){return new e(d.assign({},this.state,{sortOrder:t}))},e.prototype.withFlags=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];return new e(d.assign({},this.state,{flags:t.reduce(function(e,t){return e|t},0)}))},e.prototype.withAssetTypes=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];return new e(d.assign({},this.state,{assetTypes:t}))},Object.defineProperty(e.prototype,"raw",{get:function(){var e=this.state,t=e.criteria,n=e.pageNumber,i=e.pageSize,r=e.sortBy,o=e.sortOrder,s=e.flags,a=e.assetTypes,c=[{criteria:t,pageNumber:n,pageSize:i,sortBy:r,sortOrder:o}];return{filters:c,assetTypes:a,flags:s}},enumerable:!0,configurable:!0}),e}(),N=function(){function e(e,t,n){this.requestService=e,this.telemetryService=t,this.configurationService=n;var i=S.default.extensionsGallery;this.extensionsGalleryUrl=i&&i.serviceUrl}return Object.defineProperty(e.prototype,"commonHTTPHeaders",{get:function(){return _.getCommonHTTPHeaders()},enumerable:!0,configurable:!0}),e.prototype.api=function(e){return void 0===e&&(e=""),""+this.extensionsGalleryUrl+e},e.prototype.isEnabled=function(){return!!this.extensionsGalleryUrl},e.prototype.getRequestHeaders=function(){return this.commonHTTPHeaders},e.prototype.query=function(e){var t=this;if(void 0===e&&(e={}),!this.isEnabled())return o.TPromise.wrapError(new Error("No extension gallery service configured."));var n=e.names?"ids":e.text?"text":"all",i=e.text||"",r=d.getOrDefault(e,function(e){return e.pageSize},50);this.telemetryService.publicLog("galleryService:query",{type:n,text:i});var s=(new M).withFlags(D.IncludeLatestVersionOnly,D.IncludeAssetUri,D.IncludeStatistics,D.IncludeFiles,D.IncludeVersionProperties).withPage(1,r).withFilter(L.Target,"Microsoft.VisualStudio.Code").withFilter(L.ExcludeWithFlags,C(D.Unpublished)).withAssetTypes(k.Icon,k.License,k.Details,k.Manifest,k.VSIX,k.Changelog);return s=i?s.withFilter(L.SearchText,i).withSortBy(l.SortBy.NoneOrRelevance):e.ids?s.withFilter.apply(s,[L.ExtensionId].concat(e.ids)):e.names?s.withFilter.apply(s,[L.ExtensionName].concat(e.names)):s.withSortBy(l.SortBy.InstallCount),"number"==typeof e.sortBy&&(s=s.withSortBy(e.sortBy)),"number"==typeof e.sortOrder&&(s=s.withSortOrder(e.sortOrder)),this.queryGallery(s).then(function(e){var n=e.galleryExtensions,i=e.total,r=n.map(function(e){return A(e,t.extensionsGalleryUrl)}),o=s.pageSize,a=function(e){return t.queryGallery(s.withPage(e+1)).then(function(e){var n=e.galleryExtensions;return n.map(function(e){return A(e,t.extensionsGalleryUrl)})})};return{firstPage:r,total:i,pageSize:o,getPage:a}})},e.prototype.queryGallery=function(e){var t=this;return this.commonHTTPHeaders.then(function(n){var i=JSON.stringify(e.raw);return n=d.assign({},n,{"Content-Type":"application/json",Accept:"application/json;api-version=3.0-preview.1","Accept-Encoding":"gzip","Content-Length":i.length}),t.requestService.request({type:"POST",url:t.api("/extensionquery"),data:i,headers:n})}).then(function(e){return m.asJson(e)}).then(function(e){var t=e.results[0],n=t.extensions,i=t.resultMetadata&&t.resultMetadata.filter(function(e){return"ResultCount"===e.metadataType})[0],r=i&&i.metadataItems.filter(function(e){return"TotalCount"===e.name})[0].count||0;return{galleryExtensions:n,total:r}})},e.prototype.download=function(e){var t=this;return this.loadCompatibleVersion(e).then(function(e){var n=r.join(i.tmpdir(),e.id),o=h.getGalleryExtensionTelemetryData(e),s=(new Date).getTime(),a=function(e){return t.telemetryService.publicLog("galleryService:downloadVSIX",d.assign(o,{duration:e}))};return t.getAsset(e.assets.download).then(function(e){return m.download(n,e)}).then(function(){return a((new Date).getTime()-s)}).then(function(){return n})})},e.prototype.getReadme=function(e){return this.getAsset(e.assets.readme).then(m.asText)},e.prototype.getManifest=function(e){return this.getAsset(e.assets.manifest).then(m.asText).then(JSON.parse)},e.prototype.getChangelog=function(e){return this.getAsset(e.assets.changelog).then(m.asText)},e.prototype.getAllDependencies=function(e){var t=this;return this.loadCompatibleVersion(e).then(function(n){return t.getDependenciesReccursively(n.properties.dependencies,[],e)})},e.prototype.loadCompatibleVersion=function(e){var t=this;if(e.properties.engine&&this.isEngineValid(e.properties.engine))return o.TPromise.wrap(e);var i=(new M).withFlags(D.IncludeVersions,D.IncludeFiles,D.IncludeVersionProperties).withPage(1,1).withFilter(L.Target,"Microsoft.VisualStudio.Code").withFilter(L.ExcludeWithFlags,C(D.Unpublished)).withAssetTypes(k.Manifest,k.VSIX).withFilter(L.ExtensionId,e.id);return this.queryGallery(i).then(function(i){var r=i.galleryExtensions,s=r[0];return s?t.getLastValidExtensionVersion(s,s.versions).then(function(t){return e.properties.dependencies=T(t),e.properties.engine=x(t),e.assets.download=I(t,k.VSIX),e.version=t.version,e}):o.TPromise.wrapError(new Error(n.localize(0,null)))})},e.prototype.loadDependencies=function(e){var t=this;e=e.filter(function(e){return l.EXTENSION_IDENTIFIER_REGEX.test(e)});var n=(i=(new M).withFlags(D.IncludeLatestVersionOnly,D.IncludeAssetUri,D.IncludeStatistics,D.IncludeFiles,D.IncludeVersionProperties).withPage(1,e.length).withFilter(L.Target,"Microsoft.VisualStudio.Code").withFilter(L.ExcludeWithFlags,C(D.Unpublished)).withAssetTypes(k.Icon,k.License,k.Details,k.Manifest,k.VSIX)).withFilter.apply(i,[L.ExtensionName].concat(e));return this.queryGallery(n).then(function(e){for(var n=[],i=[],r=0,o=e.galleryExtensions;r<o.length;r++){var s=o[r];i.indexOf(s.extensionId)===-1&&(n.push(A(s,t.extensionsGalleryUrl)),i.push(s.extensionId))}return n});var i},e.prototype.getDependenciesReccursively=function(t,n,i){var r=this;return t&&t.length?(t.indexOf(i.publisher+"."+i.name)!==-1&&n.indexOf(i)===-1&&n.push(i),t=n.length?t.filter(function(t){return!e.hasExtensionByName(n,t)}):t,t.length?this.loadDependencies(t).then(function(t){for(var o=new u.ArraySet,a=0,c=t;a<c.length;a++){var l=c[a];l.properties.dependencies&&l.properties.dependencies.forEach(function(e){return o.set(e)})}n=s.distinct(n.concat(t),function(e){return e.id});var h=o.elements.filter(function(t){return!e.hasExtensionByName(n,t)});return r.getDependenciesReccursively(h,n,i)}):o.TPromise.wrap(n)):o.TPromise.wrap(n)},e.prototype.getAsset=function(e,t){var n=this;void 0===t&&(t={});var i={type:"GET"};return this.commonHTTPHeaders.then(function(r){r=d.assign({},r,t.headers||{}),t=d.assign({},t,i,{headers:r});var s=d.assign({},t,{url:e.uri});return n.requestService.request(s).then(function(e){return 200===e.res.statusCode?e:o.TPromise.wrapError("expected 200")}).then(null,function(i){n.telemetryService.publicLog("galleryService:requestError",{cdn:!0,message:a.getErrorMessage(i)}),n.telemetryService.publicLog("galleryService:cdnFallback",{url:e.uri});var r=d.assign({},t,{url:e.fallbackUri});return n.requestService.request(r).then(null,function(e){return n.telemetryService.publicLog("galleryService:requestError",{cdn:!1,message:a.getErrorMessage(e)}),o.TPromise.wrapError(e)})})})},e.prototype.getLastValidExtensionVersion=function(e,t){var n=this.getLastValidExtensionVersionFromProperties(e,t);return n?n:this.getLastValidExtensionVersionReccursively(e,t)},e.prototype.getLastValidExtensionVersionFromProperties=function(e,t){for(var n=0,i=t;n<i.length;n++){var r=i[n],s=x(r);if(!s)return null;if(this.isEngineValid(s))return o.TPromise.wrap(r)}return null},e.prototype.getLastValidExtensionVersionReccursively=function(e,t){var i=this;if(!t.length)return o.TPromise.wrapError(new Error(n.localize(1,null,e.displayName||e.extensionName)));var r=t[0],s=I(r,k.Manifest),a={"Accept-Encoding":"gzip"};return this.getAsset(s,{headers:a}).then(function(e){return m.asJson(e)}).then(function(n){var o=n.engines.vscode;return i.isEngineValid(o)?(r.properties=r.properties||[],r.properties.push({key:P.Engine,value:n.engines.vscode}),r):i.getLastValidExtensionVersionReccursively(e,t.slice(1))})},e.prototype.isEngineValid=function(e){return"*"===e||E.isVersionValid(b.default.version,e)},e.hasExtensionByName=function(e,t){for(var n=0,i=e;n<i.length;n++){var r=i[n];if(r.publisher+"."+r.name===t)return!0}return!1},g([c.memoize],e.prototype,"commonHTTPHeaders",null),e=g([v(0,p.IRequestService),v(1,f.ITelemetryService),v(2,y.IConfigurationService)],e)}();t.ExtensionGalleryService=N}),define(l[1079],h([1,0,30,269,975,25]),function(e,t,n,i,r,o){"use strict";var s=function(){function e(e){this.disposables=[],this.configure(e.getConfiguration()),e.onDidUpdateConfiguration(this.onDidUpdateConfiguration,this,this.disposables)}return e.prototype.onDidUpdateConfiguration=function(e){this.configure(e.config)},e.prototype.configure=function(e){this.proxyUrl=e.http&&e.http.proxy,this.strictSSL=e.http&&e.http.proxyStrictSSL,this.authorization=e.http&&e.http.proxyAuthorization},e.prototype.request=function(e,t){void 0===t&&(t=i.request);var o=this,s=o.proxyUrl,a=o.strictSSL;return e.agent=e.agent||r.getProxyAgent(e.url,{proxyUrl:s,strictSSL:a}),e.strictSSL=a,this.authorization&&(e.headers=n.assign(e.headers||{},{"Proxy-Authorization":this.authorization})),t(e)},e=g([v(0,o.IConfigurationService)],e)}();t.RequestService=s}),define(l[1015],h([1,0,2,1121,1079]),function(e,t,n,i,r){"use strict";function o(e,t){if(t.headers)e:for(var n in t.headers){switch(n){case"User-Agent":case"Accept-Encoding":case"Content-Length":continue e}e.setRequestHeader(n,t.headers[n])}}function s(e){for(var t=Object.create(null),n=0,i=e.getAllResponseHeaders().split(/\r\n|\n|\r/g);n<i.length;n++){var r=i[n];if(r){var o=r.indexOf(":");t[r.substr(0,o).trim().toLowerCase()]=r.substr(o+1).trim()}}return t}var a=function(e){function n(){e.apply(this,arguments)}return d(n,e),n.prototype.request=function(n){return e.prototype.request.call(this,n,t.xhrRequest)},n}(r.RequestService);t.RequestService=a;var c=function(e){function t(t){e.call(this),this._buffer=new Buffer(new Uint8Array(t)),this._offset=0,this._length=this._buffer.length}return d(t,e),t.prototype._read=function(e){this._offset<this._length?(this.push(this._buffer.slice(this._offset,this._offset+e)),this._offset+=e):this.push(null)},t}(i.Readable);t.xhrRequest=function(e){var t=new XMLHttpRequest;return new n.TPromise(function(n,i){return t.open(e.type||"GET",e.url,!0,e.user,e.password),o(t,e),t.responseType="arraybuffer",t.onerror=i,t.onload=function(e){n({res:{statusCode:t.status,headers:s(t)},stream:new c(t.response)})},t.send(e.data),null},function(){t.abort()})}}),define(l[1004],h([1,0,489,13,29,8,148,5,7,97,61,132,844,129,283,1085,19,358,359,796,795,1243,1210,1086,122,63,861,862,1217,199,1015,25,1157,1216,1135,743,40,799,665,62,794,196,337,159,376,38,113,736,39,47,69,128,51,18,748,144,90,34,731,26,75,251,54,56,898,899,80,1221,110,863,856,643,88,869,857,231,860,370,298,641,167,401,83,107,755,752]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,g,v,m,y,b,S,E,_,C,w,I,T,x,A,D,L,k,P,R,O,M,N,F,W,V,B,H,z,U,G,K,j,q,$,Y,X,Q,Z,J,ee,te,ne,ie,re,oe,se,ae,ce,ue,le,he,de,pe,fe,ge,ve,me,ye,be,Se,Ee,_e,Ce,we,Ie,Te,xe,Ae,De){"use strict";var Le=window.MonacoEnvironment.timers,ke=function(){function e(e,t,n,i){this.container=e,this.workspace=t,this.options=i,this.contextService=n.contextService,this.eventService=n.eventService,this.configurationService=n.configurationService,this.environmentService=n.environmentService,this.toUnbind=[],this.previousErrorTime=0}return e.prototype.createContents=function(e){var t=this;s.setARIAContainer(document.body);var n=r.$(e).div(),i=this.initServiceCollection(e.getHTMLElement()),o=i[0],a=i[1];l.default.crashReporter&&o.createInstance(le.CrashReporter,l.default.crashReporter),this.workbench=o.createInstance(f.Workbench,e.getHTMLElement(),n.getHTMLElement(),this.workspace,this.options,a),this.workbench.startup({onWorkbenchStarted:function(e){t.onWorkbenchStarted(e),o.createInstance(he.NodeCachedDataManager)}}),this.workbench.getInstantiationService().createInstance(_.ElectronIntegration).integrate(this.container);var c=setTimeout(function(){console.warn("Workbench did not finish loading in 10 seconds, that might be a problem that should be reported.")},1e4);return this.workbench.joinCreation().then(function(){clearTimeout(c)}),n},e.prototype.onWorkbenchStarted=function(e){var t=this;p.start(p.Topic.STARTUP,"[renderer] overall workbench load",Le.perfBeforeWorkbenchOpen,"Workbench has opened after this event with viewlet and editor restored").stop();var r=this.options,o=r.filesToOpen,s=r.filesToCreate,a=r.filesToDiff;this.telemetryService.publicLog("workspaceLoad",{userAgent:navigator.userAgent,windowSize:{innerHeight:window.innerHeight,innerWidth:window.innerWidth,outerHeight:window.outerHeight,outerWidth:window.outerWidth},emptyWorkbench:!this.contextService.getWorkspace(),"workbench.filesToOpen":o&&o.length||void 0,"workbench.filesToCreate":s&&s.length||void 0,"workbench.filesToDiff":a&&a.length||void 0,customKeybindingsCount:e.customKeybindingsCount,theme:this.themeService.getColorTheme(),language:i.language,experiments:this.telemetryService.getExperiments(),pinnedViewlets:e.pinnedViewlets});var c=Date.now();Le.workbenchStarted=new Date(c),this.extensionService.onReady().done(function(){var n,i,r,o,s,a,u,l=Date.now(),h=!!Le.isInitialStartup,d=h?Le.perfStartTime:Le.perfWindowLoadTime;try{n=De.totalmem(),i=De.freemem(),o=De.platform(),s=De.release(),a=De.loadavg(),u=process.getProcessMemoryInfo();var p=De.cpus();p&&p.length>0&&(r={count:p.length,speed:p[0].speed,model:p[0].model})}catch(e){console.error(e)}var f={version:1,ellapsed:Math.round(c-d),timers:{ellapsedExtensions:Math.round(Le.perfAfterExtensionLoad-Le.perfBeforeExtensionLoad),ellapsedExtensionsReady:Math.round(Le.perfAfterExtensionLoad-d),ellapsedRequire:Math.round(Le.perfAfterLoadWorkbenchMain-Le.perfBeforeLoadWorkbenchMain),ellapsedViewletRestore:Math.round(e.restoreViewletDuration),ellapsedEditorRestore:Math.round(e.restoreEditorsDuration),ellapsedWorkbench:Math.round(c-Le.perfBeforeWorkbenchOpen),ellapsedWindowLoadToRequire:Math.round(Le.perfBeforeLoadWorkbenchMain-Le.perfWindowLoadTime),ellapsedTimersToTimersComputed:Date.now()-l},platform:o,release:s,totalmem:n,freemem:i,meminfo:u,cpus:r,loadavg:a,initialStartup:h,hasAccessibilitySupport:!!Le.hasAccessibilitySupport,emptyWorkbench:!t.contextService.getWorkspace()};h&&(f.timers.ellapsedWindowLoad=Math.round(Le.perfWindowLoadTime-Le.perfStartTime)),t.telemetryService.publicLog("startupTime",f),Le.fingerprint=f});var u=this.workbench.getInstantiationService().createInstance(C.WorkspaceStats);u.reportWorkspaceTags(this.options),u.reportCloudStats(),(i.isLinux||i.isMacintosh)&&0===process.getuid()&&this.messageService.show(J.Severity.Warning,n.localize(0,null))},e.prototype.initServiceCollection=function(e){var t=this,i=new a.Disposables,r=new ve.Client(String("window"+Ae.remote.getCurrentWindow().id));i.add(r);var o=new j.ServiceCollection;o.set(Y.IEventService,this.eventService),o.set(oe.IWorkspaceContextService,this.contextService),o.set(k.IConfigurationService,this.configurationService),o.set(Z.IEnvironmentService,this.environmentService);var s=new q.InstantiationService(o,(!0)),u=s,f=u.createInstance(w.WindowIPCService);o.set(w.IWindowIPCService,f);var _=r.getChannel("windows"),C=new T.WindowsChannelClient(_);o.set(I.IWindowsService,C);var le=new x.WindowService(f.getWindowId(),C);o.set(I.IWindowService,le);var he=ge.connect(this.environmentService.sharedIPCHandle,"window:"+f.getWindowId());he.done(function(e){e.registerChannel("choice",new ee.ChoiceChannel(t.messageService)),e.onClose(function(){t.messageService.show(J.Severity.Error,{message:n.localize(1,null),actions:[u.createInstance(Te.ReloadWindowAction,Te.ReloadWindowAction.ID,Te.ReloadWindowAction.LABEL)]})})},c.onUnexpectedError);var De=this.environmentService.extensionTestsPath||!this.workspace&&!this.environmentService.isExtensionDevelopment;if(this.storageService=u.createInstance(g.StorageService,window.localStorage,De?g.inMemoryLocalStorageInstance:window.localStorage),o.set(K.IStorageService,this.storageService),this.environmentService.isBuilt&&!this.environmentService.isExtensionDevelopment&&l.default.enableTelemetry){var ke=fe.getDelayedChannel(he.then(function(e){return e.getChannel("telemetryAppender")})),Pe=l.default.commit,Re=h.default.version,Oe={appender:new m.TelemetryAppenderClient(ke),commonProperties:E.resolveWorkbenchCommonProperties(this.storageService,Pe,Re),piiPaths:[this.environmentService.appRoot,this.environmentService.extensionsPath],experiments:v.loadExperiments(this.contextService,this.storageService,this.configurationService)},Me=u.createInstance(y.TelemetryService,Oe);this.telemetryService=Me;var Ne=new S.default(Me),Fe=new b.IdleMonitor(12e4),We=Fe.onStatusChange(function(e){return t.telemetryService.publicLog(e===b.UserStatus.Active?y.TelemetryService.IDLE_STOP_EVENT_NAME:y.TelemetryService.IDLE_START_EVENT_NAME)});i.add(Me,Ne,We,Fe)}else v.NullTelemetryService._experiments=v.loadExperiments(this.contextService,this.storageService,this.configurationService),this.telemetryService=v.NullTelemetryService;o.set(v.ITelemetryService,this.telemetryService),i.add(v.configurationTelemetry(this.telemetryService,this.configurationService)),this.messageService=u.createInstance(A.MessageService,e),o.set(J.IMessageService,this.messageService),o.set(J.IChoiceService,this.messageService);var Ve=u.createInstance(R.LifecycleService);this.toUnbind.push(Ve.onShutdown(function(e){return i.dispose()})),o.set(X.ILifecycleService,Ve),i.add(v.lifecycleTelemetry(this.telemetryService,Ve));var Be=fe.getDelayedChannel(he.then(function(e){return e.getChannel("extensions")})),He=new me.ExtensionManagementChannelClient(Be);o.set(ye.IExtensionManagementService,He);var ze=u.createInstance(be.ExtensionEnablementService);o.set(ye.IExtensionEnablementService,ze),i.add(ze);var Ue=u.createInstance(xe.ExtensionHostProcessWorker);this.threadService=u.createInstance(O.MainThreadService,Ue.messagingProtocol),o.set(ne.IThreadService,this.threadService);var Ge=p.start(p.Topic.STARTUP,"[renderer] create extension host => extensions onReady()");Le.perfBeforeExtensionLoad=new Date,this.extensionService=u.createInstance(G.MainProcessExtensionService),o.set(se.IExtensionService,this.extensionService),Ue.start(this.extensionService),this.extensionService.onReady().done(function(){Ge.stop(),Le.perfAfterExtensionLoad=new Date}),o.set(ie.ICommandService,new re.CommandService(u,this.extensionService)),this.contextViewService=u.createInstance(d.ContextViewService,this.container),o.set($.IContextViewService,this.contextViewService);var Ke=u.createInstance(L.RequestService);o.set(D.IRequestService,Ke);var je=u.createInstance(M.MarkerService);o.set(Q.IMarkerService,je);var qe=u.createInstance(ae.MainThreadModeServiceImpl);o.set(ce.IModeService,qe);var $e=u.createInstance(F.ModelServiceImpl);o.set(N.IModelService,$e);var Ye=u.createInstance(z.EditorWorkerServiceImpl);o.set(U.IEditorWorkerService,Ye);var Xe=u.createInstance(ue.UntitledEditorService);o.set(ue.IUntitledEditorService,Xe),this.themeService=u.createInstance(pe.ThemeService),o.set(de.IThemeService,this.themeService);var Qe=u.createInstance(P.SearchService);o.set(te.ISearchService,Qe);var Ze=s.createInstance(W.CodeEditorServiceImpl);o.set(V.ICodeEditorService,Ze);var Je=u.createInstance(B.IntegrityServiceImpl);o.set(H.IIntegrityService,Je);var et=r.getChannel("update"),tt=new Se.UpdateChannelClient(et);o.set(Ee.IUpdateService,tt);var nt=r.getChannel("url"),it=new _e.URLChannelClient(nt,f.getWindowId());o.set(Ce.IURLService,it);var rt=r.getChannel("backup"),ot=new Ie.BackupChannelClient(rt);return o.set(we.IBackupService,ot),[s,o]},e.prototype.open=function(){var e=this;c.setUnexpectedErrorHandler(function(t){e.onUnexpectedError(t)}),r.$(this.container).addClass("monaco-shell"),this.content=r.$(".monaco-shell-content").appendTo(this.container).getHTMLElement(),this.writeTimers(),this.contentsContainer=this.createContents(r.$(this.content)),this.layout(),this.registerListeners(),this.themeService.initialize(this.container).then(null,function(e){c.onUnexpectedError(e)})},e.prototype.registerListeners=function(){var e=this;r.$(window).on(o.EventType.RESIZE,function(){return e.layout()},this.toUnbind)},e.prototype.writeTimers=function(){var e=[];Le.isInitialStartup&&Le.perfStartTime&&e.push({startTime:Le.perfStartTime,stopTime:Le.perfBeforeLoadWorkbenchMain,topic:"Startup",name:"[main] initial start => begin to require(workbench.main.js)",description:"Time spend in main process until we load JavaScript of the workbench"}),e.push({startTime:Le.perfBeforeLoadWorkbenchMain,stopTime:Le.perfAfterLoadWorkbenchMain,topic:"Startup",name:"[renderer] require(workbench.main.js)",description:"Time it takes to load VSCodes main modules"}),e.push({startTime:Le.perfBeforeDOMContentLoaded,stopTime:Le.perfAfterDOMContentLoaded,topic:"Startup",name:"[renderer] event DOMContentLoaded",description:"Time it takes for the DOM to emit DOMContentLoaded event"}),p.getTimeKeeper().setInitialCollectedEvents(e,Le.start)},e.prototype.onUnexpectedError=function(e){var t=u.toErrorMessage(e,!0);if(t){var n=Date.now();t===this.previousErrorValue&&n-this.previousErrorTime<=1e3||(this.previousErrorTime=n,this.previousErrorValue=t,console.error(t),e&&e.friendlyMessage&&this.messageService&&this.messageService.show(J.Severity.Error,e.friendlyMessage))}},e.prototype.layout=function(){var e=r.$(this.container).getClientArea(),t=new r.Dimension(e.width,e.height);this.contentsContainer.size(t.width,t.height),this.contextViewService.layout(),this.workbench.layout()},e.prototype.joinCreation=function(){return this.workbench.joinCreation()},e.prototype.dispose=function(){this.workbench&&this.workbench.dispose(),this.contextViewService.dispose(),this.toUnbind=a.dispose(this.toUnbind),r.$(this.container).empty()},e}();t.WorkbenchShell=ke}),define(l[887],h([1,0,487,2,1004,48,8,7,13,20,129,16,12,642,26,995,74,786,70,1258,83,117]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,g,v,m,y,b,S,E){"use strict";function _(e){o.setZoomFactor(S.webFrame.getZoomFactor()),o.setZoomLevel(S.webFrame.getZoomLevel()),o.setFullscreen(!!e.fullscreen);var t=e.filesToOpen&&e.filesToOpen.length?C(e.filesToOpen):null,n=e.filesToCreate&&e.filesToCreate.length?C(e.filesToCreate):null,i=e.filesToDiff&&e.filesToDiff.length?C(e.filesToDiff):null,r={filesToOpen:t,filesToCreate:n,filesToDiff:i};return e.performance&&(l.ENABLE_TIMER=!0),w(e.workspacePath).then(function(t){return I(e,t,r)})}function C(e,t){return e.map(function(e){var n={};return t?n.resource=h.default.from({scheme:"untitled",path:e.filePath}):n.resource=h.default.file(e.filePath),e.lineNumber&&(n.options={selection:{startLineNumber:e.lineNumber,startColumn:e.columnNumber}}),n})}function w(e){return e?v.realpath(e).then(function(e){u.isUNC(e)&&d.endsWith(e,u.nativeSep)&&(e=d.rtrim(e,u.nativeSep));var t=h.default.file(e),n=y.basename(e)||e;return v.stat(e).then(function(e){return{resource:t,name:n,uid:c.isLinux?e.ino:e.birthtime.getTime()
}})},function(e){return a.onUnexpectedError(e),null}):i.TPromise.as(null)}function I(e,t,n){var i=new p.EventService,o=new m.EnvironmentService(e,e.execPath),a=new f.WorkspaceContextService(t),c=new g.WorkspaceConfigurationService(a,i,o);return c.initialize().then(function(){return x.perfBeforeDOMContentLoaded=new Date,s.domContentLoaded().then(function(){x.perfAfterDOMContentLoaded=new Date,x.perfBeforeWorkbenchOpen=new Date;var e=new r.WorkbenchShell(document.body,t,{configurationService:c,eventService:i,contextService:a,environmentService:o},n);e.open(),self.require.config({onError:function(t){"load"===t.errorCode&&e.onUnexpectedError(T(t))}})})})}function T(e){return c.isWeb?new Error(n.localize(0,null)):new Error(n.localize(1,null,JSON.stringify(e)))}b.gracefulify(E);var x=window.MonacoEnvironment.timers;t.startup=_}),define(l[853],h([1,0,542,7,52,14,31,102,88,1019,37,1175,71,86,72,28,87,106,1001,162,402,280,65,1174,403,64,77,115,309,34,771]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p,f,g,v,m,y,b,S,E,_,C,w,I,T,x,A,D){"use strict";a.registerSingleton(c.IExtensionGalleryService,u.ExtensionGalleryService),a.registerSingleton(c.IExtensionTipsService,h.ExtensionTipsService),a.registerSingleton(m.IExtensionsWorkbenchService,y.ExtensionsWorkbenchService),o.Registry.as(d.Extensions.Workbench).registerWorkbenchContribution(w.StatusUpdater),o.Registry.as(p.Extensions.OutputChannels).registerChannel(c.ExtensionsChannelId,c.ExtensionsLabel),o.Registry.as(I.Extensions.Quickopen).registerQuickOpenHandler(new I.QuickOpenHandlerDescriptor("vs/workbench/parts/extensions/browser/extensionsQuickOpen","ExtensionsHandler","ext ",n.localize(0,null),(!0))),o.Registry.as(I.Extensions.Quickopen).registerQuickOpenHandler(new I.QuickOpenHandlerDescriptor("vs/workbench/parts/extensions/browser/extensionsQuickOpen","GalleryExtensionsHandler","ext install ",n.localize(1,null),(!0)));var L=new f.EditorDescriptor(C.ExtensionEditor.ID,n.localize(2,null),"vs/workbench/parts/extensions/browser/extensionEditor","ExtensionEditor");o.Registry.as(g.Extensions.Editors).registerEditor(L,[new v.SyncDescriptor(E.ExtensionsInput)]);var k=new _.ViewletDescriptor("vs/workbench/parts/extensions/electron-browser/extensionsViewlet","ExtensionsViewlet",m.VIEWLET_ID,n.localize(3,null),"extensions",100);o.Registry.as(_.Extensions.Viewlets).registerViewlet(k);var P=o.Registry.as(l.Extensions.WorkbenchActions),R=new s.SyncActionDescriptor(b.OpenExtensionsViewletAction,b.OpenExtensionsViewletAction.ID,b.OpenExtensionsViewletAction.LABEL,{primary:49206});P.registerWorkbenchAction(R,"View: Show Extensions",n.localize(4,null));var O=new s.SyncActionDescriptor(b.InstallExtensionsAction,b.InstallExtensionsAction.ID,b.InstallExtensionsAction.LABEL);P.registerWorkbenchAction(O,"Extensions: Install",c.ExtensionsLabel);var M=new s.SyncActionDescriptor(b.ShowOutdatedExtensionsAction,b.ShowOutdatedExtensionsAction.ID,b.ShowOutdatedExtensionsAction.LABEL);P.registerWorkbenchAction(M,"Extensions: Show Outdated Extensions",c.ExtensionsLabel);var N=new s.SyncActionDescriptor(b.ShowRecommendedExtensionsAction,b.ShowRecommendedExtensionsAction.ID,b.ShowRecommendedExtensionsAction.LABEL);P.registerWorkbenchAction(N,"Extensions: Show Recommended Extensions",c.ExtensionsLabel);var F=new s.SyncActionDescriptor(b.ShowRecommendedKeymapExtensionsAction,b.ShowRecommendedKeymapExtensionsAction.ID,b.ShowRecommendedKeymapExtensionsAction.SHORT_LABEL,{primary:r.KeyChord(32809,32811)});P.registerWorkbenchAction(F,"Preferences: Keymaps",c.PreferencesLabel);var W=new s.SyncActionDescriptor(b.ShowWorkspaceRecommendedExtensionsAction,b.ShowWorkspaceRecommendedExtensionsAction.ID,b.ShowWorkspaceRecommendedExtensionsAction.LABEL);P.registerWorkbenchAction(W,"Extensions: Show Workspace Recommended Extensions",c.ExtensionsLabel);var V=new s.SyncActionDescriptor(b.ShowPopularExtensionsAction,b.ShowPopularExtensionsAction.ID,b.ShowPopularExtensionsAction.LABEL);P.registerWorkbenchAction(V,"Extensions: Show Popular Extensions",c.ExtensionsLabel);var B=new s.SyncActionDescriptor(b.ShowInstalledExtensionsAction,b.ShowInstalledExtensionsAction.ID,b.ShowInstalledExtensionsAction.LABEL);P.registerWorkbenchAction(B,"Extensions: Show Installed Extensions",c.ExtensionsLabel);var H=new s.SyncActionDescriptor(b.ShowDisabledExtensionsAction,b.ShowDisabledExtensionsAction.ID,b.ShowDisabledExtensionsAction.LABEL);P.registerWorkbenchAction(H,"Extensions: Show Disabled Extensions",c.ExtensionsLabel);var z=new s.SyncActionDescriptor(b.UpdateAllAction,b.UpdateAllAction.ID,b.UpdateAllAction.LABEL);P.registerWorkbenchAction(z,"Extensions: Update All Extensions",c.ExtensionsLabel);var U=new s.SyncActionDescriptor(S.OpenExtensionsFolderAction,S.OpenExtensionsFolderAction.ID,S.OpenExtensionsFolderAction.LABEL);P.registerWorkbenchAction(U,"Extensions: Open Extensions Folder",c.ExtensionsLabel);var G=new s.SyncActionDescriptor(b.ConfigureWorkspaceRecommendedExtensionsAction,b.ConfigureWorkspaceRecommendedExtensionsAction.ID,b.ConfigureWorkspaceRecommendedExtensionsAction.LABEL);P.registerWorkbenchAction(G,"Extensions: Open Extensions File",c.ExtensionsLabel);var K=new s.SyncActionDescriptor(S.InstallVSIXAction,S.InstallVSIXAction.ID,S.InstallVSIXAction.LABEL);P.registerWorkbenchAction(K,"Extensions: Install from VSIX...",c.ExtensionsLabel);var j=new s.SyncActionDescriptor(b.DisableAllAction,b.DisableAllAction.ID,b.DisableAllAction.LABEL);P.registerWorkbenchAction(j,"Extensions: Disable All",c.ExtensionsLabel);var q=new s.SyncActionDescriptor(b.DisableAllWorkpsaceAction,b.DisableAllWorkpsaceAction.ID,b.DisableAllWorkpsaceAction.LABEL);P.registerWorkbenchAction(q,"Extensions: Disable All (Workspace)",c.ExtensionsLabel);var $=new s.SyncActionDescriptor(b.EnableAllAction,b.EnableAllAction.ID,b.EnableAllAction.LABEL);P.registerWorkbenchAction($,"Extensions: Enable All",c.ExtensionsLabel);var Y=new s.SyncActionDescriptor(b.EnableAllWorkpsaceAction,b.EnableAllWorkpsaceAction.ID,b.EnableAllWorkpsaceAction.LABEL);P.registerWorkbenchAction(Y,"Extensions: Enable All (Workspace)",c.ExtensionsLabel);var X=new s.SyncActionDescriptor(b.CheckForUpdatesAction,b.CheckForUpdatesAction.ID,b.CheckForUpdatesAction.LABEL);P.registerWorkbenchAction(X,"Extensions: "+b.CheckForUpdatesAction.LABEL,c.ExtensionsLabel),o.Registry.as(T.Extensions.Configuration).registerConfiguration({id:"extensions",order:30,title:n.localize(5,null),type:"object",properties:{"extensions.autoUpdate":{type:"boolean",description:n.localize(6,null),default:!1}}});var Q=o.Registry.as(x.Extensions.JSONContribution);Q.registerSchema(A.ExtensionsConfigurationSchemaId,A.ExtensionsConfigurationSchema),D.CommandsRegistry.registerCommand("_extensions.manage",function(e,t){var n=e.get(m.IExtensionsWorkbenchService),r=n.local.filter(function(e){return e.identifier===t});1===r.length&&n.open(r[0]).done(null,i.onUnexpectedError)})}),define(l[1029],h([1,0,625,32,2,24,18,132,61,16,22,6,332,199,269,36,52,152,131,38,231,233]),function(e,t,n,i,r,o,s,a,c,u,l,h,p,f,m,y,b,S,E,_,C,w){"use strict";function I(e,t){var i=e.get(f.IRequestService),o=e.get(y.IKeybindingService),s=/^(\d+\.\d)\./.exec(t);if(!s)return r.TPromise.as(null);var a=s[1].replace(/\./g,"_"),c="https://code.visualstudio.com/raw",u=c+"/v"+a+".md",l=n.localize(2,null),h=function(e){var t=function(e,t){var n=o.lookupKeybindings(t)[0];return n?o.getLabelFor(n):l},n=function(e,t){var n=S.KeybindingLabels.fromUserSettingsLabel(t);if(!n)return l;var i=new b.Keybinding(n);return i?o.getLabelFor(i):l};return e.replace(/kb\(([a-z.\d\-]+)\)/gi,t).replace(/kbstyle\(([^\)]+)\)/gi,n)};return i.request({url:u}).then(m.asText).then(function(e){return h(e)})}var T=function(e){function t(t){e.call(this,"update.applyUpdate",n.localize(0,null),null,!0),this.updateService=t}return d(t,e),t.prototype.run=function(){return this.updateService.quitAndInstall()},t=g([v(0,C.IUpdateService)],t)}(o.Action),x=new o.Action("update.later",n.localize(1,null),null,(!0),function(){return r.TPromise.as(!0)});t.loadReleaseNotes=I;var A=function(e){function t(t){e.call(this,"update.openLatestReleaseNotes",n.localize(3,null),null,!0),this.openerService=t}return d(t,e),t.prototype.run=function(){var e=u.default.parse(c.default.releaseNotesUrl);return this.openerService.open(e)},t=g([v(0,E.IOpenerService)],t)}(o.Action);t.OpenLatestReleaseNotesInBrowserAction=A;var D=function(e){function t(t,n,i,r,o,s,a){e.call(this,t,n,null,!0),this.returnValue=i,this.version=r,this.editorService=o,this.instantiationService=s,this.openerService=a}return d(t,e),t.prototype.run=function(){var e=this;return this.enabled?(this.enabled=!1,this.instantiationService.invokeFunction(I,this.version).then(function(t){return e.editorService.openEditor(e.instantiationService.createInstance(p.ReleaseNotesInput,e.version,t))}).then(function(){return!0}).then(null,function(){var t=e.instantiationService.createInstance(A);return t.run().then(function(){return!1})})):r.TPromise.as(!1)},t=g([v(4,l.IWorkbenchEditorService),v(5,h.IInstantiationService),v(6,E.IOpenerService)],t)}(o.Action);t.AbstractShowReleaseNotesAction=D;var L=function(e){function t(t,i,r,o,s){e.call(this,"update.showReleaseNotes",n.localize(4,null),t,i,r,o,s)}return d(t,e),t=g([v(2,l.IWorkbenchEditorService),v(3,h.IInstantiationService),v(4,E.IOpenerService)],t)}(D);t.ShowReleaseNotesAction=L;var k=function(e){function t(n,i,r,o,s){void 0===n&&(n=t.ID),void 0===i&&(i=t.LABEL),e.call(this,n,i,!0,a.default.version,r,o,s)}return d(t,e),t.ID="update.showCurrentReleaseNotes",t.LABEL=n.localize(5,null),t=g([v(2,l.IWorkbenchEditorService),v(3,h.IInstantiationService),v(4,E.IOpenerService)],t)}(D);t.ShowCurrentReleaseNotesAction=k;var P=function(e){function t(t,i){e.call(this,"update.download",n.localize(6,null),null,!0),this.url=t,this.updateService=i}return d(t,e),t.prototype.run=function(){return this.updateService.quitAndInstall()},t=g([v(1,C.IUpdateService)],t)}(o.Action);t.DownloadAction=P;var R=function(e,t,n){return new o.Action(e,t,null,(!0),function(){return window.open(n),r.TPromise.as(null)})},O=function(){function e(t,u,l,h,d){var f=t.get(e.KEY,_.StorageScope.GLOBAL,"");c.default.releaseNotesUrl&&f&&a.default.version!==f&&u.invokeFunction(I,a.default.version).then(function(e){return d.openEditor(u.createInstance(p.ReleaseNotesInput,a.default.version,e))},function(){l.show(s.Severity.Info,{message:n.localize(7,null,c.default.nameLong,a.default.version),actions:[u.createInstance(A),s.CloseAction]})}),
// should we show the new license?
c.default.licenseUrl&&f&&w.satisfies(f,"<1.0.0")&&w.satisfies(a.default.version,">=1.0.0")&&l.show(s.Severity.Info,{message:n.localize(8,null,c.default.nameLong,a.default.version),actions:[R("update.showLicense",n.localize(9,null),c.default.licenseUrl),s.CloseAction]});var g=t.getBoolean(e.INSIDER_KEY,_.StorageScope.GLOBAL,!0);g&&/-alpha$|-insider$/.test(a.default.version)&&l.show(s.Severity.Info,{message:n.localize(10,null,c.default.nameLong,a.default.version),actions:[new o.Action("update.insiderBuilds",n.localize(11,null),"",(!0),function(){return window.open("http://go.microsoft.com/fwlink/?LinkID=798816"),t.store(e.INSIDER_KEY,!1,_.StorageScope.GLOBAL),r.TPromise.as(null)}),new o.Action("update.neverAgain",n.localize(12,null),"",(!0),function(){return t.store(e.INSIDER_KEY,!1,_.StorageScope.GLOBAL),r.TPromise.as(null)}),s.CloseAction]}),t.store(e.KEY,a.default.version,_.StorageScope.GLOBAL),h.onUpdateReady(function(e){var t=u.createInstance(T),r=u.createInstance(L,!1,e.version);l.show(i.default.Info,{message:n.localize(13,null,c.default.nameLong),actions:[t,x,r]})}),h.onUpdateAvailable(function(e){var t=u.createInstance(P,e.version),r=u.createInstance(L,!1,e.version);l.show(i.default.Info,{message:n.localize(14,null),actions:[t,x,r]})}),h.onUpdateNotAvailable(function(e){e&&l.show(i.default.Info,n.localize(15,null))}),h.onError(function(e){return l.show(i.default.Error,e)})}return e.prototype.getId=function(){return"vs.update"},e.KEY="releaseNotes/lastVersion",e.INSIDER_KEY="releaseNotes/shouldShowInsiderDisclaimer",e=g([v(0,_.IStorageService),v(1,h.IInstantiationService),v(2,s.IMessageService),v(3,C.IUpdateService),v(4,l.IWorkbenchEditorService)],e)}();t.UpdateContribution=O}),define(l[874],h([1,0,626,14,71,1029,1109,332,72,28,87,37,31,77]),function(e,t,n,i,r,o,s,a,c,u,l,h,d,p){"use strict";i.Registry.as(r.Extensions.Workbench).registerWorkbenchContribution(o.UpdateContribution);var f=new c.EditorDescriptor(s.ReleaseNotesEditor.ID,n.localize(0,null),"vs/workbench/parts/update/electron-browser/releaseNotesEditor","ReleaseNotesEditor");i.Registry.as(u.Extensions.Editors).registerEditor(f,[new l.SyncDescriptor(a.ReleaseNotesInput)]),i.Registry.as(h.Extensions.WorkbenchActions).registerWorkbenchAction(new d.SyncActionDescriptor(o.ShowCurrentReleaseNotesAction,o.ShowCurrentReleaseNotesAction.ID,o.ShowCurrentReleaseNotesAction.LABEL),"Open Release Notes");var g=i.Registry.as(p.Extensions.Configuration);g.registerConfiguration({id:"update",order:15,title:n.localize(1,null),type:"object",properties:{"update.channel":{type:"string",enum:["none","default"],default:"default",description:n.localize(2,null)}}})}),define(l[1262],h([1,0,12,7,841,834,307,1054,868,768,350,1033,1032,1031,351,1034,1152,1028,1075,1057,1187,1181,1182,1188,1146,1196,1197,1106,1082,1192,1064,1190,1191,1212,1102,1167,1168,1049,355,1104,853,1177,403,1170,1172,1051,1148,1222,1107,283,1096,1062,1242,363,920,1043,1077,966,396,934,988,874,960,1036,1225,1220,887,1108,1215,1200]),function(e,t){"use strict"})}).call(this);
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/ee428b0eead68bf0fb99ab5fdc4439be227b6281/core/vs/workbench/electron-browser/workbench.main.js.map
